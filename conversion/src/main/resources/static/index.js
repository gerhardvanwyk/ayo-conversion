!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(){var t=Math.min,e=Math.max,n=Math.floor;return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/app/",e(e.s=32)}([function(t,e,n){"use strict";function i(t){return"[object Array]"===l.call(t)}function r(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function o(t){return"[object Function]"===l.call(t)}function a(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}var c=n(5),l=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===l.call(t)},isBuffer:function(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:r,isDate:function(t){return"[object Date]"===l.call(t)},isFile:function(t){return"[object File]"===l.call(t)},isBlob:function(t){return"[object Blob]"===l.call(t)},isFunction:o,isStream:function(t){return s(t)&&o(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:a,merge:function t(){function e(e,i){n[i]="object"==typeof n[i]&&"object"==typeof e?t(n[i],e):e}for(var n={},i=0,r=arguments.length;i<r;i++)a(arguments[i],e);return n},deepMerge:function t(){function e(e,i){n[i]="object"==typeof n[i]&&"object"==typeof e?t(n[i],e):"object"==typeof e?t({},e):e}for(var n={},i=0,r=arguments.length;i<r;i++)a(arguments[i],e);return n},extend:function(t,e,n){return a(e,(function(e,i){t[i]=n&&"function"==typeof e?c(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,i,r){"use strict";r.r(i),function(t,r){function s(t){return null==t}function o(t){return null!=t}function a(t){return!0===t}function c(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function l(t){return null!==t&&"object"==typeof t}function u(t){return"[object Object]"===li.call(t)}function d(t){var e=parseFloat(t+"");return 0<=e&&n(e)===e&&isFinite(t)}function h(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===li?JSON.stringify(t,null,2):t+""}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function v(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}function g(t,e){return hi.call(t,e)}function y(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function b(t,e){e=e||0;for(var n=t.length-e,i=Array(n);n--;)i[n]=t[n+e];return i}function x(t,e){for(var n in e)t[n]=e[n];return t}function V(t){for(var e={},n=0;n<t.length;n++)t[n]&&x(e,t[n]);return e}function S(){}function C(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!(n||i)&&t+""==e+"";try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,n){return C(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!r&&!s){var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(n){return C(t[n],e[n])}))}return!1}catch(e){return!1}}function k(t,e){for(var n=0;n<t.length;n++)if(C(t[n],e))return n;return-1}function w(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function O(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function $(t){return"function"==typeof t&&/native code/.test(t.toString())}function _(t){qi.push(t),Yi.target=t}function I(){qi.pop(),Yi.target=qi[qi.length-1]}function j(t){return new Xi(void 0,void 0,void 0,t+"")}function A(t){var e=new Xi(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}function D(t){er=t}function B(t,e){var n;if(l(t)&&!(t instanceof Xi))return g(t,"__ob__")&&t.__ob__ instanceof nr?n=t.__ob__:er&&!Ri()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new nr(t)),e&&n&&n.vmCount++,n}function P(t,e,n,i,r){var s=new Yi,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,c=o&&o.set;(!a||c)&&2===arguments.length&&(n=t[e]);var l=!r&&B(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return Yi.target&&(s.depend(),l&&(l.dep.depend(),Array.isArray(e)&&M(e))),e},set:function(e){var i=a?a.call(t):n;e!==i&&(e==e||i==i)&&(a&&!c||(c?c.call(t,e):n=e,l=!r&&B(e),s.notify()))}})}}function E(t,n,i){if(Array.isArray(t)&&d(n))return t.length=e(t.length,n),t.splice(n,1,i),i;if(n in t&&!(n in Object.prototype))return t[n]=i,i;var r=t.__ob__;return t._isVue||r&&r.vmCount?i:r?(P(r.value,n,i),r.dep.notify(),i):(t[n]=i,i)}function L(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||g(t,e)&&(delete t[e],n&&n.dep.notify())}}function M(t){for(var e=void 0,n=0,i=t.length;n<i;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&M(e)}function F(t,e){if(!e)return t;for(var n,i,r,s=Wi?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)"__ob__"!==(n=s[o])&&(i=t[n],r=e[n],g(t,n)?i!==r&&u(i)&&u(r)&&F(i,r):E(t,n,r));return t}function H(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?F(i,r):r}:e?t?function(){return F("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function N(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function R(t,e){var n=Object.create(t||null);return e?x(n,e):n}function z(t,e,n){function i(i){var r=ir[i]||sr;a[i]=r(t[i],e[i],n,i)}if("function"==typeof e&&(e=e.options),function(t){var e=t.props;if(e){var n,i,r={};if(Array.isArray(e))for(n=e.length;n--;)"string"!=typeof(i=e[n])||(r[pi(i)]={type:null});else if(u(e))for(var s in e)i=e[s],r[pi(s)]=u(i)?i:{type:i};t.props=r}}(e),function(t){var e=t.inject;if(e){var n=t.inject={};if(Array.isArray(e))for(var i=0;i<e.length;i++)n[e[i]]={from:e[i]};else if(u(e))for(var r in e){var s=e[r];n[r]=u(s)?x({from:r},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=z(t,e.extends,n)),e.mixins))for(var r=0,s=e.mixins.length;r<s;r++)t=z(t,e.mixins[r],n);var o,a={};for(o in t)i(o);for(o in e)g(t,o)||i(o);return a}function W(t,e,n){if("string"==typeof n){var i=t[e];if(g(i,n))return i[n];var r=pi(n);if(g(i,r))return i[r];var s=mi(r);return g(i,s)?i[s]:i[n]||i[r]||i[s]}}function G(t,e,n,i){var r=e[t],s=!g(n,t),o=n[t],a=q(Boolean,r.type);if(-1<a)if(s&&!g(r,"default"))o=!1;else if(""===o||o===gi(t)){var c=q(String,r.type);(0>c||a<c)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(g(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof i&&"Function"!==U(e.type)?i.call(t):i}}(i,r,t);var l=er;D(!0),B(o),D(l)}return o}function U(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Y(t,e){return U(t)===U(e)}function q(t,e){if(!Array.isArray(e))return Y(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Y(e[n],t))return n;return-1}function X(t,e,n){_();try{if(e)for(var i,r=e;r=r.$parent;)if(i=r.$options.errorCaptured)for(var s=0;s<i.length;s++)try{if(!1===i[s].call(r,t,e,n))return}catch(e){Z(e,r,"errorCaptured hook")}Z(t,e,n)}finally{I()}}function K(t,e,n,i,r){var s;try{(s=n?t.apply(e,n):t.call(e))&&!s._isVue&&h(s)&&!s._handled&&(s.catch((function(t){return X(t,i,r+" (Promise/async)")})),s._handled=!0)}catch(e){X(e,i,r)}return s}function Z(t,e,n){if(ki.errorHandler)try{return ki.errorHandler.call(null,t,e,n)}catch(n){n!==t&&J(n)}J(t)}function J(t){if(!$i&&!_i||"undefined"==typeof console)throw t;console.error(t)}function Q(){cr=!1;var t=ar.slice(0);ar.length=0;for(var e=0;e<t.length;e++)t[e]()}function tt(t,e){var n;if(ar.push((function(){if(t)try{t.call(e)}catch(t){X(t,e,"nextTick")}else n&&n(e)})),cr||(cr=!0,rr()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function et(t){(function t(e,n){var i,r,s=Array.isArray(e);if((s||l(e))&&!Object.isFrozen(e)&&!(e instanceof Xi)){if(e.__ob__){var o=e.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(s)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}})(t,fr),fr.clear()}function nt(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return K(i,null,arguments,e,"v-on handler");for(var r=i.slice(),s=0;s<r.length;s++)K(r[s],null,t,e,"v-on handler")}return n.fns=t,n}function it(t,e,n,i,r,o){var c,l,u,d;for(c in t)l=t[c],u=e[c],d=pr(c),s(l)||(s(u)?(s(l.fns)&&(l=t[c]=nt(l,o)),a(d.once)&&(l=t[c]=r(d.name,l,d.capture)),n(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)s(t[c])&&i((d=pr(c)).name,e[c],d.capture)}function rt(t,e,n){function i(){n.apply(this,arguments),v(r.fns,i)}t instanceof Xi&&(t=t.data.hook||(t.data.hook={}));var r,c=t[e];s(c)?r=nt([i]):o(c.fns)&&a(c.merged)?(r=c).fns.push(i):r=nt([c,i]),r.merged=!0,t[e]=r}function st(t,e,n,i,r){if(o(e)){if(g(e,n))return t[n]=e[n],r||delete e[n],!0;if(g(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function ot(t){return c(t)?[j(t)]:Array.isArray(t)?function t(e,n){var i,r,l,u,d=[];for(i=0;i<e.length;i++)!s(r=e[i])&&"boolean"!=typeof r&&(l=d.length-1,u=d[l],Array.isArray(r)?0<r.length&&(at((r=t(r,(n||"")+"_"+i))[0])&&at(u)&&(d[l]=j(u.text+r[0].text),r.shift()),d.push.apply(d,r)):c(r)?at(u)?d[l]=j(u.text+r):""!==r&&d.push(j(r)):at(r)&&at(u)?d[l]=j(u.text+r.text):(a(e._isVList)&&o(r.tag)&&s(r.key)&&o(n)&&(r.key="__vlist"+n+"_"+i+"__"),d.push(r)));return d}(t):void 0}function at(t){return o(t)&&o(t.text)&&function(t){return!1===t}(t.isComment)}function ct(t,e){if(t){for(var n,i=Object.create(null),r=Wi?Reflect.ownKeys(t):Object.keys(t),s=0;s<r.length;s++)if("__ob__"!==(n=r[s])){for(var o=t[n].from,a=e;a;){if(a._provided&&g(a._provided,o)){i[n]=a._provided[o];break}a=a.$parent}if(!a&&"default"in t[n]){var c=t[n].default;i[n]="function"==typeof c?c.call(e):c}}return i}}function lt(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var s=t[i],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(s);else{var a=o.slot,c=n[a]||(n[a]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var l in n)n[l].every(ut)&&delete n[l];return n}function ut(t){return t.isComment&&!t.asyncFactory||" "===t.text}function dt(t,e,n){var i,r=0<Object.keys(e).length,s=t?!!t.$stable:!r,o=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&n&&n!==ci&&o===n.$key&&!r&&!n.$hasNormal)return n;for(var a in i={},t)t[a]&&"$"!==a[0]&&(i[a]=ht(e,a,t[a]))}else i={};for(var c in e)c in i||(i[c]=ft(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),T(i,"$stable",s),T(i,"$key",o),T(i,"$hasNormal",r),i}function ht(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ot(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function ft(t,e){return function(){return t[e]}}function pt(t,e){var n,i,r,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))if(Wi&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),u=c.next();!u.done;)n.push(e(u.value,n.length)),u=c.next()}else for(s=Object.keys(t),n=Array(s.length),i=0,r=s.length;i<r;i++)a=s[i],n[i]=e(t[a],a,i);return o(n)||(n=[]),n._isVList=!0,n}function mt(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=x(x({},i),n)),r=s(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function vt(t){return W(this.$options,"filters",t)||xi}function gt(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function yt(t,e,n,i,r){var s=ki.keyCodes[e]||n;return r&&i&&!ki.keyCodes[e]?gt(r,i):s?gt(s,t):i?gi(i)!==e:void 0}function bt(t,e,n,i,r){if(n)if(l(n)){Array.isArray(n)&&(n=V(n));var s,o=function(o){if("class"===o||"style"===o||di(o))s=t;else{var a=t.attrs&&t.attrs.type;s=i||ki.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=pi(o),l=gi(o);c in s||l in s||(s[o]=n[o],!r)||((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t})};for(var a in n)o(a)}else;return t}function xt(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(St(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Vt(t,e,n){return St(t,"__once__"+e+(n?"_"+n:""),!0),t}function St(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Ct(t[i],e+"_"+i,n);else Ct(t,e,n)}function Ct(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function kt(t,e){if(e)if(u(e)){var n=t.on=t.on?x({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function wt(t,e,n,i){e=e||{$stable:!n};for(var r,s=0;s<t.length;s++)r=t[s],Array.isArray(r)?wt(r,e,n):r&&(r.proxy&&(r.fn.proxy=!0),e[r.key]=r.fn);return i&&(e.$key=i),e}function Ot(t,e){for(var n,i=0;i<e.length;i+=2)"string"!=typeof(n=e[i])||!n||(t[e[i]]=e[i+1]);return t}function Tt(t,e){return"string"==typeof t?e+t:t}function $t(t){t._o=Vt,t._n=p,t._s=f,t._l=pt,t._t=mt,t._q=C,t._i=k,t._m=xt,t._f=vt,t._k=yt,t._b=bt,t._v=j,t._e=Zi,t._u=wt,t._g=kt,t._d=Ot,t._p=Tt}function _t(t,e,n,i,r){var s,o=this,c=r.options;g(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=a(c._compiled),u=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||ci,this.injections=ct(c.inject,i),this.slots=function(){return o.$slots||dt(t.scopedSlots,o.$slots=lt(n,i)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return dt(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=dt(t.scopedSlots,this.$slots)),this._c=c._scopeId?function(t,e,n,r){var o=Bt(s,t,e,n,r,u);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:function(t,e,n,i){return Bt(s,t,e,n,i,u)}}function It(t,e,n,i){var r=A(t);return r.fnContext=n,r.fnOptions=i,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function jt(t,e){for(var n in e)t[pi(n)]=e[n]}function At(t,e,n,i,r){if(!s(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"==typeof t){var u;if(s(t.cid)&&void 0===(t=Lt(u=t,c)))return function(t,e,n,i,r){var s=Zi();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}(u,e,n,i,r);e=e||{},ee(t),o(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var r=e.on||(e.on={}),s=r[i],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(r[i]=[a].concat(s)):r[i]=a}(t.options,e);var d=function(t,e){var n=e.options.props;if(!s(n)){var i={},r=t.attrs,a=t.props;if(o(r)||o(a))for(var c in n){var l=gi(c);st(i,a,c,l,!0)||st(i,r,c,l,!1)}return i}}(e,t);if(a(t.options.functional))return function(t,e,n,i,r){var s=t.options,a={},c=s.props;if(o(c))for(var l in c)a[l]=G(l,c,e||ci);else o(n.attrs)&&jt(a,n.attrs),o(n.props)&&jt(a,n.props);var u=new _t(n,a,r,i,t),d=s.render.call(null,u._c,u);if(d instanceof Xi)return It(d,n,u.parent,s);if(Array.isArray(d)){for(var h=ot(d)||[],f=Array(h.length),p=0;p<h.length;p++)f[p]=It(h[p],n,u.parent,s);return f}}(t,d,e,n,i);var h=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<gr.length;n++){var i=gr[n],r=e[i],s=vr[i];r===s||r&&r._merged||(e[i]=r?Dt(s,r):s)}}(e);var p=t.options.name||r;return new Xi("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:h,tag:r,children:i},u)}}}function Dt(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function Bt(t,e,n,i,r,s){return(Array.isArray(n)||c(n))&&(r=i,i=n,n=void 0),a(s)&&(r=br),function(t,e,n,i,r){if(o(n)&&o(n.__ob__))return Zi();if(o(n)&&o(n.is)&&(e=n.is),!e)return Zi();var s,a,c;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),r===br?i=ot(i):r===yr&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i)),"string"==typeof e?(a=t.$vnode&&t.$vnode.ns||ki.getTagNamespace(e),s=ki.isReservedTag(e)?new Xi(ki.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!o(c=W(t.$options,"components",e))?new Xi(e,n,i,void 0,void 0,t):At(c,n,t,i,e)):s=At(e,n,t,i);return Array.isArray(s)?s:o(s)?(o(a)&&Pt(s,a),o(n)&&function(t){l(t.style)&&et(t.style),l(t.class)&&et(t.class)}(n),s):Zi()}(t,e,n,i,r)}function Pt(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var i,r=0,c=t.children.length;r<c;r++)o((i=t.children[r]).tag)&&(s(i.ns)||a(n)&&"svg"!==i.tag)&&Pt(i,e,n)}function Et(t,e){return(t.__esModule||Wi&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function Lt(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=xr;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var i=t.owners=[n],r=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return v(i,n)}));var d=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},f=w((function(n){t.resolved=Et(n,e),r?i.length=0:d(!0)})),p=w((function(){o(t.errorComp)&&(t.error=!0,d(!0))})),m=t(f,p);return l(m)&&(h(m)?s(t.resolved)&&m.then(f,p):h(m.component)&&(m.component.then(f,p),o(m.error)&&(t.errorComp=Et(m.error,e)),o(m.loading)&&(t.loadingComp=Et(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,s(t.resolved)&&s(t.error)&&(t.loading=!0,d(!1))}),m.delay||200)),o(m.timeout)&&(u=setTimeout((function(){u=null,s(t.resolved)&&p(null)}),m.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}function Mt(t){return t.isComment&&t.asyncFactory}function Ft(t){if(Array.isArray(t))for(var e,n=0;n<t.length;n++)if(o(e=t[n])&&(o(e.componentOptions)||Mt(e)))return e}function Ht(t,e){mr.$on(t,e)}function Nt(t,e){mr.$off(t,e)}function Rt(t,e){var n=mr;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function zt(t,e,n){mr=t,it(e,n||{},Ht,Nt,Rt,t),mr=void 0}function Wt(t){var e=Vr;return Vr=t,function(){Vr=e}}function Gt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ut(t,e){if(e){if(t._directInactive=!1,Gt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ut(t.$children[n]);Yt(t,"activated")}}function Yt(t,e){_();var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)K(n[i],t,null,t,e+" hook");t._hasHookEvent&&t.$emit("hook:"+e),I()}function qt(){var t,e;for($r=_r(),Or=!0,Sr.sort((function(t,e){return t.id-e.id})),Tr=0;Tr<Sr.length;Tr++)(t=Sr[Tr]).before&&t.before(),e=t.id,kr[e]=null,t.run();var n=Cr.slice(),i=Sr.slice();Tr=Sr.length=Cr.length=0,kr={},wr=Or=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ut(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Yt(i,"updated")}}(i),zi&&ki.devtools&&zi.emit("flush")}function Xt(t,e,n){Dr.get=function(){return this[e][n]},Dr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Dr)}function Kt(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];!t.$parent||D(!1);var s=function(s){r.push(s);var o=G(s,e,n,t);P(i,s,o),s in t||Xt(t,"_props",s)};for(var o in e)s(o);D(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"==typeof e[n]?yi(e[n],t):S}(t,e.methods),e.data?function(t){var e=t.$options.data;u(e=t._data="function"==typeof e?function(t,e){_();try{return t.call(e,e)}catch(t){return X(t,e,"data()"),{}}finally{I()}}(e,t):e||{})||(e={});for(var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);r--;){var s=n[r];i&&g(i,s)||O(s)||Xt(t,"_data",s)}B(e,!0)}(t):B(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=Ri();for(var r in e){var s=e[r],o="function"==typeof s?s:s.get;i||(n[r]=new Ar(t,o||S,S,Br)),r in t||Zt(t,r,s)}}(t,e.computed),e.watch&&e.watch!==Li&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)te(t,n,i[r]);else te(t,n,i)}}(t,e.watch)}function Zt(t,e,n){var i=!Ri();"function"==typeof n?(Dr.get=i?Jt(e):Qt(n),Dr.set=S):(Dr.get=n.get?i&&!1!==n.cache?Jt(e):Qt(n.get):S,Dr.set=n.set||S),Object.defineProperty(t,e,Dr)}function Jt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Yi.target&&e.depend(),e.value}}function Qt(t){return function(){return t.call(this,this)}}function te(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function ee(t){var e=t.options;if(t.super){var n=ee(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&x(t.extendOptions,i),(e=t.options=z(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ne(t){this._init(t)}function ie(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=t.name||n.options.name,o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=z(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)Xt(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)Zt(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,Si.forEach((function(t){o[t]=n[t]})),s&&(o.options.components[s]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=x({},o.options),r[i]=o,o}}function re(t){return t&&(t.Ctor.options.name||t.tag)}function se(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!function(t){return"[object RegExp]"===li.call(t)}(t)&&t.test(e)}function oe(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var s in n){var o=n[s];if(o){var a=re(o.componentOptions);a&&!e(a)&&ae(n,s,i,r)}}}function ae(t,e,n,i){var r=t[e];r&&(!i||r.tag!==i.tag)&&r.componentInstance.$destroy(),t[e]=null,v(n,e)}function ce(t){for(var e=t.data,n=t,i=t;o(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=le(i.data,e));for(;o(n=n.parent);)n&&n.data&&(e=le(e,n.data));return function(t,e){return o(t)||o(e)?ue(t,de(e)):""}(e.staticClass,e.class)}function le(t,e){return{staticClass:ue(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function ue(t,e){return t?e?t+" "+e:t:e||""}function de(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=de(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):l(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function he(t){return os(t)?"svg":"math"===t?"math":void 0}function fe(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function pe(t,e){var n=t.data.ref;if(o(n)){var i=t.context,r=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[n])?v(s[n],r):s[n]===r&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?0>s[n].indexOf(r)&&s[n].push(r):s[n]=[r]:s[n]=r}}function me(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r||ls(i)&&ls(r)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&s(e.asyncFactory.error))}function ve(t,e,n){var i,r,s={};for(i=e;i<=n;++i)o(r=t[i].key)&&(s[r]=i);return s}function ge(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,s=t===ds,o=ye(t.data.directives,t.context),a=ye(e.data.directives,e.context),c=[],l=[];for(n in a)i=o[n],r=a[n],i?(r.oldValue=i.value,r.oldArg=i.arg,xe(r,"update",e,t),r.def&&r.def.componentUpdated&&l.push(r)):(xe(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var u=function(){for(var n=0;n<c.length;n++)xe(c[n],"inserted",e,t)};s?rt(e,"insert",u):u()}if(l.length&&rt(e,"postpatch",(function(){for(var n=0;n<l.length;n++)xe(l[n],"componentUpdated",e,t)})),!s)for(n in o)a[n]||xe(o[n],"unbind",t,t,e===ds)}(t,e)}function ye(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=fs),r[be(i)]=i,i.def=W(e.$options,"directives",i.name);return r}function be(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function xe(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(r){X(r,n.context,"directive "+t.name+" "+e+" hook")}}function Ve(t,e){var n=e.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||s(t.data.attrs)&&s(e.data.attrs))){var i,r,a=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(i in o(l.__ob__)&&(l=e.data.attrs=x({},l)),l)r=l[i],c[i]!==r&&Se(a,i,r);for(i in(Ai||Bi)&&l.value!==c.value&&Se(a,"value",l.value),c)s(l[i])&&(es(i)?a.removeAttributeNS(ts,ns(i)):!Kr(i)&&a.removeAttribute(i))}}function Se(t,e,n){-1<t.tagName.indexOf("-")?Ce(t,e,n):Qr(e)?is(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Kr(e)?t.setAttribute(e,Jr(e,n)):es(e)?is(n)?t.removeAttributeNS(ts,ns(e)):t.setAttributeNS(ts,e,n):Ce(t,e,n)}function Ce(t,e,n){if(is(n))t.removeAttribute(e);else{if(Ai&&!Di&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}function ke(t,e){var n=e.elm,i=e.data,r=t.data;if(!(s(i.staticClass)&&s(i.class)&&(s(r)||s(r.staticClass)&&s(r.class)))){var a=ce(e),c=n._transitionClasses;o(c)&&(a=ue(a,de(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}function we(t){function e(){(o||(o=[])).push(t.slice(p,r).trim()),p=r+1}var n,i,r,s,o,a=!1,c=!1,l=!1,u=!1,d=0,h=0,f=0,p=0;for(r=0;r<t.length;r++)if(i=n,n=t.charCodeAt(r),a)39===n&&92!==i&&(a=!1);else if(c)34===n&&92!==i&&(c=!1);else if(l)96===n&&92!==i&&(l=!1);else if(u)47===n&&92!==i&&(u=!1);else if(124!==n||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||d||h||f){if(34===n?c=!0:39===n?a=!0:96===n?l=!0:40===n?f++:41===n?f--:91===n?h++:93===n?h--:123===n?d++:125===n&&d--,47===n){for(var m=r-1,v=void 0;0<=m&&" "===(v=t.charAt(m));m--);v&&ps.test(v)||(u=!0)}}else void 0===s?(p=r+1,s=t.slice(0,r).trim()):e();if(void 0===s?s=t.slice(0,r).trim():0!==p&&e(),o)for(r=0;r<o.length;r++)s=Oe(s,o[r]);return s}function Oe(t,e){var n=e.indexOf("(");if(0>n)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"===r?r:","+r)}function Te(t){console.error("[Vue compiler]: "+t)}function $e(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function _e(t,e,n,i,r){(t.props||(t.props=[])).push(Me({name:e,value:n,dynamic:r},i)),t.plain=!1}function Ie(t,e,n,i,r){(r?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Me({name:e,value:n,dynamic:r},i)),t.plain=!1}function je(t,e,n,i){t.attrsMap[e]=n,t.attrsList.push(Me({name:e,value:n},i))}function Ae(t,e,n,i,r,s,o,a){(t.directives||(t.directives=[])).push(Me({name:e,rawName:n,value:i,arg:r,isDynamicArg:s,modifiers:o},a)),t.plain=!1}function De(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Be(t,e,n,i,r,s,o,a){var c;(i=i||ci).right?a?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete i.right):i.middle&&(a?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=De("!",e,a)),i.once&&(delete i.once,e=De("~",e,a)),i.passive&&(delete i.passive,e=De("&",e,a)),i.native?(delete i.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var l=Me({value:n.trim(),dynamic:a},o);i!==ci&&(l.modifiers=i);var u=c[e];Array.isArray(u)?r?u.unshift(l):u.push(l):c[e]=u?r?[l,u]:[u,l]:l,t.plain=!1}function Pe(t,e,n){var i=Ee(t,":"+e)||Ee(t,"v-bind:"+e);if(null!=i)return we(i);if(!1!==n){var r=Ee(t,e);if(null!=r)return JSON.stringify(r)}}function Ee(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,s=0,o=r.length;s<o;s++)if(r[s].name===e){r.splice(s,1);break}return n&&delete t.attrsMap[e],i}function Le(t,e){for(var n,i=t.attrsList,r=0,s=i.length;r<s;r++)if(n=i[r],e.test(n.name))return i.splice(r,1),n}function Me(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Fe(t,e,n){var i=n||{},r=i.number,s="$$v",o=s;i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var a=He(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function He(t,e){var n=function(t){if(t=t.trim(),Mr=t.length,0>t.indexOf("[")||t.lastIndexOf("]")<Mr-1)return-1<(Nr=t.lastIndexOf("."))?{exp:t.slice(0,Nr),key:'"'+t.slice(Nr+1)+'"'}:{exp:t,key:null};for(Fr=t,Nr=Rr=zr=0;!Re();)ze(Hr=Ne())?Ge(Hr):91===Hr&&We(Hr);return{exp:t.slice(0,Rr),key:t.slice(Rr+1,zr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Ne(){return Fr.charCodeAt(++Nr)}function Re(){return Nr>=Mr}function ze(t){return 34===t||39===t}function We(t){var e=1;for(Rr=Nr;!Re();)if(ze(t=Ne()))Ge(t);else if(91===t&&e++,93===t&&e--,0==e){zr=Nr;break}}function Ge(t){for(var e=t;!Re()&&(t=Ne())!==e;);}function Ue(t,e,n){var i=Wr;return function r(){var s=e.apply(null,arguments);null!==s&&qe(t,r,n,i)}}function Ye(t,e,n,i){if(gs){var r=$r,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||0>=t.timeStamp||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Wr.addEventListener(t,e,Mi?{capture:n,passive:i}:n)}function qe(t,e,n,i){(i||Wr).removeEventListener(t,e._wrapper||e,n)}function Xe(t,e){if(!s(t.data.on)||!s(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Wr=e.elm,function(t){if(o(t[ms])){var e=Ai?"change":"input";t[e]=[].concat(t[ms],t[e]||[]),delete t[ms]}o(t[vs])&&(t.change=[].concat(t[vs],t.change||[]),delete t[vs])}(n),it(n,i,Ye,qe,Ue,e.context),Wr=void 0}}function Ke(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var n,i,r=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in o(c.__ob__)&&(c=e.data.domProps=x({},c)),a)n in c||(r[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var l=s(i)?"":i+"";Ze(r,l)&&(r.value=l)}else if("innerHTML"===n&&os(r.tagName)&&s(r.innerHTML)){(Gr=Gr||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var u=Gr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;u.firstChild;)r.appendChild(u.firstChild)}else if(i!==a[n])try{r[n]=i}catch(e){}}}}function Ze(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(e){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(o(i)){if(i.number)return p(n)!==p(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}function Je(t){var e=Qe(t.style);return t.staticStyle?x(t.staticStyle,e):e}function Qe(t){return Array.isArray(t)?V(t):"string"==typeof t?ys(t):t}function tn(t,e){var n=e.data,i=t.data;if(!(s(n.staticStyle)&&s(n.style)&&s(i.staticStyle)&&s(i.style))){var r,a,c=e.elm,l=i.staticStyle,u=i.normalizedStyle||i.style||{},d=l||u,h=Qe(e.data.style)||{};e.data.normalizedStyle=o(h.__ob__)?x({},h):h;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Je(r.data))&&x(i,n);(n=Je(t.data))&&x(i,n);for(var s=t;s=s.parent;)s.data&&(n=Je(s.data))&&x(i,n);return i}(e,!0);for(a in d)s(f[a])&&Vs(c,a,"");for(a in f)(r=f[a])!==d[a]&&Vs(c,a,null==r?"":r)}}function en(t,e){if(e&&(e=e.trim()))if(t.classList)-1<e.indexOf(" ")?e.split(ks).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";0>n.indexOf(" "+e+" ")&&t.setAttribute("class",(n+e).trim())}}function nn(t,e){if(e&&(e=e.trim()))if(t.classList)-1<e.indexOf(" ")?e.split(ks).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";0<=n.indexOf(i);)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function rn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&x(e,ws(t.name||"v")),x(e,t),e}return"string"==typeof t?ws(t):void 0}}function sn(t){Ds((function(){Ds(t)}))}function on(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);0>n.indexOf(e)&&(n.push(e),en(t,e))}function an(t,e){t._transitionClasses&&v(t._transitionClasses,e),nn(t,e)}function cn(t,e,n){var i=ln(t,e),r=i.type,s=i.timeout,o=i.propCount;if(!r)return n();var a=r===Ts?Is:As,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=o&&l()};setTimeout((function(){c<o&&l()}),s+1),t.addEventListener(a,u)}function ln(t,n){var i,r=window.getComputedStyle(t),s=(r[_s+"Delay"]||"").split(", "),o=(r[_s+"Duration"]||"").split(", "),a=un(s,o),c=(r[js+"Delay"]||"").split(", "),l=(r[js+"Duration"]||"").split(", "),u=un(c,l),d=0,h=0;return n===Ts?0<a&&(i=Ts,d=a,h=o.length):n===$s?0<u&&(i=$s,d=u,h=l.length):h=(i=0<(d=e(a,u))?a>u?Ts:$s:null)?i===Ts?o.length:l.length:0,{type:i,timeout:d,propCount:h,hasTransform:i===Ts&&Bs.test(r[_s+"Property"])}}function un(t,n){for(;t.length<n.length;)t=t.concat(t);return e.apply(null,n.map((function(e,n){return dn(e)+dn(t[n])})))}function dn(t){return 1e3*+t.slice(0,-1).replace(",",".")}function hn(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=rn(t.data.transition);if(!s(i)&&!o(n._enterCb)&&1===n.nodeType){for(var r=i.css,a=i.type,c=i.enterClass,u=i.enterToClass,d=i.enterActiveClass,h=i.appearClass,f=i.appearToClass,m=i.appearActiveClass,v=i.beforeEnter,g=i.enter,y=i.afterEnter,b=i.enterCancelled,x=i.beforeAppear,V=i.appear,S=i.afterAppear,C=i.appearCancelled,k=i.duration,O=Vr,T=Vr.$vnode;T&&T.parent;)O=T.context,T=T.parent;var $=!O._isMounted||!t.isRootInsert;if(!$||V||""===V){var _=$&&h?h:c,I=$&&m?m:d,j=$&&f?f:u,A=$&&x||v,D=$&&"function"==typeof V?V:g,B=$&&S||y,P=$&&C||b,E=p(l(k)?k.enter:k),L=!1!==r&&!Di,M=mn(D),F=n._enterCb=w((function(){L&&(an(n,j),an(n,I)),F.cancelled?(L&&an(n,_),P&&P(n)):B&&B(n),n._enterCb=null}));t.data.show||rt(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(n,F)})),A&&A(n),L&&(on(n,_),on(n,I),sn((function(){an(n,_),F.cancelled||(on(n,j),!M&&(pn(E)?setTimeout(F,E):cn(n,a,F)))}))),t.data.show&&(e&&e(),D&&D(n,F)),L||M||F()}}}function fn(t,e){function n(){C.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),f&&f(i),x&&(on(i,u),on(i,h),sn((function(){an(i,u),C.cancelled||(on(i,d),!V&&(pn(S)?setTimeout(C,S):cn(i,c,C)))}))),m&&m(i,C),!x&&!V&&C())}var i=t.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var r=rn(t.data.transition);if(s(r)||1!==i.nodeType)return e();if(!o(i._leaveCb)){var a=r.css,c=r.type,u=r.leaveClass,d=r.leaveToClass,h=r.leaveActiveClass,f=r.beforeLeave,m=r.leave,v=r.afterLeave,g=r.leaveCancelled,y=r.delayLeave,b=r.duration,x=!1!==a&&!Di,V=mn(m),S=p(l(b)?b.leave:b),C=i._leaveCb=w((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),x&&(an(i,d),an(i,h)),C.cancelled?(x&&an(i,u),g&&g(i)):(e(),v&&v(i)),i._leaveCb=null}));y?y(n):n()}}function pn(t){return"number"==typeof t&&!isNaN(t)}function mn(t){if(s(t))return!1;var e=t.fns;return o(e)?mn(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function vn(t,e){!0!==e.data.show&&hn(e)}function gn(t,e,n){yn(t,e),(Ai||Bi)&&setTimeout((function(){yn(t,e)}),0)}function yn(t,e){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var r,s,o=0,a=t.options.length;o<a;o++)if(s=t.options[o],i)r=-1<k(n,xn(s)),s.selected!==r&&(s.selected=r);else if(C(xn(s),n))return void(t.selectedIndex!==o&&(t.selectedIndex=o));i||(t.selectedIndex=-1)}}function bn(t,e){return e.every((function(e){return!C(e,t)}))}function xn(t){return"_value"in t?t._value:t.value}function Vn(t){t.target.composing=!0}function Sn(t){t.target.composing&&(t.target.composing=!1,Cn(t.target,"input"))}function Cn(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function kn(t){return!t.componentInstance||t.data&&t.data.transition?t:kn(t.componentInstance._vnode)}function wn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?wn(Ft(e.children)):t}function On(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var s in r)e[pi(s)]=r[s];return e}function Tn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function $n(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function _n(t){t.data.newPos=t.elm.getBoundingClientRect()}function In(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+i+"px,"+r+"px)",s.transitionDuration="0s"}}function jn(t,e){var n=e?xo:bo;return t.replace(n,(function(t){return yo[t]}))}function An(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:Fn(e),rawAttrsMap:{},parent:n,children:[]}}function Dn(t,e){function n(t){if(i(t),u||t.processed||(t=Bn(t,e)),a.length||t===s||!(!s.if||!t.elseif&&!t.else)&&En(s,{exp:t.elseif,block:t}),o&&!t.forbidden)if(t.elseif||t.else)!function(t,e){var n=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);!n||!n.if||En(n,{exp:t.elseif,block:t})}(t,o);else{if(t.slotScope){var n=t.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[n]=t}o.children.push(t),t.parent=o}t.children=t.children.filter((function(t){return!t.slotScope})),i(t),t.pre&&(u=!1),Ys(t.tag)&&(d=!1);for(var r=0;r<Us.length;r++)Us[r](t,e)}function i(t){if(!d)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}Rs=e.warn||Te,Ys=e.isPreTag||bi,qs=e.mustUseProp||bi,Xs=e.getTagNamespace||bi;var r=e.isReservedTag||bi;(function(t){return!!t.component||!r(t.tag)}),Ws=$e(e.modules,"transformNode"),Gs=$e(e.modules,"preTransformNode"),Us=$e(e.modules,"postTransformNode"),zs=e.delimiters;var s,o,a=[],c=!1!==e.preserveWhitespace,l=e.whitespace,u=!1,d=!1;return function(t,e){function n(e){h+=e,t=t.substring(e)}function i(){var e=t.match(lo);if(e){var i,r,s={tagName:e[1],attrs:[],start:h};for(n(e[0].length);!(i=t.match(uo))&&(r=t.match(oo)||t.match(so));)r.start=h,n(r[0].length),r.end=h,s.attrs.push(r);if(i)return s.unarySlash=i[1],n(i[0].length),s.end=h,s}}function r(t){var n=t.tagName,i=t.unarySlash;l&&("p"===a&&ro(n)&&s(a),d(n)&&a===n&&s(n));for(var r=u(n)||!!i,o=t.attrs.length,h=Array(o),f=0;f<o;f++){var p=t.attrs[f],m=p[3]||p[4]||p[5]||"",v="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:p[1],value:jn(m,v)}}r||(c.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),a=n),e.start&&e.start(n,h,r,t.start,t.end)}function s(t,n,i){var r,s;if(null==n&&(n=h),null==i&&(i=h),t)for(s=t.toLowerCase(),r=c.length-1;0<=r&&c[r].lowerCasedTag!==s;r--);else r=0;if(0<=r){for(var o=c.length-1;o>=r;o--)e.end&&e.end(c[o].tag,n,i);c.length=r,a=r&&c[r-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,i):"p"===s&&(e.start&&e.start(t,[],!1,n,i),e.end&&e.end(t,n,i))}for(var o,a,c=[],l=e.expectHTML,u=e.isUnaryTag||bi,d=e.canBeLeftOpenTag||bi,h=0;t;){if(o=t,a&&vo(a)){var f=0,p=a.toLowerCase(),m=go[p]||(go[p]=new RegExp("([\\s\\S]*?)(</"+p+"[^>]*>)","i")),v=t.replace(m,(function(t,n,i){return f=i.length,vo(p)||"noscript"===p||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),So(p,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));h+=t.length-v.length,t=v,s(p,h-f,h)}else{var g=t.indexOf("<");if(0===g){if(po.test(t)){var y=t.indexOf("--\x3e");if(0<=y){e.shouldKeepComment&&e.comment(t.substring(4,y),h,h+y+3),n(y+3);continue}}if(mo.test(t)){var b=t.indexOf("]>");if(0<=b){n(b+2);continue}}var x=t.match(fo);if(x){n(x[0].length);continue}var V=t.match(ho);if(V){var S=h;n(V[0].length),s(V[1],S,h);continue}var C=i();if(C){r(C),So(C.tagName,t)&&n(1);continue}}var k=void 0,w=void 0,O=void 0;if(0<=g){for(w=t.slice(g);!(ho.test(w)||lo.test(w)||po.test(w)||mo.test(w)||(O=w.indexOf("<",1),0>O));)g+=O,w=t.slice(g);k=t.substring(0,g)}0>g&&(k=t),k&&n(k.length),e.chars&&k&&e.chars(k,h-k.length,h)}if(t===o){e.chars&&e.chars(t);break}}s()}(t,{warn:Rs,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,i,r){var c=o&&o.ns||Xs(t);Ai&&"svg"===c&&(i=function(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],Lo.test(e.name)||(e.name=e.name.replace(Mo,""),n.push(e));return n}(i));var l=An(t,i,o);c&&(l.ns=c),function(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}(l)&&!Ri()&&(l.forbidden=!0);for(var h=0;h<Gs.length;h++)l=Gs[h](l,e)||l;u||(function(t){null!=Ee(t,"v-pre")&&(t.pre=!0)}(l),l.pre&&(u=!0)),Ys(l.tag)&&(d=!0),u?function(t){var e=t.attrsList,n=e.length;if(n)for(var i=t.attrs=Array(n),r=0;r<n;r++)i[r]={name:e[r].name,value:JSON.stringify(e[r].value)},null!=e[r].start&&(i[r].start=e[r].start,i[r].end=e[r].end);else t.pre||(t.plain=!0)}(l):!l.processed&&(Pn(l),function(t){var e=Ee(t,"v-if");if(e)t.if=e,En(t,{exp:e,block:t});else{null!=Ee(t,"v-else")&&(t.else=!0);var n=Ee(t,"v-else-if");n&&(t.elseif=n)}}(l),function(t){null!=Ee(t,"v-once")&&(t.once=!0)}(l)),s||(s=l),r?n(l):(o=l,a.push(l))},end:function(){var t=a[a.length-1];a.length-=1,o=a[a.length-1],n(t)},chars:function(t){if(o&&(!Ai||"textarea"!==o.tag||o.attrsMap.placeholder!==t)){var e,n,i=o.children;if(t=d||t.trim()?function(t){return"script"===t.tag||"style"===t.tag}(o)?t:Po(t):i.length?l?"condense"===l&&Do.test(t)?"":" ":c?" ":"":"")d||"condense"!==l||(t=t.replace(Bo," ")),!u&&" "!==t&&(e=function(t,e){var n=e?eo(e):Qs;if(n.test(t)){for(var i,r,s,o=[],a=[],c=n.lastIndex=0;i=n.exec(t);){(r=i.index)>c&&(a.push(s=t.slice(c,r)),o.push(JSON.stringify(s)));var l=we(i[1].trim());o.push("_s("+l+")"),a.push({"@binding":l}),c=r+i[0].length}return c<t.length&&(a.push(s=t.slice(c)),o.push(JSON.stringify(s))),{expression:o.join("+"),tokens:a}}}(t,zs))?n={type:2,expression:e.expression,tokens:e.tokens,text:t}:(" "!==t||!i.length||" "!==i[i.length-1].text)&&(n={type:3,text:t}),n&&i.push(n)}},comment:function(t){o&&o.children.push({type:3,text:t,isComment:!0})}}),s}function Bn(t,e){(function(t){var e=Pe(t,"key");e&&(t.key=e)})(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Pe(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Ee(t,"scope"),t.slotScope=e||Ee(t,"slot-scope")):(e=Ee(t,"slot-scope"))&&(t.slotScope=e);var n=Pe(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"!==t.tag&&!t.slotScope&&Ie(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot"))),"template"===t.tag){var i=Le(t,Ao);if(i){var r=Ln(i),s=r.name,o=r.dynamic;t.slotTarget=s,t.slotTargetDynamic=o,t.slotScope=i.value||Eo}}else{var a=Le(t,Ao);if(a){var c=t.scopedSlots||(t.scopedSlots={}),l=Ln(a),u=l.name,d=l.dynamic,h=c[u]=An("template",[],t);h.slotTarget=u,h.slotTargetDynamic=d,h.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=h,!0})),h.slotScope=a.value||Eo,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Pe(t,"name"))}(t),function(t){var e;(e=Pe(t,"is"))&&(t.component=e),null!=Ee(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var n=0;n<Ws.length;n++)t=Ws[n](t,e)||t;return function(t){var e,n,i,r,s,o,a,c,l=t.attrsList;for(e=0,n=l.length;e<n;e++)if(i=r=l[e].name,s=l[e].value,ko.test(i))if(t.hasBindings=!0,(o=Mn(i.replace(ko,"")))&&(i=i.replace(jo,"")),Io.test(i))i=i.replace(Io,""),s=we(s),(c=$o.test(i))&&(i=i.slice(1,-1)),o&&(o.prop&&!c&&"innerHtml"===(i=pi(i))&&(i="innerHTML"),o.camel&&!c&&(i=pi(i)),o.sync&&(a=He(s,"$event"),c?Be(t,'"update:"+('+i+")",a,null,!1,0,l[e],!0):(Be(t,"update:"+pi(i),a,null,!1,0,l[e]),gi(i)!==pi(i)&&Be(t,"update:"+gi(i),a,null,!1,0,l[e])))),o&&o.prop||!t.component&&qs(t.tag,t.attrsMap.type,i)?_e(t,i,s,l[e],c):Ie(t,i,s,l[e],c);else if(Co.test(i))i=i.replace(Co,""),(c=$o.test(i))&&(i=i.slice(1,-1)),Be(t,i,s,o,!1,0,l[e],c);else{var u=(i=i.replace(ko,"")).match(_o),d=u&&u[1];c=!1,d&&(i=i.slice(0,-(d.length+1)),$o.test(d)&&(d=d.slice(1,-1),c=!0)),Ae(t,i,r,s,d,c,o,l[e])}else Ie(t,i,JSON.stringify(s),l[e]),!t.component&&"muted"===i&&qs(t.tag,t.attrsMap.type,i)&&_e(t,i,"true",l[e])}(t),t}function Pn(t){var e;if(e=Ee(t,"v-for")){var n=function(t){var e=t.match(wo);if(e){var n={for:e[2].trim()},i=e[1].trim().replace(To,""),r=i.match(Oo);return r?(n.alias=i.replace(Oo,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(e);!n||x(t,n)}}function En(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Ln(t){var e=t.name.replace(Ao,"");return e||"#"!==t.name[0]&&(e="default"),$o.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function Mn(t){var e=t.match(jo);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function Fn(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}function Hn(t){return An(t.tag,t.attrsList.slice(),t.parent)}function Nn(t,e){t&&(Ks=No(e.staticKeys||""),Zs=e.isReservedTag||bi,function t(e){if(e.static=function(t){return!(2===t.type||3!==t.type&&!t.pre&&(t.hasBindings||t.if||t.for||ui(t.tag)||!Zs(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Ks)))}(e),1===e.type){if(!Zs(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n,i=0,r=e.children.length;i<r;i++)n=e.children[i],t(n),n.static||(e.static=!1);if(e.ifConditions)for(var s,o=1,a=e.ifConditions.length;o<a;o++)s=e.ifConditions[o].block,t(s),s.static||(e.static=!1)}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,r=e.children.length;i<r;i++)t(e.children[i],n||!!e.for);if(e.ifConditions)for(var s=1,o=e.ifConditions.length;s<o;s++)t(e.ifConditions[s].block,n)}}(t,!1))}function Rn(t,e){var n=e?"nativeOn:":"on:",i="",r="";for(var s in t){var o=zn(t[s]);t[s]&&t[s].dynamic?r+=s+","+o+",":i+='"'+s+'":'+o+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function zn(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return zn(t)})).join(",")+"]";var e=Wo.test(t.value),n=Ro.test(t.value),i=Wo.test(t.value.replace(zo,""));if(!t.modifiers)return e||n?t.value:"function($event){"+(i?"return "+t.value:t.value)+"}";var r="",s="",o=[];for(var a in t.modifiers)if(qo[a])s+=qo[a],Go[a]&&o.push(a);else if("exact"===a){var c=t.modifiers;s+=Yo(["ctrl","shift","alt","meta"].filter((function(t){return!c[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else o.push(a);return o.length&&(r+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Wn).join("&&")+")return null;"}(o)),s&&(r+=s),"function($event){"+r+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":i?"return "+t.value:t.value)+"}"}function Wn(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Go[t],i=Uo[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}function Gn(t,e){var n=new Ko(e);return{render:"with(this){return "+(t?Un(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Un(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Yn(t,e);if(t.once&&!t.onceProcessed)return qn(t,e);if(t.for&&!t.forProcessed)return Kn(t,e);if(t.if&&!t.ifProcessed)return Xn(t,e);if("template"===t.tag&&!t.slotTarget&&!e.pre)return ti(t,e)||"void 0";if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=ti(t,e),r="_t("+n+(i?","+i:""),s=t.attrs||t.dynamicAttrs?ii((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:pi(t.name),value:t.value,dynamic:t.dynamic}}))):null,o=t.attrsMap["v-bind"];return(s||o)&&!i&&(r+=",null"),s&&(r+=","+s),o&&(r+=(s?"":",null")+","+o),r+")"}(t,e);var n;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:ti(e,n,!0);return"_c("+t+","+Zn(e,n)+(i?","+i:"")+")"}(t.component,t,e);else{var i;(!t.plain||t.pre&&e.maybeComponent(t))&&(i=Zn(t,e));var r=t.inlineTemplate?null:ti(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var s=0;s<e.transforms.length;s++)n=e.transforms[s](t,n);return n}function Yn(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Un(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function qn(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Xn(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Un(t,e)+","+e.onceId+++","+n+")":Un(t,e)}return Yn(t,e)}function Xn(t,e,n,i){return t.ifProcessed=!0,function t(e,n,i,r){function s(t){return i?i(t,n):t.once?qn(t,n):Un(t,n)}if(!e.length)return r||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+t(e,n,i,r):""+s(o.block)}(t.ifConditions.slice(),e,n,i)}function Kn(t,e,n,i){var r=t.for,s=t.alias,o=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+s+o+a+"){return "+(n||Un)(t,e)+"})"}function Zn(t,e){var n="{",i=function(t,e){var n=t.directives;if(n){var i,r,s,o,a="directives:[",c=!1;for(i=0,r=n.length;i<r;i++){s=n[i],o=!0;var l=e.directives[s.name];l&&(o=!!l(t,s,e.warn)),o&&(c=!0,a+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?",arg:"+(s.isDynamicArg?s.arg:'"'+s.arg+'"'):"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},")}if(c)return a.slice(0,-1)+"]"}}(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:"+ii(t.attrs)+","),t.props&&(n+="domProps:"+ii(t.props)+","),t.events&&(n+=Rn(t.events,!1)+","),t.nativeEvents&&(n+=Rn(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var i=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Jn(n)})),r=!!t.if;if(!i)for(var s=t.parent;s;){if(s.slotScope&&s.slotScope!==Eo||s.for){i=!0;break}s.if&&(r=!0),s=s.parent}var o=Object.keys(e).map((function(t){return Qn(e[t],n)})).join(",");return"scopedSlots:_u(["+o+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(o):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var s=function(t,e){var n=t.children[0];if(n&&1===n.type){var i=Gn(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);s&&(n+=s+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+ii(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Jn(t){return!(1!==t.type)&&("slot"===t.tag||t.children.some(Jn))}function Qn(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Xn(t,e,Qn,"null");if(t.for&&!t.forProcessed)return Kn(t,e,Qn);var i=t.slotScope===Eo?"":t.slotScope+"",r="function("+i+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(ti(t,e)||"undefined")+":undefined":ti(t,e)||"undefined":Un(t,e))+"}",s=i?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+r+s+"}"}function ti(t,e,n,i,r){var s=t.children;if(s.length){var o=s[0];if(1===s.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var a=n?e.maybeComponent(o)?",1":",0":"";return""+(i||Un)(o,e)+a}var c=n?function(t,e){for(var n,i=0,r=0;r<t.length;r++)if(1===(n=t[r]).type){if(ei(n)||n.ifConditions&&n.ifConditions.some((function(t){return ei(t.block)}))){i=2;break}(e(n)||n.ifConditions&&n.ifConditions.some((function(t){return e(t.block)})))&&(i=1)}return i}(s,e.maybeComponent):0;return"["+s.map((function(t){return(r||ni)(t,e)})).join(",")+"]"+(c?","+c:"")}}function ei(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ni(t,e){return 1===t.type?Un(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):function(t){return"_v("+(2===t.type?t.expression:ri(JSON.stringify(t.text)))+")"}(t)}function ii(t){for(var e="",n="",i=0;i<t.length;i++){var r=t[i],s=ri(r.value);r.dynamic?n+=r.name+","+s+",":e+='"'+r.name+'":'+s+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function ri(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function si(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),S}}function oi(t){var e=Object.create(null);return function(n,i){(i=x({},i)).warn,delete i.warn;var r=i.delimiters?i.delimiters+""+n:n;if(e[r])return e[r];var s=t(n,i),o={},a=[];return o.render=si(s.render,a),o.staticRenderFns=s.staticRenderFns.map((function(t){return si(t,a)})),e[r]=o}}function ai(t){return(Js=Js||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',0<Js.innerHTML.indexOf("&#10;")}
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var ci=Object.freeze({}),li=Object.prototype.toString,ui=m("slot,component",!0),di=m("key,ref,slot,slot-scope,is"),hi=Object.prototype.hasOwnProperty,fi=/-(\w)/g,pi=y((function(t){return t.replace(fi,(function(t,e){return e?e.toUpperCase():""}))})),mi=y((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),vi=/\B([A-Z])/g,gi=y((function(t){return t.replace(vi,"-$1").toLowerCase()})),yi=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?1<i?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n},bi=function(){return!1},xi=function(t){return t},Vi="data-server-rendered",Si=["component","directive","filter"],Ci=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],ki={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:bi,isReservedAttr:bi,isUnknownElement:bi,getTagNamespace:S,parsePlatformTagName:xi,mustUseProp:bi,async:!0,_lifecycleHooks:Ci},wi=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Oi=new RegExp("[^"+wi.source+".$_\\d]"),Ti="__proto__"in{},$i="undefined"!=typeof window,_i="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Ii=_i&&WXEnvironment.platform.toLowerCase(),ji=$i&&window.navigator.userAgent.toLowerCase(),Ai=ji&&/msie|trident/.test(ji),Di=ji&&0<ji.indexOf("msie 9.0"),Bi=ji&&0<ji.indexOf("edge/"),Pi=(ji&&ji.indexOf("android"),ji&&/iphone|ipad|ipod|ios/.test(ji)||"ios"===Ii),Ei=(ji&&/chrome\/\d+/.test(ji),ji&&/phantomjs/.test(ji),ji&&ji.match(/firefox\/(\d+)/)),Li={}.watch,Mi=!1;if($i)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Mi=!0}}),window.addEventListener("test-passive",null,Fi)}catch(t){}var Hi,Ni,Ri=function(){return void 0===Hi&&(Hi=!$i&&!_i&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),Hi},zi=$i&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Wi="undefined"!=typeof Symbol&&$(Symbol)&&"undefined"!=typeof Reflect&&$(Reflect.ownKeys);Ni="undefined"!=typeof Set&&$(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Gi=S,Ui=0,Yi=function(){this.id=Ui++,this.subs=[]};Yi.prototype.addSub=function(t){this.subs.push(t)},Yi.prototype.removeSub=function(t){v(this.subs,t)},Yi.prototype.depend=function(){Yi.target&&Yi.target.addDep(this)},Yi.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Yi.target=null;var qi=[],Xi=function(t,e,n,i,r,s,o,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Ki={child:{configurable:!0}};Ki.child.get=function(){return this.componentInstance},Object.defineProperties(Xi.prototype,Ki);var Zi=function(t){void 0===t&&(t="");var e=new Xi;return e.text=t,e.isComment=!0,e},Ji=Array.prototype,Qi=Object.create(Ji);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=Ji[t];T(Qi,t,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,s=e.apply(this,n),o=this.__ob__;return"push"===t||"unshift"===t?r=n:"splice"===t&&(r=n.slice(2)),r&&o.observeArray(r),o.dep.notify(),s}))}));var tr=Object.getOwnPropertyNames(Qi),er=!0,nr=function(t){this.value=t,this.dep=new Yi,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)?(Ti?function(t,e){t.__proto__=e}(t,Qi):function(t,e,n){for(var i,r=0,s=n.length;r<s;r++)T(t,i=n[r],e[i])}(t,Qi,tr),this.observeArray(t)):this.walk(t)};nr.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)P(t,e[n])},nr.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)B(t[e])};var ir=ki.optionMergeStrategies;ir.data=function(t,e,n){return n?H(t,e,n):e&&"function"!=typeof e?t:H(t,e)},Ci.forEach((function(t){ir[t]=N})),Si.forEach((function(t){ir[t+"s"]=R})),ir.watch=function(t,e){if(t===Li&&(t=void 0),e===Li&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var i in x(n,t),e){var r=n[i],s=e[i];r&&!Array.isArray(r)&&(r=[r]),n[i]=r?r.concat(s):Array.isArray(s)?s:[s]}return n},ir.props=ir.methods=ir.inject=ir.computed=function(t,e){if(!t)return e;var n=Object.create(null);return x(n,t),e&&x(n,e),n},ir.provide=H;var rr,sr=function(t,e){return void 0===e?t:e},or=!1,ar=[],cr=!1;if("undefined"!=typeof Promise&&$(Promise)){var lr=Promise.resolve();rr=function(){lr.then(Q),Pi&&setTimeout(S)},or=!0}else if(Ai||"undefined"==typeof MutationObserver||!$(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())rr=void 0!==r&&$(r)?function(){r(Q)}:function(){setTimeout(Q,0)};else{var ur=1,dr=new MutationObserver(Q),hr=document.createTextNode(ur+"");dr.observe(hr,{characterData:!0}),rr=function(){ur=(ur+1)%2,hr.data=ur+""},or=!0}var fr=new Ni,pr=y((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}}));$t(_t.prototype);var mr,vr={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;vr.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return o(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}(t,Vr)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,r){var s=i.data.scopedSlots,o=t.$scopedSlots,a=s&&!s.$stable||o!==ci&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key,c=!!(r||t.$options._renderChildren||a);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=r,t.$attrs=i.data.attrs||ci,t.$listeners=n||ci,e&&t.$options.props){D(!1);for(var l=t._props,u=t.$options._propKeys||[],d=0;d<u.length;d++){var h=u[d],f=t.$options.props;l[h]=G(h,f,e,t)}D(!0),t.$options.propsData=e}n=n||ci;var p=t.$options._parentListeners;t.$options._parentListeners=n,zt(t,n,p),c&&(t.$slots=lt(r,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Yt(n,"mounted")),t.data.keepAlive&&(e._isMounted?function(t){t._inactive=!1,Cr.push(t)}(n):Ut(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Gt(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Yt(e,"deactivated")}}(e,!0):e.$destroy())}},gr=Object.keys(vr),yr=1,br=2,xr=null,Vr=null,Sr=[],Cr=[],kr={},wr=!1,Or=!1,Tr=0,$r=0,_r=Date.now;if($i&&!Ai){var Ir=window.performance;Ir&&"function"==typeof Ir.now&&_r()>document.createEvent("Event").timeStamp&&(_r=function(){return Ir.now()})}var jr=0,Ar=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++jr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Ni,this.newDepIds=new Ni,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!Oi.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),!this.getter&&(this.getter=S)),this.value=this.lazy?void 0:this.get()};Ar.prototype.get=function(){_(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;X(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&et(t),I(),this.cleanupDeps()}return t},Ar.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),!this.depIds.has(e)&&t.addSub(this))},Ar.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Ar.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==kr[e]){if(kr[e]=!0,Or){for(var n=Sr.length-1;n>Tr&&Sr[n].id>t.id;)n--;Sr.splice(n+1,0,t)}else Sr.push(t);wr||(wr=!0,tt(qt))}}(this)},Ar.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(e){X(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Ar.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ar.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Ar.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Dr={enumerable:!0,configurable:!0,get:S,set:S},Br={lazy:!0},Pr=0;(function(t){t.prototype._init=function(t){var e=this;e._uid=Pr++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=z(ee(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&zt(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=lt(e._renderChildren,i),t.$scopedSlots=ci,t._c=function(e,n,i,r){return Bt(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Bt(t,e,n,i,r,!0)};var r=n&&n.data;P(t,"$attrs",r&&r.attrs||ci,null,!0),P(t,"$listeners",e._parentListeners||ci,null,!0)}(e),Yt(e,"beforeCreate"),function(t){var e=ct(t.$options.inject,t);e&&(D(!1),Object.keys(e).forEach((function(n){P(t,n,e[n])})),D(!0))}(e),Kt(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Yt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}})(ne),function(t){var e={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",e),t.prototype.$set=E,t.prototype.$delete=L,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return te(i,t,e,n);(n=n||{}).user=!0;var r=new Ar(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(t){X(t,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(ne),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(i,arguments)}var i=this;return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var o,a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=1<n.length?b(n):n;for(var i=b(arguments,1),r=0,s=n.length;r<s;r++)K(n[r],e,i,e,'event handler for "'+t+'"')}return e}}(ne),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=Wt(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Yt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Yt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(ne),function(t){$t(t.prototype),t.prototype.$nextTick=function(t){return tt(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=dt(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{xr=e,t=i.call(e._renderProxy,e.$createElement)}catch(i){X(i,e,"render"),t=e._vnode}finally{xr=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof Xi||(t=Zi()),t.parent=r,t}}(ne);var Er=[String,RegExp,Array],Lr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Er,exclude:Er,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)ae(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){oe(t,(function(t){return se(e,t)}))})),this.$watch("exclude",(function(e){oe(t,(function(t){return!se(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ft(t),n=e&&e.componentOptions;if(n){var i=re(n),r=this.include,s=this.exclude;if(r&&(!i||!se(r,i))||s&&i&&se(s,i))return e;var o=this.cache,a=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[c]?(e.componentInstance=o[c].componentInstance,v(a,c),a.push(c)):(o[c]=e,a.push(c),this.max&&a.length>parseInt(this.max)&&ae(o,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};(function(t){var e={get:function(){return ki}};Object.defineProperty(t,"config",e),t.util={warn:Gi,extend:x,mergeOptions:z,defineReactive:P},t.set=E,t.delete=L,t.nextTick=tt,t.observable=function(t){return B(t),t},t.options=Object.create(null),Si.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,x(t.options.components,Lr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=b(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=z(this.options,t),this}}(t),ie(t),function(t){Si.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)})(ne),Object.defineProperty(ne.prototype,"$isServer",{get:Ri}),Object.defineProperty(ne.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ne,"FunctionalRenderContext",{value:_t}),ne.version="2.6.10";var Mr,Fr,Hr,Nr,Rr,zr,Wr,Gr,Ur,Yr=m("style,class"),qr=m("input,textarea,option,select,progress"),Xr=function(t,e,n){return"value"===n&&qr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Kr=m("contenteditable,draggable,spellcheck"),Zr=m("events,caret,typing,plaintext-only"),Jr=function(t,e){return is(e)||"false"===e?"false":"contenteditable"===t&&Zr(e)?e:"true"},Qr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ts="http://www.w3.org/1999/xlink",es=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ns=function(t){return es(t)?t.slice(6,t.length):""},is=function(t){return null==t||!1===t},rs={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ss=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),os=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),as=function(t){return ss(t)||os(t)},cs=Object.create(null),ls=m("text,number,password,search,email,tel,url"),us=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"===t?(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n):n},createElementNS:function(t,e){return document.createElementNS(rs[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ds=new Xi("",{},[]),hs=["create","activate","update","remove","destroy"],fs=Object.create(null),ps=/[\w).+\-_$\]]/,ms="__r",vs="__c",gs=or&&!(Ei&&53>=+Ei[1]),ys=y((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var i=t.split(n);1<i.length&&(e[i[0].trim()]=i[1].trim())}})),e})),bs=/^--/,xs=/\s*!important$/,Vs=function(t,e,n){if(bs.test(e))t.style.setProperty(e,n);else if(xs.test(n))t.style.setProperty(gi(e),n.replace(xs,""),"important");else{var i=Cs(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},Ss=["Webkit","Moz","ms"],Cs=y((function(t){if(Ur=Ur||document.createElement("div").style,"filter"!==(t=pi(t))&&t in Ur)return t;for(var e,n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Ss.length;i++)if((e=Ss[i]+n)in Ur)return e})),ks=/\s+/,ws=y((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Os=$i&&!Di,Ts="transition",$s="animation",_s="transition",Is="transitionend",js="animation",As="animationend";Os&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(_s="WebkitTransition",Is="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(js="WebkitAnimation",As="webkitAnimationEnd"));var Ds=$i?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},Bs=/\b(transform|all)(,|$)/,Ps=function(t){function e(t){var e=$.parentNode(t);o(e)&&$.removeChild(e,t)}function n(t,e,n,r,s,c,d){if(o(t.elm)&&o(c)&&(t=c[d]=A(t)),t.isRootInsert=!s,!i(t,e,n,r)){var p=t.data,m=t.children,v=t.tag;o(v)?(t.elm=t.ns?$.createElementNS(t.ns,v):$.createElement(v,t),f(t),u(t,m,e),o(p)&&h(t,e),l(n,t.elm,r)):a(t.isComment)?(t.elm=$.createComment(t.text),l(n,t.elm,r)):(t.elm=$.createTextNode(t.text),l(n,t.elm,r))}}function i(t,e,n,i){var s=t.data;if(o(s)){var c=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1),o(t.componentInstance))return r(t,e),l(n,t.elm,i),a(c)&&function(t,e,n,i){for(var r,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,o(r=s.data)&&o(r=r.transition)){for(r=0;r<O.activate.length;++r)O.activate[r](ds,s);e.push(s);break}l(n,t.elm,i)}(t,e,n,i),!0}}function r(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,d(t)?(h(t,e),f(t)):(pe(t),e.push(t))}function l(t,e,n){o(t)&&(o(n)?$.parentNode(n)===t&&$.insertBefore(t,e,n):$.appendChild(t,e))}function u(t,e,i){if(Array.isArray(e))for(var r=0;r<e.length;++r)n(e[r],i,t.elm,null,!0,e,r);else c(t.text)&&$.appendChild(t.elm,$.createTextNode(t.text+""))}function d(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function h(t,e){for(var n=0;n<O.create.length;++n)O.create[n](ds,t);o(k=t.data.hook)&&(o(k.create)&&k.create(ds,t),o(k.insert)&&e.push(t))}function f(t){var e;if(o(e=t.fnScopeId))$.setStyleScope(t.elm,e);else for(var n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&$.setStyleScope(t.elm,e),n=n.parent;o(e=Vr)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&$.setStyleScope(t.elm,e)}function p(t,e,i,r,s,o){for(;r<=s;++r)n(i[r],o,t,e,!1,i,r)}function v(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<O.destroy.length;++e)O.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)v(t.children[n])}function g(t,n,i,r){for(;i<=r;++i){var s=n[i];o(s)&&(o(s.tag)?(y(s),v(s)):e(s.elm))}}function y(t,n){if(o(n)||o(t.data)){var i,r=O.remove.length+1;for(o(n)?n.listeners+=r:n=function(t,n){function i(){0==--i.listeners&&e(t)}return i.listeners=n,i}(t.elm,r),o(i=t.componentInstance)&&o(i=i._vnode)&&o(i.data)&&y(i,n),i=0;i<O.remove.length;++i)O.remove[i](t,n);o(i=t.data.hook)&&o(i=i.remove)?i(t,n):n()}else e(t.elm)}function b(t,e,i,r,a){for(var c,l,u,d=0,h=0,f=e.length-1,m=e[0],v=e[f],y=i.length-1,b=i[0],S=i[y],C=!a;d<=f&&h<=y;)s(m)?m=e[++d]:s(v)?v=e[--f]:me(m,b)?(V(m,b,r,i,h),m=e[++d],b=i[++h]):me(v,S)?(V(v,S,r,i,y),v=e[--f],S=i[--y]):me(m,S)?(V(m,S,r,i,y),C&&$.insertBefore(t,m.elm,$.nextSibling(v.elm)),m=e[++d],S=i[--y]):me(v,b)?(V(v,b,r,i,h),C&&$.insertBefore(t,v.elm,m.elm),v=e[--f],b=i[++h]):(s(c)&&(c=ve(e,d,f)),s(l=o(b.key)?c[b.key]:x(b,e,d,f))?n(b,r,t,m.elm,!1,i,h):me(u=e[l],b)?(V(u,b,r,i,h),e[l]=void 0,C&&$.insertBefore(t,u.elm,m.elm)):n(b,r,t,m.elm,!1,i,h),b=i[++h]);d>f?p(t,s(i[y+1])?null:i[y+1].elm,i,h,y,r):h>y&&g(0,e,d,f)}function x(t,e,n,i){for(var r,s=n;s<i;s++)if(o(r=e[s])&&me(t,r))return s}function V(t,e,n,i,r,c){if(t!==e){o(e.elm)&&o(i)&&(e=i[r]=A(e));var l=e.elm=t.elm;if(a(t.isAsyncPlaceholder))return void(o(e.asyncFactory.resolved)?C(t.elm,e,n):e.isAsyncPlaceholder=!0);if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))return void(e.componentInstance=t.componentInstance);var u,h=e.data;o(h)&&o(u=h.hook)&&o(u=u.prepatch)&&u(t,e);var f=t.children,m=e.children;if(o(h)&&d(e)){for(u=0;u<O.update.length;++u)O.update[u](t,e);o(u=h.hook)&&o(u=u.update)&&u(t,e)}s(e.text)?o(f)&&o(m)?f!==m&&b(l,f,m,n,c):o(m)?(o(t.text)&&$.setTextContent(l,""),p(l,null,m,0,m.length-1,n)):o(f)?g(0,f,0,f.length-1):o(t.text)&&$.setTextContent(l,""):t.text!==e.text&&$.setTextContent(l,e.text),o(h)&&o(u=h.hook)&&o(u=u.postpatch)&&u(t,e)}}function S(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}function C(t,e,n,i){var s,c=e.tag,l=e.data,d=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(s=l.hook)&&o(s=s.init)&&s(e,!0),o(s=e.componentInstance)))return r(e,n),!0;if(o(c)){if(o(d))if(t.hasChildNodes())if(o(s=l)&&o(s=s.domProps)&&o(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var f=!0,p=t.firstChild,m=0;m<d.length;m++){if(!p||!C(p,d[m],n,i)){f=!1;break}p=p.nextSibling}if(!f||p)return!1}else u(e,d,n);if(o(l)){var v=!1;for(var g in l)if(!_(g)){v=!0,h(e,n);break}!v&&l.class&&et(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var k,w,O={},T=t.modules,$=t.nodeOps;for(k=0;k<hs.length;++k)for(O[hs[k]]=[],w=0;w<T.length;++w)o(T[w][hs[k]])&&O[hs[k]].push(T[w][hs[k]]);var _=m("attrs,class,staticClass,staticStyle,key");return function(t,e,i,r){if(!s(e)){var c=!1,l=[];if(s(t))c=!0,n(e,l);else{var u=o(t.nodeType);if(!u&&me(t,e))V(t,e,l,null,null,r);else{if(u){if(1===t.nodeType&&t.hasAttribute(Vi)&&(t.removeAttribute(Vi),i=!0),a(i)&&C(t,e,l))return S(e,l,!0),t;t=function(t){return new Xi($.tagName(t).toLowerCase(),{},[],void 0,t)}(t)}var h=t.elm,f=$.parentNode(h);if(n(e,l,h._leaveCb?null:f,$.nextSibling(h)),o(e.parent))for(var p=e.parent,m=d(e);p;){for(var y=0;y<O.destroy.length;++y)O.destroy[y](p);if(p.elm=e.elm,m){for(var b=0;b<O.create.length;++b)O.create[b](ds,p);var x=p.data.hook.insert;if(x.merged)for(var k=1;k<x.fns.length;k++)x.fns[k]()}else pe(p);p=p.parent}o(f)?g(0,[t],0,0):o(t.tag)&&v(t)}}return S(e,l,c),e.elm}o(t)&&v(t)}}({nodeOps:us,modules:[{create:Ve,update:Ve},{create:ke,update:ke},{create:Xe,update:Xe},{create:Ke,update:Ke},{create:tn,update:tn},$i?{create:vn,activate:vn,remove:function(t,e){!0===t.data.show?e():fn(t,e)}}:{}].concat([{create:function(t,e){pe(e)},update:function(t,e){t.data.ref!==e.data.ref&&(pe(t,!0),pe(e))},destroy:function(t){pe(t,!0)}},{create:ge,update:ge,destroy:function(t){ge(t,ds)}}])});Di&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Cn(t,"input")}));var Es={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?rt(n,"postpatch",(function(){Es.componentUpdated(t,e,n)})):gn(t,e,n.context),t._vOptions=[].map.call(t.options,xn)):("textarea"===n.tag||ls(t.type))&&(t._vModifiers=e.modifiers,!e.modifiers.lazy&&(t.addEventListener("compositionstart",Vn),t.addEventListener("compositionend",Sn),t.addEventListener("change",Sn),Di&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){gn(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,xn);if(r.some((function(t,e){return!C(t,i[e])})))(t.multiple?e.value.some((function(t){return bn(t,r)})):e.value!==e.oldValue&&bn(e.value,r))&&Cn(t,"change")}}},Ls={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Ms=function(t){return t.tag||Mt(t)},Fs=function(t){return"show"===t.name},Hs=x({tag:String,moveClass:String},Ls);delete Hs.mode,ne.config.mustUseProp=Xr,ne.config.isReservedTag=as,ne.config.isReservedAttr=Yr,ne.config.getTagNamespace=he,ne.config.isUnknownElement=function(t){if(!$i)return!0;if(as(t))return!1;if(t=t.toLowerCase(),null!=cs[t])return cs[t];var e=document.createElement(t);return-1<t.indexOf("-")?cs[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:cs[t]=/HTMLUnknownElement/.test(e.toString())},x(ne.options.directives,{model:Es,show:{bind:function(t,e,n){var i=e.value,r=(n=kn(n)).data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,hn(n,(function(){t.style.display=s}))):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=kn(n)).data&&n.data.transition?(n.data.show=!0,i?hn(n,(function(){t.style.display=t.__vOriginalDisplay})):fn(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}}),x(ne.options.components,{Transition:{name:"transition",props:Ls,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ms)).length){var i=this.mode,r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var s=wn(r);if(!s)return r;if(this._leaving)return Tn(t,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:c(s.key)?0===(s.key+"").indexOf(o)?s.key:o+s.key:s.key;var a=(s.data||(s.data={})).transition=On(this),l=this._vnode,u=wn(l);if(s.data.directives&&s.data.directives.some(Fs)&&(s.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(s,u)&&!Mt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=x({},a);if("out-in"===i)return this._leaving=!0,rt(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Tn(t,r);if("in-out"===i){if(Mt(s))return l;var h,f=function(){h()};rt(a,"afterEnter",f),rt(a,"enterCancelled",f),rt(d,"delayLeave",(function(t){h=t}))}}return r}}},TransitionGroup:{props:Hs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Wt(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e,n=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),r=this.prevChildren=this.children,s=this.$slots.default||[],o=this.children=[],a=On(this),c=0;c<s.length;c++)(e=s[c]).tag&&null!=e.key&&0!==(e.key+"").indexOf("__vlist")&&(o.push(e),i[e.key]=e,(e.data||(e.data={})).transition=a);if(r){for(var l,u=[],d=[],h=0;h<r.length;h++)(l=r[h]).data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),i[l.key]?u.push(l):d.push(l);this.kept=t(n,null,u),this.removed=d}return t(n,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach($n),t.forEach(_n),t.forEach(In),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;on(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Is,n._moveCb=function t(i){i&&i.target!==n||(!i||/transform$/.test(i.propertyName))&&(n.removeEventListener(Is,t),n._moveCb=null,an(n,e))})}})))},methods:{hasMove:function(t,e){if(!Os)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){nn(n,t)})),en(n,e),n.style.display="none",this.$el.appendChild(n);var i=ln(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}}),ne.prototype.__patch__=$i?Ps:S,ne.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=Zi),Yt(t,"beforeMount"),i=function(){t._update(t._render(),n)},new Ar(t,i,S,{before:function(){t._isMounted&&!t._isDestroyed&&Yt(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Yt(t,"mounted")),t}(this,t=t&&$i?fe(t):void 0,e)},$i&&setTimeout((function(){ki.devtools&&!!zi&&zi.emit("init",ne)}),0);var Ns,Rs,zs,Ws,Gs,Us,Ys,qs,Xs,Ks,Zs,Js,Qs=/\{\{((?:.|\r?\n)+?)\}\}/g,to=/[-.*+?^${}()|[\]\/\\]/g,eo=y((function(t){var e=t[0].replace(to,"\\$&"),n=t[1].replace(to,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),no=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),io=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ro=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),so=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,oo=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ao="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+wi.source+"]*",co="((?:"+ao+"\\:)?"+ao+")",lo=new RegExp("^<"+co),uo=/^\s*(\/?)>/,ho=new RegExp("^<\\/"+co+"[^>]*>"),fo=/^<!DOCTYPE [^>]+>/i,po=/^<!\--/,mo=/^<!\[/,vo=m("script,style,textarea",!0),go={},yo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},bo=/&(?:lt|gt|quot|amp|#39);/g,xo=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Vo=m("pre,textarea",!0),So=function(t,e){return t&&Vo(t)&&"\n"===e[0]},Co=/^@|^v-on:/,ko=/^v-|^@|^:/,wo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Oo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,To=/^\(|\)$/g,$o=/^\[.*\]$/,_o=/:(.*)$/,Io=/^:|^\.|^v-bind:/,jo=/\.[^.\]]+(?=[^\]]*$)/g,Ao=/^v-slot(:|$)|^#/,Do=/[\r\n]/,Bo=/\s+/g,Po=y((function(t){return(Ns=Ns||document.createElement("div")).innerHTML=t,Ns.textContent})),Eo="_empty_",Lo=/^xmlns:NS\d+/,Mo=/^NS\d+:/,Fo=[{staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Ee(t,"class");n&&(t.staticClass=JSON.stringify(n));var i=Pe(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},{staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Ee(t,"style");n&&(t.staticStyle=JSON.stringify(ys(n)));var i=Pe(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},{preTransformNode:function(t,e){if("input"===t.tag){var n,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Pe(t,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Ee(t,"v-if",!0),s=r?"&&("+r+")":"",o=null!=Ee(t,"v-else",!0),a=Ee(t,"v-else-if",!0),c=Hn(t);Pn(c),je(c,"type","checkbox"),Bn(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+s,En(c,{exp:c.if,block:c});var l=Hn(t);Ee(l,"v-for",!0),je(l,"type","radio"),Bn(l,e),En(c,{exp:"("+n+")==='radio'"+s,block:l});var u=Hn(t);return Ee(u,"v-for",!0),je(u,":type",n),Bn(u,e),En(c,{exp:r,block:u}),o?c.else=!0:a&&(c.elseif=a),c}}}}],Ho={expectHTML:!0,modules:Fo,directives:{model:function(t,e,n){var i=e.value,r=e.modifiers,s=t.tag,o=t.attrsMap.type;if(t.component)return Fe(t,i,r),!1;if("select"===s)!function(t,e,n){var i="var $$selectedVal = "+('Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"})")+";";Be(t,"change",i=i+" "+He(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,i,r);else if("input"===s&&"checkbox"===o)!function(t,e,n){var i=n&&n.number,r=Pe(t,"value")||"null",s=Pe(t,"true-value")||"true",o=Pe(t,"false-value")||"false";_e(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===s?":("+e+")":":_q("+e+","+s+")")),Be(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+s+"):("+o+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+He(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+He(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+He(e,"$$c")+"}",null,!0)}(t,i,r);else if("input"===s&&"radio"===o)!function(t,e,n){var i=n&&n.number,r=Pe(t,"value")||"null";_e(t,"checked","_q("+e+","+(r=i?"_n("+r+")":r)+")"),Be(t,"change",He(e,r),null,!0)}(t,i,r);else if("input"===s||"textarea"===s)!function(t,e,n){var i=t.attrsMap.type,r=n||{},s=r.lazy,o=r.number,a=r.trim,c=s?"change":"range"===i?ms:"input",l="$event.target.value";a&&(l="$event.target.value.trim()"),o&&(l="_n("+l+")");var u=He(e,l);!s&&"range"!==i&&(u="if($event.target.composing)return;"+u),_e(t,"value","("+e+")"),Be(t,c,u,null,!0),(a||o)&&Be(t,"blur","$forceUpdate()")}(t,i,r);else if(!ki.isReservedTag(s))return Fe(t,i,r),!1;return!0},text:function(t,e){e.value&&_e(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&_e(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:no,mustUseProp:Xr,canBeLeftOpenTag:io,isReservedTag:as,getTagNamespace:he,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(Fo)},No=y((function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))})),Ro=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,zo=/\([^)]*?\);*$/,Wo=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Go={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Uo={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Yo=function(t){return"if("+t+")return null;"},qo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Yo("$event.target !== $event.currentTarget"),ctrl:Yo("!$event.ctrlKey"),shift:Yo("!$event.shiftKey"),alt:Yo("!$event.altKey"),meta:Yo("!$event.metaKey"),left:Yo("'button' in $event && $event.button !== 0"),middle:Yo("'button' in $event && $event.button !== 1"),right:Yo("'button' in $event && $event.button !== 2")},Xo={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:S},Ko=function(t){this.options=t,this.warn=t.warn||Te,this.transforms=$e(t.modules,"transformCode"),this.dataGenFns=$e(t.modules,"genData"),this.directives=x(x({},Xo),t.directives);var e=t.isReservedTag||bi;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1},Zo=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+["delete","typeof","void"].join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(t){function e(e,n){var i=Object.create(t),r=[],s=[];if(n)for(var o in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=x(Object.create(t.directives||null),n.directives)),n)"modules"!==o&&"directives"!==o&&(i[o]=n[o]);i.warn=function(t,e,n){(n?s:r).push(t)};var a=function(t,e){var n=Dn(t.trim(),e);!1!==e.optimize&&Nn(n,e);var i=Gn(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}}(e.trim(),i);return a.errors=r,a.tips=s,a}return{compile:e,compileToFunctions:oi(e)}}(Ho)),Jo=(Zo.compile,Zo.compileToFunctions),Qo=!!$i&&ai(!1),ta=!!$i&&ai(!0),ea=y((function(t){var e=fe(t);return e&&e.innerHTML})),na=ne.prototype.$mount;ne.prototype.$mount=function(t,e){if((t=t&&fe(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=ea(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){var r=Jo(i,{outputSourceRange:!1,shouldDecodeNewlines:Qo,shouldDecodeNewlinesForHref:ta,delimiters:n.delimiters,comments:n.comments},this),s=r.render,o=r.staticRenderFns;n.render=s,n.staticRenderFns=o}}return na.call(this,t,e)},ne.compile=Jo,i.default=ne}.call(this,r(2),r(14).setImmediate)},function(t){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(i,r,s){!function(t,e){i.exports=e(s(1))}("undefined"==typeof self||self,(function(i){var r=Math.sqrt,s=Math.pow,o=Math.PI,a=Math.abs,c=Math.sign,l=Math.ceil,u=Math.round;return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s="./src/index.ts")}({"./src/components/VAlert/VAlert.sass":
/*!*******************************************!*\
  !*** ./src/components/VAlert/VAlert.sass ***!
  \*******************************************/
/*! no static exports found */function(){},"./src/components/VAlert/VAlert.ts":
/*!*****************************************!*\
  !*** ./src/components/VAlert/VAlert.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAlert.sass */"./src/components/VAlert/VAlert.sass"),r=(n.n(i),n(/*! ../VSheet */"./src/components/VSheet/index.ts")),s=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),a=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable/index.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=n(/*! ../../util/console */"./src/util/console.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(u.default)(r.default,a.default,l.default).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(t){return"string"==typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){var t;if(!this.border)return null;var e={staticClass:"v-alert__border",class:(t={},t["v-alert__border--"+this.border]=!0,t)};return this.coloredBorder&&((e=this.setBackgroundColor(this.computedColor,e)).class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(s.default,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o.default,{props:{color:e}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o.default,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=h({},r.default.options.computed.classes.call(this),{"v-alert--border":!!this.border,"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-"+this.border]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon:function(){return this.hasText||!!this.border&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c.default.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(d.breaking)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(t=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,t));return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"./src/components/VAlert/index.ts":
/*!****************************************!*\
  !*** ./src/components/VAlert/index.ts ***!
  \****************************************/
/*! exports provided: VAlert, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAlert */"./src/components/VAlert/VAlert.ts");n.d(e,"VAlert",(function(){return i.default})),e.default=i.default},"./src/components/VApp/VApp.sass":
/*!***************************************!*\
  !*** ./src/components/VApp/VApp.sass ***!
  \***************************************/
/*! no static exports found */function(){},"./src/components/VApp/VApp.ts":
/*!*************************************!*\
  !*** ./src/components/VApp/VApp.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VApp.sass */"./src/components/VApp/VApp.sass"),r=(n.n(i),n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts")),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(s.default)(r.default).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(t){var e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:o({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},"./src/components/VApp/index.ts":
/*!**************************************!*\
  !*** ./src/components/VApp/index.ts ***!
  \**************************************/
/*! exports provided: VApp, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VApp */"./src/components/VApp/VApp.ts");n.d(e,"VApp",(function(){return i.default})),e.default=i.default},"./src/components/VAppBar/VAppBar.sass":
/*!*********************************************!*\
  !*** ./src/components/VAppBar/VAppBar.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VAppBar/VAppBar.ts":
/*!*******************************************!*\
  !*** ./src/components/VAppBar/VAppBar.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,n,i){"use strict";i.r(n);var r=i(/*! ./VAppBar.sass */"./src/components/VAppBar/VAppBar.sass"),s=(i.n(r),i(/*! ../VToolbar/VToolbar */"./src/components/VToolbar/VToolbar.ts")),o=i(/*! ../../directives/scroll */"./src/directives/scroll/index.ts"),a=i(/*! ../../mixins/applicationable */"./src/mixins/applicationable/index.ts"),c=i(/*! ../../mixins/scrollable */"./src/mixins/scrollable/index.ts"),l=i(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable/index.ts"),u=i(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),d=i(/*! ../../util/helpers */"./src/util/helpers.ts"),h=i(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},p=Object(h.default)(s.default,c.default,l.default,u.default,Object(a.default)("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));n.default=p.extend({name:"v-app-bar",directives:{Scroll:o.default},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data:function(){return{isActive:this.value}},computed:{applicationProperty:function(){return this.bottom?"bottom":"top"},canScroll:function(){return c.default.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes:function(){return f({},s.default.options.computed.classes.call(this),{"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":0<this.currentScroll,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll})},computedContentHeight:function(){if(!this.shrinkOnScroll)return s.default.options.computed.computedContentHeight.call(this);var t=this.computedOriginalHeight,n=this.dense?48:56,i=t,r=(i-n)/this.computedScrollThreshold,o=this.currentScroll*r;return e(n,i-o)},computedFontSize:function(){if(this.isProminent)return+(1.5-.00347*((this.dense?96:128)-this.computedContentHeight)).toFixed(2)},computedLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},computedOpacity:function(){if(this.fadeImgOnScroll){var t=e((this.computedScrollThreshold-this.currentScroll)/this.computedScrollThreshold,0);return+parseFloat(t).toFixed(2)}},computedOriginalHeight:function(){var t=s.default.options.computed.computedContentHeight.call(this);return this.isExtended&&(t+=parseInt(this.extensionHeight)),t},computedRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold:function(){return this.scrollThreshold?+this.scrollThreshold:this.computedOriginalHeight-(this.dense?48:56)},computedTransform:function(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;var t=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?t:-t},hideShadow:function(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||0>this.computedTransform:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed:function(){return this.collapseOnScroll?0<this.currentScroll:s.default.options.computed.isCollapsed.call(this)},isProminent:function(){return s.default.options.computed.isProminent.call(this)||this.shrinkOnScroll},styles:function(){return f({},s.default.options.computed.styles.call(this),{fontSize:Object(d.convertToUnit)(this.computedFontSize,"rem"),marginTop:Object(d.convertToUnit)(this.computedMarginTop),transform:"translateY("+Object(d.convertToUnit)(this.computedTransform)+")",left:Object(d.convertToUnit)(this.computedLeft),right:Object(d.convertToUnit)(this.computedRight)})}},watch:{canScroll:"onScroll",computedTransform:function(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll:function(t){this.isActive=!t}},created:function(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground:function(){var t=s.default.options.methods.genBackground.call(this);return t.data=this._b(t.data||{},t.tag,{style:{opacity:this.computedOpacity}}),t},updateApplication:function(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet:function(){return this.invertedScroll?void(this.isActive=this.currentScroll>this.computedScrollThreshold):void(this.currentThreshold<this.computedScrollThreshold||(this.hideOnScroll&&(this.isActive=this.isScrollingUp),this.savedScroll=this.currentScroll))}},render:function(t){var e=s.default.options.render.call(this,t);return e.data=e.data||{},this.canScroll&&(e.data.directives=e.data.directives||[],e.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e}})},"./src/components/VAppBar/VAppBarNavIcon.ts":
/*!**************************************************!*\
  !*** ./src/components/VAppBar/VAppBarNavIcon.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../VBtn/VBtn */"./src/components/VBtn/VBtn.ts"),s=n(/*! vue */"vue"),o=n.n(s),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=o.a.extend({name:"v-app-bar-nav-icon",functional:!0,render:function(t,e){var n=e.slots,s=e.listeners,o=e.props,c=e.data,l=Object.assign(c,{staticClass:("v-app-bar__nav-icon "+(c.staticClass||"")).trim(),props:a({},o,{icon:!0}),on:s}),u=n().default;return t(r.default,l,u||[t(i.default,"$menu")])}})},"./src/components/VAppBar/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VAppBar/index.ts ***!
  \*****************************************/
/*! exports provided: VAppBar, VAppBarNavIcon, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAppBar */"./src/components/VAppBar/VAppBar.ts");n.d(e,"VAppBar",(function(){return i.default}));var r=n(/*! ./VAppBarNavIcon */"./src/components/VAppBar/VAppBarNavIcon.ts");n.d(e,"VAppBarNavIcon",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VAppBar:i.default,VAppBarNavIcon:r.default}}},"./src/components/VAutocomplete/VAutocomplete.sass":
/*!*********************************************************!*\
  !*** ./src/components/VAutocomplete/VAutocomplete.sass ***!
  \*********************************************************/
/*! no static exports found */function(){},"./src/components/VAutocomplete/VAutocomplete.ts":
/*!*******************************************************!*\
  !*** ./src/components/VAutocomplete/VAutocomplete.ts ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAutocomplete.sass */"./src/components/VAutocomplete/VAutocomplete.sass"),r=(n.n(i),n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.ts")),s=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=a({},r.defaultMenuProps,{offsetY:!0,offsetOverflow:!0,transition:!1});e.default=r.default.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return-1<n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}},hideNoData:Boolean,menuProps:{type:r.default.options.props.menuProps.type,default:function(){return c}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return a({},r.default.options.computed.classes.call(this),{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":-1<this.selectedIndex})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):0<this.filteredItems.length},currentRange:function(){return null==this.selectedItem?0:(this.getText(this.selectedItem)+"").length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){return t.filter(e,t.internalSearch+"",t.getText(e)+"")}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||0<this.selectedItems.length},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=r.default.options.computed.$_menuProps.call(this);return t.contentClass=("v-autocomplete__content "+(t.contentClass||"")).trim(),a({},c,t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=r.default.options.computed.listData.call(this);return t.props=a({},t.props,{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){t||!this.hasSlot||(this.lazySearch=void 0)},items:function(t,e){(!e||!e.length)&&this.hideNoData&&this.isFocused&&!this.isMenuActive&&t.length&&this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(t,e){var n=this;t===e||(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){if(!this.searchIsDirty&&this.multiple&&[o.keyCodes.backspace,o.keyCodes.left,o.keyCodes.right,o.keyCodes.delete].includes(t)){var e=this.selectedItems.length-1;if(t===o.keyCodes.left)-1===this.selectedIndex?this.selectedIndex=e:this.selectedIndex--;else if(t===o.keyCodes.right)this.selectedIndex>=e?this.selectedIndex=-1:this.selectedIndex++;else if(-1===this.selectedIndex)return void(this.selectedIndex=e);var n=this.selectedItems[this.selectedIndex];if([o.keyCodes.backspace,o.keyCodes.delete].includes(t)&&!this.getDisabled(n)&&!this.readonly){var i=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===i?this.setValue(this.multiple?[]:void 0):this.selectItem(n),this.selectedIndex=i}}},clearableCallback:function(){this.internalSearch=void 0,r.default.options.methods.clearableCallback.call(this)},genInput:function(){var t=s.default.options.methods.genInput.call(this);return t.data=t.data||{},t.data.attrs=t.data.attrs||{},t.data.attrs.autocomplete=t.data.attrs.autocomplete||"disabled",t.data.domProps=t.data.domProps||{},t.data.domProps.value=this.internalSearch,t},genInputSlot:function(){var t=r.default.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?r.default.options.methods.genSelections.call(this):[]},onClick:function(){this.isDisabled||(-1<this.selectedIndex?this.selectedIndex=-1:this.onFocus(),this.activateMenu())},onInput:function(t){if(!(-1<this.selectedIndex)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;r.default.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(){},onTabDown:function(t){r.default.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(){this.activateMenu()},selectItem:function(t){r.default.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){r.default.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return-1<this.selectedValues.indexOf(this.getValue(t))},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],n=this.getText(e);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}}})},"./src/components/VAutocomplete/index.ts":
/*!***********************************************!*\
  !*** ./src/components/VAutocomplete/index.ts ***!
  \***********************************************/
/*! exports provided: VAutocomplete, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAutocomplete */"./src/components/VAutocomplete/VAutocomplete.ts");n.d(e,"VAutocomplete",(function(){return i.default})),e.default=i.default},"./src/components/VAvatar/VAvatar.sass":
/*!*********************************************!*\
  !*** ./src/components/VAvatar/VAvatar.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VAvatar/VAvatar.ts":
/*!*******************************************!*\
  !*** ./src/components/VAvatar/VAvatar.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAvatar.sass */"./src/components/VAvatar/VAvatar.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/measurable */"./src/mixins/measurable/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(r.default,s.default).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48},tile:Boolean},computed:{classes:function(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,"v-avatar--tile":this.tile}},styles:function(){return c({height:Object(o.convertToUnit)(this.size),minWidth:Object(o.convertToUnit)(this.size),width:Object(o.convertToUnit)(this.size)},this.measurableStyles)}},render:function(t){var e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},"./src/components/VAvatar/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VAvatar/index.ts ***!
  \*****************************************/
/*! exports provided: VAvatar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAvatar */"./src/components/VAvatar/VAvatar.ts");n.d(e,"VAvatar",(function(){return i.default})),e.default=i.default},"./src/components/VBadge/VBadge.sass":
/*!*******************************************!*\
  !*** ./src/components/VBadge/VBadge.sass ***!
  \*******************************************/
/*! no static exports found */function(){},"./src/components/VBadge/VBadge.ts":
/*!*****************************************!*\
  !*** ./src/components/VBadge/VBadge.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBadge.sass */"./src/components/VBadge/VBadge.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),o=n(/*! ../../mixins/positionable */"./src/mixins/positionable/index.ts"),a=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable/index.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(c.default)(r.default,s.default,Object(o.factory)(["left","bottom"]),a.default).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render:function(t){var e=this.$slots.badge&&[t("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return t("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e):e])}})},"./src/components/VBadge/index.ts":
/*!****************************************!*\
  !*** ./src/components/VBadge/index.ts ***!
  \****************************************/
/*! exports provided: VBadge, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBadge */"./src/components/VBadge/VBadge.ts");n.d(e,"VBadge",(function(){return i.default})),e.default=i.default},"./src/components/VBanner/VBanner.sass":
/*!*********************************************!*\
  !*** ./src/components/VBanner/VBanner.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VBanner/VBanner.ts":
/*!*******************************************!*\
  !*** ./src/components/VBanner/VBanner.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBanner.sass */"./src/components/VBanner/VBanner.sass"),r=(n.n(i),n(/*! ../VSheet */"./src/components/VSheet/index.ts")),s=n(/*! ../VAvatar */"./src/components/VAvatar/index.ts"),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),a=n(/*! ../transitions */"./src/components/transitions/index.ts"),c=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(l.default)(r.default,c.default).extend({name:"v-banner",inheritAttrs:!1,props:{icon:String,iconColor:String,mobileBreakPoint:{type:[Number,String],default:960},singleLine:Boolean,sticky:Boolean,tile:{type:Boolean,default:!0},value:{type:Boolean,default:!0}},computed:{classes:function(){return u({},r.default.options.computed.classes.call(this),{"v-banner--has-icon":this.hasIcon,"v-banner--is-mobile":this.isMobile,"v-banner--single-line":this.singleLine,"v-banner--sticky":this.sticky})},hasActions:function(){return!(!this.$slots.actions&&!this.$scopedSlots.actions)},hasIcon:function(){return!(!this.icon&&!this.$slots.icon)},isMobile:function(){return this.$vuetify.breakpoint.width<+this.mobileBreakPoint},styles:function(){var t=r.default.options.computed.styles.call(this);if(!this.sticky)return t;var e=this.$vuetify.application,n=e.bar,i=e.top;return u({},t,{position:"sticky",top:n+i+"px",zIndex:1})}},methods:{toggle:function(){this.isActive=!this.isActive},iconClick:function(t){this.$emit("click:icon",t)},genIcon:function(){var t;if(this.hasIcon)return t=this.icon?this.$createElement(o.default,{props:{color:this.iconColor,size:28}},[this.icon]):this.$slots.icon,this.$createElement(s.default,{staticClass:"v-banner__icon",props:{color:this.color,size:40},on:{click:this.iconClick}},[t])},genText:function(){return this.$createElement("div",{staticClass:"v-banner__text"},this.$slots.default)},genActions:function(){var t=this;if(this.hasActions){var e=this.$scopedSlots.actions?this.$scopedSlots.actions({dismiss:function(){return t.isActive=!1}}):this.$slots.actions;return this.$createElement("div",{staticClass:"v-banner__actions"},e)}},genContent:function(){return this.$createElement("div",{staticClass:"v-banner__content"},[this.genIcon(),this.genText()])},genWrapper:function(){return this.$createElement("div",{staticClass:"v-banner__wrapper"},[this.genContent(),this.genActions()])}},render:function(t){return t(a.VExpandTransition,[t("div",{staticClass:"v-banner",class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]},[this.genWrapper()])])}})},"./src/components/VBanner/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VBanner/index.ts ***!
  \*****************************************/
/*! exports provided: VBanner, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBanner */"./src/components/VBanner/VBanner.ts");n.d(e,"VBanner",(function(){return i.default})),e.default=i.default},"./src/components/VBottomNavigation/VBottomNavigation.sass":
/*!*****************************************************************!*\
  !*** ./src/components/VBottomNavigation/VBottomNavigation.sass ***!
  \*****************************************************************/
/*! no static exports found */function(){},"./src/components/VBottomNavigation/VBottomNavigation.ts":
/*!***************************************************************!*\
  !*** ./src/components/VBottomNavigation/VBottomNavigation.ts ***!
  \***************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomNavigation.sass */"./src/components/VBottomNavigation/VBottomNavigation.sass"),r=(n.n(i),n(/*! ../../mixins/applicationable */"./src/mixins/applicationable/index.ts")),s=n(/*! ../../mixins/button-group */"./src/mixins/button-group/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),a=n(/*! ../../mixins/measurable */"./src/mixins/measurable/index.ts"),c=n(/*! ../../mixins/proxyable */"./src/mixins/proxyable/index.ts"),l=n(/*! ../../mixins/scrollable */"./src/mixins/scrollable/index.ts"),u=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),d=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=n(/*! ../../util/console */"./src/util/console.ts"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(h.default)(Object(r.default)("bottom",["height","inputValue"]),o.default,a.default,Object(d.factory)("inputValue"),c.default,l.default,u.default).extend({name:"v-bottom-navigation",props:{activeClass:{type:String,default:"v-btn--active"},backgroundColor:String,grow:Boolean,height:{type:[Number,String],default:56},hideOnScroll:Boolean,horizontal:Boolean,inputValue:{type:Boolean,default:!0},mandatory:Boolean,shift:Boolean},data:function(){return{isActive:this.inputValue}},computed:{canScroll:function(){return l.default.options.computed.canScroll.call(this)&&(this.hideOnScroll||!this.inputValue)},classes:function(){return{"v-bottom-navigation--absolute":this.absolute,"v-bottom-navigation--grow":this.grow,"v-bottom-navigation--fixed":!this.absolute&&(this.app||this.fixed),"v-bottom-navigation--horizontal":this.horizontal,"v-bottom-navigation--shift":this.shift}},styles:function(){return p({},this.measurableStyles,{transform:this.isActive?"none":"translateY(100%)"})}},created:function(){this.$attrs.hasOwnProperty("active")&&Object(f.breaking)("active.sync","value or v-model",this)},methods:{thresholdMet:function(){this.isActive=!this.isScrollingUp,this.$emit("update:input-value",this.isActive)},updateApplication:function(){return this.$el?this.$el.clientHeight:0},updateValue:function(t){this.$emit("change",t)}},render:function(t){var e=this.setBackgroundColor(this.backgroundColor,{staticClass:"v-bottom-navigation",class:this.classes,style:this.styles,props:{activeClass:this.activeClass,mandatory:!(!this.mandatory&&void 0===this.value),value:this.internalValue},on:{change:this.updateValue}});return this.canScroll&&(e.directives=e.directives||[],e.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t(s.default,this.setTextColor(this.color,e),this.$slots.default)}})},"./src/components/VBottomNavigation/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VBottomNavigation/index.ts ***!
  \***************************************************/
/*! exports provided: VBottomNavigation, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomNavigation */"./src/components/VBottomNavigation/VBottomNavigation.ts");n.d(e,"VBottomNavigation",(function(){return i.default})),e.default=i.default},"./src/components/VBottomSheet/VBottomSheet.sass":
/*!*******************************************************!*\
  !*** ./src/components/VBottomSheet/VBottomSheet.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VBottomSheet/VBottomSheet.ts":
/*!*****************************************************!*\
  !*** ./src/components/VBottomSheet/VBottomSheet.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomSheet.sass */"./src/components/VBottomSheet/VBottomSheet.sass"),r=(n.n(i),n(/*! ../VDialog/VDialog */"./src/components/VDialog/VDialog.ts")),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.default.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return s({},r.default.options.computed.classes.call(this),{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}})},"./src/components/VBottomSheet/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VBottomSheet/index.ts ***!
  \**********************************************/
/*! exports provided: VBottomSheet, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomSheet */"./src/components/VBottomSheet/VBottomSheet.ts");n.d(e,"VBottomSheet",(function(){return i.default})),e.default=i.default},"./src/components/VBreadcrumbs/VBreadcrumbs.sass":
/*!*******************************************************!*\
  !*** ./src/components/VBreadcrumbs/VBreadcrumbs.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VBreadcrumbs/VBreadcrumbs.ts":
/*!*****************************************************!*\
  !*** ./src/components/VBreadcrumbs/VBreadcrumbs.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBreadcrumbs.sass */"./src/components/VBreadcrumbs/VBreadcrumbs.sass"),r=(n.n(i),n(/*! . */"./src/components/VBreadcrumbs/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(s.default).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return a({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(r.VBreadcrumbsDivider,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t,e=[],n=!!this.$scopedSlots.item,i=[],s=0;s<this.items.length;s++)t=this.items[s],i.push(t.text),n?e.push(this.$scopedSlots.item({item:t})):e.push(this.$createElement(r.VBreadcrumbsItem,{key:i.join("."),props:t},[t.text])),s<this.items.length-1&&e.push(this.genDivider());return e}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"./src/components/VBreadcrumbs/VBreadcrumbsItem.ts":
/*!*********************************************************!*\
  !*** ./src/components/VBreadcrumbs/VBreadcrumbsItem.ts ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(r.default)(i.default).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){var t;return(t={"v-breadcrumbs__item":!0})[this.activeClass]=this.disabled,t}},render:function(t){var e=this.generateRouteLink(),n=e.tag,i=e.data;return t("li",[t(n,s({},i,{attrs:s({},i.attrs,{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})},"./src/components/VBreadcrumbs/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VBreadcrumbs/index.ts ***!
  \**********************************************/
/*! exports provided: VBreadcrumbs, VBreadcrumbsItem, VBreadcrumbsDivider, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VBreadcrumbsDivider",(function(){return o}));var i=n(/*! ./VBreadcrumbs */"./src/components/VBreadcrumbs/VBreadcrumbs.ts");n.d(e,"VBreadcrumbs",(function(){return i.default}));var r=n(/*! ./VBreadcrumbsItem */"./src/components/VBreadcrumbs/VBreadcrumbsItem.ts");n.d(e,"VBreadcrumbsItem",(function(){return r.default}));var s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=Object(s.createSimpleFunctional)("v-breadcrumbs__divider","li");e.default={$_vuetify_subcomponents:{VBreadcrumbs:i.default,VBreadcrumbsItem:r.default,VBreadcrumbsDivider:o}}},"./src/components/VBtn/VBtn.sass":
/*!***************************************!*\
  !*** ./src/components/VBtn/VBtn.sass ***!
  \***************************************/
/*! no static exports found */function(){},"./src/components/VBtn/VBtn.ts":
/*!*************************************!*\
  !*** ./src/components/VBtn/VBtn.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var r=n(/*! ./VBtn.sass */"./src/components/VBtn/VBtn.sass"),s=(n.n(r),n(/*! ../VSheet */"./src/components/VSheet/index.ts")),o=n(/*! ../VProgressCircular */"./src/components/VProgressCircular/index.ts"),a=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),c=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),l=n(/*! ../../mixins/positionable */"./src/mixins/positionable/index.ts"),u=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),d=n(/*! ../../mixins/sizeable */"./src/mixins/sizeable/index.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=n(/*! ../../util/console */"./src/util/console.ts"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},m=Object(h.default)(s.default,u.default,l.default,d.default,Object(a.factory)("btnToggle"),Object(c.factory)("inputValue"));e.default=m.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:function(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,type:{type:String,default:"button"},value:null},data:function(){return{proxyClass:"v-btn--active"}},computed:{classes:function(){return p({"v-btn":!0},u.default.options.computed.classes.call(this),{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--contained":this.contained,"v-btn--depressed":this.depressed||this.outlined,"v-btn--disabled":this.disabled,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--flat":this.isFlat,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses,this.groupClasses,this.elevationClasses,this.sizeableClasses)},contained:function(){return!(this.isFlat||this.depressed||this.elevation)},computedRipple:function(){var t=!(this.icon||this.fab)||{circle:!0};return!this.disabled&&(null==this.ripple?t:this.ripple)},isFlat:function(){return!!(this.icon||this.text||this.outlined)},isRound:function(){return!(!this.icon&&!this.fab)},styles:function(){return p({},this.measurableStyles)}},created:function(){var t=this;[["flat","text"],["outline","outlined"],["round","rounded"]].forEach((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,2),i=n[0],r=n[1];t.$attrs.hasOwnProperty(i)&&Object(f.breaking)(i,r,t)}))},methods:{click:function(t){this.retainFocusOnClick||this.fab||!t.detail||this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(o.default,{props:{indeterminate:!0,size:23,width:2}})])}},render:function(t){var e=[this.genContent(),this.loading&&this.genLoader()],n=this.isFlat?this.setTextColor:this.setBackgroundColor,r=this.generateRouteLink(),s=r.tag,o=r.data;return"button"===s&&(o.attrs.type=this.type,o.attrs.disabled=this.disabled),o.attrs.value=["string","number"].includes(i(this.value))?this.value:JSON.stringify(this.value),t(s,this.disabled?o:n(this.color,o),e)}})},"./src/components/VBtn/index.ts":
/*!**************************************!*\
  !*** ./src/components/VBtn/index.ts ***!
  \**************************************/
/*! exports provided: VBtn, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBtn */"./src/components/VBtn/VBtn.ts");n.d(e,"VBtn",(function(){return i.default})),e.default=i.default},"./src/components/VBtnToggle/VBtnToggle.sass":
/*!***************************************************!*\
  !*** ./src/components/VBtnToggle/VBtnToggle.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VBtnToggle/VBtnToggle.ts":
/*!*************************************************!*\
  !*** ./src/components/VBtnToggle/VBtnToggle.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBtnToggle.sass */"./src/components/VBtnToggle/VBtnToggle.sass"),r=(n.n(i),n(/*! ../../mixins/button-group */"./src/mixins/button-group/index.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(r.default,s.default).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return a({},r.default.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,a({},r.default.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}})},"./src/components/VBtnToggle/index.ts":
/*!********************************************!*\
  !*** ./src/components/VBtnToggle/index.ts ***!
  \********************************************/
/*! exports provided: VBtnToggle, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBtnToggle */"./src/components/VBtnToggle/VBtnToggle.ts");n.d(e,"VBtnToggle",(function(){return i.default})),e.default=i.default},"./src/components/VCalendar/VCalendar.ts":
/*!***********************************************!*\
  !*** ./src/components/VCalendar/VCalendar.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mixins/calendar-with-events */"./src/components/VCalendar/mixins/calendar-with-events.ts"),r=n(/*! ./util/props */"./src/components/VCalendar/util/props.ts"),s=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),o=n(/*! ./VCalendarMonthly */"./src/components/VCalendar/VCalendarMonthly.ts"),a=n(/*! ./VCalendarDaily */"./src/components/VCalendar/VCalendarDaily.ts"),c=n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=i.default.extend({name:"v-calendar",props:l({},r.default.calendar,r.default.weeks,r.default.intervals),data:function(){return{lastStart:null,lastEnd:null}},computed:{parsedValue:function(){return Object(s.validateTimestamp)(this.value)?Object(s.parseTimestamp)(this.value):this.parsedStart||this.times.today},renderProps:function(){var t=this.parsedValue,e=null,n=this.maxDays,i=t,r=t;switch(this.type){case"month":e=o.default,i=Object(s.getStartOfMonth)(t),r=Object(s.getEndOfMonth)(t);break;case"week":e=a.default,i=this.getStartOfWeek(t),r=this.getEndOfWeek(t),n=7;break;case"day":e=a.default,n=1;break;case"4day":e=a.default,r=Object(s.relativeDays)(Object(s.copyTimestamp)(r),s.nextDay,4),Object(s.updateFormatted)(r),n=4;break;case"custom-weekly":e=c.default,i=this.parsedStart||t,r=this.parsedEnd;break;case"custom-daily":e=a.default,i=this.parsedStart||t,r=this.parsedEnd;break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:e,start:i,end:r,maxDays:n}}},watch:{renderProps:"checkChange"},mounted:function(){this.updateEventVisibility()},updated:function(){this.updateEventVisibility()},methods:{checkChange:function(){var t=this.renderProps,e=t.start,n=t.end;(e!==this.lastStart||n!==this.lastEnd)&&(this.lastStart=e,this.lastEnd=n,this.$emit("change",{start:e,end:n}))},move:function(t){void 0===t&&(t=1);for(var e=Object(s.copyTimestamp)(this.parsedValue),n=0<t,i=n?s.nextDay:s.prevDay,r=n?s.DAYS_IN_MONTH_MAX:s.DAY_MIN,o=n?t:-t;0<=--o;)switch(this.type){case"month":e.day=r,i(e);break;case"week":Object(s.relativeDays)(e,i,s.DAYS_IN_WEEK);break;case"day":var a=e.weekday,c=n?this.weekdaySkips[a]:this.weekdaySkipsReverse[a];Object(s.relativeDays)(e,i,c);break;case"4day":Object(s.relativeDays)(e,i,4)}Object(s.updateWeekday)(e),Object(s.updateFormatted)(e),Object(s.updateRelative)(e,this.times.now),this.$emit("input",e.date),this.$emit("moved",e)},next:function(t){void 0===t&&(t=1),this.move(t)},prev:function(t){void 0===t&&(t=1),this.move(-t)},timeToY:function(t,e){void 0===e&&(e=!0);var n=this.$children[0];return!(!n||!n.timeToY)&&n.timeToY(t,e)},minutesToPixels:function(t){var e=this.$children[0];return e&&e.minutesToPixels?e.minutesToPixels(t):-1},scrollToTime:function(t){var e=this.$children[0];return!(!e||!e.scrollToTime)&&e.scrollToTime(t)}},render:function(t){var e=this,n=this.renderProps,i=n.start,r=n.end,s=n.maxDays;return t(n.component,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:l({},this.$props,{start:i.date,end:r.date,maxDays:s}),directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:l({},this.$listeners,{"click:date":function(t){e.$listeners.input&&e.$emit("input",t.date),e.$listeners["click:date"]&&e.$emit("click:date",t)}}),scopedSlots:this.getScopedSlots()})}})},"./src/components/VCalendar/VCalendarDaily.sass":
/*!******************************************************!*\
  !*** ./src/components/VCalendar/VCalendarDaily.sass ***!
  \******************************************************/
/*! no static exports found */function(){},"./src/components/VCalendar/VCalendarDaily.ts":
/*!****************************************************!*\
  !*** ./src/components/VCalendar/VCalendarDaily.ts ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCalendarDaily.sass */"./src/components/VCalendar/VCalendarDaily.sass"),r=(n.n(i),n(/*! ../../directives/resize */"./src/directives/resize/index.ts")),s=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),o=n(/*! ./mixins/calendar-with-intervals */"./src/components/VCalendar/mixins/calendar-with-intervals.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t};e.default=o.default.extend({name:"v-calendar-daily",directives:{Resize:r.default},data:function(){return{scrollPush:0}},computed:{classes:function(){return c({"v-calendar-daily":!0},this.themeClasses)}},mounted:function(){this.init()},methods:{init:function(){this.$nextTick(this.onResize)},onResize:function(){this.scrollPush=this.getScrollPush()},getScrollPush:function(){var t=this.$refs.scrollArea,e=this.$refs.pane;return t&&e?t.offsetWidth-e.offsetWidth:0},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__head",style:{marginRight:this.scrollPush+"px"}},u([this.genHeadIntervals()],this.genHeadDays()))},genHeadIntervals:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__intervals-head"})},genHeadDays:function(){return this.days.map(this.genHeadDay)},genHeadDay:function(t,e){var n=this,i=this.$scopedSlots["day-header"];return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily_head-day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":day",(function(){return n.getSlotScope(t)}))},[this.genHeadWeekday(t),this.genHeadDayLabel(t),i?i(c({},t,{index:e})):""])},genHeadWeekday:function(t){var e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-daily_head-weekday"}),this.weekdayFormatter(t,this.shortWeekdays))},genHeadDayLabel:function(t){return this.$createElement("div",{staticClass:"v-calendar-daily_head-day-label"},[this.genHeadDayButton(t)])},genHeadDayButton:function(t){var e=t.present?this.color:"transparent";return this.$createElement(s.default,{props:{color:e,fab:!0,depressed:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(){return t}))},this.dayFormatter(t,!1))},genBody:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__body"},[this.genScrollArea()])},genScrollArea:function(){return this.$createElement("div",{ref:"scrollArea",staticClass:"v-calendar-daily__scroll-area"},[this.genPane()])},genPane:function(){return this.$createElement("div",{ref:"pane",staticClass:"v-calendar-daily__pane",style:{height:Object(a.convertToUnit)(this.bodyHeight)}},[this.genDayContainer()])},genDayContainer:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__day-container"},u([this.genBodyIntervals()],this.genDays()))},genDays:function(){return this.days.map(this.genDay)},genDay:function(t,e){var n=this,i=this.$scopedSlots["day-body"],r=this.getSlotScope(t);return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(function(e){return n.getSlotScope(n.getTimestampAtEvent(e,t))}))},u(this.genDayIntervals(e),[i?i(r):""]))},genDayIntervals:function(t){return this.intervals[t].map(this.genDayInterval)},genDayInterval:function(t){var e=Object(a.convertToUnit)(this.intervalHeight),n=this.intervalStyle||this.intervalStyleDefault,i=this.$scopedSlots.interval,r=this.getSlotScope(t),s={key:t.time,staticClass:"v-calendar-daily__day-interval",style:c({height:e},n(t))},o=i?i(r):void 0;return this.$createElement("div",s,o)},genBodyIntervals:function(){var t=this,e={staticClass:"v-calendar-daily__intervals-body",on:this.getDefaultMouseEventHandlers(":interval",(function(e){return t.getTimestampAtEvent(e,t.parsedStart)}))};return this.$createElement("div",e,this.genIntervalLabels())},genIntervalLabels:function(){return this.intervals.length?this.intervals[0].map(this.genIntervalLabel):null},genIntervalLabel:function(t){var e=Object(a.convertToUnit)(this.intervalHeight),n=this.shortIntervals,i=(this.showIntervalLabel||this.showIntervalLabelDefault)(t)?this.intervalFormatter(t,n):void 0;return this.$createElement("div",{key:t.time,staticClass:"v-calendar-daily__interval",style:{height:e}},[this.$createElement("div",{staticClass:"v-calendar-daily__interval-text"},i)])}},render:function(t){return t("div",{class:this.classes,nativeOn:{dragstart:function(t){t.preventDefault()}},directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}]},[this.hideHeader?"":this.genHead(),this.genBody()])}})},"./src/components/VCalendar/VCalendarMonthly.ts":
/*!******************************************************!*\
  !*** ./src/components/VCalendar/VCalendarMonthly.ts ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCalendarWeekly.sass */"./src/components/VCalendar/VCalendarWeekly.sass"),r=(n.n(i),n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts")),s=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e.default=r.default.extend({name:"v-calendar-monthly",computed:{staticClass:function(){return"v-calendar-monthly v-calendar-weekly"},parsedStart:function(){return Object(s.getStartOfMonth)(Object(s.parseTimestamp)(this.start))},parsedEnd:function(){return Object(s.getEndOfMonth)(Object(s.parseTimestamp)(this.end))}}})},"./src/components/VCalendar/VCalendarWeekly.sass":
/*!*******************************************************!*\
  !*** ./src/components/VCalendar/VCalendarWeekly.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VCalendar/VCalendarWeekly.ts":
/*!*****************************************************!*\
  !*** ./src/components/VCalendar/VCalendarWeekly.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCalendarWeekly.sass */"./src/components/VCalendar/VCalendarWeekly.sass"),r=(n.n(i),n(/*! ../VBtn */"./src/components/VBtn/index.ts")),s=n(/*! ./mixins/calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),o=n(/*! ./util/props */"./src/components/VCalendar/util/props.ts"),a=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o};e.default=s.default.extend({name:"v-calendar-weekly",props:o.default.weeks,computed:{staticClass:function(){return"v-calendar-weekly"},classes:function(){return this.themeClasses},parsedMinWeeks:function(){return parseInt(this.minWeeks)},days:function(){var t=this.parsedMinWeeks*this.weekdays.length,e=this.getStartOfWeek(this.parsedStart),n=this.getEndOfWeek(this.parsedEnd);return Object(a.createDayList)(e,n,this.times.today,this.weekdaySkips,Number.MAX_SAFE_INTEGER,t)},todayWeek:function(){var t=this.times.today,e=this.getStartOfWeek(t),n=this.getEndOfWeek(t);return Object(a.createDayList)(e,n,t,this.weekdaySkips,this.weekdays.length,this.weekdays.length)},monthFormatter:function(){if(this.monthFormat)return this.monthFormat;var t={timeZone:"UTC",month:"long"},e={timeZone:"UTC",month:"short"};return Object(a.createNativeLocaleFormatter)(this.currentLocale,(function(n,i){return i?e:t}))}},methods:{isOutside:function(t){var e=Object(a.getDayIdentifier)(t);return e<Object(a.getDayIdentifier)(this.parsedStart)||e>Object(a.getDayIdentifier)(this.parsedEnd)},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-weekly__head"},this.genHeadDays())},genHeadDays:function(){return this.todayWeek.map(this.genHeadDay)},genHeadDay:function(t,e){var n=this.isOutside(this.days[e]),i=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(i,{key:t.date,staticClass:"v-calendar-weekly__head-weekday",class:this.getRelativeClasses(t,n)}),this.weekdayFormatter(t,this.shortWeekdays))},genWeeks:function(){for(var t=this.days,e=this.weekdays.length,n=[],i=0;i<t.length;i+=e)n.push(this.genWeek(t.slice(i,i+e)));return n},genWeek:function(t){return this.$createElement("div",{key:t[0].date,staticClass:"v-calendar-weekly__week"},t.map(this.genDay))},genDay:function(t,e){var n=this.isOutside(t),i=this.$scopedSlots.day,r=c({outside:n,index:e},t);return this.$createElement("div",{key:t.date,staticClass:"v-calendar-weekly__day",class:this.getRelativeClasses(t,n),on:this.getDefaultMouseEventHandlers(":day",(function(){return t}))},[this.genDayLabel(t),i?i(r):""])},genDayLabel:function(t){var e=this.$scopedSlots["day-label"];return this.$createElement("div",{staticClass:"v-calendar-weekly__day-label"},[e?e(t):this.genDayLabelButton(t)])},genDayLabelButton:function(t){var e=t.present?this.color:"transparent",n=1===t.day&&this.showMonthOnFirst;return this.$createElement(r.default,{props:{color:e,fab:!0,depressed:!0,small:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(){return t}))},n?this.monthFormatter(t,this.shortMonths)+" "+this.dayFormatter(t,!1):this.dayFormatter(t,!1))},genDayMonth:function(t){var e=t.present?this.color:void 0,n=this.$scopedSlots["day-month"];return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-weekly__day-month"}),n?n(t):this.monthFormatter(t,this.shortMonths))}},render:function(t){return t("div",{staticClass:this.staticClass,class:this.classes,nativeOn:{dragstart:function(t){t.preventDefault()}}},function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}([this.hideHeader?"":this.genHead()],this.genWeeks()))}})},"./src/components/VCalendar/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCalendar/index.ts ***!
  \*******************************************/
/*! exports provided: VCalendar, VCalendarDaily, VCalendarWeekly, VCalendarMonthly, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCalendar */"./src/components/VCalendar/VCalendar.ts");n.d(e,"VCalendar",(function(){return i.default}));var r=n(/*! ./VCalendarDaily */"./src/components/VCalendar/VCalendarDaily.ts");n.d(e,"VCalendarDaily",(function(){return r.default}));var s=n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts");n.d(e,"VCalendarWeekly",(function(){return s.default}));var o=n(/*! ./VCalendarMonthly */"./src/components/VCalendar/VCalendarMonthly.ts");n.d(e,"VCalendarMonthly",(function(){return o.default})),e.default={$_vuetify_subcomponents:{VCalendar:i.default,VCalendarDaily:r.default,VCalendarWeekly:s.default,VCalendarMonthly:o.default}}},"./src/components/VCalendar/mixins/calendar-base.ts":
/*!**********************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-base.ts ***!
  \**********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../../../mixins/colorable */"./src/mixins/colorable/index.ts"),s=n(/*! ../../../mixins/localable */"./src/mixins/localable/index.ts"),o=n(/*! ./mouse */"./src/components/VCalendar/mixins/mouse.ts"),a=n(/*! ../../../mixins/themeable */"./src/mixins/themeable/index.ts"),c=n(/*! ./times */"./src/components/VCalendar/mixins/times.ts"),l=n(/*! ../../../directives/resize */"./src/directives/resize/index.ts"),u=n(/*! ../util/props */"./src/components/VCalendar/util/props.ts"),d=n(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e.default=Object(i.default)(r.default,s.default,o.default,a.default,c.default).extend({name:"calendar-base",directives:{Resize:l.default},props:u.default.base,computed:{weekdaySkips:function(){return Object(d.getWeekdaySkips)(this.weekdays)},weekdaySkipsReverse:function(){var t=this.weekdaySkips.slice();return t.reverse(),t},parsedStart:function(){return Object(d.parseTimestamp)(this.start)},parsedEnd:function(){return this.end?Object(d.parseTimestamp)(this.end):this.parsedStart},days:function(){return Object(d.createDayList)(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips)},dayFormatter:function(){if(this.dayFormat)return this.dayFormat;var t={timeZone:"UTC",day:"numeric"};return Object(d.createNativeLocaleFormatter)(this.currentLocale,(function(){return t}))},weekdayFormatter:function(){if(this.weekdayFormat)return this.weekdayFormat;var t={timeZone:"UTC",weekday:"long"},e={timeZone:"UTC",weekday:"short"};return Object(d.createNativeLocaleFormatter)(this.currentLocale,(function(n,i){return i?e:t}))}},methods:{getRelativeClasses:function(t,e){return void 0===e&&(e=!1),{"v-present":t.present,"v-past":t.past,"v-future":t.future,"v-outside":e}},getStartOfWeek:function(t){return Object(d.getStartOfWeek)(t,this.weekdays,this.times.today)},getEndOfWeek:function(t){return Object(d.getEndOfWeek)(t,this.weekdays,this.times.today)},getFormatter:function(t){return Object(d.createNativeLocaleFormatter)(this.locale,(function(){return t}))}}})},"./src/components/VCalendar/mixins/calendar-with-events.sass":
/*!*******************************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-with-events.sass ***!
  \*******************************************************************/
/*! no static exports found */function(){},"./src/components/VCalendar/mixins/calendar-with-events.ts":
/*!*****************************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-with-events.ts ***!
  \*****************************************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ./calendar-with-events.sass */"./src/components/VCalendar/mixins/calendar-with-events.sass"),o=(r.n(s),r(/*! ../../../directives/ripple */"./src/directives/ripple/index.ts")),a=r(/*! ./calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),c=r(/*! ../../../util/helpers */"./src/util/helpers.ts"),l=r(/*! ../util/props */"./src/components/VCalendar/util/props.ts"),u=r(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),d=r(/*! ../util/events */"./src/components/VCalendar/util/events.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};i.default=a.default.extend({name:"calendar-with-events",directives:{ripple:o.default},props:l.default.events,computed:{noEvents:function(){return 0===this.events.length},parsedEvents:function(){var t=this;return this.events.map((function(e,n){return Object(d.parseEvent)(e,n,t.eventStart,t.eventEnd)}))},eventColorFunction:function(){var t=this;return"function"==typeof this.eventColor?this.eventColor:function(){return t.eventColor}},eventTextColorFunction:function(){var t=this;return"function"==typeof this.eventTextColor?this.eventTextColor:function(){return t.eventTextColor}},eventNameFunction:function(){var t=this;return"function"==typeof this.eventName?this.eventName:function(e,n){var i=Object(c.escapeHTML)(e.input[t.eventName]);if(e.start.hasTime){if(n){var r=12>e.start.hour&&12<=e.end.hour;return"<strong>"+i+"</strong><br>"+t.formatTime(e.start,r)+" - "+t.formatTime(e.end,!0)}return"<strong>"+t.formatTime(e.start,!0)+"</strong> "+i}return i}}},methods:{formatTime:function(t,e){var n=e?12>t.hour?"a":"p":"",i=t.hour%12||12,r=t.minute;return 0<r?10>r?i+":0"+r+n:i+":"+r+n:""+i+n},updateEventVisibility:function(){if(!this.noEvents&&this.eventMore){var t=this.eventHeight,e=this.getEventsMap();for(var n in e){var i=e[n],r=i.parent,s=i.events,o=i.more;if(!o)break;for(var a=r.getBoundingClientRect(),c=s.length-1,l=!1,u=0,d=0;d<=c;d++){if(!l)l=s[d].getBoundingClientRect().bottom+t>a.bottom&&d!==c||"none"===s[d].style.display;if(l){var h=s[d].getAttribute("data-event");this.hideEvents(h),u++}}l?(o.style.display="",o.innerHTML=this.$vuetify.lang.t(this.eventMoreText,u)):o.style.display="none"}}},hideEvents:function(t){this.$refs.events.forEach((function(e){e.getAttribute("data-event")===t&&(e.style.display="none")}))},getEventsMap:function(){var t={},e=this.$refs.events;return e&&e.forEach?(e.forEach((function(e){var n=e.getAttribute("data-date");e.parentElement&&n&&(!(n in t)&&(t[n]={parent:e.parentElement,more:null,events:[]}),e.getAttribute("data-more")?t[n].more=e:(t[n].events.push(e),e.style.display=""))})),t):t},genDayEvent:function(t,e,n){var i=t.offset,r=t.event,s=this.eventHeight,o=this.eventMarginBottom,a=Object(u.getDayIdentifier)(n),c=a===r.startIdentifier,l=a===r.endIdentifier,d={event:r.input,day:n,outside:n.outside,start:c,end:l,timed:!1};return this.genEvent(r,d,c||0===n.index,!1,{staticClass:"v-event",class:{"v-event-start":c,"v-event-end":l},style:{height:s+"px",top:(i-e)*(s+o)+"px","margin-bottom":o+"px"},attrs:{"data-date":n.date,"data-event":r.index},key:r.index,ref:"events",refInFor:!0})},genTimedEvent:function(t,n,i){var r=t.offset,s=t.event,o=t.columnCount,a=t.column,c=Object(u.getDayIdentifier)(i),l=s.startIdentifier>=c,d=s.endIdentifier>c,h=l?i.timeToY(s.start):0,f=d?i.timeToY(1440):i.timeToY(s.end),p=e(this.eventHeight,f-h),m=-1===o?5*r:100*a/o,v=-1===o?0:e(0,100*(o-a-2)/o+10),g={event:s.input,day:i,outside:i.outside,start:l,end:d,timed:!0};return this.genEvent(s,g,!0,!0,{staticClass:"v-event-timed",style:{top:h+"px",height:p+"px",left:m+"%",right:v+"%"}})},genEvent:function(t,e,n,i,r){var s=this.$scopedSlots.event,o=this.eventTextColorFunction(t.input),a=this.eventColorFunction(t.input);return this.$createElement("div",this.setTextColor(o,this.setBackgroundColor(a,h({on:this.getDefaultMouseEventHandlers(":event",(function(t){return h({},e,{nativeEvent:t})})),directives:[{name:"ripple",value:null==this.eventRipple||this.eventRipple}]},r))),s?s(e):n?[this.genName(t,i)]:void 0)},genName:function(t,e){return this.$createElement("div",{staticClass:"pl-1",domProps:{innerHTML:this.eventNameFunction(t,e)}})},genMore:function(t){var e=this;return this.$createElement("div",{staticClass:"v-event-more pl-1",attrs:{"data-date":t.date,"data-more":1},directives:[{name:"ripple",value:null==this.eventRipple||this.eventRipple}],on:{click:function(){return e.$emit("click:more",t)}},style:{display:"none"},ref:"events",refInFor:!0})},getEventsForDay:function(t){var e=Object(u.getDayIdentifier)(t);return this.parsedEvents.filter((function(t){return Object(d.isEventOn)(t,e)}))},getEventsForDayAll:function(t){var e=Object(u.getDayIdentifier)(t);return this.parsedEvents.filter((function(t){return t.allDay&&Object(d.isEventOn)(t,e)}))},getEventsForDayTimed:function(t){var e=Object(u.getDayIdentifier)(t);return this.parsedEvents.filter((function(t){return!t.allDay&&Object(d.isEventOn)(t,e)}))},isSameColumn:function(t,e){var n=Object(u.parseTime)(t.event.start)-Object(u.parseTime)(e.event.start);return(0>n?-n:n)<this.eventOverlapThreshold},isOverlapping:function(t,e){var n=Object(u.parseTime)(t.event.start),i=Object(u.parseTime)(e.event.start);if(t.offset<e.offset&&i<n){var r=n+this.eventOverlapThreshold;return!(n>=Object(u.parseTime)(e.event.end)||r<=i)}return!1},getScopedSlots:function(){var n=this;if(this.noEvents)return this.$scopedSlots;var i=this.parsedEvents.map((function(){return-1})),r=this.weekdays[0],s=function(t){if(t.weekday===r)for(var e=0;e<i.length;e++)i[e]=-1},o=function(n,r){var s=i[n.event.index];if(-1===s){var o=Number.MAX_SAFE_INTEGER,a=-1;r.forEach((function(n){var r=i[n.event.index];-1!==r&&(o=t(o,r),a=e(a,r))})),s=0<o&&-1!==a?o-1:a+1,i[n.event.index]=s}return s},a=function(t,e){var r=t.map((function(t){return{event:t,offset:0,columnCount:-1,column:-1}}));return r.sort((function(t,e){return t.event.startTimestampIdentifier-e.event.startTimestampIdentifier})),e?(r.forEach((function(t){if(-1===t.columnCount){var e=[];r.forEach((function(i){-1===i.columnCount&&n.isSameColumn(t,i)&&e.push(i)})),1<e.length&&e.forEach((function(t,n){t.column=n,t.columnCount=e.length}))}})),r.forEach((function(t){-1===t.columnCount&&(r.forEach((function(e){-1!==i[e.event.index]&&e.event.endTimestampIdentifier<=t.event.startTimestampIdentifier&&(i[e.event.index]=-1)})),t.offset=o(t,r))})),r.forEach((function(t){if(-1===t.columnCount){var e=[t];r.forEach((function(i){i!==t&&-1===i.columnCount&&n.isOverlapping(t,i)&&e.push(i)})),1<e.length&&e.forEach((function(t,n){t.column=n,t.columnCount=e.length}))}}))):r.forEach((function(t){t.offset=o(t,r)})),r.sort((function(t,e){return t.offset-e.offset||t.column-e.column})),r},c=function(t,e,n,i){s(t);var r=e(t);return 0===r.length?void 0:a(r,i).map((function(e,i){return n(e,i,t)}))};return h({},this.$scopedSlots,{day:function(t){var e=c(t,n.getEventsForDay,n.genDayEvent,!1);return e&&0<e.length&&n.eventMore&&e.push(n.genMore(t)),e},"day-header":function(t){return c(t,n.getEventsForDayAll,n.genDayEvent,!1)},"day-body":function(t){return[n.$createElement("div",{staticClass:"v-event-timed-container"},c(t,n.getEventsForDayTimed,n.genTimedEvent,!0))]}})}}})},"./src/components/VCalendar/mixins/calendar-with-intervals.ts":
/*!********************************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-with-intervals.ts ***!
  \********************************************************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r=i(/*! ./calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),s=i(/*! ../util/props */"./src/components/VCalendar/util/props.ts"),o=i(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e.default=r.default.extend({name:"calendar-with-intervals",props:s.default.intervals,computed:{parsedFirstInterval:function(){return parseInt(this.firstInterval)},parsedIntervalMinutes:function(){return parseInt(this.intervalMinutes)},parsedIntervalCount:function(){return parseInt(this.intervalCount)},parsedIntervalHeight:function(){return parseFloat(this.intervalHeight)},firstMinute:function(){return this.parsedFirstInterval*this.parsedIntervalMinutes},bodyHeight:function(){return this.parsedIntervalCount*this.parsedIntervalHeight},days:function(){return Object(o.createDayList)(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips,this.maxDays)},intervals:function(){var t=this.days,e=this.parsedFirstInterval,n=this.parsedIntervalMinutes,i=this.parsedIntervalCount,r=this.times.now;return t.map((function(t){return Object(o.createIntervalList)(t,e,n,i,r)}))},intervalFormatter:function(){if(this.intervalFormat)return this.intervalFormat;var t={timeZone:"UTC",hour12:!0,hour:"2-digit",minute:"2-digit"},e={timeZone:"UTC",hour12:!0,hour:"numeric",minute:"2-digit"},n={timeZone:"UTC",hour12:!0,hour:"numeric"};return Object(o.createNativeLocaleFormatter)(this.currentLocale,(function(i,r){return r?0===i.minute?n:e:t}))}},methods:{showIntervalLabelDefault:function(t){var e=this.intervals[0][0];return!(e.hour===t.hour&&e.minute===t.minute)&&0===t.minute},intervalStyleDefault:function(){},getTimestampAtEvent:function(t,e){var i=Object(o.copyTimestamp)(e),r=t.currentTarget.getBoundingClientRect(),s=this.firstMinute,a=t,c=a.changedTouches||a.touches,l=((c&&c[0]?c[0].clientY:t.clientY)-r.top)/this.parsedIntervalHeight,u=n(l*this.parsedIntervalMinutes);return Object(o.updateMinutes)(i,s+u,this.times.now)},getSlotScope:function(t){var e=Object(o.copyTimestamp)(t);return e.timeToY=this.timeToY,e.minutesToPixels=this.minutesToPixels,e},scrollToTime:function(t){var e=this.timeToY(t),n=this.$refs.scrollArea;return!(!1===e||!n||(n.scrollTop=e,0))},minutesToPixels:function(t){return t/this.parsedIntervalMinutes*this.parsedIntervalHeight},timeToY:function(t,e){void 0===e&&(e=!0);var n=Object(o.parseTime)(t);if(!1===n)return!1;var i=(n-this.firstMinute)/(this.parsedIntervalCount*this.parsedIntervalMinutes)*this.bodyHeight;return e&&(0>i&&(i=0),i>this.bodyHeight&&(i=this.bodyHeight)),i}}})},"./src/components/VCalendar/mixins/mouse.ts":
/*!**************************************************!*\
  !*** ./src/components/VCalendar/mixins/mouse.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"mouse",methods:{getDefaultMouseEventHandlers:function(t,e){var n;return this.getMouseEventHandlers(((n={})["click"+t]={event:"click"},n["contextmenu"+t]={event:"contextmenu",prevent:!0,result:!1},n["mousedown"+t]={event:"mousedown"},n["mousemove"+t]={event:"mousemove"},n["mouseup"+t]={event:"mouseup"},n["mouseenter"+t]={event:"mouseenter"},n["mouseleave"+t]={event:"mouseleave"},n["touchstart"+t]={event:"touchstart"},n["touchmove"+t]={event:"touchmove"},n["touchend"+t]={event:"touchend"},n),e)},getMouseEventHandlers:function(t,e){var n=this,i={},r=function(r){var o=t[r];if(!s.$listeners[r])return"continue";var a=(o.passive?"&":(o.once?"~":"")+(o.capture?"!":""))+o.event,c=function(t){var i=t;return(void 0===o.button||0<i.buttons&&i.button===o.button)&&(o.prevent&&t.preventDefault(),o.stop&&t.stopPropagation(),n.$emit(r,e(t))),o.result};a in i?Array.isArray(i[a])?i[a].push(c):i[a]=[i[a],c]:i[a]=c},s=this;for(var o in t)r(o);return i}}})},"./src/components/VCalendar/mixins/times.ts":
/*!**************************************************!*\
  !*** ./src/components/VCalendar/mixins/times.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e.default=r.a.extend({name:"times",props:{now:{type:String,validator:s.validateTimestamp}},data:function(){return{times:{now:Object(s.parseTimestamp)("0000-00-00 00:00"),today:Object(s.parseTimestamp)("0000-00-00")}}},computed:{parsedNow:function(){return this.now?Object(s.parseTimestamp)(this.now):null}},watch:{parsedNow:"updateTimes"},created:function(){this.updateTimes(),this.setPresent()},methods:{setPresent:function(){this.times.now.present=this.times.today.present=!0,this.times.now.past=this.times.today.past=!1,this.times.now.future=this.times.today.future=!1},updateTimes:function(){var t=this.parsedNow||this.getNow();this.updateDay(t,this.times.now),this.updateTime(t,this.times.now),this.updateDay(t,this.times.today)},getNow:function(){return Object(s.parseDate)(new Date)},updateDay:function(t,e){t.date!==e.date&&(e.year=t.year,e.month=t.month,e.day=t.day,e.weekday=t.weekday,e.date=t.date)},updateTime:function(t,e){t.time!==e.time&&(e.hour=t.hour,e.minute=t.minute,e.time=t.time)}}})},"./src/components/VCalendar/util/events.ts":
/*!*************************************************!*\
  !*** ./src/components/VCalendar/util/events.ts ***!
  \*************************************************/
/*! exports provided: parseEvent, isEventOn, isEventOverlapping */function(t,e,n){"use strict";function i(t,e,n,i){if(!(n in t))throw new Error("The "+n+" property is required on all events to be a valid timestamp in the format YYYY-MM-DD or YYYY-MM-DD hh:mm");var r=Object(o.parseTimestamp)(t[n]),s=t[i]?Object(o.parseTimestamp)(t[i]):r;return{input:t,start:r,startIdentifier:Object(o.getDayIdentifier)(r),startTimestampIdentifier:Object(o.getTimestampIdentifier)(r),end:s,endIdentifier:Object(o.getDayIdentifier)(s),endTimestampIdentifier:Object(o.getTimestampIdentifier)(s),allDay:!r.hasTime,index:e}}function r(t,e){return e>=t.startIdentifier&&e<=t.endIdentifier}function s(t,e,n){return e<=t.endIdentifier&&n>=t.startIdentifier}n.r(e),n.d(e,"parseEvent",(function(){return i})),n.d(e,"isEventOn",(function(){return r})),n.d(e,"isEventOverlapping",(function(){return s}));var o=n(/*! ./timestamp */"./src/components/VCalendar/util/timestamp.ts")},"./src/components/VCalendar/util/props.ts":
/*!************************************************!*\
  !*** ./src/components/VCalendar/util/props.ts ***!
  \************************************************/
/*! exports provided: default, validateNumber */function(t,e,n){"use strict";function i(t){return isFinite(parseInt(t))}n.r(e),n.d(e,"validateNumber",(function(){return i}));var r=n(/*! ./timestamp */"./src/components/VCalendar/util/timestamp.ts");e.default={base:{start:{type:String,validate:r.validateTimestamp,default:function(){return Object(r.parseDate)(new Date).date}},end:{type:String,validate:r.validateTimestamp},weekdays:{type:Array,default:function(){return[0,1,2,3,4,5,6]}},hideHeader:{type:Boolean,default:!1},shortWeekdays:{type:Boolean,default:!0},weekdayFormat:{type:Function,default:null},dayFormat:{type:Function,default:null}},intervals:{maxDays:{type:Number,default:7},shortIntervals:{type:Boolean,default:!0},intervalHeight:{type:[Number,String],default:40,validate:i},intervalMinutes:{type:[Number,String],default:60,validate:i},firstInterval:{type:[Number,String],default:0,validate:i},intervalCount:{type:[Number,String],default:24,validate:i},intervalFormat:{type:Function,default:null},intervalStyle:{type:Function,default:null},showIntervalLabel:{type:Function,default:null}},weeks:{minWeeks:{validate:i,default:1},shortMonths:{type:Boolean,default:!0},showMonthOnFirst:{type:Boolean,default:!0},monthFormat:{type:Function,default:null}},calendar:{type:{type:String,default:"month"},value:{type:String,validate:r.validateTimestamp}},events:{events:{type:Array,default:function(){return[]}},eventStart:{type:String,default:"start"},eventEnd:{type:String,default:"end"},eventHeight:{type:Number,default:20},eventColor:{type:[String,Function],default:"secondary"},eventTextColor:{type:[String,Function],default:"white"},eventName:{type:[String,Function],default:"name"},eventOverlapThreshold:{type:Number,default:60},eventMore:{type:Boolean,default:!0},eventMoreText:{type:String,default:"$vuetify.calendar.moreEvents"},eventRipple:{type:[Boolean,Object],default:null},eventMarginBottom:{type:Number,default:1}}}},"./src/components/VCalendar/util/timestamp.ts":
/*!****************************************************!*\
  !*** ./src/components/VCalendar/util/timestamp.ts ***!
  \****************************************************/
/*! exports provided: PARSE_REGEX, PARSE_TIME, DAYS_IN_MONTH, DAYS_IN_MONTH_LEAP, DAYS_IN_MONTH_MIN, DAYS_IN_MONTH_MAX, MONTH_MAX, MONTH_MIN, DAY_MIN, DAYS_IN_WEEK, MINUTES_IN_HOUR, HOURS_IN_DAY, FIRST_HOUR, getStartOfWeek, getEndOfWeek, getStartOfMonth, getEndOfMonth, parseTime, validateTimestamp, parseTimestamp, parseDate, getDayIdentifier, getTimeIdentifier, getTimestampIdentifier, updateRelative, updateMinutes, updateWeekday, updateFormatted, getWeekday, isLeapYear, daysInMonth, copyTimestamp, padNumber, getDate, getTime, nextMinutes, nextDay, prevDay, relativeDays, findWeekday, getWeekdaySkips, createDayList, createIntervalList, createNativeLocaleFormatter */function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){var i=C(t);return j(i,e[0],_),b(i),n&&v(i,n,i.hasTime),i}function o(t,e,n){var i=C(t);return j(i,e[e.length-1]),b(i),n&&v(i,n,i.hasTime),i}function a(t){var e=C(t);return e.day=W,y(e),b(e),e}function c(t){var e=C(t);return e.day=S(e.year,e.month),y(e),b(e),e}function l(t){if("number"==typeof t)return t;if("string"==typeof t){var e=L.exec(t);return!!e&&60*parseInt(e[1])+parseInt(e[3]||0)}return"object"===r(t)&&"number"==typeof t.hour&&"number"==typeof t.minute&&60*t.hour+t.minute}function u(t){return!!E.exec(t)}function d(t,e){var n=E.exec(t);if(!n)return null;var i={date:t,time:"",year:parseInt(n[1]),month:parseInt(n[2]),day:parseInt(n[4])||1,hour:parseInt(n[6])||0,minute:parseInt(n[8])||0,weekday:0,hasDay:!!n[4],hasTime:!(!n[6]||!n[8]),past:!1,present:!1,future:!1};return y(i),b(i),e&&v(i,e,i.hasTime),i}function h(t){return b({date:"",time:"",year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),weekday:t.getDay(),hour:t.getHours(),minute:t.getMinutes(),hasDay:!0,hasTime:!0,past:!1,present:!0,future:!1})}function f(t){return 1e4*t.year+100*t.month+t.day}function p(t){return 100*t.hour+t.minute}function m(t){return 1e4*f(t)+p(t)}function v(t,e,n){void 0===n&&(n=!1);var i=f(e),r=f(t),s=i===r;return t.hasTime&&n&&s&&(s=(i=p(e))===(r=p(t))),t.past=r<i,t.present=s,t.future=r>i,t}function g(t,e,i){return t.hasTime=!0,t.hour=n(e/U),t.minute=e%U,t.time=O(t),i&&v(t,i,!0),t}function y(t){return t.weekday=x(t),t}function b(t){return t.time=O(t),t.date=w(t),t}function x(t){if(t.hasDay){var e=n,i=t.day,r=(t.month+9)%R+1,s=e(t.year/100),o=t.year%100-(2>=t.month?1:0);return((i+e(2.6*r-.2)-2*s+o+e(o/4)+e(s/4))%7+7)%7}return t.weekday}function V(t){return 0==t%4&&0!=t%100||0==t%400}function S(t,e){return V(t)?F[e]:M[e]}function C(t){return{date:t.date,time:t.time,year:t.year,month:t.month,day:t.day,weekday:t.weekday,hour:t.hour,minute:t.minute,hasDay:t.hasDay,hasTime:t.hasTime,past:t.past,present:t.present,future:t.future}}function k(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function w(t){var e=k(t.year,4)+"-"+k(t.month,2);return t.hasDay&&(e+="-"+k(t.day,2)),e}function O(t){return t.hasTime?k(t.hour,2)+":"+k(t.minute,2):""}function T(t,e){for(t.minute+=e;t.minute>U;)t.minute-=U,t.hour++,t.hour>=Y&&($(t),t.hour=q);return t}function $(t){return t.day++,t.weekday=(t.weekday+1)%G,t.day>H&&t.day>S(t.year,t.month)&&(t.day=W,t.month++,t.month>R&&(t.month=z,t.year++)),t}function _(t){return t.day--,t.weekday=(t.weekday+6)%G,t.day<W&&(t.month--,t.month<z&&(t.year--,t.month=R),t.day=S(t.year,t.month)),t}function I(t,e,n){for(void 0===e&&(e=$),void 0===n&&(n=1);0<=--n;)e(t);return t}function j(t,e,n,i){for(void 0===n&&(n=$),void 0===i&&(i=6);t.weekday!==e&&0<=--i;)n(t);return t}function A(t){for(var e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0],i=0;i<t.length;i++)n[t[i]]=1;for(var r,s=0;s<G;s++){r=1;for(var o=1;o<G&&!n[(s+o)%G];o++)r++;e[s]=n[s]*r}return e}function D(t,e,n,i,r,s){void 0===r&&(r=42),void 0===s&&(s=0);var o=f(e),a=[],c=C(t),l=0,u=l===o;if(o<f(t))throw new Error("End date is earlier than start date.");for(;(!u||a.length<s)&&a.length<r;)if(l=f(c),u=u||l===o,0!==i[c.weekday]){var d=C(c);b(d),v(d,n),a.push(d),c=I(c,$,i[c.weekday])}else c=$(c);if(!a.length)throw new Error("No dates found using specified start date, end date, and weekdays.");return a}function B(t,e,n,i,r){for(var s=[],o=0;o<i;o++){var a=(e+o)*n,c=C(t);s.push(g(c,a,r))}return s}function P(t,e){return"undefined"==typeof Intl||void 0===Intl.DateTimeFormat?function(){return""}:function(n,i){try{var r=new Intl.DateTimeFormat(t||void 0,e(n,i)),s=k(n.hour,2)+":"+k(n.minute,2),o=n.date;return r.format(new Date(o+"T"+s+":00+00:00"))}catch(t){return""}}}i.r(e),i.d(e,"PARSE_REGEX",(function(){return E})),i.d(e,"PARSE_TIME",(function(){return L})),i.d(e,"DAYS_IN_MONTH",(function(){return M})),i.d(e,"DAYS_IN_MONTH_LEAP",(function(){return F})),i.d(e,"DAYS_IN_MONTH_MIN",(function(){return H})),i.d(e,"DAYS_IN_MONTH_MAX",(function(){return N})),i.d(e,"MONTH_MAX",(function(){return R})),i.d(e,"MONTH_MIN",(function(){return z})),i.d(e,"DAY_MIN",(function(){return W})),i.d(e,"DAYS_IN_WEEK",(function(){return G})),i.d(e,"MINUTES_IN_HOUR",(function(){return U})),i.d(e,"HOURS_IN_DAY",(function(){return Y})),i.d(e,"FIRST_HOUR",(function(){return q})),i.d(e,"getStartOfWeek",(function(){return s})),i.d(e,"getEndOfWeek",(function(){return o})),i.d(e,"getStartOfMonth",(function(){return a})),i.d(e,"getEndOfMonth",(function(){return c})),i.d(e,"parseTime",(function(){return l})),i.d(e,"validateTimestamp",(function(){return u})),i.d(e,"parseTimestamp",(function(){return d})),i.d(e,"parseDate",(function(){return h})),i.d(e,"getDayIdentifier",(function(){return f})),i.d(e,"getTimeIdentifier",(function(){return p})),i.d(e,"getTimestampIdentifier",(function(){return m})),i.d(e,"updateRelative",(function(){return v})),i.d(e,"updateMinutes",(function(){return g})),i.d(e,"updateWeekday",(function(){return y})),i.d(e,"updateFormatted",(function(){return b})),i.d(e,"getWeekday",(function(){return x})),i.d(e,"isLeapYear",(function(){return V})),i.d(e,"daysInMonth",(function(){return S})),i.d(e,"copyTimestamp",(function(){return C})),i.d(e,"padNumber",(function(){return k})),i.d(e,"getDate",(function(){return w})),i.d(e,"getTime",(function(){return O})),i.d(e,"nextMinutes",(function(){return T})),i.d(e,"nextDay",(function(){return $})),i.d(e,"prevDay",(function(){return _})),i.d(e,"relativeDays",(function(){return I})),i.d(e,"findWeekday",(function(){return j})),i.d(e,"getWeekdaySkips",(function(){return A})),i.d(e,"createDayList",(function(){return D})),i.d(e,"createIntervalList",(function(){return B})),i.d(e,"createNativeLocaleFormatter",(function(){return P}));var E=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?$/,L=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,M=[0,31,28,31,30,31,30,31,31,30,31,30,31],F=[0,31,29,31,30,31,30,31,31,30,31,30,31],H=28,N=31,R=12,z=1,W=1,G=7,U=60,Y=24,q=0},"./src/components/VCard/VCard.sass":
/*!*****************************************!*\
  !*** ./src/components/VCard/VCard.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VCard/VCard.ts":
/*!***************************************!*\
  !*** ./src/components/VCard/VCard.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCard.sass */"./src/components/VCard/VCard.sass"),r=(n.n(i),n(/*! ../VSheet */"./src/components/VSheet/index.ts")),s=n(/*! ../../mixins/loadable */"./src/mixins/loadable/index.ts"),o=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(s.default,o.default,r.default).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes:function(){return c({"v-card":!0},o.default.options.computed.classes.call(this),{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.loading||this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped},r.default.options.computed.classes.call(this))},styles:function(){var t=c({},r.default.options.computed.styles.call(this));return this.img&&(t.background='url("'+this.img+'") center center / cover no-repeat'),t}},methods:{genProgress:function(){var t=s.default.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),n=e.tag,i=e.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(n,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},"./src/components/VCard/index.ts":
/*!***************************************!*\
  !*** ./src/components/VCard/index.ts ***!
  \***************************************/
/*! exports provided: VCard, VCardActions, VCardSubtitle, VCardText, VCardTitle, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VCardActions",(function(){return s})),n.d(e,"VCardSubtitle",(function(){return o})),n.d(e,"VCardText",(function(){return a})),n.d(e,"VCardTitle",(function(){return c}));var i=n(/*! ./VCard */"./src/components/VCard/VCard.ts");n.d(e,"VCard",(function(){return i.default}));var r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=Object(r.createSimpleFunctional)("v-card__actions"),o=Object(r.createSimpleFunctional)("v-card__subtitle"),a=Object(r.createSimpleFunctional)("v-card__text"),c=Object(r.createSimpleFunctional)("v-card__title");e.default={$_vuetify_subcomponents:{VCard:i.default,VCardActions:s,VCardSubtitle:o,VCardText:a,VCardTitle:c}}},"./src/components/VCarousel/VCarousel.sass":
/*!*************************************************!*\
  !*** ./src/components/VCarousel/VCarousel.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VCarousel/VCarousel.ts":
/*!***********************************************!*\
  !*** ./src/components/VCarousel/VCarousel.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCarousel.sass */"./src/components/VCarousel/VCarousel.sass"),r=(n.n(i),n(/*! ../VWindow/VWindow */"./src/components/VWindow/VWindow.ts")),s=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),a=n(/*! ../VProgressLinear */"./src/components/VProgressLinear/index.ts"),c=n(/*! ../../mixins/button-group */"./src/mixins/button-group/index.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/console */"./src/util/console.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.default.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:function(t){return 0<t}},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},data:function(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes:function(){return d({},r.default.options.computed.classes.call(this),{"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical})},isDark:function(){return this.dark||!this.light},isVertical:function(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height:function(t,e){t!==e&&t&&(this.internalHeight=t)},cycle:function(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created:function(){this.$attrs.hasOwnProperty("hide-controls")&&Object(u.breaking)("hide-controls",':show-arrows="false"',this)},mounted:function(){this.startTimeout()},methods:{genControlIcons:function(){return this.isVertical?null:r.default.options.methods.genControlIcons.call(this)},genDelimiters:function(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems:function(){for(var t,e=this,n=this.items.length,i=[],r=0;r<n;r++)t=this.$createElement(s.default,{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",r+1,n)},props:{icon:!0,small:!0,value:this.getValue(this.items[r],r)}},[this.$createElement(o.default,{props:{size:18}},this.delimiterIcon)]),i.push(t);return this.$createElement(c.default,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:function(t){e.internalValue=t}}},i)},genProgress:function(){return this.$createElement(a.default,{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout:function(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,0<+this.interval?+this.interval:6e3))}},render:function(t){var e=r.default.options.render.call(this,t);return e.data.style="height: "+Object(l.convertToUnit)(this.height)+";",this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}})},"./src/components/VCarousel/VCarouselItem.ts":
/*!***************************************************!*\
  !*** ./src/components/VCarousel/VCarouselItem.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindowItem */"./src/components/VWindow/VWindowItem.ts"),r=n(/*! ../VImg */"./src/components/VImg/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=Object(s.default)(i.default,o.default);e.default=c.extend({name:"v-carousel-item",inheritAttrs:!1,methods:{genDefaultSlot:function(){return[this.$createElement(r.VImg,{staticClass:"v-carousel__item",props:a({},this.$attrs,{height:this.windowGroup.internalHeight}),on:this.$listeners},[this.$slots.default,this.$createElement("template",{slot:"placeholder"},this.$slots.placeholder)])]},genWindowItem:function(){var t=this.generateRouteLink(),e=t.tag,n=t.data;return n.staticClass="v-window-item",n.directives.push({name:"show",value:this.isActive}),this.$createElement(e,n,this.showLazyContent(this.genDefaultSlot()))}}})},"./src/components/VCarousel/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCarousel/index.ts ***!
  \*******************************************/
/*! exports provided: VCarousel, VCarouselItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCarousel */"./src/components/VCarousel/VCarousel.ts");n.d(e,"VCarousel",(function(){return i.default}));var r=n(/*! ./VCarouselItem */"./src/components/VCarousel/VCarouselItem.ts");n.d(e,"VCarouselItem",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VCarousel:i.default,VCarouselItem:r.default}}},"./src/components/VCheckbox/VCheckbox.sass":
/*!*************************************************!*\
  !*** ./src/components/VCheckbox/VCheckbox.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VCheckbox/VCheckbox.ts":
/*!***********************************************!*\
  !*** ./src/components/VCheckbox/VCheckbox.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCheckbox.sass */"./src/components/VCheckbox/VCheckbox.sass"),r=(n.n(i),n(/*! ../../styles/components/_selection-controls.sass */"./src/styles/components/_selection-controls.sass")),s=(n.n(r),n(/*! ../VIcon */"./src/components/VIcon/index.ts")),o=n(/*! ../VInput */"./src/components/VInput/index.ts"),a=n(/*! ../../mixins/selectable */"./src/mixins/selectable/index.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=a.default.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return c({},o.default.options.computed.classes.call(this),{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){return this.disabled&&!this.inputIndeterminate?void 0:this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null===this.hasColor?void 0:this.computedColor}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",c({},this.attrs$,{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.validationState)),this.$createElement(s.default,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon)])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},"./src/components/VCheckbox/VSimpleCheckbox.sass":
/*!*******************************************************!*\
  !*** ./src/components/VCheckbox/VSimpleCheckbox.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VCheckbox/VSimpleCheckbox.ts":
/*!*****************************************************!*\
  !*** ./src/components/VCheckbox/VSimpleCheckbox.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSimpleCheckbox.sass */"./src/components/VCheckbox/VSimpleCheckbox.sass"),r=(n.n(i),n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts")),s=n(/*! vue */"vue"),o=n.n(s),a=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),c=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),u=n(/*! ../../util/helpers */"./src/util/helpers.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=o.a.extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:r.default},props:d({},c.default.options.props,l.default.options.props,{disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}}),render:function(t,e){var n=e.props,i=e.data,r=[];if(n.ripple&&!n.disabled){var s=t("div",c.default.options.methods.setTextColor(n.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));r.push(s)}var o=n.offIcon;n.indeterminate?o=n.indeterminateIcon:n.value&&(o=n.onIcon),r.push(t(a.VIcon,c.default.options.methods.setTextColor(n.value&&n.color,{props:{disabled:n.disabled,dark:n.dark,light:n.light}}),o));var l={"v-simple-checkbox":!0,"v-simple-checkbox--disabled":n.disabled};return t("div",d({},i,{class:l,on:{click:function(t){t.stopPropagation(),i.on&&i.on.input&&!n.disabled&&Object(u.wrapInArray)(i.on.input).forEach((function(t){return t(!n.value)}))}}}),r)}})},"./src/components/VCheckbox/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCheckbox/index.ts ***!
  \*******************************************/
/*! exports provided: VCheckbox, VSimpleCheckbox, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCheckbox */"./src/components/VCheckbox/VCheckbox.ts");n.d(e,"VCheckbox",(function(){return i.default}));var r=n(/*! ./VSimpleCheckbox */"./src/components/VCheckbox/VSimpleCheckbox.ts");n.d(e,"VSimpleCheckbox",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VCheckbox:i.default,VSimpleCheckbox:r.default}}},"./src/components/VChip/VChip.sass":
/*!*****************************************!*\
  !*** ./src/components/VChip/VChip.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VChip/VChip.ts":
/*!***************************************!*\
  !*** ./src/components/VChip/VChip.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VChip.sass */"./src/components/VChip/VChip.sass"),r=(n.n(i),n(/*! ../../util/mixins */"./src/util/mixins.ts")),s=n(/*! ../transitions */"./src/components/transitions/index.ts"),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),a=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),c=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),d=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),h=n(/*! ../../mixins/sizeable */"./src/mixins/sizeable/index.ts"),f=n(/*! ../../util/console */"./src/util/console.ts"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(r.default)(a.default,h.default,d.default,l.default,Object(c.factory)("chipGroup"),Object(u.factory)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return p({"v-chip":!0},d.default.options.computed.classes.call(this),{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses,this.sizeableClasses,this.groupClasses)},hasClose:function(){return!!this.close},isClickable:function(){return!(!d.default.options.computed.isClickable.call(this)&&!this.chipGroup)}},created:function(){var t=this;[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]].forEach((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,2),i=n[0],r=n[1];t.$attrs.hasOwnProperty(i)&&Object(f.breaking)(i,r,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(o.default,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(s.VExpandXTransition,t)},genClose:function(){var t=this;return this.$createElement(o.default,{staticClass:"v-chip__close",props:{right:!0},on:{click:function(e){e.stopPropagation(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],n=this.generateRouteLink(),i=n.tag,r=n.data;r.attrs=p({},r.attrs,{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:r.attrs.tabindex}),r.directives.push({name:"show",value:this.active}),r=this.setBackgroundColor(this.color,r);var s=this.textColor||this.outlined&&this.color;return t(i,this.setTextColor(s,r),e)}})},"./src/components/VChip/index.ts":
/*!***************************************!*\
  !*** ./src/components/VChip/index.ts ***!
  \***************************************/
/*! exports provided: VChip, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VChip */"./src/components/VChip/VChip.ts");n.d(e,"VChip",(function(){return i.default})),e.default=i.default},"./src/components/VChipGroup/VChipGroup.sass":
/*!***************************************************!*\
  !*** ./src/components/VChipGroup/VChipGroup.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VChipGroup/VChipGroup.ts":
/*!*************************************************!*\
  !*** ./src/components/VChipGroup/VChipGroup.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VChipGroup.sass */"./src/components/VChipGroup/VChipGroup.sass"),r=(n.n(i),n(/*! ../VSlideGroup/VSlideGroup */"./src/components/VSlideGroup/VSlideGroup.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(r.BaseSlideGroup,s.default).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return a({},r.BaseSlideGroup.options.computed.classes.call(this),{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,a({},r.BaseSlideGroup.options.methods.genData.call(this)))}}})},"./src/components/VChipGroup/index.ts":
/*!********************************************!*\
  !*** ./src/components/VChipGroup/index.ts ***!
  \********************************************/
/*! exports provided: VChipGroup, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VChipGroup */"./src/components/VChipGroup/VChipGroup.ts");n.d(e,"VChipGroup",(function(){return i.default})),e.default=i.default},"./src/components/VColorPicker/VColorPicker.sass":
/*!*******************************************************!*\
  !*** ./src/components/VColorPicker/VColorPicker.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VColorPicker/VColorPicker.ts":
/*!*****************************************************!*\
  !*** ./src/components/VColorPicker/VColorPicker.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VColorPicker.sass */"./src/components/VColorPicker/VColorPicker.sass"),r=(n.n(i),n(/*! ../VSheet/VSheet */"./src/components/VSheet/VSheet.ts")),s=n(/*! ./VColorPickerPreview */"./src/components/VColorPicker/VColorPickerPreview.ts"),o=n(/*! ./VColorPickerCanvas */"./src/components/VColorPicker/VColorPickerCanvas.ts"),a=n(/*! ./VColorPickerEdit */"./src/components/VColorPicker/VColorPickerEdit.ts"),c=n(/*! ./VColorPickerSwatches */"./src/components/VColorPicker/VColorPickerSwatches.ts"),l=n(/*! ./util */"./src/components/VColorPicker/util/index.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(u.default)(d.default).extend({name:"v-color-picker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},flat:Boolean,hideCanvas:Boolean,hideInputs:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function(t){return Object.keys(a.modes).includes(t)}},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},value:{type:[Object,String]},width:{type:[Number,String],default:300}},data:function(){return{internalValue:Object(l.fromRGBA)({r:255,g:0,b:0,a:1})}},computed:{hideAlpha:function(){return this.value&&!Object(l.hasAlpha)(this.value)}},watch:{value:{handler:function(t){this.updateColor(Object(l.parseColor)(t,this.internalValue))},immediate:!0}},methods:{updateColor:function(t){this.internalValue=t;var e=Object(l.extractColor)(this.internalValue,this.value);e!==this.value&&(this.$emit("input",e),this.$emit("update:color",this.internalValue))},genCanvas:function(){return this.$createElement(o.default,{props:{color:this.internalValue,disabled:this.disabled,dotSize:this.dotSize,width:this.width,height:this.canvasHeight},on:{"update:color":this.updateColor}})},genControls:function(){return this.$createElement("div",{staticClass:"v-color-picker__controls"},[this.genPreview(),!this.hideInputs&&this.genEdit()])},genEdit:function(){var t=this;return this.$createElement(a.default,{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha,hideModeSwitch:this.hideModeSwitch,mode:this.mode},on:{"update:color":this.updateColor,"update:mode":function(e){return t.$emit("update:mode",e)}}})},genPreview:function(){return this.$createElement(s.default,{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha},on:{"update:color":this.updateColor}})},genSwatches:function(){return this.$createElement(c.default,{props:{dark:this.dark,light:this.light,swatches:this.swatches,color:this.internalValue,maxHeight:this.swatchesMaxHeight},on:{"update:color":this.updateColor}})}},render:function(t){return t(r.default,{staticClass:"v-color-picker",class:h({"v-color-picker--flat":this.flat},this.themeClasses),props:{maxWidth:this.width}},[!this.hideCanvas&&this.genCanvas(),this.genControls(),this.showSwatches&&this.genSwatches()])}})},"./src/components/VColorPicker/VColorPickerCanvas.sass":
/*!*************************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerCanvas.sass ***!
  \*************************************************************/
/*! no static exports found */function(){},"./src/components/VColorPicker/VColorPickerCanvas.ts":
/*!***********************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerCanvas.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VColorPickerCanvas.sass */"./src/components/VColorPicker/VColorPickerCanvas.sass"),r=(n.n(i),n(/*! ../../util/helpers */"./src/util/helpers.ts")),s=n(/*! ./util */"./src/components/VColorPicker/util/index.ts"),o=n(/*! vue */"vue"),a=n.n(o);e.default=a.a.extend({name:"v-color-picker-canvas",props:{color:{type:Object,default:function(){return Object(s.fromRGBA)({r:255,g:0,b:0,a:1})}},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},data:function(){return{boundingRect:{width:0,height:0,left:0,top:0}}},computed:{dot:function(){return this.color?{x:this.color.hsva.s*parseInt(this.width,10),y:(1-this.color.hsva.v)*parseInt(this.height,10)}:{x:0,y:0}}},watch:{"color.hue":"updateCanvas"},mounted:function(){this.updateCanvas()},methods:{emitColor:function(t,e){var n=this.boundingRect,i=n.left,o=n.top,a=n.width,c=n.height;this.$emit("update:color",Object(s.fromHSVA)({h:this.color.hue,s:Object(r.clamp)(t-i,0,a)/a,v:1-Object(r.clamp)(e-o,0,c)/c,a:this.color.alpha}))},updateCanvas:function(){if(this.color){var t=this.$refs.canvas,e=t.getContext("2d");if(e){var n=e.createLinearGradient(0,0,t.width,0);n.addColorStop(0,"hsla(0, 0%, 100%, 1)"),n.addColorStop(1,"hsla("+this.color.hue+", 100%, 50%, 1)"),e.fillStyle=n,e.fillRect(0,0,t.width,t.height);var i=e.createLinearGradient(0,0,0,t.height);i.addColorStop(0,"hsla(0, 0%, 100%, 0)"),i.addColorStop(1,"hsla(0, 0%, 0%, 1)"),e.fillStyle=i,e.fillRect(0,0,t.width,t.height)}}},handleClick:function(t){this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),this.emitColor(t.clientX,t.clientY))},handleMouseDown:function(t){t.preventDefault(),this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},handleMouseMove:function(t){this.disabled||this.emitColor(t.clientX,t.clientY)},handleMouseUp:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},genCanvas:function(){return this.$createElement("canvas",{ref:"canvas",attrs:{width:this.width,height:this.height}})},genDot:function(){var t=parseInt(this.dotSize,10)/2,e=Object(r.convertToUnit)(this.dot.x-t),n=Object(r.convertToUnit)(this.dot.y-t);return this.$createElement("div",{staticClass:"v-color-picker__canvas-dot",class:{"v-color-picker__canvas-dot--disabled":this.disabled},style:{width:Object(r.convertToUnit)(this.dotSize),height:Object(r.convertToUnit)(this.dotSize),transform:"translate("+e+", "+n+")"}})}},render:function(t){return t("div",{staticClass:"v-color-picker__canvas",style:{width:Object(r.convertToUnit)(this.width),height:Object(r.convertToUnit)(this.height)},on:{click:this.handleClick,mousedown:this.handleMouseDown}},[this.genCanvas(),this.genDot()])}})},"./src/components/VColorPicker/VColorPickerEdit.sass":
/*!***********************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerEdit.sass ***!
  \***********************************************************/
/*! no static exports found */function(){},"./src/components/VColorPicker/VColorPickerEdit.ts":
/*!*********************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerEdit.ts ***!
  \*********************************************************/
/*! exports provided: modes, default */function(t,e,n){"use strict";n.r(e),n.d(e,"modes",(function(){return d}));var i=n(/*! ./VColorPickerEdit.sass */"./src/components/VColorPicker/VColorPickerEdit.sass"),r=(n.n(i),n(/*! ../VBtn */"./src/components/VBtn/index.ts")),s=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../../util/colorUtils */"./src/util/colorUtils.ts"),a=n(/*! vue */"vue"),c=n.n(a),l=n(/*! ./util */"./src/components/VColorPicker/util/index.ts"),d={rgba:{inputs:[["r",255,"int"],["g",255,"int"],["b",255,"int"],["a",1,"float"]],from:l.fromRGBA},hsla:{inputs:[["h",360,"int"],["s",1,"float"],["l",1,"float"],["a",1,"float"]],from:l.fromHSLA},hexa:{from:l.fromHexa}};e.default=c.a.extend({name:"v-color-picker-edit",props:{color:Object,disabled:Boolean,hideAlpha:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function(t){return Object.keys(d).includes(t)}}},data:function(){return{modes:d,internalMode:this.mode}},computed:{currentMode:function(){return this.modes[this.internalMode]}},watch:{mode:function(t){this.internalMode=t}},created:function(){this.internalMode=this.mode},methods:{getValue:function(t,e){return"float"===e?u(100*t)/100:"int"===e?u(t):0},parseValue:function(t,e){return"float"===e?parseFloat(t):"int"===e&&parseInt(t,10)||0},changeMode:function(){var t=Object.keys(this.modes),e=t.indexOf(this.internalMode),n=t[(e+1)%t.length];this.internalMode=n,this.$emit("update:mode",n)},genInput:function(t,e,n,i){return this.$createElement("div",{staticClass:"v-color-picker__input"},[this.$createElement("input",{key:t,attrs:e,domProps:{value:n},on:i}),this.$createElement("span",t.toUpperCase())])},genInputs:function(){var t=this;switch(this.internalMode){case"hexa":var e=this.color.hexa,n=this.hideAlpha&&e.endsWith("FF")?e.substr(0,7):e;return this.genInput("hex",{maxlength:this.hideAlpha?7:9,disabled:this.disabled},n,{change:function(e){var n=e.target;t.$emit("update:color",t.currentMode.from(Object(o.parseHex)(n.value)))}});default:return(this.hideAlpha?this.currentMode.inputs.slice(0,-1):this.currentMode.inputs).map((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,3),i=n[0],r=n[1],s=n[2],o=t.color[t.internalMode];return t.genInput(i,{type:"number",min:0,max:r,step:"float"===s?"0.01":"int"===s?"1":void 0,disabled:t.disabled},t.getValue(o[i],s),{input:function(e){var n,r=e.target,a=t.parseValue(r.value||"0",s);t.$emit("update:color",t.currentMode.from(Object.assign({},o,((n={})[i]=a,n)),t.color.alpha))}})}))}},genSwitch:function(){return this.$createElement(r.default,{props:{small:!0,icon:!0,disabled:this.disabled},on:{click:this.changeMode}},[this.$createElement(s.default,"$unfold")])}},render:function(t){return t("div",{staticClass:"v-color-picker__edit"},[this.genInputs(),!this.hideModeSwitch&&this.genSwitch()])}})},"./src/components/VColorPicker/VColorPickerPreview.sass":
/*!**************************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerPreview.sass ***!
  \**************************************************************/
/*! no static exports found */function(){},"./src/components/VColorPicker/VColorPickerPreview.ts":
/*!************************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerPreview.ts ***!
  \************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VColorPickerPreview.sass */"./src/components/VColorPicker/VColorPickerPreview.sass"),r=(n.n(i),n(/*! ../VSlider/VSlider */"./src/components/VSlider/VSlider.ts")),s=n(/*! ../../util/colorUtils */"./src/util/colorUtils.ts"),o=n(/*! vue */"vue"),a=n.n(o),c=n(/*! ./util */"./src/components/VColorPicker/util/index.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=a.a.extend({name:"v-color-picker-preview",props:{color:Object,disabled:Boolean,hideAlpha:Boolean},methods:{genAlpha:function(){var t=this;return this.genTrack({staticClass:"v-color-picker__alpha",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.alpha,step:0,min:0,max:1},style:{backgroundImage:this.disabled?void 0:"linear-gradient(to right, transparent, "+Object(s.RGBtoCSS)(this.color.rgba)+")"},on:{input:function(e){return t.color.alpha!==e&&t.$emit("update:color",Object(c.fromHSVA)(l({},t.color.hsva,{a:e})))}}})},genSliders:function(){return this.$createElement("div",{staticClass:"v-color-picker__sliders"},[this.genHue(),!this.hideAlpha&&this.genAlpha()])},genDot:function(){return this.$createElement("div",{staticClass:"v-color-picker__dot"},[this.$createElement("div",{style:{background:Object(s.RGBAtoCSS)(this.color.rgba)}})])},genHue:function(){var t=this;return this.genTrack({staticClass:"v-color-picker__hue",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.hue,step:0,min:0,max:360},on:{input:function(e){return t.color.hue!==e&&t.$emit("update:color",Object(c.fromHSVA)(l({},t.color.hsva,{h:e})))}}})},genTrack:function(t){return this.$createElement(r.default,l({class:"v-color-picker__track"},t,{props:l({disabled:this.disabled},t.props)}))}},render:function(t){return t("div",{staticClass:"v-color-picker__preview",class:{"v-color-picker__preview--hide-alpha":this.hideAlpha}},[this.genDot(),this.genSliders()])}})},"./src/components/VColorPicker/VColorPickerSwatches.sass":
/*!***************************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerSwatches.sass ***!
  \***************************************************************/
/*! no static exports found */function(){},"./src/components/VColorPicker/VColorPickerSwatches.ts":
/*!*************************************************************!*\
  !*** ./src/components/VColorPicker/VColorPickerSwatches.ts ***!
  \*************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VColorPickerSwatches.sass */"./src/components/VColorPicker/VColorPickerSwatches.sass"),r=(n.n(i),n(/*! ../VIcon */"./src/components/VIcon/index.ts")),s=n(/*! ../../util/colors */"./src/util/colors.ts"),o=n(/*! ./util */"./src/components/VColorPicker/util/index.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),u=n(/*! ../../util/colorUtils */"./src/util/colorUtils.ts"),d=Object(o.fromHex)("#FFFFFF").rgba,h=Object(o.fromHex)("#000000").rgba;e.default=Object(c.default)(l.default).extend({name:"v-color-picker-swatches",props:{swatches:{type:Array,default:function(){return function(t){return Object.keys(t).map((function(e){var n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]}))}(s.default)}},color:Object,maxWidth:[Number,String],maxHeight:[Number,String]},methods:{genColor:function(t){var e=this,n=this.$createElement("div",{style:{background:t}},[Object(a.deepEqual)(this.color,Object(o.parseColor)(t,null))&&this.$createElement(r.default,{props:{small:!0,dark:2<Object(u.contrastRatio)(this.color.rgba,d)&&.5<this.color.alpha,light:2<Object(u.contrastRatio)(this.color.rgba,h)&&.5<this.color.alpha}},"$success")]);return this.$createElement("div",{staticClass:"v-color-picker__color",on:{click:function(){return e.$emit("update:color",Object(o.fromHex)("transparent"===t?"#00000000":t))}}},[n])},genSwatches:function(){var t=this;return this.swatches.map((function(e){var n=e.map(t.genColor);return t.$createElement("div",{staticClass:"v-color-picker__swatch"},n)}))}},render:function(t){return t("div",{staticClass:"v-color-picker__swatches",style:{maxWidth:Object(a.convertToUnit)(this.maxWidth),maxHeight:Object(a.convertToUnit)(this.maxHeight)}},[this.$createElement("div",this.genSwatches())])}})},"./src/components/VColorPicker/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VColorPicker/index.ts ***!
  \**********************************************/
/*! exports provided: VColorPicker, VColorPickerSwatches, VColorPickerCanvas, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VColorPicker */"./src/components/VColorPicker/VColorPicker.ts");n.d(e,"VColorPicker",(function(){return i.default}));var r=n(/*! ./VColorPickerSwatches */"./src/components/VColorPicker/VColorPickerSwatches.ts");n.d(e,"VColorPickerSwatches",(function(){return r.default}));var s=n(/*! ./VColorPickerCanvas */"./src/components/VColorPicker/VColorPickerCanvas.ts");n.d(e,"VColorPickerCanvas",(function(){return s.default})),e.default=i.default},"./src/components/VColorPicker/util/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VColorPicker/util/index.ts ***!
  \***************************************************/
/*! exports provided: fromHSVA, fromHSLA, fromRGBA, fromHexa, fromHex, parseColor, extractColor, hasAlpha */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){t=p({},t);var e=Object(f.HSVAtoHex)(t),n=Object(f.HSVAtoHSLA)(t),i=Object(f.HSVAtoRGBA)(t);return{alpha:t.a,hex:e.substr(0,7),hexa:e,hsla:n,hsva:t,hue:t.h,rgba:i}}function s(t){var e=Object(f.HSLAtoHSVA)(t),n=Object(f.HSVAtoHex)(e),i=Object(f.HSVAtoRGBA)(e);return{alpha:e.a,hex:n.substr(0,7),hexa:n,hsla:t,hsva:e,hue:e.h,rgba:i}}function o(t){var e=Object(f.RGBAtoHSVA)(t),n=Object(f.RGBAtoHex)(t),i=Object(f.HSVAtoHSLA)(e);return{alpha:e.a,hex:n.substr(0,7),hexa:n,hsla:i,hsva:e,hue:e.h,rgba:t}}function a(t){var e=Object(f.HexToHSVA)(t),n=Object(f.HSVAtoHSLA)(e),i=Object(f.HSVAtoRGBA)(e);return{alpha:e.a,hex:t.substr(0,7),hexa:t,hsla:n,hsva:e,hue:e.h,rgba:i}}function c(t){return a(Object(f.parseHex)(t))}function l(t,e){return e.every((function(e){return t.hasOwnProperty(e)}))}function u(t,e){if(!t)return o({r:255,g:0,b:0,a:1});if("string"==typeof t){if("transparent"===t)return a("#00000000");var n=Object(f.parseHex)(t);return e&&n===e.hexa?e:a(n)}if("object"===i(t)){if(t.hasOwnProperty("alpha"))return t;var c=t.hasOwnProperty("a")?parseFloat(t.a):1;if(l(t,["r","g","b"]))return e&&t===e.rgba?e:o(p({},t,{a:c}));if(l(t,["h","s","l"]))return e&&t===e.hsla?e:s(p({},t,{a:c}));if(l(t,["h","s","v"]))return e&&t===e.hsva?e:r(p({},t,{a:c}))}return o({r:255,g:0,b:0,a:1})}function d(t,e){if(null==e)return t;if("string"==typeof e)return 7===e.length?t.hex:t.hexa;if("object"===i(e)){if(l(e,["r","g","b"]))return t.rgba;if(l(e,["h","s","l"]))return t.hsla;if(l(e,["h","s","v"]))return t.hsva}return t}function h(t){return!!t&&("string"==typeof t?7<t.length:"object"===i(t)&&l(t,["a"]))}n.r(e),n.d(e,"fromHSVA",(function(){return r})),n.d(e,"fromHSLA",(function(){return s})),n.d(e,"fromRGBA",(function(){return o})),n.d(e,"fromHexa",(function(){return a})),n.d(e,"fromHex",(function(){return c})),n.d(e,"parseColor",(function(){return u})),n.d(e,"extractColor",(function(){return d})),n.d(e,"hasAlpha",(function(){return h}));var f=n(/*! ../../../util/colorUtils */"./src/util/colorUtils.ts"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)}},"./src/components/VCombobox/VCombobox.ts":
/*!***********************************************!*\
  !*** ./src/components/VCombobox/VCombobox.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VAutocomplete/VAutocomplete.sass */"./src/components/VAutocomplete/VAutocomplete.sass"),r=(n.n(i),n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.ts")),s=n(/*! ../VAutocomplete/VAutocomplete */"./src/components/VAutocomplete/VAutocomplete.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.default.extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{counterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return r.default.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var t=s.default.options.methods.genInput.call(this);return t.data.on.paste=this.onPaste,t},genChipSelection:function(t,e){var n=this,i=r.default.options.methods.genChipSelection.call(this,t,e);return this.multiple&&(i.componentOptions.listeners=a({},i.componentOptions.listeners,{dblclick:function(){n.editingIndex=e,n.internalSearch=n.getText(t),n.selectedIndex=-1}})),i},onChipInput:function(t){r.default.options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){var e=this;t.preventDefault(),this.$nextTick((function(){-1<e.getMenuIndex()||e.updateSelf()}))},onFilteredItemsChanged:function(t,e){this.autoSelectFirst&&s.default.options.methods.onFilteredItemsChanged.call(this,t,e)},onKeyDown:function(t){var e=t.keyCode;r.default.options.methods.onKeyDown.call(this,t),this.multiple&&e===o.keyCodes.left&&0===this.$refs.input.selectionStart?this.updateSelf():e===o.keyCodes.enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown:function(t){return this.multiple&&this.internalSearch&&-1===this.getMenuIndex()?(t.preventDefault(),t.stopPropagation(),this.updateTags()):void s.default.options.methods.onTabDown.call(this,t)},selectItem:function(t){-1<this.editingIndex?this.updateEditing():s.default.options.methods.selectItem.call(this,t)},setSelectedItems:function(){this.selectedItems=null==this.internalValue||""===this.internalValue?[]:this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){r.default.options.methods.setValue.call(this,null==t?this.internalSearch:t)},updateEditing:function(){var t=this.internalValue.slice();t[this.editingIndex]=this.internalSearch,this.setValue(t),this.editingIndex=-1},updateCombobox:function(){var t=!!this.$scopedSlots.selection||this.hasChips;t&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),t&&(this.internalSearch=void 0))},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this.getMenuIndex();if(!(0>t)||this.searchIsDirty){if(-1<this.editingIndex)return this.updateEditing();var e=this.selectedItems.indexOf(this.internalSearch);if(-1<e){var n=this.internalValue.slice();n.splice(e,1),this.setValue(n)}return-1<t?this.internalSearch=null:(this.selectItem(this.internalSearch),void(this.internalSearch=null))}},onPaste:function(t){if(this.multiple&&!this.searchIsDirty){var e=t.clipboardData.getData("text/vnd.vuetify.autocomplete.item+plain");e&&-1===this.findExistingIndex(e)&&(t.preventDefault(),r.default.options.methods.selectItem.call(this,e))}}}})},"./src/components/VCombobox/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCombobox/index.ts ***!
  \*******************************************/
/*! exports provided: VCombobox, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCombobox */"./src/components/VCombobox/VCombobox.ts");n.d(e,"VCombobox",(function(){return i.default})),e.default=i.default},"./src/components/VContent/VContent.sass":
/*!***********************************************!*\
  !*** ./src/components/VContent/VContent.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VContent/VContent.ts":
/*!*********************************************!*\
  !*** ./src/components/VContent/VContent.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VContent.sass */"./src/components/VContent/VContent.sass"),r=(n.n(i),n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable/index.ts"));e.default=r.default.extend({name:"v-content",props:{tag:{type:String,default:"main"}},computed:{styles:function(){var t=this.$vuetify.application,e=t.bar;return{paddingTop:t.top+e+"px",paddingRight:t.right+"px",paddingBottom:t.footer+t.insetFooter+t.bottom+"px",paddingLeft:t.left+"px"}}},render:function(t){var e={staticClass:"v-content",style:this.styles,ref:"content"};return t(this.tag,e,[t("div",{staticClass:"v-content__wrap"},this.$slots.default)])}})},"./src/components/VContent/index.ts":
/*!******************************************!*\
  !*** ./src/components/VContent/index.ts ***!
  \******************************************/
/*! exports provided: VContent, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VContent */"./src/components/VContent/VContent.ts");n.d(e,"VContent",(function(){return i.default})),e.default=i.default},"./src/components/VCounter/VCounter.sass":
/*!***********************************************!*\
  !*** ./src/components/VCounter/VCounter.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VCounter/VCounter.ts":
/*!*********************************************!*\
  !*** ./src/components/VCounter/VCounter.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCounter.sass */"./src/components/VCounter/VCounter.sass"),r=(n.n(i),n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts")),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(s.default)(r.default).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(t,e){var n=e.props,i=parseInt(n.max,10),s=parseInt(n.value,10),a=i?s+" / "+i:n.value+"";return t("div",{staticClass:"v-counter",class:o({"error--text":i&&s>i},Object(r.functionalThemeClasses)(e))},a)}})},"./src/components/VCounter/index.ts":
/*!******************************************!*\
  !*** ./src/components/VCounter/index.ts ***!
  \******************************************/
/*! exports provided: VCounter, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCounter */"./src/components/VCounter/VCounter.ts");n.d(e,"VCounter",(function(){return i.default})),e.default=i.default},"./src/components/VData/VData.ts":
/*!***************************************!*\
  !*** ./src/components/VData/VData.ts ***!
  \***************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ../../util/helpers */"./src/util/helpers.ts"),o=r(/*! vue */"vue"),a=r.n(o),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};i.default=a.a.extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:s.sortItems},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:s.searchItems},serverItemsLength:{type:Number,default:-1}},data:function(){var t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(s.wrapInArray)(this.sortBy),sortDesc:Object(s.wrapInArray)(this.sortDesc),groupBy:Object(s.wrapInArray)(this.groupBy),groupDesc:Object(s.wrapInArray)(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};return this.options&&(t=Object.assign(t,this.options)),{internalOptions:t}},computed:{itemsLength:function(){return 0<=this.serverItemsLength?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return-1===this.internalOptions.itemsPerPage?1:l(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?t(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var t=this.items.slice();return!this.disableFiltering&&0>=this.serverItemsLength&&(t=this.customFilter(t,this.search)),t},computedItems:function(){var t=this.filteredItems.slice();return!this.disableSort&&0>=this.serverItemsLength&&(t=this.sortItems(t)),!this.disablePagination&&0>=this.serverItemsLength&&(t=this.paginateItems(t)),t},groupedItems:function(){return this.isGrouped?Object(s.groupByProperty)(this.computedItems,this.internalOptions.groupBy[0]):null},scopedProps:function(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions:function(){return c({},this.options)}},watch:{computedOptions:{handler:function(t,e){Object(s.deepEqual)(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler:function(t,e){Object(s.deepEqual)(t,e)||(this.$emit("update:options",t),this.$emit("pagination",this.pagination))},deep:!0,immediate:!0},page:function(t){this.updateOptions({page:t})},"internalOptions.page":function(t){this.$emit("update:page",t)},itemsPerPage:function(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage":function(t){this.$emit("update:items-per-page",t)},sortBy:function(t){this.updateOptions({sortBy:Object(s.wrapInArray)(t)})},"internalOptions.sortBy":function(t,e){Object(s.deepEqual)(t,e)||this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc:function(t){this.updateOptions({sortDesc:Object(s.wrapInArray)(t)})},"internalOptions.sortDesc":function(t,e){Object(s.deepEqual)(t,e)||this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy:function(t){this.updateOptions({groupBy:Object(s.wrapInArray)(t)})},"internalOptions.groupBy":function(t,e){Object(s.deepEqual)(t,e)||this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc:function(t){this.updateOptions({groupDesc:Object(s.wrapInArray)(t)})},"internalOptions.groupDesc":function(t,e){Object(s.deepEqual)(t,e)||this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort:function(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort":function(t){this.$emit("update:multi-sort",t)},mustSort:function(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort":function(t){this.$emit("update:must-sort",t)},pageCount:{handler:function(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler:function(t){this.$emit("current-items",t)},immediate:!0}},methods:{toggle:function(t,e,n,i,r,o){var a=e.slice(),c=n.slice(),l=a.findIndex((function(e){return e===t}));return 0>l?(!o&&(a=[],c=[]),a.push(t),c.push(!1)):0<=l&&!c[l]?c[l]=!0:r?c[l]=!1:(a.splice(l,1),c.splice(l,1)),Object(s.deepEqual)(a,e)&&Object(s.deepEqual)(c,n)||(i=1),{by:a,desc:c,page:i}},group:function(t){var e=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),n=e.by,i=e.desc,r=e.page;this.updateOptions({groupBy:n,groupDesc:i,page:r})},sort:function(t){if(Array.isArray(t))return this.sortArray(t);var e=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.mustSort,this.multiSort),n=e.by,i=e.desc,r=e.page;this.updateOptions({sortBy:n,sortDesc:i,page:r})},sortArray:function(t){var e=this,n=t.map((function(t){var n=e.internalOptions.sortBy.findIndex((function(e){return e===t}));return!!(-1<n)&&e.internalOptions.sortDesc[n]}));this.updateOptions({sortBy:t,sortDesc:n})},updateOptions:function(n){this.internalOptions=c({},this.internalOptions,n,{page:0>this.serverItemsLength?e(1,t(n.page||this.internalOptions.page,this.pageCount)):n.page||this.internalOptions.page})},sortItems:function(t){var e=this.internalOptions.groupBy.concat(this.internalOptions.sortBy),n=this.internalOptions.groupDesc.concat(this.internalOptions.sortDesc);return this.customSort(t,e,n,this.locale)},paginateItems:function(t){return-1===this.serverItemsLength&&t.length<=this.pageStart&&(this.internalOptions.page=e(1,this.internalOptions.page-1)),t.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}})},"./src/components/VData/index.ts":
/*!***************************************!*\
  !*** ./src/components/VData/index.ts ***!
  \***************************************/
/*! exports provided: VData, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VData */"./src/components/VData/VData.ts");n.d(e,"VData",(function(){return i.default})),e.default=i.default},"./src/components/VDataIterator/VDataFooter.sass":
/*!*******************************************************!*\
  !*** ./src/components/VDataIterator/VDataFooter.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VDataIterator/VDataFooter.ts":
/*!*****************************************************!*\
  !*** ./src/components/VDataIterator/VDataFooter.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var r=n(/*! ./VDataFooter.sass */"./src/components/VDataIterator/VDataFooter.sass"),s=(n.n(r),n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.ts")),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),a=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),c=n(/*! vue */"vue"),l=n.n(c);e.default=l.a.extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:function(){return[5,10,15,-1]}},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon:function(){return 0>this.options.itemsPerPage||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||0>this.pagination.pageStop},computedItemsPerPageOptions:function(){var t=this;return this.itemsPerPageOptions.map((function(e){return"object"===i(e)?e:t.genItemsPerPageOption(e)}))}},methods:{updateOptions:function(t){this.$emit("update:options",Object.assign({},this.options,t))},onFirstPage:function(){this.updateOptions({page:1})},onPreviousPage:function(){this.updateOptions({page:this.options.page-1})},onNextPage:function(){this.updateOptions({page:this.options.page+1})},onLastPage:function(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage:function(t){this.updateOptions({itemsPerPage:t,page:1})},genItemsPerPageOption:function(t){return{text:-1===t?this.$vuetify.lang.t(this.itemsPerPageAllText):t+"",value:t}},genItemsPerPageSelect:function(){var t=this.options.itemsPerPage,e=this.computedItemsPerPageOptions;return 1>=e.length?null:(e.find((function(e){return e.value===t}))||(t=e[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(s.default,{attrs:{"aria-label":this.itemsPerPageText},props:{disabled:this.disableItemsPerPage,items:e,value:t,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo:function(){var t=["–"];if(this.pagination.itemsLength){var e=this.pagination.itemsLength,n=this.pagination.pageStart+1,i=e<this.pagination.pageStop||0>this.pagination.pageStop?e:this.pagination.pageStop;t=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:n,pageStop:i,itemsLength:e})]:[this.$vuetify.lang.t(this.pageText,n,i,e)]}return this.$createElement("div",{class:"v-data-footer__pagination"},t)},genIcon:function(t,e,n,i){return this.$createElement(a.default,{props:{disabled:e||this.disablePagination,icon:!0,text:!0},on:{click:t},attrs:{"aria-label":n}},[this.$createElement(o.default,i)])},genIcons:function(){var t=[],e=[];return t.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),e.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(t.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),e.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},t),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},e)]}},render:function(){return this.$createElement("div",{staticClass:"v-data-footer"},[this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}})},"./src/components/VDataIterator/VDataIterator.ts":
/*!*******************************************************!*\
  !*** ./src/components/VDataIterator/VDataIterator.ts ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VData */"./src/components/VData/index.ts"),r=n(/*! ./VDataFooter */"./src/components/VDataIterator/VDataFooter.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.default.extend({name:"v-data-iterator",props:c({},i.VData.options.props,{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[]}},computed:{everyItem:function(){var t=this;return!!this.internalCurrentItems.length&&this.internalCurrentItems.every((function(e){return t.isSelected(e)}))},someItems:function(){var t=this;return this.internalCurrentItems.some((function(e){return t.isSelected(e)}))},sanitizedFooterProps:function(){return Object(o.camelizeObjectKeys)(this.footerProps)}},watch:{value:{handler:function(t){var e=this;this.selection=t.reduce((function(t,n){return t[Object(o.getObjectValueByPath)(n,e.itemKey)]=n,t}),{})},immediate:!0},selection:function(t,e){Object(o.deepEqual)(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler:function(t){var e=this;this.expansion=t.reduce((function(t,n){return t[Object(o.getObjectValueByPath)(n,e.itemKey)]=!0,t}),{})},immediate:!0},expansion:function(t,e){var n=this;if(!Object(o.deepEqual)(t,e)){var i=Object.keys(t).filter((function(e){return t[e]})),r=i.length?this.items.filter((function(t){return i.includes(Object(o.getObjectValueByPath)(t,n.itemKey)+"")})):[];this.$emit("update:expanded",r)}}},created:function(){var t=this;[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]].forEach((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,2),i=n[0],r=n[1];t.$attrs.hasOwnProperty(i)&&Object(a.breaking)(i,r,t)})),["expand","content-class","content-props","content-tag"].forEach((function(e){t.$attrs.hasOwnProperty(e)&&Object(a.removed)(e)}))},methods:{toggleSelectAll:function(t){var e=this,n=Object.assign({},this.selection);this.internalCurrentItems.forEach((function(i){var r=Object(o.getObjectValueByPath)(i,e.itemKey);t?n[r]=i:delete n[r]})),this.selection=n,this.$emit("toggle-select-all",{value:t})},isSelected:function(t){return!!this.selection[Object(o.getObjectValueByPath)(t,this.itemKey)]||!1},select:function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var i=this.singleSelect?{}:Object.assign({},this.selection),r=Object(o.getObjectValueByPath)(t,this.itemKey);e?i[r]=t:delete i[r],this.selection=i,n&&this.$emit("item-selected",{item:t,value:e})},isExpanded:function(t){return this.expansion[Object(o.getObjectValueByPath)(t,this.itemKey)]||!1},expand:function(t,e){void 0===e&&(e=!0);var n=this.singleExpand?{}:Object.assign({},this.expansion),i=Object(o.getObjectValueByPath)(t,this.itemKey);e?n[i]=!0:delete n[i],this.expansion=n,this.$emit("item-expanded",{item:t,value:e})},createItemProps:function(t){var e=this;return{item:t,select:function(n){return e.select(t,n)},isSelected:this.isSelected(t),expand:function(n){return e.expand(t,n)},isExpanded:this.isExpanded(t)}},genEmptyWrapper:function(t){return this.$createElement("div",t)},genEmpty:function(t,e){if(0===t&&this.loading){var n=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(n)}if(0===t){var i=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(i)}if(0===e){var r=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(r)}return null},genItems:function(t){var e=this,n=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return n?[n]:this.$scopedSlots.default?this.$scopedSlots.default(c({},t,{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,expand:this.expand})):this.$scopedSlots.item?t.items.map((function(t){return e.$scopedSlots.item(e.createItemProps(t))})):[]},genFooter:function(t){if(this.hideDefaultFooter)return null;var e={props:c({},this.sanitizedFooterProps,{options:t.options,pagination:t.pagination}),on:{"update:options":function(e){return t.updateOptions(e)}}},n=Object(o.getPrefixedScopedSlots)("footer.",this.$scopedSlots);return this.$createElement(r.default,c({scopedSlots:n},e))},genDefaultScopedSlot:function(t){var e=c({},t,{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(o.getSlot)(this,"header",e,!0),this.genItems(t),this.genFooter(t),Object(o.getSlot)(this,"footer",e,!0)])}},render:function(){var t=this;return this.$createElement(i.VData,{props:this.$props,on:{"update:options":function(e,n){return!Object(o.deepEqual)(e,n)&&t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(o.deepEqual)(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}})},"./src/components/VDataIterator/index.ts":
/*!***********************************************!*\
  !*** ./src/components/VDataIterator/index.ts ***!
  \***********************************************/
/*! exports provided: VDataIterator, VDataFooter, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDataIterator */"./src/components/VDataIterator/VDataIterator.ts");n.d(e,"VDataIterator",(function(){return i.default}));var r=n(/*! ./VDataFooter */"./src/components/VDataIterator/VDataFooter.ts");n.d(e,"VDataFooter",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VDataIterator:i.default,VDataFooter:r.default}}},"./src/components/VDataTable/MobileRow.ts":
/*!************************************************!*\
  !*** ./src/components/VDataTable/MobileRow.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=r.a.extend({name:"row",functional:!0,props:{headers:Array,item:Object,rtl:Boolean},render:function(t,e){var n=e.props,i=e.slots,r=e.data,o=i(),a=n.headers.map((function(e){var i=[],a=Object(s.getObjectValueByPath)(n.item,e.value),c=e.value,l=r.scopedSlots&&r.scopedSlots[c],u=o[c];l?i.push(l({item:n.item,header:e,value:a})):u?i.push(u):i.push(null==a?a:a+"");var d=[t("div",{staticClass:"v-data-table__mobile-row__cell"},i)];return"dataTableSelect"!==e.value&&d.unshift(t("div",{staticClass:"v-data-table__mobile-row__header"},[e.text])),t("td",{class:{"v-data-table__mobile-row":!0}},d)}));return t("tr",r,a)}})},"./src/components/VDataTable/Row.ts":
/*!******************************************!*\
  !*** ./src/components/VDataTable/Row.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=r.a.extend({name:"row",functional:!0,props:{headers:Array,item:Object,rtl:Boolean},render:function(t,e){var n=e.props,i=e.slots,r=e.data,o=i(),a=n.headers.map((function(e){var i,a=[],c=Object(s.getObjectValueByPath)(n.item,e.value),l=e.value,u=r.scopedSlots&&r.scopedSlots[l],d=o[l];u?a.push(u({item:n.item,header:e,value:c})):d?a.push(d):a.push(null==c?c:c+"");var h="text-"+(e.align||"start");return t("td",{class:(i={},i[h]=!0,i["v-data-table__divider"]=e.divider,i)},a)}));return t("tr",r,a)}})},"./src/components/VDataTable/RowGroup.ts":
/*!***********************************************!*\
  !*** ./src/components/VDataTable/RowGroup.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};e.default=r.a.extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render:function(t,e){var n=e.slots,i=e.props,r=n(),s=[];return r["column.header"]?s.push(t("tr",{staticClass:i.headerClass},r["column.header"])):r["row.header"]&&s.push.apply(s,o(r["row.header"])),r["row.content"]&&i.value&&s.push.apply(s,o(r["row.content"])),r["column.summary"]?s.push(t("tr",{staticClass:i.summaryClass},r["column.summary"])):r["row.summary"]&&s.push.apply(s,o(r["row.summary"])),s}})},"./src/components/VDataTable/VDataTable.sass":
/*!***************************************************!*\
  !*** ./src/components/VDataTable/VDataTable.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VDataTable/VDataTable.ts":
/*!*************************************************!*\
  !*** ./src/components/VDataTable/VDataTable.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return function(i){var r=Object(y.getObjectValueByPath)(t,i.value);return i.filter?i.filter(r,e,t):n(r,e,t)}}n.r(e);var s=n(/*! ./VDataTable.sass */"./src/components/VDataTable/VDataTable.sass"),o=(n.n(s),n(/*! ../VData */"./src/components/VData/index.ts")),a=n(/*! ../VDataIterator */"./src/components/VDataIterator/index.ts"),c=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),l=n(/*! ./VDataTableHeader */"./src/components/VDataTable/VDataTableHeader.ts"),u=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),d=n(/*! ../VProgressLinear */"./src/components/VProgressLinear/index.ts"),h=n(/*! ./Row */"./src/components/VDataTable/Row.ts"),f=n(/*! ./RowGroup */"./src/components/VDataTable/RowGroup.ts"),p=n(/*! ../VCheckbox/VSimpleCheckbox */"./src/components/VCheckbox/VSimpleCheckbox.ts"),m=n(/*! ./VSimpleTable */"./src/components/VDataTable/VSimpleTable.ts"),v=n(/*! ./MobileRow */"./src/components/VDataTable/MobileRow.ts"),g=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),y=n(/*! ../../util/helpers */"./src/util/helpers.ts"),b=n(/*! ../../util/console */"./src/util/console.ts"),x=function(){return(x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=a.VDataIterator.extend({name:"v-data-table",directives:{ripple:g.default},props:{headers:{type:Array},showSelect:Boolean,showExpand:Boolean,showGroupBy:Boolean,mobileBreakpoint:{type:Number,default:600},height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:y.defaultFilter}},data:function(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders:function(){var t=this;if(!this.headers)return[];var e,n=this.headers.filter((function(e){return void 0===e.value||!t.internalGroupBy.find((function(t){return t===e.value}))})),i={text:"",sortable:!1,width:"1px"};this.showSelect&&(0>(e=n.findIndex((function(t){return"data-table-select"===t.value})))?n.unshift(x({},i,{value:"data-table-select"})):n.splice(e,1,x({},i,n[e])));this.showExpand&&(0>(e=n.findIndex((function(t){return"data-table-expand"===t.value})))?n.unshift(x({},i,{value:"data-table-expand"})):n.splice(e,1,x({},i,n[e])));return n},colspanAttrs:function(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},isMobile:function(){return 0!==this.$vuetify.breakpoint.width&&this.$vuetify.breakpoint.width<this.mobileBreakpoint},columnSorters:function(){return this.computedHeaders.reduce((function(t,e){return e.sort&&(t[e.value]=e.sort),t}),{})},headersWithCustomFilters:function(){return this.computedHeaders.filter((function(t){return t.filter&&(!t.hasOwnProperty("filterable")||!0===t.filterable)}))},headersWithoutCustomFilters:function(){return this.computedHeaders.filter((function(t){return!(t.filter||t.hasOwnProperty("filterable")&&!0!==t.filterable)}))},sanitizedHeaderProps:function(){return Object(y.camelizeObjectKeys)(this.headerProps)},computedItemsPerPage:function(){var t=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,e=this.sanitizedFooterProps.itemsPerPageOptions;if(e&&!e.find((function(e){return"number"==typeof e?e===t:e.value===t}))){var n=e[0];return"object"===i(n)?n.value:n}return t}},created:function(){var t=this;[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]].forEach((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,2),i=n[0],r=n[1];t.$attrs.hasOwnProperty(i)&&Object(b.breaking)(i,r,t)}))},mounted:function(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy:function(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths:function(){this.widths=Array.from(this.$el.querySelectorAll("th")).map((function(t){return t.clientWidth}))},customFilterWithColumns:function(t,e){return function(t,e,n,i,s){var o=t;return(e="string"==typeof e?e.trim():null)&&i.length&&(o=t.filter((function(t){return i.some(r(t,e,s))}))),n.length&&(o=o.filter((function(t){return n.every(r(t,e,y.defaultFilter))}))),o}(t,e,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders:function(t,e,n,i){return this.customSort(t,e,n,i,this.columnSorters)},createItemProps:function(t){var e=a.VDataIterator.options.methods.createItemProps.call(this,t);return Object.assign(e,{headers:this.computedHeaders})},genCaption:function(t){return this.caption?[this.$createElement("caption",[this.caption])]:Object(y.getSlot)(this,"caption",t,!0)},genColgroup:function(){var t=this;return this.$createElement("colgroup",this.computedHeaders.map((function(e){return t.$createElement("col",{class:{divider:e.divider}})})))},genLoading:function(){var t=this.$slots.progress?this.$slots.progress:this.$createElement(d.default,{props:{color:!0===this.loading?"primary":this.loading,height:2,indeterminate:!0}}),e=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[t]),n=this.$createElement("tr",{staticClass:"v-data-table__progress"},[e]);return this.$createElement("thead",[n])},genHeaders:function(t){var e={props:x({},this.sanitizedHeaderProps,{headers:this.computedHeaders,options:t.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort}),on:{sort:t.sort,group:t.group,"toggle-select-all":this.toggleSelectAll}},n=[Object(y.getSlot)(this,"header",e)];if(!this.hideDefaultHeader){var i=Object(y.getPrefixedScopedSlots)("header.",this.$scopedSlots);n.push(this.$createElement(l.default,x({},e,{scopedSlots:i})))}return this.loading&&n.push(this.genLoading()),n},genEmptyWrapper:function(t){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},t)])},genItems:function(t,e){var n=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return n?[n]:e.groupedItems?this.genGroupedRows(e.groupedItems,e):this.genRows(t,e)},genGroupedRows:function(t,e){var n=this;return Object.keys(t||{}).map((function(i){return n.openCache.hasOwnProperty(i)||n.$set(n.openCache,i,!0),n.$scopedSlots.group?n.$scopedSlots.group({group:i,options:e.options,items:t[i],headers:n.computedHeaders}):n.genDefaultGroupedRow(i,t[i],e)}))},genDefaultGroupedRow:function(t,e,n){var i=this,r=!!this.openCache[t],s=[this.$createElement("template",{slot:"row.content"},this.genDefaultRows(e,n))],o=function(){return i.$set(i.openCache,t,!i.openCache[t])},a=function(){return n.updateOptions({groupBy:[],groupDesc:[]})};if(this.$scopedSlots["group.header"])s.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:t,groupBy:n.options.groupBy,items:e,headers:this.computedHeaders,toggle:o,remove:a})]));else{var l=this.$createElement(c.default,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:o}},[this.$createElement(u.default,[r?"$minus":"$plus"])]),d=this.$createElement(c.default,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:a}},[this.$createElement(u.default,["$close"])]),h=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[l,n.options.groupBy[0]+": "+t,d]);s.unshift(this.$createElement("template",{slot:"column.header"},[h]))}return this.$scopedSlots["group.summary"]&&s.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:t,groupBy:n.options.groupBy,items:e,headers:this.computedHeaders})])),this.$createElement(f.default,{key:t,props:{value:r}},s)},genRows:function(t,e){return this.$scopedSlots.item?this.genScopedRows(t,e):this.genDefaultRows(t,e)},genScopedRows:function(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],n.push(this.$scopedSlots.item(x({},this.createItemProps(e),{index:i}))),this.isExpanded(e)&&n.push(this.$scopedSlots["expanded-item"]({item:e,headers:this.computedHeaders}));return n},genDefaultRows:function(t){var e=this;return this.$scopedSlots["expanded-item"]?t.map((function(t){return e.genDefaultExpandedRow(t)})):t.map((function(t){return e.genDefaultSimpleRow(t)}))},genDefaultExpandedRow:function(t){var e=this.isExpanded(t),n=this.genDefaultSimpleRow(t,{"v-data-table__expanded v-data-table__expanded__row":e}),i=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({item:t,headers:this.computedHeaders})]);return this.$createElement(f.default,{props:{value:e}},[this.$createElement("template",{slot:"row.header"},[n]),this.$createElement("template",{slot:"row.content"},[i])])},genDefaultSimpleRow:function(t,e){var n=this;void 0===e&&(e={});var i=Object(y.getPrefixedScopedSlots)("item.",this.$scopedSlots),r=this.createItemProps(t);if(this.showSelect){var s=i["data-table-select"];i["data-table-select"]=s?function(){return s(r)}:function(){return n.$createElement(p.default,{staticClass:"v-data-table__checkbox",props:{value:r.isSelected},on:{input:function(t){return r.select(t)}}})}}if(this.showExpand){var o=i["data-table-expand"];i["data-table-expand"]=o?function(){return o(r)}:function(){return n.$createElement(u.default,{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":r.isExpanded},on:{click:function(t){t.stopPropagation(),r.expand(!r.isExpanded)}}},[n.expandIcon])}}return this.$createElement(this.isMobile?v.default:h.default,{key:Object(y.getObjectValueByPath)(t,this.itemKey),class:x({},e,{"v-data-table__selected":r.isSelected}),props:{headers:this.computedHeaders,item:t,rtl:this.$vuetify.rtl},scopedSlots:i,on:{click:function(){return n.$emit("click:row",t)}}})},genBody:function(t){var e=x({},t,{isMobile:this.isMobile,headers:this.computedHeaders});return this.$scopedSlots.body?this.$scopedSlots.body(e):this.$createElement("tbody",[Object(y.getSlot)(this,"body.prepend",e,!0),this.genItems(t.items,t),Object(y.getSlot)(this,"body.append",e,!0)])},genFooters:function(t){var e={props:x({options:t.options,pagination:t.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText"},this.sanitizedFooterProps),on:{"update:options":function(e){return t.updateOptions(e)}},widths:this.widths,headers:this.computedHeaders},n=[Object(y.getSlot)(this,"footer",e,!0)];return this.hideDefaultFooter||n.push(this.$createElement(a.VDataFooter,x({},e,{scopedSlots:Object(y.getPrefixedScopedSlots)("footer.",this.$scopedSlots)}))),n},genDefaultScopedSlot:function(t){var e={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(m.default,{props:e},[this.proxySlot("top",Object(y.getSlot)(this,"top",t,!0)),this.genCaption(t),this.genColgroup(t),this.genHeaders(t),this.genBody(t),this.proxySlot("bottom",this.genFooters(t))])},proxySlot:function(t,e){return this.$createElement("template",{slot:t},e)}},render:function(){var t=this;return this.$createElement(o.VData,{props:x({},this.$props,{customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage}),on:{"update:options":function(e,n){t.internalGroupBy=e.groupBy||[],Object(y.deepEqual)(e,n)||t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(y.deepEqual)(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)},"page-count":function(e){return t.$emit("page-count",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}})},"./src/components/VDataTable/VDataTableHeader.sass":
/*!*********************************************************!*\
  !*** ./src/components/VDataTable/VDataTableHeader.sass ***!
  \*********************************************************/
/*! no static exports found */function(){},"./src/components/VDataTable/VDataTableHeader.ts":
/*!*******************************************************!*\
  !*** ./src/components/VDataTable/VDataTableHeader.ts ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDataTableHeader.sass */"./src/components/VDataTable/VDataTableHeader.sass"),r=(n.n(i),n(/*! vue */"vue")),s=n.n(r),o=n(/*! ../../util/dedupeModelListeners */"./src/util/dedupeModelListeners.ts"),a=n(/*! ../../util/rebuildFunctionalSlots */"./src/util/rebuildFunctionalSlots.ts"),c=n(/*! ./VDataTableHeaderMobile */"./src/components/VDataTable/VDataTableHeaderMobile.ts"),l=n(/*! ./VDataTableHeaderDesktop */"./src/components/VDataTable/VDataTableHeaderDesktop.ts");e.default=s.a.extend({name:"v-data-table-header",functional:!0,props:{mobile:Boolean},render:function(t,e){var n=e.props,i=e.data,r=e.slots;Object(o.default)(i);var s=Object(a.default)(r(),t);return n.mobile?t(c.default,i,s):t(l.default,i,s)}})},"./src/components/VDataTable/VDataTableHeaderDesktop.ts":
/*!**************************************************************!*\
  !*** ./src/components/VDataTable/VDataTableHeaderDesktop.ts ***!
  \**************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ./mixins/header */"./src/components/VDataTable/mixins/header.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};e.default=Object(i.default)(r.default).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle:function(t){var e=this;return this.$createElement("span",{on:{click:function(){return e.$emit("group",t.value)}}},["group"])},genHeader:function(t){var e=this,n={},i=[],r={role:"columnheader",scope:"col","aria-label":t.text||"","aria-sort":"none"},o={width:Object(s.convertToUnit)(t.width),minWidth:Object(s.convertToUnit)(t.width)},c=a(["text-"+(t.align||"start")],Object(s.wrapInArray)(t.class),[t.divider&&"v-data-table__divider"]);if("data-table-select"!==t.value||this.singleSelect){if(i.push(this.$scopedSlots[t.value]?this.$scopedSlots[t.value]({header:t}):this.$createElement("span",[t.text])),!this.disableSort&&(t.sortable||!t.hasOwnProperty("sortable"))){n.click=function(){return e.$emit("sort",t.value)};var l=this.options.sortBy.findIndex((function(e){return e===t.value})),u=0<=l,d=this.options.sortDesc[l];c.push("sortable"),u?(c.push("active"),c.push(d?"desc":"asc"),r["aria-sort"]=d?"descending":"ascending",r["aria-label"]+=d?this.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.sortDescending"):this.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.sortAscending")):r["aria-label"]+=this.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.sortNone"),"end"===t.align?i.unshift(this.genSortIcon()):i.push(this.genSortIcon()),this.options.multiSort&&u&&i.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[l+1+""]))}this.showGroupBy&&i.push(this.genGroupByToggle(t))}else i.push(this.genSelectAll());return this.$createElement("th",{attrs:r,class:c,style:o,on:n},i)}},render:function(){var t=this;return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map((function(e){return t.genHeader(e)})))])}})},"./src/components/VDataTable/VDataTableHeaderMobile.ts":
/*!*************************************************************!*\
  !*** ./src/components/VDataTable/VDataTableHeaderMobile.ts ***!
  \*************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.ts"),s=n(/*! ../VChip */"./src/components/VChip/index.ts"),o=n(/*! ./mixins/header */"./src/components/VDataTable/mixins/header.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t};e.default=Object(i.default)(o.default).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip:function(t){var e=this,n=[t.item.text],i=this.options.sortBy.findIndex((function(e){return e===t.item.value})),r=0<=i,o=this.options.sortDesc[i];return n.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:r,asc:r&&!o,desc:r&&o}},[this.genSortIcon()])),this.$createElement(s.default,{staticClass:"sortable",nativeOn:{click:function(n){n.stopPropagation(),e.$emit("sort",t.item.value)}}},n)},genSortSelect:function(){var t=this,e=this.headers.filter((function(t){return!1!==t.sortable&&"data-table-select"!==t.value}));return this.$createElement(r.default,{props:{label:this.$vuetify.lang.t(this.sortByText),items:e,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],disabled:0===e.length||this.disableSort},on:{change:function(e){return t.$emit("sort",e)}},scopedSlots:{selection:function(e){return t.genSortChip(e)}}})}},render:function(t){var e=[],n=this.headers.find((function(t){return"data-table-select"===t.value}));n&&!this.singleSelect&&e.push(this.$createElement("div",{class:l(["v-data-table-header-mobile__select"],Object(a.wrapInArray)(n.class)),attrs:{width:n.width}},[this.genSelectAll()])),e.push(this.genSortSelect());var i=t("th",[t("div",{staticClass:"v-data-table-header-mobile__wrapper"},e)]),r=t("tr",[i]);return t("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[r])}})},"./src/components/VDataTable/VEditDialog.sass":
/*!****************************************************!*\
  !*** ./src/components/VDataTable/VEditDialog.sass ***!
  \****************************************************/
/*! no static exports found */function(){},"./src/components/VDataTable/VEditDialog.ts":
/*!**************************************************!*\
  !*** ./src/components/VDataTable/VEditDialog.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VEditDialog.sass */"./src/components/VDataTable/VEditDialog.sass"),r=(n.n(i),n(/*! ../../mixins/returnable */"./src/mixins/returnable/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),c=n(/*! ../VMenu */"./src/components/VMenu/index.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(l.default)(r.default,s.default).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(a.default,{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){var n=t.$refs.content.querySelector("input");e.keyCode===o.keyCodes.esc&&t.cancel(),e.keyCode===o.keyCodes.enter&&n&&(t.save(n.value),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(c.default,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var i=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:i},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},"./src/components/VDataTable/VSimpleTable.sass":
/*!*****************************************************!*\
  !*** ./src/components/VDataTable/VSimpleTable.sass ***!
  \*****************************************************/
/*! no static exports found */function(){},"./src/components/VDataTable/VSimpleTable.ts":
/*!***************************************************!*\
  !*** ./src/components/VDataTable/VSimpleTable.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSimpleTable.sass */"./src/components/VDataTable/VSimpleTable.sass"),r=(n.n(i),n(/*! ../../util/helpers */"./src/util/helpers.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(s.default).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return a({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(r.convertToUnit)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"./src/components/VDataTable/VVirtualTable.sass":
/*!******************************************************!*\
  !*** ./src/components/VDataTable/VVirtualTable.sass ***!
  \******************************************************/
/*! no static exports found */function(){},"./src/components/VDataTable/VVirtualTable.ts":
/*!****************************************************!*\
  !*** ./src/components/VDataTable/VVirtualTable.ts ***!
  \****************************************************/
/*! exports provided: default */function(i,r,s){"use strict";s.r(r);var o=s(/*! ./VVirtualTable.sass */"./src/components/VDataTable/VVirtualTable.sass"),a=(s.n(o),s(/*! ./VSimpleTable */"./src/components/VDataTable/VSimpleTable.ts")),c=s(/*! ../../util/mixins */"./src/util/mixins.ts"),l=s(/*! ../../util/helpers */"./src/util/helpers.ts"),u=Object(c.default)(a.default);r.default=u.extend().extend({name:"v-virtual-table",props:{chunkSize:{type:Number,default:25},headerHeight:{type:Number,default:48},items:{type:Array,default:function(){return[]}},rowHeight:{type:Number,default:48}},data:function(){return{scrollTop:0,oldChunk:0,scrollDebounce:null,invalidateCache:!1}},computed:{itemsLength:function(){return this.items.length},totalHeight:function(){return this.itemsLength*this.rowHeight+this.headerHeight},topIndex:function(){return n(this.scrollTop/this.rowHeight)},chunkIndex:function(){return n(this.topIndex/this.chunkSize)},startIndex:function(){return e(0,this.chunkIndex*this.chunkSize-this.chunkSize)},offsetTop:function(){return e(0,this.startIndex*this.rowHeight)},stopIndex:function(){return t(this.startIndex+3*this.chunkSize,this.itemsLength)},offsetBottom:function(){return e(0,(this.itemsLength-this.stopIndex-this.startIndex)*this.rowHeight)}},watch:{chunkIndex:function(t,e){this.oldChunk=e},items:function(){this.cachedItems=null,this.$refs.table.scrollTop=0}},created:function(){this.cachedItems=null},mounted:function(){this.scrollDebounce=Object(l.debounce)(this.onScroll,50),this.$refs.table.addEventListener("scroll",this.scrollDebounce,{passive:!0})},beforeDestroy:function(){this.$refs.table.removeEventListener("scroll",this.scrollDebounce)},methods:{createStyleHeight:function(t){return{height:t+"px"}},genBody:function(){return(null===this.cachedItems||this.chunkIndex!==this.oldChunk)&&(this.cachedItems=this.genItems(),this.oldChunk=this.chunkIndex),this.$createElement("tbody",[this.$createElement("tr",{style:this.createStyleHeight(this.offsetTop)}),this.cachedItems,this.$createElement("tr",{style:this.createStyleHeight(this.offsetBottom)})])},genItems:function(){return this.$scopedSlots.items({items:this.items.slice(this.startIndex,this.stopIndex)})},onScroll:function(t){var e=t.target;this.scrollTop=e.scrollTop},genTable:function(){return this.$createElement("div",{ref:"table",staticClass:"v-virtual-table__table"},[this.$createElement("table",[this.$slots["body.before"],this.genBody(),this.$slots["body.after"]])])},genWrapper:function(){return this.$createElement("div",{staticClass:"v-virtual-table__wrapper",style:{height:Object(l.convertToUnit)(this.height)}},[this.genTable()])}},render:function(t){return t("div",{staticClass:"v-data-table v-virtual-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"./src/components/VDataTable/index.ts":
/*!********************************************!*\
  !*** ./src/components/VDataTable/index.ts ***!
  \********************************************/
/*! exports provided: VDataTable, VEditDialog, VTableOverflow, VDataTableHeader, VSimpleTable, VVirtualTable, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VTableOverflow",(function(){return l}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VDataTable */"./src/components/VDataTable/VDataTable.ts");n.d(e,"VDataTable",(function(){return r.default}));var s=n(/*! ./VDataTableHeader */"./src/components/VDataTable/VDataTableHeader.ts");n.d(e,"VDataTableHeader",(function(){return s.default}));var o=n(/*! ./VEditDialog */"./src/components/VDataTable/VEditDialog.ts");n.d(e,"VEditDialog",(function(){return o.default}));var a=n(/*! ./VSimpleTable */"./src/components/VDataTable/VSimpleTable.ts");n.d(e,"VSimpleTable",(function(){return a.default}));var c=n(/*! ./VVirtualTable */"./src/components/VDataTable/VVirtualTable.ts");n.d(e,"VVirtualTable",(function(){return c.default}));var l=Object(i.createSimpleFunctional)("v-table__overflow");e.default={$_vuetify_subcomponents:{VDataTable:r.default,VDataTableHeader:s.default,VEditDialog:o.default,VTableOverflow:l,VSimpleTable:a.default,VVirtualTable:c.default}}},"./src/components/VDataTable/mixins/header.ts":
/*!****************************************************!*\
  !*** ./src/components/VDataTable/mixins/header.ts ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../VCheckbox/VSimpleCheckbox */"./src/components/VCheckbox/VSimpleCheckbox.ts"),s=n(/*! ../../../directives/ripple */"./src/directives/ripple/index.ts"),o=n(/*! ../../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)().extend({directives:{ripple:s.default},props:{headers:{type:Array,required:!0},options:{type:Object,default:function(){return{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1}}},sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll:function(){var t=this,e={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems},on:{input:function(e){return t.$emit("toggle-select-all",e)}}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](e):this.$createElement(r.default,a({staticClass:"v-data-table__checkbox"},e))},genSortIcon:function(){return this.$createElement(i.default,{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}})},"./src/components/VDatePicker/VDatePicker.ts":
/*!***************************************************!*\
  !*** ./src/components/VDatePicker/VDatePicker.ts ***!
  \***************************************************/
/*! exports provided: default */function(e,n,i){"use strict";function r(t,e){var n=g(t.split("-"),3),i=n[0],r=n[1],s=void 0===r?1:r,o=n[2],a=void 0===o?1:o;return(i+"-"+Object(h.pad)(s)+"-"+Object(h.pad)(a)).substr(0,{date:10,month:7,year:4}[e])}i.r(n);var s=i(/*! ./VDatePickerTitle */"./src/components/VDatePicker/VDatePickerTitle.ts"),o=i(/*! ./VDatePickerHeader */"./src/components/VDatePicker/VDatePickerHeader.ts"),a=i(/*! ./VDatePickerDateTable */"./src/components/VDatePicker/VDatePickerDateTable.ts"),c=i(/*! ./VDatePickerMonthTable */"./src/components/VDatePicker/VDatePickerMonthTable.ts"),l=i(/*! ./VDatePickerYears */"./src/components/VDatePicker/VDatePickerYears.ts"),u=i(/*! ../../mixins/localable */"./src/mixins/localable/index.ts"),d=i(/*! ../../mixins/picker */"./src/mixins/picker/index.ts"),h=i(/*! ./util */"./src/components/VDatePicker/util/index.ts"),f=i(/*! ./util/isDateAllowed */"./src/components/VDatePicker/util/isDateAllowed.ts"),p=i(/*! ../../util/console */"./src/util/console.ts"),m=i(/*! ../VCalendar/util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),v=i(/*! ../../util/mixins */"./src/util/mixins.ts"),g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o};n.default=Object(v.default)(u.default,d.default).extend({name:"v-date-picker",props:{allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$next"},pickerDate:String,prevIcon:{type:String,default:"$prev"},range:Boolean,reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},selectedItemsText:{type:String,default:"$vuetify.datePicker.itemsSelected"},showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data:function(){var t=this,e=new Date;return{activePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:t.pickerDate?t.pickerDate:r((t.multiple||t.range?t.value[t.value.length-1]:t.value)||e.getFullYear()+"-"+(e.getMonth()+1),"date"===t.type?"month":"year")}},computed:{isMultiple:function(){return this.multiple||this.range},lastValue:function(){return this.isMultiple?this.value[this.value.length-1]:this.value},selectedMonths:function(){return this.value&&this.value.length&&"month"!==this.type?this.isMultiple?this.value.map((function(t){return t.substr(0,7)})):this.value.substr(0,7):this.value},current:function(){return!0===this.showCurrent?r(this.now.getFullYear()+"-"+(this.now.getMonth()+1)+"-"+this.now.getDate(),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?this.inputYear+"-"+Object(h.pad)(this.inputMonth+1)+"-"+Object(h.pad)(this.inputDay):this.inputYear+"-"+Object(h.pad)(this.inputMonth+1)},tableMonth:function(){return+(this.pickerDate||this.tableDate).split("-")[1]-1},tableYear:function(){return+(this.pickerDate||this.tableDate).split("-")[0]},minMonth:function(){return this.min?r(this.min,"month"):null},maxMonth:function(){return this.max?r(this.max,"month"):null},minYear:function(){return this.min?r(this.min,"year"):null},maxYear:function(){return this.max?r(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||Object(h.createNativeLocaleFormatter)(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.isMultiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter:function(){var t=this;return function(e){return e.length?1===e.length?t.defaultTitleDateFormatter(e[0]):t.$vuetify.lang.t(t.selectedItemsText,e.length):"-"}},defaultTitleDateFormatter:function(){var t=Object(h.createNativeLocaleFormatter)(this.currentLocale,{year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}}[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]});return this.landscape?function(e){return t(e).replace(/([^\d\s])([\d])/g,(function(t,e,n){return e+" "+n})).replace(", ",",<br>")}:t}},watch:{tableDate:function(t,e){var n="month"===this.type?"year":"month";this.isReversing=r(t,n)<r(e,n),this.$emit("update:picker-date",t)},pickerDate:function(t){t?this.tableDate=t:this.lastValue&&"date"===this.type?this.tableDate=r(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=r(this.lastValue,"year"))},value:function(t,e){this.checkMultipleProp(),this.setInputDate(),this.isMultiple||!this.value||this.pickerDate?this.isMultiple&&this.value.length&&!e.length&&!this.pickerDate&&(this.tableDate=r(this.inputDate,"month"===this.type?"year":"month")):this.tableDate=r(this.inputDate,"month"===this.type?"year":"month")},type:function(t){if(this.activePicker=t.toUpperCase(),this.value&&this.value.length){var e=(this.isMultiple?this.value:[this.value]).map((function(e){return r(e,t)})).filter(this.isDateAllowed);this.$emit("input",this.isMultiple?e:e[0])}}},created:function(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:picker-date",this.tableDate),this.setInputDate()},methods:{emitInput:function(t){if(this.range&&this.value)2===this.value.length?this.$emit("input",[t]):this.$emit("input",function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}(this.value,[t]));else{var e=this.multiple?-1===this.value.indexOf(t)?this.value.concat([t]):this.value.filter((function(e){return e!==t})):t;this.$emit("input",e),this.multiple||this.$emit("change",t)}},checkMultipleProp:function(){if(null!=this.value){var t=this.value.constructor.name,e=this.isMultiple?"Array":"String";t!==e&&Object(p.consoleWarn)("Value must be "+(this.isMultiple?"an":"a")+" "+e+", got "+t,this)}},isDateAllowed:function(t){return Object(f.default)(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,this.tableDate="month"===this.type?""+t:t+"-"+Object(h.pad)((this.tableMonth||0)+1),this.activePicker="MONTH",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(e){this.inputYear=parseInt(e.split("-")[0],10),this.inputMonth=parseInt(e.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=t(this.inputDay,Object(m.daysInMonth)(this.inputYear,this.inputMonth+1))),this.tableDate=e,this.activePicker="DATE",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(s.default,{props:{date:this.value?this.formatters.titleDate(this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.activePicker,year:this.formatters.year(this.value?""+this.inputYear:this.tableDate),yearIcon:this.yearIcon,value:this.isMultiple?this.value[0]:this.value},slot:"title",on:{"update:selecting-year":function(e){return t.activePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(o.default,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.activePicker?this.minMonth:this.minYear,max:"DATE"===this.activePicker?this.maxMonth:this.maxYear,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.activePicker?Object(h.pad)(this.tableYear,4)+"-"+Object(h.pad)(this.tableMonth+1):""+Object(h.pad)(this.tableYear,4)},on:{toggle:function(){return t.activePicker="DATE"===t.activePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(a.default,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,min:this.min,max:this.max,range:this.range,readonly:this.readonly,scrollable:this.scrollable,showWeek:this.showWeek,tableDate:Object(h.pad)(this.tableYear,4)+"-"+Object(h.pad)(this.tableMonth+1),value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:{input:this.dateClick,"update:table-date":function(e){return t.tableDate=e},"click:date":function(e){return t.$emit("click:date",e)},"dblclick:date":function(e){return t.$emit("dblclick:date",e)}}})},genMonthTable:function(){var t=this;return this.$createElement(c.default,{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?r(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:""+Object(h.pad)(this.tableYear,4)},ref:"table",on:{input:this.monthClick,"update:table-date":function(e){return t.tableDate=e},"click:month":function(e){return t.$emit("click:month",e)},"dblclick:month":function(e){return t.$emit("dblclick:month",e)}}})},genYears:function(){return this.$createElement(l.default,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:{input:this.yearClick}})},genPickerBody:function(){var t="YEAR"===this.activePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.activePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.activePicker},t)},setInputDate:function(){if(this.lastValue){var t=this.lastValue.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render:function(){return this.genPicker("v-picker--date")}})},"./src/components/VDatePicker/VDatePickerDateTable.ts":
/*!************************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerDateTable.ts ***!
  \************************************************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r=i(/*! ./mixins/date-picker-table */"./src/components/VDatePicker/mixins/date-picker-table.ts"),s=i(/*! ./util */"./src/components/VDatePicker/util/index.ts"),o=i(/*! ../../util/helpers */"./src/util/helpers.ts"),a=i(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(a.default)(r.default).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},showWeek:Boolean,weekdayFormat:Function},computed:{formatter:function(){return this.format||Object(s.createNativeLocaleFormatter)(this.currentLocale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||Object(s.createNativeLocaleFormatter)(this.currentLocale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(o.createRange)(7).map((function(n){return t.weekdayFormatter("2017-01-"+(e+n+15))})):Object(o.createRange)(7).map((function(t){return["S","M","T","W","T","F","S"][(t+e)%7]}))}},methods:{calculateTableDate:function(t){return Object(s.monthChange)(this.tableDate,c(t||1))},genTHead:function(){var t=this,e=this.weekDays.map((function(e){return t.$createElement("th",e)}));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth:function(){return(new Date(this.displayedYear+"-"+Object(s.pad)(this.displayedMonth+1)+"-01T00:00:00+00:00").getUTCDay()-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber:function(){var t=[0,31,59,90,120,151,181,212,243,273,304,334][this.displayedMonth];1<this.displayedMonth&&(0==this.displayedYear%4&&0!=this.displayedYear%100||0==this.displayedYear%400)&&t++;var e=(this.displayedYear+(this.displayedYear-1>>2)-n((this.displayedYear-1)/100)+n((this.displayedYear-1)/400)-+this.firstDayOfWeek)%7;return n((t+e)/7)+1},genWeekNumber:function(t){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},(t+"").padStart(2,"0"))])},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),n=[],i=this.weekDaysBeforeFirstDayOfTheMonth(),r=this.getWeekNumber();for(this.showWeek&&n.push(this.genWeekNumber(r++));i--;)n.push(this.$createElement("td"));for(i=1;i<=e;i++){var o=this.displayedYear+"-"+Object(s.pad)(this.displayedMonth+1)+"-"+Object(s.pad)(i);n.push(this.$createElement("td",[this.genButton(o,!0,"date",this.formatter)])),0==n.length%(this.showWeek?8:7)&&(t.push(this.genTR(n)),n=[],i<e&&this.showWeek&&n.push(this.genWeekNumber(r++)))}return n.length&&t.push(this.genTR(n)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}})},"./src/components/VDatePicker/VDatePickerHeader.sass":
/*!***********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerHeader.sass ***!
  \***********************************************************/
/*! no static exports found */function(){},"./src/components/VDatePicker/VDatePickerHeader.ts":
/*!*********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerHeader.ts ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDatePickerHeader.sass */"./src/components/VDatePicker/VDatePickerHeader.sass"),r=(n.n(i),n(/*! ../VBtn */"./src/components/VBtn/index.ts")),s=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),a=n(/*! ../../mixins/localable */"./src/mixins/localable/index.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(u.default)(o.default,a.default,c.default).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,min:String,max:String,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data:function(){return{isReversing:!1}},computed:{formatter:function(){return this.format?this.format:(this.value+"").split("-")[1]?Object(l.createNativeLocaleFormatter)(this.currentLocale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):Object(l.createNativeLocaleFormatter)(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,n=this.disabled||0>t&&this.min&&this.calculateChange(t)<this.min||0<t&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(r.default,{props:{dark:this.dark,disabled:n,icon:!0,light:this.light},nativeOn:{click:function(n){n.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(s.default,0>t==!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}((this.value+"").split("-").map(Number),2),n=e[0];return null==e[1]?""+(n+t):Object(l.monthChange)(this.value+"",t)},genHeader:function(){var t=this,e=!this.disabled&&(this.color||"accent"),n=this.$createElement("div",this.setTextColor(e,{key:this.value+""}),[this.$createElement("button",{attrs:{type:"button"},on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(this.value+"")])]),i=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[n]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[i])}},render:function(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:d({"v-date-picker-header--disabled":this.disabled},this.themeClasses)},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}})},"./src/components/VDatePicker/VDatePickerMonthTable.ts":
/*!*************************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerMonthTable.ts ***!
  \*************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mixins/date-picker-table */"./src/components/VDatePicker/mixins/date-picker-table.ts"),r=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(s.default)(i.default).extend({name:"v-date-picker-month-table",computed:{formatter:function(){return this.format||Object(r.createNativeLocaleFormatter)(this.currentLocale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return""+(parseInt(this.tableDate,10)+c(t||1))},genTBody:function(){for(var t=this,e=[],n=[,,,].fill(null),i=12/n.length,s=function(i){var s=n.map((function(e,s){var o=i*n.length+s,a=t.displayedYear+"-"+Object(r.pad)(o+1);return t.$createElement("td",{key:o},[t.genButton(a,!1,"month",t.formatter)])}));e.push(o.$createElement("tr",{key:i},s))},o=this,a=0;a<i;a++)s(a);return this.$createElement("tbody",e)}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}})},"./src/components/VDatePicker/VDatePickerTable.sass":
/*!**********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerTable.sass ***!
  \**********************************************************/
/*! no static exports found */function(){},"./src/components/VDatePicker/VDatePickerTitle.sass":
/*!**********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerTitle.sass ***!
  \**********************************************************/
/*! no static exports found */function(){},"./src/components/VDatePicker/VDatePickerTitle.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerTitle.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDatePickerTitle.sass */"./src/components/VDatePicker/VDatePickerTitle.sass"),r=(n.n(i),n(/*! ../VIcon */"./src/components/VIcon/index.ts")),s=n(/*! ../../mixins/picker-button */"./src/mixins/picker-button/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(o.default)(s.default).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(r.default,{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[this.year+"",this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render:function(t){return t("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}})},"./src/components/VDatePicker/VDatePickerYears.sass":
/*!**********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerYears.sass ***!
  \**********************************************************/
/*! no static exports found */function(){},"./src/components/VDatePicker/VDatePickerYears.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerYears.ts ***!
  \********************************************************/
/*! exports provided: default */function(e,n,i){"use strict";i.r(n);var r=i(/*! ./VDatePickerYears.sass */"./src/components/VDatePicker/VDatePickerYears.sass"),s=(i.n(r),i(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),o=i(/*! ../../mixins/localable */"./src/mixins/localable/index.ts"),a=i(/*! ./util */"./src/components/VDatePicker/util/index.ts"),c=i(/*! ../../util/mixins */"./src/util/mixins.ts");n.default=Object(c.default)(s.default,o.default).extend({name:"v-date-picker-years",props:{format:Function,min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data:function(){return{defaultColor:"primary"}},computed:{formatter:function(){return this.format||Object(a.createNativeLocaleFormatter)(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("active")[0];t.$el.scrollTop=e?e.offsetTop-t.$el.offsetHeight/2+e.offsetHeight/2:t.min&&!t.max?t.$el.scrollHeight:!t.min&&t.max?0:t.$el.scrollHeight/2-t.$el.offsetHeight/2}))},methods:{genYearItem:function(t){var e=this,n=this.formatter(""+t),i=parseInt(this.value,10)===t,r=i&&(this.color||"primary");return this.$createElement("li",this.setTextColor(r,{key:t,class:{active:i},on:{click:function(){return e.$emit("input",t)}}}),n)},genYearItems:function(){for(var e=[],n=this.value?parseInt(this.value,10):(new Date).getFullYear(),i=this.max?parseInt(this.max,10):n+100,r=t(i,this.min?parseInt(this.min,10):n-100),s=i;s>=r;s--)e.push(this.genYearItem(s));return e}},render:function(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}})},"./src/components/VDatePicker/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VDatePicker/index.ts ***!
  \*********************************************/
/*! exports provided: VDatePicker, VDatePickerTitle, VDatePickerHeader, VDatePickerDateTable, VDatePickerMonthTable, VDatePickerYears, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDatePicker */"./src/components/VDatePicker/VDatePicker.ts");n.d(e,"VDatePicker",(function(){return i.default}));var r=n(/*! ./VDatePickerTitle */"./src/components/VDatePicker/VDatePickerTitle.ts");n.d(e,"VDatePickerTitle",(function(){return r.default}));var s=n(/*! ./VDatePickerHeader */"./src/components/VDatePicker/VDatePickerHeader.ts");n.d(e,"VDatePickerHeader",(function(){return s.default}));var o=n(/*! ./VDatePickerDateTable */"./src/components/VDatePicker/VDatePickerDateTable.ts");n.d(e,"VDatePickerDateTable",(function(){return o.default}));var a=n(/*! ./VDatePickerMonthTable */"./src/components/VDatePicker/VDatePickerMonthTable.ts");n.d(e,"VDatePickerMonthTable",(function(){return a.default}));var c=n(/*! ./VDatePickerYears */"./src/components/VDatePicker/VDatePickerYears.ts");n.d(e,"VDatePickerYears",(function(){return c.default})),e.default={$_vuetify_subcomponents:{VDatePicker:i.default,VDatePickerTitle:r.default,VDatePickerHeader:s.default,VDatePickerDateTable:o.default,VDatePickerMonthTable:a.default,VDatePickerYears:c.default}}},"./src/components/VDatePicker/mixins/date-picker-table.ts":
/*!****************************************************************!*\
  !*** ./src/components/VDatePicker/mixins/date-picker-table.ts ***!
  \****************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VDatePickerTable.sass */"./src/components/VDatePicker/VDatePickerTable.sass"),r=(n.n(i),n(/*! ../../../directives/touch */"./src/directives/touch/index.ts")),s=n(/*! ../../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../../mixins/localable */"./src/mixins/localable/index.ts"),a=n(/*! ../../../mixins/themeable */"./src/mixins/themeable/index.ts"),c=n(/*! ../util/isDateAllowed */"./src/components/VDatePicker/util/isDateAllowed.ts"),l=n(/*! ../../../util/mixins */"./src/util/mixins.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o};e.default=Object(l.default)(s.default,o.default,a.default).extend({directives:{Touch:r.default},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return+this.tableDate.split("-")[1]-1},displayedYear:function(){return+this.tableDate.split("-")[0]}},watch:{tableDate:function(t,e){this.isReversing=t<e}},methods:{genButtonClasses:function(t,e,n,i){return u({"v-size--default":!e,"v-btn--active":n,"v-btn--flat":!t||this.disabled,"v-btn--text":n===i,"v-btn--rounded":e,"v-btn--disabled":!t||this.disabled,"v-btn--outlined":i&&!n},this.themeClasses)},genButtonEvents:function(t,e,n){var i=this;return this.disabled?void 0:{click:function(){e&&!i.readonly&&i.$emit("input",t),i.$emit("click:"+n,t)},dblclick:function(){return i.$emit("dblclick:"+n,t)}}},genButton:function(t,e,n,i){var r=Object(c.default)(t,this.min,this.max,this.allowedDates),s=this.isSelected(t),o=t===this.current,a=s?this.setBackgroundColor:this.setTextColor,l=(s||o)&&(this.color||"accent");return this.$createElement("button",a(l,{staticClass:"v-btn",class:this.genButtonClasses(r,e,s,o),attrs:{type:"button"},domProps:{disabled:this.disabled||!r},on:this.genButtonEvents(t,r,n)}),[this.$createElement("div",{staticClass:"v-btn__content"},[i(t)]),this.genEvents(t)])},getEventColors:function(t){var e,n=function(t){return Array.isArray(t)?t:[t]};return(e=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:!!this.events&&(this.events[t]||!1))?(!0===e?"string"==typeof this.eventColor?[this.eventColor]:"function"==typeof this.eventColor?n(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:n(this.eventColor[t]):n(e)).filter((function(t){return t})):[]},genEvents:function(t){var e=this,n=this.getEventColors(t);return n.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},n.map((function(t){return e.$createElement("div",e.setBackgroundColor(t))}))):null},wheel:function(t,e){t.preventDefault(),this.$emit("update:table-date",e(t.deltaY))},touch:function(t,e){this.$emit("update:table-date",e(t))},genTable:function(t,e,n){var i=this,r=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]);return this.$createElement("div",{staticClass:t,class:u({"v-date-picker-table--disabled":this.disabled},this.themeClasses),on:!this.disabled&&this.scrollable?{wheel:function(t){return i.wheel(t,n)}}:void 0,directives:[{name:"touch",value:{left:function(t){return-15>t.offsetX&&i.touch(1,n)},right:function(t){return 15<t.offsetX&&i.touch(-1,n)}}}]},[r])},isSelected:function(t){if(Array.isArray(this.value)){if(this.range&&2===this.value.length){var e=d(function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}(this.value).sort(),2),n=e[0],i=e[1];return n<=t&&t<=i}return-1!==this.value.indexOf(t)}return t===this.value}}})},"./src/components/VDatePicker/util/createNativeLocaleFormatter.ts":
/*!************************************************************************!*\
  !*** ./src/components/VDatePicker/util/createNativeLocaleFormatter.ts ***!
  \************************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts");e.default=function(t,e,n){void 0===n&&(n={start:0,length:0});var r=function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(t.trim().split(" ")[0].split("-"),3),n=e[0],r=e[1],s=e[2];return[Object(i.default)(n,4),Object(i.default)(r||1),Object(i.default)(s||1)].join("-")};try{var s=new Intl.DateTimeFormat(t||void 0,e);return function(t){return s.format(new Date(r(t)+"T00:00:00+00:00"))}}catch(e){return n.start||n.length?function(t){return r(t).substr(n.start||0,n.length)}:void 0}}},"./src/components/VDatePicker/util/index.ts":
/*!**************************************************!*\
  !*** ./src/components/VDatePicker/util/index.ts ***!
  \**************************************************/
/*! exports provided: createNativeLocaleFormatter, monthChange, pad */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./createNativeLocaleFormatter */"./src/components/VDatePicker/util/createNativeLocaleFormatter.ts");n.d(e,"createNativeLocaleFormatter",(function(){return i.default}));var r=n(/*! ./monthChange */"./src/components/VDatePicker/util/monthChange.ts");n.d(e,"monthChange",(function(){return r.default}));var s=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts");n.d(e,"pad",(function(){return s.default}))},"./src/components/VDatePicker/util/isDateAllowed.ts":
/*!**********************************************************!*\
  !*** ./src/components/VDatePicker/util/isDateAllowed.ts ***!
  \**********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e,n,i){return(!i||i(t))&&(!e||t>=e.substr(0,10))&&(!n||t<=n)}n.r(e),n.d(e,"default",(function(){return i}))},"./src/components/VDatePicker/util/monthChange.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/util/monthChange.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts");e.default=function(t,e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(t.split("-").map(Number),2),r=n[0],s=n[1];return 0===s+e?r-1+"-12":13===s+e?r+1+"-01":r+"-"+Object(i.default)(s+e)}},"./src/components/VDatePicker/util/pad.ts":
/*!************************************************!*\
  !*** ./src/components/VDatePicker/util/pad.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);e.default=function(t,e){return void 0===e&&(e=2),function(t,e,n){return n+="",(t+="").length>(e>>=0)?t+"":((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+(t+""))}(t,e,"0")}},"./src/components/VDialog/VDialog.sass":
/*!*********************************************!*\
  !*** ./src/components/VDialog/VDialog.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VDialog/VDialog.ts":
/*!*******************************************!*\
  !*** ./src/components/VDialog/VDialog.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDialog.sass */"./src/components/VDialog/VDialog.sass"),r=(n.n(i),n(/*! ../../mixins/activatable */"./src/mixins/activatable/index.ts")),s=n(/*! ../../mixins/dependent */"./src/mixins/dependent/index.ts"),o=n(/*! ../../mixins/detachable */"./src/mixins/detachable/index.ts"),a=n(/*! ../../mixins/overlayable */"./src/mixins/overlayable/index.ts"),c=n(/*! ../../mixins/returnable */"./src/mixins/returnable/index.ts"),l=n(/*! ../../mixins/stackable */"./src/mixins/stackable/index.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),d=n(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),h=n(/*! ../../util/helpers */"./src/util/helpers.ts"),f=n(/*! ../../util/ThemeProvider */"./src/util/ThemeProvider.ts"),p=n(/*! ../../util/mixins */"./src/util/mixins.ts"),m=n(/*! ../../util/console */"./src/util/console.ts"),v=function(){return(v=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},g=Object(p.default)(r.default,s.default,o.default,a.default,c.default,l.default,u.default);e.default=g.extend({name:"v-dialog",directives:{ClickOutside:d.default},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var t;return(t={})[("v-dialog "+this.contentClass).trim()]=!0,t["v-dialog--active"]=this.isActive,t["v-dialog--persistent"]=this.persistent,t["v-dialog--fullscreen"]=this.fullscreen,t["v-dialog--scrollable"]=this.scrollable,t["v-dialog--animated"]=this.animate,t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return this.$slots.activator||this.$scopedSlots.activator}},watch:{isActive:function(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(m.removed)("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!=typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):a.default.options.methods.hideScroll.call(this)},show:function(){var t=this;this.fullscreen||this.hideOverlay||this.genOverlay(),this.$nextTick((function(){t.$refs.content.focus(),t.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.activeZIndex>=this.getMaxZIndex()&&(this.isActive=!1)},onKeydown:function(t){if(t.keyCode===h.keyCodes.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n.length&&n[0].focus()}}}},render:function(t){var e=[],n={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:this.onClickOutside,args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(t){t.stopPropagation()}},style:{}};this.fullscreen||(n.style={maxWidth:"none"===this.maxWidth?void 0:Object(h.convertToUnit)(this.maxWidth),width:"auto"===this.width?void 0:Object(h.convertToUnit)(this.width)}),e.push(this.genActivator());var i=t("div",n,this.showLazyContent(this.getContentSlot()));return this.transition&&(i=t("transition",{props:{name:this.transition,origin:this.origin}},[i])),e.push(t("div",{class:this.contentClasses,attrs:v({role:"document",tabindex:this.isActive?0:void 0},this.getScopeIdAttrs()),on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(f.default,{props:{root:!0,light:this.light,dark:this.dark}},[i])])),t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},e)}})},"./src/components/VDialog/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VDialog/index.ts ***!
  \*****************************************/
/*! exports provided: VDialog, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDialog */"./src/components/VDialog/VDialog.ts");n.d(e,"VDialog",(function(){return i.default})),e.default=i.default},"./src/components/VDivider/VDivider.sass":
/*!***********************************************!*\
  !*** ./src/components/VDivider/VDivider.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VDivider/VDivider.ts":
/*!*********************************************!*\
  !*** ./src/components/VDivider/VDivider.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDivider.sass */"./src/components/VDivider/VDivider.sass"),r=(n.n(i),n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts")),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.default.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:s({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:s({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},"./src/components/VDivider/index.ts":
/*!******************************************!*\
  !*** ./src/components/VDivider/index.ts ***!
  \******************************************/
/*! exports provided: VDivider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDivider */"./src/components/VDivider/VDivider.ts");n.d(e,"VDivider",(function(){return i.default})),e.default=i.default},"./src/components/VExpansionPanel/VExpansionPanel.sass":
/*!*************************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanel.sass ***!
  \*************************************************************/
/*! no static exports found */function(){},"./src/components/VExpansionPanel/VExpansionPanel.ts":
/*!***********************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanel.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),r=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(Object(i.factory)("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(r.provide)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return a({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":this.isActive+""}},Object(s.getSlot)(this))}})},"./src/components/VExpansionPanel/VExpansionPanelContent.ts":
/*!******************************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanelContent.ts ***!
  \******************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../transitions */"./src/components/transitions/index.ts"),r=n(/*! ../../mixins/bootable */"./src/mixins/bootable/index.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=Object(a.default)(r.default,Object(s.inject)("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e.default=c.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){return t(i.VExpandTransition,[t("div",{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]},this.showLazyContent([t("div",{class:"v-expansion-panel-content__wrap"},Object(o.getSlot)(this))]))])}})},"./src/components/VExpansionPanel/VExpansionPanelHeader.ts":
/*!*****************************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanelHeader.ts ***!
  \*****************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../transitions */"./src/components/transitions/index.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),o=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=Object(c.default)(Object(s.inject)("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e.default=u.extend().extend({name:"v-expansion-panel-header",directives:{ripple:o.default},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(a.getSlot)(this,"actions")||[this.$createElement(r.default,this.expandIcon)];return this.$createElement(i.VFadeTransition,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:l({},this.$listeners,{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})},[Object(a.getSlot)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},"./src/components/VExpansionPanel/VExpansionPanels.ts":
/*!************************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanels.ts ***!
  \************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VExpansionPanel.sass */"./src/components/VExpansionPanel/VExpansionPanel.sass"),r=(n.n(i),n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts")),s=n(/*! ../../util/console */"./src/util/console.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.BaseItemGroup.extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean},computed:{classes:function(){return o({},r.BaseItemGroup.options.computed.classes.call(this),{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(s.breaking)("expand","multiple",this),Array.isArray(this.value)&&0<this.value.length&&"boolean"==typeof this.value[0]&&Object(s.breaking)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var n=this.getValue(t,e),i=this.getValue(t,e+1);t.isActive=this.toggleMethod(n),t.nextIsActive=this.toggleMethod(i)}}})},"./src/components/VExpansionPanel/index.ts":
/*!*************************************************!*\
  !*** ./src/components/VExpansionPanel/index.ts ***!
  \*************************************************/
/*! exports provided: VExpansionPanels, VExpansionPanel, VExpansionPanelHeader, VExpansionPanelContent, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VExpansionPanels */"./src/components/VExpansionPanel/VExpansionPanels.ts");n.d(e,"VExpansionPanels",(function(){return i.default}));var r=n(/*! ./VExpansionPanel */"./src/components/VExpansionPanel/VExpansionPanel.ts");n.d(e,"VExpansionPanel",(function(){return r.default}));var s=n(/*! ./VExpansionPanelContent */"./src/components/VExpansionPanel/VExpansionPanelContent.ts");n.d(e,"VExpansionPanelContent",(function(){return s.default}));var o=n(/*! ./VExpansionPanelHeader */"./src/components/VExpansionPanel/VExpansionPanelHeader.ts");n.d(e,"VExpansionPanelHeader",(function(){return o.default})),e.default={$_vuetify_subcomponents:{VExpansionPanels:i.default,VExpansionPanel:r.default,VExpansionPanelHeader:o.default,VExpansionPanelContent:s.default}}},"./src/components/VFileInput/VFileInput.sass":
/*!***************************************************!*\
  !*** ./src/components/VFileInput/VFileInput.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VFileInput/VFileInput.ts":
/*!*************************************************!*\
  !*** ./src/components/VFileInput/VFileInput.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e);var s=i(/*! ./VFileInput.sass */"./src/components/VFileInput/VFileInput.sass"),o=(i.n(s),i(/*! ../VTextField */"./src/components/VTextField/index.ts")),a=i(/*! ../VChip */"./src/components/VChip/index.ts"),c=i(/*! ../../util/helpers */"./src/util/helpers.ts"),l=i(/*! ../../util/console */"./src/util/console.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o};e.default=o.default.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"==typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:function(){return[]},validator:function(t){return"object"===r(t)||Array.isArray(t)}}},computed:{classes:function(){return u({},o.default.options.computed.classes.call(this),{"v-file-input":!0})},counterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){return t+e.size}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(c.humanReadableFileSize)(e,1024===this.base))},internalArrayValue:function(){return Array.isArray(this.internalValue)?this.internalValue:Object(c.wrapInArray)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return 0<this.internalArrayValue.length},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty?this.internalArrayValue.map((function(e){var n=t.truncateText(e.name);return t.showSize?n+" ("+Object(c.humanReadableFileSize)(e.size,1024===t.base)+")":n})):[this.placeholder]},base:function(){return"boolean"==typeof this.showSize?void 0:this.showSize},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(l.consoleError)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(c.deepEqual)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,n){return t.$createElement(a.VChip,{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(n,1),t.internalValue=e}}},[e])})):[]},genInput:function(){var t=o.default.options.methods.genInput.call(this);return delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return 2>t?this.text:this.showSize&&!this.counter?[this.counterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(n,i){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[i],file:n,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection},on:{click:function(){return t.$refs.input.click()}}},e)},onInput:function(t){var e=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<+this.truncateLength)return t;var e=n((+this.truncateLength-1)/2);return t.slice(0,e)+"…"+t.slice(t.length-e)}}})},"./src/components/VFileInput/index.ts":
/*!********************************************!*\
  !*** ./src/components/VFileInput/index.ts ***!
  \********************************************/
/*! exports provided: VFileInput, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VFileInput */"./src/components/VFileInput/VFileInput.ts");n.d(e,"VFileInput",(function(){return i.default})),e.default=i.default},"./src/components/VFooter/VFooter.sass":
/*!*********************************************!*\
  !*** ./src/components/VFooter/VFooter.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VFooter/VFooter.ts":
/*!*******************************************!*\
  !*** ./src/components/VFooter/VFooter.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VFooter.sass */"./src/components/VFooter/VFooter.sass"),r=(n.n(i),n(/*! ../../mixins/applicationable */"./src/mixins/applicationable/index.ts")),s=n(/*! ../VSheet/VSheet */"./src/components/VSheet/VSheet.ts"),o=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(s.default,Object(r.default)("footer",["height","inset"]),o.default).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tile:{type:Boolean,default:!0}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return l({},s.default.options.computed.classes.call(this),{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){return this.isPositioned?this.app?this.$vuetify.application.bottom:0:void 0},computedLeft:function(){return this.isPositioned?this.app&&this.inset?this.$vuetify.application.left:0:void 0},computedRight:function(){return this.isPositioned?this.app&&this.inset?this.$vuetify.application.right:0:void 0},isPositioned:function(){return!!(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return l({},s.default.options.computed.styles.call(this),{height:isNaN(t)?t:Object(c.convertToUnit)(t),left:Object(c.convertToUnit)(this.computedLeft),right:Object(c.convertToUnit)(this.computedRight),bottom:Object(c.convertToUnit)(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){return t("footer",this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles}),this.$slots.default)}})},"./src/components/VFooter/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VFooter/index.ts ***!
  \*****************************************/
/*! exports provided: VFooter, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VFooter */"./src/components/VFooter/VFooter.ts");n.d(e,"VFooter",(function(){return i.default})),e.default=i.default},"./src/components/VForm/VForm.ts":
/*!***************************************!*\
  !*** ./src/components/VForm/VForm.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(i.default)(r.default,Object(s.provide)("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},i={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(r){!r||e.errorBag.hasOwnProperty(t._uid)||(i.valid=n(t))})):i.valid=n(t),i},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:o({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"./src/components/VForm/index.ts":
/*!***************************************!*\
  !*** ./src/components/VForm/index.ts ***!
  \***************************************/
/*! exports provided: VForm, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VForm */"./src/components/VForm/VForm.ts");n.d(e,"VForm",(function(){return i.default})),e.default=i.default},"./src/components/VGrid/VCol.ts":
/*!**************************************!*\
  !*** ./src/components/VGrid/VCol.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e,n){var i=t;if(null!=n&&!1!==n){if(e)i+="-"+e.replace(t,"");return"col"!==t||""!==n&&!0!==n?(i+="-"+n).toLowerCase():i.toLowerCase()}}n.r(e);var r=n(/*! ./VGrid.sass */"./src/components/VGrid/VGrid.sass"),s=(n.n(r),n(/*! vue */"vue")),o=n.n(s),a=n(/*! ../../util/mergeData */"./src/util/mergeData.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=["sm","md","lg","xl"],d=u.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),h=u.reduce((function(t,e){return t["offset"+Object(c.upperFirst)(e)]={type:[String,Number],default:null},t}),{}),f=u.reduce((function(t,e){return t["order"+Object(c.upperFirst)(e)]={type:[String,Number],default:null},t}),{}),p={col:Object.keys(d),offset:Object.keys(h),order:Object.keys(f)},m=new Map;e.default=o.a.extend({name:"v-col",functional:!0,props:l({cols:{type:[Boolean,String,Number],default:!1}},d,{offset:{type:[String,Number],default:null}},h,{order:{type:[String,Number],default:null}},f,{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},justifySelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n,r=e.props,s=e.data,o=e.children,c=(e.parent,"");for(var l in r)c+=r[l]+"";var u=m.get(c);if(!u){for(var d in u=[],p)p[d].forEach((function(t){var e=r[t],n=i(d,t,e);n&&u.push(n)}));var h=u.some((function(t){return t.startsWith("col-")}));u.push(((n={col:!h||!r.cols})["col-"+r.cols]=r.cols,n["offset-"+r.offset]=r.offset,n["order-"+r.order]=r.order,n["align-self-"+r.alignSelf]=r.alignSelf,n["justify-self-"+r.justifySelf]=r.justifySelf,n)),m.set(c,u)}return t(r.tag,Object(a.default)(s,{class:u}),o)}})},"./src/components/VGrid/VContainer.ts":
/*!********************************************!*\
  !*** ./src/components/VGrid/VContainer.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./_grid.sass */"./src/components/VGrid/_grid.sass"),r=(n.n(i),n(/*! ./VGrid.sass */"./src/components/VGrid/VGrid.sass")),s=(n.n(r),n(/*! ./grid */"./src/components/VGrid/grid.ts")),o=n(/*! ../../util/mergeData */"./src/util/mergeData.ts");e.default=Object(s.default)("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,i=e.props,r=e.data,s=e.children,a=r.attrs;return a&&(r.attrs={},n=Object.keys(a).filter((function(t){if("slot"===t)return!1;var e=a[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"==typeof e}))),i.id&&(r.domProps=r.domProps||{},r.domProps.id=i.id),t(i.tag,Object(o.default)(r,{staticClass:"container",class:[{"container--fluid":i.fluid}].concat(n||[])}),s)}})},"./src/components/VGrid/VFlex.ts":
/*!***************************************!*\
  !*** ./src/components/VGrid/VFlex.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./_grid.sass */"./src/components/VGrid/_grid.sass"),r=(n.n(i),n(/*! ./grid */"./src/components/VGrid/grid.ts"));e.default=Object(r.default)("flex")},"./src/components/VGrid/VGrid.sass":
/*!*****************************************!*\
  !*** ./src/components/VGrid/VGrid.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VGrid/VLayout.ts":
/*!*****************************************!*\
  !*** ./src/components/VGrid/VLayout.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./_grid.sass */"./src/components/VGrid/_grid.sass"),r=(n.n(i),n(/*! ./grid */"./src/components/VGrid/grid.ts"));e.default=Object(r.default)("layout")},"./src/components/VGrid/VRow.ts":
/*!**************************************!*\
  !*** ./src/components/VGrid/VRow.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){return f.reduce((function(n,i){return n[t+Object(l.upperFirst)(i)]=e(),n}),{})}function r(t,e,n){var i=S[t];if(null!=n){if(e)i+="-"+e.replace(t,"");return(i+="-"+n).toLowerCase()}}n.r(e);var s=n(/*! ./VGrid.sass */"./src/components/VGrid/VGrid.sass"),o=(n.n(s),n(/*! vue */"vue")),a=n.n(o),c=n(/*! ../../util/mergeData */"./src/util/mergeData.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t},f=["sm","md","lg","xl"],p=["start","end","center"],m=function(t){return h(p,["baseline","stretch"]).includes(t)},v=i("align",(function(){return{type:String,default:null,validator:m}})),g=function(t){return h(p,["space-between","space-around"]).includes(t)},y=i("justify",(function(){return{type:String,default:null,validator:g}})),b=function(t){return h(p,["space-between","space-around","stretch"]).includes(t)},x=i("alignContent",(function(){return{type:String,default:null,validator:b}})),V={align:Object.keys(v),justify:Object.keys(y),alignContent:Object.keys(x)},S={align:"align",justify:"justify",alignContent:"align-content"},C=new Map;e.default=a.a.extend({name:"v-row",functional:!0,props:u({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:m}},v,{justify:{type:String,default:null,validator:g}},y,{alignContent:{type:String,default:null,validator:b}},x),render:function(t,e){var n,i=e.props,s=e.data,o=e.children,a="";for(var l in i)a+=i[l]+"";var u=C.get(a);if(!u){for(var d in u=[],V)V[d].forEach((function(t){var e=i[t],n=r(d,t,e);n&&u.push(n)}));u.push(((n={"no-gutters":i.noGutters,"row--dense":i.dense})["align-"+i.align]=i.align,n["justify-"+i.justify]=i.justify,n["align-content-"+i.alignContent]=i.alignContent,n)),C.set(a,u)}return t(i.tag,Object(c.default)(s,{staticClass:"row",class:u}),o)}})},"./src/components/VGrid/VSpacer.ts":
/*!*****************************************!*\
  !*** ./src/components/VGrid/VSpacer.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./_grid.sass */"./src/components/VGrid/_grid.sass"),r=(n.n(i),n(/*! ../../util/helpers */"./src/util/helpers.ts"));e.default=Object(r.createSimpleFunctional)("spacer","div","v-spacer")},"./src/components/VGrid/_grid.sass":
/*!*****************************************!*\
  !*** ./src/components/VGrid/_grid.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VGrid/grid.ts":
/*!**************************************!*\
  !*** ./src/components/VGrid/grid.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return s.a.extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var i=n.props,r=n.data,s=n.children;r.staticClass=(t+" "+(r.staticClass||"")).trim();var o=r.attrs;if(o){r.attrs={};var a=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"==typeof e}));a.length&&(r.staticClass+=" "+a.join(" "))}return i.id&&(r.domProps=r.domProps||{},r.domProps.id=i.id),e(i.tag,r,s)}})}n.r(e),n.d(e,"default",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r)},"./src/components/VGrid/index.ts":
/*!***************************************!*\
  !*** ./src/components/VGrid/index.ts ***!
  \***************************************/
/*! exports provided: VContainer, VCol, VRow, VSpacer, VLayout, VFlex, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VContainer */"./src/components/VGrid/VContainer.ts");n.d(e,"VContainer",(function(){return i.default}));var r=n(/*! ./VCol */"./src/components/VGrid/VCol.ts");n.d(e,"VCol",(function(){return r.default}));var s=n(/*! ./VRow */"./src/components/VGrid/VRow.ts");n.d(e,"VRow",(function(){return s.default}));var o=n(/*! ./VSpacer */"./src/components/VGrid/VSpacer.ts");n.d(e,"VSpacer",(function(){return o.default}));var a=n(/*! ./VLayout */"./src/components/VGrid/VLayout.ts");n.d(e,"VLayout",(function(){return a.default}));var c=n(/*! ./VFlex */"./src/components/VGrid/VFlex.ts");n.d(e,"VFlex",(function(){return c.default})),e.default={$_vuetify_subcomponents:{VContainer:i.default,VCol:r.default,VRow:s.default,VSpacer:o.default,VLayout:a.default,VFlex:c.default}}},"./src/components/VHover/VHover.ts":
/*!*****************************************!*\
  !*** ./src/components/VHover/VHover.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/delayable */"./src/mixins/delayable/index.ts"),r=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=n(/*! ../../util/console */"./src/util/console.ts");e.default=Object(s.default)(i.default,r.default).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(o.consoleWarn)("v-hover should only contain a single element",this),t)):(Object(o.consoleWarn)("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},"./src/components/VHover/index.ts":
/*!****************************************!*\
  !*** ./src/components/VHover/index.ts ***!
  \****************************************/
/*! exports provided: VHover, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VHover */"./src/components/VHover/VHover.ts");n.d(e,"VHover",(function(){return i.default})),e.default=i.default},"./src/components/VIcon/VIcon.sass":
/*!*****************************************!*\
  !*** ./src/components/VIcon/VIcon.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VIcon/VIcon.ts":
/*!***************************************!*\
  !*** ./src/components/VIcon/VIcon.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i,r=n(/*! ./VIcon.sass */"./src/components/VIcon/VIcon.sass"),s=(n.n(r),n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts")),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),a=n(/*! ../../mixins/sizeable */"./src/mixins/sizeable/index.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! vue */"vue"),d=n.n(u),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.xSmall="12px",t.small="16px",t.default="24px",t.medium="28px",t.large="36px",t.xLarge="40px"}(i||(i={}));var p=Object(h.default)(s.default,o.default,a.default,c.default).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1}},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(l.remapInternalIcon)(this,t)},getSize:function(){var t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(l.keys)(t).find((function(e){return t[e]}));return e&&i[e]||Object(l.convertToUnit)(this.size)},getDefaultData:function(){var t=!(!this.listeners$.click&&!this.listeners$["!click"]);return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":t,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:f({"aria-hidden":!t,role:t?"button":null},this.attrs$),on:this.listeners$}},applyColors:function(t){t.class=f({},t.class,this.themeClasses),this.setTextColor(this.color,t)},renderFontIcon:function(t,e){var n=[],i=this.getDefaultData(),r="material-icons",s=t.indexOf("-"),o=-1>=s;o?n.push(t):function(t){return["fas","far","fal","fab"].some((function(e){return t.includes(e)}))}(r=t.slice(0,s))&&(r=""),i.class[r]=!0,i.class[t]=!o;var a=this.getSize();return a&&(i.style={fontSize:a}),this.applyColors(i),e(this.tag,i,n)},renderSvgIcon:function(t,e){var n=this.getDefaultData();n.class["v-icon--svg"]=!0,n.attrs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24",width:"24",role:"img","aria-hidden":!this.attrs$["aria-label"],"aria-label":this.attrs$["aria-label"]};var i=this.getSize();return i&&(n.style={fontSize:i,height:i,width:i},n.attrs.height=i,n.attrs.width=i),this.applyColors(n),e("svg",n,[e("path",{attrs:{d:t}})])},renderSvgIconComponent:function(t,e){var n=this.getDefaultData();n.class["v-icon--is-component"]=!0;var i=this.getSize();i&&(n.style={fontSize:i,height:i}),this.applyColors(n);var r=t.component;return n.props=t.props,n.nativeOn=n.on,e(r,n)}},render:function(t){var e=this.getIcon();return"string"==typeof e?function(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&4<t.length}(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});e.default=d.a.extend({name:"v-icon",$_wrapperFor:p,functional:!0,render:function(t,e){var n=e.data,i=e.children,r="";return n.domProps&&(r=n.domProps.textContent||n.domProps.innerHTML||r,delete n.domProps.textContent,delete n.domProps.innerHTML),t(p,n,r?[r]:i)}})},"./src/components/VIcon/index.ts":
/*!***************************************!*\
  !*** ./src/components/VIcon/index.ts ***!
  \***************************************/
/*! exports provided: VIcon, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VIcon */"./src/components/VIcon/VIcon.ts");n.d(e,"VIcon",(function(){return i.default})),e.default=i.default},"./src/components/VImg/VImg.sass":
/*!***************************************!*\
  !*** ./src/components/VImg/VImg.sass ***!
  \***************************************/
/*! no static exports found */function(){},"./src/components/VImg/VImg.ts":
/*!*************************************!*\
  !*** ./src/components/VImg/VImg.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VImg.sass */"./src/components/VImg/VImg.sass"),r=(n.n(i),n(/*! ../../directives/intersect */"./src/directives/intersect/index.ts")),s=n(/*! ../VResponsive */"./src/components/VResponsive/index.ts"),o=n(/*! ../../util/console */"./src/util/console.ts");e.default=s.default.extend({name:"v-img",directives:{intersect:r.default},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0}},computed:{computedAspectRatio:function(){return+(this.normalisedSrc.aspect||this.calculatedAspectRatio)},hasIntersect:function(){return"undefined"!=typeof window&&"IntersectionObserver"in window},normalisedSrc:function(){return"string"==typeof this.src?{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:+this.aspectRatio}:{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:+(this.aspectRatio||this.src.aspect)}},__cachedImage:function(){if(!this.normalisedSrc.src&&!this.normalisedSrc.lazySrc)return[];var t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push("linear-gradient("+this.gradient+")"),e&&t.push('url("'+e+'")');var n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(t,e,n){if(!this.hasIntersect||n||this.eager){if(this.normalisedSrc.lazySrc){var i=new Image;i.src=this.normalisedSrc.lazySrc,this.pollForSize(i,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src)},onError:function(){Object(o.consoleError)("Image load failed\n\nsrc: "+this.normalisedSrc.src,this),this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var t=this,e=new Image;this.image=e,e.onload=function(){e.decode?e.decode().catch((function(e){Object(o.consoleWarn)("Failed to decode image, trying to render anyway\n\nsrc: "+t.normalisedSrc.src+(e.message?"\nOriginal error: "+e.message:""),t)})).then(t.onLoad):t.onLoad()},e.onerror=this.onError,e.src=this.normalisedSrc.src,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize:function(t,e){var n=this;void 0===e&&(e=100);!function i(){var r=t.naturalHeight,s=t.naturalWidth;r||s?(n.naturalWidth=s,n.calculatedAspectRatio=s/r):null!=e&&setTimeout(i,e)}()},genContent:function(){var t=s.default.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:this.naturalWidth+"px"}}),t},__genPlaceholder:function(){if(this.$slots.placeholder){var t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render:function(t){var e=s.default.options.render.call(this,t);return e.data.staticClass+=" v-image",e.data.directives=this.hasIntersect?[{name:"intersect",options:this.options,modifiers:{once:!0},value:this.init}]:[],e.data.attrs={role:this.alt?"img":void 0,"aria-label":this.alt},e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,e.data,e.children)}})},"./src/components/VImg/index.ts":
/*!**************************************!*\
  !*** ./src/components/VImg/index.ts ***!
  \**************************************/
/*! exports provided: VImg, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VImg */"./src/components/VImg/VImg.ts");n.d(e,"VImg",(function(){return i.default})),e.default=i.default},"./src/components/VInput/VInput.sass":
/*!*******************************************!*\
  !*** ./src/components/VInput/VInput.sass ***!
  \*******************************************/
/*! no static exports found */function(){},"./src/components/VInput/VInput.ts":
/*!*****************************************!*\
  !*** ./src/components/VInput/VInput.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VInput.sass */"./src/components/VInput/VInput.sass"),r=(n.n(i),n(/*! ../VIcon */"./src/components/VIcon/index.ts")),s=n(/*! ../VLabel */"./src/components/VLabel/index.ts"),o=n(/*! ../VMessages */"./src/components/VMessages/index.ts"),a=n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts"),c=n(/*! ../../mixins/validatable */"./src/mixins/validatable/index.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},h=Object(u.default)(a.default,c.default);e.default=h.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:Boolean,hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data:function(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return d({"v-input--has-state":this.hasState,"v-input--hide-details":this.hideDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.disabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&void 0!==this.loading,"v-input--is-readonly":this.readonly,"v-input--dense":this.dense},this.themeClasses)},computedId:function(){return this.id||"input-"+this._uid},hasHint:function(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return!(!this.$slots.label&&!this.label)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty:function(){return!!this.lazyValue},isDisabled:function(){return this.disabled||this.readonly},isLabelActive:function(){return this.isDirty}},watch:{value:function(t){this.lazyValue=t}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(t,e){var n=this,i=this[t+"Icon"],s="click:"+Object(l.kebabCase)(t),o={props:{color:this.validationState,dark:this.dark,disabled:this.disabled,light:this.light},on:this.listeners$[s]||e?{click:function(t){t.preventDefault(),t.stopPropagation(),n.$emit(s,t),e&&e(t)},mouseup:function(t){t.preventDefault(),t.stopPropagation()}}:void 0};return this.$createElement("div",{staticClass:"v-input__icon v-input__icon--"+Object(l.kebabCase)(t),key:t+i},[this.$createElement(r.default,o,i)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(l.convertToUnit)(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(s.default,{props:{color:this.validationState,dark:this.dark,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var t=this;if(this.hideDetails)return null;var e=this.hasHint?[this.hint]:this.validations;return this.$createElement(o.default,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.hasMessages||this.hasHint?e:[]},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:function(e){return Object(l.getSlot)(t,"message",e)}}})},genSlot:function(t,e,n){if(!n.length)return null;var i=t+"-"+e;return this.$createElement("div",{staticClass:"v-input__"+i,ref:i},n)},genPrependSlot:function(){var t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick:function(t){this.$emit("click",t)},onMouseDown:function(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp:function(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render:function(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}})},"./src/components/VInput/index.ts":
/*!****************************************!*\
  !*** ./src/components/VInput/index.ts ***!
  \****************************************/
/*! exports provided: VInput, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VInput */"./src/components/VInput/VInput.ts");n.d(e,"VInput",(function(){return i.default})),e.default=i.default},"./src/components/VItemGroup/VItem.ts":
/*!********************************************!*\
  !*** ./src/components/VItemGroup/VItem.ts ***!
  \********************************************/
/*! exports provided: BaseItem, default */function(t,e,n){"use strict";n.r(e),n.d(e,"BaseItem",(function(){return a}));var i=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/console */"./src/util/console.ts"),o=n(/*! vue */"vue"),a=n.n(o).a.extend({props:{activeClass:String,value:{required:!1}},data:function(){return{isActive:!1}},methods:{toggle:function(){this.isActive=!this.isActive}},render:function(){var t,e;return this.$scopedSlots.default?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({active:this.isActive,toggle:this.toggle})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(e.data=this._b(e.data||{},e.tag,{class:(t={},t[this.activeClass]=this.isActive,t)}),e):(Object(s.consoleWarn)("v-item should only contain a single element",this),e)):(Object(s.consoleWarn)("v-item is missing a default scopedSlot",this),null)}});e.default=Object(r.default)(a,Object(i.factory)("itemGroup","v-item","v-item-group")).extend({name:"v-item"})},"./src/components/VItemGroup/VItemGroup.sass":
/*!***************************************************!*\
  !*** ./src/components/VItemGroup/VItemGroup.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VItemGroup/VItemGroup.ts":
/*!*************************************************!*\
  !*** ./src/components/VItemGroup/VItemGroup.ts ***!
  \*************************************************/
/*! exports provided: BaseItemGroup, default */function(t,e,n){"use strict";n.r(e),n.d(e,"BaseItemGroup",(function(){return l}));var i=n(/*! ./VItemGroup.sass */"./src/components/VItemGroup/VItemGroup.sass"),r=(n.n(i),n(/*! ../../mixins/proxyable */"./src/mixins/proxyable/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},l=Object(o.default)(r.default,s.default).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0===this.value?this.multiple?[]:void 0:this.value,items:[]}},computed:{classes:function(){return c({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){return this.multiple?void 0:this.selectedItems[0]},selectedItems:function(){var t=this;return this.items.filter((function(e,n){return t.toggleMethod(t.getValue(e,n))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(a.consoleWarn)("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);return this.items.splice(e,1),0>this.selectedValues.indexOf(n)?void 0:this.mandatory?(this.internalValue=this.multiple&&Array.isArray(this.internalValue)?this.internalValue.filter((function(t){return t!==n})):void 0,void(!this.selectedItems.length&&this.updateMandatory(!0))):this.updateInternalValue(n)}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){return this.mandatory&&!this.selectedItems.length?this.updateMandatory():void this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=this.items.slice();t&&e.reverse();var n=e.find((function(t){return!t.disabled}));if(n){var i=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,i))}}},updateMultiple:function(t){var e=(Array.isArray(this.internalValue)?this.internalValue:[]).slice(),n=e.findIndex((function(e){return e===t}));this.mandatory&&-1<n&&1>e.length-1||null!=this.max&&0>n&&e.length+1>this.max||(-1<n?e.splice(n,1):e.push(t),this.internalValue=e)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",this.genData(),this.$slots.default)}});e.default=l.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}})},"./src/components/VItemGroup/index.ts":
/*!********************************************!*\
  !*** ./src/components/VItemGroup/index.ts ***!
  \********************************************/
/*! exports provided: VItem, VItemGroup, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VItem */"./src/components/VItemGroup/VItem.ts");n.d(e,"VItem",(function(){return i.default}));var r=n(/*! ./VItemGroup */"./src/components/VItemGroup/VItemGroup.ts");n.d(e,"VItemGroup",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VItem:i.default,VItemGroup:r.default}}},"./src/components/VLabel/VLabel.sass":
/*!*******************************************!*\
  !*** ./src/components/VLabel/VLabel.sass ***!
  \*******************************************/
/*! no static exports found */function(){},"./src/components/VLabel/VLabel.ts":
/*!*****************************************!*\
  !*** ./src/components/VLabel/VLabel.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VLabel.sass */"./src/components/VLabel/VLabel.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(s.default).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(t,e){var n=e.children,i=e.listeners,o=e.props,l={staticClass:"v-label",class:c({"v-label--active":o.value,"v-label--is-disabled":o.disabled},Object(s.functionalThemeClasses)(e)),attrs:{for:o.for,"aria-hidden":!o.for},on:i,style:{left:Object(a.convertToUnit)(o.left),right:Object(a.convertToUnit)(o.right),position:o.absolute?"absolute":"relative"},ref:"label"};return t("label",r.default.options.methods.setTextColor(o.focused&&o.color,l),n)}})},"./src/components/VLabel/index.ts":
/*!****************************************!*\
  !*** ./src/components/VLabel/index.ts ***!
  \****************************************/
/*! exports provided: VLabel, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VLabel */"./src/components/VLabel/VLabel.ts");n.d(e,"VLabel",(function(){return i.default})),e.default=i.default},"./src/components/VLazy/VLazy.ts":
/*!***************************************!*\
  !*** ./src/components/VLazy/VLazy.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),r=n(/*! ../../directives/intersect */"./src/directives/intersect/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=Object(s.default)(i.default).extend({name:"VLazy",directives:{intersect:r.default},props:{minHeight:[Number,String],options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},transition:{type:String,default:"fade-transition"}},computed:{styles:function(){return{minHeight:parseInt(this.minHeight)?Object(o.convertToUnit)(this.minHeight):this.minHeight}}},methods:{genContent:function(){var t=Object(o.getSlot)(this);if(!this.transition)return t;var e=[];return this.isActive&&e.push(t),this.$createElement("transition",{props:{name:this.transition}},e)},onObserve:function(t,e,n){this.isActive||(this.isActive=n)}},render:function(t){return t("div",{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}})},"./src/components/VLazy/index.ts":
/*!***************************************!*\
  !*** ./src/components/VLazy/index.ts ***!
  \***************************************/
/*! exports provided: VLazy, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VLazy */"./src/components/VLazy/VLazy.ts");n.d(e,"VLazy",(function(){return i.default})),e.default=i.default},"./src/components/VList/VList.sass":
/*!*****************************************!*\
  !*** ./src/components/VList/VList.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VList/VList.ts":
/*!***************************************!*\
  !*** ./src/components/VList/VList.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VList.sass */"./src/components/VList/VList.sass"),r=(n.n(i),n(/*! ../VSheet/VSheet */"./src/components/VSheet/VSheet.ts")),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.default.extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,shaped:Boolean,subheader:Boolean,threeLine:Boolean,tile:{type:Boolean,default:!0},twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return s({},r.default.options.computed.classes.call(this),{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--shaped":this.shaped,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(t){this.groups.push(t)},unregister:function(t){var e=this.groups.findIndex((function(e){return e._uid===t._uid}));-1<e&&this.groups.splice(e,1)},listClick:function(t){var e,n;if(!this.expand)try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(this.groups),r=i.next();!r.done;r=i.next())r.value.toggle(t)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},render:function(t){var e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:s({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return t("div",this.setBackgroundColor(this.color,e),[this.$slots.default])}})},"./src/components/VList/VListGroup.sass":
/*!**********************************************!*\
  !*** ./src/components/VList/VListGroup.sass ***!
  \**********************************************/
/*! no static exports found */function(){},"./src/components/VList/VListGroup.ts":
/*!********************************************!*\
  !*** ./src/components/VList/VListGroup.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VListGroup.sass */"./src/components/VList/VListGroup.sass"),r=(n.n(i),n(/*! ../VIcon */"./src/components/VIcon/index.ts")),s=n(/*! ./VListItem */"./src/components/VList/VListItem.ts"),o=n(/*! ./VListItemIcon */"./src/components/VList/VListItemIcon.ts"),a=n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts"),c=n(/*! ../../mixins/bootable */"./src/mixins/bootable/index.ts"),l=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),d=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),h=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),f=n(/*! ../transitions */"./src/components/transitions/index.ts"),p=n(/*! ../../util/mixins */"./src/util/mixins.ts"),m=function(){return(m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},v=Object(p.default)(a.default,c.default,l.default,Object(d.inject)("list"),u.default);e.default=v.extend().extend({name:"v-list-group",directives:{ripple:h.default},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(t){var e=this;this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((function(){return e.isActive=!e.isActive})))},genIcon:function(t){return this.$createElement(r.default,t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(o.default,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader:function(){var t;return this.$createElement(s.default,{staticClass:"v-list-group__header",attrs:{"aria-expanded":this.isActive+"",role:"button"},class:(t={},t[this.activeClass]=this.isActive,t),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:m({},this.listeners$,{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){return this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},this.showLazyContent([this.$createElement("div",this.$slots.default)]))},genPrependIcon:function(){var t=this.prependIcon?this.prependIcon:!!this.subGroup&&"$subgroup";return t||this.$slots.prependIcon?this.$createElement(o.default,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange:function(t){if(this.group){var e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e}},toggle:function(t){var e=this,n=this._uid===t;n&&(this.isBooted=!0),this.$nextTick((function(){return e.isActive=n}))},matchRoute:function(t){return null!==t.match(this.group)}},render:function(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(f.VExpandTransition,[this.genItems()])])}})},"./src/components/VList/VListItem.sass":
/*!*********************************************!*\
  !*** ./src/components/VList/VListItem.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VList/VListItem.ts":
/*!*******************************************!*\
  !*** ./src/components/VList/VListItem.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VListItem.sass */"./src/components/VList/VListItem.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),o=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),a=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),c=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),l=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),u=n(/*! ./../../util/helpers */"./src/util/helpers.ts"),d=n(/*! ../../util/console */"./src/util/console.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},p=Object(h.default)(r.default,s.default,a.default,Object(o.factory)("listItemGroup"),Object(c.factory)("inputValue"));e.default=p.extend().extend({name:"v-list-item",directives:{Ripple:l.default},inheritAttrs:!1,inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return f({"v-list-item":!0},s.default.options.computed.classes.call(this),{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return!(!s.default.options.computed.isClickable.call(this)&&!this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(d.removed)("avatar",this)},methods:{click:function(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs:function(){var t=f({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="listitem",t["aria-selected"]=this.isActive+""):this.isInMenu?t.role=this.isClickable?"menuitem":void 0:this.isInList&&(t.role="listitem")),t}},render:function(t){var e=this,n=this.generateRouteLink(),i=n.tag,r=n.data;r.attrs=f({},r.attrs,this.genAttrs()),r.on=f({},r.on,{click:this.click,keydown:function(t){t.keyCode===u.keyCodes.enter&&e.click(t),e.$emit("keydown",t)}});var s=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(i=this.inactive?"div":i,this.setTextColor(this.color,r),s)}})},"./src/components/VList/VListItemAction.ts":
/*!*************************************************!*\
  !*** ./src/components/VList/VListItemAction.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"v-list-item-action",functional:!0,render:function(t,e){var n=e.data,i=e.children,r=void 0===i?[]:i;return n.staticClass=n.staticClass?"v-list-item__action "+n.staticClass:"v-list-item__action",1<r.filter((function(t){return!1===t.isComment&&" "!==t.text})).length&&(n.staticClass+=" v-list-item__action--stack"),t("div",n,r)}})},"./src/components/VList/VListItemAvatar.ts":
/*!*************************************************!*\
  !*** ./src/components/VList/VListItemAvatar.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VAvatar */"./src/components/VAvatar/index.ts"),r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=i.default.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return r({"v-list-item__avatar--horizontal":this.horizontal},i.default.options.computed.classes.call(this),{"v-avatar--tile":this.tile||this.horizontal})}},render:function(t){var e=i.default.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}})},"./src/components/VList/VListItemGroup.sass":
/*!**************************************************!*\
  !*** ./src/components/VList/VListItemGroup.sass ***!
  \**************************************************/
/*! no static exports found */function(){},"./src/components/VList/VListItemGroup.ts":
/*!************************************************!*\
  !*** ./src/components/VList/VListItemGroup.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VListItemGroup.sass */"./src/components/VList/VListItemGroup.sass"),r=(n.n(i),n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(r.BaseItemGroup,s.default).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return a({},r.BaseItemGroup.options.computed.classes.call(this),{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,a({},r.BaseItemGroup.options.methods.genData.call(this),{attrs:{role:"listbox"}}))}}})},"./src/components/VList/VListItemIcon.ts":
/*!***********************************************!*\
  !*** ./src/components/VList/VListItemIcon.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"v-list-item-icon",functional:!0,render:function(t,e){var n=e.data,i=e.children;return n.staticClass=("v-list-item__icon "+(n.staticClass||"")).trim(),t("div",n,i)}})},"./src/components/VList/index.ts":
/*!***************************************!*\
  !*** ./src/components/VList/index.ts ***!
  \***************************************/
/*! exports provided: VListItemActionText, VListItemContent, VListItemTitle, VListItemSubtitle, VList, VListGroup, VListItem, VListItemAction, VListItemAvatar, VListItemIcon, VListItemGroup, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VListItemActionText",(function(){return d})),n.d(e,"VListItemContent",(function(){return h})),n.d(e,"VListItemTitle",(function(){return f})),n.d(e,"VListItemSubtitle",(function(){return p}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VList */"./src/components/VList/VList.ts");n.d(e,"VList",(function(){return r.default}));var s=n(/*! ./VListGroup */"./src/components/VList/VListGroup.ts");n.d(e,"VListGroup",(function(){return s.default}));var o=n(/*! ./VListItem */"./src/components/VList/VListItem.ts");n.d(e,"VListItem",(function(){return o.default}));var a=n(/*! ./VListItemGroup */"./src/components/VList/VListItemGroup.ts");n.d(e,"VListItemGroup",(function(){return a.default}));var c=n(/*! ./VListItemAction */"./src/components/VList/VListItemAction.ts");n.d(e,"VListItemAction",(function(){return c.default}));var l=n(/*! ./VListItemAvatar */"./src/components/VList/VListItemAvatar.ts");n.d(e,"VListItemAvatar",(function(){return l.default}));var u=n(/*! ./VListItemIcon */"./src/components/VList/VListItemIcon.ts");n.d(e,"VListItemIcon",(function(){return u.default}));var d=Object(i.createSimpleFunctional)("v-list-item__action-text","span"),h=Object(i.createSimpleFunctional)("v-list-item__content","div"),f=Object(i.createSimpleFunctional)("v-list-item__title","div"),p=Object(i.createSimpleFunctional)("v-list-item__subtitle","div");e.default={$_vuetify_subcomponents:{VList:r.default,VListGroup:s.default,VListItem:o.default,VListItemAction:c.default,VListItemActionText:d,VListItemAvatar:l.default,VListItemContent:h,VListItemGroup:a.default,VListItemIcon:u.default,VListItemSubtitle:p,VListItemTitle:f}}},"./src/components/VMenu/VMenu.sass":
/*!*****************************************!*\
  !*** ./src/components/VMenu/VMenu.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VMenu/VMenu.ts":
/*!***************************************!*\
  !*** ./src/components/VMenu/VMenu.ts ***!
  \***************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ./VMenu.sass */"./src/components/VMenu/VMenu.sass"),o=(r.n(s),r(/*! ../../mixins/delayable */"./src/mixins/delayable/index.ts")),a=r(/*! ../../mixins/dependent */"./src/mixins/dependent/index.ts"),c=r(/*! ../../mixins/detachable */"./src/mixins/detachable/index.ts"),l=r(/*! ../../mixins/menuable */"./src/mixins/menuable/index.ts"),u=r(/*! ../../mixins/returnable */"./src/mixins/returnable/index.ts"),d=r(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),h=r(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),f=r(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),p=r(/*! ../../directives/resize */"./src/directives/resize/index.ts"),m=r(/*! ../../util/mixins */"./src/util/mixins.ts"),v=r(/*! ../../util/helpers */"./src/util/helpers.ts"),g=r(/*! ../../util/ThemeProvider */"./src/util/ThemeProvider.ts"),y=r(/*! ../../util/console */"./src/util/console.ts"),b=function(){return(b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},V=Object(m.default)(a.default,o.default,c.default,l.default,u.default,d.default,h.default);i.default=V.extend({name:"v-menu",provide:function(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:f.default,Resize:p.default},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var t=e(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(v.convertToUnit)(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight:function(){return(this.auto?"200px":Object(v.convertToUnit)(this.maxHeight))||"0"},calculatedMaxWidth:function(){return Object(v.convertToUnit)(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(v.convertToUnit)(this.minWidth)||"0";var n=t(this.dimensions.activator.width+ +this.nudgeWidth+(this.auto?16:0),e(this.pageWidth-24,0)),i=isNaN(parseInt(this.calculatedMaxWidth))?n:parseInt(this.calculatedMaxWidth);return Object(v.convertToUnit)(t(i,n))||"0"},calculatedTop:function(){return(this.auto?Object(v.convertToUnit)(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop())||"0"},hasClickableTiles:function(){return!!this.tiles.find((function(t){return-1<t.tabIndex}))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(t){t||(this.listIndex=-1)},isContentActive:function(t){this.hasJustFocused=t},listIndex:function(t,e){if(t in this.tiles){var n=this.tiles[t];n.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=n.offsetTop-n.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(y.removed)("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var t=this;this.updateDimensions(),requestAnimationFrame((function(){t.startTransition().then((function(){t.$refs.content&&(t.calculatedTopAuto=t.calcTopAuto(),t.auto&&(t.$refs.content.scrollTop=t.calcScrollPosition()))}))}))},calcScrollPosition:function(){var n=this.$refs.content,i=n.querySelector(".v-list-item--active"),r=n.scrollHeight-n.offsetHeight;return i?t(r,e(0,i.offsetTop-n.offsetHeight/2+i.offsetHeight/2)):n.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);var n=e.offsetTop-this.calcScrollPosition(),i=t.querySelector(".v-list-item").offsetTop;return this.computedTop-n-i-1},changeListIndex:function(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles){if(t.keyCode===v.keyCodes.tab)return void(this.isActive=!1);if(t.keyCode===v.keyCodes.down)this.nextTile();else if(t.keyCode===v.keyCodes.up)this.prevTile();else{if(t.keyCode!==v.keyCodes.enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}},closeConditional:function(t){var e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorListeners:function(){var t=l.default.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition:function(){return this.transition?this.$createElement("transition",{props:{name:this.transition}},[this.genContent()]):this.genContent()},genDirectives:function(){var t=this,e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:function(){t.isActive=!1},args:{closeConditional:this.closeConditional,include:function(){return function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t}([t.$el],t.getOpenDependentElements())}}}),e},genContent:function(){var t,e=this,n={attrs:b({},this.getScopeIdAttrs(),{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:b({},this.rootThemeClasses,(t={"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},t[this.contentClass.trim()]=!0,t)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(t){t.stopPropagation(),t.target.getAttribute("disabled")||e.closeOnContentClick&&(e.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(n.on=n.on||{},n.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(n.on=n.on||{},n.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",n,this.showLazyContent(this.getContentSlot()))},getTiles:function(){this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item"))},mouseEnterHandler:function(){var t=this;this.runDelay("open",(function(){t.hasJustFocused||(t.hasJustFocused=!0,t.isActive=!0)}))},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",(function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame((function(){e.isActive=!1,e.callDeactivate()}))}))},nextTile:function(){var t=this.tiles[this.listIndex+1];return t?(this.listIndex++,void(-1===t.tabIndex&&this.nextTile())):this.tiles.length?(this.listIndex=-1,void this.nextTile()):void 0},prevTile:function(){var t=this.tiles[this.listIndex-1];return t?(this.listIndex--,void(-1===t.tabIndex&&this.prevTile())):this.tiles.length?(this.listIndex=this.tiles.length,void this.prevTile()):void 0},onKeyDown:function(t){var e=this;if(t.keyCode===v.keyCodes.esc){setTimeout((function(){e.isActive=!1}));var n=this.getActivator();this.$nextTick((function(){return n&&n.focus()}))}else!this.isActive&&[v.keyCodes.up,v.keyCodes.down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return e.changeListIndex(t)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(t){return t("div",{staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]},[!this.activator&&this.genActivator(),this.$createElement(g.default,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])}})},"./src/components/VMenu/index.ts":
/*!***************************************!*\
  !*** ./src/components/VMenu/index.ts ***!
  \***************************************/
/*! exports provided: VMenu, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VMenu */"./src/components/VMenu/VMenu.ts");n.d(e,"VMenu",(function(){return i.default})),e.default=i.default},"./src/components/VMessages/VMessages.sass":
/*!*************************************************!*\
  !*** ./src/components/VMessages/VMessages.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VMessages/VMessages.ts":
/*!***********************************************!*\
  !*** ./src/components/VMessages/VMessages.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VMessages.sass */"./src/components/VMessages/VMessages.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=Object(o.default)(r.default,s.default).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(t,e){var n=Object(a.getSlot)(this,"default",{message:t,key:e}),i=Object(a.escapeHTML)(t),r=n?void 0:i;return this.$createElement("div",{staticClass:"v-messages__message",key:e,domProps:{innerHTML:r}},n)}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}})},"./src/components/VMessages/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VMessages/index.ts ***!
  \*******************************************/
/*! exports provided: VMessages, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VMessages */"./src/components/VMessages/VMessages.ts");n.d(e,"VMessages",(function(){return i.default})),e.default=i.default},"./src/components/VNavigationDrawer/VNavigationDrawer.sass":
/*!*****************************************************************!*\
  !*** ./src/components/VNavigationDrawer/VNavigationDrawer.sass ***!
  \*****************************************************************/
/*! no static exports found */function(){},"./src/components/VNavigationDrawer/VNavigationDrawer.ts":
/*!***************************************************************!*\
  !*** ./src/components/VNavigationDrawer/VNavigationDrawer.ts ***!
  \***************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VNavigationDrawer.sass */"./src/components/VNavigationDrawer/VNavigationDrawer.sass"),r=(n.n(i),n(/*! ../VImg/VImg */"./src/components/VImg/VImg.ts")),s=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),c=n(/*! ../../mixins/dependent */"./src/mixins/dependent/index.ts"),l=n(/*! ../../mixins/overlayable */"./src/mixins/overlayable/index.ts"),u=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable/index.ts"),d=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),h=n(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),f=n(/*! ../../directives/resize */"./src/directives/resize/index.ts"),p=n(/*! ../../directives/touch */"./src/directives/touch/index.ts"),m=n(/*! ../../util/helpers */"./src/util/helpers.ts"),v=n(/*! ../../util/mixins */"./src/util/mixins.ts"),g=function(){return(g=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},y=Object(v.default)(Object(s.default)("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),o.default,c.default,l.default,u.default,d.default);e.default=y.extend({name:"v-navigation-drawer",provide:function(){return{isInNav:"nav"===this.tag}},directives:{ClickOutside:h.default,Resize:f.default,Touch:p.default},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default:function(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:80},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default:function(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:{required:!1}},data:function(){return{isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}},computed:{applicationProperty:function(){return this.right?"right":"left"},classes:function(){return g({"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary},this.themeClasses)},computedMaxHeight:function(){if(!this.hasApp)return null;var t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop:function(){if(!this.hasApp)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0},computedTransform:function(){return this.isActive?0:this.isBottom?100:this.right?100:-100},computedWidth:function(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp:function(){return this.app&&!this.isMobile&&!this.temporary},isBottom:function(){return this.bottom&&this.isMobile},isMiniVariant:function(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile:function(){return!this.stateless&&!this.permanent&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize:function(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay:function(){return this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t=this.isBottom?"translateY":"translateX";return{height:Object(m.convertToUnit)(this.height),top:this.isBottom?"auto":Object(m.convertToUnit)(this.computedTop),maxHeight:null==this.computedMaxHeight?void 0:"calc(100% - "+Object(m.convertToUnit)(this.computedMaxHeight)+")",transform:t+"("+Object(m.convertToUnit)(this.computedTransform,"%")+")",width:Object(m.convertToUnit)(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive:function(t){this.$emit("input",t)},isMobile:function(t,e){t||!this.isActive||this.temporary||this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent:function(t){t&&(this.isActive=!0)},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},value:function(t){return this.permanent?void 0:null==t?void this.init():void(t!==this.isActive&&(this.isActive=t))},expandOnHover:"updateMiniVariant",isMouseover:function(t){this.updateMiniVariant(!t)}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){var t=this.$el.parentNode;if(t){var e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}}},closeConditional:function(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend:function(){return this.genPosition("append")},genBackground:function(){var t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(r.default,{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives:function(){var t=this,e=[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},genListeners:function(){var t=this,e={transitionend:function(e){if(e.target===e.currentTarget){t.$emit("transitionend",e);var n=document.createEvent("UIEvents");n.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(n)}}};return this.miniVariant&&(e.click=function(){return t.$emit("update:mini-variant",!1)}),this.expandOnHover&&(e.mouseenter=function(){return t.isMouseover=!0},e.mouseleave=function(){return t.isMouseover=!1}),e},genPosition:function(t){var e=Object(m.getSlot)(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__"+t},e):e},genPrepend:function(){return this.genPosition("prepend")},genContent:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:!this.temporary&&(this.isActive=!this.isMobile)},onRouteChange:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),100>a(t.touchendX-t.touchstartX)||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight:function(t){(!this.isActive||this.right)&&(this.calculateTouchArea(),100>a(t.touchendX-t.touchstartX)||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;var t=+this.computedWidth;return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant:function(t){this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render:function(t){var e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(m.getSlot)(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},"./src/components/VNavigationDrawer/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VNavigationDrawer/index.ts ***!
  \***************************************************/
/*! exports provided: VNavigationDrawer, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VNavigationDrawer */"./src/components/VNavigationDrawer/VNavigationDrawer.ts");n.d(e,"VNavigationDrawer",(function(){return i.default})),e.default=i.default},"./src/components/VOverflowBtn/VOverflowBtn.sass":
/*!*******************************************************!*\
  !*** ./src/components/VOverflowBtn/VOverflowBtn.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VOverflowBtn/VOverflowBtn.ts":
/*!*****************************************************!*\
  !*** ./src/components/VOverflowBtn/VOverflowBtn.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VOverflowBtn.sass */"./src/components/VOverflowBtn/VOverflowBtn.sass"),r=(n.n(i),n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.ts")),s=n(/*! ../VAutocomplete */"./src/components/VAutocomplete/index.ts"),o=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.ts"),a=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.default.extend({name:"v-overflow-btn",props:{editable:Boolean,segmented:Boolean},computed:{classes:function(){return l({},s.default.options.computed.classes.call(this),{"v-overflow-btn":!0,"v-overflow-btn--segmented":this.segmented,"v-overflow-btn--editable":this.editable})},isAnyValueAllowed:function(){return this.editable||s.default.options.computed.isAnyValueAllowed.call(this)},isSingle:function(){return!0},computedItems:function(){return this.segmented?this.allItems:this.filteredItems}},methods:{genSelections:function(){return this.editable?s.default.options.methods.genSelections.call(this):r.default.options.methods.genSelections.call(this)},genCommaSelection:function(t,e,n){return this.segmented?this.genSegmentedBtn(t):r.default.options.methods.genCommaSelection.call(this,t,e,n)},genInput:function(){var t=o.default.options.methods.genInput.call(this);return t.data=t.data||{},t.data.domProps.value=this.editable?this.internalSearch:"",t.data.attrs.readonly=!this.isAnyValueAllowed,t},genLabel:function(){if(this.editable&&this.isFocused)return null;var t=o.default.options.methods.genLabel.call(this);return t?(t.data=t.data||{},t.data.style={},t):t},genSegmentedBtn:function(t){var e=this,n=this.getValue(t),i=this.computedItems.find((function(t){return e.getValue(t)===n}))||t;return i.text&&i.callback?this.$createElement(a.default,{props:{text:!0},on:{click:function(t){t.stopPropagation(),i.callback(t)}}},[i.text]):(Object(c.consoleWarn)("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)}}})},"./src/components/VOverflowBtn/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VOverflowBtn/index.ts ***!
  \**********************************************/
/*! exports provided: VOverflowBtn, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VOverflowBtn */"./src/components/VOverflowBtn/VOverflowBtn.ts");n.d(e,"VOverflowBtn",(function(){return i.default})),e.default=i.default},"./src/components/VOverlay/VOverlay.sass":
/*!***********************************************!*\
  !*** ./src/components/VOverlay/VOverlay.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VOverlay/VOverlay.ts":
/*!*********************************************!*\
  !*** ./src/components/VOverlay/VOverlay.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VOverlay.sass */"./src/components/VOverlay/VOverlay.sass"),r=(n.n(i),n(/*! ./../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ./../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(r.default,s.default,o.default).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes:function(){return c({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return+(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},e)}})},"./src/components/VOverlay/index.ts":
/*!******************************************!*\
  !*** ./src/components/VOverlay/index.ts ***!
  \******************************************/
/*! exports provided: VOverlay, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VOverlay */"./src/components/VOverlay/VOverlay.ts");n.d(e,"VOverlay",(function(){return i.default})),e.default=i.default},"./src/components/VPagination/VPagination.sass":
/*!*****************************************************!*\
  !*** ./src/components/VPagination/VPagination.sass ***!
  \*****************************************************/
/*! no static exports found */function(){},"./src/components/VPagination/VPagination.ts":
/*!***************************************************!*\
  !*** ./src/components/VPagination/VPagination.ts ***!
  \***************************************************/
/*! exports provided: default */function(i,r,s){"use strict";s.r(r);var o=s(/*! ./VPagination.sass */"./src/components/VPagination/VPagination.sass"),a=(s.n(o),s(/*! ../VIcon */"./src/components/VIcon/index.ts")),c=s(/*! ../../directives/resize */"./src/directives/resize/index.ts"),l=s(/*! ../../util/mixins */"./src/util/mixins.ts"),u=s(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),d=s(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t};r.default=Object(l.default)(u.default,d.default).extend({name:"v-pagination",directives:{Resize:c.default},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return 0==t%1}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return h({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var i=parseInt(this.totalVisible,10),r=t(e(0,i)||this.length,e(0,this.maxButtons)||this.length,this.length);if(this.length<=r)return this.range(1,this.length);var s=0==r%2?1:0,o=n(r/2),a=this.length-o+1+s;if(this.value>o&&this.value<a){var c=this.value-o+2,l=this.value+o-2-s;return p([1,"..."],this.range(c,l),["...",this.length])}if(this.value===o){l=this.value+o-1-s;return p(this.range(1,l),["...",this.length])}if(this.value===a){c=this.value-o+1;return p([1,"..."],this.range(c,this.length))}return p(this.range(1,o),["..."],this.range(a,this.length))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=n((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){for(var n=[],i=t=0<t?t:1;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{type:"button"},on:n?{}:{click:i}},[t(a.default,[e])])])},genItem:function(t,e){var n=this,i=e===this.value&&(this.color||"primary");return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button"},on:{click:function(){return n.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(n,i){return t("li",{key:i},[isNaN(+n)?t("span",{class:"v-pagination__more"},[n.toString()]):e.genItem(t,n)])}))}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,1>=this.value,this.previous),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next)];return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}})},"./src/components/VPagination/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VPagination/index.ts ***!
  \*********************************************/
/*! exports provided: VPagination, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VPagination */"./src/components/VPagination/VPagination.ts");n.d(e,"VPagination",(function(){return i.default})),e.default=i.default},"./src/components/VParallax/VParallax.sass":
/*!*************************************************!*\
  !*** ./src/components/VParallax/VParallax.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VParallax/VParallax.ts":
/*!***********************************************!*\
  !*** ./src/components/VParallax/VParallax.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VParallax.sass */"./src/components/VParallax/VParallax.sass"),r=(n.n(i),n(/*! ../../mixins/translatable */"./src/mixins/translatable/index.ts")),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=Object(s.default)(r.default);e.default=o.extend().extend({name:"v-parallax",props:{alt:{type:String,default:""},height:{type:[String,Number],default:500},src:String},data:function(){return{isBooted:!1}},computed:{styles:function(){return{display:"block",opacity:this.isBooted?1:0,transform:"translate(-50%, "+this.parallax+"px)"}}},mounted:function(){this.init()},methods:{init:function(){var t=this,e=this.$refs.img;e&&(e.complete?(this.translate(),this.listeners()):e.addEventListener("load",(function(){t.translate(),t.listeners()}),!1),this.isBooted=!0)},objHeight:function(){return this.$refs.img.naturalHeight}},render:function(t){var e=t("div",{staticClass:"v-parallax__image-container"},[t("img",{staticClass:"v-parallax__image",style:this.styles,attrs:{src:this.src,alt:this.alt},ref:"img"})]),n=t("div",{staticClass:"v-parallax__content"},this.$slots.default);return t("div",{staticClass:"v-parallax",style:{height:this.height+"px"},on:this.$listeners},[e,n])}})},"./src/components/VParallax/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VParallax/index.ts ***!
  \*******************************************/
/*! exports provided: VParallax, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VParallax */"./src/components/VParallax/VParallax.ts");n.d(e,"VParallax",(function(){return i.default})),e.default=i.default},"./src/components/VPicker/VPicker.sass":
/*!*********************************************!*\
  !*** ./src/components/VPicker/VPicker.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VPicker/VPicker.ts":
/*!*******************************************!*\
  !*** ./src/components/VPicker/VPicker.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VPicker.sass */"./src/components/VPicker/VPicker.sass"),r=(n.n(i),n(/*! ../VCard/VCard.sass */"./src/components/VCard/VCard.sass")),s=(n.n(r),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(c.default)(s.default,o.default).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,noTitle:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var t=!this.isDark&&(this.color||"primary");return this.color||t}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:l({"v-picker__body--no-title":this.noTitle},this.themeClasses),style:this.fullWidth?void 0:{width:Object(a.convertToUnit)(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions",class:{"v-picker__actions--no-title":this.noTitle}},this.$slots.actions)}},render:function(t){return t("div",{staticClass:"v-picker v-card",class:l({"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}})},"./src/components/VPicker/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VPicker/index.ts ***!
  \*****************************************/
/*! exports provided: VPicker, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VPicker */"./src/components/VPicker/VPicker.ts");n.d(e,"VPicker",(function(){return i.default})),e.default=i.default},"./src/components/VProgressCircular/VProgressCircular.sass":
/*!*****************************************************************!*\
  !*** ./src/components/VProgressCircular/VProgressCircular.sass ***!
  \*****************************************************************/
/*! no static exports found */function(){},"./src/components/VProgressCircular/VProgressCircular.ts":
/*!***************************************************************!*\
  !*** ./src/components/VProgressCircular/VProgressCircular.ts ***!
  \***************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressCircular.sass */"./src/components/VProgressCircular/VProgressCircular.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=r.default.extend({name:"v-progress-circular",props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:function(){return{radius:20}},computed:{calculatedSize:function(){return+this.size+(this.button?8:0)},circumference:function(){return 2*o*this.radius},classes:function(){return{"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return 0>this.value?0:100<this.value?100:parseFloat(this.value)},strokeDashArray:function(){return u(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return+this.width/+this.size*this.viewBoxSize*2},styles:function(){return{height:Object(s.convertToUnit)(this.calculatedSize),width:Object(s.convertToUnit)(this.calculatedSize)}},svgStyles:function(){return{transform:"rotate("+ +this.rotate+"deg)"}},viewBoxSize:function(){return this.radius/(1-+this.width/+this.size)}},methods:{genCircle:function(t,e){return this.$createElement("circle",{class:"v-progress-circular__"+t,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg:function(){var t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:this.viewBoxSize+" "+this.viewBoxSize+" "+2*this.viewBoxSize+" "+2*this.viewBoxSize}},t)},genInfo:function(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}})},"./src/components/VProgressCircular/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VProgressCircular/index.ts ***!
  \***************************************************/
/*! exports provided: VProgressCircular, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressCircular */"./src/components/VProgressCircular/VProgressCircular.ts");n.d(e,"VProgressCircular",(function(){return i.default})),e.default=i.default},"./src/components/VProgressLinear/VProgressLinear.sass":
/*!*************************************************************!*\
  !*** ./src/components/VProgressLinear/VProgressLinear.sass ***!
  \*************************************************************/
/*! no static exports found */function(){},"./src/components/VProgressLinear/VProgressLinear.ts":
/*!***********************************************************!*\
  !*** ./src/components/VProgressLinear/VProgressLinear.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressLinear.sass */"./src/components/VProgressLinear/VProgressLinear.sass"),r=(n.n(i),n(/*! ../transitions */"./src/components/transitions/index.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../mixins/positionable */"./src/mixins/positionable/index.ts"),a=n(/*! ../../mixins/proxyable */"./src/mixins/proxyable/index.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},h=Object(u.default)(s.default,Object(o.factory)(["absolute","fixed","top","bottom"]),a.default,c.default);e.default=h.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(l.convertToUnit)(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(l.convertToUnit)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t;return(t={opacity:null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity)})[this.$vuetify.rtl?"right":"left"]=Object(l.convertToUnit)(this.normalizedValue,"%"),t.width=Object(l.convertToUnit)(this.normalizedBuffer-this.normalizedValue,"%"),t},classes:function(){return d({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?r.VFadeTransition:r.VSlideXTransition},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return!!this.$listeners.change},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(l.convertToUnit)(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var t=Object(l.getSlot)(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){var e;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:(e={},e[t]=!0,e)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect().width;this.internalValue=t.offsetX/e*100}},normalize:function(t){return 0>t?0:100<t?100:parseFloat(t)}},render:function(t){return t("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(l.convertToUnit)(this.height):0,top:this.top?0:void 0},on:this.genListeners()},[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}})},"./src/components/VProgressLinear/index.ts":
/*!*************************************************!*\
  !*** ./src/components/VProgressLinear/index.ts ***!
  \*************************************************/
/*! exports provided: VProgressLinear, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressLinear */"./src/components/VProgressLinear/VProgressLinear.ts");n.d(e,"VProgressLinear",(function(){return i.default})),e.default=i.default},"./src/components/VRadioGroup/VRadio.sass":
/*!************************************************!*\
  !*** ./src/components/VRadioGroup/VRadio.sass ***!
  \************************************************/
/*! no static exports found */function(){},"./src/components/VRadioGroup/VRadio.ts":
/*!**********************************************!*\
  !*** ./src/components/VRadioGroup/VRadio.ts ***!
  \**********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRadio.sass */"./src/components/VRadioGroup/VRadio.sass"),r=(n.n(i),n(/*! ../VLabel */"./src/components/VLabel/index.ts")),s=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../VInput */"./src/components/VInput/index.ts"),a=n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts"),c=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),l=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),u=n(/*! ../../mixins/rippleable */"./src/mixins/rippleable/index.ts"),d=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),h=n(/*! ../../mixins/selectable */"./src/mixins/selectable/index.ts"),f=n(/*! ../../util/helpers */"./src/util/helpers.ts"),p=n(/*! ../../util/mixins */"./src/util/mixins.ts"),m=function(){return(m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},v=Object(p.default)(a.default,c.default,u.default,Object(l.factory)("radioGroup"),d.default);e.default=v.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return m({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses,this.groupClasses)},computedColor:function(){return h.default.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return o.default.options.computed.computedId.call(this)},hasLabel:o.default.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!(this.radioGroup||{}).disabled},isReadonly:function(){return this.readonly||!!(this.radioGroup||{}).readonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return h.default.options.methods.genInput.call(this,"radio",t)},genLabel:function(){var t=this;return this.hasLabel?this.$createElement(r.default,{on:{click:function(e){e.preventDefault(),t.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f.getSlot)(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput(m({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.validationState)),this.$createElement(s.default,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon)])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){return t("div",{staticClass:"v-radio",class:this.classes},[this.genRadio(),this.genLabel()])}})},"./src/components/VRadioGroup/VRadioGroup.sass":
/*!*****************************************************!*\
  !*** ./src/components/VRadioGroup/VRadioGroup.sass ***!
  \*****************************************************/
/*! no static exports found */function(){},"./src/components/VRadioGroup/VRadioGroup.ts":
/*!***************************************************!*\
  !*** ./src/components/VRadioGroup/VRadioGroup.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../styles/components/_selection-controls.sass */"./src/styles/components/_selection-controls.sass"),r=(n.n(i),n(/*! ./VRadioGroup.sass */"./src/components/VRadioGroup/VRadioGroup.sass")),s=(n.n(r),n(/*! ../VInput */"./src/components/VInput/index.ts")),o=n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),a=n(/*! ../../mixins/comparable */"./src/mixins/comparable/index.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=Object(c.default)(a.default,o.BaseItemGroup,s.default);e.default=u.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:{default:null}},computed:{classes:function(){return l({},s.default.options.computed.classes.call(this),{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},s.default.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=s.default.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=s.default.options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="div",t):null},onClick:o.BaseItemGroup.options.methods.onClick}})},"./src/components/VRadioGroup/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VRadioGroup/index.ts ***!
  \*********************************************/
/*! exports provided: VRadioGroup, VRadio, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRadioGroup */"./src/components/VRadioGroup/VRadioGroup.ts");n.d(e,"VRadioGroup",(function(){return i.default}));var r=n(/*! ./VRadio */"./src/components/VRadioGroup/VRadio.ts");n.d(e,"VRadio",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VRadioGroup:i.default,VRadio:r.default}}},"./src/components/VRangeSlider/VRangeSlider.sass":
/*!*******************************************************!*\
  !*** ./src/components/VRangeSlider/VRangeSlider.sass ***!
  \*******************************************************/
/*! no static exports found */function(){},"./src/components/VRangeSlider/VRangeSlider.ts":
/*!*****************************************************!*\
  !*** ./src/components/VRangeSlider/VRangeSlider.ts ***!
  \*****************************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ./VRangeSlider.sass */"./src/components/VRangeSlider/VRangeSlider.sass"),o=(r.n(s),r(/*! ../VSlider */"./src/components/VSlider/index.ts")),c=r(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t};i.default=o.default.extend({name:"v-range-slider",props:{value:{type:Array,default:function(){return[0,0]}}},data:function(){return{activeThumb:null,lazyValue:this.value}},computed:{classes:function(){return l({},o.default.options.computed.classes.call(this),{"v-input--range-slider":!0})},internalValue:{get:function(){return this.lazyValue},set:function(n){var i=this,r=n.map((function(n){return i.roundValue(t(e(n,i.minValue),i.maxValue))}));if(r[0]>r[1]||r[1]<r[0]){if(null!==this.activeThumb){var s=1===this.activeThumb?0:1;this.$refs["thumb_"+s].focus()}r=[r[1],r[0]]}this.lazyValue=r,Object(c.deepEqual)(r,this.value)||this.$emit("input",r),this.validate()}},inputWidth:function(){var t=this;return this.internalValue.map((function(e){return(t.roundValue(e)-t.minValue)/(t.maxValue-t.minValue)*100}))},trackFillStyles:function(){var t=o.default.options.computed.trackFillStyles.call(this),e=a(this.inputWidth[0]-this.inputWidth[1]),n=this.vertical?"height":"width",i=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left";return t[n]=e+"%",t[i]=this.inputWidth[0]+"%",t}},methods:{getTrackStyle:function(t,e,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=0);var s=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",o=this.vertical?"height":"width",a="calc("+t+"% + "+n+"px)",c="calc("+e+"% + "+i+"px)";return(r={transition:this.trackTransition})[s]=a,r[o]=c,r},getIndexOfClosestValue:function(t,e){return a(t[0]-e)<a(t[1]-e)?0:1},genInput:function(){var t=this;return Object(c.createRange)(2).map((function(e){var n=o.default.options.methods.genInput.call(t);return n.data=n.data||{},n.data.attrs=n.data.attrs||{},n.data.attrs.value=t.internalValue[e],n}))},genTrackContainer:function(){var t=this,e=[];if(this.disabled){var n=[[0,this.inputWidth[0],0,-10],[this.inputWidth[0],a(this.inputWidth[1]-this.inputWidth[0]),10,-20],[this.inputWidth[1],a(100-this.inputWidth[1]),10,0]];this.$vuetify.rtl&&n.reverse(),e.push.apply(e,d(n.map((function(e){return t.$createElement("div",t.setBackgroundColor(t.computedTrackColor,{staticClass:"v-slider__track-background",style:t.getTrackStyle.apply(t,d(e))}))}))))}else e.push(this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.getTrackStyle(0,100)})),this.$createElement("div",this.setBackgroundColor(this.computedColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles})));return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genChildren:function(){var t=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(c.createRange)(2).map((function(e){var n=t.internalValue[e],i=t.inputWidth[e],r=t.isActive&&t.activeThumb===e,s=t.isFocused&&t.activeThumb===e;return t.genThumbContainer(n,i,r,s,(function(n){t.isActive=!0,t.activeThumb=e,t.onThumbMouseDown(n)}),(function(n){t.isFocused=!0,t.activeThumb=e,t.$emit("focus",n)}),(function(e){t.isFocused=!1,t.activeThumb=null,t.$emit("blur",e)}),"thumb_"+e)}))]},onSliderClick:function(t){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);var e=this.parseMouseMove(t),n=e.value;if(e.isInsideTrack){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,n);var i="thumb_"+this.activeThumb;this.$refs[i].focus()}this.setInternalValue(n),this.$emit("change",this.internalValue)}},onMouseMove:function(t){var e=this.parseMouseMove(t),n=e.value;e.isInsideTrack&&null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,n)),this.setInternalValue(n)},onKeyDown:function(t){if(null!==this.activeThumb){var e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null==e||(this.setInternalValue(e),this.$emit("change",this.internalValue))}},setInternalValue:function(t){var e=this;this.internalValue=this.internalValue.map((function(n,i){return i===e.activeThumb?t:+n}))}}})},"./src/components/VRangeSlider/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VRangeSlider/index.ts ***!
  \**********************************************/
/*! exports provided: VRangeSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRangeSlider */"./src/components/VRangeSlider/VRangeSlider.ts");n.d(e,"VRangeSlider",(function(){return i.default})),e.default=i.default},"./src/components/VRating/VRating.sass":
/*!*********************************************!*\
  !*** ./src/components/VRating/VRating.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VRating/VRating.ts":
/*!*******************************************!*\
  !*** ./src/components/VRating/VRating.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r=i(/*! ./VRating.sass */"./src/components/VRating/VRating.sass"),s=(i.n(r),i(/*! ../VIcon */"./src/components/VIcon/index.ts")),o=i(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),a=i(/*! ../../mixins/delayable */"./src/mixins/delayable/index.ts"),c=i(/*! ../../mixins/sizeable */"./src/mixins/sizeable/index.ts"),l=i(/*! ../../mixins/rippleable */"./src/mixins/rippleable/index.ts"),u=i(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),d=i(/*! ../../util/helpers */"./src/util/helpers.ts"),h=i(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(h.default)(o.default,a.default,l.default,c.default,u.default).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var t=this.$props,e=t.dark,n=t.large,i=t.light,r=t.medium,s=t.small;return{dark:e,large:n,light:i,medium:r,size:t.size,small:s,xLarge:t.xLarge,xSmall:t.xSmall}},isHovering:function(){return this.hover&&0<=this.hoverIndex}},watch:{internalValue:function(t){t!==this.value&&this.$emit("input",t)},value:function(t){this.internalValue=t}},methods:{createClickFn:function(t){var e=this;return function(n){if(!e.readonly){var i=e.genHoverIndex(n,t);e.internalValue=e.clearable&&e.internalValue===i?0:i}}},createProps:function(t){var e={index:t,value:this.internalValue,click:this.createClickFn(t),isFilled:n(this.internalValue)>t,isHovered:n(this.hoverIndex)>t};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&0<(this.hoverIndex-t)%1,e.isHalfFilled=!e.isFilled&&0<(this.internalValue-t)%1),e},genHoverIndex:function(t,e){var n=this.isHalfEvent(t);return this.$vuetify.rtl&&(n=!n),e+(n?.5:1)},getIconName:function(t){var e=this.isHovering?t.isHovered:t.isFilled,n=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:n?this.halfIcon:this.emptyIcon},getColor:function(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(t){if(this.halfIncrements){var e=t.target&&t.target.getBoundingClientRect();if(e&&t.pageX-e.left<e.width/2)return!0}return!1},onMouseEnter:function(t,e){var n=this;this.runDelay("open",(function(){n.hoverIndex=n.genHoverIndex(t,e)}))},onMouseLeave:function(){var t=this;this.runDelay("close",(function(){return t.hoverIndex=-1}))},genItem:function(t){var e=this,n=this.createProps(t);if(this.$scopedSlots.item)return this.$scopedSlots.item(n);var i={click:n.click};return this.hover&&(i.mouseenter=function(n){return e.onMouseEnter(n,t)},i.mouseleave=this.onMouseLeave,this.halfIncrements&&(i.mousemove=function(n){return e.onMouseEnter(n,t)})),this.$createElement(s.default,this.setTextColor(this.getColor(n),{directives:this.directives,props:this.iconProps,on:i}),[this.getIconName(n)])}},render:function(t){var e=this,n=Object(d.createRange)(+this.length).map((function(t){return e.genItem(t)}));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},n)}})},"./src/components/VRating/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VRating/index.ts ***!
  \*****************************************/
/*! exports provided: VRating, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRating */"./src/components/VRating/VRating.ts");n.d(e,"VRating",(function(){return i.default})),e.default=i.default},"./src/components/VResponsive/VResponsive.sass":
/*!*****************************************************!*\
  !*** ./src/components/VResponsive/VResponsive.sass ***!
  \*****************************************************/
/*! no static exports found */function(){},"./src/components/VResponsive/VResponsive.ts":
/*!***************************************************!*\
  !*** ./src/components/VResponsive/VResponsive.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VResponsive.sass */"./src/components/VResponsive/VResponsive.sass"),r=(n.n(i),n(/*! ../../mixins/measurable */"./src/mixins/measurable/index.ts")),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(s.default)(r.default).extend({name:"v-responsive",props:{aspectRatio:[String,Number]},computed:{computedAspectRatio:function(){return+this.aspectRatio},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content"},this.$slots.default)}},render:function(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}})},"./src/components/VResponsive/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VResponsive/index.ts ***!
  \*********************************************/
/*! exports provided: VResponsive, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VResponsive */"./src/components/VResponsive/VResponsive.ts");n.d(e,"VResponsive",(function(){return i.default})),e.default=i.default},"./src/components/VSelect/VSelect.sass":
/*!*********************************************!*\
  !*** ./src/components/VSelect/VSelect.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VSelect/VSelect.ts":
/*!*******************************************!*\
  !*** ./src/components/VSelect/VSelect.ts ***!
  \*******************************************/
/*! exports provided: defaultMenuProps, default */function(t,e,n){"use strict";n.r(e),n.d(e,"defaultMenuProps",(function(){return v}));var i=n(/*! ../VTextField/VTextField.sass */"./src/components/VTextField/VTextField.sass"),r=(n.n(i),n(/*! ./VSelect.sass */"./src/components/VSelect/VSelect.sass")),s=(n.n(r),n(/*! ../VChip */"./src/components/VChip/index.ts")),o=n(/*! ../VMenu */"./src/components/VMenu/index.ts"),a=n(/*! ./VSelectList */"./src/components/VSelect/VSelectList.ts"),c=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.ts"),l=n(/*! ../../mixins/comparable */"./src/mixins/comparable/index.ts"),u=n(/*! ../../mixins/filterable */"./src/mixins/filterable/index.ts"),d=n(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),h=n(/*! ../../util/helpers */"./src/util/helpers.ts"),f=n(/*! ../../util/console */"./src/util/console.ts"),p=n(/*! ../../util/mixins */"./src/util/mixins.ts"),m=function(){return(m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},v={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},g=Object(p.default)(c.default,l.default,u.default);e.default=g.extend().extend({name:"v-select",directives:{ClickOutside:d.default},props:{appendIcon:{type:String,default:"$dropdown"},attach:{default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:function(){return v}},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data:function(){return{cachedItems:this.cacheItems?this.items:[],content:null,isBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0===this.value?this.multiple?[]:void 0:this.value,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes:function(){return m({},c.default.options.computed.classes.call(this),{"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple})},computedItems:function(){return this.allItems},computedOwns:function(){return"list-"+this._uid},counterValue:function(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives:function(){return this.isFocused?[{name:"click-outside",value:this.blur,args:{closeConditional:this.closeConditional}}]:void 0},dynamicHeight:function(){return"auto"},hasChips:function(){return this.chips||this.smallChips},hasSlot:function(){return!(!this.hasChips&&!this.$scopedSlots.selection)},isDirty:function(){return 0<this.selectedItems.length},listData:function(){var t,e=this.$vnode&&this.$vnode.context.$options._scopeId,n=e?((t={})[e]=!0,t):{};return{attrs:m({},n,{id:this.computedOwns}),props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList:function(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(f.consoleError)("assert: staticList should not be called if slots are used"),this.$createElement(a.default,this.listData)},virtualizedItems:function(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:function(){return!0},$_menuProps:function(){var t="string"==typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce((function(t,e){return t[e.trim()]=!0,t}),{})),m({},v,{eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0},t)}},watch:{internalValue:function(t){this.initialValue=t,this.setSelectedItems()},isBooted:function(){var t=this;this.$nextTick((function(){t.content&&t.content.addEventListener&&t.content.addEventListener("scroll",t.onScroll,!1)}))},isMenuActive:function(t){var e=this;this.$nextTick((function(){return e.onMenuActiveChange(t)})),t&&(this.isBooted=!0)},items:{immediate:!0,handler:function(t){var e=this;this.cacheItems&&this.$nextTick((function(){e.cachedItems=e.filterDuplicates(e.cachedItems.concat(t))})),this.setSelectedItems()}}},mounted:function(){this.content=this.$refs.menu&&this.$refs.menu.$refs.content},methods:{blur:function(t){c.default.options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu:function(){this.disabled||this.readonly||this.isMenuActive||(this.isMenuActive=!0)},clearableCallback:function(){var t=this;this.setValue(this.multiple?[]:void 0),this.$nextTick((function(){return t.$refs.input&&t.$refs.input.focus()})),this.openOnClear&&(this.isMenuActive=!0)},closeConditional:function(t){return!this._isDestroyed&&this.content&&!this.content.contains(t.target)&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates:function(t){for(var e=new Map,n=0;n<t.length;++n){var i=t[n],r=this.getValue(i);e.has(r)||e.set(r,i)}return Array.from(e.values())},findExistingIndex:function(t){var e=this,n=this.getValue(t);return(this.internalValue||[]).findIndex((function(t){return e.valueComparator(e.getValue(t),n)}))},genChipSelection:function(t,e){var n=this,i=this.disabled||this.readonly||this.getDisabled(t);return this.$createElement(s.default,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&!i,disabled:i,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:function(t){i||(t.stopPropagation(),n.selectedIndex=e)},"click:close":function(){return n.onChipInput(t)}},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection:function(t,e,n){var i=e===this.selectedIndex&&this.computedColor,r=this.disabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(i,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(t))}),this.getText(t)+(n?"":", "))},genDefaultSlot:function(){var t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot()]),this.genMenu(),this.genProgress()]},genInput:function(){var t=c.default.options.methods.genInput.call(this);return t.data.domProps.value=null,t.data.attrs.readonly=!0,t.data.attrs.type="text",t.data.attrs["aria-readonly"]=!0,t.data.on.keypress=this.onKeyPress,t},genInputSlot:function(){var t=c.default.options.methods.genInputSlot.call(this);return t.data.attrs=m({},t.data.attrs,{role:"button","aria-haspopup":"listbox","aria-expanded":this.isMenuActive+"","aria-owns":this.computedOwns}),t},genList:function(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot:function(){var t=this,e=["prepend-item","no-data","append-item"].filter((function(e){return t.$slots[e]})).map((function(e){return t.$createElement("template",{slot:e},t.$slots[e])}));return this.$createElement(a.default,m({},this.listData),e)},genMenu:function(){var t=this,e=this.$_menuProps;return e.activator=this.$refs["input-slot"],e.attach=""===this.attach||!0===this.attach||"attach"===this.attach?this.$el:this.attach,this.$createElement(o.default,{attrs:{role:void 0},props:e,on:{input:function(e){t.isMenuActive=e,t.isFocused=e}},ref:"menu"},[this.genList()])},genSelections:function(){var t,e=this.selectedItems.length,n=Array(e);for(t=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;e--;)n[e]=t(this.selectedItems[e],e,e===n.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},n)},genSlotSelection:function(t,e){var n=this;return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:function(t){t.stopPropagation(),n.selectedIndex=e},selected:e===this.selectedIndex,disabled:this.disabled||this.readonly})},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled:function(t){return Object(h.getPropertyFromItem)(t,this.itemDisabled,!1)},getText:function(t){return Object(h.getPropertyFromItem)(t,this.itemText,t)},getValue:function(t){return Object(h.getPropertyFromItem)(t,this.itemValue,this.getText(t))},onBlur:function(t){t&&this.$emit("blur",t)},onChipInput:function(t){this.multiple?this.selectItem(t):this.setValue(null),this.isMenuActive=0===this.selectedItems.length,this.selectedIndex=-1},onClick:function(){this.isDisabled||(this.isMenuActive=!0,!this.isFocused&&(this.isFocused=!0,this.$emit("focus")))},onEscDown:function(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress:function(t){var e=this;if(!this.multiple&&!this.readonly){var n=performance.now();n-this.keyboardLookupLastTime>1e3&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=n;var i=this.allItems.findIndex((function(t){return(e.getText(t)||"").toString().toLowerCase().startsWith(e.keyboardLookupPrefix)})),r=this.allItems[i];-1!==i&&(this.setValue(this.returnObject?r:this.getValue(r)),setTimeout((function(){return e.setMenuIndex(i)})))}},onKeyDown:function(t){var e=this,n=t.keyCode,i=this.$refs.menu;if([h.keyCodes.enter,h.keyCodes.space].includes(n)&&this.activateMenu(),i)return this.isMenuActive&&n!==h.keyCodes.tab&&this.$nextTick((function(){i.changeListIndex(t),e.$emit("update:list-index",i.listIndex)})),!this.isMenuActive&&[h.keyCodes.up,h.keyCodes.down].includes(n)?this.onUpDown(t):n===h.keyCodes.esc?this.onEscDown(t):n===h.keyCodes.tab?this.onTabDown(t):n===h.keyCodes.space?this.onSpaceDown(t):void 0},onMenuActiveChange:function(t){if(!(this.multiple&&!t||-1<this.getMenuIndex())){var e=this.$refs.menu;if(e&&this.isDirty)for(var n=0;n<e.tiles.length;n++)if("true"===e.tiles[n].getAttribute("aria-selected")){this.setMenuIndex(n);break}}},onMouseUp:function(t){var e=this;if(this.hasMouseDown&&3!==t.which){var n=this.$refs["append-inner"];this.isMenuActive&&n&&(n===t.target||n.contains(t.target))?this.$nextTick((function(){return e.isMenuActive=!e.isMenuActive})):this.isEnclosed&&!this.isDisabled&&(this.isMenuActive=!0)}c.default.options.methods.onMouseUp.call(this,t)},onScroll:function(){var t=this;if(this.isMenuActive){if(this.lastItem>=this.computedItems.length)return;200>this.content.scrollHeight-(this.content.scrollTop+this.content.clientHeight)&&(this.lastItem+=20)}else requestAnimationFrame((function(){return t.content.scrollTop=0}))},onSpaceDown:function(t){t.preventDefault()},onTabDown:function(t){var e=this.$refs.menu;if(e){var n=e.activeTile;!this.multiple&&n&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),n.click()):this.blur(t)}},onUpDown:function(t){var e=this.$refs.menu;if(e){if(t.preventDefault(),this.multiple)return this.activateMenu();var n=t.keyCode;e.getTiles(),h.keyCodes.up===n?e.prevTile():e.nextTile(),e.activeTile&&e.activeTile.click()}},selectItem:function(t){var e=this;if(this.multiple){var n=(this.internalValue||[]).slice(),i=this.findExistingIndex(t);if(-1===i?n.push(t):n.splice(i,1),this.setValue(n.map((function(t){return e.returnObject?t:e.getValue(t)}))),this.$nextTick((function(){e.$refs.menu&&e.$refs.menu.updateDimensions()})),!this.multiple)return;var r=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick((function(){return e.setMenuIndex(r)}))}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex:function(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems:function(){var t,e,n=this,i=[],r=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue],s=function(t){var e=o.allItems.findIndex((function(e){return n.valueComparator(n.getValue(e),n.getValue(t))}));-1<e&&i.push(o.allItems[e])},o=this;try{for(var a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(r),c=a.next();!c.done;c=a.next())s(c.value)}catch(n){t={error:n}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.selectedItems=i},setValue:function(t){var e=this.internalValue;this.internalValue=t,t!==e&&this.$emit("change",t)}}})},"./src/components/VSelect/VSelectList.ts":
/*!***********************************************!*\
  !*** ./src/components/VSelect/VSelectList.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VCard/VCard.sass */"./src/components/VCard/VCard.sass"),r=(n.n(i),n(/*! ../VCheckbox/VSimpleCheckbox */"./src/components/VCheckbox/VSimpleCheckbox.ts")),s=n(/*! ../VDivider */"./src/components/VDivider/index.ts"),o=n(/*! ../VSubheader */"./src/components/VSubheader/index.ts"),a=n(/*! ../VList */"./src/components/VList/index.ts"),c=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),l=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),u=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),d=n(/*! ../../util/helpers */"./src/util/helpers.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(h.default)(l.default,u.default).extend({name:"v-select-list",directives:{ripple:c.default},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:{default:null},selectedItems:{type:Array,default:function(){return[]}}},computed:{parsedItems:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},tileActiveClass:function(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile:function(){return this.$createElement(a.VListItem,{attrs:{role:void 0},on:{mousedown:function(t){return t.preventDefault()}}},[this.genTileContent(this.noDataText)])}},methods:{genAction:function(t,e){var n=this;return this.$createElement(a.VListItemAction,[this.$createElement(r.default,{props:{color:this.color,value:e},on:{input:function(){return n.$emit("select",t)}}})])},genDivider:function(t){return this.$createElement(s.default,{props:t})},genFilteredText:function(t){if(t=t||"",!this.searchInput||this.noFilter)return Object(d.escapeHTML)(t);var e=this.getMaskedCharacters(t),n=e.start,i=e.middle,r=e.end;return""+Object(d.escapeHTML)(n)+this.genHighlight(i)+Object(d.escapeHTML)(r)},genHeader:function(t){return this.$createElement(o.default,{props:t},t.header)},genHighlight:function(t){return'<span class="v-list-item__mask">'+Object(d.escapeHTML)(t)+"</span>"},genLabelledBy:function(t){return Object(d.escapeHTML)(this.getText(t).split(" ").join("-").toLowerCase())+"-list-item-"+this._uid},getMaskedCharacters:function(t){var e=(this.searchInput||"").toString().toLocaleLowerCase(),n=t.toLocaleLowerCase().indexOf(e);return 0>n?{start:"",middle:t,end:""}:{start:t.slice(0,n),middle:t.slice(n,n+e.length),end:t.slice(n+e.length)}},genTile:function(t,e,n){var i=this;void 0===e&&(e=null),void 0===n&&(n=!1),n||(n=this.hasItem(t)),t===Object(t)&&(e=null===e?this.getDisabled(t):e);var r={attrs:{"aria-selected":n+"","aria-labelledby":this.genLabelledBy(t),role:"option"},on:{mousedown:function(t){t.preventDefault()},click:function(){return e||i.$emit("select",t)}},props:{activeClass:this.tileActiveClass,disabled:e,ripple:!0,inputValue:n}};if(!this.$scopedSlots.item)return this.$createElement(a.VListItem,r,[this.action&&!this.hideSelected&&0<this.items.length?this.genAction(t,n):null,this.genTileContent(t)]);var s=this.$scopedSlots.item({parent:this,item:t,attrs:f({},r.attrs,r.props),on:r.on});return this.needsTile(s)?this.$createElement(a.VListItem,r,s):s},genTileContent:function(t){var e=this.genFilteredText(this.getText(t));return this.$createElement(a.VListItemContent,[this.$createElement(a.VListItemTitle,{attrs:{id:this.genLabelledBy(t)},domProps:{innerHTML:e}})])},hasItem:function(t){return-1<this.parsedItems.indexOf(this.getValue(t))},needsTile:function(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled:function(t){return!!Object(d.getPropertyFromItem)(t,this.itemDisabled,!1)},getText:function(t){return Object(d.getPropertyFromItem)(t,this.itemText,t)+""},getValue:function(t){return Object(d.getPropertyFromItem)(t,this.itemValue,this.getText(t))}},render:function(){var t,e,n=[];try{for(var i,r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(this.items),s=r.next();!s.done;s=r.next())i=s.value,this.hideSelected&&this.hasItem(i)||(null==i?n.push(this.genTile(i)):i.header?n.push(this.genHeader(i)):i.divider?n.push(this.genDivider(i)):n.push(this.genTile(i)))}catch(n){t={error:n}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n.length||n.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&n.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&n.push(this.$slots["append-item"]),this.$createElement("div",{staticClass:"v-select-list v-card",class:this.themeClasses},[this.$createElement(a.VList,{attrs:{id:this.$attrs.id,role:"listbox",tabindex:-1},props:{dense:this.dense}},n)])}})},"./src/components/VSelect/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VSelect/index.ts ***!
  \*****************************************/
/*! exports provided: VSelect, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSelect */"./src/components/VSelect/VSelect.ts");n.d(e,"VSelect",(function(){return i.default})),e.default=i.default},"./src/components/VSheet/VSheet.sass":
/*!*******************************************!*\
  !*** ./src/components/VSheet/VSheet.sass ***!
  \*******************************************/
/*! no static exports found */function(){},"./src/components/VSheet/VSheet.ts":
/*!*****************************************!*\
  !*** ./src/components/VSheet/VSheet.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSheet.sass */"./src/components/VSheet/VSheet.sass"),r=(n.n(i),n(/*! ../../mixins/binds-attrs */"./src/mixins/binds-attrs/index.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../mixins/elevatable */"./src/mixins/elevatable/index.ts"),a=n(/*! ../../mixins/measurable */"./src/mixins/measurable/index.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(l.default)(r.default,s.default,o.default,a.default,c.default).extend({name:"v-sheet",props:{tag:{type:String,default:"div"},tile:Boolean},computed:{classes:function(){return u({"v-sheet":!0,"v-sheet--tile":this.tile},this.themeClasses,this.elevationClasses)},styles:function(){return this.measurableStyles}},render:function(t){var e={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},"./src/components/VSheet/index.ts":
/*!****************************************!*\
  !*** ./src/components/VSheet/index.ts ***!
  \****************************************/
/*! exports provided: VSheet, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSheet */"./src/components/VSheet/VSheet.ts");n.d(e,"VSheet",(function(){return i.default})),e.default=i.default},"./src/components/VSkeletonLoader/VSkeletonLoader.sass":
/*!*************************************************************!*\
  !*** ./src/components/VSkeletonLoader/VSkeletonLoader.sass ***!
  \*************************************************************/
/*! no static exports found */function(){},"./src/components/VSkeletonLoader/VSkeletonLoader.ts":
/*!***********************************************************!*\
  !*** ./src/components/VSkeletonLoader/VSkeletonLoader.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSkeletonLoader.sass */"./src/components/VSkeletonLoader/VSkeletonLoader.sass"),r=(n.n(i),n(/*! ../../mixins/elevatable */"./src/mixins/elevatable/index.ts")),s=n(/*! ../../mixins/measurable */"./src/mixins/measurable/index.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(r.default,s.default,o.default).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:l({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return l({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses,this.elevationClasses)},isLoading:function(){return!Object(c.getSlot)(this)||this.loading},rootTypes:function(){return l({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__"+t+" v-skeleton-loader__bone"},e)},genBones:function(t){var e=this,n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(t.split("@"),2),i=n[0],r=n[1];return Array.from({length:r}).map((function(){return e.genStructure(i)}))},genStructure:function(t){var e=[];t=t||this.type||"";var n=this.rootTypes[t]||"";if(t===n);else{if(-1<t.indexOf(","))return this.mapBones(t);if(-1<t.indexOf("@"))return this.genBones(t);-1<n.indexOf(",")?e=this.mapBones(n):-1<n.indexOf("@")?e=this.genBones(n):n&&e.push(this.genStructure(n))}return[this.genBone(t,e)]},genSkeleton:function(){var t=this,e=[],n=Object(c.getSlot)(this);return this.isLoading?e.push(this.genStructure()):e.push(n),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{enter:function(e){t.isLoading&&(e.style.transition="none")},beforeLeave:function(t){t.style.display="none"}}},e):e},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"./src/components/VSkeletonLoader/index.ts":
/*!*************************************************!*\
  !*** ./src/components/VSkeletonLoader/index.ts ***!
  \*************************************************/
/*! exports provided: VSkeletonLoader, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSkeletonLoader */"./src/components/VSkeletonLoader/VSkeletonLoader.ts");n.d(e,"VSkeletonLoader",(function(){return i.default})),e.default=i.default},"./src/components/VSlideGroup/VSlideGroup.sass":
/*!*****************************************************!*\
  !*** ./src/components/VSlideGroup/VSlideGroup.sass ***!
  \*****************************************************/
/*! no static exports found */function(){},"./src/components/VSlideGroup/VSlideGroup.ts":
/*!***************************************************!*\
  !*** ./src/components/VSlideGroup/VSlideGroup.ts ***!
  \***************************************************/
/*! exports provided: BaseSlideGroup, default */function(n,i,r){"use strict";r.r(i),r.d(i,"BaseSlideGroup",(function(){return p}));var s=r(/*! ./VSlideGroup.sass */"./src/components/VSlideGroup/VSlideGroup.sass"),o=(r.n(s),r(/*! ../VIcon */"./src/components/VIcon/index.ts")),c=r(/*! ../transitions */"./src/components/transitions/index.ts"),l=r(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),u=r(/*! ../../directives/resize */"./src/directives/resize/index.ts"),d=r(/*! ../../directives/touch */"./src/directives/touch/index.ts"),h=r(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},p=Object(h.default)(l.BaseItemGroup).extend({name:"base-slide-group",directives:{Resize:u.default,Touch:d.default},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},mobileBreakPoint:{type:[Number,String],default:1264,validator:function(t){return!isNaN(parseInt(t))}},prevIcon:{type:String,default:"$prev"},showArrows:Boolean},data:function(){return{internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{__cachedNext:function(){return this.genTransition("next")},__cachedPrev:function(){return this.genTransition("prev")},classes:function(){return f({},l.BaseItemGroup.options.computed.classes.call(this),{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function(){return(this.showArrows||!this.isMobile)&&this.isOverflowing},hasNext:function(){if(!this.hasAffixes)return!1;var t=this.widths,e=t.content,n=t.wrapper;return e>a(this.scrollOffset)+n},hasPrev:function(){return this.hasAffixes&&0!==this.scrollOffset},isMobile:function(){return this.$vuetify.breakpoint.width<this.mobileBreakPoint}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function(t){this.$refs.content.style.transform="translateX("+-t+"px)"}},beforeUpdate:function(){this.internalItemsLength=(this.$children||[]).length},updated:function(){this.internalItemsLength===(this.$children||[]).length||this.setWidths()},methods:{genNext:function(){var t=this;if(!this.hasAffixes)return null;var e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function(){return t.onAffixClick("next")}},key:"next"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content"},this.$slots.default)},genData:function(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function(t){var e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"==t&&(e="prev");var n=this["has"+(""+t[0].toUpperCase()+t.slice(1))];return this.showArrows||n?this.$createElement(o.default,{props:{disabled:!n}},this[e+"Icon"]):null},genPrev:function(){var t=this,e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function(){return t.onAffixClick("prev")}},key:"prev"},[e])},genTransition:function(t){return this.$createElement(c.VFadeTransition,[this.genIcon(t)])},genWrapper:function(){var t=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function(e){return t.overflowCheck(e,t.onTouchStart)},move:function(e){return t.overflowCheck(e,t.onTouchMove)},end:function(e){return t.overflowCheck(e,t.onTouchEnd)}}}],ref:"wrapper"},[this.genContent()])},calculateNewOffset:function(n,i,r,s){var o=r?-1:1,a=o*s+("prev"===n?-1:1)*i.wrapper;return o*e(t(a,i.content-i.wrapper),0)},onAffixClick:function(t){this.$emit("click:"+t),this.scrollTo(t)},onResize:function(){this._isDestroyed||this.setWidths()},onTouchStart:function(t){var e=this.$refs.content;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove:function(t){this.scrollOffset=this.startX-t.touchmoveX},onTouchEnd:function(){var t=this.$refs,e=t.content,n=t.wrapper,i=e.clientWidth-n.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?0<this.scrollOffset||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-i&&(this.scrollOffset=-i):0>this.scrollOffset||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=i&&(this.scrollOffset=i)},overflowCheck:function(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView:function(){this.selectedItem&&(0!==this.selectedIndex&&(this.centerActive||this.isOverflowing)?this.centerActive?this.scrollOffset=this.calculateCenteredOffset(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=this.calculateUpdatedOffset(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)):this.scrollOffset=0)},calculateUpdatedOffset:function(n,i,r,s){var o=n.clientWidth,a=r?i.content-n.offsetLeft-o:n.offsetLeft;r&&(s=-s);var c=i.wrapper+s,l=o+a,u=.4*o;return a<s?s=e(a-u,0):c<l&&(s=t(s-(c-l-u),i.content-i.wrapper)),r?-s:s},calculateCenteredOffset:function(n,i,r){var s=n.offsetLeft,o=n.clientWidth;if(r){var a=i.content-s-o/2-i.wrapper/2;return-t(i.content-i.wrapper,e(0,a))}a=s+o/2-i.wrapper/2;return t(i.content-i.wrapper,e(0,a))},scrollTo:function(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function(){var t=this;window.requestAnimationFrame((function(){var e=t.$refs,n=e.content,i=e.wrapper;t.widths={content:n?n.clientWidth:0,wrapper:i?i.clientWidth:0},t.isOverflowing=t.widths.wrapper<t.widths.content,t.scrollIntoView()}))}},render:function(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});i.default=p.extend({name:"v-slide-group",provide:function(){return{slideGroup:this}}})},"./src/components/VSlideGroup/VSlideItem.ts":
/*!**************************************************!*\
  !*** ./src/components/VSlideGroup/VSlideItem.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VItemGroup/VItem */"./src/components/VItemGroup/VItem.ts"),r=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(s.default)(i.BaseItem,Object(r.factory)("slideGroup")).extend({name:"v-slide-item"})},"./src/components/VSlideGroup/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VSlideGroup/index.ts ***!
  \*********************************************/
/*! exports provided: VSlideGroup, VSlideItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSlideGroup */"./src/components/VSlideGroup/VSlideGroup.ts");n.d(e,"VSlideGroup",(function(){return i.default}));var r=n(/*! ./VSlideItem */"./src/components/VSlideGroup/VSlideItem.ts");n.d(e,"VSlideItem",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VSlideGroup:i.default,VSlideItem:r.default}}},"./src/components/VSlider/VSlider.sass":
/*!*********************************************!*\
  !*** ./src/components/VSlider/VSlider.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VSlider/VSlider.ts":
/*!*******************************************!*\
  !*** ./src/components/VSlider/VSlider.ts ***!
  \*******************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ./VSlider.sass */"./src/components/VSlider/VSlider.sass"),o=(r.n(s),r(/*! ../VInput */"./src/components/VInput/index.ts")),a=r(/*! ../transitions */"./src/components/transitions/index.ts"),c=r(/*! ../../util/mixins */"./src/util/mixins.ts"),d=r(/*! ../../mixins/loadable */"./src/mixins/loadable/index.ts"),h=r(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),f=r(/*! ../../util/helpers */"./src/util/helpers.ts"),p=r(/*! ../../util/console */"./src/util/console.ts"),m=function(){return(m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};i.default=Object(c.default)(o.default,d.default).extend({name:"v-slider",directives:{ClickOutside:h.default},mixins:[d.default],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:null,validator:function(t){return"boolean"==typeof t||"always"===t}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(t){return"boolean"==typeof t||"always"===t}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,lazyValue:0,noClick:!1}},computed:{classes:function(){return m({},o.default.options.computed.classes.call(this),{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(n){n=isNaN(n)?this.minValue:n;var i=this.roundValue(t(e(n,this.minValue),this.maxValue));i===this.lazyValue||(this.lazyValue=i,this.$emit("input",i))}},trackTransition:function(){return 2<=this.keyPressed?"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return 0<this.step?parseFloat(this.step):0},inputWidth:function(){return(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100},trackFillStyles:function(){var t,e=this.vertical?"bottom":"left",n=this.vertical?"top":"right",i=this.vertical?"height":"width",r=this.$vuetify.rtl?"auto":"0",s=this.$vuetify.rtl?"0":"auto",o=this.disabled?"calc("+this.inputWidth+"% - 10px)":this.inputWidth+"%";return(t={transition:this.trackTransition})[e]=r,t[n]=s,t[i]=o,t},trackStyles:function(){var t,e=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",n=this.vertical?"height":"width",i=this.disabled?"calc("+(100-this.inputWidth)+"% - 10px)":"calc("+(100-this.inputWidth)+"%)";return(t={transition:this.trackTransition})[e]="0px",t[n]=i,t},showTicks:function(){return 0<this.tickLabels.length||!(this.disabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return l((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!(this.disabled||!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){return this.disabled?void 0:this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){return this.disabled?void 0:this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(t){var e=parseFloat(t);e>this.internalValue&&this.$emit("input",e)},max:function(t){var e=parseFloat(t);e<this.internalValue&&this.$emit("input",e)},value:{handler:function(t){this.internalValue=t}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(p.consoleWarn)("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var t=[this.genLabel()],e=this.genSlider();return this.inverseLabel?t.unshift(e):t.push(e),t.push(this.genProgress()),t},genSlider:function(){return this.$createElement("div",{class:m({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.disabled,"v-slider--readonly":this.readonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:m({value:this.internalValue,id:this.computedId,disabled:this.disabled,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genSteps:function(){var t=this;if(!this.step||!this.showTicks)return null;var e=parseFloat(this.tickSize),n=Object(f.createRange)(this.numTicks+1),i=this.vertical?"bottom":"left",r=this.vertical?"right":"top";this.vertical&&n.reverse();var s=n.map((function(n){var s,o=t.$vuetify.rtl?t.maxValue-n:n,a=[];t.tickLabels[o]&&a.push(t.$createElement("div",{staticClass:"v-slider__tick-label"},t.tickLabels[o]));var c=n*(100/t.numTicks),l=t.$vuetify.rtl?100-t.inputWidth<c:c<t.inputWidth;return t.$createElement("span",{key:n,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":l},style:(s={width:e+"px",height:e+"px"},s[i]="calc("+c+"% - "+e/2+"px)",s[r]="calc(50% - "+e/2+"px)",s)},a)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||0<this.tickLabels.length}},s)},genThumbContainer:function(t,e,n,i,r,s,o,a){void 0===a&&(a="thumb");var c=[this.genThumb()],l=this.genThumbLabelContent(t);return this.showThumbLabel&&c.push(this.genThumbLabel(l)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:a,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":n,"v-slider__thumb-container--focused":i,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(e),attrs:m({role:"slider",tabindex:this.disabled||this.readonly?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":this.readonly+"","aria-orientation":this.vertical?"vertical":"horizontal"},this.$attrs),on:{focus:s,blur:o,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:r,mousedown:r}}),c)},genThumbLabelContent:function(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):[this.$createElement("span",[t+""])]},genThumbLabel:function(t){var e=Object(f.convertToUnit)(this.thumbSize),n=this.vertical?"translateY(20%) translateY("+(+this.thumbSize/3-1)+"px) translateX(55%) rotate(135deg)":"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(a.VScaleTransition,{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e,transform:n}}),[this.$createElement("div",t)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(t){var e,n=this.vertical?"top":"left",i=this.$vuetify.rtl?100-t:t;return i=this.vertical?100-i:i,(e={transition:this.trackTransition})[n]=i+"%",e},onThumbMouseDown:function(t){this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;var e=!f.passiveSupported||{passive:!0,capture:!0},n=!!f.passiveSupported&&{passive:!0};"touches"in t?(this.app.addEventListener("touchmove",this.onMouseMove,n),Object(f.addOnceEventListener)(this.app,"touchend",this.onSliderMouseUp,e)):(this.app.addEventListener("mousemove",this.onMouseMove,n),Object(f.addOnceEventListener)(this.app,"mouseup",this.onSliderMouseUp,e)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(t){t.stopPropagation(),this.keyPressed=0;var e=!!f.passiveSupported&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,e),this.app.removeEventListener("mousemove",this.onMouseMove,e),this.$emit("end",this.internalValue),Object(f.deepEqual)(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(t){var e=this.parseMouseMove(t).value;this.internalValue=e},onKeyDown:function(t){if(!this.disabled&&!this.readonly){var e=this.parseKeyDown(t,this.internalValue);null==e||(this.internalValue=e,this.$emit("change",e))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(t){this.noClick?this.noClick=!1:(this.$refs.thumb.focus(),this.onMouseMove(t),this.$emit("change",this.internalValue))},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},parseMouseMove:function(n){var i=this.vertical?"top":"left",r=this.vertical?"height":"width",s=this.vertical?"clientY":"clientX",o=this.$refs.track.getBoundingClientRect(),a=o[i],c=o[r],l="touches"in n?n.touches[0][s]:n[s],u=t(e((l-a)/c,0),1)||0;return this.vertical&&(u=1-u),this.$vuetify.rtl&&(u=1-u),{value:parseFloat(this.min)+u*(this.maxValue-this.minValue),isInsideTrack:l>=a&&l<=a+c}},parseKeyDown:function(t,e){if(!this.disabled){var n=f.keyCodes.pageup,i=f.keyCodes.pagedown,r=f.keyCodes.end,s=f.keyCodes.home,o=f.keyCodes.left,a=f.keyCodes.right,c=f.keyCodes.down,l=f.keyCodes.up;if([n,i,r,s,o,a,c,l].includes(t.keyCode)){t.preventDefault();var u=this.stepNumeric||1,d=(this.maxValue-this.minValue)/u;if([o,a,c,l].includes(t.keyCode))this.keyPressed+=1,e+=((this.$vuetify.rtl?[o,l]:[a,l]).includes(t.keyCode)?1:-1)*u*(t.shiftKey?3:t.ctrlKey?2:1);else if(t.keyCode===s)e=this.minValue;else if(t.keyCode===r)e=this.maxValue;else{e-=(t.keyCode===i?1:-1)*u*(100<d?d/10:10)}return e}}},roundValue:function(e){if(!this.stepNumeric)return e;var n=this.step.toString().trim(),i=-1<n.indexOf(".")?n.length-n.indexOf(".")-1:0,r=this.minValue%this.stepNumeric,s=u((e-r)/this.stepNumeric)*this.stepNumeric+r;return parseFloat(t(s,this.maxValue).toFixed(i))}}})},"./src/components/VSlider/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VSlider/index.ts ***!
  \*****************************************/
/*! exports provided: VSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSlider */"./src/components/VSlider/VSlider.ts");n.d(e,"VSlider",(function(){return i.default})),e.default=i.default},"./src/components/VSnackbar/VSnackbar.sass":
/*!*************************************************!*\
  !*** ./src/components/VSnackbar/VSnackbar.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VSnackbar/VSnackbar.ts":
/*!***********************************************!*\
  !*** ./src/components/VSnackbar/VSnackbar.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSnackbar.sass */"./src/components/VSnackbar/VSnackbar.sass"),r=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),s=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),o=n(/*! ../../mixins/positionable */"./src/mixins/positionable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/console */"./src/util/console.ts");e.default=Object(a.default)(r.default,s.default,Object(o.factory)(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(c.removed)("auto-height",this)},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),this.timeout))}},render:function(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},"./src/components/VSnackbar/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VSnackbar/index.ts ***!
  \*******************************************/
/*! exports provided: VSnackbar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSnackbar */"./src/components/VSnackbar/VSnackbar.ts");n.d(e,"VSnackbar",(function(){return i.default})),e.default=i.default},"./src/components/VSparkline/VSparkline.sass":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/VSparkline.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VSparkline/VSparkline.ts":
/*!*************************************************!*\
  !*** ./src/components/VSparkline/VSparkline.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,n,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(n);var s=i(/*! ./VSparkline.sass */"./src/components/VSparkline/VSparkline.sass"),o=(i.n(s),i(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),c=i(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),l=i(/*! ../../util/mixins */"./src/util/mixins.ts"),u=i(/*! ./helpers/core */"./src/components/VSparkline/helpers/core.ts"),d=i(/*! ./helpers/path */"./src/components/VSparkline/helpers/path.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};n.default=Object(l.default)(o.default,c.default).extend({name:"VSparkline",inheritAttrs:!1,props:{autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},autoLineWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"},fill:{type:Boolean,default:!1},gradient:{type:Array,default:function(){return[]}},gradientDirection:{type:String,validator:function(t){return["top","bottom","left","right"].includes(t)},default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:function(){return[]}},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:{type:[Boolean,Number,String],default:!1},type:{type:String,default:"trend",validator:function(t){return["trend","bar"].includes(t)}},value:{type:Array,default:function(){return[]}},width:{type:[Number,String],default:300}},data:function(){return{lastLength:0}},computed:{classes:function(){return h({"v-sparkline":!0},this.themeClasses)},parsedPadding:function(){return+this.padding},parsedWidth:function(){return+this.width},parsedHeight:function(){return parseInt(this.height,10)},parsedLabelSize:function(){return parseInt(this.labelSize,10)||7},totalHeight:function(){var t=this.parsedHeight;return this.hasLabels&&(t+=1.5*parseInt(this.labelSize,10)),t},totalWidth:function(){var t=this.parsedWidth;return"bar"===this.type&&(t=e(this.value.length*this._lineWidth,t)),t},totalValues:function(){return this.value.length},_lineWidth:function(){if(this.autoLineWidth&&"trend"!==this.type){var t=this.parsedPadding*(this.totalValues+1);return(this.parsedWidth-t)/this.totalValues}return parseFloat(this.lineWidth)||4},boundary:function(){if("bar"===this.type)return{minX:0,maxX:this.totalWidth,minY:0,maxY:this.parsedHeight};var t=this.parsedPadding;return{minX:t,maxX:this.totalWidth-t,minY:t,maxY:this.parsedHeight-t}},hasLabels:function(){return!!(this.showLabels||0<this.labels.length||this.$scopedSlots.label)},parsedLabels:function(){for(var t=[],e=this._values,n=e.length,i=0;t.length<n;i++){var s=e[i],o=this.labels[i];o||(o="object"===r(s)?s.value:s),t.push({x:s.x,value:o+""})}return t},normalizedValues:function(){return this.value.map((function(t){return"number"==typeof t?t:t.value}))},_values:function(){return"trend"===this.type?Object(u.genPoints)(this.normalizedValues,this.boundary):Object(u.genBars)(this.normalizedValues,this.boundary)},textY:function(){var t=this.parsedHeight;return"trend"===this.type&&(t-=4),t},_radius:function(){return!0===this.smooth?8:+this.smooth}},watch:{value:{immediate:!0,handler:function(){var t=this;this.$nextTick((function(){if(t.autoDraw&&"bar"!==t.type){var e=t.$refs.path,n=e.getTotalLength();t.fill?(e.style.transformOrigin="bottom center",e.style.transition="none",e.style.transform="scaleY(0)",e.getBoundingClientRect(),e.style.transition="transform "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.transform="scaleY(1)"):(e.style.transition="none",e.style.strokeDasharray=n+" "+n,e.style.strokeDashoffset=a(n-(t.lastLength||0)).toString(),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.strokeDashoffset="0"),t.lastLength=n}}))}}},methods:{genGradient:function(){var t=this,n=this.gradientDirection,i=this.gradient.slice();i.length||i.push("");var r=e(i.length-1,1),s=i.reverse().map((function(e,n){return t.$createElement("stop",{attrs:{offset:n/r,"stop-color":e||t.color||"currentColor"}})}));return this.$createElement("defs",[this.$createElement("linearGradient",{attrs:{id:this._uid,x1:+("left"===n),y1:+("top"===n),x2:+("right"===n),y2:+("bottom"===n)}},s)])},genG:function(t){return this.$createElement("g",{style:{fontSize:"8",textAnchor:"middle",dominantBaseline:"mathematical",fill:this.color||"currentColor"}},t)},genPath:function(){var t=Object(u.genPoints)(this.normalizedValues,this.boundary);return this.$createElement("path",{attrs:{id:this._uid,d:Object(d.genPath)(t,this._radius,this.fill,this.parsedHeight),fill:this.fill?"url(#"+this._uid+")":"none",stroke:this.fill?"none":"url(#"+this._uid+")"},ref:"path"})},genLabels:function(t){var e=this,n=this.parsedLabels.map((function(n,i){return e.$createElement("text",{attrs:{x:n.x+t+e._lineWidth/2,y:e.textY+.75*e.parsedLabelSize,"font-size":+e.labelSize||7}},[e.genLabel(n,i)])}));return this.genG(n)},genLabel:function(t,e){return this.$scopedSlots.label?this.$scopedSlots.label({index:e,value:t.value}):t.value},genBars:function(){if(this.value&&!(2>this.totalValues)){var t=Object(u.genBars)(this.normalizedValues,this.boundary),e=(a(t[0].x-t[1].x)-this._lineWidth)/2;return this.$createElement("svg",{attrs:{display:"block",viewBox:"0 0 "+this.totalWidth+" "+this.totalHeight},class:this.classes},[this.genGradient(),this.genClipPath(t,e,this._lineWidth,"sparkline-bar-"+this._uid),this.hasLabels?this.genLabels(e):void 0,this.$createElement("g",{attrs:{"clip-path":"url(#sparkline-bar-"+this._uid+"-clip)",fill:"url(#"+this._uid+")"}},[this.$createElement("rect",{attrs:{x:0,y:0,width:this.totalWidth,height:this.height}})])])}},genClipPath:function(t,e,n,i){var r=this,s="number"==typeof this.smooth?this.smooth:this.smooth?2:0;return this.$createElement("clipPath",{attrs:{id:i+"-clip"}},t.map((function(t){return r.$createElement("rect",{attrs:{x:t.x+e,y:t.y,width:n,height:t.height,rx:s,ry:s}},[r.autoDraw?r.$createElement("animate",{attrs:{attributeName:"height",from:0,to:t.height,dur:r.autoDrawDuration+"ms",fill:"freeze"}}):void 0])})))},genTrend:function(){return this.$createElement("svg",this.setTextColor(this.color,{attrs:h({},this.$attrs,{display:"block","stroke-width":this._lineWidth||1,viewBox:"0 0 "+this.width+" "+this.totalHeight}),class:this.classes}),[this.genGradient(),this.hasLabels&&this.genLabels(-this._lineWidth/2),this.genPath()])}},render:function(){return 2>this.totalValues?void 0:"trend"===this.type?this.genTrend():this.genBars()}})},"./src/components/VSparkline/helpers/core.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/core.ts ***!
  \***************************************************/
/*! exports provided: genPoints, genBars */function(n,i,r){"use strict";function s(n,i){var r=i.minX,s=i.maxX,o=i.minY,a=i.maxY,c=n.length,u=e.apply(Math,l(n)),d=t.apply(Math,l(n));return n.map((function(t,e){return{x:r+e*((s-r)/(c-1)),y:a-(a-o)/(u-d||1)*(t-d)+1e-5*+(e===c-1)-1e-5*+(0===e),value:t}}))}function o(n,i){var r=i.minX,s=i.maxX,o=i.minY,c=i.maxY,u=n.length,d=e.apply(Math,l(n)),h=t.apply(Math,l(n));0<h&&(h=0),0>d&&(d=0);var f=(c-o)/(d-h),p=c-a(h*f);return n.map((function(t,e){var n=a(f*t);return{x:r+e*(s/u),y:p-n+ +(0>t)*n,height:n,value:t}}))}r.r(i),r.d(i,"genPoints",(function(){return s})),r.d(i,"genBars",(function(){return o}));var c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},"./src/components/VSparkline/helpers/math.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/math.ts ***!
  \***************************************************/
/*! exports provided: checkCollinear, getDistance, moveTo */function(t,e,n){"use strict";function i(t){return parseInt(t,10)}function o(t,e,n){return i(t.x+n.x)===i(2*e.x)&&i(t.y+n.y)===i(2*e.y)}function a(t,e){return r(s(e.x-t.x,2)+s(e.y-t.y,2))}function c(t,e,n){var i=t.x-e.x,s=t.y-e.y,o=r(i*i+s*s),a=i/o,c=s/o;return{x:e.x+a*n,y:e.y+c*n}}n.r(e),n.d(e,"checkCollinear",(function(){return o})),n.d(e,"getDistance",(function(){return a})),n.d(e,"moveTo",(function(){return c}))},"./src/components/VSparkline/helpers/path.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/path.ts ***!
  \***************************************************/
/*! exports provided: genPath */function(e,n,i){"use strict";function r(e,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=75);var o=e.shift(),a=e[e.length-1];return(i?"M"+o.x+" "+(r-o.x+2)+" L"+o.x+" "+o.y:"M"+o.x+" "+o.y)+e.map((function(i,r){var a=e[r+1],c=e[r-1]||o,l=a&&Object(s.checkCollinear)(a,i,c);if(!a||l)return"L"+i.x+" "+i.y;var u=t(Object(s.getDistance)(c,i),Object(s.getDistance)(a,i)),d=u/2<n?u/2:n,h=Object(s.moveTo)(c,i,d),f=Object(s.moveTo)(a,i,d);return"L"+h.x+" "+h.y+"S"+i.x+" "+i.y+" "+f.x+" "+f.y})).join("")+(i?"L"+a.x+" "+(r-o.x+2)+" Z":"")}i.r(n),i.d(n,"genPath",(function(){return r}));var s=i(/*! ./math */"./src/components/VSparkline/helpers/math.ts")},"./src/components/VSparkline/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSparkline/index.ts ***!
  \********************************************/
/*! exports provided: VSparkline, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSparkline */"./src/components/VSparkline/VSparkline.ts");n.d(e,"VSparkline",(function(){return i.default})),e.default=i.default},"./src/components/VSpeedDial/VSpeedDial.sass":
/*!***************************************************!*\
  !*** ./src/components/VSpeedDial/VSpeedDial.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VSpeedDial/VSpeedDial.ts":
/*!*************************************************!*\
  !*** ./src/components/VSpeedDial/VSpeedDial.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSpeedDial.sass */"./src/components/VSpeedDial/VSpeedDial.sass"),r=(n.n(i),n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts")),s=n(/*! ../../mixins/positionable */"./src/mixins/positionable/index.ts"),o=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable/index.ts"),a=n(/*! ../../directives/click-outside */"./src/directives/click-outside/index.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(c.default)(s.default,r.default,o.default).extend({name:"v-speed-dial",directives:{ClickOutside:a.default},props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){var t;return(t={"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed})["v-speed-dial--direction-"+this.direction]=!0,t["v-speed-dial--is-active"]=this.isActive,t}},render:function(t){var e=this,n=[],i={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};if(this.openOnHover&&(i.on.mouseenter=function(){return e.isActive=!0},i.on.mouseleave=function(){return e.isActive=!1}),this.isActive){var r=0;n=(this.$slots.default||[]).map((function(e,n){return!e.tag||void 0===e.componentOptions||"v-btn"!==e.componentOptions.Ctor.options.name&&"v-tooltip"!==e.componentOptions.Ctor.options.name?(e.key=n,e):(r++,t("div",{style:{transitionDelay:.05*r+"s"},key:n},[e]))}))}var s=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},n);return t("div",i,[this.$slots.activator,s])}})},"./src/components/VSpeedDial/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSpeedDial/index.ts ***!
  \********************************************/
/*! exports provided: VSpeedDial, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSpeedDial */"./src/components/VSpeedDial/VSpeedDial.ts");n.d(e,"VSpeedDial",(function(){return i.default})),e.default=i.default},"./src/components/VStepper/VStepper.sass":
/*!***********************************************!*\
  !*** ./src/components/VStepper/VStepper.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VStepper/VStepper.ts":
/*!*********************************************!*\
  !*** ./src/components/VStepper/VStepper.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VStepper.sass */"./src/components/VStepper/VStepper.sass"),r=(n.n(i),n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts")),s=n(/*! ../../mixins/proxyable */"./src/mixins/proxyable/index.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=Object(a.default)(Object(r.provide)("stepper"),s.default,o.default);e.default=u.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data:function(){return{isBooted:!1,steps:[],content:[],isReverse:!1}},computed:{classes:function(){return l({"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{internalValue:function(t,e){this.isReverse=+t<+e,e&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(c.breaking)("@input","@change",this)},mounted:function(){this.internalLazyValue=this.value||(this.steps[0]||{}).step||1,this.updateView()},methods:{register:function(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister:function(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter((function(e){return e!==t})):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter((function(e){return e!==t})))},stepClick:function(t){var e=this;this.$nextTick((function(){return e.internalValue=t}))},updateView:function(){for(var t=this.steps.length;0<=--t;)this.steps[t].toggle(this.internalValue);for(t=this.content.length;0<=--t;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(t){return t("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}})},"./src/components/VStepper/VStepperContent.ts":
/*!****************************************************!*\
  !*** ./src/components/VStepper/VStepperContent.ts ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../transitions */"./src/components/transitions/index.ts"),r=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=Object(o.default)(Object(r.inject)("stepper","v-stepper-content","v-stepper"));e.default=a.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){return(this.$vuetify.rtl?!this.isReverse:this.isReverse)?i.VTabReverseTransition:i.VTabTransition},styles:function(){return this.isVertical?{height:Object(s.convertToUnit)(this.height)}:{}}},watch:{isActive:function(t,e){return t&&null==e?void(this.height="auto"):void(!this.isVertical||(this.isActive?this.enter():this.leave()))}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame((function(){e=t.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return t.isActive&&(t.height=e||"auto")}),450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return t.height=0}),10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={staticClass:"v-stepper__content"},n={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var i=t("div",n,[this.$slots.default]),r=t("div",e,[i]);return t(this.computedTransition,{on:this.$listeners},[r])}})},"./src/components/VStepper/VStepperStep.ts":
/*!*************************************************!*\
  !*** ./src/components/VStepper/VStepperStep.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),o=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=Object(a.default)(r.default,Object(s.inject)("stepper","v-stepper-step","v-stepper"));e.default=c.extend().extend({name:"v-stepper-step",directives:{ripple:o.default},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(t){return!0!==t()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon:function(t){return this.$createElement(i.default,t)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(this.step+""),t},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=+t<+this.step}},render:function(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"./src/components/VStepper/index.ts":
/*!******************************************!*\
  !*** ./src/components/VStepper/index.ts ***!
  \******************************************/
/*! exports provided: VStepper, VStepperContent, VStepperStep, VStepperHeader, VStepperItems, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VStepperHeader",(function(){return a})),n.d(e,"VStepperItems",(function(){return c}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VStepper */"./src/components/VStepper/VStepper.ts");n.d(e,"VStepper",(function(){return r.default}));var s=n(/*! ./VStepperStep */"./src/components/VStepper/VStepperStep.ts");n.d(e,"VStepperStep",(function(){return s.default}));var o=n(/*! ./VStepperContent */"./src/components/VStepper/VStepperContent.ts");n.d(e,"VStepperContent",(function(){return o.default}));var a=Object(i.createSimpleFunctional)("v-stepper__header"),c=Object(i.createSimpleFunctional)("v-stepper__items");e.default={$_vuetify_subcomponents:{VStepper:r.default,VStepperContent:o.default,VStepperStep:s.default,VStepperHeader:a,VStepperItems:c}}},"./src/components/VSubheader/VSubheader.sass":
/*!***************************************************!*\
  !*** ./src/components/VSubheader/VSubheader.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VSubheader/VSubheader.ts":
/*!*************************************************!*\
  !*** ./src/components/VSubheader/VSubheader.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSubheader.sass */"./src/components/VSubheader/VSubheader.sass"),r=(n.n(i),n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts")),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(s.default)(r.default).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:o({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},"./src/components/VSubheader/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSubheader/index.ts ***!
  \********************************************/
/*! exports provided: VSubheader, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSubheader */"./src/components/VSubheader/VSubheader.ts");n.d(e,"VSubheader",(function(){return i.default})),e.default=i.default},"./src/components/VSwitch/VSwitch.sass":
/*!*********************************************!*\
  !*** ./src/components/VSwitch/VSwitch.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VSwitch/VSwitch.ts":
/*!*******************************************!*\
  !*** ./src/components/VSwitch/VSwitch.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../styles/components/_selection-controls.sass */"./src/styles/components/_selection-controls.sass"),r=(n.n(i),n(/*! ./VSwitch.sass */"./src/components/VSwitch/VSwitch.sass")),s=(n.n(r),n(/*! ../../mixins/selectable */"./src/mixins/selectable/index.ts")),o=n(/*! ../VInput */"./src/components/VInput/index.ts"),a=n(/*! ../../directives/touch */"./src/directives/touch/index.ts"),c=n(/*! ../transitions */"./src/components/transitions/index.ts"),l=n(/*! ../VProgressCircular/VProgressCircular */"./src/components/VProgressCircular/VProgressCircular.ts"),u=n(/*! ../../util/helpers */"./src/util/helpers.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.default.extend({name:"v-switch",directives:{Touch:a.default},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return d({},o.default.options.computed.classes.call(this),{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":this.isActive+"","aria-disabled":this.disabled+"",role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null===this.hasColor?void 0:this.computedColor},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",d({},this.attrs,this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",d({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",d({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(c.VFabTransition,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l.default,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u.keyCodes.left&&this.isActive||t.keyCode===u.keyCodes.right&&!this.isActive)&&this.onChange()}}})},"./src/components/VSwitch/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VSwitch/index.ts ***!
  \*****************************************/
/*! exports provided: VSwitch, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSwitch */"./src/components/VSwitch/VSwitch.ts");n.d(e,"VSwitch",(function(){return i.default})),e.default=i.default},"./src/components/VSystemBar/VSystemBar.sass":
/*!***************************************************!*\
  !*** ./src/components/VSystemBar/VSystemBar.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VSystemBar/VSystemBar.ts":
/*!*************************************************!*\
  !*** ./src/components/VSystemBar/VSystemBar.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSystemBar.sass */"./src/components/VSystemBar/VSystemBar.sass"),r=(n.n(i),n(/*! ../../mixins/applicationable */"./src/mixins/applicationable/index.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(a.default)(Object(r.default)("bar",["height","window"]),s.default,o.default).extend({name:"v-system-bar",props:{height:[Number,String],lightsOut:Boolean,window:Boolean},computed:{classes:function(){return l({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?isNaN(parseInt(this.height))?this.height:parseInt(this.height):this.window?32:24},styles:function(){return{height:Object(c.convertToUnit)(this.computedHeight)}}},methods:{updateApplication:function(){return this.$el?this.$el.clientHeight:this.computedHeight}},render:function(t){var e={staticClass:"v-system-bar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),Object(c.getSlot)(this))}})},"./src/components/VSystemBar/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSystemBar/index.ts ***!
  \********************************************/
/*! exports provided: VSystemBar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSystemBar */"./src/components/VSystemBar/VSystemBar.ts");n.d(e,"VSystemBar",(function(){return i.default})),e.default=i.default},"./src/components/VTabs/VTab.ts":
/*!**************************************!*\
  !*** ./src/components/VTabs/VTab.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),r=n(/*! ../../mixins/routable */"./src/mixins/routable/index.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ./../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},l=Object(a.default)(r.default,Object(i.factory)("tabsBar"),s.default);e.default=l.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:function(){return{proxyClass:"v-tab--active"}},computed:{classes:function(){return c({"v-tab":!0},r.default.options.computed.classes.call(this),{"v-tab--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href||"";this.$router&&this.to===Object(this.to)&&(t=this.$router.resolve(this.to,this.$route,this.append).href);return t.replace("#","")}},mounted:function(){this.onRouteChange()},methods:{click:function(t){this.href&&-1<this.href.indexOf("#")&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()}},render:function(t){var e=this,n=this.generateRouteLink(),i=n.tag,r=n.data;return r.attrs=c({},r.attrs,{"aria-selected":this.isActive+"",role:"tab",tabindex:0}),r.on=c({},r.on,{keydown:function(t){t.keyCode===o.keyCodes.enter&&e.click(t),e.$emit("keydown",t)}}),t(i,r,this.$slots.default)}})},"./src/components/VTabs/VTabItem.ts":
/*!******************************************!*\
  !*** ./src/components/VTabs/VTabItem.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindowItem */"./src/components/VWindow/VWindowItem.ts");e.default=i.default.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=i.default.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},"./src/components/VTabs/VTabs.sass":
/*!*****************************************!*\
  !*** ./src/components/VTabs/VTabs.sass ***!
  \*****************************************/
/*! no static exports found */function(){},"./src/components/VTabs/VTabs.ts":
/*!***************************************!*\
  !*** ./src/components/VTabs/VTabs.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTabs.sass */"./src/components/VTabs/VTabs.sass"),r=(n.n(i),n(/*! ./VTabsBar */"./src/components/VTabs/VTabsBar.ts")),s=n(/*! ./VTabsItems */"./src/components/VTabs/VTabsItems.ts"),o=n(/*! ./VTabsSlider */"./src/components/VTabs/VTabsSlider.ts"),a=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),c=n(/*! ../../mixins/proxyable */"./src/mixins/proxyable/index.ts"),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),u=n(/*! ../../directives/resize */"./src/directives/resize/index.ts"),d=n(/*! ../../util/helpers */"./src/util/helpers.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},p=Object(h.default)(a.default,c.default,l.default);e.default=p.extend().extend({name:"v-tabs",directives:{Resize:u.default},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakPoint:{type:[Number,String],default:1264},nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:Boolean,sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data:function(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes:function(){return f({"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical},this.themeClasses)},isReversed:function(){return this.$vuetify.rtl&&this.vertical},sliderStyles:function(){return{height:Object(d.convertToUnit)(this.slider.height),left:this.isReversed?void 0:Object(d.convertToUnit)(this.slider.left),right:this.isReversed?Object(d.convertToUnit)(this.slider.right):void 0,top:this.vertical?Object(d.convertToUnit)(this.slider.top):void 0,transition:null==this.slider.left?"none":null,width:Object(d.convertToUnit)(this.slider.width)}},computedColor:function(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted:function(){var t=this;this.$nextTick((function(){window.setTimeout(t.callSlider,30)}))},methods:{callSlider:function(){var t=this;return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((function(){var e=t.$refs.items.selectedItems[0];if(!e||!e.$el)return t.slider.width=0,void(t.slider.left=0);var n=e.$el;t.slider={height:t.vertical?n.scrollHeight:+t.sliderSize,left:t.vertical?0:n.offsetLeft,right:t.vertical?0:n.offsetLeft+n.offsetWidth,top:n.offsetTop,width:t.vertical?+t.sliderSize:n.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar:function(t,e){var n=this,i={style:{height:Object(d.convertToUnit)(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakPoint:this.mobileBreakPoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:function(t){n.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,i),this.setBackgroundColor(this.backgroundColor,i),this.$createElement(r.default,i,[this.genSlider(e),t])},genItems:function(t,e){var n=this;return t||(e.length?this.$createElement(s.default,{props:{value:this.internalValue},on:{change:function(t){n.internalValue=t}}},e):null)},genSlider:function(t){return this.hideSlider?null:(t||(t=this.$createElement(o.default,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize:function(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes:function(){for(var t,e=null,n=null,i=[],r=[],s=this.$slots.default||[],o=s.length,a=0;a<o;a++)if((t=s[a]).componentOptions)switch(t.componentOptions.Ctor.options.name){case"v-tabs-slider":n=t;break;case"v-tabs-items":e=t;break;case"v-tab-item":i.push(t);break;default:r.push(t)}else r.push(t);return{tab:r,slider:n,items:e,item:i}}},render:function(t){var e=this.parseNodes(),n=e.tab,i=e.slider,r=e.items,s=e.item;return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(n,i),this.genItems(r,s)])}})},"./src/components/VTabs/VTabsBar.ts":
/*!******************************************!*\
  !*** ./src/components/VTabs/VTabsBar.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VSlideGroup/VSlideGroup */"./src/components/VSlideGroup/VSlideGroup.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),s=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(o.default)(i.BaseSlideGroup,s.default,r.default).extend({name:"v-tabs-bar",provide:function(){return{tabsBar:this}},computed:{classes:function(){return a({},i.BaseSlideGroup.options.computed.classes.call(this),{"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows},this.themeClasses)}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider:function(){this.isBooted&&this.$emit("call:slider")},genContent:function(){var t=i.BaseSlideGroup.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange:function(t,e){var n,i;if(!this.mandatory){var r=this.items,s=t.path,o=e.path,a=!1,c=!1;try{for(var l,u=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(r),d=u.next();!d.done&&((l=d.value).to===s?a=!0:l.to===o&&(c=!0),!a||!c);d=u.next());}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}!a&&c&&(this.internalValue=void 0)}}},render:function(t){var e=i.BaseSlideGroup.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}})},"./src/components/VTabs/VTabsItems.ts":
/*!********************************************!*\
  !*** ./src/components/VTabs/VTabsItems.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindow */"./src/components/VWindow/VWindow.ts"),r=n(/*! ./../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=i.default.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes:function(){return s({},i.default.options.computed.classes.call(this),{"v-tabs-items":!0})},isDark:function(){return this.rootIsDark}},methods:{getValue:function(t,e){return t.id||r.BaseItemGroup.options.methods.getValue.call(this,t,e)}}})},"./src/components/VTabs/VTabsSlider.ts":
/*!*********************************************!*\
  !*** ./src/components/VTabs/VTabsSlider.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(r.default)(i.default).extend({name:"v-tabs-slider",render:function(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}})},"./src/components/VTabs/index.ts":
/*!***************************************!*\
  !*** ./src/components/VTabs/index.ts ***!
  \***************************************/
/*! exports provided: VTabs, VTab, VTabItem, VTabsItems, VTabsSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTabs */"./src/components/VTabs/VTabs.ts");n.d(e,"VTabs",(function(){return i.default}));var r=n(/*! ./VTab */"./src/components/VTabs/VTab.ts");n.d(e,"VTab",(function(){return r.default}));var s=n(/*! ./VTabsItems */"./src/components/VTabs/VTabsItems.ts");n.d(e,"VTabsItems",(function(){return s.default}));var o=n(/*! ./VTabItem */"./src/components/VTabs/VTabItem.ts");n.d(e,"VTabItem",(function(){return o.default}));var a=n(/*! ./VTabsSlider */"./src/components/VTabs/VTabsSlider.ts");n.d(e,"VTabsSlider",(function(){return a.default})),e.default={$_vuetify_subcomponents:{VTabs:i.default,VTab:r.default,VTabsItems:s.default,VTabItem:o.default,VTabsSlider:a.default}}},"./src/components/VTextField/VTextField.sass":
/*!***************************************************!*\
  !*** ./src/components/VTextField/VTextField.sass ***!
  \***************************************************/
/*! no static exports found */function(){},"./src/components/VTextField/VTextField.ts":
/*!*************************************************!*\
  !*** ./src/components/VTextField/VTextField.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTextField.sass */"./src/components/VTextField/VTextField.sass"),r=(n.n(i),n(/*! ../VInput */"./src/components/VInput/index.ts")),s=n(/*! ../VCounter */"./src/components/VCounter/index.ts"),o=n(/*! ../VLabel */"./src/components/VLabel/index.ts"),a=n(/*! ../../mixins/loadable */"./src/mixins/loadable/index.ts"),c=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/console */"./src/util/console.ts"),d=n(/*! ../../util/mixins */"./src/util/mixins.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},f=Object(d.default)(r.default,a.default),p=["color","file","time","date","datetime-local","week","month"];e.default=f.extend().extend({name:"v-text-field",directives:{ripple:c.default},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}},computed:{classes:function(){return h({},r.default.options.computed.classes.call(this),{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped})},counterValue:function(){return(this.internalValue||"").toString().length},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty:function(){return null!=this.lazyValue&&0<this.lazyValue.toString().length||this.badInput},isEnclosed:function(){return this.filled||this.isSolo||this.outlined||this.fullWidth},isLabelActive:function(){return this.isDirty||p.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine||this.fullWidth},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel:function(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder)},labelValue:function(){return!this.isSingle&&!!(this.isFocused||this.isLabelActive||this.placeholder)}},watch:{labelValue:"setLabelWidth",outlined:"setLabelWidth",label:function(){this.$nextTick(this.setLabelWidth)},prefix:function(){this.$nextTick(this.setPrefixWidth)},isFocused:function(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},value:function(t){this.lazyValue=t}},created:function(){this.$attrs.hasOwnProperty("box")&&Object(u.breaking)("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(u.breaking)("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(u.consoleWarn)("shaped should be used with either filled or outlined",this)},mounted:function(){var t=this;this.autofocus&&this.onFocus(),this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth(),requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{focus:function(){this.onFocus()},blur:function(){var t=this;window.requestAnimationFrame((function(){t.$refs.input&&t.$refs.input.blur()}))},clearableCallback:function(){var t=this;this.$refs.input&&this.$refs.input.focus(),this.$nextTick((function(){return t.internalValue=null}))},genAppendSlot:function(){var t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot:function(){var t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot:function(){var t=r.default.options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon:function(){if(!this.clearable)return null;var t=this.isDirty?"clear":"";return this.genSlot("append","inner",[this.genIcon(t,this.clearableCallback)])},genCounter:function(){if(!1===this.counter||null==this.counter)return null;var t=!0===this.counter?this.attrs$.maxlength:this.counter;return this.$createElement(s.default,{props:{dark:this.dark,light:this.light,max:t,value:this.counterValue}})},genDefaultSlot:function(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset:function(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel:function(){if(!this.showLabel)return null;var t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.disabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(o.default,t,this.$slots.label||this.label)},genLegend:function(){var t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(l.convertToUnit)(t)}},[e])},genInput:function(){var t=Object.assign({},this.listeners$);return delete t.change,this.$createElement("input",{style:{},domProps:{value:this.lazyValue},attrs:h({},this.attrs$,{autofocus:this.autofocus,disabled:this.disabled,id:this.computedId,placeholder:this.placeholder,readonly:this.readonly,type:this.type}),on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input"})},genMessages:function(){return this.hideDetails?null:this.$createElement("div",{staticClass:"v-text-field__details"},[r.default.options.methods.genMessages.call(this),this.genCounter()])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(t){return this.$createElement("div",{class:"v-text-field__"+t,ref:t},this[t])},onBlur:function(t){var e=this;this.isFocused=!1,t&&this.$nextTick((function(){return e.$emit("blur",t)}))},onClick:function(){this.isFocused||this.disabled||!this.$refs.input||this.$refs.input.focus()},onFocus:function(t){return this.$refs.input?document.activeElement===this.$refs.input?void(!this.isFocused&&(this.isFocused=!0,t&&this.$emit("focus",t))):this.$refs.input.focus():void 0},onInput:function(t){var e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown:function(t){t.keyCode===l.keyCodes.enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown:function(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),r.default.options.methods.onMouseDown.call(this,t)},onMouseUp:function(t){this.hasMouseDown&&this.focus(),r.default.options.methods.onMouseUp.call(this,t)},setLabelWidth:function(){this.outlined&&this.$refs.label&&(this.labelWidth=.75*this.$refs.label.scrollWidth+6)},setPrefixWidth:function(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth:function(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)}}})},"./src/components/VTextField/index.ts":
/*!********************************************!*\
  !*** ./src/components/VTextField/index.ts ***!
  \********************************************/
/*! exports provided: VTextField, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTextField */"./src/components/VTextField/VTextField.ts");n.d(e,"VTextField",(function(){return i.default})),e.default=i.default},"./src/components/VTextarea/VTextarea.sass":
/*!*************************************************!*\
  !*** ./src/components/VTextarea/VTextarea.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VTextarea/VTextarea.ts":
/*!***********************************************!*\
  !*** ./src/components/VTextarea/VTextarea.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,n,i){"use strict";i.r(n);var r=i(/*! ./VTextarea.sass */"./src/components/VTextarea/VTextarea.sass"),s=(i.n(r),i(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.ts")),o=i(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=Object(o.default)(s.default);n.default=c.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return a({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},s.default.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var n=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=e(i,n)+"px"}},genInput:function(){var t=s.default.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){s.default.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},"./src/components/VTextarea/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VTextarea/index.ts ***!
  \*******************************************/
/*! exports provided: VTextarea, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTextarea */"./src/components/VTextarea/VTextarea.ts");n.d(e,"VTextarea",(function(){return i.default})),e.default=i.default},"./src/components/VTimePicker/VTimePicker.ts":
/*!***************************************************!*\
  !*** ./src/components/VTimePicker/VTimePicker.ts ***!
  \***************************************************/
/*! exports provided: SelectingTimes, default */function(t,e,n){"use strict";n.r(e),n.d(e,"SelectingTimes",(function(){return i}));var i,r=n(/*! ./VTimePickerTitle */"./src/components/VTimePicker/VTimePickerTitle.ts"),s=n(/*! ./VTimePickerClock */"./src/components/VTimePicker/VTimePickerClock.ts"),o=n(/*! ../../mixins/picker */"./src/mixins/picker/index.ts"),a=n(/*! ../../mixins/picker-button */"./src/mixins/picker-button/index.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=n(/*! ../VDatePicker/util/pad */"./src/components/VDatePicker/util/pad.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},h=Object(c.createRange)(24),f=Object(c.createRange)(12),p=f.map((function(t){return t+12})),m=Object(c.createRange)(60);!function(t){t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second"}(i||(i={}));var v={1:"hour",2:"minute",3:"second"};e.default=Object(u.default)(o.default,a.default).extend({name:"v-time-picker",props:{allowedHours:{type:[Function,Array]},allowedMinutes:{type:[Function,Array]},allowedSeconds:{type:[Function,Array]},disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:i.Hour}},computed:{selectingHour:{get:function(){return this.selecting===i.Hour},set:function(){this.selecting=i.Hour}},selectingMinute:{get:function(){return this.selecting===i.Minute},set:function(){this.selecting=i.Minute}},selectingSecond:{get:function(){return this.selecting===i.Second},set:function(){this.selecting=i.Second}},isAllowedHourCb:function(){var t,e=this;if(t=this.allowedHours instanceof Array?function(t){return e.allowedHours.includes(t)}:this.allowedHours,!this.min&&!this.max)return t;var n=this.min?+this.min.split(":")[0]:0,i=this.max?+this.max.split(":")[0]:23;return function(e){return e>=1*n&&e<=1*i&&(!t||t(e))}},isAllowedMinuteCb:function(){var t,e=this,n=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(t=this.allowedMinutes instanceof Array?function(t){return e.allowedMinutes.includes(t)}:this.allowedMinutes,!this.min&&!this.max)return n?t:function(){return!1};var i=d(this.min?this.min.split(":").map(Number):[0,0],2),r=i[0],s=i[1],o=d(this.max?this.max.split(":").map(Number):[23,59],2),a=o[0],c=o[1];return function(i){var o=60*e.inputHour+i;return o>=60*r+1*s&&o<=60*a+1*c&&n&&(!t||t(i))}},isAllowedSecondCb:function(){var t,e=this,n=(!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour))&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(t=this.allowedSeconds instanceof Array?function(t){return e.allowedSeconds.includes(t)}:this.allowedSeconds,!this.min&&!this.max)return n?t:function(){return!1};var i=d(this.min?this.min.split(":").map(Number):[0,0,0],3),r=i[0],s=i[1],o=i[2],a=d(this.max?this.max.split(":").map(Number):[23,59,59],3),c=a[0],l=a[1],u=a[2];return function(i){var a=3600*e.inputHour+60*e.inputMinute+i;return a>=3600*r+60*s+1*(o||0)&&a<=3600*c+60*l+1*(u||0)&&n&&(!t||t(i))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:Object(l.default)(this.inputHour)+":"+Object(l.default)(this.inputMinute)+(this.useSeconds?":"+Object(l.default)(this.inputSecond):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=d(t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||[,,,,,,],6),n=e[1],i=e[2],r=e[4],s=e[5];this.inputHour=s?this.convert12to24(parseInt(n,10),s):parseInt(n,10),this.inputMinute=parseInt(i,10),this.inputSecond=parseInt(r||0,10)}this.period=null==this.inputHour||12>this.inputHour?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===i.Hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===i.Minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:"+v[this.selecting],t);var e=this.selecting===(this.useSeconds?i.Second:i.Minute);if(this.selecting===i.Hour?this.selecting=i.Minute:this.useSeconds&&this.selecting===i.Minute&&(this.selecting=i.Second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var n=this.genValue();null===n||(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",n))}},firstAllowed:function(t,e){var n="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!n)return e;var i="minute"===t?m:"second"===t?m:this.isAmPm?12>e?f:p:h;return((i.find((function(t){return n((t+e)%i.length+i[0])}))||0)+e)%i.length+i[0]},genClock:function(){return this.$createElement(s.default,{props:{allowedValues:this.selecting===i.Hour?this.isAllowedHourCb:this.selecting===i.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===i.Hour&&!this.isAmPm,format:this.selecting===i.Hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(l.default)(t,2)},light:this.light,max:this.selecting===i.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===i.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:+this.width-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===i.Hour?1:5,value:this.selecting===i.Hour?this.inputHour:this.selecting===i.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm:function(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(r.default,{props:{ampm:this.ampmInTitle&&this.isAmPm,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":this.setPeriod},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}})},"./src/components/VTimePicker/VTimePickerClock.sass":
/*!**********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerClock.sass ***!
  \**********************************************************/
/*! no static exports found */function(){},"./src/components/VTimePicker/VTimePickerClock.ts":
/*!********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerClock.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimePickerClock.sass */"./src/components/VTimePicker/VTimePickerClock.sass"),s=(n.n(i),n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts")),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),d=n(/*! ../../util/mixins */"./src/util/mixins.ts"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(d.default)(s.default,l.default).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*o/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=c(-t.deltaY||1),n=this.displayedValue;do{n=((n+=e)-this.min+this.count)%this.count+this.min}while(!this.isAllowed(n)&&n!==this.displayedValue);n!==this.displayedValue&&this.update(n)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t,e=[],n=this.min;n<=this.max;n+=this.step)t=n===this.value&&(this.color||"accent"),e.push(this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":n===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(n)},style:this.getTransform(n),domProps:{innerHTML:"<span>"+this.format(n)+"</span>"}})));return e},genHand:function(){var t="scaleY("+this.handScale(this.displayedValue)+")",e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),n=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate("+e+"deg) "+t}}))},getTransform:function(t){var e=this.getPosition(t);return{left:50+50*e.x+"%",top:50+50*e.y+"%"}},getPosition:function(t){var e=this.rotate*o/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(t){t.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e,n=this.$refs.clock.getBoundingClientRect(),i=n.width,r=n.top,s=n.left,o=this.$refs.innerClock.getBoundingClientRect().width,a="touches"in t?t.touches[0]:t,c={x:i/2,y:-i/2},l={x:a.clientX-s,y:r-a.clientY},d=u(this.angle(c,l)-this.rotate+360)%360,h=this.double&&this.euclidean(c,l)<(o+o*this.innerRadiusScale)/4,f=(u(d/this.degreesPerUnit)+(h?this.roundCount:0))%this.count+this.min;e=d>=360-this.degreesPerUnit/2?h?this.max-this.roundCount+1:this.min:f,this.isAllowed(f)&&(null===this.valueOnMouseDown&&(this.valueOnMouseDown=e),this.valueOnMouseUp=e,this.update(e))}},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var n=e.x-t.x,i=e.y-t.y;return r(n*n+i*i)},angle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return a(180*n/o)}},render:function(t){var e=this;return t("div",{staticClass:"v-time-picker-clock",class:h({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:Object.assign({mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(t){return e.isDragging&&e.onMouseUp(t)},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},this.scrollable?{wheel:this.wheel}:{}),ref:"clock"},[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}})},"./src/components/VTimePicker/VTimePickerTitle.sass":
/*!**********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerTitle.sass ***!
  \**********************************************************/
/*! no static exports found */function(){},"./src/components/VTimePicker/VTimePickerTitle.ts":
/*!********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerTitle.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimePickerTitle.sass */"./src/components/VTimePicker/VTimePickerTitle.sass"),r=(n.n(i),n(/*! ../../mixins/picker-button */"./src/mixins/picker-button/index.ts")),s=n(/*! ../VDatePicker/util */"./src/components/VDatePicker/util/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ./VTimePicker */"./src/components/VTimePicker/VTimePicker.ts");e.default=Object(o.default)(r.default).extend({name:"v-time-picker-title",props:{ampm:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?t+"":Object(s.pad)(t),n=null==this.minute?"--":Object(s.pad)(this.minute),i=[this.genPickerButton("selecting",a.SelectingTimes.Hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",a.SelectingTimes.Minute,n,this.disabled)];if(this.useSeconds){var r=null==this.second?"--":Object(s.pad)(this.second);i.push(this.$createElement("span",":")),i.push(this.genPickerButton("selecting",a.SelectingTimes.Second,r,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},i)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm"},[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}})},"./src/components/VTimePicker/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VTimePicker/index.ts ***!
  \*********************************************/
/*! exports provided: VTimePicker, VTimePickerClock, VTimePickerTitle, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimePicker */"./src/components/VTimePicker/VTimePicker.ts");n.d(e,"VTimePicker",(function(){return i.default}));var r=n(/*! ./VTimePickerClock */"./src/components/VTimePicker/VTimePickerClock.ts");n.d(e,"VTimePickerClock",(function(){return r.default}));var s=n(/*! ./VTimePickerTitle */"./src/components/VTimePicker/VTimePickerTitle.ts");n.d(e,"VTimePickerTitle",(function(){return s.default})),e.default={$_vuetify_subcomponents:{VTimePicker:i.default,VTimePickerClock:r.default,VTimePickerTitle:s.default}}},"./src/components/VTimeline/VTimeline.sass":
/*!*************************************************!*\
  !*** ./src/components/VTimeline/VTimeline.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VTimeline/VTimeline.ts":
/*!***********************************************!*\
  !*** ./src/components/VTimeline/VTimeline.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimeline.sass */"./src/components/VTimeline/VTimeline.sass"),r=(n.n(i),n(/*! ../../util/mixins */"./src/util/mixins.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=Object(r.default)(s.default).extend({name:"v-timeline",provide:function(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes:function(){return o({"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse},this.themeClasses)}},render:function(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}})},"./src/components/VTimeline/VTimelineItem.ts":
/*!***************************************************!*\
  !*** ./src/components/VTimeline/VTimelineItem.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=Object(i.default)(o.default,s.default);e.default=c.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon:function(){return!!this.icon||!!this.$slots.icon}},methods:{genBody:function(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon:function(){return this.$slots.icon?this.$slots.icon:this.$createElement(r.default,{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot:function(){var t=this.setBackgroundColor(this.color);return this.$createElement("div",a({staticClass:"v-timeline-item__inner-dot"},t),[this.hasIcon&&this.genIcon()])},genDot:function(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider:function(){var t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite:function(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render:function(t){var e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:a({"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right},this.themeClasses)},e)}})},"./src/components/VTimeline/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VTimeline/index.ts ***!
  \*******************************************/
/*! exports provided: VTimeline, VTimelineItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimeline */"./src/components/VTimeline/VTimeline.ts");n.d(e,"VTimeline",(function(){return i.default}));var r=n(/*! ./VTimelineItem */"./src/components/VTimeline/VTimelineItem.ts");n.d(e,"VTimelineItem",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VTimeline:i.default,VTimelineItem:r.default}}},"./src/components/VToolbar/VToolbar.sass":
/*!***********************************************!*\
  !*** ./src/components/VToolbar/VToolbar.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VToolbar/VToolbar.ts":
/*!*********************************************!*\
  !*** ./src/components/VToolbar/VToolbar.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VToolbar.sass */"./src/components/VToolbar/VToolbar.sass"),r=(n.n(i),n(/*! ../VSheet/VSheet */"./src/components/VSheet/VSheet.ts")),s=n(/*! ../VImg/VImg */"./src/components/VImg/VImg.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.default.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"},tile:{type:Boolean,default:!0}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var t=this.computedContentHeight;if(!this.isExtended)return t;var e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return c({},r.default.options.computed.classes.call(this),{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return c({},this.measurableStyles,{height:Object(o.convertToUnit)(this.computedHeight)})}},created:function(){var t=this;[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]].forEach((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e,2),i=n[0],r=n[1];t.$attrs.hasOwnProperty(i)&&Object(a.breaking)(i,r,t)}))},methods:{genBackground:function(){var t={height:Object(o.convertToUnit)(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(s.default,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(o.convertToUnit)(this.computedContentHeight)}},Object(o.getSlot)(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(o.convertToUnit)(this.extensionHeight)}},Object(o.getSlot)(this,"extension"))}},render:function(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;var e=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,n,e)}})},"./src/components/VToolbar/index.ts":
/*!******************************************!*\
  !*** ./src/components/VToolbar/index.ts ***!
  \******************************************/
/*! exports provided: VToolbar, VToolbarItems, VToolbarTitle, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VToolbarItems",(function(){return o})),n.d(e,"VToolbarTitle",(function(){return s}));var i=n(/*! ./VToolbar */"./src/components/VToolbar/VToolbar.ts");n.d(e,"VToolbar",(function(){return i.default}));var r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=Object(r.createSimpleFunctional)("v-toolbar__title"),o=Object(r.createSimpleFunctional)("v-toolbar__items");e.default={$_vuetify_subcomponents:{VToolbar:i.default,VToolbarItems:o,VToolbarTitle:s}}},"./src/components/VTooltip/VTooltip.sass":
/*!***********************************************!*\
  !*** ./src/components/VTooltip/VTooltip.sass ***!
  \***********************************************/
/*! no static exports found */function(){},"./src/components/VTooltip/VTooltip.ts":
/*!*********************************************!*\
  !*** ./src/components/VTooltip/VTooltip.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTooltip.sass */"./src/components/VTooltip/VTooltip.sass"),r=(n.n(i),n(/*! ../../mixins/activatable */"./src/mixins/activatable/index.ts")),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),o=n(/*! ../../mixins/delayable */"./src/mixins/delayable/index.ts"),a=n(/*! ../../mixins/dependent */"./src/mixins/dependent/index.ts"),c=n(/*! ../../mixins/detachable */"./src/mixins/detachable/index.ts"),l=n(/*! ../../mixins/menuable */"./src/mixins/menuable/index.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable/index.ts"),d=n(/*! ../../util/helpers */"./src/util/helpers.ts"),h=n(/*! ../../util/console */"./src/util/console.ts"),f=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(f.default)(s.default,o.default,a.default,c.default,l.default,u.default).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!(this.bottom||this.left||this.top||this.right),r=!1===this.attach?e.left:e.offsetLeft,s=0;return this.top||this.bottom||i?s=r+e.width/2-n.width/2:(this.left||this.right)&&(s=r+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!1===this.attach?e.top:e.offsetTop,r=0;return this.top||this.bottom?r=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=i+e.height/2-n.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),this.calcYOverflow(r+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(d.convertToUnit)(this.maxWidth),minWidth:Object(d.convertToUnit)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(d.getSlotType)(this,"activator",!0)&&Object(h.consoleError)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=r.default.options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===d.keyCodes.esc&&(t.getActivator(e),t.runDelay("close"))},e}},render:function(t){var e,n=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},e[this.contentClass]=!0,e.menuable__content__active=this.isActive,e["v-tooltip__content--fixed"]=this.activatorFixed,e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.getContentSlot()));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[n]),this.genActivator()])}})},"./src/components/VTooltip/index.ts":
/*!******************************************!*\
  !*** ./src/components/VTooltip/index.ts ***!
  \******************************************/
/*! exports provided: VTooltip, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTooltip */"./src/components/VTooltip/VTooltip.ts");n.d(e,"VTooltip",(function(){return i.default})),e.default=i.default},"./src/components/VTreeview/VTreeview.sass":
/*!*************************************************!*\
  !*** ./src/components/VTreeview/VTreeview.sass ***!
  \*************************************************/
/*! no static exports found */function(){},"./src/components/VTreeview/VTreeview.ts":
/*!***********************************************!*\
  !*** ./src/components/VTreeview/VTreeview.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTreeview.sass */"./src/components/VTreeview/VTreeview.sass"),r=(n.n(i),n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts")),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=n(/*! ../../util/console */"./src/util/console.ts"),u=n(/*! ./util/filterTreeItems */"./src/components/VTreeview/util/filterTreeItems.ts"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},h=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t};e.default=Object(c.default)(Object(o.provide)("treeview"),s.default).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:d({active:{type:Array,default:function(){return[]}},dense:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,selectionType:{type:String,default:"leaf",validator:function(t){return["leaf","independent"].includes(t)}},value:{type:Array,default:function(){return[]}}},r.VTreeviewNodeProps),data:function(){return{activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var t=new Set;if(!this.search)return t;for(var e=0;e<this.items.length;e++)Object(u.filterTreeItems)(this.filter||u.filterTreeItem,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler:function(){var t=this,e=Object.keys(this.nodes).map((function(e){return Object(a.getObjectValueByPath)(t.nodes[e].item,t.itemKey)})),n=this.getKeys(this.items),i=Object(a.arrayDiff)(n,e);if(i.length||!(n.length<e.length)){i.forEach((function(e){return delete t.nodes[e]}));var r=f(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(a.deepEqual)(r,f(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value:function(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var t=this;this.buildTree(this.items),this.value.forEach((function(e){return t.updateSelected(e,!0)})),this.active.forEach((function(e){return t.updateActive(e,!0)}))},mounted:function(){var t=this;(this.$slots.prepend||this.$slots.append)&&Object(l.consoleWarn)("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(e){return t.updateOpen(e,!0)})),this.emitOpen())},methods:{updateAll:function(t){var e=this;Object.keys(this.nodes).forEach((function(n){return e.updateOpen(Object(a.getObjectValueByPath)(e.nodes[n].item,e.itemKey),t)})),this.emitOpen()},getKeys:function(t,e){void 0===e&&(e=[]);for(var n,i=0;i<t.length;i++){n=Object(a.getObjectValueByPath)(t[i],this.itemKey),e.push(n);var r=Object(a.getObjectValueByPath)(t[i],this.itemChildren);r&&e.push.apply(e,f(this.getKeys(r)))}return e},buildTree:function(t,e){var n=this;void 0===e&&(e=null);for(var i=0;i<t.length;i++){var r=t[i],s=Object(a.getObjectValueByPath)(r,this.itemKey),o=Object(a.getObjectValueByPath)(r,this.itemChildren,[]),c=this.nodes.hasOwnProperty(s)?this.nodes[s]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},l={vnode:c.vnode,parent:e,children:o.map((function(t){return Object(a.getObjectValueByPath)(t,n.itemKey)})),item:r};this.buildTree(o,s),!this.nodes.hasOwnProperty(s)&&null!==e&&this.nodes.hasOwnProperty(e)?(l.isSelected=this.nodes[e].isSelected,l.isIndeterminate=this.nodes[e].isIndeterminate):(l.isSelected=c.isSelected,l.isIndeterminate=c.isIndeterminate),l.isActive=c.isActive,l.isOpen=c.isOpen,this.nodes[s]=o.length?this.calculateState(l,this.nodes):l,this.nodes[s].isSelected&&this.selectedCache.add(s),this.nodes[s].isActive&&this.activeCache.add(s),this.nodes[s].isOpen&&this.openCache.add(s),this.updateVnodeState(s)}},calculateState:function(t,e){var n=t.children.reduce((function(t,n){return t[0]+=+!!e[n].isSelected,t[1]+=+!!e[n].isIndeterminate,t}),[0,0]);return t.isSelected=!!t.children.length&&n[0]===t.children.length,t.isIndeterminate=!t.isSelected&&(0<n[0]||0<n[1]),t},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(t,e){var n=this;this.$emit(t,this.returnObject?f(e).map((function(t){return n.nodes[t].item})):f(e))},handleNodeCacheWatcher:function(t,e,n,i){var r=this;t=this.returnObject?t.map((function(t){return Object(a.getObjectValueByPath)(t,r.itemKey)})):t;var s=f(e);Object(a.deepEqual)(s,t)||(s.forEach((function(t){return n(t,!1)})),t.forEach((function(t){return n(t,!0)})),i())},getDescendants:function(t,e){void 0===e&&(e=[]);var n=this.nodes[t].children;e.push.apply(e,f(n));for(var i=0;i<n.length;i++)e=this.getDescendants(n[i],e);return e},getParents:function(t){for(var e=this.nodes[t].parent,n=[];null!==e;)n.push(e),e=this.nodes[e].parent;return n},register:function(t){var e=Object(a.getObjectValueByPath)(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister:function(t){var e=Object(a.getObjectValueByPath)(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent:function(t){return this.nodes[t].children&&this.nodes[t].children.length},updateActive:function(t,e){var n=this;if(this.nodes.hasOwnProperty(t)){this.multipleActive||this.activeCache.forEach((function(t){n.nodes[t].isActive=!1,n.updateVnodeState(t),n.activeCache.delete(t)}));var i=this.nodes[t];i&&(e?this.activeCache.add(t):this.activeCache.delete(t),i.isActive=e,this.updateVnodeState(t))}},updateSelected:function(t,e){var n,i,r=this;if(this.nodes.hasOwnProperty(t)){var s=new Map;if("independent"!==this.selectionType)f([t],this.getDescendants(t)).forEach((function(t){r.nodes[t].isSelected=e,r.nodes[t].isIndeterminate=!1,s.set(t,e)})),this.getParents(t).forEach((function(t){r.nodes[t]=r.calculateState(r.nodes[t],r.nodes),s.set(t,r.nodes[t].isSelected)}));else this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=!1,s.set(t,e);try{for(var o=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(s.entries()),a=o.next();!a.done;a=o.next()){var c=h(a.value,2),l=c[0],u=c[1];this.updateVnodeState(l),"leaf"===this.selectionType&&this.isParent(l)||(!0===u?this.selectedCache.add(l):this.selectedCache.delete(l))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},updateOpen:function(t,e){var n=this;if(this.nodes.hasOwnProperty(t)){var i=this.nodes[t],r=Object(a.getObjectValueByPath)(i.item,this.itemChildren);r&&!r.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then((function(){return n.updateOpen(t,e)})):r&&r.length&&(i.isOpen=e,i.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))}},updateVnodeState:function(t){var e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded:function(t){return!!this.search&&this.excludedItems.has(t)}},render:function(t){var e=this.items.length?this.items.map(r.default.options.methods.genChild.bind(this)):this.$slots.default;return t("div",{staticClass:"v-treeview",class:d({"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense},this.themeClasses)},e)}})},"./src/components/VTreeview/VTreeviewNode.ts":
/*!***************************************************!*\
  !*** ./src/components/VTreeview/VTreeviewNode.ts ***!
  \***************************************************/
/*! exports provided: VTreeviewNodeProps, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VTreeviewNodeProps",(function(){return h}));var i=n(/*! ../transitions */"./src/components/transitions/index.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),s=n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts"),o=n(/*! ../../mixins/registrable */"./src/mixins/registrable/index.ts"),a=n(/*! ../../mixins/colorable */"./src/mixins/colorable/index.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=Object(c.default)(a.default,Object(o.inject)("treeview")),h={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean};e.default=d.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:u({item:{type:Object,default:function(){return null}}},h),data:function(){return{hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}},computed:{disabled:function(){return Object(l.getObjectValueByPath)(this.item,this.itemDisabled)},key:function(){return Object(l.getObjectValueByPath)(this.item,this.itemKey)},children:function(){return Object(l.getObjectValueByPath)(this.item,this.itemChildren)},text:function(){return Object(l.getObjectValueByPath)(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!(!this.children||!this.children.length&&!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var t=this;return new Promise((function(e){return!t.children||t.children.length||!t.loadChildren||t.hasLoaded?e():(t.isLoading=!0,void e(t.loadChildren(t.item)))})).then((function(){t.isLoading=!1,t.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genContent:function(){var t=[this.$scopedSlots.prepend&&this.$scopedSlots.prepend(this.scopedProps),this.genLabel(),this.$scopedSlots.append&&this.$scopedSlots.append(this.scopedProps)];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle:function(){var t=this;return this.$createElement(r.VIcon,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:function(e){t.disabled||(e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){return t.open()})))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var t=this;return this.$createElement(r.VIcon,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected?this.selectedColor:void 0},on:{click:function(e){t.disabled||(e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){t.$nextTick((function(){t.isSelected=!t.isSelected,t.isIndeterminate=!1,t.treeview.updateSelected(t.key,t.isSelected),t.treeview.emitSelected()}))})))}}},[this.computedIcon])},genNode:function(){var t,e=this,n=[this.genContent()];return this.selectable&&n.unshift(this.genCheckbox()),this.hasChildren&&n.unshift(this.genToggle()),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:(t={},t[this.activeClass]=this.isActive,t),on:{click:function(){e.disabled||(e.openOnClick&&e.hasChildren?e.open():e.activatable&&(e.isActive=!e.isActive,e.treeview.updateActive(e.key,e.isActive),e.treeview.emitActive()))}}}),n)},genChild:function(t){return this.$createElement(s.default,{key:Object(l.getObjectValueByPath)(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){if(!this.isOpen||!this.children)return null;var t=[this.children.map(this.genChild)];return this.$createElement("div",{staticClass:"v-treeview-node__children"},t)},genTransition:function(){return this.$createElement(i.VExpandTransition,[this.genChildrenWrapper()])}},render:function(t){var e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected,"v-treeview-node--excluded":this.treeview.isExcluded(this.key)},attrs:{"aria-expanded":this.isOpen+""}},e)}})},"./src/components/VTreeview/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VTreeview/index.ts ***!
  \*******************************************/
/*! exports provided: VTreeview, VTreeviewNode, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTreeview */"./src/components/VTreeview/VTreeview.ts");n.d(e,"VTreeview",(function(){return i.default}));var r=n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts");n.d(e,"VTreeviewNode",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VTreeview:i.default,VTreeviewNode:r.default}}},"./src/components/VTreeview/util/filterTreeItems.ts":
/*!**********************************************************!*\
  !*** ./src/components/VTreeview/util/filterTreeItems.ts ***!
  \**********************************************************/
/*! exports provided: filterTreeItem, filterTreeItems */function(t,e,n){"use strict";function i(t,e,n){return-1<Object(s.getObjectValueByPath)(t,n).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}function r(t,e,n,i,o,a,c){if(t(e,n,o))return!0;var l=Object(s.getObjectValueByPath)(e,a);if(l){for(var u=!1,d=0;d<l.length;d++)r(t,l[d],n,i,o,a,c)&&(u=!0);if(u)return!0}return c.add(Object(s.getObjectValueByPath)(e,i)),!1}n.r(e),n.d(e,"filterTreeItem",(function(){return i})),n.d(e,"filterTreeItems",(function(){return r}));var s=n(/*! ../../../util/helpers */"./src/util/helpers.ts")},"./src/components/VWindow/VWindow.sass":
/*!*********************************************!*\
  !*** ./src/components/VWindow/VWindow.sass ***!
  \*********************************************/
/*! no static exports found */function(){},"./src/components/VWindow/VWindow.ts":
/*!*******************************************!*\
  !*** ./src/components/VWindow/VWindow.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VWindow.sass */"./src/components/VWindow/VWindow.sass"),r=(n.n(i),n(/*! ../VBtn */"./src/components/VBtn/index.ts")),s=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),a=n(/*! ../../directives/touch */"./src/directives/touch/index.ts"),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=o.BaseItemGroup.extend({name:"v-window",provide:function(){return{windowGroup:this}},directives:{Touch:a.default},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:{type:Boolean,default:void 0},showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive:function(){return 0<this.transitionCount},classes:function(){return c({},o.BaseItemGroup.options.computed.classes.call(this),{"v-window--show-arrows-on-hover":this.showArrowsOnHover})},computedTransition:function(){return this.isBooted?"v-window-"+(this.vertical?"y":"x")+(this.internalReverse?"-reverse":"")+"-transition":""},hasActiveItems:function(){return!!this.items.find((function(t){return!t.disabled}))},hasNext:function(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev:function(){return this.continuous||0<this.internalIndex},internalIndex:function(){var t=this;return this.items.findIndex((function(e,n){return t.internalValue===t.getValue(e,n)}))},internalReverse:function(){return void 0===this.reverse?this.isReverse:this.reverse}},watch:{internalIndex:"updateReverse"},mounted:function(){var t=this;window.requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{genContainer:function(){var t=[this.$slots.default];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon:function(t,e,n){var i=this;return this.$createElement("div",{staticClass:"v-window__"+t},[this.$createElement(r.default,{props:{icon:!0},attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel."+t)},on:{click:function(){i.changedByDelimiters=!0,n()}}},[this.$createElement(s.default,{props:{large:!0}},e)])])},genControlIcons:function(){var t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;this.hasPrev&&e&&"string"==typeof e&&((n=this.genIcon("prev",e,this.prev))&&t.push(n));var n,i=this.$vuetify.rtl?this.prevIcon:this.nextIcon;this.hasNext&&i&&"string"==typeof i&&((n=this.genIcon("next",i,this.next))&&t.push(n));return t},getNextIndex:function(t){var e=(t+1)%this.items.length;return this.items[e].disabled?this.getNextIndex(e):e},getPrevIndex:function(t){var e=(t+this.items.length-1)%this.items.length;return this.items[e].disabled?this.getPrevIndex(e):e},next:function(){if(this.isReverse=this.$vuetify.rtl,this.hasActiveItems&&this.hasNext){var t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},prev:function(){if(this.isReverse=!this.$vuetify.rtl,this.hasActiveItems&&this.hasPrev){var t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},updateReverse:function(t,e){return this.changedByDelimiters?void(this.changedByDelimiters=!1):void(this.isReverse=t<e)}},render:function(t){var e=this,n={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){var i=this.touch||{left:function(){e.$vuetify.rtl?e.prev():e.next()},right:function(){e.$vuetify.rtl?e.next():e.prev()},end:function(t){t.stopPropagation()},start:function(t){t.stopPropagation()}};n.directives.push({name:"touch",value:i})}return t("div",n,[this.genContainer()])}})},"./src/components/VWindow/VWindowItem.ts":
/*!***********************************************!*\
  !*** ./src/components/VWindow/VWindowItem.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/bootable */"./src/mixins/bootable/index.ts"),r=n(/*! ../../mixins/groupable */"./src/mixins/groupable/index.ts"),s=n(/*! ../../directives/touch */"./src/directives/touch/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=Object(a.default)(i.default,Object(r.factory)("windowGroup","v-window-item","v-window"));e.default=c.extend().extend().extend({name:"v-window-item",directives:{Touch:s.default},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?void 0===this.reverseTransition?this.windowGroup.computedTransition:this.reverseTransition||"":void 0===this.transition?this.windowGroup.computedTransition:this.transition||""}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.showLazyContent(this.genDefaultSlot()))},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,0<this.windowGroup.transitionCount&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(o.convertToUnit)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(o.convertToUnit)(t.clientHeight))}))}},render:function(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},[this.genWindowItem()])}})},"./src/components/VWindow/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VWindow/index.ts ***!
  \*****************************************/
/*! exports provided: VWindow, VWindowItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VWindow */"./src/components/VWindow/VWindow.ts");n.d(e,"VWindow",(function(){return i.default}));var r=n(/*! ./VWindowItem */"./src/components/VWindow/VWindowItem.ts");n.d(e,"VWindowItem",(function(){return r.default})),e.default={$_vuetify_subcomponents:{VWindow:i.default,VWindowItem:r.default}}},"./src/components/index.ts":
/*!*********************************!*\
  !*** ./src/components/index.ts ***!
  \*********************************/
/*! exports provided: VApp, VAppBar, VAppBarNavIcon, VAlert, VAutocomplete, VAvatar, VBadge, VBanner, VBottomNavigation, VBottomSheet, VBreadcrumbs, VBreadcrumbsItem, VBreadcrumbsDivider, VBtn, VBtnToggle, VCalendar, VCalendarDaily, VCalendarWeekly, VCalendarMonthly, VCard, VCardActions, VCardSubtitle, VCardText, VCardTitle, VCarousel, VCarouselItem, VCheckbox, VSimpleCheckbox, VChip, VChipGroup, VColorPicker, VColorPickerSwatches, VColorPickerCanvas, VContent, VCombobox, VCounter, VData, VDataIterator, VDataFooter, VDataTable, VEditDialog, VTableOverflow, VDataTableHeader, VSimpleTable, VVirtualTable, VDatePicker, VDatePickerTitle, VDatePickerHeader, VDatePickerDateTable, VDatePickerMonthTable, VDatePickerYears, VDialog, VDivider, VExpansionPanels, VExpansionPanel, VExpansionPanelHeader, VExpansionPanelContent, VFileInput, VFooter, VForm, VContainer, VCol, VRow, VSpacer, VLayout, VFlex, VHover, VIcon, VImg, VInput, VItem, VItemGroup, VLabel, VLazy, VListItemActionText, VListItemContent, VListItemTitle, VListItemSubtitle, VList, VListGroup, VListItem, VListItemAction, VListItemAvatar, VListItemIcon, VListItemGroup, VMenu, VMessages, VNavigationDrawer, VOverflowBtn, VOverlay, VPagination, VSheet, VParallax, VPicker, VProgressCircular, VProgressLinear, VRadioGroup, VRadio, VRangeSlider, VRating, VResponsive, VSelect, VSkeletonLoader, VSlider, VSlideGroup, VSlideItem, VSnackbar, VSparkline, VSpeedDial, VStepper, VStepperContent, VStepperStep, VStepperHeader, VStepperItems, VSubheader, VSwitch, VSystemBar, VTabs, VTab, VTabItem, VTabsItems, VTabsSlider, VTextarea, VTextField, VTimeline, VTimelineItem, VTimePicker, VTimePickerClock, VTimePickerTitle, VToolbar, VToolbarItems, VToolbarTitle, VTooltip, VTreeview, VTreeviewNode, VWindow, VWindowItem, VCarouselTransition, VCarouselReverseTransition, VTabTransition, VTabReverseTransition, VMenuTransition, VFabTransition, VDialogTransition, VDialogBottomTransition, VFadeTransition, VScaleTransition, VScrollXTransition, VScrollXReverseTransition, VScrollYTransition, VScrollYReverseTransition, VSlideXTransition, VSlideXReverseTransition, VSlideYTransition, VSlideYReverseTransition, VExpandTransition, VExpandXTransition */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VApp */"./src/components/VApp/index.ts");n.d(e,"VApp",(function(){return i.VApp}));var r=n(/*! ./VAppBar */"./src/components/VAppBar/index.ts");n.d(e,"VAppBar",(function(){return r.VAppBar})),n.d(e,"VAppBarNavIcon",(function(){return r.VAppBarNavIcon}));var s=n(/*! ./VAlert */"./src/components/VAlert/index.ts");n.d(e,"VAlert",(function(){return s.VAlert}));var o=n(/*! ./VAutocomplete */"./src/components/VAutocomplete/index.ts");n.d(e,"VAutocomplete",(function(){return o.VAutocomplete}));var a=n(/*! ./VAvatar */"./src/components/VAvatar/index.ts");n.d(e,"VAvatar",(function(){return a.VAvatar}));var c=n(/*! ./VBadge */"./src/components/VBadge/index.ts");n.d(e,"VBadge",(function(){return c.VBadge}));var l=n(/*! ./VBanner */"./src/components/VBanner/index.ts");n.d(e,"VBanner",(function(){return l.VBanner}));var u=n(/*! ./VBottomNavigation */"./src/components/VBottomNavigation/index.ts");n.d(e,"VBottomNavigation",(function(){return u.VBottomNavigation}));var d=n(/*! ./VBottomSheet */"./src/components/VBottomSheet/index.ts");n.d(e,"VBottomSheet",(function(){return d.VBottomSheet}));var h=n(/*! ./VBreadcrumbs */"./src/components/VBreadcrumbs/index.ts");n.d(e,"VBreadcrumbs",(function(){return h.VBreadcrumbs})),n.d(e,"VBreadcrumbsItem",(function(){return h.VBreadcrumbsItem})),n.d(e,"VBreadcrumbsDivider",(function(){return h.VBreadcrumbsDivider}));var f=n(/*! ./VBtn */"./src/components/VBtn/index.ts");n.d(e,"VBtn",(function(){return f.VBtn}));var p=n(/*! ./VBtnToggle */"./src/components/VBtnToggle/index.ts");n.d(e,"VBtnToggle",(function(){return p.VBtnToggle}));var m=n(/*! ./VCalendar */"./src/components/VCalendar/index.ts");n.d(e,"VCalendar",(function(){return m.VCalendar})),n.d(e,"VCalendarDaily",(function(){return m.VCalendarDaily})),n.d(e,"VCalendarWeekly",(function(){return m.VCalendarWeekly})),n.d(e,"VCalendarMonthly",(function(){return m.VCalendarMonthly}));var v=n(/*! ./VCard */"./src/components/VCard/index.ts");n.d(e,"VCard",(function(){return v.VCard})),n.d(e,"VCardActions",(function(){return v.VCardActions})),n.d(e,"VCardSubtitle",(function(){return v.VCardSubtitle})),n.d(e,"VCardText",(function(){return v.VCardText})),n.d(e,"VCardTitle",(function(){return v.VCardTitle}));var g=n(/*! ./VCarousel */"./src/components/VCarousel/index.ts");n.d(e,"VCarousel",(function(){return g.VCarousel})),n.d(e,"VCarouselItem",(function(){return g.VCarouselItem}));var y=n(/*! ./VCheckbox */"./src/components/VCheckbox/index.ts");n.d(e,"VCheckbox",(function(){return y.VCheckbox})),n.d(e,"VSimpleCheckbox",(function(){return y.VSimpleCheckbox}));var b=n(/*! ./VChip */"./src/components/VChip/index.ts");n.d(e,"VChip",(function(){return b.VChip}));var x=n(/*! ./VChipGroup */"./src/components/VChipGroup/index.ts");n.d(e,"VChipGroup",(function(){return x.VChipGroup}));var V=n(/*! ./VColorPicker */"./src/components/VColorPicker/index.ts");n.d(e,"VColorPicker",(function(){return V.VColorPicker})),n.d(e,"VColorPickerSwatches",(function(){return V.VColorPickerSwatches})),n.d(e,"VColorPickerCanvas",(function(){return V.VColorPickerCanvas}));var S=n(/*! ./VContent */"./src/components/VContent/index.ts");n.d(e,"VContent",(function(){return S.VContent}));var C=n(/*! ./VCombobox */"./src/components/VCombobox/index.ts");n.d(e,"VCombobox",(function(){return C.VCombobox}));var k=n(/*! ./VCounter */"./src/components/VCounter/index.ts");n.d(e,"VCounter",(function(){return k.VCounter}));var w=n(/*! ./VData */"./src/components/VData/index.ts");n.d(e,"VData",(function(){return w.VData}));var O=n(/*! ./VDataIterator */"./src/components/VDataIterator/index.ts");n.d(e,"VDataIterator",(function(){return O.VDataIterator})),n.d(e,"VDataFooter",(function(){return O.VDataFooter}));var T=n(/*! ./VDataTable */"./src/components/VDataTable/index.ts");n.d(e,"VDataTable",(function(){return T.VDataTable})),n.d(e,"VEditDialog",(function(){return T.VEditDialog})),n.d(e,"VTableOverflow",(function(){return T.VTableOverflow})),n.d(e,"VDataTableHeader",(function(){return T.VDataTableHeader})),n.d(e,"VSimpleTable",(function(){return T.VSimpleTable})),n.d(e,"VVirtualTable",(function(){return T.VVirtualTable}));var $=n(/*! ./VDatePicker */"./src/components/VDatePicker/index.ts");n.d(e,"VDatePicker",(function(){return $.VDatePicker})),n.d(e,"VDatePickerTitle",(function(){return $.VDatePickerTitle})),n.d(e,"VDatePickerHeader",(function(){return $.VDatePickerHeader})),n.d(e,"VDatePickerDateTable",(function(){return $.VDatePickerDateTable})),n.d(e,"VDatePickerMonthTable",(function(){return $.VDatePickerMonthTable})),n.d(e,"VDatePickerYears",(function(){return $.VDatePickerYears}));var _=n(/*! ./VDialog */"./src/components/VDialog/index.ts");n.d(e,"VDialog",(function(){return _.VDialog}));var I=n(/*! ./VDivider */"./src/components/VDivider/index.ts");n.d(e,"VDivider",(function(){return I.VDivider}));var j=n(/*! ./VExpansionPanel */"./src/components/VExpansionPanel/index.ts");n.d(e,"VExpansionPanels",(function(){return j.VExpansionPanels})),n.d(e,"VExpansionPanel",(function(){return j.VExpansionPanel})),n.d(e,"VExpansionPanelHeader",(function(){return j.VExpansionPanelHeader})),n.d(e,"VExpansionPanelContent",(function(){return j.VExpansionPanelContent}));var A=n(/*! ./VFileInput */"./src/components/VFileInput/index.ts");n.d(e,"VFileInput",(function(){return A.VFileInput}));var D=n(/*! ./VFooter */"./src/components/VFooter/index.ts");n.d(e,"VFooter",(function(){return D.VFooter}));var B=n(/*! ./VForm */"./src/components/VForm/index.ts");n.d(e,"VForm",(function(){return B.VForm}));var P=n(/*! ./VGrid */"./src/components/VGrid/index.ts");n.d(e,"VContainer",(function(){return P.VContainer})),n.d(e,"VCol",(function(){return P.VCol})),n.d(e,"VRow",(function(){return P.VRow})),n.d(e,"VSpacer",(function(){return P.VSpacer})),n.d(e,"VLayout",(function(){return P.VLayout})),n.d(e,"VFlex",(function(){return P.VFlex}));var E=n(/*! ./VHover */"./src/components/VHover/index.ts");n.d(e,"VHover",(function(){return E.VHover}));var L=n(/*! ./VIcon */"./src/components/VIcon/index.ts");n.d(e,"VIcon",(function(){return L.VIcon}));var M=n(/*! ./VImg */"./src/components/VImg/index.ts");n.d(e,"VImg",(function(){return M.VImg}));var F=n(/*! ./VInput */"./src/components/VInput/index.ts");n.d(e,"VInput",(function(){return F.VInput}));var H=n(/*! ./VItemGroup */"./src/components/VItemGroup/index.ts");n.d(e,"VItem",(function(){return H.VItem})),n.d(e,"VItemGroup",(function(){return H.VItemGroup}));var N=n(/*! ./VLabel */"./src/components/VLabel/index.ts");n.d(e,"VLabel",(function(){return N.VLabel}));var R=n(/*! ./VLazy */"./src/components/VLazy/index.ts");n.d(e,"VLazy",(function(){return R.VLazy}));var z=n(/*! ./VList */"./src/components/VList/index.ts");n.d(e,"VListItemActionText",(function(){return z.VListItemActionText})),n.d(e,"VListItemContent",(function(){return z.VListItemContent})),n.d(e,"VListItemTitle",(function(){return z.VListItemTitle})),n.d(e,"VListItemSubtitle",(function(){return z.VListItemSubtitle})),n.d(e,"VList",(function(){return z.VList})),n.d(e,"VListGroup",(function(){return z.VListGroup})),n.d(e,"VListItem",(function(){return z.VListItem})),n.d(e,"VListItemAction",(function(){return z.VListItemAction})),n.d(e,"VListItemAvatar",(function(){return z.VListItemAvatar})),n.d(e,"VListItemIcon",(function(){return z.VListItemIcon})),n.d(e,"VListItemGroup",(function(){return z.VListItemGroup}));var W=n(/*! ./VMenu */"./src/components/VMenu/index.ts");n.d(e,"VMenu",(function(){return W.VMenu}));var G=n(/*! ./VMessages */"./src/components/VMessages/index.ts");n.d(e,"VMessages",(function(){return G.VMessages}));var U=n(/*! ./VNavigationDrawer */"./src/components/VNavigationDrawer/index.ts");n.d(e,"VNavigationDrawer",(function(){return U.VNavigationDrawer}));var Y=n(/*! ./VOverflowBtn */"./src/components/VOverflowBtn/index.ts");n.d(e,"VOverflowBtn",(function(){return Y.VOverflowBtn}));var q=n(/*! ./VOverlay */"./src/components/VOverlay/index.ts");n.d(e,"VOverlay",(function(){return q.VOverlay}));var X=n(/*! ./VPagination */"./src/components/VPagination/index.ts");n.d(e,"VPagination",(function(){return X.VPagination}));var K=n(/*! ./VSheet */"./src/components/VSheet/index.ts");n.d(e,"VSheet",(function(){return K.VSheet}));var Z=n(/*! ./VParallax */"./src/components/VParallax/index.ts");n.d(e,"VParallax",(function(){return Z.VParallax}));var J=n(/*! ./VPicker */"./src/components/VPicker/index.ts");n.d(e,"VPicker",(function(){return J.VPicker}));var Q=n(/*! ./VProgressCircular */"./src/components/VProgressCircular/index.ts");n.d(e,"VProgressCircular",(function(){return Q.VProgressCircular}));var tt=n(/*! ./VProgressLinear */"./src/components/VProgressLinear/index.ts");n.d(e,"VProgressLinear",(function(){return tt.VProgressLinear}));var et=n(/*! ./VRadioGroup */"./src/components/VRadioGroup/index.ts");n.d(e,"VRadioGroup",(function(){return et.VRadioGroup})),n.d(e,"VRadio",(function(){return et.VRadio}));var nt=n(/*! ./VRangeSlider */"./src/components/VRangeSlider/index.ts");n.d(e,"VRangeSlider",(function(){return nt.VRangeSlider}));var it=n(/*! ./VRating */"./src/components/VRating/index.ts");n.d(e,"VRating",(function(){return it.VRating}));var rt=n(/*! ./VResponsive */"./src/components/VResponsive/index.ts");n.d(e,"VResponsive",(function(){return rt.VResponsive}));var st=n(/*! ./VSelect */"./src/components/VSelect/index.ts");n.d(e,"VSelect",(function(){return st.VSelect}));var ot=n(/*! ./VSkeletonLoader */"./src/components/VSkeletonLoader/index.ts");n.d(e,"VSkeletonLoader",(function(){return ot.VSkeletonLoader}));var at=n(/*! ./VSlider */"./src/components/VSlider/index.ts");n.d(e,"VSlider",(function(){return at.VSlider}));var ct=n(/*! ./VSlideGroup */"./src/components/VSlideGroup/index.ts");n.d(e,"VSlideGroup",(function(){return ct.VSlideGroup})),n.d(e,"VSlideItem",(function(){return ct.VSlideItem}));var lt=n(/*! ./VSnackbar */"./src/components/VSnackbar/index.ts");n.d(e,"VSnackbar",(function(){return lt.VSnackbar}));var ut=n(/*! ./VSparkline */"./src/components/VSparkline/index.ts");n.d(e,"VSparkline",(function(){return ut.VSparkline}));var dt=n(/*! ./VSpeedDial */"./src/components/VSpeedDial/index.ts");n.d(e,"VSpeedDial",(function(){return dt.VSpeedDial}));var ht=n(/*! ./VStepper */"./src/components/VStepper/index.ts");n.d(e,"VStepper",(function(){return ht.VStepper})),n.d(e,"VStepperContent",(function(){return ht.VStepperContent})),n.d(e,"VStepperStep",(function(){return ht.VStepperStep})),n.d(e,"VStepperHeader",(function(){return ht.VStepperHeader})),n.d(e,"VStepperItems",(function(){return ht.VStepperItems}));var ft=n(/*! ./VSubheader */"./src/components/VSubheader/index.ts");n.d(e,"VSubheader",(function(){return ft.VSubheader}));var pt=n(/*! ./VSwitch */"./src/components/VSwitch/index.ts");n.d(e,"VSwitch",(function(){return pt.VSwitch}));var mt=n(/*! ./VSystemBar */"./src/components/VSystemBar/index.ts");n.d(e,"VSystemBar",(function(){return mt.VSystemBar}));var vt=n(/*! ./VTabs */"./src/components/VTabs/index.ts");n.d(e,"VTabs",(function(){return vt.VTabs})),n.d(e,"VTab",(function(){return vt.VTab})),n.d(e,"VTabItem",(function(){return vt.VTabItem})),n.d(e,"VTabsItems",(function(){return vt.VTabsItems})),n.d(e,"VTabsSlider",(function(){return vt.VTabsSlider}));var gt=n(/*! ./VTextarea */"./src/components/VTextarea/index.ts");n.d(e,"VTextarea",(function(){return gt.VTextarea}));var yt=n(/*! ./VTextField */"./src/components/VTextField/index.ts");n.d(e,"VTextField",(function(){return yt.VTextField}));var bt=n(/*! ./VTimeline */"./src/components/VTimeline/index.ts");n.d(e,"VTimeline",(function(){return bt.VTimeline})),n.d(e,"VTimelineItem",(function(){return bt.VTimelineItem}));var xt=n(/*! ./VTimePicker */"./src/components/VTimePicker/index.ts");n.d(e,"VTimePicker",(function(){return xt.VTimePicker})),n.d(e,"VTimePickerClock",(function(){return xt.VTimePickerClock})),n.d(e,"VTimePickerTitle",(function(){return xt.VTimePickerTitle}));var Vt=n(/*! ./VToolbar */"./src/components/VToolbar/index.ts");n.d(e,"VToolbar",(function(){return Vt.VToolbar})),n.d(e,"VToolbarItems",(function(){return Vt.VToolbarItems})),n.d(e,"VToolbarTitle",(function(){return Vt.VToolbarTitle}));var St=n(/*! ./VTooltip */"./src/components/VTooltip/index.ts");n.d(e,"VTooltip",(function(){return St.VTooltip}));var Ct=n(/*! ./VTreeview */"./src/components/VTreeview/index.ts");n.d(e,"VTreeview",(function(){return Ct.VTreeview})),n.d(e,"VTreeviewNode",(function(){return Ct.VTreeviewNode}));var kt=n(/*! ./VWindow */"./src/components/VWindow/index.ts");n.d(e,"VWindow",(function(){return kt.VWindow})),n.d(e,"VWindowItem",(function(){return kt.VWindowItem}));var wt=n(/*! ./transitions */"./src/components/transitions/index.ts");n.d(e,"VCarouselTransition",(function(){return wt.VCarouselTransition})),n.d(e,"VCarouselReverseTransition",(function(){return wt.VCarouselReverseTransition})),n.d(e,"VTabTransition",(function(){return wt.VTabTransition})),n.d(e,"VTabReverseTransition",(function(){return wt.VTabReverseTransition})),n.d(e,"VMenuTransition",(function(){return wt.VMenuTransition})),n.d(e,"VFabTransition",(function(){return wt.VFabTransition})),n.d(e,"VDialogTransition",(function(){return wt.VDialogTransition})),n.d(e,"VDialogBottomTransition",(function(){return wt.VDialogBottomTransition})),n.d(e,"VFadeTransition",(function(){return wt.VFadeTransition})),n.d(e,"VScaleTransition",(function(){return wt.VScaleTransition})),n.d(e,"VScrollXTransition",(function(){return wt.VScrollXTransition})),n.d(e,"VScrollXReverseTransition",(function(){return wt.VScrollXReverseTransition})),n.d(e,"VScrollYTransition",(function(){return wt.VScrollYTransition})),n.d(e,"VScrollYReverseTransition",(function(){return wt.VScrollYReverseTransition})),n.d(e,"VSlideXTransition",(function(){return wt.VSlideXTransition})),n.d(e,"VSlideXReverseTransition",(function(){return wt.VSlideXReverseTransition})),n.d(e,"VSlideYTransition",(function(){return wt.VSlideYTransition})),n.d(e,"VSlideYReverseTransition",(function(){return wt.VSlideYReverseTransition})),n.d(e,"VExpandTransition",(function(){return wt.VExpandTransition})),n.d(e,"VExpandXTransition",(function(){return wt.VExpandXTransition}))},"./src/components/transitions/expand-transition.ts":
/*!*********************************************************!*\
  !*** ./src/components/transitions/expand-transition.ts ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=function(t,e){function n(e){t&&e._parent&&e._parent.classList.remove(t),r(e)}function r(t){var e=t._initialStyle[s];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[s]=e),delete t._initialStyle}void 0===t&&(t=""),void 0===e&&(e=!1);var s=e?"width":"height",o="offset"+Object(i.upperFirst)(s);return{beforeEnter:function(t){var e;t._parent=t.parentNode,t._initialStyle=((e={transition:t.style.transition,visibility:t.style.visibility,overflow:t.style.overflow})[s]=t.style[s],e)},enter:function(e){var n=e._initialStyle,i=e[o]+"px";e.style.setProperty("transition","none","important"),e.style.visibility="hidden",e.style.visibility=n.visibility,e.style.overflow="hidden",e.style[s]="0",e.offsetHeight,e.style.transition=n.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((function(){e.style[s]=i}))},afterEnter:r,enterCancelled:r,leave:function(t){var e;t._initialStyle=((e={transition:"",visibility:"",overflow:t.style.overflow})[s]=t.style[s],e),t.style.overflow="hidden",t.style[s]=t[o]+"px",t.offsetHeight,requestAnimationFrame((function(){return t.style[s]="0"}))},afterLeave:n,leaveCancelled:n}}},"./src/components/transitions/index.ts":
/*!*********************************************!*\
  !*** ./src/components/transitions/index.ts ***!
  \*********************************************/
/*! exports provided: VCarouselTransition, VCarouselReverseTransition, VTabTransition, VTabReverseTransition, VMenuTransition, VFabTransition, VDialogTransition, VDialogBottomTransition, VFadeTransition, VScaleTransition, VScrollXTransition, VScrollXReverseTransition, VScrollYTransition, VScrollYReverseTransition, VSlideXTransition, VSlideXReverseTransition, VSlideYTransition, VSlideYReverseTransition, VExpandTransition, VExpandXTransition, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VCarouselTransition",(function(){return s})),n.d(e,"VCarouselReverseTransition",(function(){return o})),n.d(e,"VTabTransition",(function(){return a})),n.d(e,"VTabReverseTransition",(function(){return c})),n.d(e,"VMenuTransition",(function(){return l})),n.d(e,"VFabTransition",(function(){return u})),n.d(e,"VDialogTransition",(function(){return d})),n.d(e,"VDialogBottomTransition",(function(){return h})),n.d(e,"VFadeTransition",(function(){return f})),n.d(e,"VScaleTransition",(function(){return p})),n.d(e,"VScrollXTransition",(function(){return m})),n.d(e,"VScrollXReverseTransition",(function(){return v})),n.d(e,"VScrollYTransition",(function(){return g})),n.d(e,"VScrollYReverseTransition",(function(){return y})),n.d(e,"VSlideXTransition",(function(){return b})),n.d(e,"VSlideXReverseTransition",(function(){return x})),n.d(e,"VSlideYTransition",(function(){return V})),n.d(e,"VSlideYReverseTransition",(function(){return S})),n.d(e,"VExpandTransition",(function(){return C})),n.d(e,"VExpandXTransition",(function(){return k}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./expand-transition */"./src/components/transitions/expand-transition.ts"),s=Object(i.createSimpleTransition)("carousel-transition"),o=Object(i.createSimpleTransition)("carousel-reverse-transition"),a=Object(i.createSimpleTransition)("tab-transition"),c=Object(i.createSimpleTransition)("tab-reverse-transition"),l=Object(i.createSimpleTransition)("menu-transition"),u=Object(i.createSimpleTransition)("fab-transition","center center","out-in"),d=Object(i.createSimpleTransition)("dialog-transition"),h=Object(i.createSimpleTransition)("dialog-bottom-transition"),f=Object(i.createSimpleTransition)("fade-transition"),p=Object(i.createSimpleTransition)("scale-transition"),m=Object(i.createSimpleTransition)("scroll-x-transition"),v=Object(i.createSimpleTransition)("scroll-x-reverse-transition"),g=Object(i.createSimpleTransition)("scroll-y-transition"),y=Object(i.createSimpleTransition)("scroll-y-reverse-transition"),b=Object(i.createSimpleTransition)("slide-x-transition"),x=Object(i.createSimpleTransition)("slide-x-reverse-transition"),V=Object(i.createSimpleTransition)("slide-y-transition"),S=Object(i.createSimpleTransition)("slide-y-reverse-transition"),C=Object(i.createJavaScriptTransition)("expand-transition",Object(r.default)()),k=Object(i.createJavaScriptTransition)("expand-x-transition",Object(r.default)("",!0));e.default={$_vuetify_subcomponents:{VCarouselTransition:s,VCarouselReverseTransition:o,VDialogTransition:d,VDialogBottomTransition:h,VFabTransition:u,VFadeTransition:f,VMenuTransition:l,VScaleTransition:p,VScrollXTransition:m,VScrollXReverseTransition:v,VScrollYTransition:g,VScrollYReverseTransition:y,VSlideXTransition:b,VSlideXReverseTransition:x,VSlideYTransition:V,VSlideYReverseTransition:S,VTabReverseTransition:c,VTabTransition:a,VExpandTransition:C,VExpandXTransition:k}}},"./src/directives/click-outside/index.ts":
/*!***********************************************!*\
  !*** ./src/directives/click-outside/index.ts ***!
  \***********************************************/
/*! exports provided: ClickOutside, default */function(t,e,n){"use strict";function i(){return!1}function r(t,e,n){n.args=n.args||{};var r=n.args.closeConditional||i;if(t&&!1!==r(t)&&(!("isTrusted"in t)||t.isTrusted)&&(!("pointerType"in t)||t.pointerType)){var s=(n.args.include||function(){return[]})();s.push(e),s.some((function(e){return e.contains(t.target)}))||setTimeout((function(){r(t)&&n.value&&n.value(t)}),0)}}n.r(e),n.d(e,"ClickOutside",(function(){return s}));var s={inserted:function(t,e){var n=function(n){return r(n,t,e)};(document.querySelector("[data-app]")||document.body).addEventListener("click",n,!0),t._clickOutside=n},unbind:function(t){if(t._clickOutside){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}};e.default=s},"./src/directives/index.ts":
/*!*********************************!*\
  !*** ./src/directives/index.ts ***!
  \*********************************/
/*! exports provided: ClickOutside, Intersect, Mutate, Resize, Ripple, Scroll, Touch */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./click-outside */"./src/directives/click-outside/index.ts");n.d(e,"ClickOutside",(function(){return i.ClickOutside}));var r=n(/*! ./intersect */"./src/directives/intersect/index.ts");n.d(e,"Intersect",(function(){return r.Intersect}));var s=n(/*! ./mutate */"./src/directives/mutate/index.ts");n.d(e,"Mutate",(function(){return s.Mutate}));var o=n(/*! ./resize */"./src/directives/resize/index.ts");n.d(e,"Resize",(function(){return o.Resize}));var a=n(/*! ./ripple */"./src/directives/ripple/index.ts");n.d(e,"Ripple",(function(){return a.Ripple}));var c=n(/*! ./scroll */"./src/directives/scroll/index.ts");n.d(e,"Scroll",(function(){return c.Scroll}));var l=n(/*! ./touch */"./src/directives/touch/index.ts");n.d(e,"Touch",(function(){return l.Touch}))},"./src/directives/intersect/index.ts":
/*!*******************************************!*\
  !*** ./src/directives/intersect/index.ts ***!
  \*******************************************/
/*! exports provided: Intersect, default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}n.r(e),n.d(e,"Intersect",(function(){return s}));var s={inserted:function(t,e){var n=e.modifiers||{},s=e.value,o="object"===i(s)?s.handler:s,a=new IntersectionObserver((function(e,i){if(void 0===e&&(e=[]),t._observe){if(o&&(!n.quiet||t._observe.init)){var s=!!e.find((function(t){return t.isIntersecting}));o(e,i,s)}t._observe.init&&n.once?r(t):t._observe.init=!0}}),s.options||{});t._observe={init:!1,observer:a},a.observe(t)},unbind:r};e.default=s},"./src/directives/mutate/index.ts":
/*!****************************************!*\
  !*** ./src/directives/mutate/index.ts ***!
  \****************************************/
/*! exports provided: Mutate, default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){t._mutate&&(t._mutate.observer.disconnect(),delete t._mutate)}n.r(e),n.d(e,"Mutate",(function(){return o}));var s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)0>e.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o={inserted:function(t,e){var n=e.modifiers||{},o=e.value,a="object"===i(o),c=a?o.handler:o,l=n.once,u=s(n,["once"]),d=0<Object.keys(u).length,h=a&&o.options?o.options:d?{attributes:u.attr,childList:u.child,subtree:u.sub,characterData:u.char}:{attributes:!0,childList:!0,subtree:!0,characterData:!0},f=new MutationObserver((function(e,n){t._mutate&&(c(e,n),l&&r(t))}));f.observe(t,h),t._mutate={observer:f}},unbind:r};e.default=o},"./src/directives/resize/index.ts":
/*!****************************************!*\
  !*** ./src/directives/resize/index.ts ***!
  \****************************************/
/*! exports provided: Resize, default */function(t,e,n){"use strict";n.r(e),n.d(e,"Resize",(function(){return i}));var i={inserted:function(t,e){var n=e.value,i=e.options||{passive:!0};window.addEventListener("resize",n,i),t._onResize={callback:n,options:i},e.modifiers&&e.modifiers.quiet||n()},unbind:function(t){if(t._onResize){var e=t._onResize,n=e.callback,i=e.options;window.removeEventListener("resize",n,i),delete t._onResize}}};e.default=i},"./src/directives/ripple/VRipple.sass":
/*!********************************************!*\
  !*** ./src/directives/ripple/VRipple.sass ***!
  \********************************************/
/*! no static exports found */function(){},"./src/directives/ripple/index.ts":
/*!****************************************!*\
  !*** ./src/directives/ripple/index.ts ***!
  \****************************************/
/*! exports provided: Ripple, default */function(t,n,i){"use strict";function o(t,e){t.style.transform=e,t.style.webkitTransform=e}function a(t,e){t.style.opacity=e.toString()}function c(t){return"TouchEvent"===t.constructor.name}function l(t){return void 0===t||!!t}function u(t){var e={},n=t.currentTarget;if(n&&n._ripple&&!n._ripple.touched){if(c(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;e.center=n._ripple.centered,n._ripple.class&&(e.class=n._ripple.class),y.show(t,n,e)}}function d(t){var e=t.currentTarget;e&&(window.setTimeout((function(){e._ripple&&(e._ripple.touched=!1)})),y.hide(e))}function h(t,e,n){var i=l(e.value);i||y.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=i;var r=e.value||{};r.center&&(t._ripple.centered=!0),r.class&&(t._ripple.class=e.value.class),r.circle&&(t._ripple.circle=r.circle),i&&!n?(t.addEventListener("touchstart",u,{passive:!0}),t.addEventListener("touchend",d,{passive:!0}),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",u),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),t.addEventListener("dragstart",d,{passive:!0})):!i&&n&&f(t)}function f(t){t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",d),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d),t.removeEventListener("dragstart",d)}i.r(n),i.d(n,"Ripple",(function(){return b}));var p=i(/*! ./VRipple.sass */"./src/directives/ripple/VRipple.sass"),m=(i.n(p),i(/*! ../../util/console */"./src/util/console.ts")),v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},g=function(t,e,n){void 0===n&&(n={});var i=e.getBoundingClientRect(),o=c(t)?t.touches[t.touches.length-1]:t,a=o.clientX-i.left,l=o.clientY-i.top,u=0,d=.3;e._ripple&&e._ripple.circle?(d=.15,u=e.clientWidth/2,u=n.center?u:u+r(s(a-u,2)+s(l-u,2))/4):u=r(s(e.clientWidth,2)+s(e.clientHeight,2))/2;var h=(e.clientWidth-2*u)/2+"px",f=(e.clientHeight-2*u)/2+"px";return{radius:u,scale:d,x:n.center?h:a-u+"px",y:n.center?f:l-u+"px",centerX:h,centerY:f}},y={show:function(t,e,n){if(void 0===n&&(n={}),e._ripple&&e._ripple.enabled){var i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=" "+n.class);var s=g(t,e,n),c=s.radius,l=s.scale,u=s.x,d=s.y,h=s.centerX,f=s.centerY,p=2*c+"px";r.className="v-ripple__animation",r.style.width=p,r.style.height=p,e.appendChild(i);var m=window.getComputedStyle(e);m&&"static"===m.position&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),o(r,"translate("+u+", "+d+") scale3d("+l+","+l+","+l+")"),a(r,0),r.dataset.activated=performance.now()+"",setTimeout((function(){r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),o(r,"translate("+h+", "+f+") scale3d(1,1,1)"),a(r,.25)}),0)}},hide:function(t){if(t&&t._ripple&&t._ripple.enabled){var n=t.getElementsByClassName("v-ripple__animation");if(0!==n.length){var i=n[n.length-1];if(!i.dataset.isHiding){i.dataset.isHiding="true";var r=performance.now()-+i.dataset.activated,s=e(250-r,0);setTimeout((function(){i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),a(i,0),setTimeout((function(){1===t.getElementsByClassName("v-ripple__animation").length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),i.parentNode&&t.removeChild(i.parentNode)}),300)}),s)}}}}},b={bind:function(t,e,n){h(t,e,!1),n.context&&n.context.$nextTick((function(){var e=window.getComputedStyle(t);if(e&&"inline"===e.display){var i=n.fnOptions?[n.fnOptions,n.context]:[n.componentInstance];m.consoleWarn.apply(void 0,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}(["v-ripple can only be used on block-level elements"],i))}}))},unbind:function(t){delete t._ripple,f(t)},update:function(t,e){e.value!==e.oldValue&&h(t,e,l(e.oldValue))}};n.default=b},"./src/directives/scroll/index.ts":
/*!****************************************!*\
  !*** ./src/directives/scroll/index.ts ***!
  \****************************************/
/*! exports provided: Scroll, default */function(t,e,n){"use strict";n.r(e),n.d(e,"Scroll",(function(){return i}));var i={inserted:function(t,e){var n=e.value,i=e.options||{passive:!0},r=e.arg?document.querySelector(e.arg):window;r&&(r.addEventListener("scroll",n,i),t._onScroll={callback:n,options:i,target:r})},unbind:function(t){if(t._onScroll){var e=t._onScroll,n=e.callback,i=e.options;e.target.removeEventListener("scroll",n,i),delete t._onScroll}}};e.default=i},"./src/directives/touch/index.ts":
/*!***************************************!*\
  !*** ./src/directives/touch/index.ts ***!
  \***************************************/
/*! exports provided: Touch, default */function(t,e,n){"use strict";function i(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return function(t,e){var n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}(t,e)},touchend:function(t){return function(t,e){var n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),s(e)}(t,e)},touchmove:function(t){return function(t,e){var n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}(t,e)}}}n.r(e),n.d(e,"Touch",(function(){return o}));var r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=function(t){var e=t.touchstartX,n=t.touchendX,i=t.touchstartY,r=t.touchendY;t.offsetX=n-e,t.offsetY=r-i,a(t.offsetY)<.5*a(t.offsetX)&&(t.left&&n<e-16&&t.left(t),t.right&&n>e+16&&t.right(t)),a(t.offsetX)<.5*a(t.offsetY)&&(t.up&&r<i-16&&t.up(t),t.down&&r>i+16&&t.down(t))},o={inserted:function(t,e,n){var s=e.value,o=s.parent?t.parentElement:t,a=s.options||{passive:!0};if(o){var c=i(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[n.context._uid]=c,Object(r.keys)(c).forEach((function(t){o.addEventListener(t,c[t],a)}))}},unbind:function(t,e,n){var i=e.value.parent?t.parentElement:t;if(i&&i._touchHandlers){var s=i._touchHandlers[n.context._uid];Object(r.keys)(s).forEach((function(t){i.removeEventListener(t,s[t])})),delete i._touchHandlers[n.context._uid]}}};e.default=o},"./src/framework.ts":
/*!**************************!*\
  !*** ./src/framework.ts ***!
  \**************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./install */"./src/install.ts"),r=n(/*! ./services */"./src/services/index.ts"),s=n(/*! ./styles/main.sass */"./src/styles/main.sass"),o=(n.n(s),function(){function t(t){void 0===t&&(t={}),this.framework={},this.installed=[],this.preset={},this.preset=t,this.use(r.Application),this.use(r.Breakpoint),this.use(r.Goto),this.use(r.Icons),this.use(r.Lang),this.use(r.Theme)}return t.prototype.init=function(t,e){var n=this;this.installed.forEach((function(i){var r=n.framework[i];r.framework=n.framework,r.init(t,e)})),this.framework.rtl=!!this.preset.rtl},t.prototype.use=function(t){var e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset[e]),this.installed.push(e))},t.install=i.install,t.installed=!1,t.version="2.1.11",t}());e.default=o},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./components */"./src/components/index.ts"),r=n(/*! ./directives */"./src/directives/index.ts"),s=n(/*! ./framework */"./src/framework.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.default;var a=s.default.install;s.default.install=function(t,e){a.call(s.default,t,o({components:i,directives:r},e))},"undefined"!=typeof window&&window.Vue&&window.Vue.use(s.default)},"./src/install.ts":
/*!************************!*\
  !*** ./src/install.ts ***!
  \************************/
/*! exports provided: install */function(t,e,n){"use strict";function i(t,e){if(void 0===e&&(e={}),!i.installed){i.installed=!0,s.a!==t&&Object(o.consoleError)("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var n=e.components||{},r=e.directives||{};for(var a in r){var c=r[a];t.directive(a,c)}(function e(n){if(n){for(var i in n){var r=n[i];r&&!e(r.$_vuetify_subcomponents)&&t.component(i,r)}return!0}return!1})(n),t.$_vuetify_installed||(t.$_vuetify_installed=!0,t.mixin({beforeCreate:function(){var e=this.$options;e.vuetify?(e.vuetify.init(this,e.ssrContext),this.$vuetify=t.observable(e.vuetify.framework)):this.$vuetify=e.parent&&e.parent.$vuetify||this}}))}}n.r(e),n.d(e,"install",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r),o=n(/*! ./util/console */"./src/util/console.ts")},"./src/locale/en.ts":
/*!**************************!*\
  !*** ./src/locale/en.ts ***!
  \**************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:": Sorted descending. Activate to remove sorting.",sortAscending:": Sorted ascending. Activate to sort descending.",sortNone:": Not sorted. Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"}}},"./src/mixins/activatable/index.ts":
/*!*****************************************!*\
  !*** ./src/mixins/activatable/index.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var r=n(/*! ../delayable */"./src/mixins/delayable/index.ts"),s=n(/*! ../toggleable */"./src/mixins/toggleable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},u=Object(o.default)(r.default,s.default);e.default=u.extend({name:"activatable",props:{activator:{default:null,validator:function(t){return["string","object"].includes(i(t))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave"],listeners:{}}},watch:{activator:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var t=Object(a.getSlotType)(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(c.consoleError)('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){var t,e;if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();var n=Object.keys(this.listeners);try{for(var i,r=l(n),s=r.next();!s.done;s=r.next())i=s.value,this.getActivator().addEventListener(i,this.listeners[i])}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}},genActivator:function(){var t=Object(a.getSlot)(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":this.isActive+""}},genActivatorListeners:function(){var t=this;if(this.disabled)return{};var e={};return this.openOnHover?(e.mouseenter=function(e){t.getActivator(e),t.runDelay("open")},e.mouseleave=function(e){t.getActivator(e),t.runDelay("close")}):e.click=function(e){var n=t.getActivator(e);n&&n.focus(),t.isActive=!t.isActive},e},getActivator:function(t){if(this.activatorElement)return this.activatorElement;var e=null;if(this.activator){var n=this.internalActivator?this.$el:document;e="string"==typeof this.activator?n.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){var i=this.activatorNode[0].componentInstance;e=i&&i.$options.mixins&&i.$options.mixins.some((function(t){return t.options&&["activatable","menuable"].includes(t.options.name)}))?i.getActivator():this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=e,this.activatorElement},getContentSlot:function(){return Object(a.getSlot)(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents:function(){var t,e;if(this.activator&&this.activatorElement){var n=Object.keys(this.listeners);try{for(var i,r=l(n),s=r.next();!s.done;s=r.next())i=s.value,this.activatorElement.removeEventListener(i,this.listeners[i])}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.listeners={}}},resetActivator:function(){this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},"./src/mixins/applicationable/index.ts":
/*!*********************************************!*\
  !*** ./src/mixins/applicationable/index.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=[]),Object(s.default)(Object(r.factory)(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated:function(){this.callUpdate()},created:function(){for(var t=0,n=e.length;t<n;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(t){void 0===t&&(t=!1),(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}n.r(e),n.d(e,"default",(function(){return i}));var r=n(/*! ../positionable */"./src/mixins/positionable/index.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts")},"./src/mixins/binds-attrs/index.ts":
/*!*****************************************!*\
  !*** ./src/mixins/binds-attrs/index.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(e,i)||this.$delete(this.$data[t],i);for(var i in e)this.$set(this.$data[t],i,e[i])}}n.r(e);var r=n(/*! vue */"vue"),s=n.n(r);e.default=s.a.extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",i("attrs$"),{immediate:!0}),this.$watch("$listeners",i("listeners$"),{immediate:!0})}})},"./src/mixins/bootable/index.ts":
/*!**************************************!*\
  !*** ./src/mixins/bootable/index.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/console */"./src/util/console.ts"),r=n(/*! vue */"vue"),s=n.n(r);e.default=s.a.extend().extend({name:"bootable",props:{eager:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||this.eager||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},created:function(){"lazy"in this.$attrs&&Object(i.removed)("lazy",this)},methods:{showLazyContent:function(t){return this.hasContent?t:void 0}}})},"./src/mixins/button-group/index.ts":
/*!******************************************!*\
  !*** ./src/mixins/button-group/index.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../components/VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts");e.default=i.BaseItemGroup.extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return i.BaseItemGroup.options.computed.classes.call(this)}},methods:{genData:i.BaseItemGroup.options.methods.genData}})},"./src/mixins/colorable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/colorable/index.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return!!t&&!!t.match(/^(#|(rgb|hsl)a?\()/)}n.r(e);var r=n(/*! vue */"vue"),s=n.n(r),o=n(/*! ../../util/console */"./src/util/console.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=s.a.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t,e){var n;return void 0===e&&(e={}),"string"==typeof e.style?(Object(o.consoleError)("style must be an object",this),e):"string"==typeof e.class?(Object(o.consoleError)("class must be an object",this),e):(i(t)?e.style=a({},e.style,{"background-color":""+t,"border-color":""+t}):t&&(e.class=a({},e.class,((n={})[t]=!0,n))),e)},setTextColor:function(t,e){var n;if(void 0===e&&(e={}),"string"==typeof e.style)return Object(o.consoleError)("style must be an object",this),e;if("string"==typeof e.class)return Object(o.consoleError)("class must be an object",this),e;if(i(t))e.style=a({},e.style,{color:""+t,"caret-color":""+t});else if(t){var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(t.toString().trim().split(" ",2),2),s=r[0],c=r[1];e.class=a({},e.class,((n={})[s+"--text"]=!0,n)),c&&(e.class["text--"+c]=!0)}return e}}})},"./src/mixins/comparable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/comparable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=r.a.extend({name:"comparable",props:{valueComparator:{type:Function,default:s.deepEqual}}})},"./src/mixins/delayable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/delayable/index.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){var n=this;this.clearDelay();var i=parseInt(this[t+"Delay"],10);this[t+"Timeout"]=setTimeout(e||function(){n.isActive={open:!0,close:!1}[t]},i)}}})},"./src/mixins/dependent/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/dependent/index.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};e.default=Object(i.default)().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(t){if(!t)for(var e=this.getOpenDependents(),n=0;n<e.length;n++)e[n].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?function t(e){for(var n,i=[],r=0;r<e.length;r++)(n=e[r]).isActive&&n.isDependent?i.push(n):i.push.apply(i,s(t(n.$children)));return i}(this.$children):[]},getOpenDependentElements:function(){for(var t=[],e=this.getOpenDependents(),n=0;n<e.length;n++)t.push.apply(t,s(e[n].getClickableDependentElements()));return t},getClickableDependentElements:function(){var t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push.apply(t,s(this.getOpenDependentElements())),t}}})},"./src/mixins/detachable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/detachable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var r=n(/*! ../bootable */"./src/mixins/bootable/index.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=n(/*! ../../util/console */"./src/util/console.ts");e.default=Object(o.default)(r.default).extend({name:"detachable",props:{attach:{default:!1,validator:function(t){var e=i(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:"initDetach"},beforeMount:function(){var t=this;this.$nextTick((function(){t.activatorNode&&(Array.isArray(t.activatorNode)?t.activatorNode:[t.activatorNode]).forEach((function(e){if(e.elm&&t.$el.parentNode){var n=t.$el===t.$el.parentNode.firstChild?t.$el:t.$el.nextSibling;t.$el.parentNode.insertBefore(e.elm,n)}}))}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode)(Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode]).forEach((function(t){t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}catch(t){console.log(t)}},methods:{getScopeIdAttrs:function(){var t,e=Object(s.getObjectValueByPath)(this.$vnode,"context.$options._scopeId");return e&&((t={})[e]="",t)},initDetach:function(){var t;if(!this._isDestroyed&&this.$refs.content&&!this.hasDetached&&""!==this.attach&&!0!==this.attach&&"attach"!==this.attach)return(t=!1===this.attach?document.querySelector("[data-app]"):"string"==typeof this.attach?document.querySelector(this.attach):this.attach)?(t.insertBefore(this.$refs.content,t.firstChild),void(this.hasDetached=!0)):void Object(a.consoleWarn)("Unable to locate target "+(this.attach||"[data-app]"),this)}}})},"./src/mixins/elevatable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/elevatable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var t,e=this.computedElevation;return null==e?{}:isNaN(parseInt(e))?{}:((t={})["elevation-"+this.elevation]=!0,t)}}})},"./src/mixins/filterable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/filterable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}})},"./src/mixins/groupable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/groupable/index.ts ***!
  \***************************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";function i(t,e,n){return Object(r.inject)(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default:function(){return this[t]?this[t].activeClass:void 0}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){var t;return this.activeClass?((t={})[this.activeClass]=this.isActive,t):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}n.r(e),n.d(e,"factory",(function(){return i}));var r=n(/*! ../registrable */"./src/mixins/registrable/index.ts"),s=i("itemGroup");e.default=s},"./src/mixins/loadable/index.ts":
/*!**************************************!*\
  !*** ./src/mixins/loadable/index.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../../components/VProgressLinear */"./src/components/VProgressLinear/index.ts");e.default=r.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(s.default,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"./src/mixins/localable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/localable/index.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"localable",props:{locale:String},computed:{currentLocale:function(){return this.locale||this.$vuetify.lang.current}}})},"./src/mixins/measurable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/measurable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! vue */"vue"),s=n.n(r);e.default=s.a.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(i.convertToUnit)(this.height),n=Object(i.convertToUnit)(this.minHeight),r=Object(i.convertToUnit)(this.minWidth),s=Object(i.convertToUnit)(this.maxHeight),o=Object(i.convertToUnit)(this.maxWidth),a=Object(i.convertToUnit)(this.width);return e&&(t.height=e),n&&(t.minHeight=n),r&&(t.minWidth=r),s&&(t.maxHeight=s),o&&(t.maxWidth=o),a&&(t.width=a),t}}})},"./src/mixins/menuable/index.ts":
/*!**************************************!*\
  !*** ./src/mixins/menuable/index.ts ***!
  \**************************************/
/*! exports provided: default */function(n,i,r){"use strict";r.r(i);var s=r(/*! ../positionable */"./src/mixins/positionable/index.ts"),o=r(/*! ../stackable */"./src/mixins/stackable/index.ts"),a=r(/*! ../activatable */"./src/mixins/activatable/index.ts"),c=r(/*! ../../util/mixins */"./src/util/mixins.ts"),l=r(/*! ../../util/helpers */"./src/util/helpers.ts"),d=Object(c.default)(o.default,s.default,a.default);i.default=d.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var n=this.dimensions.activator,i=this.dimensions.content,r=(!1===this.attach?n.left:n.offsetLeft)||0,s=e(n.width,i.width),o=0;if(o+=this.left?r-(s-n.width):r,this.offsetX){var a=isNaN(+this.maxWidth)?n.width:t(n.width,+this.maxWidth);o+=this.left?-a:n.width}return this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),o},computedTop:function(){var t=this.dimensions.activator,e=this.dimensions.content,n=0;return this.top&&(n+=t.height-e.height),n+=!1===this.attach?t.top+this.pageYOffset:t.offsetTop,this.offsetY&&(n+=this.top?-t.height:t.height),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),n},hasActivator:function(){return!!(this.$slots.activator||this.$scopedSlots.activator||this.activator||this.inputActivator)}},watch:{disabled:function(t){t&&this.callDeactivate()},isActive:function(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.hasWindow="undefined"!=typeof window},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(t){return Object(l.convertToUnit)(!1===this.attach?this.calcXOverflow(this.computedLeft,t):this.computedLeft)},calcTop:function(){return Object(l.convertToUnit)(!1===this.attach?this.calcYOverflow(this.computedTop):this.computedTop)},calcXOverflow:function(t,n){var i=t+n-this.pageWidth+12;return(t=(!this.left||this.right)&&0<i?e(t-i,0):e(t,12))+this.getOffsetLeft()},calcYOverflow:function(t){var e=this.getInnerHeight(),n=this.pageYOffset+e,i=this.dimensions.activator,r=this.dimensions.content.height,s=n<t+r;return s&&this.offsetOverflow&&i.top>r?t=this.pageYOffset+(i.top-r):s&&!this.allowOverflow?t=n-r-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),12>t?12:t},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){for(var t=this.getActivator();t;){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1}},deactivate:function(){},genActivatorListeners:function(){var t=this,e=a.default.options.methods.genActivatorListeners.call(this),n=e.click;return e.click=function(e){t.openOnClick&&n&&n(e),t.absoluteX=e.clientX,t.absoluteY=e.clientY},e},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(t){var e=t.getBoundingClientRect();return{top:u(e.top),left:u(e.left),bottom:u(e.bottom),right:u(e.right),width:u(e.width),height:u(e.height)}},measure:function(t){if(!t||!this.hasWindow)return null;var e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){var n=window.getComputedStyle(t);e.left=parseInt(n.marginLeft),e.top=parseInt(n.marginTop)}return e},sneakPeek:function(t){var e=this;requestAnimationFrame((function(){var n=e.$refs.content;return n&&"none"===n.style.display?(n.style.display="inline-block",t(),void(n.style.display="none")):void t()}))},startTransition:function(){var t=this;return new Promise((function(e){return requestAnimationFrame((function(){t.isContentActive=t.hasJustFocused=t.isActive,e()}))}))},updateDimensions:function(){var t=this;this.hasWindow="undefined"!=typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var e={};if(!this.hasActivator||this.absolute)e.activator=this.absolutePosition();else{var n=this.getActivator();if(!n)return;e.activator=this.measure(n),e.activator.offsetLeft=n.offsetLeft,e.activator.offsetTop=!1===this.attach?0:n.offsetTop}this.sneakPeek((function(){e.content=t.measure(t.$refs.content),t.dimensions=e}))}}})},"./src/mixins/overlayable/index.ts":
/*!*****************************************!*\
  !*** ./src/mixins/overlayable/index.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../components/VOverlay */"./src/components/VOverlay/index.ts"),r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=n(/*! vue */"vue"),o=n.n(s);e.default=o.a.extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new i.default({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),requestAnimationFrame((function(){t.overlay&&(void 0===t.activeZIndex?t.$el&&(t.overlay.zIndex=Object(r.getZIndex)(t.$el)):t.overlay.zIndex=t.activeZIndex-1+"",t.overlay.value=!0)})),!0},removeOverlay:function(t){var e=this;void 0===t&&(t=!0),this.overlay&&(Object(r.addOnceEventListener)(this.overlay.$el,"transitionend",(function(){e.overlay&&e.overlay.$el&&e.overlay.$el.parentNode&&!e.overlay.value&&(e.overlay.$el.parentNode.removeChild(e.overlay.$el),e.overlay.$destroy(),e.overlay=null)})),this.overlay.value=!1),t&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[r.keyCodes.up,r.keyCodes.pageup],n=[r.keyCodes.down,r.keyCodes.pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!n.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return!!(0===t.scrollTop&&0>e)||t.scrollTop+t.clientHeight===t.scrollHeight&&0<e},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),n=t.deltaY;if("keydown"===t.type&&e[0]===document.body){var i=this.$refs.dialog,r=window.getSelection().anchorNode;return!(i&&this.hasScrollbar(i)&&this.isInside(r,i))||this.shouldScroll(i,n)}for(var s,o=0;o<e.length;o++){if((s=e[o])===document)return!0;if(s===document.documentElement)return!0;if(s===this.$refs.content)return!0;if(this.hasScrollbar(s))return this.shouldScroll(s,n)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}return e},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(r.addPassiveEventListener)(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})},"./src/mixins/picker-button/index.ts":
/*!*******************************************!*\
  !*** ./src/mixins/picker-button/index.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../colorable */"./src/mixins/colorable/index.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e.default=Object(r.default)(i.default).extend({methods:{genPickerButton:function(t,e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r="");var a=this[t]===e;return this.$createElement("div",{staticClass:("v-picker__title__btn "+r).trim(),class:{"v-picker__title__btn--active":a,"v-picker__title__btn--readonly":i},on:a||i?void 0:{click:function(n){n.stopPropagation(),o.$emit("update:"+Object(s.kebabCase)(t),e)}}},Array.isArray(n)?n:[n])}}})},"./src/mixins/picker/index.ts":
/*!************************************!*\
  !*** ./src/mixins/picker/index.ts ***!
  \************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../components/VPicker */"./src/components/VPicker/index.ts"),r=n(/*! ../colorable */"./src/mixins/colorable/index.ts"),s=n(/*! ../themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(o.default)(r.default,s.default).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){var e=[];if(!this.noTitle){var n=this.genPickerTitle();n&&e.push(n)}var r=this.genPickerBody();return r&&e.push(r),e.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(i.default,{staticClass:t,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width,noTitle:this.noTitle}},e)}}})},"./src/mixins/positionable/index.ts":
/*!******************************************!*\
  !*** ./src/mixins/positionable/index.ts ***!
  \******************************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";function i(t){return void 0===t&&(t=[]),s.a.extend({name:"positionable",props:t.length?Object(o.filterObjectOnKeys)(a,t):a})}n.r(e),n.d(e,"factory",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};e.default=i()},"./src/mixins/proxyable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/proxyable/index.ts ***!
  \***************************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";function i(t,e){var n,i;return void 0===t&&(t="value"),void 0===e&&(e="change"),s.a.extend({name:"proxyable",model:{prop:t,event:e},props:(n={},n[t]={required:!1},n),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t===this.internalLazyValue||(this.internalLazyValue=t,this.$emit(e,t))}}},watch:(i={},i[t]=function(t){this.internalLazyValue=t},i)})}n.r(e),n.d(e,"factory",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r),o=i();e.default=o},"./src/mixins/registrable/index.ts":
/*!*****************************************!*\
  !*** ./src/mixins/registrable/index.ts ***!
  \*****************************************/
/*! exports provided: inject, provide */function(t,e,n){"use strict";function i(t,e){return function(){return Object(c.consoleWarn)("The "+t+" component must be used inside a "+e)}}function r(t,e,n){var r,s=e&&n?{register:i(e,n),unregister:i(e,n)}:null;return a.a.extend({name:"registrable-inject",inject:(r={},r[t]={default:s},r)})}function s(t,e){return void 0===e&&(e=!1),a.a.extend({name:"registrable-provide",methods:e?{}:{register:null,unregister:null},provide:function(){var n;return(n={})[t]=e?this:{register:this.register,unregister:this.unregister},n}})}n.r(e),n.d(e,"inject",(function(){return r})),n.d(e,"provide",(function(){return s}));var o=n(/*! vue */"vue"),a=n.n(o),c=n(/*! ../../util/console */"./src/util/console.ts")},"./src/mixins/returnable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/returnable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}})},"./src/mixins/rippleable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/rippleable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),r=n(/*! vue */"vue"),s=n.n(r);e.default=s.a.extend({name:"rippleable",directives:{ripple:i.default},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(t){return void 0===t&&(t={}),this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange:function(){}}})},"./src/mixins/routable/index.ts":
/*!**************************************!*\
  !*** ./src/mixins/routable/index.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),s=n(/*! ../../directives/ripple */"./src/directives/ripple/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=r.a.extend({name:"routable",directives:{Ripple:s.default},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var t={};return this.to?t:(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive),t)},computedRipple:function(){return null==this.ripple?!this.disabled&&this.isClickable:this.ripple},isClickable:function(){return!this.disabled&&!!(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},methods:{click:function(t){this.$emit("click",t)},generateRouteLink:function(){var t,e,n=this.exact,i=((t={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]})[this.to?"nativeOn":"on"]=a({},this.$listeners,{click:this.click}),t.ref="link",t);if(void 0===this.exact&&(n="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var r=this.activeClass,s=this.exactActiveClass||r;this.proxyClass&&(r=(r+" "+this.proxyClass).trim(),s=(s+" "+this.proxyClass).trim()),e=this.nuxt?"nuxt-link":"router-link",Object.assign(i.props,{to:this.to,exact:n,activeClass:r,exactActiveClass:s,append:this.append,replace:this.replace})}else"a"===(e=(this.href?"a":this.tag)||"div")&&this.href&&(i.attrs.href=this.href);return this.target&&(i.attrs.target=this.target),{tag:e,data:i}},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link&&this.$route){var e=(this.activeClass+" "+(this.proxyClass||"")).trim();this.$nextTick((function(){Object(o.getObjectValueByPath)(t.$refs.link,"_vnode.data.class."+e)&&t.toggle()}))}},toggle:function(){}}})},"./src/mixins/scrollable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/scrollable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../directives */"./src/directives/index.ts"),r=n(/*! ../../util/console */"./src/util/console.ts"),s=n(/*! vue */"vue"),o=n.n(s);e.default=o.a.extend({name:"scrollable",directives:{Scroll:i.Scroll},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:function(){return{currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return"undefined"!=typeof window},computedScrollThreshold:function(){return this.scrollThreshold?+this.scrollThreshold:300}},watch:{isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll},isActive:function(){this.savedScroll=0}},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),!this.target&&Object(r.consoleWarn)("Unable to locate element with identifier "+this.scrollTarget,this))},methods:{onScroll:function(){var t=this;this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=a(this.currentScroll-this.computedScrollThreshold),this.$nextTick((function(){a(t.currentScroll-t.savedScroll)>t.computedScrollThreshold&&t.thresholdMet()})))},thresholdMet:function(){}}})},"./src/mixins/selectable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/selectable/index.ts ***!
  \****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../components/VInput */"./src/components/VInput/index.ts"),r=n(/*! ../rippleable */"./src/mixins/rippleable/index.ts"),s=n(/*! ../comparable */"./src/mixins/comparable/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(o.default)(i.default,r.default,s.default).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){return this.isActive?this.color?this.color:this.isDark&&!this.appIsDark?"white":"accent":void 0},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,n=this.internalValue;return this.isMultiple?!!Array.isArray(n)&&n.some((function(n){return t.valueComparator(n,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,n):!!n:this.valueComparator(n,this.trueValue)},isDirty:function(){return this.isActive}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=this,e=i.default.options.methods.genLabel.call(this);return e?(e.data.on={click:function(e){e.preventDefault(),t.onChange()}},e):e},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var t=this;if(!this.isDisabled){var e=this.value,n=this.internalValue;if(this.isMultiple){Array.isArray(n)||(n=[]);var i=n.length;(n=n.filter((function(n){return!t.valueComparator(n,e)}))).length===i&&n.push(e)}else n=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(n,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(n,e)?null:e:!n;this.validate(!0,n),this.internalValue=n,this.hasColor=n}},onFocus:function(){this.isFocused=!0},onKeydown:function(){}}})},"./src/mixins/sizeable/index.ts":
/*!**************************************!*\
  !*** ./src/mixins/sizeable/index.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return!(this.xSmall||this.small||this.large||this.xLarge)},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},"./src/mixins/ssr-bootable/index.ts":
/*!******************************************!*\
  !*** ./src/mixins/ssr-bootable/index.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame((function(){t.$el.setAttribute("data-booted","true"),t.isBooted=!0}))}})},"./src/mixins/stackable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/stackable/index.ts ***!
  \***************************************/
/*! exports provided: default */function(t,n,i){"use strict";i.r(n);var r=i(/*! vue */"vue"),s=i.n(r),o=i(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};n.default=s.a.extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"==typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(o.getZIndex)(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(t){void 0===t&&(t=[]);for(var n=this.$el,i=[this.stackMinZIndex,Object(o.getZIndex)(n)],r=c(document.getElementsByClassName("v-menu__content--active"),document.getElementsByClassName("v-dialog__content--active")),s=0;s<r.length;s++)t.includes(r[s])||i.push(Object(o.getZIndex)(r[s]));return e.apply(Math,c(i))}}})},"./src/mixins/themeable/index.ts":
/*!***************************************!*\
  !*** ./src/mixins/themeable/index.ts ***!
  \***************************************/
/*! exports provided: functionalThemeClasses, default */function(t,e,n){"use strict";function i(t){var e=o({},t.props,t.injections),n=a.options.computed.isDark.call(e);return a.options.computed.themeClasses.call({isDark:n})}n.r(e),n.d(e,"functionalThemeClasses",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=s.a.extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});e.default=a},"./src/mixins/toggleable/index.ts":
/*!****************************************!*\
  !*** ./src/mixins/toggleable/index.ts ***!
  \****************************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";function i(t,e){var n,i;return void 0===t&&(t="value"),void 0===e&&(e="input"),s.a.extend({name:"toggleable",model:{prop:t,event:e},props:(n={},n[t]={required:!1},n),data:function(){return{isActive:!!this[t]}},watch:(i={},i[t]=function(t){this.isActive=!!t},i.isActive=function(n){!!n!==this[t]&&this.$emit(e,n)},i)})}n.r(e),n.d(e,"factory",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r),o=i();e.default=o},"./src/mixins/transitionable/index.ts":
/*!********************************************!*\
  !*** ./src/mixins/transitionable/index.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},"./src/mixins/translatable/index.ts":
/*!******************************************!*\
  !*** ./src/mixins/translatable/index.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e.default=r.a.extend({name:"translatable",props:{height:Number},data:function(){return{elOffsetTop:0,parallax:0,parallaxDist:0,percentScrolled:0,scrollTop:0,windowHeight:0,windowBottom:0}},computed:{imgHeight:function(){return this.objHeight()}},beforeDestroy:function(){window.removeEventListener("scroll",this.translate,!1),window.removeEventListener("resize",this.translate,!1)},methods:{calcDimensions:function(){var t=this.$el.getBoundingClientRect();this.scrollTop=window.pageYOffset,this.parallaxDist=this.imgHeight-this.height,this.elOffsetTop=t.top+this.scrollTop,this.windowHeight=window.innerHeight,this.windowBottom=this.scrollTop+this.windowHeight},listeners:function(){window.addEventListener("scroll",this.translate,!1),window.addEventListener("resize",this.translate,!1)},objHeight:function(){throw new Error("Not implemented !")},translate:function(){this.calcDimensions(),this.percentScrolled=(this.windowBottom-this.elOffsetTop)/(parseInt(this.height)+this.windowHeight),this.parallax=u(this.parallaxDist*this.percentScrolled)}}})},"./src/mixins/validatable/index.ts":
/*!*****************************************!*\
  !*** ./src/mixins/validatable/index.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var r=n(/*! ../colorable */"./src/mixins/colorable/index.ts"),s=n(/*! ../themeable */"./src/mixins/themeable/index.ts"),o=n(/*! ../registrable */"./src/mixins/registrable/index.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts");e.default=Object(l.default)(r.default,Object(o.inject)("form"),s.default).extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor:function(){return this.disabled?void 0:this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError:function(){return 0<this.internalErrorMessages.length||0<this.errorBucket.length||this.error},hasSuccess:function(){return 0<this.internalSuccessMessages.length||this.success},externalError:function(){return 0<this.internalErrorMessages.length||this.error},hasMessages:function(){return 0<this.validationTarget.length},hasState:function(){return!this.disabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",t)}},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,+this.errorCount)},validationState:function(){return this.disabled?void 0:this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget:function(){return 0<this.internalErrorMessages.length?this.internalErrorMessages:0<this.successMessages.length?this.internalSuccessMessages:0<this.messages.length?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(t,e){Object(a.deepEqual)(t,e)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(t){t||this.disabled||(this.hasFocused=!0,this.validateOnBlur&&this.validate())},isResetting:function(){var t=this;setTimeout((function(){t.hasInput=!1,t.hasFocused=!1,t.isResetting=!1,t.validate()}),0)},hasError:function(t){this.shouldValidate&&this.$emit("update:error",t)},value:function(t){this.lazyValue=t}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(t){return t?Array.isArray(t)?t:[t]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation:function(){this.isResetting=!0},validate:function(t,e){void 0===t&&(t=!1);var n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(var r=0;r<this.rules.length;r++){var s=this.rules[r],o="function"==typeof s?s(e):s;"string"==typeof o?n.push(o):"boolean"!=typeof o&&Object(c.consoleError)("Rules should return a string or boolean, received '"+i(o)+"' instead",this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},"./src/services/application/index.ts":
/*!*******************************************!*\
  !*** ./src/services/application/index.ts ***!
  \*******************************************/
/*! exports provided: Application */function(t,e,n){"use strict";n.r(e),n.d(e,"Application",(function(){return s}));var i=n(/*! ../service */"./src/services/service/index.ts"),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=0,e.top=0,e.left=0,e.insetFooter=0,e.right=0,e.bottom=0,e.footer=0,e.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},e}return r(e,t),e.prototype.register=function(t,e,n){this.application[e][t]=n,this.update(e)},e.prototype.unregister=function(t,e){null==this.application[e][t]||(delete this.application[e][t],this.update(e))},e.prototype.update=function(t){this[t]=Object.values(this.application[t]).reduce((function(t,e){return t+e}),0)},e.property="application",e}(i.Service)},"./src/services/breakpoint/index.ts":
/*!******************************************!*\
  !*** ./src/services/breakpoint/index.ts ***!
  \******************************************/
/*! exports provided: Breakpoint */function(t,n,i){"use strict";i.r(n),i.d(n,"Breakpoint",(function(){return a}));var r=i(/*! ../service */"./src/services/service/index.ts"),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=function(t){function n(e){void 0===e&&(e={});var n=t.call(this)||this;return n.xs=!1,n.sm=!1,n.md=!1,n.lg=!1,n.xl=!1,n.xsOnly=!1,n.smOnly=!1,n.smAndDown=!1,n.smAndUp=!1,n.mdOnly=!1,n.mdAndDown=!1,n.mdAndUp=!1,n.lgOnly=!1,n.lgAndDown=!1,n.lgAndUp=!1,n.xlOnly=!1,n.name="",n.height=0,n.width=0,n.thresholds={xs:600,sm:960,md:1280,lg:1920},n.scrollBarWidth=16,n.resizeTimeout=0,n.thresholds=o({},n.thresholds,e.thresholds),n.scrollBarWidth=null==e.scrollBarWidth?n.scrollBarWidth:e.scrollBarWidth,n.init(),n}return s(n,t),n.prototype.init=function(){"undefined"==typeof window||(window.addEventListener("resize",this.onResize.bind(this),{passive:!0}),this.update())},n.prototype.onResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)},n.prototype.update=function(){var t=this.getClientHeight(),e=this.getClientWidth(),n=e<this.thresholds.xs,i=e<this.thresholds.sm&&!n,r=e<this.thresholds.md-this.scrollBarWidth&&!(i||n),s=e<this.thresholds.lg-this.scrollBarWidth&&!(r||i||n),o=e>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=t,this.width=e,this.xs=n,this.sm=i,this.md=r,this.lg=s,this.xl=o,this.xsOnly=n,this.smOnly=i,this.smAndDown=(n||i)&&!(r||s||o),this.smAndUp=!n&&(i||r||s||o),this.mdOnly=r,this.mdAndDown=(n||i||r)&&!(s||o),this.mdAndUp=!(n||i)&&(r||s||o),this.lgOnly=s,this.lgAndDown=(n||i||r||s)&&!o,this.lgAndUp=!(n||i||r)&&(s||o),this.xlOnly=o,!0){case n:this.name="xs";break;case i:this.name="sm";break;case r:this.name="md";break;case s:this.name="lg";break;default:this.name="xl"}},n.prototype.getClientWidth=function(){return"undefined"==typeof document?0:e(document.documentElement.clientWidth,window.innerWidth||0)},n.prototype.getClientHeight=function(){return"undefined"==typeof document?0:e(document.documentElement.clientHeight,window.innerHeight||0)},n.property="breakpoint",n}(r.Service)},"./src/services/goto/easing-patterns.ts":
/*!**********************************************!*\
  !*** ./src/services/goto/easing-patterns.ts ***!
  \**********************************************/
/*! exports provided: linear, easeInQuad, easeOutQuad, easeInOutQuad, easeInCubic, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart, easeInQuint, easeOutQuint, easeInOutQuint */function(t,e,n){"use strict";n.r(e),n.d(e,"linear",(function(){return i})),n.d(e,"easeInQuad",(function(){return r})),n.d(e,"easeOutQuad",(function(){return o})),n.d(e,"easeInOutQuad",(function(){return a})),n.d(e,"easeInCubic",(function(){return c})),n.d(e,"easeOutCubic",(function(){return l})),n.d(e,"easeInOutCubic",(function(){return u})),n.d(e,"easeInQuart",(function(){return d})),n.d(e,"easeOutQuart",(function(){return h})),n.d(e,"easeInOutQuart",(function(){return f})),n.d(e,"easeInQuint",(function(){return p})),n.d(e,"easeOutQuint",(function(){return m})),n.d(e,"easeInOutQuint",(function(){return v}));var i=function(t){return t},r=function(t){return s(t,2)},o=function(t){return t*(2-t)},a=function(t){return.5>t?2*s(t,2):(4-2*t)*t-1},c=function(t){return s(t,3)},l=function(t){return s(--t,3)+1},u=function(t){return.5>t?4*s(t,3):(t-1)*(2*t-2)*(2*t-2)+1},d=function(t){return s(t,4)},h=function(t){return 1-s(--t,4)},f=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},p=function(t){return s(t,5)},m=function(t){return 1+s(--t,5)},v=function(t){return.5>t?16*s(t,5):1+16*s(--t,5)}},"./src/services/goto/index.ts":
/*!************************************!*\
  !*** ./src/services/goto/index.ts ***!
  \************************************/
/*! exports provided: default, Goto */function(e,i,r){"use strict";function s(e,i){void 0===i&&(i={});var r=d({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},i),o=Object(l.getContainer)(r.container);if(r.appOffset&&s.framework.application){var u=o.classList.contains("v-navigation-drawer"),h=o.classList.contains("v-navigation-drawer--clipped"),f=s.framework.application,p=f.bar,m=f.top;r.offset+=p,(!u||h)&&(r.offset+=m)}var v,g=performance.now();v="number"==typeof e?Object(l.getOffset)(e)-r.offset:Object(l.getOffset)(e)-Object(l.getOffset)(o)-r.offset;var y=o.scrollTop;if(v===y)return Promise.resolve(v);var b="function"==typeof r.easing?r.easing:c[r.easing];if(!b)throw new TypeError('Easing function "'+r.easing+'" not found.');return new Promise((function(e){return requestAnimationFrame((function i(s){var c=a(r.duration?t((s-g)/r.duration,1):1);o.scrollTop=n(y+(v-y)*b(c));var l=o===document.body?document.documentElement.clientHeight:o.clientHeight;return 1===c||l+o.scrollTop===o.scrollHeight?e(v):void requestAnimationFrame(i)}))}))}r.r(i),r.d(i,"default",(function(){return s})),r.d(i,"Goto",(function(){return h}));var o=r(/*! ../service */"./src/services/service/index.ts"),c=r(/*! ./easing-patterns */"./src/services/goto/easing-patterns.ts"),l=r(/*! ./util */"./src/services/goto/util.ts"),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};s.framework={},s.init=function(){};var h=function(t){function e(){return t.call(this),s}return u(e,t),e.property="goTo",e}(o.Service)},"./src/services/goto/util.ts":
/*!***********************************!*\
  !*** ./src/services/goto/util.ts ***!
  \***********************************/
/*! exports provided: getOffset, getContainer */function(t,e,n){"use strict";function i(t){if("number"==typeof t)return t;var e=o(t);if(!e)throw"string"==typeof t?new Error('Target element "'+t+'" not found.'):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received "+s(t)+" instead.");for(var n=0;e;)n+=e.offsetTop,e=e.offsetParent;return n}function r(t){var e=o(t);if(e)return e;throw"string"==typeof t?new Error('Container element "'+t+'" not found.'):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received "+s(t)+" instead.")}function s(t){return null==t?t:t.constructor.name}function o(t){return"string"==typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}n.r(e),n.d(e,"getOffset",(function(){return i})),n.d(e,"getContainer",(function(){return r}))},"./src/services/icons/index.ts":
/*!*************************************!*\
  !*** ./src/services/icons/index.ts ***!
  \*************************************/
/*! exports provided: Icons */function(t,e,n){"use strict";n.r(e),n.d(e,"Icons",(function(){return a}));var i=n(/*! ../service */"./src/services/service/index.ts"),r=n(/*! ./presets */"./src/services/icons/presets/index.ts"),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.iconfont="mdi",n.values=r.default[n.iconfont],e.iconfont&&(n.iconfont=e.iconfont),n.values=o({},r.default[n.iconfont],e.values||{}),n}return s(e,t),e.property="icons",e}(i.Service)},"./src/services/icons/presets/fa.ts":
/*!******************************************!*\
  !*** ./src/services/icons/presets/fa.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"}},"./src/services/icons/presets/fa4.ts":
/*!*******************************************!*\
  !*** ./src/services/icons/presets/fa4.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"}},"./src/services/icons/presets/index.ts":
/*!*********************************************!*\
  !*** ./src/services/icons/presets/index.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mdi-svg */"./src/services/icons/presets/mdi-svg.ts"),r=n(/*! ./md */"./src/services/icons/presets/md.ts"),s=n(/*! ./mdi */"./src/services/icons/presets/mdi.ts"),o=n(/*! ./fa */"./src/services/icons/presets/fa.ts"),a=n(/*! ./fa4 */"./src/services/icons/presets/fa4.ts");e.default=Object.freeze({mdiSvg:i.default,md:r.default,mdi:s.default,fa:o.default,fa4:a.default})},"./src/services/icons/presets/md.ts":
/*!******************************************!*\
  !*** ./src/services/icons/presets/md.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"}},"./src/services/icons/presets/mdi-svg.ts":
/*!***********************************************!*\
  !*** ./src/services/icons/presets/mdi-svg.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"}},"./src/services/icons/presets/mdi.ts":
/*!*******************************************!*\
  !*** ./src/services/icons/presets/mdi.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"}},"./src/services/index.ts":
/*!*******************************!*\
  !*** ./src/services/index.ts ***!
  \*******************************/
/*! exports provided: Application, Breakpoint, Goto, Icons, Lang, Theme */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./application */"./src/services/application/index.ts");n.d(e,"Application",(function(){return i.Application}));var r=n(/*! ./breakpoint */"./src/services/breakpoint/index.ts");n.d(e,"Breakpoint",(function(){return r.Breakpoint}));var s=n(/*! ./goto */"./src/services/goto/index.ts");n.d(e,"Goto",(function(){return s.Goto}));var o=n(/*! ./icons */"./src/services/icons/index.ts");n.d(e,"Icons",(function(){return o.Icons}));var a=n(/*! ./lang */"./src/services/lang/index.ts");n.d(e,"Lang",(function(){return a.Lang}));var c=n(/*! ./theme */"./src/services/theme/index.ts");n.d(e,"Theme",(function(){return c.Theme}))},"./src/services/lang/index.ts":
/*!************************************!*\
  !*** ./src/services/lang/index.ts ***!
  \************************************/
/*! exports provided: Lang */function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n=!1);var r=e.replace(d,""),c=Object(o.getObjectValueByPath)(t,r,h);return c===h&&(n?(Object(a.consoleError)('Translation key "'+r+'" not found in fallback'),c=e):(Object(a.consoleWarn)('Translation key "'+r+'" not found, falling back to default'),c=i(s.default,e,!0))),c}n.r(e),n.d(e,"Lang",(function(){return f}));var r=n(/*! ../service */"./src/services/service/index.ts"),s=n(/*! ../../locale/en */"./src/locale/en.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},d="$vuetify.",h=Symbol("Lang fallback"),f=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.current=e.current||"en",n.locales=Object.assign({en:s.default},e.locales),n.translator=e.t,n}return c(e,t),e.prototype.t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t.startsWith(d))return this.replace(t,e);if(this.translator)return this.translator.apply(this,u([t],e));var r=i(this.locales[this.current],t);return this.replace(r,e)},e.prototype.replace=function(t,e){return t.replace(/\{(\d+)\}/g,(function(t,n){return e[+n]+""}))},e.property="lang",e}(r.Service)},"./src/services/service/index.ts":
/*!***************************************!*\
  !*** ./src/services/service/index.ts ***!
  \***************************************/
/*! exports provided: Service */function(t,e,n){"use strict";n.r(e),n.d(e,"Service",(function(){return i}));var i=function(){function t(){this.framework={}}return t.prototype.init=function(){},t}()},"./src/services/theme/index.ts":
/*!*************************************!*\
  !*** ./src/services/theme/index.ts ***!
  \*************************************/
/*! exports provided: Theme */function(t,e,n){"use strict";n.r(e),n.d(e,"Theme",(function(){return c}));var i=n(/*! ../service */"./src/services/service/index.ts"),r=n(/*! ./utils */"./src/services/theme/utils.ts"),s=n(/*! vue */"vue"),o=n.n(s),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;if(n.disabled=!1,n.themes={light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},n.defaults=n.themes,n.isDark=null,n.vueInstance=null,n.vueMeta=null,e.disable)return n.disabled=!0,n;n.options=e.options,n.dark=!!e.dark;var i=e.themes||{};return n.themes={dark:n.fillVariant(i.dark,!0),light:n.fillVariant(i.light,!1)},n}return a(e,t),Object.defineProperty(e.prototype,"css",{set:function(t){return this.vueMeta?void(this.isVueMeta23&&this.applyVueMeta23()):void(this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dark",{get:function(){return!!this.isDark},set:function(t){var e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()},enumerable:!0,configurable:!0}),e.prototype.applyTheme=function(){return this.disabled?this.clearCss():void(this.css=this.generatedStyles)},e.prototype.clearCss=function(){this.css=""},e.prototype.init=function(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme())},e.prototype.setTheme=function(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()},e.prototype.resetThemes=function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()},e.prototype.checkOrCreateStyleElement=function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),!!this.styleEl)},e.prototype.fillVariant=function(t,e){void 0===t&&(t={});var n=this.themes[e?"dark":"light"];return Object.assign({},n,t)},e.prototype.genStyleElement=function(){if("undefined"!=typeof document){var t=this.options||{};this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",t.cspNonce&&this.styleEl.setAttribute("nonce",t.cspNonce),document.head.appendChild(this.styleEl)}},e.prototype.initVueMeta=function(t){var e=this;if(this.vueMeta=t.$meta(),this.isVueMeta23)t.$nextTick((function(){e.applyVueMeta23()}));else{var n="function"==typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",i=t.$options[n]||{};t.$options[n]=function(){i.style=i.style||[];var t=i.style.find((function(t){return"vuetify-theme-stylesheet"===t.id}));return t?t.cssText=e.generatedStyles:i.style.push({cssText:e.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(e.options||{}).cspNonce}),i}}},e.prototype.applyVueMeta23=function(){(0,this.vueMeta.addApp("vuetify").set)({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}]})},e.prototype.initSSR=function(t){var e=this.options||{},n=e.cspNonce?' nonce="'+e.cspNonce+'"':"";t.head=t.head||"",t.head+='<style type="text/css" id="vuetify-theme-stylesheet"'+n+">"+this.generatedStyles+"</style>"},e.prototype.initTheme=function(){var t=this;"undefined"==typeof document||(this.vueInstance&&this.vueInstance.$destroy(),this.vueInstance=new o.a({data:{themes:this.themes},watch:{themes:{immediate:!0,deep:!0,handler:function(){return t.applyTheme()}}}}))},Object.defineProperty(e.prototype,"currentTheme",{get:function(){var t=this.dark?"dark":"light";return this.themes[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generatedStyles",{get:function(){var t,e=this.parsedTheme,n=this.options||{};return null!=n.themeCache&&null!=(t=n.themeCache.get(e))?t:(t=r.genStyles(e,n.customProperties),null!=n.minifyTheme&&(t=n.minifyTheme(t)),null!=n.themeCache&&n.themeCache.set(e,t),t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parsedTheme",{get:function(){var t=this.currentTheme||{};return r.parse(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVueMeta23",{get:function(){return"function"==typeof this.vueMeta.addApp},enumerable:!0,configurable:!0}),e.property="theme",e}(i.Service)},"./src/services/theme/utils.ts":
/*!*************************************!*\
  !*** ./src/services/theme/utils.ts ***!
  \*************************************/
/*! exports provided: parse, genStyles, genVariations, lighten, darken */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){void 0===e&&(e=!1);for(var n=t.anchor,s=h(t,["anchor"]),a=Object.keys(s),c={},u=0;u<a.length;++u){var d=a[u],f=t[d];null==f||(e?("base"===d||d.startsWith("lighten")||d.startsWith("darken"))&&(c[d]=Object(l.colorToHex)(f)):"object"===i(f)?c[d]=r(f,!0):c[d]=o(d,Object(l.colorToInt)(f)))}return e||(c.anchor=n||c.base||c.primary.base),c}function s(t,e){void 0===e&&(e=!1);var n=t.anchor,i=h(t,["anchor"]),r=Object.keys(i);if(!r.length)return"";var s="",o="";o+=".v-application a { color: "+(e?v("anchor"):n)+"; }",e&&(s+="  "+m("anchor")+": "+n+";\n");for(var a=0;a<r.length;++a){var c=r[a],l=t[c];o+=f(c,e?v(c):l.base),e&&(s+="  "+m(c)+": "+l.base+";\n");for(var u=Object.keys(l),d=0;d<u.length;++d){var g=u[d],y=l[g];"base"===g||(o+=p(c,g,e?v(c,g):y),e&&(s+="  "+m(c,g)+": "+y+";\n"))}}return e&&(s=":root {\n"+s+"}\n\n"),s+o}function o(t,e){for(var n={base:Object(l.intToHex)(e)},i=5;0<i;--i)n["lighten"+i]=Object(l.intToHex)(a(e,i));for(i=1;4>=i;++i)n["darken"+i]=Object(l.intToHex)(c(e,i));return n}function a(t,e){var n=d.fromXYZ(u.toXYZ(t));return n[0]+=10*e,u.fromXYZ(d.toXYZ(n))}function c(t,e){var n=d.fromXYZ(u.toXYZ(t));return n[0]-=10*e,u.fromXYZ(d.toXYZ(n))}n.r(e),n.d(e,"parse",(function(){return r})),n.d(e,"genStyles",(function(){return s})),n.d(e,"genVariations",(function(){return o})),n.d(e,"lighten",(function(){return a})),n.d(e,"darken",(function(){return c}));var l=n(/*! ../../util/colorUtils */"./src/util/colorUtils.ts"),u=n(/*! ../../util/color/transformSRGB */"./src/util/color/transformSRGB.ts"),d=n(/*! ../../util/color/transformCIELAB */"./src/util/color/transformCIELAB.ts"),h=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)0>e.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},f=function(t,e){return"\n.v-application ."+t+" {\n  background-color: "+e+" !important;\n  border-color: "+e+" !important;\n}\n.v-application ."+t+"--text {\n  color: "+e+" !important;\n  caret-color: "+e+" !important;\n}"},p=function(t,e,n){var i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}(e.split(/(\d)/,2),2),r=i[0],s=i[1];return"\n.v-application ."+t+"."+r+"-"+s+" {\n  background-color: "+n+" !important;\n  border-color: "+n+" !important;\n}\n.v-application ."+t+"--text.text--"+r+"-"+s+" {\n  color: "+n+" !important;\n  caret-color: "+n+" !important;\n}"},m=function(t,e){return void 0===e&&(e="base"),"--v-"+t+"-"+e},v=function(t,e){return void 0===e&&(e="base"),"var("+m(t,e)+")"}},"./src/styles/components/_selection-controls.sass":
/*!********************************************************!*\
  !*** ./src/styles/components/_selection-controls.sass ***!
  \********************************************************/
/*! no static exports found */function(){},"./src/styles/main.sass":
/*!******************************!*\
  !*** ./src/styles/main.sass ***!
  \******************************/
/*! no static exports found */function(){},"./src/util/ThemeProvider.ts":
/*!***********************************!*\
  !*** ./src/util/ThemeProvider.ts ***!
  \***********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../mixins/themeable */"./src/mixins/themeable/index.ts"),r=n(/*! ./mixins */"./src/util/mixins.ts");e.default=Object(r.default)(i.default).extend({name:"theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:i.default.options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}})},"./src/util/color/transformCIELAB.ts":
/*!*******************************************!*\
  !*** ./src/util/color/transformCIELAB.ts ***!
  \*******************************************/
/*! exports provided: fromXYZ, toXYZ */function(t,e,n){"use strict";function i(t){var e=o,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function r(t){var e=a,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}n.r(e),n.d(e,"fromXYZ",(function(){return i})),n.d(e,"toXYZ",(function(){return r}));var o=function(t){return.008856451679035631<t?Math.cbrt(t):t/.12841854934601665+4/29},a=function(t){return t>.20689655172413793?s(t,3):.12841854934601665*(t-4/29)}},"./src/util/color/transformSRGB.ts":
/*!*****************************************!*\
  !*** ./src/util/color/transformSRGB.ts ***!
  \*****************************************/
/*! exports provided: fromXYZ, toXYZ */function(t,e,n){"use strict";function i(t){for(var e=[,,,],n=a,i=0;3>i;++i)e[i]=u(255*Object(o.clamp)(c(n[i][0]*t[0]+n[i][1]*t[1]+n[i][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function r(t){for(var e=[0,0,0],n=d,i=l,r=n((255&t>>16)/255),s=n((255&t>>8)/255),o=n((255&t>>0)/255),a=0;3>a;++a)e[a]=i[a][0]*r+i[a][1]*s+i[a][2]*o;return e}n.r(e),n.d(e,"fromXYZ",(function(){return i})),n.d(e,"toXYZ",(function(){return r}));var o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],c=function(t){return.0031308>=t?12.92*t:1.055*s(t,1/2.4)-.055},l=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],d=function(t){return.04045>=t?t/12.92:s((t+.055)/1.055,2.4)}},"./src/util/colorUtils.ts":
/*!********************************!*\
  !*** ./src/util/colorUtils.ts ***!
  \********************************/
/*! exports provided: colorToInt, intToHex, colorToHex, HSVAtoRGBA, RGBAtoHSVA, HSVAtoHSLA, HSLAtoHSVA, RGBAtoCSS, RGBtoCSS, RGBAtoHex, HexToRGBA, HexToHSVA, HSVAtoHex, parseHex, RGBtoInt, contrastRatio */function(n,i,r){"use strict";function s(t){var e;if("number"==typeof t)e=t;else{if("string"!=typeof t)throw new TypeError("Colors can only be numbers or strings, recieved "+(null==t?t:t.constructor.name)+" instead");var n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((function(t){return t+t})).join("")),6!==n.length&&Object(S.consoleWarn)("'"+t+"' is not a valid rgb color"),e=parseInt(n,16)}return 0>e?(Object(S.consoleWarn)("Colors cannot be negative: '"+t+"'"),e=0):(16777215<e||isNaN(e))&&(Object(S.consoleWarn)("'"+t+"' is not a valid rgb color"),e=16777215),e}function o(t){var e=t.toString(16);return 6>e.length&&(e="0".repeat(6-e.length)+e),"#"+e}function a(t){return o(s(t))}function c(n){var i=n.h,r=n.s,s=n.v,o=n.a,a=function(n){var o=(n+i/60)%6;return s-s*r*e(t(o,4-o,1),0)},c=[a(5),a(3),a(1)].map((function(t){return u(255*t)}));return{r:c[0],g:c[1],b:c[2],a:o}}function l(n){if(!n)return{h:0,s:1,v:1,a:1};var i=n.r/255,r=n.g/255,s=n.b/255,o=e(i,r,s),a=t(i,r,s),c=0;o!==a&&(o===i?c=60*(0+(r-s)/(o-a)):o===r?c=60*(2+(s-i)/(o-a)):o===s&&(c=60*(4+(i-r)/(o-a)))),0>c&&(c+=360);var l=[c,0===o?0:(o-a)/o,o];return{h:l[0],s:l[1],v:l[2],a:n.a}}function d(e){var n=e.h,i=e.s,r=e.v,s=e.a,o=r-r*i/2;return{h:n,s:1===o||0===o?0:(r-o)/t(o,1-o),l:o,a:s}}function h(e){var n=e.h,i=e.s,r=e.l,s=e.a,o=r+i*t(r,1-r);return{h:n,s:0===o?0:2-2*r/o,v:o,a:s}}function f(t){return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"}function p(t){return f(w({},t,{a:1}))}function m(t){var e=function(t){var e=u(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()};return"#"+[e(t.r),e(t.g),e(t.b),e(u(255*t.a))].join("")}function v(t){var e=Object(C.chunk)(t.slice(1),2).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2],a:u(e[3]/255*100)/100}}function g(t){return l(v(t))}function y(t){return m(c(t))}function b(t){return t.startsWith("#")&&(t=t.slice(1)),3===(t=t.replace(/([^0-9a-f])/gi,"F")).length&&(t=t.split("").map((function(t){return t+t})).join("")),("#"+(t=6===t.length?Object(C.padEnd)(t,8,"F"):Object(C.padEnd)(Object(C.padEnd)(t,6),8,"F"))).toUpperCase().substr(0,9)}function x(t){return(t.r<<16)+(t.g<<8)+t.b}function V(n,i){var r=O(Object(k.toXYZ)(x(n)),2)[1],s=O(Object(k.toXYZ)(x(i)),2)[1];return(e(r,s)+.05)/(t(r,s)+.05)}r.r(i),r.d(i,"colorToInt",(function(){return s})),r.d(i,"intToHex",(function(){return o})),r.d(i,"colorToHex",(function(){return a})),r.d(i,"HSVAtoRGBA",(function(){return c})),r.d(i,"RGBAtoHSVA",(function(){return l})),r.d(i,"HSVAtoHSLA",(function(){return d})),r.d(i,"HSLAtoHSVA",(function(){return h})),r.d(i,"RGBAtoCSS",(function(){return f})),r.d(i,"RGBtoCSS",(function(){return p})),r.d(i,"RGBAtoHex",(function(){return m})),r.d(i,"HexToRGBA",(function(){return v})),r.d(i,"HexToHSVA",(function(){return g})),r.d(i,"HSVAtoHex",(function(){return y})),r.d(i,"parseHex",(function(){return b})),r.d(i,"RGBtoInt",(function(){return x})),r.d(i,"contrastRatio",(function(){return V}));var S=r(/*! ./console */"./src/util/console.ts"),C=r(/*! ./helpers */"./src/util/helpers.ts"),k=r(/*! ./color/transformSRGB */"./src/util/color/transformSRGB.ts"),w=function(){return(w=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}},"./src/util/colors.ts":
/*!****************************!*\
  !*** ./src/util/colors.ts ***!
  \****************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),r=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),s=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),o=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),a=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),c=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),l=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),u=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),d=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),h=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),f=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),p=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),m=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),v=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),g=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),y=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),b=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),x=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),V=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),S=Object.freeze({black:"#000000",white:"#ffffff",transparent:"transparent"});e.default=Object.freeze({red:i,pink:r,purple:s,deepPurple:o,indigo:a,blue:c,lightBlue:l,cyan:u,teal:d,green:h,lightGreen:f,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,blueGrey:x,grey:V,shades:S})},"./src/util/console.ts":
/*!*****************************!*\
  !*** ./src/util/console.ts ***!
  \*****************************/
/*! exports provided: consoleInfo, consoleWarn, consoleError, deprecate, breaking, removed */function(t,e,n){"use strict";function i(t,e,n){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] "+t+(e?function(t){if(t._isVue&&t.$parent){for(var e=[],n=0;t;){if(0<e.length){var i=e[e.length-1];if(i.constructor===t.constructor){n++,t=t.$parent;continue}0<n&&(e[e.length-1]=[i,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((function(t,e){return""+(0===e?"---\x3e ":" ".repeat(5+2*e))+(Array.isArray(t)?u(t[0])+"... ("+t[1]+" recursive calls)":u(t))})).join("\n")}return"\n\n(found in "+u(t)+")"}(e):"")}function r(t,e,n){var r=i(t,e,n);null!=r&&console.info(r)}function s(t,e,n){var r=i(t,e,n);null!=r&&console.warn(r)}function o(t,e,n){var r=i(t,e,n);null!=r&&console.error(r)}function a(t,e,n,i){s("[UPGRADE] '"+t+"' is deprecated, use '"+e+"' instead.",n,i)}function c(t,e,n,i){o("[BREAKING] '"+t+"' has been removed, use '"+e+"' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide",n,i)}function l(t,e,n){s("[REMOVED] '"+t+"' has been removed. You can safely omit it.",e,n)}function u(t,e){if(t.$root===t)return"<Root>";var n="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},i=n.name||n._componentTag,r=n.__file;if(!i&&r){var s=r.match(/([^/\\]+)\.vue$/);i=s&&s[1]}return(i?"<"+h(i)+">":"<Anonymous>")+(r&&!1!==e?" at "+r:"")}n.r(e),n.d(e,"consoleInfo",(function(){return r})),n.d(e,"consoleWarn",(function(){return s})),n.d(e,"consoleError",(function(){return o})),n.d(e,"deprecate",(function(){return a})),n.d(e,"breaking",(function(){return c})),n.d(e,"removed",(function(){return l}));var d=/(?:^|[-_])(\w)/g,h=function(t){return t.replace(d,(function(t){return t.toUpperCase()})).replace(/[-_]/g,"")}},"./src/util/dedupeModelListeners.ts":
/*!******************************************!*\
  !*** ./src/util/dedupeModelListeners.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){var e=t.on.input.indexOf(t.model.callback);-1<e&&t.on.input.splice(e,1)}else delete t.on.input}n.r(e),n.d(e,"default",(function(){return i}))},"./src/util/helpers.ts":
/*!*****************************!*\
  !*** ./src/util/helpers.ts ***!
  \*****************************/
/*! exports provided: createSimpleFunctional, createSimpleTransition, createJavaScriptTransition, directiveConfig, addOnceEventListener, passiveSupported, addPassiveEventListener, getNestedValue, deepEqual, getObjectValueByPath, getPropertyFromItem, createRange, getZIndex, escapeHTML, filterObjectOnKeys, convertToUnit, kebabCase, isObject, keyCodes, remapInternalIcon, keys, camelize, arrayDiff, upperFirst, groupByProperty, wrapInArray, sortItems, defaultFilter, searchItems, getSlotType, debounce, getPrefixedScopedSlots, getSlot, clamp, padEnd, chunk, humanReadableFileSize, camelizeObjectKeys */function(n,i,r){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return void 0===e&&(e="div"),W.a.extend({name:n||t.replace(/__/g,"-"),functional:!0,render:function(n,i){var r=i.data,s=i.children;return r.staticClass=(t+" "+(r.staticClass||"")).trim(),n(e,r,s)}})}function c(t){var e;void 0===t&&(t=[]);for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(e=[]).concat.apply(e,q([t],n))}function l(t,e,n){return void 0===e&&(e="top center 0"),{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:e}},render:function(e,n){var i="transition"+(n.props.group?"-group":""),r={props:{name:t,mode:n.props.mode},on:{beforeEnter:function(t){t.style.transformOrigin=n.props.origin,t.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(r.on.leave=c(r.on.leave,(function(t){return t.style.position="absolute"}))),n.props.hideOnLeave&&(r.on.leave=c(r.on.leave,(function(t){return t.style.display="none"}))),e(i,Object(G.default)(n.data,r),n.children)}}}function u(t,e,n){return void 0===n&&(n="in-out"),{name:t,functional:!0,props:{mode:{type:String,default:n}},render:function(n,i){return n("transition",Object(G.default)(i.data,{props:{name:t},on:e}),i.children)}}}function d(t,e){return void 0===e&&(e={}),U({},e,t.modifiers,{value:t.arg},t.value||{})}function h(t,e,n,i){void 0===i&&(i=!1);t.addEventListener(e,(function r(s){n(s),t.removeEventListener(e,r,i)}),i)}function f(t,e,n,i){t.addEventListener(e,n,!!X&&i)}function p(t,e,n){var i=e.length-1;if(0>i)return void 0===t?n:t;for(var r=0;r<i;r++){if(null==t)return n;t=t[e[r]]}return null==t?n:void 0===t[e[i]]?n:t[e[i]]}function m(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;var n=Object.keys(t);return n.length===Object.keys(e).length&&n.every((function(n){return m(t[n],e[n])}))}function v(t,e,n){return null!=t&&e&&"string"==typeof e?void 0===t[e]?p(t,(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n):t[e]:n}function g(t,e,n){if(null==e)return void 0===t?n:t;if(t!==Object(t))return void 0===n?t:n;if("string"==typeof e)return v(t,e,n);if(Array.isArray(e))return p(t,e,n);if("function"!=typeof e)return n;var i=e(t,n);return void 0===i?n:i}function y(t){return Array.from({length:t},(function(t,e){return e}))}function b(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||b(t.parentNode)}function x(t){return t.replace(/[&<>]/g,(function(t){return Z[t]||t}))}function V(t,e){for(var n,i={},r=0;r<e.length;r++)void 0!==t[n=e[r]]&&(i[n]=t[n]);return i}function S(t,e){return void 0===e&&(e="px"),null==t||""===t?void 0:isNaN(+t)?t+"":""+ +t+e}function C(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function k(t){return null!==t&&"object"===s(t)}function w(t,e){return e.startsWith("$")?v(t,"$vuetify.icons.values."+e.split("$").pop().split(".").pop(),e):e}function O(t){return Object.keys(t)}function T(t,e){for(var n=[],i=0;i<e.length;i++)0>t.indexOf(e[i])&&n.push(e[i]);return n}function $(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _(t,e){return t.reduce((function(t,n){return(t[n[e]]=t[n[e]]||[]).push(n),t}),{})}function I(t){return null==t?[]:Array.isArray(t)?t:[t]}function j(t,e,n,i,r){if(null===e||!e.length)return t;var s=new Intl.Collator(i,{sensitivity:"accent",usage:"sort"});return t.sort((function(t,i){for(var o,a,c=0;c<e.length;c++){var l=e[c],u=v(t,l),d=v(i,l);if(n[c]&&(u=(o=Y([d,u],2))[0],d=o[1]),r&&r[l]){var h=r[l](u,d);if(!h)continue;return h}if((null!==u||null!==d)&&(a=Y([u,d].map((function(t){return(t||"").toString().toLocaleLowerCase()})),2),(u=a[0])!==(d=a[1])))return isNaN(u)||isNaN(d)?s.compare(u,d):+u-+d}return 0}))}function A(t,e){return null!=t&&null!=e&&"boolean"!=typeof t&&-1!==t.toString().toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}function D(t,e){return e?""===(e=e.toString().toLowerCase()).trim()?t:t.filter((function(t){return Object.keys(t).some((function(n){return A(v(t,n),e)}))})):t}function B(t,e,n){return t.$slots[e]&&t.$scopedSlots[e]&&t.$scopedSlots[e].name?n?"v-slot":"scoped":t.$slots[e]?"normal":t.$scopedSlots[e]?"scoped":void 0}function P(t,e){var n=0;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){return t.apply(void 0,q(i))}),e)}}function E(t,e){return Object.keys(e).filter((function(e){return e.startsWith(t)})).reduce((function(n,i){return n[i.replace(t,"")]=e[i],n}),{})}function L(t,e,n,i){return void 0===e&&(e="default"),void 0===i&&(i=!1),t.$scopedSlots[e]?t.$scopedSlots[e](n):!t.$slots[e]||n&&!i?void 0:t.$slots[e]}function M(n,i,r){return void 0===i&&(i=0),void 0===r&&(r=1),e(i,t(r,n))}function F(t,n,i){return void 0===i&&(i="0"),t+i.repeat(e(0,n-t.length))}function H(t,e){void 0===e&&(e=1);for(var n=[],i=0;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function N(t,e){void 0===e&&(e=!1);var n=e?1024:1e3;if(t<n)return t+" B";for(var i=e?["Ki","Mi","Gi"]:["k","M","G"],r=-1;a(t)>=n&&r<i.length-1;)t/=n,++r;return t.toFixed(1)+" "+i[r]+"B"}function R(t){return t?Object.keys(t).reduce((function(e,n){return e[tt(n)]=t[n],e}),{}):{}}r.r(i),r.d(i,"createSimpleFunctional",(function(){return o})),r.d(i,"createSimpleTransition",(function(){return l})),r.d(i,"createJavaScriptTransition",(function(){return u})),r.d(i,"directiveConfig",(function(){return d})),r.d(i,"addOnceEventListener",(function(){return h})),r.d(i,"passiveSupported",(function(){return X})),r.d(i,"addPassiveEventListener",(function(){return f})),r.d(i,"getNestedValue",(function(){return p})),r.d(i,"deepEqual",(function(){return m})),r.d(i,"getObjectValueByPath",(function(){return v})),r.d(i,"getPropertyFromItem",(function(){return g})),r.d(i,"createRange",(function(){return y})),r.d(i,"getZIndex",(function(){return b})),r.d(i,"escapeHTML",(function(){return x})),r.d(i,"filterObjectOnKeys",(function(){return V})),r.d(i,"convertToUnit",(function(){return S})),r.d(i,"kebabCase",(function(){return C})),r.d(i,"isObject",(function(){return k})),r.d(i,"keyCodes",(function(){return J})),r.d(i,"remapInternalIcon",(function(){return w})),r.d(i,"keys",(function(){return O})),r.d(i,"camelize",(function(){return tt})),r.d(i,"arrayDiff",(function(){return T})),r.d(i,"upperFirst",(function(){return $})),r.d(i,"groupByProperty",(function(){return _})),r.d(i,"wrapInArray",(function(){return I})),r.d(i,"sortItems",(function(){return j})),r.d(i,"defaultFilter",(function(){return A})),r.d(i,"searchItems",(function(){return D})),r.d(i,"getSlotType",(function(){return B})),r.d(i,"debounce",(function(){return P})),r.d(i,"getPrefixedScopedSlots",(function(){return E})),r.d(i,"getSlot",(function(){return L})),r.d(i,"clamp",(function(){return M})),r.d(i,"padEnd",(function(){return F})),r.d(i,"chunk",(function(){return H})),r.d(i,"humanReadableFileSize",(function(){return N})),r.d(i,"camelizeObjectKeys",(function(){return R}));var z=r(/*! vue */"vue"),W=r.n(z),G=r(/*! ./mergeData */"./src/util/mergeData.ts"),U=function(){return(U=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},q=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Y(arguments[e]));return t},X=!1;try{if("undefined"!=typeof window){var K=Object.defineProperty({},"passive",{get:function(){X=!0}});window.addEventListener("testListener",K,K),window.removeEventListener("testListener",K,K)}}catch(t){console.warn(t)}var Z={"&":"&amp;","<":"&lt;",">":"&gt;"},J=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34}),Q=/-(\w)/g,tt=function(t){return t.replace(Q,(function(t,e){return e?e.toUpperCase():""}))}},"./src/util/mergeData.ts":
/*!*******************************!*\
  !*** ./src/util/mergeData.ts ***!
  \*******************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){var e,n,i={};try{for(var r=a(t.split(l.styleList)),o=r.next();!o.done;o=r.next()){var u=o.value,d=c(u.split(l.styleProp),2),h=d[0],f=d[1];(h=h.trim())&&("string"==typeof f&&(f=f.trim()),i[Object(s.camelize)(h)]=f)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function r(){for(var t,e,n,r,s,c,l={},u=arguments.length;u--;)try{for(var d=(t=void 0,a(Object.keys(arguments[u]))),h=d.next();!h.done;h=d.next())switch(s=h.value,s){case"class":case"style":case"directives":if(Array.isArray(l[s])||(l[s]=[]),"style"===s){var f=void 0;f=Array.isArray(arguments[u].style)?arguments[u].style:[arguments[u].style];for(var p,m=0;m<f.length;m++)"string"==typeof(p=f[m])&&(f[m]=i(p));arguments[u].style=f}l[s]=l[s].concat(arguments[u][s]);break;case"staticClass":if(!arguments[u][s])break;void 0===l[s]&&(l[s]=""),l[s]&&(l[s]+=" "),l[s]+=arguments[u][s].trim();break;case"on":case"nativeOn":l[s]||(l[s]={});var v=l[s];try{for(var g=(n=void 0,a(Object.keys(arguments[u][s]||{}))),y=g.next();!y.done;y=g.next())v[c=y.value]=v[c]?[].concat(v[c],arguments[u][s][c]):arguments[u][s][c]}catch(l){n={error:l}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":l[s]||(l[s]={}),l[s]=o({},arguments[u][s],l[s]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:l[s]||(l[s]=arguments[u][s])}}catch(l){t={error:l}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}return l}n.r(e),n.d(e,"default",(function(){return r}));var s=n(/*! ./helpers */"./src/util/helpers.ts"),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},l={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/}},"./src/util/mixins.ts":
/*!****************************!*\
  !*** ./src/util/mixins.ts ***!
  \****************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.a.extend({mixins:t})}n.r(e),n.d(e,"default",(function(){return i}));var r=n(/*! vue */"vue"),s=n.n(r)},"./src/util/rebuildFunctionalSlots.ts":
/*!********************************************!*\
  !*** ./src/util/rebuildFunctionalSlots.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(e("template",{slot:i},t[i]));return n}n.r(e),n.d(e,"default",(function(){return i}))},vue:
/*!******************************************************************************!*\
  !*** external {"commonjs":"vue","commonjs2":"vue","amd":"vue","root":"Vue"} ***!
  \******************************************************************************/
/*! no static exports found */function(t){t.exports=i}}).default}))},function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(){f&&d&&(f=!1,d.length?h=d.concat(h):p=-1,h.length&&s())}function s(){if(!f){var t=i(r);f=!0;for(var e=h.length;e;){for(d=h,h=[];++p<e;)d&&d[p].run();p=-1,e=h.length}d=null,f=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var c,l,u=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var d,h=[],f=!1,p=-1;u.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new o(t,e)),1!==h.length||f||i(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.prependListener=a,u.prependOnceListener=a,u.listeners=function(){return[]},u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t){"use strict";t.exports=function(t,e){return function(){for(var n=Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(0);t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,(function(t,e){null==t||(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(0),s=n(21),o={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"==typeof XMLHttpRequest?void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(9)):t=n(9),t}(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&300>t},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(o)})),t.exports=a}).call(this,n(4))},function(t,e,n){"use strict";var i=n(0),r=n(22),s=n(6),o=n(24),a=n(27),c=n(28),l=n(10);t.exports=function(t){return new Promise((function(e,u){var d=t.data,h=t.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}var v=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),s(v,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};r(e,u,i),f=null}},f.onabort=function(){f&&(u(l("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(l("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(l(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n(29),y=(t.withCredentials||c(v))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&i.forEach(h,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),u(t),f=null)})),void 0===d&&(d=null),f.send(d)}))}},function(t,e,n){"use strict";var i=n(23);t.exports=function(t,e,n,r,s){var o=new Error(t);return i(o,e,n,r,s)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(s,(function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0===e[r]?i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r]):n[r]=e[r]})),i.forEach(o,(function(i){void 0===e[i]?void 0!==t[i]&&(n[i]=t[i]):n[i]=e[i]}));var a=r.concat(s).concat(o),c=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return i.forEach(c,(function(i){void 0===e[i]?void 0!==t[i]&&(n[i]=t[i]):n[i]=e[i]})),n}},function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},function(t,e,n){t.exports=n(16)},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;e.setTimeout=function(){return new i(s.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(15),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t){"use strict";function n(t){delete o[t]}function i(t){if(a)setTimeout(i,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{n(t),a=!1}}}}if(!t.setImmediate){var r,s=1,o={},a=!1,c=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){i(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},r=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;r=function(e){var n=c.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(i,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return o[s]=i,r(s),s++},l.clearImmediate=n}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(4))},function(t,e,n){"use strict";function i(t){var e=new o(t),n=s(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var r=n(0),s=n(5),o=n(17),a=n(11),c=i(n(8));c.Axios=o,c.create=function(t){return i(a(c.defaults,t))},c.Cancel=n(12),c.CancelToken=n(30),c.isCancel=n(7),c.all=function(t){return Promise.all(t)},c.spread=n(31),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var r=n(0),s=n(6),o=n(18),a=n(19),c=n(11);i.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=c(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},i.prototype.getUri=function(t){return t=c(this.defaults,t),s(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){i.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){i.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=i},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(0);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(0),s=n(20),o=n(7),a=n(8);t.exports=function(t){return i(t),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return i(t),e.data=s(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(i(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(10);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(25),r=n(26);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,o={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),n=i.trim(t.substr(s+1)),e){if(o[e]&&0<=r.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}var r=n(12);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(3),s=n.n(r);i.default.use(s.a);var o=new s.a({theme:{dark:!0}}),a=n(13),c=n.n(a),l=function(t,e,n,i,r,s,o,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=[],l._compiled=!0),l._scopeId="data-v-"+s,c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}(i.default.extend({data:()=>({selected:"",value:"",answer:""}),methods:{convert(){let t;console.log("localhost:8080/convert/"+this.selected+"/"+this.value),t=c.a.get("http://localhost:8080/convert/"+this.selected+"/"+this.value).then((function(t){return console.log(t.data),t.data})).catch(t=>console.error("Conversion failed: ",t)),t.then(t=>this.setAnswer(t)).catch(t=>console.error(t))},setAnswer(t){this.answer=t.data}}}),(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),n("option",{attrs:{value:"celsius-kelvin"}},[t._v("Celsius - Kelvin")]),t._v(" "),n("option",{attrs:{value:"kelvin-celsius"}},[t._v("Kelvin - Celsius")]),t._v(" "),n("option",{attrs:{value:"celsius-fahrenheit"}},[t._v("Celsius - Fahrenheit")]),t._v(" "),n("option",{attrs:{value:"fahrenheit-celsius"}},[t._v("Fahrenheit - Celsius")]),t._v(" "),n("option",{attrs:{value:"kilogram-pound"}},[t._v("Kilogram - Pound")]),t._v(" "),n("option",{attrs:{value:"pound-kilogram"}},[t._v("Pound - Kilogram")]),t._v(" "),n("option",{attrs:{value:"mile-kilometer"}},[t._v("Mile - Kilometer")]),t._v(" "),n("option",{attrs:{value:"kilometer-mile"}},[t._v("Kilometer - Mile")]),t._v(" "),n("option",{attrs:{value:"inch-centimeter"}},[t._v("Inches - Centimeters")]),t._v(" "),n("option",{attrs:{value:"centimeter-inch"}},[t._v("Centimeters - Inches")])])]),t._v(" "),n("span",[t._v(" : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{placeholder:"value to convert"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("button",{on:{click:function(){t.answer=t.convert()}}},[t._v("Convert")]),t._v(" "),n("p",[t._v("Conversion is: "+t._s(t.answer))])])}),0,0,0,"7f97ce14").exports;i.default.use(o),new i.default({el:"#app",vuetify:o,template:"\n   <div>\n    <conversion></conversion>\n   </div>\n   ",components:{Conversion:l}})}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUuZXNtLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnkvZGlzdC92dWV0aWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL3Z1ZXRpZnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29udmVyc2lvbi52dWUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb252ZXJzaW9uLnZ1ZT9jNDQwIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbnZlcnNpb24udnVlPzcwODUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImkiLCJkIiwiZSIsIm5hbWUiLCJ2YWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInYiLCJwIiwicyIsInUiLCJjIiwiZyIsInVzZSIsInRoZW1lIiwiZGFyayIsImV4dGVuZCIsImRhdGEiLCJzZWxlY3RlZCIsImFuc3dlciIsIm1ldGhvZHMiLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImEiLCJnZXQiLCJ0aGVuIiwiY2F0Y2giLCJlcnJvciIsInNldEFuc3dlciIsImRpcmVjdGl2ZXMiLCJhdHRycyIsIm9uIiwiZWwiLCJ2dWV0aWZ5IiwidGVtcGxhdGUiLCJjb21wb25lbnRzIiwiQ29udmVyc2lvbiJdLCJtYXBwaW5ncyI6IkNBQUEsY0FDQSxxREFDQSx3QkFDQSx5Q0FDQSxpQkFDQSxDQUNBLFVBQ0EsNkRBUEEsQ0FTQyx5QkNpMldELFNEajJXQyxFQytpQ0QsU0QvaUNDLEVDa0VELFdEakVBLE8sWUVOQSxjQUdBLFFBQ0Esb0JBR0EsWUFDQSxJQUNBLEtBQ0EsWUFVQSxPQU5DLEVBQUQsaUNBR0EsT0FHQSxVQXZCQSxTQWlGQSxPQXJEQyxFQUFELElBR0EsTUFHQSxvQkFDQSxVQUNBLDJCQUEwQyx1QkFLMUMsZ0JBQ0EsZ0RBQ0EsNENBQXdELGlCQUV4RCxzQ0FBaUQsWUFRakQsa0JBRUEsR0FEQSxjQUNBLGFBQ0EscURBQ0EsMEJBR0EsR0FGQSxPQUNBLG1DQUF5Qyx3QkFDekMsMkRBQWdILGFBQXFCLFVBQXJJLElBQ0EsVUFJQSxnQkFDQSxzQkFDQSxXQUEyQixrQkFDM0IsV0FBaUMsVUFFakMsT0FEQyxFQUFELFdBQ0EsR0FJQSxrQkFBc0Qsa0RBR3RELFlBSUEsVSwrQkNsRUEsU0FBUyxFQUFULEdBQ0EsbUNBU0EsU0FBUyxFQUFULEdBQ0Esa0JBNEVBLFNBQVNBLEVBQVQsR0FDQSxvQ0F1Q0EsU0FBUyxFQUFULEdBQ0Esc0NBd0VBLFNBQVMsRUFBVCxLQUVBLFdBVUEsR0FMQSxxQkFFQSxPQUdBLEtBRUEsdUJBQW1DLElBQU8sSUFDMUMsMkJBSUMsSUFBRCxXQUNBLDJDQUNBLHNCLElBM09BLEVBQVcsRUFBUSxHQU1uQiw0QkF5VEEsV0FDQSxVQUNBLGNBcFJBLFlBQ0EsMENBb1JBLFNBaFNBLFlBQ0EsaUVBQ0Esc0VBK1JBLFdBNVFBLFlBQ0EsMkRBNFFBLGtCQW5RQSxZQU9BLE1BTEEsb0RBQ0Esc0JBRUEsOENBK1BBLFNBcFBBLFlBQ0EsMEJBb1BBLFNBM09BLFlBQ0EsMEJBMk9BLFdBQ0EsY0FDQSxPQTFOQSxZQUNBLG1DQTBOQSxPQWpOQSxZQUNBLG1DQWlOQSxPQXhNQSxZQUNBLG1DQXdNQSxhQUNBLFNBdExBLFlBQ0Esd0JBc0xBLGtCQTdLQSxZQUNBLHlFQTZLQSxxQkFqSkEsa0JBQ0Esa0VBQ0Esb0NBQ0EsMkJBSUEsNEJBQ0EsOEJBMElBLFVBQ0EsTUEvRUEsU0FBUyxJQUVULGdCQUVBLEtBREEsMENBQ0EsVUFGQSxFQVFBLFFBVEMsRUFBRCxHQVNBLHVCQUF1QyxJQUFPLElBQzlDLGtCQUVBLFVBbUVBLFVBeERBLFNBQVNDLElBRVQsZ0JBRUEsS0FEQSwwQ0FDQSxVQUNLLG1CQUNMLFFBSkEsRUFVQSxRQVhDLEVBQUQsR0FXQSx1QkFBdUMsSUFBTyxJQUM5QyxrQkFFQSxVQTBDQSxPQS9CQSxnQkFRQSxPQVBDLEVBQUQsaUJBRUEsS0FEQSx3QkFDQSxPQUZBLEtBT0EsR0F3QkEsS0F6S0EsWUFDQSxrRCw2QkY5S0EscUJBV0EsU0FBUyxFQUFULEdBQ0EsZUFHQSxTQUFTLEVBQVQsR0FDQSxlQUdBLFNBQVMsRUFBVCxHQUNBLGFBVUEsU0FBUyxFQUFULEdBQ0EsTUFDQSxvQkFDQSxvQkFFQSxvQkFDQSxvQkFTQSxTQUFTLEVBQVQsR0FDQSxvQ0FnQkEsU0FBUyxFQUFULEdBQ0EscUNBVUEsU0FBUyxFQUFULEdBQ0EsdUJBQ0EsbUNBR0EsU0FBUyxFQUFULEdBQ0EsT0FDQyxFQUFELElBQ0EsMkJBQ0EsMkJBT0EsU0FBUyxFQUFULEdBQ0EsZUFDQSxHQUNBLHdDQUNBLHlCQURBLEtBU0EsU0FBUyxFQUFULEdBQ0Esb0JBQ0Esb0JBT0EsU0FBUyxFQUFULEtBTUEsUUFGQyxFQUFELG9CQUNBLGVBQ0EsSUFBaUIsV0FBaUIsSUFDbEMsV0FFQSxTQUNBLFlBQXNCLDJCQUN0QixZQUFzQixhQWdCdEIsU0FBUyxFQUFULEtBQ0EsYUFDQSxtQkFDQSxRQUNBLHNCQVNBLFNBQVMsRUFBVCxLQUNBLG9CQU1BLFNBQVMsRUFBVCxHQUNBLDBCQUNBLG1CQUVBLE9BREEsT0FDQSxZQTZEQSxTQUFTLEVBQVQsS0FDQSxPQURBLFFBRUMsRUFBRCxXQUNBLFdBQ0EsS0FDQSxZQUVBLFNBTUEsU0FBUyxFQUFULEtBQ0EsZUFDQSxVQUVBLFNBTUEsU0FBUyxFQUFULEdBRUEsUUFEQyxFQUFELEdBQ0EsSUFBaUIsV0FBZ0IsSUFDakMsTUFDQSxVQUdBLFNBVUEsU0FBUyxLQTJCVCxTQUFTLEVBQVQsS0FDQSxTQUFnQixTQURoQixJQUVDLEVBQUQsS0FDQSxPQUNBLGtCQXdCRyxPQUNILFdBeEJBLFFBQ0MsRUFBRCxpQkFDQSxtQkFDQSxRQUNBLG1EQUNBLG9CQUVPLHdDQUNQLGlDQUNPLGVBQ04sRUFBRCxlQUNBLGlCQUNBLGlEQUNBLHVCQUlBLFNBRUssU0FFTCxVQWNBLFNBQVMsRUFBVCxLQUNBLFlBQWlCLFdBQWdCLElBQ2pDLGFBQWtDLFNBRWxDLFNBTUEsU0FBUyxFQUFULEdBQ0EsU0FDQSxzQkFFQSxLQUNBLDBCQTBJQSxTQUFTLEVBQVQsR0FDQSwyQkFDQSxzQkFNQSxTQUFTLEVBQVQsU0FDQSwyQkFDQSxRQUNBLGVBQ0EsWUFDQSxrQkErRUEsU0FBUyxFQUFULEdBQ0EsNkRBNktBLFNBQVMsRUFBVCxHQUNBLFdBQ0EsWUFHQSxTQUFTLElBQ1QsU0FDQSwwQkEyREEsU0FBUyxFQUFULEdBQ0EseUNBT0EsU0FBUyxFQUFULEdBQ0EsYUFDQSxNQUNBLE9BSUEsK0JBQ0EsT0FDQSxNQUNBLFVBQ0EsbUJBQ0EsZ0JBV0EsT0FUQyxFQUFELFFBQ0Esc0JBQ0EsWUFDQSx3QkFDQSx3QkFDQSx3QkFDQSx3QkFDQSx3QkFDQSxjQUNBLEVBNERBLFNBQVMsRUFBVCxHQUNBLEtBNEVBLFNBQVMsRUFBVCxLQUlBLE1BSEEsNEJBa0JBLE9BZEMsRUFBRCxvQ0FDQSxXQUVBLEtBQ0EsT0FDQSx5QkFDQSx5QkFDQSxXQUVBLGFBRUEsTUFDQSxZQUVBLEVBTUEsU0FBUyxFQUFULFdBTUEsSUFDQyxFQUFELE9BRUEsdUNBQ0EsZ0NBS0MsRUFBRCxTQUNBLGFBQ0EsOEJBQ0EsUUFHQSxlQUNBLDJCQUNBLGNBQ0EsZ0JBQ0EsZUFDQSxvQkFVQSxPQVRDLEdBQUQsU0FDQSxXQVFBLElBTkEsZUFDQSxrQkFDQSxPQUlBLEdBRUEsZ0JBQ0Esb0JBRUEsc0JBUUEsUUFYQSxFQWFBLFlBRUEsSUFFQSxXQUNBLGlCQVVBLFNBQVMsRUFBVCxPQU1BLDBCQUdBLE9BRkMsRUFBRCxxQkFDQSxnQkFDQSxFQUVBLG9DQUVBLE9BREMsRUFBRCxLQUNBLEVBRUEsZUFmQSxPQWdCQyxFQUFELHFCQWhCQSxLQTJCQSxlQUNBLGVBNUJBLElBd0JBLE9BeEJBLEdBbUNBLFNBQVMsRUFBVCxLQU1BLDBCQUNDLEVBQUQsZ0JBREEsQ0FJQSxlQUNBLHdCQU9BLGdCQUdBLEtBckJBLEdBeUJBLGlCQU9BLFNBQVMsRUFBVCxHQUNBLGdDQUFpRCxJQUFPLEtBQ3hELFNBQ0EsZ0NBQ0Esa0JBQ0EsS0FnQ0EsU0FBUyxFQUFULEtBQ0EsTUFBYyxTQU9kLFFBTkEsTUFFQyxFQUFELEdBQ0EsbUJBQ0EsZUFFQSxJQUFpQixXQUFpQixJQUdsQyxZQUZBLFVBR0EsT0FDQSxPQUNBLE9BR0EsT0FDQSxNQUNBLE1BRUEsT0FOQSxVQVNBLFNBTUEsU0FBUyxFQUFULE9BSUEsU0FxQkEsZUFFQyxFQUFELHFCQUNBLFlBREEsRUFHQSx1QkFDQSxZQURBLEVBTEEsU0FTQSxPQVRBLEdBckJBLElBY0EsV0FDQSxTQUNBLHlDQUNBLDJDQWpCQSxJQStEQSxTQUFTLEVBQVQsS0FJQSxRQUNBLEVBQ0EsWUFDQSxtQkFFQSxJQUxBLEVBT0EsU0FLQSxZQUVBLFFBREMsRUFBRCxHQUNBLElBQWlCLFdBQWtCLEtBQ25DLHFCQUNBLGFBR0EsU0FYQSxJQURBLEVBMEJBLFNBQVMsRUFBVCxLQU1BLDZCQURBLFNBSUEsT0FKQSxFQXdNQSxTQUFTLEVBQVQsT0EwQ0EsY0FDQSxnQkFDQSxzQkF2QkEsR0FaQSx1QkFDQSxhQXBHQSxZQUNBLGNBQ0EsVUFFQSxJQURDLEVBQUQsR0FFQSx3QkFDQSxXQUNBLEtBRUEsaUJBREEsVUFHQSxFQURBLE9BQ0EsQ0FBcUIsaUJBS2pCLEdBQUQsS0FDSCxlQUNBLE9BRUEsRUFEQSxPQUNBLE9BRUEsQ0FBVyxRQVNYLFdBd0VBLElBbEVBLFlBQ0EsZUFDQSxNQUNBLGtCQUNBLG9CQUNBLFlBQW1CLFdBQW1CLElBQ3RDLFNBQStCLGdCQUUzQixHQUFELEtBQ0gsZ0JBQ0EsV0FDQSxVQUNBLEdBQWtCLFFBQWxCLEdBQ0EsQ0FBVyxVQXNEWCxJQXhDQSxZQUNBLG1CQUNBLEtBQ0EsZ0JBQ0EsV0FDQSx1QkFDQSxNQUFxQixtQkFtQ3JCLEtBTUEsVUFDQSxZQUNBLG9CQUVBLFVBQ0EsOEJBQThDLElBQU8sSUFDckQscUJBdkJBLElBNkJBLEVBREMsRUFBRCxHQUVBLFdBQ0EsS0FFQSxXQUNBLFFBQ0EsS0FPQSxTQVFBLFNBQVMsRUFBVCxPQU9BLHVCQUdBLFdBRUEsVUFBMkIsWUFDM0IsWUFDQSxVQUFvQyxZQUNwQyxZQUNBLGNBQXFDLEtBRXJDLGtCQWNBLFNBQVMsRUFBVCxTQUtBLElBQ0MsRUFBRCxLQUNBLFVBQ0EsT0FFQSxvQkFDQSxRQUNBLHNCQUNBLFVBQ00sR0FBRCxtQkFHTCx3QkFDQSxZQUNBLE1BS0EsZUFDQSxFQXFCQSxnQkFFQSxtQkFHQSxnQkFIQSxPQWVBLDhCQUNBLGtDQUNBLGdCQUVBLFlBSUEsNkNBQ0EsVUFEQSxHQTlDQSxRQUdBLFNBQ0EsTUFDQSxLQUNBLEtBU0EsU0FzSEEsU0FBUyxFQUFULEdBQ0Esa0RBQ0EsaUJBR0EsU0FBUyxFQUFULEtBQ0EsbUJBR0EsU0FBUyxFQUFULEtBQ0EscUJBQ0EsbUJBRUEsdUJBQTZDLElBQVMsSUFDdEQsYUFDQSxTQUdBLFNBZ0RBLFNBQVMsRUFBVCxPQUdBLElBQ0EsSUFDQSxTQUNBLFVBQ0EsYUFFQSxLQURBLHlCQUVBLFlBQXlCLFdBQWtCLElBQzNDLElBRUEsSUFEQSx1QkFDNEIsT0FDZixTQUNiLDRCQU1BLFNBakJBLFFBbUJBLEtBSUEsU0FBUyxFQUFULFdBT0EsTUFDQSxLQUNBLDhCQUNBLDhCQUNBLHFCQUE4QixzQ0FHOUIsZUFFRyxTQUNILFNBRUEsU0FHQSxTQUFTLEVBQVQsT0FDQSxtQkFDQSxJQUNBLHdDQUNLLFNBR0wsT0FDQSxLQUlBLEtBR0EsU0FBUyxFQUFULEdBS0EseUNBR0MsTUFBRCxFQUZBLGlCQWFBLFNBQVMsSUFDVCxNQUNBLGtCQUNBLFlBQ0EsWUFBaUIsV0FBbUIsSUFDcEMsT0FxRUEsU0FBUyxHQUFULEtBQ0EsTUFpQkEsR0FoQkEsb0JBQ0EsS0FDQSxJQUNBLFVBQ08sU0FDUCx1QkFKQSxHQU9BLFFBUUEsS0FKQSxNQUNBLE9BR0EsK0JBQ0EsZ0NBQ0EsT0ErSEEsU0FBUyxHQUFULElBS0EsU0FBUyxFQUFULFNBQ0EsSUFDQyxFQUFELGlCQUNBLHVEQUdBLGFBQ0Esc0JBQ0EsWUFDQSxPQUVBLFNBRUEsU0FDQSxXQUNBLEtBQWlCLGVBRmpCLElBSUEsaUJBQ0EsV0FDQSxLQUFpQixlQXZCakIsT0FDQSxXQTJDQSxTQUFTLEdBQVQsS0FDQSxpQkFDQyxFQUFELFVBRUEsUUFDQSxxQkFPQyxPQUFELHFDQUxBLFFBREMsRUFBRCxVQUNBLElBQXFCLFdBQW1CLElBQ3hDLGdDQVFBLE9BREMsRUFBRCxNQUNBLEVBR0EsU0FBUyxHQUFULGFBUUEsWUFDQSxXQUNBLE9BQ0EsT0FDQSxRQUNBLE9BS0ssTUFDTCxXQUNBLGdCQUVBLFlBQ0EsOEJBRUEsMENBQ0ssUUFDTCxRQUNBLFNBR0EsV0FDQSxTQUVBLEdBREEsU0FDQSxxQkFPQSxTQUFTLEdBQVQsT0FPQSxhQUNBLHdCQUdBLFdBVkEsa0JBQ0EsaUNBRkEsSUFJQSxFQUNDLEVBQUQsS0FTQSxLQUVBLFVBR0EsdUJBRUEsS0FDQSxZQUdBLFlBSUEsWUFDQSxPQThDQSxTQUFTLEdBQVQsV0FPQSxTQUNBLFVBS0EsT0FKQyxFQUFELFFBSUEsVUFGQSxNQUVBLEVBQ0ssVUFLTCxPQUpDLEVBQUQsUUFJQSxVQUZBLE1BRUEsRUFHQSxTQThCQSxTQUFTLEdBQVQsR0FDQSxZQUNBLE9BQ0EsaUJBU0EsU0FBUyxFQUFULFNBRUEsUUFEQyxFQUFELEdBRUEsUUFBYSxXQUFxQixLQUVsQyxFQURBLFNBQ0Esc0JBQ0EsYUFDQSxPQUVBLGlCQUNBLGFBR0EsSUFGQSxzQkFFQSxhQUNBLHlCQUNBLFdBRUEsbUJBRUssS0FDTCxNQUlBLGlCQUNPLFFBRVAsYUFHQSxhQUVBLHVCQUdBLGVBQ0EsVUFDQSxVQUNBLE9BQ0EsOEJBRUEsWUFJQSxTQXJEQSxTQURBLEVBS0EsU0FBUyxHQUFULEdBQ0Esd0JBN3lFQSxZQUNBLGFBNHlFQSxjQXFGQSxTQUFTLEdBQVQsS0FDQSxNQU9BLFVBTEMsRUFBRCxvQkFDQSxLQUNBLG1CQUNBLGVBRUEsSUFBbUIsV0FBaUIsSUFHcEMsaUJBRkEsTUFFQSxTQUNDLEVBQUQsVUFDQSxJQUZBLEdBR0EsQ0FDQSxrQ0FDQSxvQkFDQSxNQUVBLFlBRUEsT0FDQSxrQkFDQSxtQkFDQSwwQkFDQSxVQURBLEdBUUEsVUFXQSxTQUFTLEdBQVQsS0FJQSxpQkFDQSxTQUdBLFFBREMsRUFBRCxHQUNBLGVBQXNDLElBQU8sU0FDNUMsRUFBRCxLQUNBLFNBT0EsR0FMQSxpQ0FDQSxhQUlBLG9DQUNBLGNBVUEsdUNBVEEsS0FDQyxFQUFELE9BQ0Esa0JBQ0EsbUJBQ0EsK0JBRUEsV0FPQSxlQUNBLHVCQUNBLEtBR0EsU0FHQSxTQUFTLEdBQVQsR0FDQSxrREFLQSxTQUFTLEdBQVQsT0FJQSxJQUNBLEVBQ0MsRUFBRCx3QkFDQSxtQkFDQSxZQUNBLE1BRUcsaUJBRUgscUJBQ0csR0FDSCxNQUVBLFFBQ0EsYUFDQSxJQUNBLGFBSUEsU0FHQSxhQURDLEVBQUQsR0FDQSxFQUNBLG1CQUNBLHdCQW5CQSxLQXdCQSxlQUNBLFNBQ0EsY0FXQSxPQU5DLEdBQUQseUJBQ0EsaUJBRUEsaUJBQ0EsY0FDQSxvQkFDQSxFQUdBLFNBQVMsR0FBVCxPQUNBLGlCQUNBLHFEQUlBLE9BSEMsRUFBRCx5Q0FDQSxJQUNBLFNBRUEsY0FDQSxtQ0FGQSxLQWdCQSxPQVBDLEVBQUQsT0FDQSwyQkFDQSxNQUNBLGNBQ0Esa0JBR0EsRUFHQSxTQUFTLEdBQVQsS0FDQSxrQkFBc0IsYUFRdEIsU0FBUyxHQUFULEtBSUEsY0FDQSx3Q0FFQSxJQURBLGtCQUNBLGVBQStCLElBQU8sSUFDdEMsb0JBRUksR0FBRCxtQkFFSCxJQURBLFdBQ0EsSUFBZSxJQUFTLElBQ3hCLG1CQUVJLEdBQUQsS0FDSCwyQkFDQSxLQURBLFFBRUMsRUFBRCxxQkFDQSxZQUNBLFFBQ0EsNEJBQ0EsZ0JBS0MsSUFGRCxpQkFDQSxrQkFDQSxlQUFrQyxJQUFPLElBQ3pDLE9BQ0EsaUJBUUEsT0FKQyxFQUFELEtBQ0EsTUFFQSxjQUNBLEVBUUEsU0FBUyxHQUFULFNBS0EsSUFFQSxFQURDLEVBQUQscUJBREEsR0FJQSxRQUpBLElBWUEsZ0JBRUEsV0FFQSxvQkFHQSxnQkFuQkEsU0FxQkEsZ0NBQTRDLFFBQTVDLEdBckJBLEVBZ0NBLFNBQVMsR0FBVCxHQUNBLHdDQUtBLFNBQVMsR0FBVCxZQUNDLE1BQUQsWUFDQSxpQkFFQSxNQVNBLFNBQVMsR0FBVCxXQU9BLHdCQUNBLDZCQUNBLFFBSEEsRUFLQSxRQUxBLEVBT0EsZUFQQSxFQWdCQSxTQUFTLEdBQVQsV0FPQSxLQUNBLFFBS0ssQ0FDTCxtQkFDQSxRQUZLLElBSUwsRUFDQyxFQUFELFlBQ0EsR0FDQSxhQUNBLGFBQ0EsTUFFQSxRQUNTLENBQ1QsNEJBQ0EsMkJBQ0EsNEJBQ0Esc0JBWEEsSUFhQyxFQUFELE1BQ0EsUUFDQSxpQkFDQSxXQURBLE1BSUEsaUJBQ0EseUJBQ0EsVUFNQSx5QkFHQSxTQVFBLFNBQVMsR0FBVCxLQUdBLElBQ0MsRUFBRCwwQ0FDQSxPQUZBLE9BS0MsSUFBRCxFQUxBLEdBY0EsR0FMQSw2Q0FDQSxrQkFDQSxLQUNBLE1BRUEsbUJBZEEsR0FzQkEsU0FBUyxHQUFULE9BTUEsT0FEQyxHQUFELGdDQUNBLEVBR0EsU0FBUyxHQUFULE9BS0Esb0JBQ0EsWUFBbUIsV0FBaUIsSUFDcEMsNkJBQ0Esd0JBSUMsR0FBRCxPQUlBLFNBQVMsR0FBVCxPQUNBLGNBQ0EsUUFDQSxXQUtBLFNBQVMsR0FBVCxLQUNBLEtBQ0EsUUFLSyxDQUNMLHFCQUE0QyxTQUM1QyxvQkFDQyxFQUFELEtBQ0EsT0FDQSw4QkFJQSxTQUtBLFNBQVMsR0FBVCxTQU9BLE1BQWdCLFlBQ2hCLGNBQWlCLFdBQWdCLElBQWpDLEVBQ0EsS0FDQSxpQkFDQSxVQUhBLElBTUEsVUFDQSxlQUVBLGVBTUEsV0FGQSxVQUVBLEVBS0EsU0FBUyxHQUFULEtBQ0EsY0FBaUIsV0FBbUIsS0FFcEMsaUJBRkEsRUFDQSxRQUNBLElBQ0EsZ0JBU0EsU0FNQSxTQUFTLEdBQVQsS0FDQSwrQkFLQSxTQUFTLEdBQVQsR0FDQSxRQUNBLE9BQ0EsT0FDQSxRQUNBLFFBQ0EsT0FDQSxPQUNBLFFBQ0EsUUFDQSxRQUNBLFFBQ0EsT0FDQSxRQUNBLFFBQ0EsUUFDQSxRQUNBLFFBS0EsU0FBUyxHQUFULFdBTUEsSUFNQSxFQUxDLEVBQUQsS0FFQSxZQUlBLGFBQ0Esb0JBRUEsYUFLQSxJQUVBLGVBakJBLElBbUJDLEVBQUQsZUFDQSxLQUVBLFlBQ0EsYUFDQSxnQkFDQSxjQUNBLHdCQUNBLCtCQUNBLHNCQU9BLE9BTkMsRUFBRCxRQUNBLEdBQ0EsY0FDQSxrQkFHQSxVQUdBLDBDQUNBLGNBQ0EsZUFDQSx5Q0F6Q0EsSUFnREEsZ0JBRUEseUJBQ0EsaURBSUEsUUFEQSxXQUNBLGtCQUNBLHNCQUtBLE9BSkMsSUFBRCxtQkFDQSx1QkFDQSxlQUVBLEdBR0Esa0JBQXFDLHdCQStDckMsU0FBUyxHQUFULFNBSUEsV0FTQSxPQVJDLEVBQUQsWUFDQSxjQUlBLFVBQ0EscUJBQW1DLGFBRW5DLEVBR0EsU0FBUyxHQUFULEtBQ0EsZUFDQSxjQStFQSxTQUFTLEdBQVQsV0FPQSxVQUlBLHVCQVNBLEdBTkEsT0FDQSxlQUtBLHNCQVFBLE1BQ0Esa0JBR0EsS0FEQSxLQURBLElBQ0EsSUFLQSxPQXVZQSxvQkFPQSxXQUdBLE9BRkMsRUFBRCxlQUNBLGFBQW9CLG1DQUNwQixFQWpaQSxZQVVBLFFBSUEsTUFHQSxZQXdGQSxrQkFDQyxFQUFELCtCQUNBLG1DQUNJLEVBQUQsd0JBQStCLGNBSGxDLElBSUMsRUFBRCxnQkFDQSxPQUNBLG1CQUNBLE1BRUEsa0JBQ0EsaUJBQ0EsU0FFQSxvQkFHQSxPQXZHQSxjQUlBLE1BcjhCQSxjQVFBLHNCQUNBLGNBR0MsRUFBRCxHQUNBLFVBQ0EsVUFDQSxjQUNBLG9CQUNDLEVBQUQsTUFpQkEsZ0JBQ0EsZUFHQSxVQSs1QkEsTUFHQSwyQkFDQSxPQXhNQSxvQkFNQSxJQUNDLEVBQUQsVUFDQSxLQUNBLFVBQ0EsUUFDQSxlQUNBLHVCQUdDLEVBQUQsVUFBNEIsY0FDNUIsWUFBNEIsY0FWNUIsSUFhQyxFQUFELGtCQVFBLDZCQUVBLG1CQUNBLDBCQUNHLHFCQUdILFFBRkMsRUFBRCxVQUNBLGtCQUNBLElBQW1CLFdBQW1CLElBQ3RDLDJCQUVBLFVBbUtBLFlBS0EsV0FLQSxHQUZBLGdCQUVBLHVCQUtBLGFBQ0EsS0FOQSxJQVFBLFdBcUNBLFlBRUEsUUFEQyxFQUFELG9CQUNBLElBQWlCLFlBQXlCLFNBQ3pDLEVBQUQsTUFDQSxPQUNBLFFBQ0Esc0JBQ0EsbUJBdkNBLElBakVBLElBb0VDLEVBQUQsa0JBUUEsT0FQQSxPQUNBLG9DQURBLHlCQUdBLENBQUssaURBSEwsS0F3Q0EsU0FBUyxHQUFULEtBQ0Esb0JBRUEsT0FDQSxRQUdBLE9BREMsRUFBRCxXQUNBLEVBZ0NBLFNBQVMsR0FBVCxhQWdCQSxPQVJBLDBCQUNBLElBQ0EsSUFDQSxVQUVBLE9BQ0EsTUFLQSxvQkFPQSxxQkFNQSxZQU1BLEdBSEEsZ0JBQ0EsU0FFQSxFQUVBLFlBMkJBLFFBRUEsRUFkQSxrQkFDQSwyQkFFQSxTQUNBLGFBQXdCLGNBQ3hCLFlBRUEsT0FDQSxRQUNHLFNBQ0gsRUFwaUNBLFlBQ0EsWUFBaUIsV0FBcUIsSUFDdEMsdUJBQ0EsMENBR0EsU0E4aENBLEtBR0Esb0JBRUEsK0NBRkEsRUFHQSxvQkFFQSxPQUNBLDJCQURBLHFCQUlLLDZDQU9MLDhCQUxBLGVBWUMsRUFBRCxZQWxFQSxPQW9FQyxNQUFELFdBcEVBLEVBc0VHLE1BQ0gsTUFBb0IsUUFDcEIsTUE0QkEsWUFDQSxZQUNBLFlBRUEsWUFDQSxZQWpDc0IsSUF4RXRCLEdBMkVBLEtBcEZBLFlBd0ZBLFNBQVMsR0FBVCxPQU9BLEdBTkEsT0FDQSwwQkFFQSxTQUNBLE1BRUEsY0FDQSxrQ0FBOEMsSUFBTyxJQUVyRCxHQUZBLEVBQ0EsZUFDQSxPQUNBLCtCQUNBLFVBbUlBLFNBQVMsR0FBVCxLQU9BLE9BTEEsY0FDQSx3Q0FFQSxhQUVBLEtBQ0EsWUFEQSxFQWtCQSxTQUFTLEdBQVQsS0FJQSw4QkFDQSxtQkFHQSxpQkFDQSxrQkFHQSxTQU1BLEdBTEEsMENBRUEsaUJBR0EsK0JBQ0EscUJBR0Esd0JBQ0MsRUFBRCxhQUNBLEtBQ0EsT0FDQSxPQUVLLG1DQUEyQyxpQkFOaEQsSUFRQyxFQUFELFlBQ0EsdUJBQXdDLElBQU8sSUFDL0Msb0JBRkEsSUFNQSxXQUNBLFdBQ0EsZ0JBQ0EsUUFFQSxXQUNBLGdCQUNBLFVBS0EsaUJBRUEsbUJBRkEsRUFRQSxXQUZBLFNBTUEsZ0JBS0EsaUJBQ0EsV0FDQSxVQUlBLFNBK0NBLE9BN0NDLEVBQUQsS0FDQSxLQUVBLGVBQ0EsWUFFTyxpQkFDUCxzQkFFQSxhQUNBLDJCQUdBLGVBQ0EsOEJBQ0EsWUFDQSxhQUVBLHlCQUNBLE9BQ0EsNEJBQ0EsYUFDQSxTQUVhLGVBSWIsZUFDQSx5QkFDQSxPQUNBLGVBQ0EsRUFHQSxRQUdXLGNBS1gsS0FFQSxVQUNBLGNBQ0EsWUFNQSxTQUFTLEdBQVQsR0FDQSxtQ0FLQSxTQUFTLEdBQVQsR0FDQSxvQkFDQSxjQUFtQixXQUFxQixJQUV4QyxPQURBLFFBQ0EsOEJBQ0EsU0FzQkEsU0FBUyxHQUFULEtBQ0EsWUFHQSxTQUFTLEdBQVQsS0FDQSxhQUdBLFNBQVMsR0FBVCxLQUNBLFNBQ0Esb0JBQ0EsOEJBQ0EsVUFDQSxhQUtBLFNBQVMsR0FBVCxPQUtBLEtBQ0EsdUJBQ0EsVUFxR0EsU0FBUyxHQUFULEdBQ0EsU0FFQSxPQURDLEdBQUQsRUFDQSxXQUNBLE1BMlFBLFNBQVMsR0FBVCxRQUNBLGtCQUNBLGVBQXVCLFNBRXZCLFNBR0EsU0FBUyxHQUFULEtBQ0EsTUFFQSxHQURBLHFCQUNBLE1BQ0EsWUFFSSxHQUFELGtCQUNILE9BRUEsb0NBQ0EsZUFDQSxZQUFtQixxQkFBeUIsSUFDNUMsbUJBRUEsbUJBb0JBLFNBQVMsR0FBVCxLQUVBLElBRkEsSUFHQyxFQUFELGNBRUEsS0FDQSx1QkFBd0MsSUFBTyxJQUMvQyxnQkFIQSxXQU1BLGlCQUNBLG1CQUVBLElBNkRBLFNBQVMsS0FHVCxRQWNBLElBaEJBLFFBQ0EsTUFXQSx1QkFBOEIsb0JBSTlCLEtBQWlCLGFBQXNCLE1BQ3ZDLFVBQ0EsUUFDQSxXQUVBLE9BQ0EsV0FDQSxRQXhCQSxJQTJDQyxFQUFELFdBQ0EsYUF0RkEseUJBQ0EsTUFJQSxTQXNIQSxZQUNBLFlBQWlCLFdBQWtCLElBQ25DLGtCQUNBLFlBbkNBLElBVUEsZ0JBQ0EsZUFDQSxVQUNDLEVBQUQsS0FDQSxPQUNBLCtDQUNBLGlCQWZBLElBSUEsaUJBQ0EsaUJBNlJBLFNBQVMsR0FBVCxPQUNBLGtCQUNBLG1CQUVBLG1CQUNBLGNBRUEsOEJBR0EsU0FBUyxHQUFULEdBQ0EsZUFDQSxpQkFDQSxTQWFBLGtCQUNDLEVBQUQseUJBQ0EsY0FHQSwyQkFDQSxXQUdBLE1BRUEsa0JBQ0EsVUFDQSxpQkF1QkEsU0FLQSxRQUNBLGtCQUlBLG9CQUNBLE1BNURtQixZQUNuQixXQW9OQSxjQUVBLGFBREEsaUJBQ0EsRUFzQkEsMENBNU9xQixjQUNyQixPQTZEQSxZQUNBLHNCQUlBLEVBSEEsK0JBd0NBLGNBRUEsSUFDQSxJQUNBLG1CQUNHLFNBRUgsT0FEQyxFQUFELGNBQ0EsR0FKQSxRQU1BLEtBaERBLE1BQ0EsU0FFQSxNQU5BLFFBY0MsRUFBRCxlQUNBLG1CQUVBLEdBREEsbUJBQ0EsVUFDQSxNQUNBLFdBU0EsV0FNSyxNQUNMLGdCQUlBLFFBbkdBLElBRUEsaUJBRUEsWUFpSEEsa0JBRUMsRUFBRCx3Q0FFQSxPQUVBLG9CQUNDLEVBQUQsS0FDQSwrQkFGQSxJQVlBLGNBRUEsS0FGQSxPQVdBLFFBQ0EsV0EvSXNCLGVBQ3RCLHVCQXlPQSxjQUNBLGdCQUNBLFdBQ0Esb0JBQ0EsWUFBcUIsV0FBb0IsSUFDekMsa0JBR0MsR0FBRCxRQWhQQSxZQXdKQSxTQUFTLEdBQVQsT0FLQSxZQUNBLHNCQUNBLFNBQ0EsTUFDQSxNQUNBLFdBRUEsYUFDQSxnQkFDQSxNQUNBLFVBSEEsRUFLQSxpQkFXQSw4QkFHQSxTQUFTLEdBQVQsR0FDQSxrQkFDQSx3REFDQSxLQU9BLE9BTkMsRUFBRCxPQUNBLGFBRUEsV0FDQSxXQUVBLFNBS0EsU0FBUyxHQUFULEdBQ0Esa0JBQ0EsMEJBNkNBLFNBQVMsR0FBVCxTQWFBLE9BUEMsRUFBRCxLQUNBLElBQ0EsYUFFQSxxQkFDQSxRQUVBLGdCQXdJQSxTQUFTLEdBQVQsR0FDQSxnQkFDQSxnQkFDQyxFQUFELFlBRUEsT0FEQSxlQUNBLENBR0EsaUJBRUEsTUFjQSxnQkFDQSxFQUNDLEVBQUQsVUFDQSxrQkFDQSxlQUNBLGNBREEsSUFFc0IsTUFDdEIsV0FHQSxTQXhCQSxJQUxBLEdBUUEsc0JBRUEsa0NBQ0EsT0FDQSx5QkFJQSxTQWdCQSxTQUFTLEdBQVQsR0FNQSxjQTBDQSxTQUFTLEdBQVQsR0FNQSxRQUNBLFFBS0EscUJBQ0EsUUFEQSxJQUVDLEVBQUQsS0FDQSxRQUNBLHdCQUNBLFFBQ0EsWUFHQSw2QkFLQSxjQUNBLGVBNkNBLE9BM0NDLEVBQUQsc0NBQ0EsY0FDQSxVQUNBLFlBQ0EsVUFEQSxHQUlBLFVBS0EsaUJBbUNBLFlBQ0Esc0JBQ0EsZUFDQSwyQkFyQ0EsSUFFQSxvQkF1Q0EsWUFDQSx5QkFDQSxlQUNBLHVCQXpDQSxJQUlBLGtCQUNBLGdCQUNBLFlBSUEsd0JBQ0EsYUFnQkEsSUFaQSwyQkFNQSx5QkFDQSxrQkFDQSxxQkFBaUMsV0FHakMsT0FDQSxHQXNEQSxTQUFTLEdBQVQsR0FDQSx1Q0FHQSxTQUFTLEdBQVQsS0FDQSx5QkFDQSxlQUNHLG9CQUNILDRCQTdrS0EsWUFDQSxxQ0E2a0tHLEtBQ0gsVUFNQSxTQUFTLEdBQVQsU0FDQyxFQUFELFFBQ0EsU0FDQSxXQUNBLGdCQUNBLFdBQ0EsTUFDQSw2QkFDQSxVQUNBLGNBTUEsU0FBUyxHQUFULFNBTUEsV0FDQSx3QkFDQSwrQkFFQSxVQUNBLE9BdU5BLFNBQVMsR0FBVCxXQUNDLEVBQUQsT0FDQSxJQUNBLElBQ0EseUJBQ0EsK0JBQ0EsU0FDQSxnQkFQQSxLQVVBLGVBQ0EsWUFDQSxnQkFHQSxPQVlBLGNBR0EsT0FDQyxFQUFELFNBQ0EsWUFHQSxHQXBCQSx3QkFHQSxTQUFTLEdBQVQsS0FDQSxPQUNBLDRDQUNBLGlCQUNBLGtCQUNBLFNBZUEsU0FBUyxHQUFULEtBQ0EsMkJBR0EsU0FBUyxHQUFULFVBQ0MsTUFBRCxXQWFBLFlBR0EsUUFEQSxFQURDLEVBQUQsR0FFQSxlQUFtQyxJQUFPLElBQzFDLHdCQURBLElBRWdCLFFBQ2hCLE1BR0EsU0FyQkEsSUFFQSxLQXNCQSxZQUNBLFNBQ0EsZUFDQSxPQURBLElBRWdCLFFBQ2hCLE1BR0EsU0E3QkEsSUFFQSxtQkFQQSxFQVdBLEdBOERBLFNBQVMsR0FBVCxVQUNDLEdBQUQsR0FDQSxNQUlBLFdBQ0EsWUFQQSxFQTRDQSxTQUFTLEdBQVQsR0FDQSx1QkFDQSxnQ0FEQSxVQU1BLDhCQUlBLFNBOEZBLFNBQVMsR0FBVCxLQUNBLGlCQUNBLGFBRUMsRUFBRCxVQUNBLDZCQUNBLFVBSkEsRUFNQSxvQkFDQSxVQUNLLFdBQ0wsYUFHQSxnQkFDQSxvQkFFTyxtQkFFUCxhQUhBLFNBTUEsUUFxQkEsU0FBUyxHQUFULEtBQ0EsT0FDQyxFQUFELGNBRUEsZUFDQSwyQkFDQSx1QkFXQSxjQUNBLG1CQUEwQixTQUQxQixJQUVBLEVBQ0MsRUFBRCxrQ0FDQSxvQ0FDQSwyQkFmQSxPQUVBLHlCQUNBLGlDQUNBLHlCQWNBLFNBQVMsR0FBVCxXQUNBLElBQ0MsRUFBRCxHQUNBLFFBQW9CLE9BQWEsRUFFakMsRUFEQSxjQUNxQixRQUVyQixTQTZ0QkEsU0FBUyxHQUFULE1BQ0EsdUNBS0Esa0JBU0EsTUFSQyxFQUFELE9BRUEsa0NBQ0Esa0NBRUEsS0FDQSxLQUdBLFdBQ0EsT0FDQSxPQUZBLEdBV0EsbUJBQ0EsZUFDQSxtQkFDQSwrQkFDQSxZQVZBLGlCQUNBLHVCQUNBLFdBYUEsYUFDQSxpQkFDQSxZQUFxQixXQUEyQixJQUNoRCx5QkFIQSxFQU9BLGlCQUVBLElBWUEsR0FSQSxVQUNBLDZCQUNBLFlBQXFCLFdBQThCLElBQ25ELG9DQUtBLEVBQ0EsV0FDQSxNQUVBLHFCQXJEQSxRQU5BLE1BbUVBLFNBQVMsR0FBVCxLQUlBLElBS0EsSUFMQSxzQkFDQSxNQUVBLFNBR0EsUUFBYSxXQUFpQixLQUM5QixRQUNBLFlBRUEsZ0JBRUEsV0FDQSx3Q0FHQSxTQUdBLFNBQVMsR0FBVCxHQUNBLDBEQUE0RSxVQUc1RSxTQUFTLEdBQVQsV0FDQSxzQkFDQSxLQUNBLElBQ0EsaUJBQ0ssU0FDTCxrREFZQSxTQUFTLEdBQVQsS0FDQSx5QkFDQSw2Q0FHQSxrQ0FIQSxLQU1BLElBQ0MsRUFBRCxNQUNBLG1CQUNBLG1CQU1BLFNBSkMsRUFBRCxZQUNBLHdCQUdBLEVBQ0EsT0FDQSxPQUNBLEdBQ0EsVUFTQSxTQUhBLDRCQUNBLHNCQUVBLEVBQ0EsVUFDQSxNQUNBLCtCQUNPLE9BQ1AsdUJBTUEsU0FBUyxHQUFULFFBQ0EseUJBQ0EsVUFDRyxNQUdILE1BQ0Esc0JBSUEsNkNBQ0EsT0FEQSxFQUdBLHFCQUVHLE1BQ0gsMEJBQ0csTUFDSCxNQUNBLDhCQUVBLHlCQUdBLFVBSUEsU0FBUyxHQUFULE9BQ0EsU0FDQSx5QkFDRyxDQUtILEdBQ0EsU0FDQSx3QkFDQSxxQ0FDQSxDQUNBLGtCQUNBLDZCQUNBLGtDQUVBLDhCQUVBLFlBRUEscUJBV0EsU0FBUyxHQUFULFNBQ0MsRUFBRCxNQUNBLFNBQ0EsU0FDQSxLQUNBLGtCQUNBLGFBQ0EsTUFDQSxrQkFDQSxhQUxBLEtBWUMsRUFBRCxNQUdBLHVCQUNBLE9BQ0EsZUFJQSxtQkFDQSwwQkFDQSxpQkFhQSxTQUFTLEdBQVQsR0FvRUEsY0FDQSxxQ0FDQSxNQXRFQSxJQVNBLFVBUkMsR0FBRCxFQUNBLEtBQ0EsS0FDQSxLQUNBLElBQ0EsSUFDQSxJQUNBLElBR0EsUUFBYSxXQUFnQixJQUc3QixHQUZBLElBQ0Esa0JBQ0EsRUFDQSxpQkFBd0MsV0FDbEMsR0FBRCxFQUNMLGlCQUF3QyxXQUNsQyxHQUFELEVBQ0wsaUJBQXdDLFdBQ2xDLEdBQUQsRUFDTCxpQkFBd0MsV0FDbEMsR0FDTixTQUNBLHlCQUNBLHlCQUNBLFNBcUJDLEdBVkQsS0FVQSxFQVZBLEtBQ0EsS0FTQSxFQVRBLEtBQ0EsS0FRQSxFQVJBLEtBQ0EsS0FPQSxFQVBBLElBQ0EsS0FNQSxFQU5BLElBQ0EsS0FLQSxFQUxBLElBQ0EsS0FJQSxFQUpBLElBQ0EsTUFHQSxFQUhBLElBQ0EsTUFFQSxHQUZBLElBRUEsUUFJQSxRQUhDLEVBQUQsSUFDQSxTQUVjLE1BRWQsT0FEQSxlQURzQixLQUl0QixnQkFDQSxpQkE1QkEsT0FFQSxNQUNBLHVCQUVBLElBd0NBLFFBWEEsTUFDQSxzQkFDRyxPQUNILElBUUEsRUFDQSxRQUFlLFdBQW9CLElBQ25DLGFBSUEsU0FHQSxTQUFTLEdBQVQsS0FDQSxxQkFDQSxPQUVBLDJCQUpBLElBTUMsRUFBRCxhQUNBLGVBQ0EseUNBU0EsU0FBUyxHQUFULEdBQ0Esb0NBSUEsU0FBUyxHQUFULEtBSUEsU0FDQSxtQkFBZ0MsZUFBaUIsb0JBQXVCLFlBQ3hFLEdBR0EsU0FBUyxHQUFULFlBQ0EsZ0NBQW1ELDBCQUFuRCxJQUNBLFdBR0EsU0FBUyxHQUFULFlBQ0EsRUFDQSxvQ0FDQSx1QkFDQSxTQUEyQiwwQkFBM0IsSUFDQSxXQUlBLFNBQVMsR0FBVCxTQUNBLGdCQUNBLHFCQUFrQyxnQkFBbEMsSUFHQSxTQUFTLEdBQVQsa0JBVUEsMENBQ0EsT0FDQSxVQUNBLFFBQ0EsTUFDQSxlQUNBLGFBTkEsSUFRQSxXQUdBLFNBQVMsR0FBVCxPQUNBLFNBQ0Esb0JBQ0EsSUFHQSxTQUFTLEdBQVQsaUJBeURBLE9BL0NBLFNBaUJBLE1BbEJBLEVBb0JBLDRDQUNLLGNBQ0wsdUJBQ0EsU0FFRyxXQXpCSCxFQTJCQSx3Q0FDSyxjQUNMLGNBS0EsbUJBQ0EsVUFDQSxlQUVBLGdCQUNBLE9BQ0EsZUFHQSxtQkFDQSxVQUNBLGVBSUEsaUJBQ0EsU0FDQSx1Q0FFQSwwQkFHQSxVQUFpQywwQkFBakMsR0FDQSxTQUNBLGVBR0EsV0FFQSxpQkFDQSx5QkFFQSxLQWxFQSxFQWtFQSxjQUVBLEVBR0EsV0FZQSxTQUFTLEdBQVQsT0FLQSxNQUNBLGFBQ0Esa0JBQ0EsV0FDQSxhQUNHLFdBQ0gsY0FDQSxXQUNBLDBCQVNBLFNBQVMsR0FBVCxPQUtBLE1BQ0EsMkJBRUEsUUFEQyxFQUFELFlBQ0EsZUFBb0MsSUFBTyxJQUMzQyxrQkFDQSxjQUNBLE1BT0EsaUJBRkEsY0FFQSxFQUdBLFNBQVMsR0FBVCxLQUtBLFVBREMsRUFBRCxZQUNBLGVBQWtDLElBQU8sSUFFekMsS0FEQSxLQUNBLGVBRUEsT0FEQyxFQUFELFlBQ0EsRUFLQSxTQUFTLEdBQVQsS0FZQSxXQVBBLGdCQUNBLGlCQUVBLGNBQ0EsY0FHQSxFQVFBLFNBQVMsR0FBVCxPQUlBLElBQ0MsRUFBRCxNQUNBLFdBR0EsUUFDQSxJQUhBLFNBS0EsRUFDQSw4Q0FUQSxJQWNBLGVBRUEsY0FFQSxTQUNBLGdCQUNBLDZCQUNBLDhCQUF3RCxLQU94RCxTQUFTLEdBQVQsS0FJQSxNQTJCQSxZQU1BLEdBSEEsV0FDQSxZQUVBLGlEQUVBLEdBREMsR0FBRCxvQkFFQSxDQUNBLGtCQUNBLDJCQUdBLENBQ0EsTUFDQSxVQWhCQSxJQXFCQSxLQUNBLFlBRUEsTUFHQSxHQUZBLFNBR0EsT0FDSyxTQUNMLE9BSUEsT0FDQSxrQkFDQSxzQkEvREEsSUFEQSxPQUVDLE9BQUQsTUFDQSxRQUVBLG9DQStEQSxTQUFTLEtBQ1QsMkJBR0EsU0FBUyxLQUNULGNBR0EsU0FBUyxHQUFULEdBQ0Esc0JBR0EsU0FBUyxHQUFULEdBQ0EsUUFEQSxJQUVBLE9BQ0EsTUFFQSxNQURBLFFBRUEsV0FLQSxHQUZBLFFBQXVCLElBQ3ZCLFFBQXVCLElBQ3ZCLE1BQ0EsTUFDQSxPQUtBLFNBQVMsR0FBVCxPQUNBLFNBQ0EsT0FDQSxVQUNBLEtBOE1BLFNBQVMsR0FBVCxPQUNBLFNBQ0Esb0JBQ0EsOEJBQ0EsVUFDQSxhQVVBLFNBQVMsR0FBVCxTQVlBLFdBQ0MsRUFBRCxHQUNBLElBQ0EseUJBQ0EsR0FJQSw0QkFFQSxnQkFJQSxnQkFJQSxrQ0FFQSxnQ0FJQSx3QkFHQSxHQUNBLENBQVMscUJBRFQsR0FNQSxTQUFTLEdBQVQsVUFNQSw2QkFFQSxjQUZBLEdBT0EsU0FBUyxHQUFULEtBQ0EscUNBR0MsRUFBRCxjQUNBLGdCQUNBLFNBbEdBLFlBRUEsYUFFQSwwQkFDQSxzQ0FDQSxNQUtBLFdBQ0EsOENBQ0EsT0FzRkEsSUFDQSwyQkFDQSxXQVlBLFNBQVMsR0FBVCxLQUNBLGlEQUdBLElBQ0MsRUFBRCxNQUNBLHNCQUNBLHNCQU1BLFNBSkMsRUFBRCxZQUNBLDJCQUdBLEVBQ0EsU0FDQSxTQUlBLFlBS0EsR0FKQSxPQUlBLG9DQUVBLEdBREEsYUFBMkIscUJBQzNCLFNBQWtDLFNBR2xDLHlCQUNBLCtCQUlBLHdDQUdBLFdBRUEsbUJBQ0EsVUFDQSxnQkFFTSxHQUFELGlEQUVMLHNDQUNBLDZCQUhLLElBSUwsb0JBQ0EsY0FDQSw0QkFOSyxLQVFMLGNBQ0EsaUNBRU0sR0FLTixTQUlBLElBQ0EsT0FDTyxhQVFQLFNBQVMsR0FBVCxLQUNBLHFCQUNBLHNCQU1BLGNBR0EsU0FHQSxJQUFPLDZCQUErQyxVQUN0RCxzQkFaQSxPQWVBLGtCQUNDLEVBQUQsUUFDQSxnQkFDQSxTQUNBLFlBQ0EsbUJBRUEsVUFDQSwyQkFHQSxhQXpCQSxPQWlEQSxTQUFTLEdBQVQsR0FDQSxrQkFHQSxxQkFDQSxtQkFEQSxFQU1BLFNBQVMsR0FBVCxVQUNDLE1BQUQsV0FDQSxLQUVBLG1CQUNBLE1BTEEsRUF1RkEsU0FBUyxHQUFULFNBQ0MsRUFBRCxPQUNBLFNBRUEsbUNBQ0EsOEJBREEsS0FNQSxJQUNDLEVBQUQsTUFDQSxnQkFDQSxpQ0FHQSxPQUVBLHVCQUtBLG1DQUNBLFFBREEsRUFJQSxNQXBHQSxrQkFFQSxFQURDLEVBQUQsR0FHQSxTQUNBLFFBQ0Esc0JBQ0EsK0JBRUEsU0FDQSxlQUVBLFFBS0EsZUFDQSxPQWxCQSxJQXFCQSxRQUNBLFlBQ0Esd0JBQ0EsT0FHQSxTQXlFQSxPQUVBLFdBQ0EsU0FDQSxXQUdBLFlBQ0EsVUFDQSxNQUVBLHNCQWtCQSxTQUFTLEdBQVQsS0FFQSxtQkFLQSxnQkFDQSxpQkFDQSxpQ0FBb0QsNkJBRXBELHVCQUVHLENBQ0gsNENBQ0Esd0JBQ0Esc0NBU0EsU0FBUyxHQUFULEtBRUEsbUJBS0EsZ0JBQ0EsaUJBQ0EsaUNBQW9ELGdDQUVwRCxzQkFFQSxvQkFDQSwrQkFFRyxTQUNGLEVBQUQsc0NBQ0EsWUFDQSxpQkFDQSxvQkFFQSxZQUVBLDBCQUVBLDRCQU9BLFNBQVMsR0FBVCxHQUNBLE1BSUEsdUJBQ0EsU0FLQSxPQUpBLFdBQ0EscUJBRUEsT0FDQSxFQVZBLE1BV0csbUJBQ0gsV0FaQSxHQTJEQSxTQUFTLEdBQVQsR0FDQSxlQUNBLFNBSUEsU0FBUyxHQUFULEtBQ0Esc0RBQ0EsaUJBQ0EsVUFDQSxTQUlBLFNBQVMsR0FBVCxLQUNBLHNCQUNBLDBCQUVBLFFBR0EsU0FBUyxHQUFULE9BSUEsSUFDQyxFQUFELFFBQ0EsU0FDQSxZQUNBLGNBQ0EsTUFBYyxXQUxkLElBTUMsRUFBRCxhQUNBLElBQ0EsYUFDQSwyQkFDQSxLQUVBLGNBQ0EsZ0JBQ0EsTUFDQSxLQUlBLHVCQUNBLEtBQ0EsTUFFRyxLQUNILHdCQUtBLFNBQVMsR0FBVCxTQVVBLEVBVEMsRUFBRCwyQkFFQSxrQ0FDQSxxQ0FDQSxVQUNBLGtDQUNBLHFDQUNBLFVBR0EsSUFDQSxJQThCQSxPQTVCQSxPQUNBLE1BQ0EsS0FDQSxJQUNBLFlBRUcsT0FDSCxNQUNBLEtBQ0EsSUFDQSxZQVNBLEdBTEEsS0FEQSxVQUVBLFVBR0EsTUFFQSxPQUNBLFNBQ0EsU0FDQSxFQUtBLENBQ0EsT0FDQSxVQUNBLFlBQ0EsYUFOQSxRQUNBLDJCQVNBLFNBQVMsR0FBVCxVQUVBLG1CQUNBLGNBR0EseUNBQ0EsMEJBUUEsU0FBUyxHQUFULEdBQ0EsMkNBS0EsU0FBUyxHQUFULEtBQ0EsWUFHQSxnQkFDQSx3QkFDQSxjQUdBLDRCQUNBLFdBS0EsOEJBTEEsU0FTQyxFQUFELE1BQ0EsU0FDQSxlQUNBLGlCQUNBLHFCQUNBLGdCQUNBLGtCQUNBLHNCQUNBLGdCQUNBLFVBQ0EsZUFDQSxtQkFDQSxpQkFDQSxXQUNBLGdCQUNBLG9CQUNBLGFBTUEsS0FDQSxZQUNBLGFBQ0EsWUFDQSxXQUdBLHFDQUVBLHNCQUlDLEVBQUQsU0FHQSxXQUdBLFdBSUEsS0FDQSxHQURBLEVBR0EsS0FDQSx1QkFEQSxFQUdBLEtBQ0EsR0FEQSxFQUdBLEtBQ0EsR0FEQSxFQUlBLElBQ0EsS0FDQSxRQURBLEdBU0MsR0FBRCxXQUNBLFFBRUEsK0JBRUEsUUFDQSxTQUVBLGFBTEEsR0FPQSxRQUVBLFNBRUEsUUFFQSxtQkFHQSxhQUVBLDhCQUNDLEVBQUQsYUFDQSxtQ0FDQSxHQUNBLGVBQ0EsZ0JBRUEsaUJBRUEsYUFLQSxRQXhFQSxJQTBFQSxRQUNBLFFBQ0EsZUFDQSxRQUNBLGNBQ0EsU0FDQSxJQUNBLE1BQ0EsZ0JBRUEsZ0JBT0EsY0FDQSxPQUNBLFdBR0EsTUFDQSxNQUlBLFNBQVMsR0FBVCxLQXNFQSxhQUVBLGVBSUEsNkJBQ0EsbURBQTZELE9BQTdELEdBRUEsUUFUQSxJQVdBLFFBQ0EsUUFDQSxlQUNBLFFBQ0EsY0FDQSxTQUNBLElBQ0EsTUFDQSxnQkFFQSxnQkFNQSxXQUNBLE9BQ0EsS0FsR0EsWUFHQSxnQkFDQSx3QkFDQSxjQUdBLDRCQUNBLHdCQUNBLFdBSUEsdUJBSUMsRUFBRCxNQUNBLFNBQ0EsZUFDQSxpQkFDQSxxQkFDQSxnQkFDQSxVQUNBLGVBQ0EsbUJBQ0EsZUFDQSxhQUVBLGNBQ0EsUUFFQSxJQUNBLEtBQ0EsUUFEQSxHQVNBLDJCQUNBLHNDQUNBLG1DQUZBLElBS0EsUUFDQSxTQUVBLGFBUkEsR0FVQSxRQUVBLFVBRUEsSUFDQSxTQUVBLG1CQTlDQSxFQWtEQSxLQUVBLEtBc0RBLFNBQVMsR0FBVCxHQUNBLG9DQVNBLFNBQVMsR0FBVCxHQUNBLFFBQ0EsU0FFQSxZQUpBLE9BS0MsRUFBRCxHQUVBLEdBQ0EsaUJBQ0EsS0FEQSxHQUtBLHdCQUlBLFNBQVMsR0FBVCxNQUNBLGlCQUNBLE1BdUdBLFNBQVMsR0FBVCxPQUNBLFNBRUEsU0FDQSx1QkFDQSxVQUNLLEdBSUwsU0FBUyxHQUFULFNBQ0MsRUFBRCxRQUNBLGFBQ0EseUJBU0EsUUFEQSxJQUNBLHVCQUF3QyxJQUFPLElBRS9DLEdBREEsZUFDQSxFQUNBLGdCQUNBLGlCQUNBLG1CQUdDLEdBQUQsV0FJQSxZQUhBLHNCQUNBLG9CQW5CQSxJQTBCQSxxQkFJQSxTQUFTLEdBQVQsS0FDQSw0QkFBcUMsaUJBR3JDLFNBQVMsR0FBVCxHQUNBLG1CQUNBLFNBQ0EsUUFHQSxTQUFTLEdBQVQsR0FDQSxzQkFHQSxTQUFTLEdBQVQsR0FFQSxxQkFDQSxzQkFDQSxzQkFHQSxTQUFTLEdBQVQsS0FDQSx5Q0FDQSxxQkFDQSxtQkFNQSxTQUFTLEdBQVQsR0FDQSx3REFDQSwrQkFzRkEsU0FBUyxHQUFULEdBQ0EsNEJBREEsT0FFQyxHQUFELHdCQUNBLG1CQUhBLEVBU0EsU0FBUyxHQUFULE9BQ0MsRUFBRCxHQUNBLGFBRUEseUJBQ0EsVUFJQSx5QkFDQSxlQUNBLGNBRUEsU0FHQSxTQUFTLEdBQVQsS0FDQSxnQ0FDQSx1QkFDQSxxQ0F5UkEsU0FBUyxHQUFULEdBRUEsZUFDQSxnQkFHQSxnQkFDQSxpQkFJQSxTQUFTLEdBQVQsR0FDQSw0Q0FHQSxTQUFTLEdBQVQsT0FDQyxFQUFELFdBQ0EsZ0JBQ0EsZ0JBQ0EsY0FDQSxTQUNBLGdCQUNBLGtCQUNBLDJEQUNBLDJCQWlSQSxTQUFTLEdBQVQsS0FDQSxjQUNBLGdDQUE2QyxnQkFvUzdDLFNBQVMsR0FBVCxPQUtBLE9BQ0EsT0FDQSxNQUNBLFlBQ0EsZUFDQSxlQUNBLFNBQ0EsYUFPQSxTQUFTLEdBQVQsS0FrQ0EsY0F5QkEsR0F4QkEsS0FDQSxpQkFDQSxXQUdBLG9CQUVBLDJCQUlBLE1BQ0EsYUFDQSxVQVdBLGdCQUNBLHFCQXFaQSxjQUNBLE1BZUEsZ0JBQ0EsZUFDQSxLQUZBLENBR0EsaUJBQ0EsWUFTQSxTQTVCQSxjQUNBLFVBQ0EsTUFDQSxhQUNBLFVBelpBLFVBQ08sQ0FDUCxnQkFJQSxpQ0FDWSxFQUFELHNDQUVYLG1CQUNBLFdBTUEsMENBQTZELHNCQUU3RCxLQUdBLFFBQ0EsTUFFQSxZQUNBLE1BR0EsWUFBbUIsWUFBMkIsSUFDOUMsV0FJQSxjQUVBLFVBQ0EsT0FFQSxvQ0FDQSxZQUNBLGNBRUEsaUJBbkdBLGNBRUEsa0JBQ0EscUJBQ0EseUJBQ0EsMkJBQ0EsWUFBa0MsaUNBRWxDLGlDQUNBLG9DQUNBLHFDQUVBLGdCQWJBLElBa0JBLEVBQ0EsRUFKQyxFQUFELEdBQ0EsNEJBQ0EsZUFHQSxLQUNBLEtBd1NBLE9BcG5CQSxjQWdJQSxjQUNBLEtBQ0EsaUJBR0EsYUFDQSxrQkFDQSxNQUNBLElBTUEsSUFOQSxHQUNBLGFBQ0EsU0FDQSxTQUpBLElBTUEsaUJBRUEsOENBQ0EsVUFDQSxlQUNBLFFBQ0EsZ0JBRUEsS0FJQSxPQUhDLEVBQUQsZ0JBQ0EsZUFDQSxRQUNBLEdBS0Esa0JBQ0MsRUFBRCxVQUNBLGVBRkEsSUFLQSxnQkFDQSxLQUVBLGFBQ0EsTUFRQSxRQUpDLEVBQUQsVUFFQSxpQkFDQSxXQUNBLElBQW1CLElBQU8sU0FDekIsRUFBRCxXQUNBLHVCQUNBLHlCQUNBLDhCQUNBLHVCQUNBLE1BQ0EsVUFDQSxlQXpCQSxJQWtDQSxRQUFrQixzRUFDbEIsS0FHQSxTQUNBLDZCQUlBLGtCQUNBLFFBS0EsR0FKQSxVQUF3QixLQUN4QixVQUFzQixLQUd0QixFQUVBLElBREEsa0JBQ0EsYUFBa0MsTUFDbEMsdUJBRDRDLFVBTzNDLEVBQUQsRUFHQSxTQUVBLHFCQUFvQyxLQUFVLElBVTlDLE9BQ0Esb0JBS0EsV0FDQSxvQkFDSyxTQUNMLFNBQ0EscUJBRUssVUFDTCxTQUNBLHFCQUVBLE9BQ0EsY0F4UEEsUUFNQSxJQUxDLEVBQUQsR0FDQSxlQUNBLG1CQUNBLHlCQUNBLElBTEEsR0FPQSxDQUdBLEdBRkEsSUFFQSxTQWtGSyxLQUNKLEVBQUQsRUFDQSxrQkFDQSwrREFDQSwrQkFhQSxPQVpDLEVBQUQsU0FDQSx3QkFDQSxJQUNBLG9DQUNBLDJDQUVBLFVBQ0EsY0FFQSxTQUNBLFdBRUEsTUFFQSxxQkFDQSxJQUNBLGVBdkdBLENBQ0EscUJBQ0EsVUFFQSxlQUNBLDBCQUVBLFNBQ0EscUJBQ0Esb0NBRUEsT0FDQSxVQUtBLGVBQ0Esc0JBRUEsU0FDQSxPQUNBLFVBS0Esa0JBQ0EsTUFDQSxlQUNBLFNBSUEsa0JBQ0EsTUFDQSxRQUNBLGVBQ0EsWUFDQSxTQUlBLFVBQ0EsTUFDQSxLQUNBLGlCQUNBLEtBRUEsVUFJQSwrQkFDQSxhQUNBLGVBRUEsWUFDQSxZQUNBLFlBQ0EsYUFHQSxtQkFDQSxPQUNBLEtBQ0EsYUFFQSxtQkFHQSxNQUNBLEtBeEVBLEdBNEVBLFlBR0EsWUFDQSx3QkEwQkEsVUFDQSxvQkFJQSxPQUtBLElBbVRDLENBQUQsR0FDQSxRQUNBLHdCQUNBLHdCQUNBLG9DQUNBLDRDQUNBLDBEQUNBLDZCQUNBLHNDQUNBLHNCQUdBLHFCQUlBLGdCQUNBLEVBbXRCQSxZQUVBLFVBREMsRUFBRCxHQUNBLElBQWlCLFdBQWtCLElBQW5DLEVBQ0EsS0FDQSxrQkFDQSw2QkFDQSxXQUdBLFNBNXRCQSxLQUdBLGdCQVhBLElBYUEsUUFnc0JBLFlBQ0EsTUFDQSxpQkFDQSxvQkFDQSxpQkFDQSxxQ0EzcUJBLGFBQ0EsZ0JBVUEsWUFBcUIsWUFBMEIsSUFDL0MsZ0JBbkRBLElBNkxBLFlBQ0Esc0JBQ0EsVUF4SUEsSUFDQSxRQUNBLE9BR0EsWUFDQSxNQTdEQSxFQW1NQSxnQkFDQyxFQUFELFlBQ0EsV0FDQSxLQUVBLFFBREMsRUFBRCxpQkFDQSxJQUFtQixJQUFTLElBQzVCLE1BQ0EsZUFDQSxrQ0FFQSxtQkFDQSxzQkFDQSx3QkFHSUMsRUFBRCxNQUVILFlBcEpBLEtBQ08sY0FFUCxNQXFQQSxZQUNBLG1CQUNBLEtBQ0EsT0FDQSxNQUNBLE1BQ0EsY0FFRyxDQUNILHVCQUNBLFdBRUEsd0JBSkcsSUFNSCxhQWxRQSxJQWdUQSxZQUVBLE1BREEsaUJBRUEsV0FsVEEsS0FyRUEsSUF5RUEsS0F6RUEsRUFtRkEsTUFIQSxJQUNBLFlBTUEsZUFDQSxvQkFFQSxZQUNBLGdCQUlBLE1BR0Esa0JBQ0EsUUFrQkEsSUFDQSxvQkFDQSw0QkFwQkEsQ0F3QkEsSUFzQkMsRUFDRCxFQXZCQSxhQWlCQSxLQWhCQSxZQTZrQkEsWUFDQSx3Q0E3a0JBLFlBQ08sU0FjUCxFQVZBLGdCQUdBLGNBRUEsSUFHQSxTQVZBLEdBYUEsb0JBRUEsc0JBSUEsZUFyeEJBLGNBSUEsaUJBQ0Esc0JBTUEsTUFIQyxFQUFELEdBQ0EsS0FDQSxnQkFFQSxlQUNBLFdBRUEsSUFDQSx1QkFDQSwyQkFHQSxzQkFDQSxvQkFDQSxRQUFvQixlQUNwQixnQkFNQSxPQUpDLEVBQUQsV0FDQSxxQkFDQSwyQkFFQSxDQUNBLHVCQUNBLFdBc3ZCQSxRQUNBLEdBQ0EsT0FDQSx3QkFDQSxnQkFDQSxTQUVTLGdEQUNULEdBQ0EsT0FDQSxTQWpCQSxHQXlCQSxZQUlBLG9CQUdBLEdBVUEsZ0JBVEEsQ0FDQSxPQUNBLE9BQ0Esa0JBVUEsRUE4QkEsU0FBUyxHQUFULE1BeUJBLFlBQ0Esa0JBQ0EsSUFxQkEsVUE1Q0EsSUFJQSxTQUNBLFFBQ0EsZ0JBQ0EsbUJBeUNBLFlBQ0Esa0JBREEsSUFHQSxRQUNBLFdBc1pBLGdCQUNBLFFBREEsR0FFQSxDQUNBLGtCQUNBLFNBRUEsV0FFQSxTQTlaQSxLQTFDQSxJQXVKQSxZQUNBLE1BQ0Esb0JBQ0EsZ0JBWUEsb0NBQ0csd0JBV0gsZUFJQSxtQkFhQSxPQVhBLG9DQUNBLHdFQUdBLGtDQUNBLGNBMWdHQSxjQUlBLDZCQUNBLDRCQUNBLGlCQW9nR0EsYUFNQSxvQkFFQSxlQUNBLFVBZ0JDLEVBQUQsTUFDQSxTQUNBLFlBQ0EsZUFDQSxzQkFDQSw2QkFFSyxDQUVMLGVBQ0EsVUF1QkMsRUFBRCxrQ0FDQSxRQUNBLFNBQ0EsWUFDQSwyQkFDQSxlQUNBLHNCQUNBLDBDQUNBLGdCQUVBLE9BREMsRUFBRCxVQUNBLEtBR0Esd0JBRUEsY0FFQSxhQXZRQSxJQWlTQSxZQUNBLGlCQUNBLHlCQWxTQSxJQThTQSxZQUNBLE9BQ0EsZ0JBQ0EsZUFFQSxnQ0FDQSxxQkFuVEEsSUFDQSxZQUFpQixZQUF1QixJQUN4QyxnQkFHQSxPQWtUQSxnQkFFQSxnQkFEQyxFQUFELFlBRUEsbUJBQThCLElBQU8sSUFHckMsR0FGQSxjQUNBLGFBQ0EsV0FTQyxHQVBELGtCQUVBLDBCQUdBLG9CQUVBLFdBQ0EsbUJBQ0EsU0FDQSxnQkFFQSxpQkFMQSxJQWdCQSxZQUVBLGVBREEsV0FDdUMsZUFFdkMsY0FDQSxTQUVBLFNBQ0EsaUJBeEJBLEVBZ0RBLEtBRUEsb0JBRkEsRUFJQSxNQUpBLElBT0EsTUFQQSxJQXRCQSxLQUVBLGdCQUZBLEVBSUEsTUFKQSxJQU9BLE1BRUEsZUFDQSxLQUVBLGdCQUZBLEVBSUEsTUFKQSxJQU9BLFNBa0JBLFlBQ0EseUNBRUEsaUJBRUEsc0JBRVEsR0FBRCxXQUNQLG9CQUNBLGdCQUVBLGlCQUVBLDRCQUNPLEtBR04sR0FGRCxvQkFFQSxVQUNBLFVBQ0EsS0FMTyxJQU9QLDJCQUNBLGFBQ0EsZ0JBQ0EsT0FHQSw0QkFtQkEsZ0NBR0EsYUFDQSxhQUNBLDZCQUNBLG9CQW5iQyxDQUFELEdBQ0EsRUFzQ0EsU0FBUyxHQUFULEdBQ0EsTUFDQSxvQkFDQSxNQWNBLFlBQ0Esa0JBQ0EsVUFDQyxFQUFELENBQ0EsaUJBQ0EsNkJBQ0EsY0FVQSxVQVJBLGdDQUNBLHdCQUNBLE9BQ0EsMEJBR0EsVUFFQSxHQTlCQSxLQURBLEdBR0EsUUFvRkEsU0FBUyxHQUFULEtBQ0EsaUJBQ0EsbUJBRUEsdUJBbUlBLFNBQVMsR0FBVCxHQUNBLDRCQVdBLFVBVEEsa0JBQ0EsYUFRQSxXQUVBLENBQU8sK0JBRVAsQ0FBTywyQkE2S1AsU0FBUyxHQUFULEdBQ0Esa0JBQ0EsTUFDQSxTQUVBLE9BREMsRUFBRCxxQkFBZ0Msb0JBQ2hDLEdBSUEsU0FBUyxHQUFULEdBRUEsUUFEQyxFQUFELEdBQ0EsZUFBbUMsSUFBTyxJQU8xQyx3QkFFQSxTQW1IQSxTQUFTLEdBQVQsR0FDQSw4Q0FvRUEsU0FBUyxHQUFULFNBRUEsd0JBQ0EsdUJBY0EsU0FBUyxFQUFULEdBRUEsR0FEQSxTQTZEQSxvQkFDQyxJQUFELFFBR0EsYUFHQSxRQUNBLGVBQ0EsYUFDQSxZQUNBLFdBTUEsaUJBQ0EsV0FFQSxpQkFEQSxZQUNBLElBQ0EsU0FFQSxTQUNBLFNBR0EsU0FmQSxNQUNBLDJCQTFFQSxJQUNBLFlBSUEsSUFDQSxXQUNBLGdCQUNBLG9DQUVBLE9BRUEsa0NBQTZDLElBQU8sSUFBcEQsRUFDQSxjQUNBLEtBQ0EsV0FDQSxhQUdBLGtCQUNBLHNDQUF1RCxJQUFXLElBQWxFLEVBQ0Esd0JBQ0EsS0FDQSxXQUNBLGNBckNBLElBNENBLFNBQVMsRUFBVCxLQUNBLGVBT0EsSUFOQSxvQkFDQSxpQkFLQSw4QkFDQSx1QkFDQSx3QkFHQSxZQURBLGlCQUtBLEdBRkEsZ0JBRUEsV0FDQSxnQ0FBK0MsSUFBTyxJQUN0RCw0QkFHQSxrQkFDQSxvQ0FBdUQsSUFBVyxJQUNsRSw4QkFsRUEsUUE0SkEsU0FBUyxHQUFULEtBR0EsSUFDQyxFQUFELG9CQUNBLEtBQ0EsS0FDQSxnQkFDQSxlQUNBLG1CQUNBLGVBRUEsb0JBVEEsT0FZQyxFQUFELElBQXFCLGtCQVpyQixFQWNBLGtDQUVBLElBSUEsU0FBUyxHQUFULEdBQ0EsTUFDQSxxQkFHQSxvQkFDQSw2QkFBbUQsZ0JBQThCLGNBTmpGLElBU0MsRUFBRCxpQkFDQSxtQkFDQSxrQ0FFQSx1QkFDQyxHQUFELEVBQ0EsUUFFQSxxQkFBOEIsaUNBakI5QixJQW1CQyxFQUFELEdBQ0EsS0FDQSxLQUNBLHlCQUNBLFNBQ0EsU0FFQSxPQUNBLGVBRVEsR0FBRCxhQUNQLGtCQUNBLE1BQ0EsOEJBQ0Esb0JBQTRDLGVBQzVDLGlCQUF5QywyQkFDekMsaUJBR0MsRUFBRCxRQWlCQSxPQWRBLFdBQ0EsR0FpQkEsWUFDQSxNQUlBLG1DQUNBLHFDQXZCQSxLQTFDQSxJQThDQSxNQVNBLHVCQVBBLEVBQ0EsNkJBQ0EsRUFDQSwrQkFDQSxFQUNBLGtCQUNBLFNBQzhCLElBYzlCLFNBQVMsR0FBVCxHQUNBLHFCQUNBLEtBQ0EsNEJBSEEsSUFLQyxFQUFELE1BQ0EsUUFDQSxNQUNBLHFCQUNBLHNCQUNBLGtCQUZBLGVBSUEsa0JBQ0EsSUFrREEsU0FBUyxHQUFULEtBR0EsSUFDQyxFQUFELFVBRUEsT0FDQSw2QkFGQSx1QkFFeUIsSUFDekIsbUNBSUEsU0FBUyxHQUFULEtBS0EsR0FKQSxXQUNBLDJCQUdBLGlDQUNBLGVBQ0csNEJBQ0gsZUFDRywwQkFDSCxlQUNHLHdCQUNILGVBQ0csNkNBQ0gseUJBQ0csa0JBQ0gsT0F1YkEsa0JBQ0MsRUFBRCx3QkFDQSxVQUNBLHVCQUNBLDBCQUNBLDZEQUFtRixPQUVuRixnQkFDQSxjQUNBLHVCQUVBLEtBQ0EsdUJBVUEsT0FUQSxZQUNBLFlBUUEsSUFMQSxVQUtBLElBRkEseUJBRUEsTUE3Y0EsTUFHQSxNQUNBLGVBQ0EsRUE0Y0EsZ0JBS0EsdUNBQ0EsMkNBbGRBLHNCQUNLLENBQ0wsUUFDQSx1Q0FDQSxXQUdBLHVDQUNBLGlEQUdBLFlBQW1CLHNCQUE2QixJQUNoRCx1QkFFQSxTQUtBLFNBQVMsR0FBVCxLQUNBLHFCQUlBLFlBTUEsT0FMQyxFQUFELE1BQ0EsYUFFQSw0Q0FBMEMsYUFDMUMsUUFDQSxrRUFJQSxTQUFTLEdBQVQsS0FFQSxHQURBLG1CQUNBLHFCQUNBLGVBQ0csMEJBQ0YsRUFBRCxHQUNBLFdBRkcsR0FHSCxDQUNBLFVBQ0EsUUFDQSxNQUVBLFdBUkcsU0FpQkgsdUNBRkEsUUFJQSxlQUlBLFNBQVMsR0FBVCxTQU9BLE9BREMsRUFBRCxlQUlBLFNBQVMsRUFBVCxTQWtCQSxjQUNBLFNBQ0EsT0FDQSxPQUNBLFFBQ0EsUUFqQkEsYUFDQSxpQkFHQSxnQkFMQSxPQU1DLEVBQUQsSUFDQSx5Q0FFQSxjQWpCQSwrQkE4QkEsU0FBUyxHQUFULFNBS0EsSUFDQyxFQUFELE1BQ0EsVUFDQSxpQ0FDQSxpQ0FrQkEsT0FEQSxtQkFDQSxpREFFQSxZQUNBLEtBR0EsU0FBUyxHQUFULFNBQ0MsRUFBRCxJQUlBLEVBK0VBLGNBQ0EsbUJBQ0EsVUFHQSxRQUZDLEVBQUQsZUFDQSxLQUVBLG1CQUE4QixJQUFPLEtBQ3JDLE9BQ0EsS0FDQSwyQkFIcUMsSUFPckMsbUJBUHFDLElBVXJDLEtBQ0EsYUFBZSxFQUFBQyxLQUFBLDZOQUdmLEtBQ0EsMEJBcEdBLE1BTEEsSUFNYSxVQUdiLFFBQ0EscUJBR0EsUUFDQSxxQkFFQSxhQUNBLHFCQUdBLFFBQ0EsZ0JBR0EsY0FDQSx1QkFHQSxZQUFpQixzQkFBNkIsSUFDOUMsc0JBK0JBLEdBNUJBLFVBQ0EsNkJBR0EsVUFDQSxnQ0FHQSxXQUNBLHdCQUVBLGlCQUNBLDhCQUlBLDZCQUNBLDZCQUdBLGdCQUNBLEdBd0VBLGdCQUlBLElBS0MsRUFBRCx3Q0FDQSxXQUNBLE9BQ0MsRUFBRCxtQkFDQSxNQUNBLE9BQ0EsU0FRQSxTQU9BLFVBQ0EsZUFEQSxHQUVBLENBQ0EsR0FDQSwrQkFDQSxNQUNBLENBQ0EsS0FDQSxNQUVBLE9BQ0EsTUFFQSxXQUlBLHFCQUNBLGlCQUF5QixxQkFDekIsVUFFQSx5RUFHQSxvQkFDQyxFQUFELEtBQ0EsV0FGQSxHQUlBLHlCQUVBLGFBVEEsWUEzSEEseUJBR0EsVUFDQSxtQkFBb0IsUUFBQUMsTUFBQSxzRUFHcEIsa0JBQ0EsTUFnREEsY0FDQSxvQkFTQSxrQkFDQSxzQkFDQSwyQ0FBK0MsK0JBQWlDLG1DQUE0RSxzQkFBcUIsT0FBa0IsZ0JBNURuTSxNQURBLElBR0EsVUFrQkEsT0FmQyxFQUFELHVCQUlBLGlCQUNBLGtEQUdBLGFBQ0EsaUJBR0Esa0JBQ0Esc0JBRUEsRUEyR0EsU0FBUyxHQUFULFdBQ0EsY0FDQSxnQkFHQSxxQkFLQSxTQUFTLEdBQVQsS0FJQSwrQkFDQSw0QkFDQSx5QkFFQSwwQkFDQSxrQkFOQSxJQVFDLEVBQUQsaUJBQ0EsR0FDQSxZQUZBLEdBR0EsNkJBQ0EsbUJBQ0EsUUFDQSxrREFDQSxxQkFDQSxhQUVBLHFCQUNBLGVBQVksa0NBQVosSUFBWSxJQUdaLFNBQVMsR0FBVCxXQU9BLGlCQUNBLGFBQ0EsV0FFQSxpQkFDQSxPQUNBLG9CQUNBLGVBQ0EsQ0FDQSxRQUNBLDhCQUNBLEdBQ0Esd0JBWEEsSUFhQyxFQUFELEVBWUEsY0FLQSxVQURDLEVBQUQsRUFDQSxJQUFpQixXQUFxQixJQUV0QyxVQURBLE1BQ0EsTUFHQSxVQUNBLGlEQUErRCxzQkFBc0MsQ0FDckcsSUFDQSxPQUVBLE1BQ0EsaURBQStELHdCQUMvRCxLQUdBLFNBL0JBLHFCQUNBLEVBRUEsNkJBQThDLE9BRDlDLE9BQzhDLFFBQXdCLDRCQStCdEUsU0FBUyxHQUFULEdBQ0EsMERBR0EsU0FBUyxHQUFULFlBQ0MsSUFBRCxPQUNBLFFBQ0csd0JBYUgsWUFDQSx1Q0FiQSxJQU1BLFlBQ0Esd0JBQ0EsYUFDQSxnQ0FQQSxJQWlEQSxTQUFTLEdBQVQsR0FHQSxRQUZDLEVBQUQsR0FDQSxLQUNBLElBQWlCLFdBQWtCLFNBQ2xDLEVBQUQsS0FDQSxjQUNBLFVBQ0Esb0JBRUEseUJBVEEsT0FZQyxFQUFELElBQWtCLGtCQVpsQixFQWNBLGdDQWRBLEVBcUJBLFNBQVMsR0FBVCxHQUNBLFNBQ0EsNkJBQ0EsNkJBNktBLFNBQVMsR0FBVCxLQUNBLElBQ0EsdUJBQ0csU0FFSCxPQURDLEVBQUQsTUFBaUIsZUFDakIsR0FJQSxTQUFTLEdBQVQsR0FDQSwwQkFFQSxzQkFLQSxXQUNBLFlBQ0EsT0FxQkEsbUJBQ0Esa0JBREEsRUFHQSxRQUNBLFlBSUEsYUErQkMsRUFBRCxHQUNBLEtBeUJBLE9BeEJDLEVBQUQsc0JBQ0EscURBQ0Esa0JBc0JBLFFBMkdBLFNBQVMsR0FBVCxHQUdBLE9BRkMsR0FBRCxtQ0FDQSw2Q0FDcUMsRUFBckM7Ozs7OztBQTlsWEEsSUFPQSxxQkE2Q0EsNkJBMkVBLDBCQUtBLG1DQWlCQSxtQ0FtQkEsWUFDQSxrQkFDQSxtQ0FBa0Qsa0NBTWxELGtCQUNBLCtDQU1BLGdCQUNBLGtCQUNBLDRDQThCQSwyQkFKQSxjQUNBLGtCQWZBLGNBQ0EsY0FDQSx1QkFDQSxTQUNBLElBQ0EscUJBQ0EsWUFDQSxVQUlBLE9BREMsRUFBRCxpQkFDQSxHQTJEQSxjQUE2QixVQU83QixlQUE2QixVQTJFN0IsMEJBRUEsSUFDQSxZQUNBLFlBQ0EsVUFHQSxJQUNBLGVBQ0EsVUFDQSxjQUNBLFVBQ0EsZUFDQSxVQUNBLGdCQUNBLFlBQ0EsWUFDQSxjQUNBLGdCQUNBLGtCQU9BLElBS0EsMENBS0EsVUFLQSxpQkFLQSxZQUtBLGVBS0Esa0JBS0EsaUJBS0EsbUJBTUEsNkJBTUEsaUJBTUEsa0JBTUEsb0JBS0Esa0JBS0Esd0JBTUEsZUFNQSxTQUtBLG9CQVVBLGlLQXlCQSx3Q0FrQkEsbUJBR0EsOEJBQ0EsK0RBQ0EsNENBQ0EsZ0RBQ0EsK0JBQ0EsZ0NBQ0EsNkJBRUEsSUFEQSwwQkFDQSxpREFHQSxJQUZBLDJCQUNBLHlCQUNBLGdDQUdBLE1BQXFCLE1BRXJCLE1BQ0EsTUFDQSxJQUNBLFVBQ0Esb0NBQ0EsZUFFQSxTQUdBLGdEQUNHLFVBdGlCSCxJQTJpQkEsR0EyQkEsR0ExQkEsY0FXQSxZQVZDLElBQUQsS0FPQSxJQUxBLHNCQUdBLDhDQUtBLElBSUEsMkNBT0EsR0FDQSx1Q0FDQSxnREFwa0JBLEdBd2tCQSxnQ0FFQSxJQUdBLFdBQ0EsYUFDQSw2QkFZQSxPQVZDLEVBQUQsMEJBQ0Esd0JBRUEsNEJBQ0EsZ0JBRUEsNkJBQ0EsOEJBR0EsRUFkQSxHQTdrQkEsSUFpbUJBLEtBOEZBLEtBTUEsY0FDQSxhQUNBLGNBR0EsZ0NBQ0EsbUJBR0EsbUNBQ0EsZ0JBR0EsK0JBQ0EsV0FDQSx3QkFJQSwrQkFTQSxJQVBBLHdCQU9BLGVBQWtDLElBQU8sSUFDekMsZUFPQSxlQXp1QkEsSUEwdUJBLE1BY0EsNkJBVUEsV0FDQSxZQUNBLGdCQUNBLFlBQ0EsV0FDQSxlQUNBLGVBQ0Esc0JBQ0Esc0JBQ0Esc0JBQ0Esa0JBQ0Esd0JBQ0EsOEJBQ0EsbUJBQ0EsWUFDQSxpQkFDQSxxQkFDQSxrQkFDQSxpQkFDQSxlQUNBLG9CQUNBLHNCQUNBLDRCQUdBLElBQTBCLE9BQVMsa0JBSW5DLHdCQUNBLCtCQUdBQyxPQUFPQyxpQkFBaUIsR0FBeEIsY0FueUJBLElBcXlCQSxvQkFDQSxjQUVBLGFBR0EsT0FGQyxFQUFELE9BQ0EsZUFDQSxHQTBDQSxtQkFDQSxxQkFFQSxDQUNBLE9BQ0EsTUFDQSxRQUNBLFVBQ0EsU0FDQSxPQUNBLFdBTUEscUJBRUEsWUFDQSx1QkFDQSw0QkFDQSx1QkFGQSxJQU1BLEVBRkMsRUFBRCxnQkFDQSxjQWNBLE1BWEEsU0FXQSxHQVZBLFlBVUEsRUFUQSxJQUVBLFdBT0EsSUFOQSxjQU1BLEdBSG1CLGtCQUVuQixlQUNBLFFBMzNCQSxJQWk0QkEsa0NBTUEsTUFZQSxlQUNBLGFBQ0EsZ0JBQ0EsZUFDQSxtQkFDQSxrQkFMQSxHQTRDQSxjQUVBLGNBdkNBLE9BZ0RBLGdCQUNBLHlCQUFrQyxJQUFPLElBRXpDLElBRkEsRUFDQSxLQUNBLE1BakRBLFVBRUEsc0JBRUEsY0FTQSw4QkFFQSxRQURDLEVBQUQsZUFDQSxJQUFpQixXQUFpQixJQUNsQyxXQU9BLHNDQUNBLHVCQUFtQyxJQUFPLElBQzFDLFNBZ05BLElBQUksR0FBSix5QkE0RkEsd0JBSUEsU0FlQSxTQWJBLHdCQUZBLEVBWUEsUUFtQ0Esd0JBQ0EsV0F5QkEsd0JBQ0EsZUFTQSx1QkFVQSxHQUhBLFNBQWtDLFVBQ2xDLFNBQWlDLFdBRWpDLEVBQWtCLDhCQUlsQixNQUFtQixTQUNuQixTQUVBLGFBREMsRUFBRCxLQUNBLE9BQ0MsRUFBRCxLQUNBLE9BQ0EsdUJBQ0EsT0FFQSxPQUNBLFlBQ0EsdUJBRUEsVUFNQSxTQUNBLFdBQ0EsVUFDQSwwQkFTQSxNQUFtQixTQUNuQiwwQkFHQSxPQUZDLEVBQUQsS0FFQSxHQURpQixPQUNqQixHQUVBLGFBMzJDQSxJQXk0REEsR0F6aEJBLGlCQUNBLHVCQStmQSxNQUVBLE1BQ0EsTUErQkEsNENBQ0EseUJBQ0EsY0FDQSxXQURBLElBT2dCLGVBRWhCLFdBQ0UsR0FBRCwyQ0FDRCxxQkFFQSxxRUFIQyxRQW1CQSxZQUlELFdBQ0EsTUFJQSxXQUNBLHFCQXpCQSxLQUlDLEdBQUQsRUFDQSwyQkFDQSxrQ0FDQSxlQUNBLG1CQUVBLGNBQ0EsWUFDQSxlQUVBLE1BaDdEQSxJQTJrRUEsVUFxQ0Esa0JBQ0Esd0JBRUEsU0FEQSxrQkFDQSxVQUVBLFNBREEsa0JBQ0EsVUFFQSxPQUNBLEtBRkMsRUFBRCxlQUdBLE9BQ0EsVUFDQSxjQWsyQkEsaUJBNzlGQSxJQThySEEsR0F2cEJBLElBQ0EsbUJBQ0EsR0FDQSxzQkFDQSxrQ0FDQSxpQkFDQSxDQUVBLFFBQ0EscUJBQ0ssRUFDTCxvQkEwSkEsY0FHQSxJQUNDLEVBQUQsQ0FDQSxnQkFDQSxlQUNBLFVBR0Esd0JBS0EsT0FKQyxFQUFELEtBQ0Esa0JBQ0EscUNBRUEsK0JBektBLFFBSUEsMkJBSUEsMkJBQ0MsRUFBRCxvQkFrOEJBLG9CQU1BLElBV0MsRUFBRCxtQkFDQSxpQkFDQSxFQUNBLGVBQ0Esb0JBQ0EsZ0NBTUEsS0FDQSxHQUNBLDRCQURBLEdBb0JBLEdBZkEsMEJBQ0EsV0FFQSxXQUNBLG1CQUVBLDZCQUtBLDBCQUNBLG1CQUdBLHFCQUNBLE1BR0EsUUFGQyxFQUFELFNBQ0EsMkJBQ0EsSUFBbUIsV0FBcUIsU0FDdkMsRUFBRCxLQUNBLG1CQUNBLGdCQUVBLE1BRUEsdUJBSUEsUUFDQSxrQ0FDQSw4QkFDQSxVQTdEQSxJQWlFQSx5QkFDQSxrQkF4Z0NBLENBREEsd0NBR0EsWUFDQSxZQUhBLEVBS0EsYUFJQSx1QkFDQyxFQUFELFVBQ0Esc0JBQ0EsZUFDQSxnQkFDQSxpQkFFQSxtQkFDQSxhQTRyQ0EsWUFHQSxlQUNBLFdBMXJDQSxJQUVBLFdBS0Esb0JBQ0EsMEJBQ0EsaUJBQ0EsaUJBd2dDQSxTQUFTLEVBQVQsS0FDQSxTQUNBLHFCQUNBLFFBSUEsY0FDQSxlQUNBLFlBQW1CLHFCQUF5QixJQUM1QyxrQkFFQSxxQkFqaENBLE9BRkEsZ0JBUUEsbUJBcUtBLEtBQ0EsS0ErS0EsUUErWEEsUUErVUEsTUFDQSxNQUNBLE1BRUEsTUFDQSxNQUNBLEtBbUJBLEtBR0EsWUFRQSxZQUNBLDBCQUVBLElBQ0EsMkJBQ0EsK0NBTUEsY0FBMEIsa0JBenJJMUIsSUE2eklBLEtBT0EsdUJBT0EsVUFEQSxJQUdBLGlCQUVBLHVCQUxBLEdBUUEsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esc0JBRUEsMkNBRUEsVUFDQSxhQUNBLGVBQ0EscUJBQ0EsYUFDQSxnQkFDQSxtQkFDQSxzQkFDQSxnQkFFQSxHQUVBLHFCQUNBLGVBRUEsWUFsM0hBLFlBQ0EsZ0JBR0EsbUJBQ0EsbUJBQ0EsWUFBbUIsV0FBcUIsS0FDeEMsTUFBaUIsT0FDakIsVUFFQSxXQXcySEEsS0FDQSxjQUNBLGdCQVNBLDRCQUVBLFlBTUEsNEJBQ0EsUUFEQSxJQUVBLEVBQ0MsRUFBRCxRQUNBLElBQ0Esd0JBQ0csU0FDSCxjQUdDLE1BQUQsRUFGQSxrREFKQSxRQVdBLFdBQ0EsTUFFQSxJQUNBLG1CQUVBLFVBTUEsZ0NBQ0EsV0FDQSx3QkFDQSxzQkFDQSxzQkFDQSxvQkFDQSxpQkFRQSx3Q0FDQSx1QkFDQSxNQUNBLG1CQUNBLDBCQUNBLGtCQUdBLGtCQUNBLDJCQUNBLGlCQUNBLHVCQUNBLFlBQ0EsdUJBQ0EsZUFDQSx1QkFPQSwrQkFFQSxVQUNBLGNBQ0csVUFDSCxXQW5LQSxZQUNBLFdBQ0EsZ0JBRUEsR0FEQSxTQUNBLEdBRUssS0FHTCxrQkFDQSxxQkFDQSxJQUVBLHdCQVJBLFdBSEEsS0FlQSxNQU1BLFNBOElBLFFBUUEsNEJBQ0EsZ0JBQ0EsaUJBQ0EsR0FDQSxnQkFJQSxNQUNBLFVBQ0EsQ0FFQSxpQkFFQSxHQURBLGFBQ0EsVUFDQSxJQUNBLDBCQUNTLFNBQ1QsK0RBR0MsS0FBRCx3QkFVQSxpQ0FDQSxzQkFDQSxlQU1BLG1DQUNBLHVCQUNBLEtBQ0EsdUJBT0EsaUNBQ0EsZ0JBSUEsMkJBQ0EsMEJBTEEsSUFPQSx1QkFDQSxLQUNBLDZCQUVBLGlCQXZnSkEsSUE2Z0pBLElBQ0EsY0FDQSxnQkFDQSxNQUNBLE9Bc0lBLElBQThCLFNBNk05QixNQThIQSxTQTVIQSxHQUNBLDhCQUNBLFdBRUEsWUFXQSxZQUVBLGtCQTBDQSxrQkFDQyxFQUFELGdEQUVBLGlCQUNBLGtCQUNBLGlCQUVBLHlCQUNBLHdCQUNBLCtCQUNBLDZCQUNBLHNCQUVBLFdBQ0Esa0JBQ0EscUNBckRBLE1BRUEsYUFDQSxrQkFDQSxNQUZBLEdBVUEsaUJBR0EsVUFwa0NBLGdCQUNDLEVBQUQsV0FHQSxXQUNBLHdCQUNBLGdDQUNBLFlBRUEsb0JBR0EsWUFDQSxvQkFFQSxlQUNBLFdBRUEsZ0JBQ0EsaUJBQ0EscUJBQ0EsZ0JBQ0Esa0JBQ0EsdUJBOGlDQSxJQXZ0Q0EsWUFDQSw4QkFDQSxtQkFFQSxrQ0FKQSxHQU1BLFFBa3RDQSxJQW4vQ0EsWUFDQSxjQUNBLG9CQUZBLElBR0MsRUFBRCxXQUNBLDBCQUNBLGVBQ0EsaUNBQ0Esa0JBS0EsdUJBQWlDLHlCQUdqQyxtQ0FBNkMseUJBSTdDLGdCQVdBLHFDQUNBLGlEQXE5Q0EsSUFDQSxxQkE1Z0ZBLFlBQ0EsOEJBREEsSUFHQSxNQUNBLG9DQVlBLGVBR0EsT0EwL0VBLElBQ0EsTUF2aEZBLFlBQ0EseUJBREEsSUFHQSxpQ0FDQSxVQURBLEdBcWhGQSxJQUNBLGdCQVNBLGVBQ0EsMEJBc0VBLEtBbkxBLGdCQU1DLEVBQUQsQ0FDQSxlQUE4QixxQkFhOUIsMENBaEJBLENBQ0EsZUFBNkIscUJBZ0I3Qiw4Q0FFQSxtQkFDQSxzQkFFQSxtQ0FLQSxXQUNBLFFBQ0Esb0JBRUEsU0FDQSxRQUNBLHNCQUNBLGVBQ0EsSUFDQSxrQkFDTyxTQUNQLDJEQUdBLGtCQUNBLGVBOUNBLENBb0xBLElBdndDQSxZQUNBLGVBQ0EsOEJBQ0EsV0FDQSxvQkFDQSx1QkFBdUMsSUFBTyxJQUM5QyxtQkFHQSx5Q0FHQSxZQUNBLG9CQUdBLFVBR0EsZ0NBRUEsYUFDQSxZQUNBLHFCQUhBLFdBT0EsT0FGQyxFQUFELEtBQ0EsV0FDQSxHQUdBLCtCQUNBLFdBRUEscUJBRUEsT0FEQyxFQUFELDRCQUNBLEVBR0EscUJBQ0EsdUJBQXlDLElBQVMsSUFDbEQsZUFFQSxTQUdBLG1CQUNBLE1BQ0EsU0FFQSxNQUVBLE9BREMsRUFBRCxnQkFDQSxFQXJCQSxRQXdCQSxFQUNDLEVBQUQsU0FDQSxLQUVBLElBREEsVUFDQSxhQUNBLGNBQ0EsTUFHQSxVQUdBLDhCQUNBLFdBYUMsRUFBRCxhQUNBLE1BQ0Esb0JBR0EsUUFGQyxFQUFELGVBRUEsZUFBcUMsSUFBTyxJQUM1QyxhQUZBLDZCQUtBLFVBekZBLENBd3dDQSxJQXBvQ0EsWUFDQSxzQ0FDQyxFQUFELEtBQ0EsUUFDQSxXQUNBLFFBQ0EsV0FRQSxNQWJBLEVBYUEsaUJBSEEsMEJBS0EsSUFmQSxJQWtCQSxnQkFFQSxRQUNBLGlCQUdBLG1EQUNBLHNCQU1BLG9DQUNBLEtBQ0EsVUFEQSxLQUVBLG1CQUlBLGdDQUNBLFdBQ0EseUJBR0Esc0JBQ0EsdUJBRUEsaUJBQ0EsNkNBQ0EsaUJBR0EsWUFDQSxzQkFaQSxJQWNBLHlCQUNBLEtBQ0EsMEJBSUEsZ0JBQ0EseUJBR0Esa0JBRUEsMkJBRUEsa0JBRUEsU0FFQSxRQUNBLG9CQUdBLFdBQ0Esd0JBOUVBLENBcW9DQSxJQXZpREEsWUFFQSxnQkFFQSxrQ0FDQSxtQkFHQSxtQ0FrQkEsRUFqQkMsRUFBRCxLQUNBLGFBQ0EsV0FDQSxpQkFKQSxJQU9BLGtCQUNBLG1CQUNBLFNBQ0EsaUJBTUEsV0FHQSxJQUlBLEtBQ0EsMENBQ0ssU0FDTCxnQkFZQSxXQW5CQSxRQXNCQSxRQW1CQSxPQWhCQyxNQUFELDJCQUNBLFFBR0Esa0JBUUEsUUFHQSxXQUNBLEdBcEVBLENBd2lEQSxJQXQrSkEsSUFvcktBLHlCQWlGQSxJQUNBLFVBaEZBLENBQ0Esa0JBQ0EsWUFFQSxPQUNBLFdBQ0EsV0FDQSxxQkFHQSxtQkFDQSwrQkFDQSxjQUdBLHFCQUNBLHdCQUNBLDRCQUlBLG1CQUNBLFdBRUEsbUNBQ0Esa0JBQTBDLHFCQUUxQyxtQ0FDQSxrQkFBMEMsc0JBSTFDLHNCQUNDLEVBQUQsb0JBQ0EsUUFDQSx3QkFDQSxVQUVDLEVBQUQsTUFFQSxFQURBLEtBQ0EsUUFDQSxFQUZBLEtBRUEsUUFDQSxHQUVBLG1CQUVBLGNBRUEsU0FaQSxJQWdCQSxFQURBLEtBQ0EsTUFDQSxFQUZBLEtBRUEsS0FDQSxjQUdBLGlDQUNBLE1BQ0EsTUFDQSwyQ0FFQSxPQUNBLFlBRUEsT0FDQSxVQUVBLHVDQUNBLDBCQUlBLG9CQUVBLHNCQTREQSxTQWxEQSxHQUVBLE9BQ0EsZUFBK0IsWUFRL0Isb0NBS0EsUUFDQSxRQUNBLFNBQ0EsZUFDQSxrQkFHQSxRQUNBLFdBQ0EsY0FHQSx5QkFFQSxPQURDLEVBQUQsR0FDQSxHQUdBLDhCQUNBLHdCQUNBLHdDQUtBLGtCQUVBLDJCQTNVQSxZQUNBLGtCQUNBLDBEQUNBLG1CQUNBLFlBSUEscUJBUUEsT0FQQyxFQUFELGNBQ0EsNkJBQ0EscUJBQ0ssc0JBQ0wsZ0JBRUEsVUFDQSxNQTZUQSxJQXZUQSxZQUNBLG9CQUVBLE9BREMsS0FBRCwwQkFDQSxNQXFUQSxJQUNBLE1BcE5BLFlBSUEsd0JBQ0EsbUJBR0EsVUFRQSx3QkFDQSxpQkFDQSxnQ0FFQSx3Q0FDQSxHQUF3QixrQkFFeEIseUJBZkEsR0FFQSwyQkEyTUEsS0FHQSxLQUVBRCxPQUFPRSxlQUFlLEdBQXRCLHVCQUNBLFNBR0FGLE9BQU9FLGVBQWUsR0FBdEIseUJBQ0EsZUFFQSw4Q0FLQUYsT0FBT0UsZUFBZSxHQUF0QiwyQkFDQSxXQUdBLG9CQS8wS0EsSUEyak9BLGtCQTBSQSxHQThGQSxHQWlOQSxHQS95RUEsb0JBR0EsOENBQ0EsbUJBQ0EsTUFDQSxrQ0FDQSw4QkFDQSw0QkFDQSwwQkFJQSw2Q0FFQSwyQ0FFQSxpQkFDQSwwQkFDQSxRQUVBLCtCQUVBLFFBR0EsNllBU0Esa0NBRUEsZUFDQSxpREFHQSxlQUNBLHFDQUdBLGVBQ0Esd0JBc0ZBLElBQ0EsaUNBQ0EsMkNBR0EsMm5CQWdCQSwwTkFTQSxlQUNBLHFCQWNBLHVCQTBCQSxrREFnRkEsa0JBQ0EsY0F6REEsY0FDQSxnQ0FEQSxNQUVBLGNBSUEsc0RBQ0Esc0NBUEEsTUEwREEsZ0JBOUNBLGNBQ0EsMENBOENBLGVBM0NBLFlBQ0EsbUNBMkNBLGNBeENBLFlBQ0Esa0NBd0NBLGFBckNBLGdCQUNBLHFCQXFDQSxZQWxDQSxjQUNBLGtCQWtDQSxZQS9CQSxjQUNBLGtCQStCQSxXQTVCQSxZQUNBLHFCQTRCQSxZQXpCQSxZQUNBLHNCQXlCQSxRQXRCQSxZQUNBLGtCQXNCQSxlQW5CQSxjQUNBLGlCQW1CQSxjQWhCQSxjQUNBLHdCQTBFQSxnQkFBZ0MsSUFFaEMscURBazBCQSx1QkEyTEEsbUJBK2RBLFNBQ0EsU0E4TUEseUJBaU1BLHNCQUNDLEVBQUQsR0FFQSxVQU9BLE9BTkMsRUFBRCxNQUZBLGlCQUVBLHFCQUNBLE1BQ0EsaUJBQ0EsNkNBR0EsS0E0REEsU0FDQSxvQkFDQSxtQkFFQSxjQUNBLDhCQUNJLEdBQUQsV0FDSCw0REFDRyxDQUNILFlBQ0Esb0JBSUEsdUJBQXVDLElBQVMsSUFDaEQscUJBR0MsRUFBRCxhQUtBLHlCQUdBLGtCQUdBLEdBRkEsMkNBRUEsWUFEQSxVQUNBLFFBQ0EsU0FHQSxVQURDLEVBQUQscUNBQ0EsSUFBaUIsWUFBd0IsSUFFekMsTUFEQSxXQUNBLEdBQ0EsWUF1REEsU0FpRkEsa0JBQ0EsT0FDQSxzQkFDQSwyQkFDQSxtQ0FDQSxzQkFDQSwyQkFDQSx1Q0FJQSxXQUNBLGdCQUNBLGVBR0EsZ0JBQ0EsbUJBQ0EsZUFDQSxrQkExeVBBLFVBNnlQQSxpQ0FDQSxtQ0FFQSxzQkFDQSwrQkFFQSxnQ0FDQSxrQ0FFQSxxQkFDQSwwQkF2elBBLElBNHpQQSxNQUNBLDZCQUNBLDBDQUNBLFdBQ0EsWUFBOEMsWUFzRDlDLDRCQXNaQSxHQTlpRkEsWUE4QkEsY0FDQSxzQkFFQSxNQUNBLG1CQXNCQSwwQkFtQkEsR0FWQSxpQkFNQSxhQUdBLG1CQUNBLGdCQUlDLEVBQUQsT0FDQSxhQUNBLFFBQ0EsTUFlQSxXQUNBLDBCQUNBLHFCQUNBLEtBSUEsU0FDQSxNQUNBLE9BRUEsY0FNSyxnQkFDTCw4QkFDQSxlQUVBLCtCQUNBLGVBSUEsb0JBQ0EsYUFDQSxTQUNBLDBDQVFBLEdBUEEsMEJBQ0EsUUFNQSx1QkFNQSxPQUxDLEVBQUQsS0FDQSxhQUNBLE1BMEJBLDBCQUNBLEVBS0MsRUFBRCxFQUNBLHFCQUVBLEdBREEsNkJBQ0EsZ0NBQ0EsUUFBbUIsc0JBQXlCLEVBQzVDLG9CQUVBLFVBQ0EsTUFLQSxhQTVDQSxXQUVBLEdBS0EsZ0JBQ0EsMEJBQ0EscUNBQ0EsMkJBRUEsOEJBQ0EsTUFDQSxPQUNBLE9BSUEsTUFFQSxXQTBCQSxrQkFDQSxPQUNBLEtBQ0EscUJBQ0Esc0JBR0Esb0JBS0Esa0JBQ0Esb0JBSUEsWUFBcUIsYUFBcUIsRUFDMUMsaUNBRU0sRUFBRCxTQUNMLGlEQUlBLG1CQUNBLHFCQUNBLDZCQUVBLGdCQUdBLGdCQUNBLFlBQXFCLG9CQUF5QixFQUM5QyxrQkFHQSxFQURBLGlCQUVBLGFBQTRCLGVBQzVCLGFBQTRCLFdBTzVCLGNBQ0EsTUFDQSxvQkFDQSw4QkFEQSxJQUdBLFFBSEEsR0FLQSwwQ0FDQSx5QkFFQSxXQUlBLFNBQ0EsZUFDQSxpQkFDQSwwQkFFQSx5QkFJQSx3QkFDQSxLQUFVLE9BQW9CLEVBQzlCLHFCQUlBLGtCQUNBLElBQ0MsRUFBRCxPQUNBLFFBRUEsSUFEQSw2QkFBeUQsS0FDekQsSUFBaUIscUJBQXdCLEVBQU8sZ0JBRWhELG1CQUNBLFFBQWlCLHNCQUEyQixFQUM1QyxpQkFLQSxvQkFDQSxLQUFVLE9BQW9CLEdBQzlCLFdBQ0EsT0FDQSxVQUNBLEtBQ0EsTUFFQSxXQU1BLGdCQUNBLHdCQUNBLEVBQ0MsRUFBRCxrQkFhQSxJQVpBLEtBR0EsZUFHQSxFQXRSQSxjQUNBLGFBQ0Esa0JBQ0EsS0FJQSxPQURDLEVBQUQsWUFDQSxFQStRQSxVQUdBLG9EQUNBLE9BRUEsSUFBaUIsb0JBQXVCLEVBQ3hDLGlCQUVBLGdDQUNBLE9BRUEsU0FHQyxFQUFELE9BSUEsOEJBU0EsTUFSQyxFQUFELEVBQ0EsSUFDQSxhQUNBLE9BQ0EsT0FDQSxhQUNBLE9BQ0EsT0FNQSxLQU1BLFlBQ0EsS0FDQSxTQUNPLEtBQ1AsU0FDTyxTQUNQLGFBQ0EsU0FDQSxVQUNPLFNBQ1AsYUFDQSxTQUNBLFVBQ08sU0FDUCxhQUNBLGdEQUNBLFNBQ0EsVUFDTyxTQUNQLGFBQ0EsaUNBQ0EsU0FDQSxXQUVBLE9BQW1DLGFBSW5DLEVBSEEsV0FDQSxTQUNBLFlBRUEsc0JBR0EsR0FEQSxPQUNBLElBQ0EsYUFDQSxZQUNBLGtDQUdBLHNCQUdBLFVBR0EsSUFFQSxJQURBLDBCQUNBLFNBQ0ssS0FDTCxXQXNCQSxvQkFDQSxjQUF1QixJQUFTLElBRWhDLE9BREEsT0FDQSxRQUEyQyxTQUkzQyx3QkFRQSxVQUlBLGlCQUVBLGFBR0Esa0JBRUEsMkJBTUEsWUFMQSwyQkFDQSxhQUVBLHlCQVNBLGtCQUNBLGVBQ0EsZ0JBQ0EsNEJBR0EsWUFEQSx5Q0E3QkEsSUFpQ0EsRUFDQyxFQUFELE9BQ0Esb0NBQ0EsT0FwQ0EsSUF1Q0MsRUFBRCxXQUNBLGFBQ0EsZUFDQSxRQUFpQixvQkFBdUIsRUFBTyxpQkFDL0MsNEJBQXdELE9BRXhELFVBQ0EsV0FDQSxPQUEyQixhQUNwQixNQUlQLFdBQW1DLHVCQUNuQyw0QkFDTyxLQUNQLG9CQUNPLFdBQ1AsdUJBRUssaUJBQ0wsMkJBRUEsTUFDQSwrQkFBMkQsUUFJM0Qsa0JBR0EscUJBQ0EsbUNBRUMsSUFBRCxRQUFxQixhQUFrQixFQUN2Qyw0QkFhQSx3QkFDQSxFQUNDLEVBQUQsTUFDQSxTQUNBLGFBSUEsR0FIQSxjQUNBLFFBRUEsa0NBRUEsT0FEQyxFQUFELHVCQUNBLEVBUUEsVUFDQSwwQkFBc0QsUUFDdEQsMEJBR0EsT0FEQyxFQUFELE1BQ0EsRUFHQSxTQUNBLFFBRUEscUJBSUMsR0FBRCwyQ0FDQyxHQUFELGdCQVdBLGFBRVcsQ0FJWCxRQUZDLEdBQUQsRUFDQSxlQUNBLElBQTZCLFdBQXVCLEtBQ3BELHVCQUNBLEtBQ0EsTUFFQSxnQkFJQSxTQVVBLGNBeENBLFNBNkNBLFNBQ0EsU0FDQSxlQUNBLFVBQ0EsS0FDQSxPQUNBLE9BR0EsWUFFQSxrQkFHTUwsRUFBRCxnQkFDTCxlQUVBLFNBemxCQSxJQUNBLElBQ0MsRUFBRCxHQUVBLFlBQ0EsWUFFQSxRQUFhLGNBQWtCLEVBRS9CLElBREEsWUFDQSxJQUFlLGFBQW9CLEVBQ25DLGdCQUNBLDJCQVhBLElBMGZDLEVBQUQsNkNBNkdBLHlCQUNBLFVBREEsSUFNQyxHQUFELEVBQ0EsS0FFQSxRQUVBLEtBQ0EsV0FDSyxDQUNMLG9CQUNBLGVBRUEseUJBQ08sQ0FDUCxNQVFBLEdBSkEscUNBQ0Esc0JBQ0EsTUFFQSxNQUNBLFNBRUEsT0FEQyxFQUFELFFBQ0EsRUFhQSxFQWxvQkEsWUFDQSw0Q0FBMkQsUUFBM0QsS0Fpb0JBLElBekJPLElBNkJOLEVBQUQsTUFDQSxrQkFjQSxHQVhBLE1BTUEsa0JBQ0Esa0JBSUEsb0JBQ0MsRUFBRCxTQUNBLE9BRkEsR0FHQSxDQUNBLFlBQTJCLHFCQUF3QixFQUNuRCxnQkFHQSxHQURBLFlBQ0EsR0FDQSxZQUErQixvQkFBeUIsRUFDeEQsa0JBS0EseUJBQ0EsWUFFQSxZQUFpQyxlQUF5QixJQUMxRCxnQkFJQyxHQUFELEdBRUEsV0FLQSxLQUNBLGFBQ1MsVUFDVCxNQU1BLE9BREMsRUFBRCxPQUNBLE1BbkdBLE1BQTRCLE1Bem1CNUIsQ0E4aUZBLENBQWlDLG1CQWZqQyxDQXBuREEsQ0FDQSxVQUNBLFdBb0NBLENBQ0EsVUFDQSxXQTJ2QkEsQ0FDQSxVQUNBLFdBZ0hBLENBQ0EsVUFDQSxXQStKQSxDQUNBLFVBQ0EsV0EraUJBLElBQ0EsVUFDQSxZQUNBLHNCQUVBLGdCQUdBLElBRkEsVUFLQyxJQWVELE9BdnVEQSxDQWw2QkEsQ0FDQSxxQkFDQSxPQUVBLHFCQUNBLDBCQUNBLFNBQ0EsUUFHQSxvQkFDQSxXQW95QkEsQ0FDQSxVQUNBLFVBQ0Esb0JBQ0EsZUFwN01BLElBc3hRQSx3REFDQSw2QkFDQSxhQUNBLGlCQXp4UUEsSUE4eFFBLElBQ0EsMkJBQ0Esa0JBRUEsd0JBQ0EsNkJBQ0EsOEJBR0Esa0JBRUEsd0NBQ0ssa0NBQ0wsMkJBQ0EsbUJBQ0EsMENBQ0Esd0NBS0EsZ0NBcEJBLEtBdUJBLGdCQU1BLGlDQUNBLHFCQUNBLGtCQURBLElBTUMsRUFBRCxZQUNBLHdDQUNBLHlCQUEyQyxxQkFHM0MsV0FDQSwwQkFBNkMsa0JBQzdDLHNDQUVBLGtCQW9KQSxJQUNBLFlBQ0EsZUFDQSxZQUNBLFlBQ0EsWUFDQSxrQkFDQSxrQkFDQSxvQkFDQSxvQkFDQSx3QkFDQSx3QkFDQSxtQkFDQSx5QkFDQSxxQkFDQSxpQ0FrREEsZUFBa0MscUJBRWxDLGVBQXFDLHVCQTJIckMsTUFDQSxXQUNBLGtCQUZBLFdBS08sR0FBUCxLQTBLQSx5QkFDQSwyQkFDQSw0QkFDQSw2QkFDQSwyQkExMEdBLFlBRUEsT0FDQSxTQUVBLFNBQ0EsU0FJQSxHQUZBLGtCQUVBLFlBQ0EsYUFFQSxnQ0FiQSxPQWNBLGlCQUVBLE1BQ0EsMkNBQ0EsbUNBR0EsK0NBd3pHQSx3QkEzWEEsQ0FDQSxTQUNBLEtBekRBLENBQ0EscUJBQ0EsY0FHQyxHQURELFNBQ0Esd0JBQ0EsdUJBQ0EsNENBQ0EsTUFDQSxlQUNBLGlCQUNBLHNCQUdBLDRCQUlBLDJCQUNDLEVBQUQsU0FJQSxJQUhBLGNBSUEsU0FDQSx5QkFFQSxlQUpBLEVBTUEsaUJBQ0Esd0NBR0EsaUJBQ0EsMkJBSUEsZ0RBSUEsMkJBTUEsSUFFQSwwQ0FpWUEsd0JBaEJBLENBQ0EsV0FqU0EsQ0FDQSxrQkFDQSxTQUNBLFlBRUEsdUJBQ0MsRUFBRCxLQUVBLHNCQUNBLE9BS0EsZ0JBRUEsT0FQQSxDQW9CQSxnQkFZQSxPQUlBLEdBN0RBLGlCQUNBLFlBQ0EscUJBQ0EsU0EwREEsY0FDQSxTQUtBLFlBRUEsTUFDQSxTQUdBLGlCQUNBLGVBTUEsb0NBQ0Esa0JBQ0EsWUFDQSxZQUNBLFFBQ0EsU0FDQSx3Q0FDQSxNQTlEQSxJQWdFQyxHQUFELHFCQUE4QyxvQkFDOUMsY0FDQSxRQVFBLEdBSkEsZ0RBQ0EsZ0JBSUEsR0FDQSxTQTdGQSxjQUNBLG9DQTZGQSxRQUNBLFNBRUEsNERBQ0EsQ0FHQSxnQ0FFQSxnQkFPQSxPQUxDLEtBQUQsWUFDQSw4QkFDQSxjQUNBLG9CQUVBLFFBQ08saUJBQ1AsU0FDQSxTQUZPLElBSVAsRUFDQyxFQUFELFdBQXdDLEtBQ3hDLHFCQUNBLHlCQUNBLCtCQUFnRSxRQUloRSxZQStLQSxnQkFsS0EsQ0FDQSxTQUVBLDJCQUNDLEVBQUQsS0FFQSxlQUNBLDJCQUNBLFlBRUEsWUFDQSxTQUNBLFFBRkEsTUFNQSxnQkFDQSxJQUNBLGdCQUlBLG1CQVFBLFVBUEMsRUFBRCx1Q0FDQSxzQkFDQSxrQ0FDQSwwQkFDQSxtQkFDQSxXQUVBLElBQW1CLFdBQXdCLEtBRTNDLEVBREEsTUFDQSxLQUNBLGlEQUNBLFVBQ0EsWUFDWSxFQUFELG1CQUF1QixXQUF2QixHQVNYLE1BR0EsVUFGQyxFQUFELEdBQ0EsS0FDQSxJQUF1QixXQUEyQixLQUFsRCxFQUNBLE1BQ0Esa0JBQ0EseUNBQ0EsU0FDQSxVQUVBLFVBR0Esc0JBQ0EsZUFHQSxvQkFHQSx1QkFDQyxFQUFELGtCQUNBLDJDQUNBLHFDQU1BLGNBQ0EsY0FDQSxjQUtBLHdDQUVBLHVCQUNBLHFCQUNDLEVBQUQsTUFDQSxVQUNBLFFBQ0Esc0RBQ0EsOENBQ0EsbUJBR0Esd0NBQ0EsNEJBQ0EsZUFDQSxpQkFPQSxTQUNBLHNCQUVBLE9BQ0EsU0FHQSxpQkFDQSxxQkFPQSxvQkFDQSxzQkFDQSwwQ0FBc0QsV0FFdEQsUUFDQSx1QkFDQSx3QkFDQSxZQUVBLE9BREMsS0FBRCxtQkFDQSxrQ0FvREEsK0JBR0Esa0NBS0EsT0E3NkpBLGdCQTRCQSxNQTJDQSxPQWxFQSxRQUNBLG9CQUNBLHNCQW1CQSxvQkFzQkMsRUFBRCxXQUNBLDBCQU9BLGNBQ0Esa0JBQ0EsK0JBQ0Esd0JBSEEsR0FPQSxLQUlBLGlCQUNBLGdCQUNBLGlCQUVBLEVBczJKQSxNQURDLEVBQUQsbUJBQ0EsSUFoMlJBLElBczJSQSx1QkFDQSxlQURBLElBR0EscUJBc0JHLEdBLzNSSCxJQTRnU0EsR0FrV0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQXlnQ0EsR0FDQSxHQTJ0Q0EsR0F0dEZBLDhCQUNBLDRCQUVBLHNCQUNDLEVBQUQsd0JBQ0EsMEJBQ0EsOENBOElBLGtHQU9BLEtBQ0EsMkRBS0Esd1NBYUEsK0VBQ0EsMkdBQ0EsK0NBQ0EsNEJBQ0EsdUJBQ0EsZ0JBQ0EsbUNBQ0Esd0JBRUEsWUFDQSxXQUdBLGlDQUNBLE1BRUEsSUFDQSxPQUFPLElBQ1AsT0FBTyxJQUNQLFNBQVMsSUFDVCxRQUFRLElBQ1IsUUFBUSxLQUNSLE9BQU8sS0FDUCxRQUFRLEtBRVIsK0JBQ0Esc0NBR0Esd0JBQ0EsaUJBQXFELDhCQXVRckQsZUFDQSxlQUNBLHdDQUNBLG9DQUNBLGNBQ0EsY0FFQSxZQUNBLHFCQUNBLDJCQUVBLHFCQUVBLFlBQ0EsVUFJQSxNQTFWQSxZQUdBLE9BRkMsR0FBRCxtQ0FDQSxZQUNBLGtCQXlWQSxhQTYzQkEsa0JBQ0EsYUF3R0EsSUExM0NBLENBQ0EsMkJBQ0EsY0FyQ0EsY0FDQSxPQURBLElBRUEsZ0JBRkEsSUFnQkEsaUNBRUEsdUJBbEJBLElBb0JBLG1CQWtCQSxRQWRBLFlBQ0EsU0FPQSxPQU5DLEVBQUQsY0FDQSxxQ0FFQSxpQkFDQSxnQ0FFQSxJQWdEQSxDQUNBLDJCQUNBLGNBdkNBLGNBQ0EsT0FEQSxJQUVBLGdCQUNBLElBY0EscUNBR0EsdUJBcEJBLElBc0JBLG1CQWtCQSxRQWRBLFlBQ0EsU0FPQSxPQU5DLEVBQUQsY0FDQSxxQ0FFQSxpQkFDQSxrQ0FFQSxJQTQwQ0EsQ0FDQSxpQkFuRUEsY0FDQSxvQkFDQSxJQUtBLEVBTEEsYUFDQSxpQkFDQSxPQVdBLElBUEEsZ0NBQ0EsZ0JBRUEsMEJBQ0EsNEJBR0EsT0FDQyxFQUFELGdCQUNBLG1CQUNBLDBCQUNBLHVCQUVBLFFBRUEsTUFDQSx3QkFDQSxRQUNBLGVBQ0EsOEJBQ0EsTUFDQSxTQUNBLFVBR0EsWUFDQSxpQkFDQSxxQkFDQSxRQUNBLE1BQ0EsMEJBQ0EsVUFHQSxZQWVBLE9BZEMsR0FBRCxjQUNBLGdCQUNBLFFBQ0EsTUFDQSxNQUNBLFVBU0EsRUFMQSxVQUtBLElBSEEsWUFHQSxPQTJDQSxJQUNBLGNBQ0EsV0FDQSxXQVhBLENBQ0EsTUFodEdBLGdCQUlBLElBRUMsRUFBRCxRQUNBLGNBQ0EsUUFDQSxrQkFjQSxlQUdBLE9BRkMsR0FBRCxRQUVBLEVBQ0csaUJBcUVILGdCQUlBLElBUUEsMEJBTkEsMEpBREEsWUFJQSx1QkFHQSxJQUVBLGNBREEsYUFGQSw2REFHQSxTQWxGQSxhQUNJLEdBQUQsNkJBd0JILGdCQUlBLElBQ0MsRUFBRCxZQUNBLHdCQUNBLDZCQUNBLCtCQUNBLGVBQ0EsNkJBQ0EsSUFEQSxFQUNBLFFBQ0EsV0FDQSxXQUNBLHFCQUdBLGNBQ0Esd0RBRUEsTUFGQSx1Q0FJQSxpQkFKQSw2Q0FNd0IsMEJBTnhCLG1CQU9ZLGtEQVBaLFdBUVcsZ0JBQ1gsTUFWQSxHQXhDQSxhQUNJLEdBQUQsMEJBcURILGdCQUlBLElBQ0MsRUFBRCxZQUNBLHdCQUVBLDRCQURBLG1CQUNBLEtBQ0EsK0JBN0RBLGFBQ0ksR0FBRCw2QkFnRkgsZ0JBS0Esc0JBaUJDLEVBQUQsTUFDQSxTQUNBLFdBQ0EsU0FFQSxJQUNBLFNBQ0EsZUFFQSxRQUVBLHdCQTdCQSxJQStCQSxnQ0EvQkEsSUFrQ0EsZUFHQSxlQWZBLGlCQWlCQSwwQ0FHQSx3QkFDQSxtQkFDQSxPQUNBLDhCQWhJQSxhQUNJLElBQUQsb0JBR0gsT0FGQyxHQUFELFFBRUEsRUFZQSxVQStwR0EsS0FoQkEsY0FDQSxTQUNBLHlDQWVBLEtBVEEsY0FDQSxTQUNBLHdDQWdCQSxTQTkzSkEsWUFBK0IsaUJBKzNKL0IsY0FDQSxlQUNBLG9CQUNBLGlCQUNBLG1CQUNBLFdBbG1VQSxZQUNBLCtCQUNBLG9DQUNHLGNBSEgsQ0FrbVVBLEtBUUEsTUF1QkEsWUFDQSxTQUNBLGlGQUNBLGdCQWtHQSw2REFDQSxtQkFDQSxrR0FHQSxJQUNBLE9BQ0EsTUFDQSxTQUNBLFNBQ0EsTUFDQSxRQUNBLFNBQ0EsUUFDQSxlQUlBLElBRUEscUJBQ0EsVUFDQSxjQUVBLHVCQUVBLG9CQUNBLDBCQUNBLDZCQUNBLDBCQUVBLHFDQU1BLGVBQXFDLCtCQUVyQyxJQUNBLGlDQUNBLG1DQUNBLGtEQUNBLDJCQUNBLDZCQUNBLHlCQUNBLDJCQUNBLHFEQUNBLHVEQUNBLHVEQW1JQSxJQUNBLEdBbEJBLGNBSUEsNEJBQXNDLGdDQWV0QyxLQVZBLGNBQ0EsdUJBQ0EsMElBU0EsU0FTQSxlQUNBLGVBQ0EscUJBQ0EsOENBQ0Esd0NBQ0EsMkJBQW9DLGNBQ3BDLDBCQUNBLGdDQUF1QyxnQ0FDdkMsY0FDQSx3QkFDQSxhQTQ0QkEsSUFoWEEsa05BSUEsa0NBR0EsNENBRUEsbURBMlFBLFlBQ0EsZ0JBR0EsSUFDQyxFQUFELGlCQUNBLEtBQ0EsS0FNQSxLQStCQSxhQVpDLEVBQUQsVUFDQSxXQUNBLGtDQUdBLGVBQ0EsZUFDQSxrQ0FDQSxlQUlBLEVBQ0Esa0NBQ0EsV0FLQSxPQTFDQSxpQkFDQSxnQkEyQ0EsTUFxQkEsY0FJQSxzQkFDQSxnQkFDQSxRQUVBLGNBQ0EsT0FDQSxNQUNBLGdCQUNBLG1DQWpDQSxhQU1BLE9BRkEsV0FDQSxTQUNBLEVBR0EsT0FDQSxVQUNBLDBCQTRCQSxNQUVBLElBREEsV0FDQSx1QkFhQSxnQkFFQSxnQkFJQSxrQkFDQSxZQUNBLHlCQUdBLHVCQUNBLGtDQU9BLElBSEEsY0FHQSw0Q0FJQSxZQUdBLG9CQUVBLGNBQ0EsaUJBQ0EsS0FDQyxHQUFELG1CQUNBLG9CQUNBLGFBU1EsS0FBRCxXQU1OLE9BQUQsS0FMQSxtQkFiQSxJQXFCQSxFQWtDQSxZQUNBLGVBQ0EsbUJBRUEsb0NBRUEsT0FEQyxFQUFELDZCQUNBLFlBeENBLEtBRUEsVUFNQyxFQUFELE1BQ0EscUJBQ0Esd0JBQ0EsK0JBQ0Esd0JBQ0EscUJBQ08sTUFDUCxXQUNBLG9CQUNBLFdBQ0EscUJBU0EsMEJBaUJBLGNBRWUsYyxnREduc1hmLElBQUksRUFHSixXQUNBLFlBREEsR0FJQSxJQUVBLG1DQUNDLFNBRUQsb0NBT0EsYSxpQkNuQkEsY0FFQSxZQUEyQixFQUFRLElBRm5DLENBU0Msa0RBNDR0QkQsVUE1NHRCQyxFQTQ0dEJELFNBNTR0QkMsRUEwNmtCRCxRQTE2a0JDLEVBdytpQkQsU0F4K2lCQyxFQW81VkQsVUFwNVZDLEVBNGxQRCxVQTVsUEMsRUErL01ELFdBOS9NQSxPQUFPLFNBQVAsR0FLQSxjQUdBLFFBQ0Esb0JBR0EsWUFDQSxJQUNBLEtBQ0EsWUFVQSxPQU5BLG1DQUdBLE9BR0EsVUF2QkEsU0FpRkEsT0FyREEsTUFHQSxNQUdBLG9CQUNBLFVBQ0EsMkJBQWtELHVCQUtsRCxnQkFDQSxnREFDQSw0Q0FBZ0UsaUJBRWhFLHNDQUF5RCxZQVF6RCxrQkFFQSxHQURBLGNBQ0EsYUFDQSxxREFDQSwwQkFHQSxHQUZBLE9BQ0EsbUNBQWlELHdCQUNqRCwyREFBd0gsYUFBcUIsVUFBN0ksSUFDQSxVQUlBLGdCQUNBLHNCQUNBLFdBQW1DLGtCQUNuQyxXQUF5QyxVQUV6QyxPQURBLGFBQ0EsR0FJQSxrQkFBOEQsa0RBRzlELGFBSUEsd0JBbkZPLENBc0ZQLENBRUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwrREFFQSxHQURBLE9BQ0EsdURBQ0Esb0RBQ0Esc0RBQ0Esc0VBQ0Esb0VBQ0EsOEVBQ0Esb0RBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFtQkEsbUVBQ0EsZUFDQSxPQUNBLFFBQ0EsWUFDQSxzQkFDQSxvREFHQSxZQUNBLFlBQ0EsMEJBRUEsc0JBQ0EsY0FDQSxvQkFDQSxNQUNBLFdBQ0Esc0JBQ0Esc0JBQ0EsbUNBR0EsaUJBQ0Esa0JBQ0EsYUFDQSxNQUNBLFlBQ0Esc0JBQ0EseURBR0EsT0FDQSxhQUNBLGFBR0EsVUFDQSwwQkFDQSxNQUVBLDRCQUNBLE9BQ0EsOEJBQ0EsWUFBdUIsc0NBQXZCLElBUUEsT0FMQyxLQUFELGlCQUNBLGlEQUNBLHdDQUdBLDhCQUVBLCtCQUNBLFdBRUEsaUNBQ0EscUJBQ0Esc0NBQ0EsbUNBQ0EsT0FDQSxRQUNBLFFBQ0EsVUFFQSxPQUNBLG9EQUVBLElBQ0EsaUJBQ0Esd0JBR08sZ0NBQ1AsT0FDQSxVQUVPLGNBRVAsK0JBQ0MsS0FBRCxhQUNBLCtCQUNBLDRCQUNBLE9BQ0EsdUJBRU8sbUJBTlAsTUFRQSxtQkFDQSxXQUErQiwrQ0FDL0IsZ0NBQ0EsNEJBQ0Esa0NBQ0Esb0NBQ0EsNEJBT0EsT0FKQyxLQUFELFNBQ0Esc0NBR0EsR0FFQSx5QkFDQSw4QkFFQSwrQkFDQSxnQkFDQSxrREFDQSwwREFDQSxnQkFFQSwwQkFDQSx3REFFQSxtQkFDQSxpQ0FFQSxxQkFDQSxzREFFQSwyQkFDQSwrQ0FDQSwrQ0FHQSxtQkFFQSx1Q0FDQSwrQ0FHQSxTQUNBLDBCQUNDLEVBQUQsa0pBQ0EscUJBQ08sMEJBSVAsaUNBSEEsQ0FDQSxnQ0FFQSxJQUVBLHNCQUNBLGtDQUNBLGdDQUNPLHNCQUVQLG9CQUNBLE9BQ0Esc0JBQ0EsT0FDQSxjQUVBLG1CQUNBLGtCQUNBLGFBQ0EsWUFDQSx1QkFJQSxxQkFFQSxHQURBLHdEQUNBLHVCQUdBLHlEQUlBLGtCQUNBLCtCQUdBLG1CQUNBLHNCQURBLE9BRUMsS0FBRCxXQUNBLGdCQUNBLE9BQ0EscUJBQ0EsbUJBQ0EsaUJBRUssS0FUTCxNQWVBOzs7O3dDQUtBLGdCQUVBLGFBQ0EsT0FDQSw0REFDQSwyQkFBK0Ysb0JBSS9GLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEseURBRUEsR0FEQSxPQUNBLG1FQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBV0EsK0NBQ0EsYUFDQSxPQUNBLE1BQ0EsYUFDQSxnQkFFQSxJQUNBLFlBQ0EsZUFFQSxPQUNBLGFBQ0EsaUJBR0EsVUFDQSxrQkFDQSxrQ0FHQSx3QkFDQSw4Q0FDQSxnSkFHQSxtQkFDQSxlQUNBLG1DQUNLLHFCQUNMLGdCQUNBLDRCQUNBLFNBQ0EsMENBQ0EsNENBQ08sbUJBQ1AsT0FDQSxlQUVBLFVBQ0EsYUFFSyxTQU1MOzs7O3NDQUtBLGdCQUVBLGFBQ0EsT0FDQSxzREFDQSx5QkFBNkYsb0JBSTdGLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsa0VBRUEsR0FEQSxPQUNBLHVFQUNBLHNFQUNBLGdGQUNBLHNFQUNBLDBFQUNBLHNFQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBaUJBLDBMQUdBLG9CQUNBLGlCQUNBLFlBQ0Esa0JBRUEsT0FDQSxvQkFDQSxxQkFDQSx5QkFDQSx3QkFDQSx3QkFDQSxxQkFDQSx1QkFDQSx3QkFDQSx1QkFDQSxPQUNBLGFBQ0EsYUFHQSxnQkFDQSxPQUNBLHNCQUdBLFVBQ0EsK0JBQ0EsbUNBRUEscUJBQ0EsOEpBR0EsYUFFQSxtQkFDQSxZQUF3QiwrQ0FDeEIsMkRBQ0EsZUFDQSx5REFDQSxxREFDQSxvREFDQSwwREFDQSx5Q0FDQSw4Q0FDQSxxREFHQSxpQ0FDQSwyRkFEQSxJQUVDLEVBQUQsNEJBQ0EsbUJBQ0EsSUFFQSxHQURBLEtBQ0EsNkJBQ0EsdUJBQ0EsaUJBRUEsNEJBQ0Esb0JBS0EsWUFGQSxTQUZBLG1CQUNBLDZCQUdBLFlBRUEsK0JBQ0EsNkJBQ0EsZ0NBRUEsb0NBQ0MsS0FBRCxJQUNBLDhCQURBLEdBR0EsMkJBQ0EseUJBQ0EsMEZBQ0Esa0NBRUEsa0NBQ0Esa0VBRUEsT0FEQyxLQUFELGdEQUNBLEdBRUEsZ0NBQ0EsOEJBQ0EsaUNBRUEsMENBQ0MsS0FBRCxzQ0FDQSxnREFFQSw2QkFDQSx5RkFDQSwwQkFDQSwwRUFDQSx5QkFFQSw2QkFDQyxLQUFELGlDQUNBLGdEQUdBLHFCQUNBLG1EQUdBLG9FQUVBLDhCQUNDLEtBQUQsaUJBSUEscUJBSEEsbURBS0EsdUJBQ0EsK0VBRUEsa0JBQ0EsWUFBd0IsOENBQ3hCLDhEQUNBLDBEQUNBLDRFQUNBLGdEQUNBLHNEQUlBLE9BQ0EscUJBQ0EsNkJBT0EsdURBQ0EsbUJBRUEsMkJBQ0EsbUJBR0EsbUJBQ0EseUNBRUEsU0FDQSx5QkFDQSx5REFNQSxPQUxDLEVBQUQsd0JBQTZDLE9BQzdDLE9BQ0EsZ0NBR0EsR0FFQSw2QkFDQSx5RUFFQSwrQkFDQyxLQUFELG9CQUNBLG9FQUlBLHFEQUVBLG9CQUNBLGtDQUdBLHdDQUdBLG1CQUNBLDRDQVlBLE9BWEMsRUFBRCxnQkFFQSxpQkFDQSx3Q0FDQSx3QkFDQSxzQkFDQSxjQUNBLHVCQUlBLE1BTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsc0RBQ0Esd0RBQ0EscUJBQ0EsU0FDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVVBLHNCQUNBLDBCQUNBLGNBQ0EseUJBQ0MsRUFBRCxRQUNBLGNBQ0EsVUFDQSxTQUNBLG1CQUNBLGdFQUNBLGFBQXdCLENBQ3hCLFVBRUEsT0FFQSxjQUNBLG9EQU1BOzs7O3lEQUtBLGdCQUVBLGFBQ0EsT0FDQSwrREFDQSw0QkFBZ0csb0JBRWhHLDZFQUNBLG1DQUF1RyxvQkFLdkcsV0FDQSx5QkFDQSxrQkFDQSw0QkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLG9GQUVBLEdBREEsT0FDQSxtRUFDQSxnRkFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVdBLE9BQWtDLG9CQUNsQyxXQUNBLGtCQUNBLGdCQUtBLDRCQUNBLHNCQUNBLE9BQ0EsZUFDQSxhQUNBLFlBRUEsaUJBQ0EsYUFDQSxZQUVBLFFBQ0EsY0FDQSx3QkFDQSxnRUFHQSxtQkFDQSxXQUNBLDRDQUNBLG1CQUNBLFdBR0EsaUJBQ0EsYUFDQSxZQUNBLGlCQUdBLGdCQUNBLE9BQ0EsOEJBR0EsVUFDQSxtQkFDQSxZQUF3QiwrQ0FDeEIsb0JBQ0EsOERBR0EseUJBQ0EsMkJBRUEsMEJBQ0EsV0FFQSwyQ0FDQSx5QkFHQSw2QkFDQSxXQUVBLDhEQUNBLHVCQUNPLDZCQUVQLCtCQUNDLE1BQUQscUJBQ0EsNENBRUEseUJBQ0EsV0FEQSxPQUdBLHlFQUNBLGtDQUNBLDJEQUdBLGdCQUNBLGVBQ0Esd0JBRUEsZ0JBQ0Esa0JBQ0Esc0NBR0EsNkJBQ0EsVUFFQSxtQkFDQSx3REFFQSx1QkFDQSxxSEFFQSwrQkFDQSxpQkFDQSwyQ0FFQSx1QkFDQSx3REFFQSxPQURDLEVBQUQsc0VBQ0EsV0FFQSx5QkFDQSw0REFFQSx3QkFDQSxXQURBLE9BR0MsS0FBRCxjQUNBLHFDQUNBLHdFQUdBLG9CQUNBLHFEQU1BLE9BTEMsRUFBRCxXQUE4QixTQUM5Qiw0QkFDQSxzRUFDQSxrQ0FFQSxJQUdBLE9BQ0EsdUNBQ0EsMEJBQ0EseUJBRUEsOENBQ0EsOENBRUEsaURBQ0Esb0JBR0EseUJBQ0EsbUJBQ0EseUJBRUEsc0JBTUEsbUdBRUEsd0JBQ0EsbUJBRUEseUNBQ0EsdUJBRUEsbUJBQ0Esa0JBRUEsU0FDQSxxQ0FDQSxXQUlBLFFBQ0Esc0JBQ0EsMkJBQ0Esc0RBRUEsd0JBRUEsd0JBR0EsbUNBQ0EsNkJBRUEsZ0NBRUEsd0VBRUEsZ0NBR0EsdUNBQ0Esc0ZBREEsQ0FFQSxrQ0FFQSx3QkFDQSx1QkFDQSxxQkFFQSwwQkFFUSxHQUFELHFCQUNQLHNCQUNBLHNCQUVBLDBCQUVRLElBQUQsdUJBRVAsWUFEQSxzQkFJQSw2Q0FFQSwrRkFDQSxrSEFFQSxNQUNBLHVDQUVBLG1CQUdBLHdCQUdBLDZCQUNBLDJCQUNBLHdEQUVBLG9CQUNBLG9EQU1BLE9BTEMsRUFBRCxnQkFDQSw4QkFDQSxnRUFDQSxvQ0FDQSwwQ0FDQSxHQUVBLHdCQUNBLHdEQUVBLE9BREMsRUFBRCwyQkFDQSxHQUVBLHlCQUNBLDBGQUVBLG1CQUNBLG1CQUNBLDBEQUNBLHNCQUVBLG9CQUNBLDJDQUNDLEVBQUQsU0FDQSxVQUVBLDZCQUNBLHNCQUNBLGdEQUVBLHNCQUNBLGdCQUNBLGlEQUtBLDZCQUVBLHlCQUNBLHNCQUNBLGlEQUNBLG1CQUVBLG9CQUlBLHFCQUVBLHVCQUNBLGtEQUNBLGtCQUVBLDRCQUNBLHNEQUdBLGtDQUVBLHFCQUNBLFdBSUEsMkJBQ0EsK0NBQ0Esb0dBSUEsdUJBQ0EsMENBRUEsNkVBQ0EsbUJBR0Esb0JBQ0Esd0RBRUEsbUJBQ0EsZ0NBQ0MsRUFBRCx1Q0FDQSxrQkFDQSx3Q0FDQSxzRUFDQSx5QkFPQTs7OzsrQ0FLQSxnQkFFQSxhQUNBLE9BQ0EsaUZBQ0Esa0NBQXNHLG9CQUl0RyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUVBLEdBREEsT0FDQSxtRUFDQSxzRUFDQSxzREFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVNBLGlEQUVBLFFBQ0EsZ0JBQ0EsT0FDQSxhQUNBLGNBQ0EsTUFDQSxxQkFDQSxZQUVBLGNBRUEsVUFDQSxtQkFDQSxPQUNBLDJCQUNBLDZCQUNBLDZCQUdBLGtCQUNBLFVBQ0EsMENBQ0EsNENBQ0EsMENBQ08seUJBR1AsbUJBQ0EsT0FDQSx1QkFDQSxtQkFDQSxrQkFDQSxvQkFFQSw4RUFNQTs7Ozt5Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUloRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLCtEQUVBLEdBREEsT0FDQSxtRUFDQSxzRUFDQSwwRUFDQSw4RUFDQSxvREFTQSxnR0FFQSxRQUNBLGVBQ0EsT0FDQSxPQUNBLFlBQ0EsbUJBRUEsZ0JBQ0EsWUFDQSxZQUNBLDBCQUVBLE9BQ0EsYUFHQSxVQUNBLG1CQUNBLE9BQ0EsOEJBQ0EsMEJBQ0EsbUNBSUEsbUJBQ0EsdUVBQ0EsNkJBQ0Esa0JBQ0EsYUFDQSxZQUNBLHdCQUVLLG9CQUNMLGlCQUNBLHNCQUNBLG9CQUNLLHFEQUNMLE9BQ0EscUJBQ0EsbUJBQ0EsaUJBSkssV0FZTDs7Ozt3Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsNERBQ0EsMkJBQStGLG9CQUkvRixxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUVBLEdBREEsT0FDQSx1REFDQSwwREFDQSxzREFDQSxrRUFDQSxzRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWdCQSx5REFDQSxnQkFDQSxnQkFDQSxPQUNBLFlBQ0EsaUJBQ0Esa0JBQ0EscUJBQ0EsYUFFQSxtQkFDQSxlQUNBLE1BQ0EsYUFDQSxZQUVBLE9BQ0EsYUFDQSxhQUdBLFVBQ0EsbUJBQ0EsWUFBd0IsK0NBQ3hCLGtDQUNBLG9DQUNBLHdDQUNBLGtDQUdBLHNCQUNBLDJEQUVBLG1CQUNBLHdDQUVBLG9CQUNBLDhEQUVBLGtCQUNBLG1EQUNBLHlCQUNBLGdDQUNBLFFBQ0EsUUFDQSxjQUF3QixDQUN4QixrQkFDQSxhQUNBLGFBSUEsU0FFQSxrQkFDQSw4QkFFQSxzQkFDQSw0QkFFQSxtQkFFQSxNQURBLGdCQWNBLFNBWEEsVUFDQSwrQkFDQSxPQUNBLHFCQUNBLFVBRVMsYUFFVCxpQkFHQSwrQkFDQSw2QkFDQSxPQUNBLGlCQUNBLFNBRUEsSUFDQSx1QkFFTyxNQUVQLG1CQUNBLGtDQUNBLDhCQUNPLHNCQUVQLHNCQUNBLFdBRUEsb0JBQ0EsMkRBQ0EsbUJBQ0Esd0JBRU8sb0JBQ1Asa0NBQ0EsaUNBREEsS0FJQSxzQkFDQSxrQ0FDQSxpQ0FDTyxrQ0FFUCxzQkFDQSxrQ0FDQSxpQ0FDTyx5Q0FHUCxtQkFDQSx1Q0FDQSx1QkFDQSxtQkFDQSxrQkFDQSxhQUNBLFlBQ0EsdUJBRUssMkJBTUw7Ozs7eUNBS0EsZ0JBRUEsYUFDQSxPQUNBLCtEQUNBLDRCQUFnRyxvQkFJaEcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxnR0FFQSxHQURBLE9BQ0EsK0VBQ0EsMEVBQ0Esb0VBQ0Esc0VBQ0Esb0VBQ0Esc0VBQ0Esb0VBQ0Esc0VBQ0Esb0RBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFpQkEsbUtBRUEsUUFDQSwyQkFDQSxPQUNBLGFBQ0EsWUFDQSx5QkFFQSx1QkFDQSxhQUNBLFFBQ0EscUJBQ0EsWUFFQSxxQkFDQSxtQkFDQSxZQUNBLGFBQ0EsWUFFQSxrQkFDQSxlQUVBLGdCQUNBLE9BQ0EsMkJBR0EsVUFDQSxxQkFDQSwrRkFFQSxtQkFDQSxPQUNBLDhDQUNBLHNDQUNBLG9FQUNBLGtEQUNBLDBDQUdBLGtCQUNBLFlBQXdCLHVCQUN4QixzREFJQSxtQkFFQSxzQ0FDQSwyREFHQSxTQUNBLHdCQUNBLGtDQUNBLGdEQUVBLDZCQUNBLHlDQUVBLHdCQUNBLHlCQUdBLG1CQUNBLG9EQUNBLGtDQUNBLG1CQUNBLGtCQUNBLE9BQ0EsNkJBQ0Esa0RBQ0EsMEJBRUEsSUFDQSwyQkFhQSxPQVRDLEtBQUQsWUFDQSw4QkFDQSxtQkFDQSxzQkFDQSxjQUNBLHVCQUlBLHFFQU1BOzs7O21EQUtBLGdCQUVBLGFBQ0EsT0FDQSw2RkFDQSxzQ0FBMEcsb0JBSTFHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsaUZBRUEsR0FEQSxPQUNBLG1FQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBUUEsNEJBQ0Esc0JBQ0EsT0FDQSxjQUNBLFVBQ0EscUJBQ0EsZ0JBRUEsWUFDQSxZQUNBLG9DQUdBLFVBQ0EsbUJBQ0EsWUFBd0IsK0NBQ3hCLG9CQUNBLDBDQVFBOzs7OzhDQUtBLGdCQUVBLGFBQ0EsT0FDQSw4RUFDQSxpQ0FBcUcsb0JBSXJHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsaUZBRUEsR0FEQSxPQUNBLHFEQUNBLG9FQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBV0EsdUNBRUEsUUFDQSxxQkFDQSxPQUNBLFNBQ0EsWUFDQSxhQUVBLE9BQ0EsV0FDQSxtQkFDQSxXQUdBLGVBRUEsVUFDQSxtQkFDQSxVQUNBLG1DQUNPLHFCQUdQLFNBQ0Esc0JBQ0Esd0dBRUEsb0JBS0EsVUFKQyxFQUFELEdBQ0EsMkJBQ0EsS0FFQSxJQUFxQixvQkFBdUIsSUFBNUMsRUFDQSxjQUNBLGVBRkEsRUFHQSwrQkFDQSxVQUNZQSxFQUFBLDZDQUNaLGdCQUNBLFNBQ1MsV0FDVCxpREFHQSxXQUdBLG1CQUNBLDJDQUNBLGVBQ0EsNEJBQ0Esb0JBRkEsT0FTQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxrRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQU9BLCtDQUNBLDBCQUNBLE9BR0EsYUFDQSxZQUNBLHlDQUVBLFFBQ0Esc0JBQ0EsYUFHQSxVQUNBLG1CQUNBLE1BRUEsVUFDQSwyQkFDTyxnQ0FGUCxJQUtBLG1CQUNBLCtCQUNBLFFBQ0EsU0FFQSwwQkFBc0MsQ0FDdEMsV0FBd0IsU0FDeEIsNERBRUssMkJBTUw7Ozs7cUZBS0EsZ0JBRUEsYUFDQSxPQUNBLHdDQUE2RyxZQUM3Ryw4RUFDQSxpQ0FBcUcsb0JBRXJHLHNGQUNBLHFDQUF5RyxvQkFUekcsSUFXQSxzREFJQSxrRUFFQSxXQUNBLHlCQUNBLHVCQUNBLDJCQUNBLHlCQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFhQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FaeFUsT0FIQSxJQUlBLHlEQUVBLEdBREEsT0FDQSx1REFDQSw4RUFDQSxvRUFDQSxzRUFDQSwwRUFDQSxrRUFDQSxrRUFDQSxvREFDQSxzREFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQTZDQU0sRUFBQSwwSEFHQSw2QkFDQSxhQUNBLE9BQ0EsYUFDQSxZQUNBLDBCQUNDLEtBQUQsVUFDQSwyQkFEQSxLQUlBLGNBQ0Esa0JBQ0EsWUFDQSxhQUNBLGdCQUNBLGlCQUNBLDJCQUNBLGdCQUNBLEtBQ0EsWUFDQSxrQkFFQSxhQUNBLE1BQ0EsWUFDQSxrQkFFQSxZQUVBLGdCQUNBLE9BQ0EsNkJBR0EsVUFDQSxtQkFDQSxVQUNBLFlBQ08sK0NBQ1AsZ0NBQ0EsMEJBQ0EsNEJBQ0Esa0NBQ0EsaURBQ0EsZ0NBQ0Esc0JBQ0EsMEJBQ0EsMEJBQ0Esd0JBQ0Esd0JBQ0EsOEJBQ0EsZ0NBQ0EsMEJBQ0EsNEJBQ0EsOEJBQ0Esd0JBQ0Esd0JBQ0Esd0JBQ0EsdUJBQ08saUZBRVAscUJBQ0EscUNBRUEsaUJBRUEsMEJBQ0EsK0JBQ0EsV0FGQSxPQUlBLGdCQUFzQyxrQkFBQU4sRUFBQSxjQUV0QyxrQkFDQSwrQ0FFQSxtQkFDQSxnQ0FFQSxrQkFDQSxZQUF3Qix5QkFHeEIsdUJBQ0MsRUFBRCxLQUVBLDZEQUdBLHFCQUNBLE1BdElBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxTQThHQSxNQUNBLE9BQ0EsT0FFQSwwREFHQSxTQUNBLGtCQUNBLDhEQUNBLHNCQUNBLCtCQUVBLHNCQUNBLG1DQUNBLDhCQUNPLHNCQUVQLHFCQUNBLG1DQUNBLHVCQUNPLG9EQUNQLE9BQ0EsaUJBQ0EsUUFDQSxlQUtBLHVCQUNDLEVBQUQsbURBQ0Esd0RBRUEsMkJBQ0EsUUFDQSxTQVFBLE1BTkEsZUFDQSx1QkFDQSxnQ0FHQSxnR0FDQSwyQ0FNQTs7OztzQ0FLQSxnQkFFQSxhQUNBLE9BQ0Esc0RBQ0EseUJBQTZGLG9CQUk3RixxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSx5RUFDQSxvRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVlBLHlEQUNBLG9CQUNBLE9BQ0EsdUJBQ0EsbUJBQ0EsY0FDQSxjQUNBLGdCQUNBLGVBQ0EsY0FFQSxVQUNBLG1CQUNBLFlBQXdCLCtDQUN4QixrQkFDQSwyQ0FDQSxpQ0FDQSxpQ0FDQSxxQ0FDQSxtQ0FDQSxnQ0FDTyxxQkFHUCxTQUNBLG1CQUNBLHdDQUEwRCwrQ0FEMUQsT0FFQyxLQUFELE1BRkEsRUFHQSxxREFPQTs7Ozs0Q0FLQSxnQkFFQSxhQUNBLE9BQ0Esd0VBQ0EsK0JBQW1HLG9CQUluRyxxQkFJQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxR0FDQSxtRUFDQSwyRUFDQSwrRUFDQSwyRUFDQSw2RUFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWNBLDRCQUNBLGtCQUNBLFdBQW9CLHdEQUNwQixnQkFDQSxPQUNBLGVBQ0EsZUFHQSxVQUNBLHVCQUNBLHdIQUVBLDJCQUNDLEVBQUQsaUJBQ0EsT0FDQSxlQUNBLElBQ0EsSUFFQSxrQkFDQSxZQUNBLFlBQ0EsK0JBQ0EsNkJBQ0EsTUFFQSxXQUNBLFlBQ0EseUJBQ0EsdUJBQ0EsSUFDQSxNQUVBLFVBQ0EsWUFDQSxJQUNBLE1BRUEsV0FDQSxZQUNBLGlFQUNBLDZCQUNBLElBQ0EsTUFFQSxvQkFDQSxZQUNBLHNCQUNBLGlCQUNBLE1BRUEsbUJBQ0EsWUFDQSxzQkFDQSxpQkFDQSxNQUVBLFFBQ0EsMkRBR0EsT0FDQSxZQUNBLFFBQ0EsTUFDQSxhQUlBLE9BQ0EsMkJBRUEsbUJBQ0EsOEJBRUEsbUJBQ0EsOEJBRUEsU0FDQSx1QkFDQSx1QkFDQSxVQUNBLFNBRUEsd0NBQ0EsaUJBQ0EsZUFDQSxxQkFDQSxRQUNBLFVBSUEsc0JBQ0EsUUFDQSxLQUZBLFFBS0MsRUFBRCwwQ0FDQSxNQUNBLHdCQUNBLGtDQUNBLFNBRUEsUUFDQSxrQkFDQSxZQUNBLFFBQ0EsS0FDQSxNQUVBLFdBQ0EsMkNBQ0EsTUFFQSxjQUNDLEVBQUQsVUFDQSxxREFDQSw4QkFDQSxNQUVBLFdBQ0EsOEJBS0EsMkJBQ0EsNkJBQ0EsMkNBQ0EsMkJBQ0EsdUJBRUEsc0JBQ0EsUUFDQSxLQUdBLGNBRUEsc0JBQ0EsUUFDQSxLQUdBLGVBRUEsMkJBQ0EsUUFDQSxNQUdBLHdCQUxBLFNBT0EsZ0JBQ0EsZ0JBS0EsNEJBQ0Esd0JBREEsT0FHQyxHQUFELGtCQUNBLHNCQUVBLEdBR0EseUJBQ0Esd0JBREEsU0FHQSxxQkFDQSxvQkFNQSx1QkFDQyxFQUFELEtBRUEsbUJBQ0EsVUFDQSxRQUNBLFlBRUEsU0FEQSxZQUNBLENBQ0EseUJBQ0EsT0FDQSxvQ0FFQSxXQUF3QixhQUN4QixhQUNBLFdBQ0EsWUFFQSxhQUNBLFdBQ0EsVUFFQSxjQUNBLG1DQUVBLFFBQXFCLGlCQUNyQix5QkFDQSxvQkFDQSx3QkFHQSw0QkFDQSwyQkFJQSx3Q0FPQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtGQUVBLEdBREEsT0FDQSxxRUFDQSxvREFDQSwyR0FDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQUdBLGdCQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsVUFHQSxhQUNBLGlCQUEwQixtQkFBc0IsSUFDaEQsNEJBR0EsVUFlQSw0QkFDQSx3QkFDQSxZQUNBLGtCQUVBLGdCQUNBLE9BQ0EsZUFHQSxVQUNBLG1CQUNBLFVBQ0EsdUJBQ08scUJBR1AsbUJBQ0EsYUFFQSxTQUNBLGdCQUNBLCtCQUVBLG9CQUNBLHNDQUVBLDZCQUNDLEVBQUQsc0JBQ0Esa0JBQ0EsMkNBRUEsbUJBQ0Esa0NBQ0EscUNBQ0EsT0FDQSxtQ0FFTyxrREFFUCw0QkFDQSxrQ0FDQSxrREFHQSx1QkFDQSx1Q0FFQSw2QkFDQyxFQUFELEtBRUEsa0NBQ0Esa0NBQ0EsV0FDQSx3Q0FDQSxpQ0FDQSx3REFDQSw2QkFFTywyREFBK0UsQ0FDdEYsV0FDTyxNQUVQLDJCQUNBLGtDQUNBLHNEQUNBLDhDQUNPLDhDQUVQLDRCQUNBLGtDQUNBLCtDQUNPLDZCQUVQLDZCQUNBLHlDQUNBLHNDQUNBLE9BQ0EsUUFDQSxPQUNBLGNBRUEsK0JBQ0EsY0FDQSxjQUNBLFNBRUEsb0JBQ0Esb0JBQ0EsUUFDQSxXQUNBLGFBRVMsV0FDVCxhQUVPLDBCQUVQLG1CQUNBLGtDQUNBLHNDQUNPLHlCQUVQLHlCQUNBLGtDQUNBLGlCQUNBLDZDQUNPLG1CQUVQLG1CQUNBLGtDQUNBLFdBQ0EscUNBQ0EsT0FDQSxrREFFTywyQkFFUCwyQkFDQSxrQ0FDQSwrQ0FDTyw4Q0FFUCxtQkFDQSxtQ0FFQSx5QkFDQyxFQUFELEtBRUEsZ0NBQ0EsdUJBQ0Esa0NBQ0EsV0FDQSxvQ0FDQSxpQ0FDQSwwREFDQSxzREFFTyx5Q0FFUCw0QkFDQSxtREFFQSwrQkFDQyxFQUFELDZDQUNBLGdEQUNBLDZCQUNBLHVCQUNBLEdBQ0EsV0FDQSw2Q0FDQSxTQUNBLFVBQ1MsT0FFVCxnQkFDQSx1Q0FFQSxnQ0FDQyxFQUFELEtBRUEsR0FDQSwrQ0FDQSw4REFDQSxrREFHQSw4REFFQSxvQ0FDQyxLQUFELGlCQUNBLDZDQURBLE1BR0EsaUNBQ0MsRUFBRCw2Q0FDQSxzQkFHQSxHQUZBLHVEQUNBLEdBQ0EsbUNBQ0Esa0NBQ0EsV0FDQSx5Q0FDQSxPQUNBLFdBRU8sNEJBQ1AsK0NBRE8sT0FLUCxtQkFDQSxnQkFDQSxtQkFDQSxVQUNBLHNCQUNBLHFCQUdBLGFBQ0EsV0FDQSxVQUVBLGNBQ0EsdUJBRUssd0RBTUw7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0ZBRUEsR0FEQSxPQUNBLDRFQUNBLDJFQVNBLDRCQUNBLDBCQUNBLFVBQ0EsdUJBQ0EsOENBRUEsdUJBQ0Esd0VBRUEscUJBQ0Esd0VBT0E7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvRkFFQSxHQURBLE9BQ0EsbURBQ0EsdUZBQ0EsbUVBQ0EsMkVBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFHQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBc0JBLDRCQUNBLHlCQUNBLHNCQUNBLFVBQ0EsdUJBQ0EsMkJBRUEsbUJBQ0EsMEJBRUEsMEJBQ0EsZ0NBRUEsb0JBQ0MsRUFBRCx5Q0FDQSx3Q0FDQSxvQ0FDQSxrR0FFQSx5QkFDQyxFQUFELGlCQUNBLHlCQUNBLHVCQUNBLG1HQUVBLDBCQUNBLG9CQUNBLHdCQUZBLElBS0MsRUFBRCxDQUNBLGVBQ0EsY0FFQSxHQUNBLGVBQ0EsZUFFQSwrRUFDQSxrQkFJQSxTQUNBLHNCQUNBLG9DQUNBLHFHQUVBLG1CQUNBLGtDQUNBLHVDQUNPLHFCQUVQLHVCQUNBLDRDQUVBLDZCQUNDLEVBQUQsNkJBQ0EsOEJBQ0Esc0RBQ0EsV0FDQSw4Q0FDQSxxQ0FDTyw4Q0FFUCxvQkFLQSxRQUpDLEVBQUQsVUFDQSx1QkFDQSxLQUVBLElBQXFCLFdBQWlCLEtBQ3RDLHFDQUdBLFVBRUEsb0JBQ0Esa0NBQ0EsY0FDQSx1Q0FDTyxxQkFFUCx5QkFDQyxFQUFELGtCQUNBLHdCQUVBLEtBQ0EsVUFDQSxTQUZBLEdBS0Esa0NBQ0EsV0FDQSxxQ0FDQSxtQ0FDQSx3REFDQSxhQUVPLGtDQUVQLHdCQUNBLHFDQUNBLGtDQUNBLDRDQUNPLHFDQUVQLGtDQUNDLEVBQUQsbUNBQ0EsbUNBQ0Esc0NBQ0EsT0FDQSxRQUNBLE9BQ0EsYUFDQSxVQUVBLCtCQUNBLGNBQ0EsY0FDQSxTQUVBLG9CQUNBLG9CQUNBLFFBQ0EsV0FDQSxhQUVTLFdBQ1QsYUFFTyxnR0FFUCw0QkFDQyxFQUFELDRCQUNBLGlDQUNBLHNEQUNBLDZDQUNPLGtEQUdQLG1CQUNBLGdCQUNBLDZCQUNBLG1CQUNBLFVBQ0Esc0JBQ0Esc0JBcktBLFdBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxTQW1LSywyREFNTDs7Ozs4RkFLQSxnQkFFQSxhQUNBLE9BQ0EscUVBQ0EsOEJBQWtHLG9CQUVsRywrRUFDQSxtQ0FBdUcsb0JBRXZHLGlGQUNBLG9DQUF3RyxvQkFFeEcsbUZBQ0EscUNBQXlHLG9CQU96RyxXQUNBLHlCQUNBLG9CQUNBLHlCQUNBLDBCQUNBLDhCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHVEQUNBLHVFQUNBLHVFQUNBLGdFQUNBLHVFQUNBLGdFQUNBLHlFQUNBLG9FQUNBLDRFQWFBLCtFQUVBLFFBQ0EscUJBQ0EsWUFDQSxrQkFFQSxxQkFDQSxVQUNBLHdCQUNBLGlEQUVBLCtCQUNBLGdDQUVBLE9BREMsRUFBRCxVQUNBLEdBRUEsdUJBQ0EsNkNBRUEscUJBQ0EscUVBRUEsZ0JBQ0Esb0dBRUEsd0JBQ0Esa0JBQ0Esc0JBR0EsT0FDQSxlQUNBLGVBRUEsNEVBQ0EsYUFHQSw0QkFDQSxzQkFDQSwwQkFGQSxJQUtDLEVBQUQsQ0FDQSxlQUNBLGdCQUVBLEdBQ0EsZUFDQSxpQkFFQSwrRUFDQSxrQkFJQSxTQUNBLGlDQUtBLFlBSkMsSUFBRCxJQUNBLE1BR0EsQ0FDQSxzQkFDQSxnQkFDQSxvQkFDQSxnQkFHQSwyQkFDQSxtRUFFQSx5QkFDQSxpRUFFQSx5QkFDQSxxRUFDQSxpQkFRQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFHQUVBLEdBREEsT0FDQSx3RUFDQSxnRkFDQSx5REFDQSxvRUFDQSw0RUFDQSxzRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWlCQSw0QkFDQSw0QkFDQSxZQUNBLGtCQUVBLHVCQUNBLFVBQ0Esb0JBQ0EsK0JBRUEsd0JBQ0EsV0FFQSxzQ0FDQSw2REFHQSw4QkFDQSxXQUVBLG9FQUNBLHNCQUdBLGtDQUNBLFdBRUEsNEVBQ0EsMEJBR0EsNkJBQ0EsV0FFQSxxRUFDQSxpREFFQSxvQkFDQSxVQUNDLEVBQUQsZ0NBTUEsbUNBSkEsd0JBSUEsTUFGQSx1QkFNQSxpQkFGQSx5QkFFQSxlQUlBLFlBSUEsU0FDQSw2QkFDQyxFQUFELHVCQUNBLGdCQUNBLFdBQ0EsNkNBRUEsaUNBQ0EsdUNBSUMsRUFBRCxpQkFDQSxzQkFFQSxnQkFDQSxXQUNBLFdBQ0EsV0FDQSxTQUVBLE1BQ0EsTUFRQSxRQUxDLEVBQUQsMEJBQ0EsYUFDQSxLQUNBLElBRUEsSUFBdUIsS0FBVyxLQUNsQyxNQUVBLEVBREEsNkJBQ0Esc0RBR0EsTUFDQSxzQ0FDQSxtQkFDQSxLQXhCQSxHQTZCQSxtQkFDQSx3REFFQSwwQkFJQSx1QkFDQSxrQkFDQSxxQkFDQSxtQ0FDQSw0QkFJQSw0QkFDQyxFQUFELEdBQ0Esb0JBRkEsT0FJQyxHQUFELFdBSUEsdUJBQ0Esa0NBRUEsdUJBQ0EsVUFDQSxNQUNBLHVCQUNBLFVBQ0EsWUFJQSw0QkFDQSxhQUVBLG9CQUNBLHdCQXhCQSxNQThCQSxnQ0FDQyxFQUFELFNBQ0EsVUFDQSxtQkFDQSx5QkFHQSxnQ0FDQSx3QkFDQSxzQkFDQSxHQUNBLGNBQ0EsTUFDQSxrQkFDQSxRQUNBLE1BQ0EsVUFFQSw0Q0FDQSxzQkFDQSxPQUNBLGtCQUNBLGlCQUVBLE9BQ0EsY0FDQSxLQXJCQSxXQXFCQSxLQUNBLHdCQUVBLE9BQ0EsbUJBQ0Esc0JBRUEsWUFDQSxhQUNBLGVBR0Esa0NBQ0MsRUFBRCxTQUNBLFVBQ0EsZ0JBQ0EsV0FDQSxnQ0FDQSx1QkFDQSxvQkFDQSx5QkFDQSxxQ0FDQSwwQkFDQSxxQkFDQSxpQ0FDQSxHQUNBLGNBQ0EsTUFDQSxrQkFDQSxRQUNBLE1BQ0EsVUFFQSxnQ0FDQSw0QkFDQSxPQUNBLFdBQ0EsY0FDQSxXQUNBLGdCQUlBLGlDQUNDLEVBQUQsd0JBQ0EsdUNBQ0EsbUNBQ0Esa0ZBQ0EsMkRBQ0EsY0FBNEIsQ0FDNUIsbUJBR0EsYUFDQSxjQUNBLGtEQVJBLEtBVU8sc0NBRVAsc0JBQ0Esa0NBQ0EsbUJBQ0EsVUFDQSwwQ0FJQSxvQkFDQSxXQUVBLGtDQUNBLGdDQUNBLE9BQ0EsbUJBQ0EsZUFFQSxhQUNBLGNBQ0EsaURBRUEsSUFDQSxpQkFDQSxpQ0FHQSxPQUNBLGdCQUVBLGFBQ0EsZUFHQSw0QkFDQSxvQ0FDQSw2Q0FDQSxvQ0FHQSwrQkFDQSxvQ0FDQSw2Q0FDQSw4Q0FHQSxpQ0FDQSxvQ0FDQSw2Q0FDQSw4Q0FHQSwrQkFHQSxFQUZBLG1DQUNBLG1DQUdBLE9BREEsVUFDQSw0QkFFQSxnQ0FDQyxFQUFELG1DQUNBLHFDQUVBLCtCQUNDLEVBQUQsNkJBRUEsV0FEQSxrQ0FDQSxNQUdBLFVBRUEsMEJBQ0EsV0FFQSxpQkFDQSx5QkFKQSxJQWlCQSxFQURBLGtCQUNBLGdCQUNBLFlBRUEsbUJBRUEsY0FDQSxpQkFDQSxZQUF5QixXQUEwQixJQUNuRCxTQUtBLGdCQUNBLHVCQUVBLGVBQ0MsRUFBRCx3QkFDQSxLQUNBLHVCQUNBLHdCQUVBLFFBQ0EsU0FDQSxhQUdBLHNCQUNBLG1CQUdBLFVBR0EsZ0JBQ0EseUJBQ0EsT0FDQSxRQUNBLFNBQ0EsZUFDQSxjQXVFQSxPQW5FQyxFQUFELG9CQUNBLDRFQWtFQSxHQTdEQSx1QkFDQSx1QkFJQSxTQUNBLHdCQUNBLHdDQUNBLGFBSUEsWUFDQSx5QkFDQSxXQUNBLDhCQU1BLHdCQUNBLG9CQUNBLHdCQUdBLElBRkEsa0JBRUEsbUVBQ0Esd0JBR0Esb0JBS0EsdUJBQ0EsdUJBQ0EsVUFDQSx1QkFDQSxpREFDQSxhQUlBLFlBQ0EseUJBQ0EsV0FDQSwrQkFNQSx1QkFDQSxtQkFJQSxzQkFDQSwrQ0FFQSxHQUdBLG9CQUNBLEtBQ0EsV0FDQSxxREFDQSxvQkFJQSxZQUF3QixtQkFDeEIsZ0JBQ0EsOENBTUEsT0FKQyxHQUFELHlCQUNBLHFCQUdBLEdBRUEseUJBQ0EsbURBRUEsdUJBQ0EsK0JBQ0EsdUNBQ1cseURBU1g7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsZ0ZBQ0Esb0VBQ0EsNEVBUUEsNEJBQ0EsK0JBQ0EsMEJBQ0EsVUFDQSwrQkFDQSxxQ0FFQSxpQ0FDQSx1Q0FFQSwrQkFDQSxxQ0FFQSxnQ0FDQSx3Q0FFQSx1QkFDQSw0REFFQSxzQkFDQSwyREFFQSxnQkFDQSxpSEFFQSx5QkFDQyxFQUFELFVBQ0EsMkJBQ0EsNkJBQ0EsMkJBQ0EsaUJBQ0EsMEJBQ0EsbURBR0EsNkJBQ0EsdUJBQ0EsMkJBRkEsSUFLQyxFQUFELENBQ0EsZUFDQSxVQUNBLGVBQ0Esa0JBRUEsR0FDQSxlQUNBLFVBQ0EsZUFDQSxrQkFFQSxHQUNBLGVBQ0EsVUFDQSxnQkFFQSwrRUFDQSxpQ0FJQSxTQUNBLHlDQUNDLEVBQUQscUJBRUEsUUFEQSx1Q0FDQSxjQUVBLGtDQUdBLHNDQUNDLEVBQUQsMkJBQ0EsMENBQ0EsbUJBQ0EsSUFFQSw4QkFFQSxJQURBLGdDQUNBLGlDQUNBLGtDQUVBLGlDQURBLElBQ0EsaUJBRUEseUJBQ0EsaUNBR0EsT0FGQyxFQUFELHFCQUNBLHVDQUNBLEdBRUEsNkJBQ0MsRUFBRCxnQkFDQSx3QkFGQSxTQUlBLFlBSUEsY0FSQSxLQVdBLDRCQUNBLCtEQUVBLDJCQUNBLFFBQ0EsTUFHQSw2QkFFQSxVQUNBLFNBUkEsSUFjQSxHQURBLEVBRkEsbUJBQ0EscURBRUEsZ0JBWUEsV0FUQSxNQUNBLEtBR0Esb0JBQ0Esb0JBSUEsT0FPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUVBLHNCQUNBLGFBQ0EsU0FDQSwyQ0FDQSxNQUVBLDBDQUFnRCxZQUNoRCxlQUNPLG9CQUNQLG9CQUNBLFdBQ0EsV0FDTyxrQkFDUCxtQkFDTyxrQkFDUCxtQkFDTyxnQkFDUCxpQkFDTyxtQkFDUCxvQkFDTyxtQkFDUCxvQkFDTyxtQkFDUCxvQkFDTyxrQkFDUCxtQkFDTyxpQkFDUCxrQkFyQkEsT0F3QkEsd0NBQ0MsRUFBRCxLQUVBLEtBRUEsY0FDQSxXQUNBLHFDQUZBLElBS0EsR0FEQSxrREFDQSxRQUVBLGNBQ0EsUUFjQSxZQVpBLGtEQUNBLFdBQ0EsbUJBR0EsUUFDQSxvQkFHQSxpQkFHQSxVQUdBLE9BRUEsb0JBQ0EsYUFFQSxjQUdBLFFBSUEsT0FFQSxlQUNBLEtBR0EsY0FPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUNBLDRFQUdBLHNCQUNBLGFBQ0EsT0FDQSxLQUNBLFlBQ0EsZ0NBR0EsZ0JBQ0EsT0FDQSxPQUNBLGlEQUNBLGdEQUlBLFVBQ0EscUJBQ0EsMERBR0EsT0FDQSx5QkFFQSxtQkFDQSxtQkFDQSxtQkFFQSxTQUNBLHNCQUNBLG1EQUNBLDZDQUNBLGtEQUVBLHVCQUNBLG9DQUNBLGlDQUNBLGtDQUNBLG9DQUVBLGtCQUNBLHNDQUVBLHdCQUNBLGtCQUNBLGNBQ0EsZ0JBQ0EsWUFDQSxvQkFDQSxnQkFHQSx5QkFDQSxrQkFDQSxjQUNBLGtCQUNBLG9CQVFBOzs7O2tFQUtBLGdCQUVBLGFBT0EsU0FBUyxFQUFULFNBQ0EsYUFDQSxxSUFGQSxJQUtDLEVBQUQsK0JBQ0Esd0NBTUEsT0FDQSxRQUNBLFFBQ0EsZ0JBUkEsOEJBU0EseUJBUkEsb0NBU0EsTUFDQSxjQVRBLDhCQVVBLHVCQVRBLG9DQVVBLFFBVEEsVUFVQSxTQUdBLFNBQVMsRUFBVCxLQUNBLGdEQUVBLFNBQVNGLEVBQVQsT0FDQSxnREFsQ0EsT0FDQSwrQkFBb0csWUFDcEcsOEJBQW1HLFlBQ25HLHVDQUE0RyxZQUM1RywyRUFtQ0E7Ozs7Z0RBS0EsZ0JBRUEsYUFvS0EsU0FBUyxFQUFULEdBQ0EsNkJBcEtBLE9BQ0EsbUNBQXdHLFlBQ3hHLDBFQUVBLFdBQ0EsTUFDQSxPQUNBLFlBQ0EsNkJBQ0EsbUJBQ0EsNENBR0EsS0FDQSxZQUNBLDhCQUVBLFVBQ0EsV0FDQSxtQkFDQSx3QkFHQSxZQUNBLGFBQ0EsWUFFQSxlQUNBLGFBQ0EsWUFFQSxlQUNBLGNBQ0EsY0FFQSxXQUNBLGNBQ0EsZUFHQSxXQUNBLFNBQ0EsWUFDQSxXQUVBLGdCQUNBLGFBQ0EsWUFFQSxnQkFDQSxxQkFDQSxXQUNBLFlBRUEsaUJBQ0EscUJBQ0EsV0FDQSxZQUVBLGVBQ0EscUJBQ0EsVUFDQSxZQUVBLGVBQ0EscUJBQ0EsV0FDQSxZQUVBLGdCQUNBLGNBQ0EsY0FFQSxlQUNBLGNBQ0EsY0FFQSxtQkFDQSxjQUNBLGVBR0EsT0FDQSxVQUNBLFdBQ0EsV0FFQSxhQUNBLGFBQ0EsWUFFQSxrQkFDQSxhQUNBLFlBRUEsYUFDQSxjQUNBLGVBR0EsVUFDQSxNQUNBLFlBQ0EsaUJBRUEsT0FDQSxZQUNBLCtCQUdBLFFBQ0EsUUFDQSxXQUNBLG1CQUNBLFdBR0EsWUFDQSxZQUNBLGlCQUVBLFVBQ0EsWUFDQSxlQUVBLGFBQ0EsWUFDQSxZQUVBLFlBQ0EsdUJBQ0EscUJBRUEsZ0JBQ0EsdUJBQ0EsaUJBRUEsV0FDQSx1QkFDQSxnQkFFQSx1QkFDQSxZQUNBLFlBRUEsV0FDQSxhQUNBLFlBRUEsZUFDQSxZQUNBLHdDQUVBLGFBQ0Esc0JBQ0EsY0FFQSxtQkFDQSxZQUNBLGNBVUE7Ozs7Z3FCQUtBLGdCQUVBLGFBOENBLFNBQVMsRUFBVCxHQUF3VSxTQUFqVCw0REFBMkUsWUFBa0MsaUJBQStCLFlBQWtDLHNHQUFtSSxHQWV4VSxTQUFTLEVBQVQsT0FDQSxXQVFBLE9BUEMsRUFBRCxVQUNBLEtBTUEsR0FIQSxpQkFHQSxFQUVBLFNBQVMsRUFBVCxPQUNBLFdBUUEsT0FQQyxFQUFELGlCQUNBLEtBTUEsR0FIQSxpQkFHQSxFQUVBLFNBQVMsRUFBVCxHQUNBLFdBSUEsT0FIQyxFQUFELE1BQ0EsS0FDQSxLQUNBLEVBRUEsU0FBUyxFQUFULEdBQ0EsV0FJQSxPQUhDLEVBQUQsc0JBQ0EsS0FDQSxLQUNBLEVBRUEsU0FBUyxFQUFULEdBQ0Esc0JBRUEsU0FDRyx1QkFFSCxnQkFGRyxXQVFILG9DQVpBLE1BYUcsaUJBRUgsb0RBSUEsbUJBTUEsU0FBUyxFQUFULEdBQ0Esa0JBRUEsU0FBU1MsRUFBVCxLQUVBLGdCQUNBLGtCQUNBLE9BQ0EsT0FDQSxRQUNBLG9CQUNBLHFCQUNBLHNCQUNBLHVCQUNBLHlCQUNBLFVBQ0EsY0FDQSx3QkFDQSxRQUNBLFdBQ0EsV0FTQSxPQVBDLEVBQUQsR0FDQSxLQU1BLEdBSEEsaUJBR0EsRUFFQSxTQUFTLEVBQVQsR0FDQSxVQUNBLFFBQ0EsUUFDQSxxQkFDQSxxQkFDQSxnQkFDQSxtQkFDQSxrQkFDQSxzQkFDQSxVQUNBLFdBQ0EsUUFDQSxXQUNBLFlBR0EsU0FBUyxFQUFULEdBQ0Esb0NBRUEsU0FBUyxFQUFULEdBQ0EsMkJBRUEsU0FBUyxFQUFULEdBQ0EscUJBRUEsU0FBUyxFQUFULFlBQ0EsUUFDQSxNQUZBLElBS0MsRUFBRCxLQUNBLE9BQ0EsUUFXQSxPQVRDLEVBQUQsZ0JBR0EsR0FGQSxXQUNBLFNBSUEsV0FDQSxZQUNBLGFBQ0EsRUFFQSxTQUFTLEVBQVQsT0FVQSxPQVRDLEVBQUQsV0FDQSxjQUNBLGFBQ0EsWUFNQSxHQUhBLFVBR0EsRUFFQSxTQUFTLEVBQVQsR0FFQSxPQURDLEVBQUQsYUFDQSxFQUVBLFNBQVMsRUFBVCxHQUdBLE9BRkMsRUFBRCxVQUNBLFlBQ0EsRUFFQSxTQUFTLEVBQVQsR0FDQSxpQkFDQyxFQUFELEVBQ0EsUUFDQSxrQkFFQSxnQkFFQSw4QkFDQSxrREFHQSxpQkFFQSxTQUFTLEVBQVQsR0FDQSxrQ0FFQSxTQUFTLEVBQVQsS0FDQSxzQkFFQSxTQUFTLEVBQVQsR0FjQSxPQUNBLEtBZEEsT0FlQSxLQWRBLE9BZUEsS0FkQSxPQWVBLE1BZEEsUUFlQSxJQWRBLE1BZUEsUUFkQSxVQWVBLEtBZEEsT0FlQSxPQWRBLFNBZUEsT0FkQSxTQWVBLFFBZEEsVUFlQSxLQWRBLE9BZUEsUUFkQSxVQWVBLE9BZEEsVUFpQkEsU0FBUyxFQUFULFNBQ0EsV0FFQSxZQUNBLFFBR0EsU0FFQSxTQUFTLEVBQVQsR0FDQSxtQ0FFQSxPQURDLEVBQUQsNEJBQ0EsRUFFQSxTQUFTLEVBQVQsVUFDQyxFQUFELFFBSUEsOEJBSEEsR0FLQSxTQUFTLEVBQVQsU0FDQSxZQUVBLFlBQ0EsWUFDQSxTQUVBLFlBQ0EsS0FDQSxVQUlBLFNBRUEsU0FBUyxFQUFULEdBY0EsT0FiQyxFQUFELE1BQ0EsMEJBRUEsbUNBQ0EsUUFDQSxVQUVBLFlBQ0EsVUFDQSxXQUlBLEVBRUEsU0FBUyxFQUFULEdBZUEsT0FkQyxFQUFELE1BQ0EsMEJBRUEsVUFDQSxVQUVBLFlBQ0EsU0FDQSxXQUdBLHlCQUdBLEVBRUEsU0FBUyxFQUFULGdCQUNBLFFBQ0EsVUFHQSxRQUNBLEtBR0EsUUFDQSxLQUdBLFNBRUEsU0FBUyxFQUFULGtCQUNBLFFBQ0EsVUFHQSxRQUNBLEtBR0EsdUJBQ0EsS0FHQSxTQUVBLFNBQVMsRUFBVCxHQUlBLFFBSEMsRUFBRCxnQkFDQSxrQkFFQSxJQUFpQixXQUFxQixJQUN0QyxVQUdBLGNBQWlCLElBQWtCLE9BQ25DLEVBRUEsWUFBbUIsTUFHbkIsR0FGQSxRQURxQyxJQU9yQyxJQUdBLFlBR0EsU0FFQSxTQUFTLEVBQVQsa0JBQ0EsUUFDQSxXQUdBLFFBQ0EsS0FOQSxJQVNDLEVBQUQsS0FDQSxLQUNBLE9BQ0EsSUFDQSxRQUVBLFVBQ0Esd0RBaEJBLE9BbUJBLDRCQUlBLEdBSEEsT0FDQSxXQUVBLGtCQUtBLFdBQ0EsS0FDQSxPQUNBLFVBQ0EsMkJBUkEsT0FXQSxtR0FDQSxTQUVBLFNBQVMsRUFBVCxXQUdBLFFBRkMsRUFBRCxHQUVBLElBQWlCLElBQVcsU0FDM0IsR0FBRCxPQUNBLE9BQ0EsaUJBR0EsU0FFQSxTQUFTLEVBQVQsV0FLQSx1REFKQSxXQUNBLFVBT0EsY0FDQSxRQUNDLEVBQUQsMENBQ0EsZ0NBQ0EsU0FDQSwrQ0FDSyxTQUNMLFdBM2NBLE9BQ0EsZ0NBQXFHLFlBQ3JHLCtCQUFvRyxZQUNwRyxrQ0FBdUcsWUFDdkcsdUNBQTRHLFlBQzVHLHNDQUEyRyxZQUMzRyxzQ0FBMkcsWUFDM0csOEJBQW1HLFlBQ25HLDhCQUFtRyxZQUNuRyw0QkFBaUcsWUFDakcsaUNBQXNHLFlBQ3RHLG9DQUF5RyxZQUN6RyxpQ0FBc0csWUFDdEcsK0JBQW9HLFlBQ3BHLG1DQUF3RyxZQUN4RyxpQ0FBc0csWUFDdEcsb0NBQXlHLFlBQ3pHLGtDQUF1RyxZQUN2Ryw4QkFBbUcsWUFDbkcsc0NBQTJHLFlBQzNHLG1DQUF3RyxZQUN4Ryw4QkFBbUcsWUFDbkcscUNBQTBHLFlBQzFHLHNDQUEyRyxZQUMzRywyQ0FBZ0gsWUFDaEgsbUNBQXdHLFlBQ3hHLGtDQUF1RyxZQUN2RyxrQ0FBdUcsWUFDdkcsb0NBQXlHLFlBQ3pHLCtCQUFvRyxZQUNwRywrQkFBb0csWUFDcEcsZ0NBQXFHLFlBQ3JHLGtDQUF1RyxZQUN2Ryw4QkFBbUcsWUFDbkcsNEJBQWlHLFlBQ2pHLDRCQUFpRyxZQUNqRyxnQ0FBcUcsWUFDckcsNEJBQWlHLFlBQ2pHLDRCQUFpRyxZQUNqRyxpQ0FBc0csWUFDdEcsZ0NBQXFHLFlBQ3JHLG9DQUF5RyxZQUN6RyxrQ0FBdUcsWUFDdkcsdUNBQTRHLFlBQzVHLGdEQUFxSCxZQS9DckgsSUFrREEsaUZBQ0Esa0NBQ0EsMENBQ0EsMENBQ0EsS0FDQSxLQUNBLEtBQ0EsSUFDQSxJQUNBLElBQ0EsS0FDQSxLQUNBLEtBdVpBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsNERBRUEsR0FEQSxPQUNBLHVEQUNBLGtFQUNBLGtFQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBY0EsbUVBQ0EsY0FDQSxPQUNBLGFBQ0EsY0FDQSxXQUNBLGFBQ0EsY0FDQSxxQkFDQSxXQUVBLGlCQUNBLGVBQ0EsZ0JBRUEsVUFDQSxtQkFDQSxVQUNBLGFBQ08sK0NBQ1AseUJBQ0EsMkJBQ0EsZ0NBQ0EsK0JBQ0EsK0NBQ0EsaUNBQ0EsNkJBQ0EsOEJBQ08sZ0RBRVAsa0JBQ0EsV0FBNkIsOENBTTdCLE9BSkMsS0FBRCxNQUNBLG9FQUdBLElBR0EsU0FDQSx1QkFDQSx1REFEQSxTQUdBLDJCQUNBLGdDQUNPLEtBSFAsT0FNQSxtQkFDQSwrQkFDQSxRQUNBLFNBU0EsT0FQQyxFQUFELGtCQUVBLG1CQUNBLG9CQUNBLG9CQUdBLHdGQU1BOzs7OzJGQUtBLGdCQUVBLGFBQ0EsT0FDQSxpQ0FBc0csWUFDdEcsa0NBQXVHLFlBQ3ZHLDhCQUFtRyxZQUNuRywrQkFBb0csWUFDcEcseURBQ0EsMEJBQThGLG9CQVQ5RixJQVdBLHNEQUdBLHNEQUNBLHVEQUNBLG1EQUNBLG9EQUVBLFdBQ0EseUJBQ0EsZ0JBQ0EsZUFDQSxnQkFDQSxZQUNBLGdCQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0VBRUEsR0FEQSxPQUNBLG1FQUNBLG9EQUNBLHNEQUNBLDBFQUNBLDBFQUNBLHNEQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBaUJBLDRCQUNBLGtCQUNBLE9BQ0EsWUFDQSxhQUNBLFlBRUEsY0FDQSxlQUNBLFlBQ0Esc0JBRUEsUUFDQSxxQkFDQSxhQUVBLHVCQUNBLGdDQUNBLFVBQ0EscUJBQ0EsWUFDQSxzQkFDQSxhQUdBLFdBQ0EsYUFDQSxZQUVBLGlCQUNBLHFCQUNBLFlBQ0EsYUFDQSxZQUVBLG9CQUNBLFlBQ0EsaUJBR0EsZ0JBQ0EsT0FDQSwyQkFDQSxzQkFHQSxVQUNBLG1CQUNBLFlBQXdCLCtDQUN4QixnQkFDQSxxRUFDQSxxREFHQSxrQkFDQSwrQkFFQSxzQkFDQSx1Q0FHQSxPQUNBLCtCQUNBLDBCQUNBLHFCQUNBLFdBQ0Esd0JBRUEsb0JBRUEsdUJBRUEsZ0NBQ0EsNEJBSUEsbUJBRUEsNkNBQ0EsaUVBR0EsbUJBQ0EscUJBRUEsU0FDQSxrQ0FDQyxLQUFELGdCQUNBLHNEQUVBLHlCQUNBLGtDQUNBLG1DQUNBLE9BQ0EsZ0VBQ0EsbURBRU8sb0JBRVAsb0JBTUEsVUFMQyxFQUFELEtBRUEsb0JBQ0EsS0FFQSxJQUFxQixJQUFZLElBQWpDLEVBQ0EsK0JBQ0EseUNBQ0EsT0FDQSxrRkFFQSxPQUNBLFFBQ0EsU0FDQSx1Q0FFUyxnQ0FDVCxPQUNBLFVBRVMsc0JBQ1QsVUFHQSxzQ0FDQSxPQUNBLHlCQUNBLDBCQUVBLElBQ0EsbUJBQ0EscUJBUEEsSUFZQSx1QkFDQSxzQ0FDQSxtQ0FDQSxPQUNBLHlCQUNBLHVEQUlBLDBCQUNBLG1EQUNBLHlCQUNBLGlEQUVBLHdCQUNBLGFBQ0Esc0ZBR0EsbUJBQ0EsNENBY0EsT0FiQyxFQUFELCtEQUdBLHFCQUNBLHVDQUtBLG9DQUNBLG9DQUdBLE1BTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsNEVBQ0Esb0RBQ0Esb0RBQ0Esa0VBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFXQSx5Q0FHQSxvQkFDQSx1QkFDQSxnQkFDQSxTQUNBLDBCQUNBLG1DQUNBLCtCQUNBLFdBQTBCLGFBQzFCLHlDQUVBLG9CQUNPLHFEQUNQLG9CQUNPLDZCQUVQLHlCQUNBLCtCQUNBLFFBQ0EsU0FPQSxPQUxDLEVBQUQsNEJBQ0EsbUJBQ0EsWUFDQSxzQkFFQSwwRUFPQTs7OzswREFLQSxnQkFFQSxhQUNBLE9BQ0EscUVBQ0EsOEJBQWtHLG9CQUVsRyw2RUFDQSxrQ0FBc0csb0JBS3RHLFdBQ0EseUJBQ0Esb0JBQ0EsMkJBTUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSx3RUFFQSxHQURBLE9BQ0EsOEdBRUEsR0FEQSxPQUNBLHFEQUNBLHdEQUNBLHNFQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBYUEsNEJBQ0Esa0JBQ0EsT0FDQSxzQkFDQSxtQkFDQSxZQUNBLGtDQUVBLFNBQ0EsWUFDQSx3QkFFQSxRQUNBLFlBQ0Esd0JBR0EsZ0JBQ0EsT0FDQSx3Q0FHQSxVQUNBLG1CQUNBLFlBQXdCLCtDQUN4QixpQ0FDQSx1QkFDQSxvREFHQSwrQkFDQyxLQUFELG1CQUNBLHVCQUNPLGNBQ1AsWUFFQSxjQU1BLGtDQUNDLEtBQUQsd0NBREEsRUFFQSwyQ0FDQSwwQkFDQSwwQkFKQSxFQUlBLHFCQUlBLE9BQ0EsMEJBQ0EsV0FHQSwyQkFDQSxrQ0FHQSwrQkFDQSxzQ0FFQSxvQkFDQSxxQkFDQSw4QkFHQSxTQUNBLHVCQUNBLGtDQUNBLGtEQUNPLCtCQUF3QyxhQUMvQywyRUFDTyw4SEFDUCxPQUNBLGlCQUNBLGVBQ0Esb0JBRU8sc0JBRVAsMEJBQ0EsZ0RBT0E7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvRkFFQSxHQURBLE9BQ0EscUVBQ0EscUJBQ0EsU0FDQSxzREFDQSxvRUFDQSxvRUFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVVBLHNCQUNBLHlCQUNBLGNBQ0EsWUFDQSxrQkFFQSxXQUFvQixpREFDcEIsaUJBQ0EsUUFDQSxhQUNBLFlBRUEsY0FDQSxzQkFDQSxtQkFDQSxZQUNBLGtDQUVBLFFBQ0EsWUFDQSx1QkFFQSxTQUNBLFlBQ0EsMEJBR0EseUJBQ0MsRUFBRCxRQUNBLFNBQ0EsS0FFQSwwQkFDQSw4REFDQSxrREFDQSxhQUNBLGNBQ0EsT0FDQSxnQkFJQSxVQUdBLGdCQUNBLHNDQUE0RCxzQkFDNUQsMEVBQ0EsT0FDQSxvQkFDQSxZQUNBLGlCQUpBLElBT0EsT0FDQSx1QkFDQSwwQ0FFQSxzQkFBK0IsQ0FDL0IsUUFDQSxJQUNBLGtCQUNBLG9CQUVBLCtCQUNBLHVEQUNBLDBCQVJBLE9BbUJBOzs7OzREQUtBLGdCQUVBLGFBQ0EsT0FDQSxxRUFDQSw4QkFBa0csb0JBRWxHLGlGQUNBLG9DQUF3RyxvQkFLeEcsV0FDQSx5QkFDQSxvQkFDQSw2QkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSxtREFDQSxrRUFDQSxzREFDQSxvRUFDQSxvRUFDQSxvRUFDQSxzRUFDQSxrRUFDQSxrRUFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQStDQSw0SUFDQSxjQUNBLE9BQ0EsUUFDQSxhQUNBLFlBRUEsYUFDQSxZQUNBLDBCQUNDLEtBQUQsVUFDQSwyQkFEQSxLQUlBLGNBQ0EsV0FDQSxZQUNBLG1CQUVBLGlCQUNBLGtCQUNBLGVBQ0EsWUFDQSxZQUNBLHFCQUVBLGNBQ0EsYUFDQSxpQkFDQSxhQUNBLEtBQ0EsWUFDQSxnQkFFQSxpQkFDQSxZQUVBLGdCQUNBLE9BQ0EsOEJBR0EsVUFDQSxtQkFDQSxVQUNBLGFBQ08sK0NBQ1AscUNBQ0EsaUNBQ0EsbUNBQ0EsMkJBQ0EsMkJBQ0EsK0JBQ0EsaUNBQ0EseUJBQ0EsbUNBQ08sMkRBRVAsb0JBQ0Esb0JBRUEsdUJBQ0EsK0VBR0EsdUJBQ0MsRUFBRCxLQUVBLGlHQUdBLHFCQUNBLE1BcEhBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxTQTRGQSxNQUNBLE9BQ0EsT0FFQSwwREFHQSxTQUNBLGtCQUNBLHNCQUNBLCtCQUVBLHFCQUNBLFNBV0EsT0FUQyxLQUFELFVBQ0Esc0NBQ0EsNkJBQ0EsT0FDQSxVQUVTLGtCQUdULDZDQUVBLG9CQUNBLFdBRUEsc0NBQ0EsNEJBQ0EsT0FDQSxVQUVBLElBQ0Esa0JBQ0Esb0JBRUEsdUJBRUEsK0JBR08saUJBRVAsc0JBQ0EsbUNBQ0EsK0JBQ08sc0ZBR1AsdUJBQ0MsRUFBRCxvQkFFQSwyQkFDQSxRQUNBLFNBRUEsYUFBNEIsU0FDNUIsdUNBQ0EsNkRBRUEsbUJBQ0EsWUFDQSxvQkFFQSx3Q0FDQSxnREFDQSx5Q0FNQTs7Ozt1Q0FLQSxnQkFFQSxhQUNBLE9BQ0EseURBQ0EsMEJBQThGLG9CQUk5RixxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSxtRkFDQSxvRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWFBLGdFQUNBLG9CQUNBLG1CQUNBLE9BQ0EsaUJBR0EsT0FDQSxnQkFFQSxVQUNBLG1CQUNBLFlBQXdCLHNEQUN4QixrQkFDQSx1Q0FJQSxPQUNBLHVCQUNBLHFCQUNBLGdDQUdBLFNBQ0EsbUJBQ0EseUNBQXNELDJEQU90RDs7Ozs0Q0FLQSxnQkFFQSxhQUNBLE9BQ0Esd0VBQ0EsK0JBQW1HLG9CQUluRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGlGQUVBLEdBREEsT0FDQSwrREFDQSx3RkFDQSxzRkFDQSxrRkFDQSwwRkFDQSxnRUFDQSxvREFDQSxvRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWVBLCtDQUNBLHNCQUNBLE9BQ0EsY0FDQSxxQkFDQSxhQUVBLGlCQUNBLFNBQ0EscUJBQ0EsWUFFQSxhQUNBLG1CQUNBLG1CQUNBLHVCQUNBLE1BQ0EsWUFDQSxlQUNBLHNCQUNBLDBDQUdBLHFCQUNBLGVBQ0EsbUJBQ0EscUJBQ0EsYUFFQSxPQUNBLHNCQUVBLE9BQ0EscUJBQ0EsY0FHQSxnQkFDQSxPQUNBLGtDQUNBLE1BQ0EsSUFDQSxJQUNBLFFBSUEsVUFDQSxxQkFDQSxxREFHQSxPQUNBLE9BQ0Esb0JBQ0EsOERBRUEsZUFHQSxTQUNBLHdCQUNBLHFCQUNBLDREQUVBLGlCQUNBLHNCQUNBLGdEQUdBLHFCQUNBLHNDQUNBLE9BQ0EseUJBQ0EsdUJBQ0EscUJBQ0EsaUJBQ0EsMEJBRUEsSUFDQSxvQ0FJQSx1QkFDQSxrQ0FDQSx3Q0FDTyx1REFFUCxtQkFDQSxXQUVBLHNDQUNBLE9BQ0EseUJBQ0EsdUJBQ0EseUJBQ0EsbUNBQ0EsZ0JBRUEsSUFDQSxnQ0FDQSwwQkFDQSxxQ0FLQSxzQkFDQSxzQ0FDQSxPQUNBLHlCQUNBLHVCQUNBLDBCQUVBLElBQ0Esb0NBSUEsdUJBQ0Esc0NBQ0EsT0FDQSxlQUNBLGlCQUNBLHVCQUNBLHlCQUNBLGtDQUVBLElBQ0EscUNBS0EsbUJBQ0Esb0JBQ0EsNkJBQ0EsU0FDQSxrQ0FDTyxtQkFDUCxPQUNBLHNCQUVLLG1HQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsNkZBRUEsR0FEQSxPQUNBLHFEQUNBLGdFQUNBLHFCQUNBLFNBUUEsc0JBQ0EsNkJBQ0EsT0FDQSxPQUNBLFlBQ0EsbUJBQ0EsMkJBQ0EsTUFDQSxJQUNBLElBQ0EsUUFJQSxpQkFDQSxTQUNBLHFCQUNBLFlBRUEsUUFDQSxxQkFDQSxhQUVBLE9BQ0EscUJBQ0EsY0FHQSxnQkFDQSxPQUNBLGNBQ0EsUUFDQSxTQUNBLE9BQ0EsU0FJQSxVQUNBLHNCQUNDLEtBQUQsTUFJQSxDQUNBLDRDQUNBLGtEQU5BLENBQ0EsSUFDQSxPQVFBLE9BQ0EsNEJBRUEsbUJBQ0EscUJBRUEsU0FDQSx3QkFDQSx3QkFDQSxTQUNBLFFBQ0EsVUFDQSxXQUNBLDhDQUNBLGlCQUNBLDZCQUNBLCtCQUNBLHVCQUdBLHdCQUNBLG1CQUNDLEVBQUQsa0JBQ0EscUJBQ0EsTUFDQSw0Q0FDQSx5Q0FFQSwyREFDQSxjQUNBLGlDQUNBLDZDQUNBLHlDQUVBLHVDQUVBLGNBQ0Esb0NBRUEsd0JBQ0EsZ0JBQ0EsbURBQ0Esc0NBRUEsNEJBRUEsbUJBQ0EsZ0JBQ0EsbURBQ0EsMERBQ0Esd0RBRUEsNEJBQ0EsZUFDQSxxQ0FFQSx5QkFDQSw2REFDQSwwREFFQSxxQkFDQSxxQ0FDQSxhQUNBLE9BQ0EsaUJBQ0EsdUJBSUEsc0JBQ0MsRUFBRCw0QkFDQSx3Q0FDQSx3Q0FDQSxrQ0FDQSx5Q0FDQSxPQUNBLHNEQUVBLE9BQ0EsNENBQ0EsNkNBQ0EseUNBS0EsbUJBQ0EsZ0JBQ0EscUNBQ0EsT0FDQSwwQ0FDQSw2Q0FFQSxJQUNBLHVCQUNBLGlDQUVLLHNDQU1MOzs7OzhCQUtBLGFBTUE7Ozs7dUNBS0EsZ0JBRUEsYUFDQSxPQUNBLDBCQUErRixZQUovRixJQUtBLHlGQUVBLEdBREEsT0FDQSxtREFDQSxzREFDQSw0REFDQSxxQkFDQSxTQUNBLGdFQXNDQSxHQUNBLE1BQ0EseUVBQ0EsaUJBRUEsTUFDQSx5RUFDQSxpQkFFQSxNQUNBLGtCQUdBLHNCQUNBLDJCQUNBLE9BQ0EsYUFDQSxpQkFDQSxrQkFDQSx1QkFDQSxNQUNBLFlBQ0EsZUFDQSxzQkFDQSxxQ0FJQSxnQkFDQSxPQUNBLFFBQ0EseUJBR0EsVUFDQSx1QkFDQSx1Q0FHQSxPQUNBLGlCQUNBLHNCQUdBLG1CQUNBLDZCQUVBLFNBQ0EsNkJBQ0EseUJBQTZELFlBQUFQLEdBQThDLEdBRTNHLCtCQUNBLDBCQUFpRCxvQkFBQUEsRUFBQSxLQUFxRCxHQUV0RywwQkFDQyxFQUFELHdCQUNBLCtCQUNBLG9CQUNBLG9CQUNBLDZCQUVBLDJCQUNBLGtDQUNBLHFDQUNPLDhCQUNQLE1BQ0EsUUFDQSxVQUNBLFNBRUEsT0FDTywrQ0FFUCxxQkFDQSxXQUVBLDBCQUNBLFdBQ0EsSUFDQyxFQUFELGdCQUNBLG1EQUNBLDRCQUNBLDZCQUNBLHdCQUZBLEVBR2EsQ0FDYixtQkFDQSxlQUVBLDJFQUtBLFFBR0EsT0FEQSw0RUFDQSxxQkFDQyxFQXRJRCxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0E4R0EsTUFDQSxPQUNBLE9BQ0EsT0FFQSwwQkFDQSxxQkFDQSxjQUNBLE1BQ0EsTUFDQSw2Q0FDQSxxQkFDZSxvQkFDZixzQkFDQSxFQUVDLEVBQUQsU0FFQSwrQkFFQSwrREFBcUYsTUFBaUIsS0FBaEIsSUFBZ0Isd0JBT3RHLHFCQUNBLHNDQUNBLE9BQ0EsU0FDQSxRQUNBLHdCQUVBLElBQ0Esd0JBRU8sOENBR1AsbUJBQ0EsZ0JBQ0Esb0NBQ0ssK0RBTUw7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwrRkFFQSxHQURBLE9BQ0EsbUVBQ0EsNERBQ0EscUJBQ0EsU0FDQSxnRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVlBLHNCQUNBLDhCQUNBLE9BQ0EsYUFDQSxpQkFDQSxtQkFFQSxTQUNBLG9CQUNBLFdBRUEsc0JBQ0Esb0NBQ0EsT0FDQSw0QkFDQSxlQUNBLHVCQUNBLE9BQ0EsTUFDQSxPQUVBLE9BQ0Esd0hBRUEsSUFDQSxrQkFDQSx5RUFBOEksY0FDOUksYUFNQSxzQkFDQSxrQ0FDQSx1Q0FDTyxtREFFUCxrQkFDQSxrQ0FDQSxtQ0FDTyw0QkFDUCxPQUNBLHNEQUlBLGtCQUNBLFdBRUEsc0JBQ0Esa0NBQ0EsT0FDQSw0QkFDQSxlQUNBLHFCQUNBLE9BQ0EsTUFDQSxTQUVBLElBQ0Esa0JBQ0EsdUVBQTRJLGNBQzVJLGFBTUEscUJBQ0Esd0NBQ0EsK0JBREEsRUFFTyxDQUNQLFNBQ0Esd0JBQ1MsY0FJVCxtQkFDQSxnQkFDQSxzQ0FDQSxPQUNBLHVEQUVLLHVDQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsaUdBRUEsR0FEQSxPQUNBLHFEQUNBLG9EQUNBLGdFQUNBLHNEQUNBLG9EQUNBLG9FQUNBLDREQW9CQSxvQ0FDQSxvQ0FDQSwrQ0FDQSwrQkFDQSxPQUNBLFVBQ0EsV0FDQSxtQkFDQSxPQWZBLFlBQ0EsdUNBQ0EsV0FDQSx5SkFZQSxjQUdBLGFBQ0EseUJBQ0EsMkJBRUEsU0FDQSx5QkFDQyxFQUFELEtBRUEsNkJBQ0EsT0FDQSxlQUVPLDhGQUNQLE9BQ0EsU0FDQSx1RUFDQSwwRUFFTyxjQUNQLGtDQUNBLG9DQUNBLElBRUEsaUJBQ0EscUZBR08sTUFFUCx1QkFDQSxXQUVBLHNDQUNBLHdCQUNBLCtCQUNBLHNDQURBLFFBTUEsbUJBQ0EsZ0JBQ0EsdUNBQ0EsT0FDQSxnREFDQSxvREFFSyxxREFNTDs7Ozt3RkFLQSxnQkFFQSxhQUNBLE9BQ0EsOEVBQ0EsaUNBQXFHLG9CQUVyRyw4RkFDQSx5Q0FBNkcsb0JBRTdHLDBGQUNBLHVDQUEyRyxvQkFNM0cscUJBSUE7Ozs7NEdBS0EsZ0JBRUEsYUFXQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FvQnhVLFNBQVMsRUFBVCxHQUNBLFVBREEsSUFFQyxFQUFELHVCQUNBLDBCQUNBLDBCQUNBLE9BQ0EsVUFDQSxrQkFDQSxPQUNBLE9BQ0EsT0FDQSxRQUNBLFFBR0EsU0FBUyxFQUFULE9BQ0MsRUFBRCx3QkFDQSx5QkFDQSwwQkFDQSxPQUNBLFVBQ0Esa0JBQ0EsT0FDQSxPQUNBLE9BQ0EsUUFDQSxRQUdBLFNBQVMsRUFBVCxPQUNDLEVBQUQsd0JBQ0EseUJBQ0EsMEJBQ0EsT0FDQSxVQUNBLGtCQUNBLE9BQ0EsT0FDQSxPQUNBLFFBQ0EsUUFHQSxTQUFTLEVBQVQsT0FDQyxFQUFELHVCQUNBLDBCQUNBLDBCQUNBLE9BQ0EsVUFDQSxrQkFDQSxPQUNBLE9BQ0EsT0FDQSxRQUNBLFFBR0EsU0FBUyxFQUFULEdBQ0EsZ0NBR0EsU0FBUyxFQUFULEtBQ0EsNEJBQ0EsOEJBSUEsU0FBUyxFQUFULEtBQ0EsZ0JBQ0EsTUFDQSxJQUNBLElBQ0EsTUFHQSx1QkFDQSwyQ0FDQSw0QkFGQSxPQUdDLEdBQUQsV0FIQSxFQUcyRCxLQUczRCxvQkFDQSxzQ0FDQSw4Q0FFQSw2QkFDQyxHQUFELFdBREEsRUFDK0QsT0FBQUEsRUFBZ0MsQ0FDL0YsT0FFSyw2QkFDSixHQUFELFdBREssRUFDMEQsT0FBQUEsRUFBZ0MsQ0FDL0YsT0FFSyw2QkFDSixHQUFELFdBREssRUFDMEQsT0FBQUEsRUFBZ0MsQ0FDL0YsT0FLQSxVQUNBLE1BQ0EsSUFDQSxJQUNBLE1BR0EsU0FBUyxFQUFULEtBQ0Esb0JBRUEsc0JBQ0EsaUNBR0Esb0JBQ0Esb0NBQXVELDZCQUFBQSxFQUFBLEtBQXdELDZCQUFBQSxFQUFBLEtBRy9HLFNBRUEsU0FBUyxFQUFULGVBR0EsbUJBQ0EsV0FHQSxpQkFDQSxZQTlKQSxPQUNBLDZCQUFrRyxZQUNsRyw2QkFBa0csWUFDbEcsNkJBQWtHLFlBQ2xHLDZCQUFrRyxZQUNsRyw0QkFBaUcsWUFDakcsK0JBQW9HLFlBQ3BHLGlDQUFzRyxZQUN0Ryw2QkFBa0csWUFYbEcsSUFZQSwrREFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHdCQTZJQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxtR0FFQSxHQURBLE9BQ0EsbUVBQ0EsNEZBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFZQSw0QkFDQSxrQkFDQSxPQUNBLFlBQ0EsV0FDQSxtQkFDQSxXQUdBLGNBQ0EsYUFDQSxhQUdBLGdCQUNBLE9BQ0Esa0JBR0EsVUFDQSx3QkFDQSw0RkFFQSxtQkFDQSxxRUFFQSw2QkFDQSxVQUVBLCtCQUNBLGlCQUNBLHNFQUdBLFNBQ0Esb0NBQ0EsNkNBQ0Esd0NBQ0Esd0JBR0EsVUFDQSxpREFDQSxtQkFJQSw2QkFFQSxvQkFDQSxvREFFQSxPQURDLEVBQUQsMkJBQ0EsR0FFQSxtQ0FDQyxFQUFELEtBRUEsNERBWUEsT0FWQyxLQUFELFdBQ0Esa0NBQXFELDhCQUNyRCxvQkFDQSxpQkFDQSw4QkFDQSx1QkFLQSxHQUVBLHdCQUNBLG1EQUNBLHNCQUlBLHdCQUNBLFdBRUEsbUJBQ0EsNEJBRUEsb0JBRUEsbUJBR0EscUNBQ0Esc0JBQ0EsaUVBRUEsc0JBQ0EsZ0JBQ0EsaURBR0Esd0VBQ0Esa0JBQ08sc0JBQ1Asb0JBT0EsNkJBRUEsNkJBSUMsS0FBRCx5REFDQSxtQkFDQSxvQkFDQSx3QkFHQyxFQUFELGdEQUVBLHdCQUVBLG9CQUNBLHFCQUVBLG1EQUdBLDRCQUVBLG1CQURBLGtEQUNBLEdBRUEsdURBR0EscUJBQ0EsNkVBRUEseUJBQ0EsaUNBQ0EseUNBQ0EsaUJBQ0Esc0JBRUEsMEJBQ0EsbURBR0EseUJBR0Esd0VBUEEsSUFVQSw4QkFFQSxzQkFDQSx1REFFQSxzQkFDQSwwQkFJQSwrQkFFQSx3QkFDQSw0QkFHQSxzREFJQSxTQUNBLGlDQUNBLGNBQ0EsaUJBYkEsT0FtQkEsOEJBQ0EsMENBQ0EsNkJBRUEsb0JBQ0EsdUNBQ0EsMEVBRUEsb0NBQ0EsbUJBQ0EseURBUUE7Ozs7MkNBS0EsZ0JBRUEsYUFDQSxPQUNBLHFFQUNBLDhCQUFrRyxvQkFJbEcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxRUFFQSxHQURBLE9BQ0EseUVBT0EsNEJBQ0EsaUJBQ0EsT0FDQSxLQUNBLFlBQ0EsaUJBR0EsVUFDQSxrQkFDQSxnQ0FDQSxRQU9BLE9BQ0EsV0FQQSxNQU9BLE9BQ0EsYUFQQSxRQU9BLEtBQ0EsY0FQQSxTQUNBLGNBQ0EsU0FLQSxLQUNBLFlBTEEsT0FLQSxRQUlBLG1CQUNBLE9BQ0Esd0JBQ0Esa0JBQ0EsZUFFQSw4QkFDQSwrQkFDSywyQkFNTDs7OzswQ0FLQSxnQkFFQSxhQUNBLE9BQ0Esa0VBQ0EsNkJBQWlHLG9CQUlqRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFFQUVBLEdBREEsT0FDQSxtRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVVBLCtDQUNBLGlCQUNBLGNBQ0EsT0FDQSxPQUNBLHFCQUNBLFlBRUEscUJBRUEseUJBQ0MsRUFBRCxRQUNBLHFCQUNBLHVCQUNBLHlCQUVBLGdCQUNBLHdCQUNBLFNBQ0EsY0FKQSxRQUtPLHNDQUpQLE9BV0E7Ozs7MENBS0EsZ0JBRUEsYUFDQSxPQUNBLGtFQUNBLDZCQUFpRyxvQkFJakcscUJBSUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsc0RBQ0EscUJBQ0EsU0FDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQU1BLHNCQUNBLGNBQ0EsZ0JBQ0EsT0FDQSxPQUNBLFdBQ0EsbUJBQ0EsV0FHQSxTQUNBLFlBQ0EsbUJBQ0EsV0FHQSxRQUNBLG9CQUNBLG1CQUNBLFdBR0EsVUFDQSxxQkFDQSxtQkFDQSxXQUdBLFlBQ0EsY0FDQSxxQkFFQSxpQkFDQSxrQkFDQSxNQUNBLFlBQ0EsV0FFQSxjQUNBLFlBQ0EsWUFFQSxTQUNBLG9CQUNBLG1CQUNBLFdBR0EsV0FDQSxxQkFDQSxtQkFDQSxXQUdBLFFBQ0EsWUFDQSxpQkFFQSxvQkFDQSwwQkFDQSx5QkFDQSxjQUNBLGNBQ0EsY0FDQSx1QkFFQSxtQkFDQSxZQUNBLGFBR0EsZ0JBQ0EsT0FDQSxlQUNBLCtCQUNBLDBDQUNBLDhDQUNBLDRDQUNBLGdEQUNBLHVCQUNBLDBCQU9BLE9BSkMsS0FBRCxVQUNBLGlDQUdBLENBQ0Esb0JBR0EsVUFDQSx1QkFDQSxtRkFFQSxxQkFDQSxzR0FFQSw0QkFDQSwwREFDQSwrREFEQSxHQUdBLDJCQUNBLHVEQUNBLGtCQUNBLGdGQURBLEdBR0EscUJBQ0EsNkNBRUEsc0JBQ0EsT0FDQSwrQkFDQSwrQ0FDQSx5QkFDQSx1QkFDQSx5QkFDQSwrQkFHQSx5QkFDQSx5QkFNQSxPQUpBLG1EQUNBLG9DQUdBLEdBRUEseUJBQ0EsaUNBVUEsT0FSQSw4Q0FDQSxzQkFHQSxvREFDQSx5QkFHQSxHQUVBLHdCQUNBLDBHQUVBLHVCQVlBLE1BWEEsQ0FDQSxlQUNBLHlCQUNBLGlCQUNBLHlCQUNBLDZCQUNBLGlDQUNBLDJCQUNBLCtCQUNBLHdDQUlBLDJCQUNBLFlBQXdCLGdCQUd4QixPQUNBLGlCQUNBLHNCQUNBLDBCQUNBLHVCQUVBLFFBQ0EsY0FFQSxpQkFDQSxzQkFDQSwyQkFDQSwrQkFDQSwyQ0FFQSxRQUNBLGNBRUEsaUJBQ0Esb0JBQ0EsVUFHQSxtQ0FDQSw2QkFFQSx5QkFDQSxvQkFDQSxrQkFHQSwyQ0FDQSx1Q0FFQSxtQkFDQSxvQkFDQSxtQ0FHQSx1Q0FDQSwwRkFFQSxxQkFDQSxvQkFDQSxxQ0FHQSx5Q0FDQSw4RkFFQSxvQkFDQSxvQkFDQSxvQ0FHQSx3Q0FDQSw0RkFFQSxzQkFDQSxvQkFDQSxzQ0FHQSwwQ0FDQSxnR0FFQSxzQkFDQSxvQkFDQSxlQUdBLHdDQUNBLG1DQUVBLHFCQUNBLG9CQUNBLGNBR0EsdUNBQ0Esa0NBRUEsV0FDQSxvQkFDQSw0QkFFQSxjQUVBLGVBQ0Esb0JBQ0EsK0JBRUEsZUFHQSxTQUNBLGlDQUNDLEVBQUQsVUFDQSxZQUNBLDJCQUNBLGdCQXlCQSxPQXRCQyxFQUFELElBQ0EsSUFDQSxLQUNBLE1BR0EsVUFDQSxZQUNPLFlBQ1AsUUFhQSxFQVJBLFNBSEEsY0FDQSxlQU1BLHFEQUNBLEtBR0EsQ0FDQSxLQUNBLE9BQ0EsU0FHQSxrQkFDQSxpSEFDQSxPQUNBLFNBQ0EsU0FFQSxvQkFDQSxVQUNBLFlBQ0EsVUFHQSxpQkFDQSw2Q0FFQSxzSUFDQSxPQUNBLFNBQ0EsU0FFQSxvQkFDQSxTQUNBLFdBQ0EsVUFHQSwwQkFDQyxFQUFELEtBRUEscUJBQ0Esc0RBQ0EsZ0JBR0EsaURBRUEsb0JBQ0EsU0FDQSxjQUdBLDBCQUNBLDBCQUF3QyxxQkFBeEMsRUFBd0MsQ0FDeEMsNEhBR0EsMEJBQ0MsRUFBRCxpRUFDQSx1RUFDQSwyQ0FFQSwwQkFPQSxPQUpBLHVEQUNBLDREQUdBLHdDQUdBLGtCQUNBLGtGQU1BOzs7O3VDQUtBLGdCQUVBLGFBQ0EsT0FDQSx5REFDQSwwQkFBOEYsb0JBSTlGLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFTQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FSeFUsT0FIQSxJQUlBLGdGQUVBLEdBREEsT0FDQSxtRUFDQSxzREFDQSxvREFDQSxxQkFDQSxTQVVBLHNCQUNBLHFCQUNBLE9BQ0EsU0FDQSxZQUNBLGFBRUEsWUFDQSxZQUNBLGFBRUEscUJBQ0EsV0FDQSxtQkFDQSxxQkFHQSxVQUNBLFlBQ0EsaUJBRUEsVUFDQSxZQUNBLGlCQUVBLFdBQ0EsWUFDQSxrQkFFQSxVQUNBLFlBQ0EsaUJBRUEsa0JBQ0EsWUFDQSxnREFFQSxxQkFDQSxZQUNBLCtDQUVBLDBCQUNBLHdCQUNBLDBCQUNBLDRCQUNBLFVBQ0EsWUFDQSx5Q0FHQSxVQUNBLCtCQUNBLDBJQUVBLHVDQUNBLFdBRUEsdURBQ0EsZ0JBREEsRUFDd0RBLEVBQUEsOEJBSXhELFNBQ0EsMEJBQ0EsNkNBQW1ELGFBQW5ELEtBRUEsdUJBQ0Esb0JBQ0EsVUFHQSwwQkFDQSxvQkFDQSw0QkFHQSxzQkFDQSxvQkFDQSw0QkFHQSxzQkFDQSxvQkFDQSxrQ0FHQSxpQ0FDQSxvQkFDQSxlQUNBLFVBR0Esa0NBQ0EsT0FDQSxnRUFDQSxVQUdBLHFDQUNDLEVBQUQsMEJBQ0EsbUNBRkEsT0FHQyxHQUFELGVBQ0Esb0JBQ0Esd0JBQ08sUUFDUCwyQkFDQSxxQ0FDTyw0RUFDUCxPQUNBLG9DQUVBLE9BQ0Esa0NBQ0EsUUFDQSxRQUNBLGVBQ0EsUUFDQSxpQkFFQSxJQUNBLHVDQUlBLDZCQUNBLFlBRUEsb0NBQ0MsRUFBRCw0QkFDQSw4QkFDQSxvRkFDQSxrRUFDQSxZQUNBLFdBQ0EsaUJBQ1MsNENBR1Qsa0NBQ0EsbUNBREEsSUFJQSwwQkFDQSxzQ0FDQSxPQUNBLG1DQUNBLFFBQ0EsU0FFQSxJQUNBLFNBRUEsT0FDQSxpQkFFTyxxQ0FFUCx3QkFDQyxFQUFELEdBQ0EsS0FTQSxPQVJDLEVBQUQsaUtBQ0Esa0tBRUEseUJBQ0EscUtBQ0Esd05BR0EsNEJBQ0EsMkNBREEsR0FFTyw0R0FDUCwwQ0FETyxNQUtQLGtCQUNBLGtDQUNBLDZCQUNLLDZFQU1MOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHNEQUNBLHlFQUNBLG9FQUNBLHNEQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBd0NBLDRCQUNBLHVCQUNBLFdBQW9CLHVCQUNwQixTQUNBLFlBQ0EsY0FFQSxPQUNBLFdBQ0EsbUJBQ0EsV0FHQSxxQkFDQSxVQUNBLFdBQ0EsbUJBQ0EsV0FHQSxxQkFDQSx5QkFDQSxlQUNBLFlBQ0EsK0NBRUEsWUFDQSxZQUNBLCtCQUVBLGFBQ0EsWUFDQSw2Q0FFQSwwQkFDQSxxQkFFQSxnQkFDQSxPQUNBLGFBQ0EsYUFDQSwwQkFHQSxVQUNBLHFCQUNBLFdBRUEsdUZBQ0EsMkJBR0EscUJBQ0EsV0FFQSxtREFDQSwyQkFHQSxnQ0FDQSx3REFHQSxPQUNBLE9BQ0Esb0JBQ0EsV0FFQSx1Q0FFQSxPQURDLEVBQUQsK0NBQ0EsSUFDUyxLQUVULGNBRUEsd0JBQ0Esb0RBQ0Esc0NBRUEsVUFDQSxvQkFDQSxXQUVBLHVDQUVBLE9BREMsRUFBRCxnREFDQSxJQUNTLEtBRVQsY0FFQSx3QkFDQSxXQUVBLGtDQUNDLEVBQUQsbUNBQ0EsZUFFQSwwQ0FDQSxxRUFEQSxHQUdBLG1DQUdBLHVCQUNDLEVBQUQsS0FFQSw0V0FHQSxxQkFDQSxNQW5KQSxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0EySEEsTUFDQSxPQUNBLE9BRUEseURBRUEseURBR0EscUJBQ0EscURBR0EsU0FDQSxnQ0FDQyxFQUFELEtBRUEsbUJBQXNDLGdCQUN0QywrQ0FDQSxrREFEQSxFQUVBLGNBQXlDLFFBRXpDLGlCQUNBLGdDQUNBLFdBR0EsdUJBQ0EsNEVBRUEsNEJBQ0EsUUFDQSxXQUdBLFFBQ0EsTUFOQSxJQVNDLEVBQUQscUJBQTRDLGlCQUFtQixnQkFDL0QsaURBVkEsRUFXQSxjQUF1QyxLQUN2QyxpQkFDQSwrQkFDQSxPQUNBLFdBR0EsdUJBQ0EsMkVBRUEsMEJBQ0EsUUFDQSxNQUZBLElBS0MsRUFBRCxxQkFBNEMsaUJBQW1CLGdCQUMvRCxpREFOQSxFQU9BLGVBQXVDLEtBQ3ZDLGlCQUNBLDRCQUNBLE9BQ0EsV0FHQSxnQ0FDQyxFQUFELEtBYUEsTUFYQSxDQUNBLE9BQ0EsbUJBQ0Esc0JBRUEsOEJBQ0EsbUJBQ0Esc0JBRUEsZ0NBSUEsNEJBQ0EscUNBRUEsdUJBQ0Esd0JBQ0Esa0VBQ0EsK0JBQ08sVUFDUCxvRUFDQSwrQkFDTyxVQUNQLDBFQUNBLCtCQUdBLGFBRUEseUJBQ0MsRUFBRCxLQUVBLGdFQUhBLFNBSUEsSUFFQSwwQkFDQSxpQ0FBb0QsQ0FDcEQsMkJBQ0EsbUJBQ0EsMkJBQ0Esc0JBSUEsdUJBQ0EseUJBQ0Esb0RBSUEsSUFFQSxzQkFDQSxzQ0FEQSxJQUVDLEVBQUQsQ0FDQSxXQUEwQiwyQkFDMUIsa0JBQ0EsMEJBRUEsSUFDQSw2QkFDQSw2QkFJQSxnRUFDQSx3Q0FDQSxlQURBLEtBSUEsaUNBQ0EsYUFBa0MsQ0FDbEMseUJBQ0EseUJBQ0EsdUNBR0Esa0NBQ0EsK0JBQ08sb0hBR1Asa0JBQ0EsV0FFQSxvQ0FDQSxrQkFDQSxJQUNBLCtCQUNBLDhEQUVBLDBCQUNBLGlDQUVBLG9DQUNBLDJDQUVBLDZCQUNBLG9DQUVBLCtCQUNBLHNDQUVBLDhCQUNBLHFDQUVBLGdDQUNBLHVDQUVBLHlCQUNBLDBEQUVBLDRCQUNBLHlCQUVBLDZCQUdBLGFBQ0EseUNBUUE7Ozs7NERBS0EsZ0JBRUEsYUFDQSxPQUNBLGlGQUNBLGtDQUFzRyxvQkFFdEcsNkVBQ0EsZ0NBQW9HLG9CQUtwRyxXQUNBLHlCQUNBLHdCQUNBLHlCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBQ0Esc0RBR0Esc0JBQ0EsV0FDQSxjQUNBLE9BQ0EsY0FDQSxZQUNBLGFBRUEseUJBQ0MsRUFBRCxRQUNBLFVBQ0EsU0FDQSxNQUNBLGlDQUlDLEVBQUQsR0FDQSxpREFDQSxVQUNBLGtDQUNBLE9BUkEsRUFXQSxVQUNBLFlBQ0EsU0FDQSxXQWRBLEVBaUJBLFVBRUEsdUJBR0EsZ0JBQ0EsOENBREEsSUFVQSxNQU5BLDZCQUNBLG1CQUNBLGdEQUNTLFdBR1QsUUFDQSxNQWhDQSxDQUNBLGdDQThCQSxNQUlBLHVCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBQ0Esc0RBS0Esc0JBQ0EsV0FDQSxjQUNBLE9BQ0EsY0FDQSxZQUNBLGFBRUEseUJBQ0MsRUFBRCxRQUNBLFVBQ0EsU0FDQSxNQUNBLGlDQUNBLEVBRUMsRUFBRCxHQUNBLGlEQUNBLFVBQ0Esa0NBQ0EsT0FQQSxFQVVBLFVBQ0EsWUFDQSxTQUNBLFdBYkEsRUFnQkEsVUFFQSx1QkFHQSxpQ0FDQSxlQUNBLFlBQXVCLDZDQUF2QixJQURBLE1BSUEsdUJBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FDQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBR0EsYUFDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFVBSUEsc0JBQ0EsaUJBQ0EsY0FDQSxPQUNBLE9BQ0EsYUFDQSxZQUVBLGFBQ0EsWUFDQSwrQkFFQSxvQkFDQSxjQUNBLFlBQ0EsaUNBR0EseUJBQ0MsRUFBRCxRQUNBLFVBQ0EsTUFDQSxLQW9CQSxPQWxCQyxFQUFELGlCQUNBLGVBQ0EsMkJBQ08scUJBQ0YsaUJBQ0wsbUNBR0EsK0RBRUEsb0JBQ0EsZUFDQSw0QkFDTyxzQkFDRixrQkFDTCxvQ0FHQSxNQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFrQkEsU0FBUyxFQUFULEdBQXdVLFNBQWpULDREQUEyRSxZQUFrQyxpQkFBK0IsWUFBa0Msc0dBQW1JLEdBZ0V4VSxTQUFTLEVBQVQsT0FDQSxtQkFDQSxnREFDQSwwQ0FwRkEsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSxxREFDQSxzRUFDQSxvREFDQSxnRkFDQSxzREFDQSwwRUFDQSxzREFDQSxnRUFDQSx3RkFDQSx3RUFDQSxrRUFDQSxzRUFDQSxzREFDQSxzREFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQTZFQSxrQ0FDQSxvQkFFQSxZQUNBLGtCQUVBLE9BQ0EsU0FDQSxZQUVBLG1CQUNBLG1CQUNBLG9CQUdBLGtCQUNBLFlBQ0EsYUFFQSx1QkFDQSwwQkFDQSxlQUNBLGNBQ0EsbUJBQ0Esd0JBQ0Esb0JBQ0EscUJBQ0EsWUFDQSxZQUNBLG1CQUVBLGNBQ0EsY0FDQSwwQkFHQSxnQkFDQSxPQUNBLG1CQUNBLGFBQ0EsWUFHQSxVQUNBLDJCQUNBLFdBRUEsMEJBSEEsSUF5QkEsRUFyQkMsRUFBRCxpQ0FDQSw4REFDQSx5QkFHQSxHQUNBLFFBQ0EsWUFDQSxhQUdBLGtCQUlBLEdBSEEsMkJBQ0Esd0NBRUEsaUJBQWtELENBQ2xELDZCQUNZLG9CQUF5QyxRQUdyRCxrQkFJQSxHQUhBLDJCQUNBLHdDQUVBLGlCQUFrRCxDQUNsRCw2QkFDWSxvQkFBeUMsUUFHckQsVUFFQSx3QkFDQSw2QkFDQSwwREFHQSwyQkFHQyxJQUFELGdDQUNBLHNEQUVBLHlCQUNBLGtEQUVBLE9BREMsRUFBRCwwQkFDQSxJQUNPLEtBRVAsb0NBQ0EsZ0RBQ0EsMEVBR0EsdUNBQ0EsZ0RBQ0EseUVBR0EsZ0NBQ0EsdURBRUEsb0NBQ0MsRUFBRCxvRkFDQSxnREFFQSwyQkFDQSw4Q0FDTyxDQUNQLFdBQ0EsZ0NBR0EsV0FHQSx1QkFDQyxFQUFELEtBRUEsNkdBR0EscUJBQ0EsTUE1TUEsY0FDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFNBb0xBLE1BQ0EsT0FDQSxPQUVBLDBEQUdBLG1CQUtBLHVCQUNBLGtEQUNBLG9CQUdBLHlCQUNBLHNCQUNBLHNEQUdBLFNBQ0Esc0JBQ0EseUVBQ0EseUJBR0Esc0NBQ0EsT0FwTEEsb0JBQ0EsUUFlQSxPQWRDLEVBQUQsbUNBRUEsV0FDQSx3QkFDQSw0QkFJQSxXQUNBLHdCQUNBLDJDQUlBLEVBb0tBLHdGQUVBLHdDQUNBLG9EQUVBLDRCQUNBLG1FQUNBLHdCQUNBLGdDQUdBLDhCQUNDLEtBQUQsd0RBQ0Esd0NBRUEsdUJBQ0EsV0FFQSw0RUFDQSwrQkFDQSxPQUNBLDBCQUtBLDBCQUNDLEVBQUQseUVBQ0EsT0FDQSwrQ0FDQSxTQUNBLG9CQUdBLDRCQUNBLHFCQUNBLHlCQUNPLEtBQ1AsNEJBQ0Esc0NBQ08sS0FDUCx5Q0FFQSwyQkFDQyxFQUFELENBQ0EsV0FBMEIsMkJBQzFCLDZCQUNBLGtCQUNBLHFCQUNBLDZCQUNBLHlCQUNBLHlCQUNBLCtCQUNBLCtCQUVBLElBQ0EsWUFDQSxjQUNBLDJDQUdBLHVDQUVBLDRCQUNBLG9FQUNBLDRDQUFnSCxDQUNoSCxrQkFLQSxPQURDLEtBQUQsbUNBQ0EsR0FFQSw0QkFDQSxpQ0FDQSwyQ0FDTywyQkFDUCx5QkFETyxNQUlQLHVCQUNBLG9FQURBLFNBRUEsSUFDQSx3RUFFQSxpQ0FDQyxFQUFELEtBR0EsT0FEQSxtQkFDQSx3QkFDQyxFQUFELHNEQUVBLHFCQUNBLHNCQUNBLFFBQ0Esa0JBQ0EsV0FDQSw0QkFHQSxxQ0FJQSx5Q0FDQyxFQUFELEtBRUEsc0JBQ0EsbUNBQ0Esb0JBQ08sMkJBRVAsYUFDQSw4Q0FHQSxhQUNBLHdCQUNBLFdBQ0EsZ0JBSUEscUNBQ0EsMENBQ0Esc0JBQ1Msb0NBQ1QsUUFDQSwwQkFDQSxRQUNBLDZCQUNBLFNBQ0Esa0JBRU8sS0FDTixFQUFELCtCQUNBLG1CQUNBLE9BQ0EsUUFDQSxVQUVBLElBQ0EsVUFFUyx1REFDVCxpQ0FDQSxtQkFDQSxPQUNBLFFBQ0EsVUFFQSxJQUNBLFVBRVMsNkNBQ1QsNEJBQ0EseUJBQ0EseUJBQ1MsbUNBQ1QsMENBQ0Esc0JBQ1MsTUFjVCxPQVhDLEtBQUQsK0JBQ0EsdUNBQ0EsdUJBQ1MscUNBQ1QsUUFDQSwwQkFDQSxRQUNBLGtDQUlBLCtCQUNBLE1BQ0EsT0FDQSxVQUhBLElBT0Esc0JBQ0EsZ0ZBRUEsMEJBR0EsVUFGQyxFQUFELEdBRUEsSUFBcUIsV0FBa0IsSUFBdkMsRUFDQSxLQUNBLG1DQUFvRCx5QkFDcEQsWUFHQSxvQkFDQSwyQ0FDQSxPQUNBLGdDQUtBLFVBRUEsMkJBQ0EsV0FFQSw2REFDQSxxQ0FDTyxtQkFDUCxvQ0FHQSxzQ0FDQyxFQUFELG1CQUlBLDZCQUhBLENBQ0EseURBR0EsNEJBQ0Esc0VBQ08scUNBQ1AsT0FDQSxpQ0FFQSxzQ0FDQSxPQUNBLFVBRU8saUNBQ1AsbUJBQ08scUNBQ1Asb0JBQ08sUUFFUCxrQ0FDQSxnQkFFQSxRQUNBLE1BSkEsSUFPQyxFQUFELDREQUNBLDBCQUVBLG9CQUNBLDZCQUNBLG9DQUNBLGFBQ1MsV0FDVCxtQ0FDQSxxQ0FDQSxPQUNBLG9CQUVBLElBQ0Esa0JBQ0Esd0JBT0Esb0JBQ0EsNkJBQ0Esb0NBQ0EsYUFDUyxXQUNULG1DQUNBLHdDQUNBLE9BQ0Esa0RBRUEsSUFDQSxrQkFDQSxvQkFDQSwyQkFHVyxpQkFJWCw4REFDQSxtREFDQSxhQUEwQixDQUMxQix3Q0FFQSxPQUNBLDZCQUNBLE9BQ0EsdUJBRUEsY0FDQSxJQUNBLGlCQUNBLG1DQUtBLG9CQUNBLGFBQTRCLENBQzVCLHVCQUNBLCtCQUhBLE9BTUMsS0FBRCxrQkFDQSwwQkFHQSxnSkFFQSwyQkFDQyxFQUFELENBQ0EsU0FDQSxrQkFDQSx3QkFDQSx3REFDUywyQkFDVCxJQUNBLDZCQUNBLDRCQUdBLG1CQUNBLDhCQUVBLDBDQVFBLE9BTkMsS0FBRCxtQkFDQSxnREFBaUgsQ0FDakgsOEVBSUEsR0FFQSxpQ0FDQSxPQUNBLG1CQUNBLDZCQUNBLGtCQW1CQSxzQ0FDQSxTQUNPLG1MQUVQLHdCQUNBLHVDQUNBLFFBREEsS0FLQSxrQkFDQSxXQUVBLG9DQUNBLFdBQXdCLGFBQ3hCLDBDQUNBLHNDQUNBLHlDQUVBLElBQ0EsK0JBQ0EsZ0NBQ0EsdURBRUEsMEJBQ0EsaUNBRUEsb0NBQ0EsMkNBRUEsNkJBQ0Esb0NBRUEsK0JBQ0Esc0NBRUEsOEJBQ0EscUNBRUEsZ0NBQ0EsdUNBRUEseUJBQ0EsMERBRUEsNEJBQ0EseUJBRUEsNEJBRUEseUJBQ0EsaUNBR0EsYUFDQSx5Q0FRQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHVGQUVBLEdBREEsT0FDQSxvQkFDQSxTQUNBLGdGQUNBLG9GQUNBLDRGQUNBLDhGQU9BLHNCQUNBLDJCQUNBLGNBQ0EsT0FDQSxnQkFFQSxxQkFDQSxjQUNBLFNBQ0EsVUFDQSxxQkFDQSwrQkFMQSxPQU9DLEVBQUQsT0FDQSxpQkFFQSxxQkFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvREFDQSwwRUFDQSxzREFDQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBR0EsYUFDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFVBTUEsK0NBQ0EsbUNBQ0EsU0FDQSw2QkFDQSxXQUVBLG1DQUNBLElBQ0EsaUJBQ0EsbUNBR08sWUFHUCwwQkFDQyxFQUFELEtBRUEsS0FDQSxLQUNBLEdBQ0Esb0JBQ0EsWUFDQSx3QkFDQSxvQkFFQSxHQUNBLHVDQUNBLDJDQUdBLHNHQUVBLG9EQUVPLENBS1AsR0FKQSw4REFDQSxXQUNTLHVDQUVULCtEQUNBLG1CQUNBLGdDQUZBLElBS0MsRUFBRCwyQ0FDQSxzQkFFQSxPQUNBLDJCQUNBLG1CQVZBLEdBYUEsaUJBQ0EsdUJBQ0EsMENBQ0EsMkpBRUEsK0VBR0EsOENBQTJFLDJCQUUzRSwyQkFDQSxtQ0FDQSx5Q0FDYSxXQUliLGtCQUNBLHNDQXJDQSw0QkF5Q0EsaUNBQ0EsUUFDQSxRQUNBLFFBQ0EsTUFKQSxLQVFBLGtCQUNBLFdBRUEsb0NBQ0EsbUNBQ0ssd0RBQ0wsZ0NBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0RBQ0Esb0VBQ0Esc0RBQ0EsMEVBQ0Esc0RBQ0EsZ0JBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQUdBLGFBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxVQVFBLCtDQUNBLGtDQUNBLE9BQ0EsWUFDQSxZQUNBLHNDQUdBLFNBQ0EsNEJBQ0MsRUFBRCxLQUVBLGdCQUNBLDZDQUNBLDJCQUVBLE9BQ0EsMkJBVUEsT0FUQyxFQUFELGdDQUNBLDRCQUNBLE9BQ0EsWUFDQSxTQUNBLFVBQ0EsWUFFTyx1QkFDUCwrQkFDQSx1QkFDQSxVQUNBLGtCQUNBLG9CQUVBLGdDQU5BLElBV0EsNkJBQ0MsRUFBRCxLQUVBLG1DQUNBLHdEQUVBLHNDQUNBLE9BQ0EsNENBQ0EsUUFDQSxlQUNBLGdDQUNBLHdFQUNBLHlDQUVBLElBQ0EsbUJBQ0EsMkJBR0EsYUFDQSxzQkFDQSw4QkFNQSx1QkFDQyxFQUFELEdBQ0EsaUNBQ0EsdUNBR0EsdUJBQ0Esa0NBQ0EsK0VBQ0EsT0FDQSxnQkFFTyx3QkFHUCw2QkFmQSxJQWdCQyxFQUFELGlCQUNBLG1EQURBLEtBR0EsY0FDQSxrQkFDQSw4REFDSyxTQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsNkVBRUEsR0FEQSxPQUNBLHFFQUNBLG9FQUNBLHNEQUNBLG9EQUNBLHNEQUNBLG9EQWNBLHlEQUNBLHFCQUNBLE9BQ0EsWUFDQSxrQkFFQSxjQUNBLGNBQ0EsbUJBQ0EsVUFDQSxnQkFFQSxZQUNBLFlBQ0EsdUNBR0EsZ0JBQ0EsT0FDQSxjQUdBLE9BQ0Esd0JBRUEsbUJBQ0EsMkJBRUEsc0JBSUEsU0FDQSxrQkFDQSxpQkFDQSxzQkFFQSxpQkFDQSxnREFDQSxjQUVBLHdCQUNBLHNDQUNBLE9BQ0EsUUFDQSxnQkFDQSxVQUVBLElBQ0EsVUFQQSxJQVdBLHNCQUNBLFdBRUEsa0NBQ0EsaUNBQ08sd0VBQ1Asc0JBRUEsa0JBQ08sa0JBRVAsc0JBQ0EsV0FFQSxrQ0FDQSxzQ0FDQSxJQUNBLG9CQUNBLDZDQUVBLHVDQUVBLGtDQUNBLGdCQUVBLG1CQUlBLGVBQ08sdUJBR1AsbUJBQ0EsV0FFQSxvQkFDQSw2QkFDQSx3QkFDQSxPQUNBLDRDQUNBLDJCQUNBLG1CQUNBLFNBQ0Esb0JBQ0EsOEJBQ0EsdUJBQ0EsaUJBQ0EsaUJBQ0EsZ0JBRUEsSUFDQSxrQkFDQSxzQkFHQSxhQUNBLHNCQUNBLFdBQ0EsZ0JBQ0Esd0NBQ0EsTUFDVyxXQUNYLGtEQUNXLHVCQUdOLDJEQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsK0VBRUEsR0FEQSxPQUNBLHFEQUNBLG9FQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBT0EsK0NBQ0Esc0JBQ0EsT0FDQSxjQUNBLG9CQUNBLHdCQUVBLFVBQ0EsbUJBQ0EsVUFDQSxpQ0FDQSw4REFDQSwrQ0FDTyxxQkFHUCxTQUNBLHNCQUNBLHVEQUNBLG9DQUNBLE9BQ0EsOENBRU8sc0RBR1AsbUJBQ0EsZ0JBQ0EsMkJBQ0Esb0JBQ0ssNERBTUw7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxpRkFFQSxHQURBLE9BQ0EsdUVBQ0Esb0RBQ0Esc0RBUUEsK0JBQ0EsNkJBQ0EsdUJBQ0EsT0FDQSxXQUNBLFlBQ0EsWUFFQSxjQUNBLFlBQ0EsWUFFQSxPQUNBLFdBQ0EsbUJBQ0EsV0FHQSxXQUNBLFlBQ0EsYUFHQSxnQkFDQSxPQUNBLFlBQ0EsV0FDQSxvQkFDQSxxQkFHQSxVQUNBLHVCQUNBLDBCQUVBLHVCQUNBLDBEQUVBLG9CQUNBLHlDQUVBLHNCQUNBLHdDQUVBLHNCQUNBLDJEQUVBLHFCQUNBLDRDQUVBLHFCQUNBLDZEQUVBLHdCQUNBLCtFQUdBLE9BQ0EseUJBQ0EsaUJBRUEsaUJBQ0Esc0JBQ0EsK0JBR0EsbUJBQ0EsdUJBRUEsbUJBQ0EseURBQ0EsZ0VBQ0EsY0FHQSx5QkFDQSxvRUFFQSxTQUNBLDhCQUNBLE9BQ0EsZ0JBR0EsbUJBTUEsT0FMQSw0REFDQSxpQ0FDQSwrQkFHQSx1REFDQSwrQ0FDTywyQ0FDUCxxREFHQSxvQkFDQSxnQ0FDQSwwREFHQSxxQkFDQSxlQUNBLDRCQUVBLG9CQUNBLGtDQUNBLFlBQ0Esc0NBQ08sdUdBRVAsc0JBQ0Esa0NBQ0EsdUNBQ0EsT0FDQSw4Q0FFTyxxQkFHUCxtQkFDQSxnQkFDQSwyQ0FDQSxvQkFDSyw0REFNTDs7Ozt3SEFLQSxnQkFFQSxhQUNBLE9BQ0EsbUNBQXdHLFlBSnhHLElBS0Esc0RBQ0Esb0VBQ0EsK0JBQW1HLG9CQUVuRyxvRkFDQSxxQ0FBeUcsb0JBRXpHLDBFQUNBLGdDQUFvRyxvQkFFcEcsNEVBQ0EsaUNBQXFHLG9CQUVyRyw4RUFDQSxrQ0FBc0csb0JBUXRHLElBQUksRUFBSixzREFFQSxXQUNBLHlCQUNBLHFCQUNBLDJCQUNBLHNCQUNBLGlCQUNBLHVCQUNBLDJCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHlEQUNBLDJGQUNBLHlFQUNBLHVEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBT0Esc0NBRUEsWUFDQSxrQkFFQSxPQUNBLFNBQ0EsV0FDQSxhQUVBLFNBQ0EsWUFDQSxtQkFDQSxPQUNBLE9BQ0EsZ0JBQ0EsVUFDQSxZQUNBLFdBQ0EsYUFDQSxhQUNBLGVBSUEsVUFDQSxZQUNBLGlCQUVBLGtCQUNBLGtCQUNBLG9CQUNBLHFCQUNBLHFCQUVBLFNBQ0EsNEJBQ0MsRUFBRCxLQUVBLEdBQ0EsT0FDQSxxQkFDQSwrQ0FFQSxJQUNBLGtCQUNBLHlDQVZBLE9BZUMsS0FBRCxrQ0FDQSwwQ0FHQSxpQ0FDQSxzQ0FEQSxLQUlBLHVCQUNBLHNDQUNBLHdDQUNBLE9BQ0EsVUFFTyxzQkFPUDs7OztnQ0FLQSxnQkFFQSxhQWtFQSxTQUFTUSxFQUFULEtBQ0Esd0JBQ0EsT0FDQSxPQUNBLGlCQUNBLE9BQ0EsaUJBRUEsOERBQ0EsUUFDQSxRQUNBLFFBSEEsSUF6RUEsT0FIQSxJQUlBLGlGQUNBLG1GQUNBLHlGQUNBLDJGQUNBLGlGQUNBLG9FQUNBLDhEQUNBLCtEQUNBLHFGQUNBLHNEQUNBLHNGQUNBLG9EQUNBRixFQUFBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQTJDQSxpREFFQSxRQUNBLHFCQUNBLE9BQ0Esc0JBRUEsbUJBQ0EsaUJBQ0EsUUFDQSw2QkFDQSxtQkFDQSxjQUdBLFlBQ0Esb0NBQ0EsbUJBQ0Esa0JBR0EsZ0JBQ0EscUJBQ0EsV0FHQSwwQkFDQSxXQUNBLFdBRUEscUJBQ0EsaUJBQ0EsVUFDQSxZQUNBLGlCQUVBLGtCQUNBLFVBQ0EsWUFDQSxpQkFFQSxjQUNBLGlCQUNBLGlCQUNBLG1CQUNBLGFBQ0Esc0JBQ0EsWUFFQSxtQkFDQSxZQUNBLDZDQUVBLGlCQUVBLHlCQUNBLE1BQ0EsWUFDQSxlQUNBLHNCQUNBLHFDQUdBLHFCQUNBLHVCQUVBLG9CQUNBLGlCQUVBLG9CQUNDLEVBQUQsS0FFQSxXQUNBLE9BQ0EscUNBQ0EsY0FDQSxnQkFDQSxlQUNBLGVBQ0EsTUFFQSxVQUNBLGFBQ0EsYUFJQSxHQURBLDZGQUNBLGtDQUlBLFVBQ0Esc0JBQ0Esa0NBRUEscUJBQ0EsbUVBRUEsaUNBQ0MsS0FBRCw4Q0FFTyxnQkFDUCw0QkFDQSx3QkFHQSx1QkFOQSxZQVNBLDBCQUNBLHFCQUNBLHVGQUdBLHdCQUVBLHFCQUNBLG1LQUVBLHNCQUNBLDBEQUVBLHFCQUNBLHdEQUVBLG9CQUNBLDBDQUVBLG9CQUNBLDBDQUVBLG1CQUNBLHlDQUVBLG1CQUNBLHlDQUVBLHNCQUNBLE9BQ0EsZ0ZBQ0EsZUFDQSxnQkFDUyxDQUNULFdBRUEsMEhBR0EsNkNBQ0EsV0FFQSwwQkFDQyxFQUFELE9BSUEsYUFDQSxrQ0FHQSxnREFQQSxNQVVBLHlDQWlCQyxFQUFELHlEQWhCQSxDQUNBLE1BQ0EsZUFDQSxnQkFFQSxPQUNBLGFBQ0EsZ0JBRUEsTUFDQSxnQkFDQSxjQUNBLGNBQ0EsaUJBR0EsWUFDQSxRQUNBLFFBQ0EsUUFDQSxRQUNBLFFBQ1MsYUFTVCxzQkFOQSxZQUNBLHdEQUNBLGtCQUNTLHVCQUdULElBR0EsT0FDQSx3QkFHQSx5Q0FDQSwrQkFDQSxvQ0FFQSx5QkFFQSxpQkFDTyxtQ0FDUCx5Q0FDTyxzQ0FDUCwwQ0FHQSxvQkFDQSx5QkFDQSxvQkFFQSw4Q0FFTyxrRUFDUCxxRUFGQSxxRUFLQSxpQkFHQSxHQUZBLGtDQUVBLCtCQUNBLGlFQUNBLGlCQUNTLDJCQUNULDhDQUlBLG1CQUNBLHlCQUVBLGtDQUNBLGdEQUdBLHFCQUVBLFNBQ0Esc0JBQ0EsMEJBQ0EsaUVBaFNBLFdBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxTQTJSQSxzQkFEQSxDQUtBLHFHQUNBLGdCQURBLEVBR0Esc0JBQ0Esd0NBRUEsNkJBQ0EseUJBQ0MsRUFBRCw0QkFDQSxtQ0FFQSxPQUNBLDJGQUdBLDBCQUNBLGlFQUVBLHNCQUNBLGlCQUdBLGVBREEsb0JBQ0EsS0FFQSw0Q0FHQSwwQkFFQSxxRkFDQSxvQ0FHQSx1QkFDQSw0Q0FDQSwrQ0FFQSxvQkFDQSxnQkFDQSx3RkFHQSxpQkFDQSx5QkFFQSxxRkFDQSxvQ0FHQSxnQ0FHQSxzQkFDQSw0Q0FDQSwrQ0FDQSwyQ0FDQSxnQ0FFQSwwQkFDQSxXQUVBLHNDQUNBLE9BQ0EseURBQ0EsdUJBQ0EsdUJBQ0EseUNBQ0EsdUVBQ0EsdUJBQ0EsZ0RBRUEsYUFDQSxJQUNBLG9DQUNBLHlEQUtBLDBCQUNBLFdBRUEsc0NBQ0EsT0FDQSx1QkFDQSxpQkFDQSxlQUNBLHVCQUNBLDZCQUNBLGlCQUNBLG1CQUNBLDBEQUNBLDBEQUNBLHVCQUNBLHVCQUNBLDBJQUVBLElBQ0Esa0JBQ0EsOERBRUEsa0JBQ0EsMEJBS0Esd0JBQ0EsV0FFQSxzQ0FDQSxPQUNBLCtCQUNBLGlCQUNBLHFCQUNBLGVBQ0EsdUJBQ0EsbUJBQ0EsMkJBQ0EsbUNBQ0Esc0JBQ0EsaUJBQ0EsbUJBQ0EsYUFDQSxhQUNBLGlCQUNBLHVCQUNBLDJCQUNBLHVCQUNBLCtFQUNBLGlCQUNBLGtDQUVBLFlBQ0EsSUFDQSxxQkFDQSxnQ0FDQSxzQkFFQSx5QkFDQSxnQ0FFQSw0QkFDQSx1Q0FLQSx5QkFDQSxXQUVBLHNDQUNBLE9BQ0Esd0RBQ0EsaUJBQ0Esa0RBQ0EsZUFDQSx1QkFDQSw0Q0FDQSxvREFDQSx3QkFDQSxpQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSw0Q0FDQSwyQkFDQSwwQkFDQSw4Q0FFQSxZQUNBLElBQ0Esc0JBQ0EsZ0NBQ0Esc0JBRUEsMEJBQ0EsaUNBRUEsNkJBQ0Esd0NBS0Esb0JBQ0Esc0NBQ0EsT0FDQSxpQkFDQSx1QkFDQSxtQkFDQSxpQkFDQSxpQkFDQSxzQkFFQSxJQUNBLHlCQUlBLHlCQUNBLCtJQUNBLGtDQUNBLHVCQURBLElBSUEsd0JBQ0EsbUJBQ0EsZ0NBQ0EsaUNBQ0Esb0NBRUEscUJBQ0Esc0NBR0MsS0FBRCxpREFDQSwwRUFDQSxrREFJQSxrQkFDQSw0Q0FNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxpR0FDQSwrREFDQSxzREFDQSxvREFPQSx1Q0FFQSxRQUNBLGdDQUNBLE9BQ0EsZ0JBQ0EscUJBQ0EsV0FFQSxpQkFDQSx3QkFFQSxVQUNBLHFCQUNBLDhFQUNBLGNBQ0EsZ0JBQ08sQ0FDUCxRQUNBLFlBR0EsNEJBQ0EscUZBQ0EsaUJBQ0Esa0JBR0Esd0JBQ0MsRUFBRCxLQUVBLG1DQUNBLHVFQUNBLGtEQUVBLDBDQUNBLGtEQUlBLFNBQ0EsK0JBQ0Esc0RBRUEsd0JBQ0MsRUFBRCxLQUVBLGlDQUNBLG1DQUdBLE9BREMsS0FBRCwrQ0FDQSw0Q0FHQSw0Q0FHQSxPQUZBLDJGQUNBLFlBQ0Esb0NBRUEseUJBQ0Esd0VBRUEsd0dBQ0EsSUFHQSx3SUFFQSxxQkFFQSwwQkFDQSw4REFDQSxnREFDTywwQkFFUCx3QkFDQyxFQUFELEdBQ0EsaUVBQ0EsS0FDQSwwQ0FDQSx1QkFMQSxJQU1BLCtDQUVBLEtBQ0Esa0NBR0EsUUFBbUIsS0FBb0IsS0FDdkMsdUZBQ0EsK0VBRUEsa0NBQ0Esc0JBQ0EsS0FDQSxxREFRQSxPQUpDLEVBQUQsUUFDQSxzQkFHQSxnQ0FFQSxrQkFDQSxzQ0FHQSxrQkFDQSxvSUFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDBGQUVBLEdBREEsT0FDQSxtREFDQSxzREFDQSxvRUFDQSxvRUFDQSxvRUFDQSwrREFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQXlDQSwyREFFQSxRQUNBLDRCQUNBLE9BQ0EsaUJBQ0EsZ0JBQ0EsV0FDQSxXQUNBLFVBQ0EsWUFDQSxpQkFFQSxVQUNBLFlBQ0EsaUJBRUEsaUJBQ0EsT0FDQSxxQkFDQSxjQUdBLGdCQUNBLE9BQ0EsaUJBR0EsVUFDQSw0QkFDQyxLQUFELE9BQ0EsYUFDTyw2QkFDUCwwREFDQSxhQUNBLGVBQ0EsZ0JBQ1MsQ0FDVCxXQUdBLDBEQUNBLGVBQ0EsZ0JBQ1MsQ0FDVCxhQUtBLE9BQ0Esb0JBQ0EsdUJBR0EsU0FDQSx1QkFDQyxFQUFELEtBRUEsa0hBQ0Esc0NBQ0EsT0FDQSxlQUNBLFdBQ0EsUUFDQSxrQkFFQSxVQUNBLGtCQUNBLG9CQUVBLHlDQUdPLHVGQUVQLDRCQUNBLE1BbkhBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxTQTJGQSwyQ0FDQSxPQUZBLE9BS0MsTUFGRCxLQUdBLFNBRUEsd0NBR0EseUJBQ0MsRUFBRCxLQUVBLHlDQUNBLGlEQUNBLG9CQUNPLCtCQUNQLE9BQ0EsZUFFQSxJQUNBLGlCQUNBLDRCQUdPLHdEQUNQLG9DQUNBLE9BQ0EsdUZBRU8sS0FDUCxrQ0FDQSwwQ0FDQSxPQUNBLHdEQUVPLE9BR1Asa0JBQ0Esa0NBQ0EsbUNBQ0EsU0FDQSxnREFDTyxvQkFDRix1REFNTDs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxpR0FDQSwrREFDQSxvREFNQSx1Q0FFQSxRQUNBLGlDQUNBLFVBQ0EscUJBQ0EsOEVBQ0EsY0FDQSxnQkFDTyxDQUNQLFFBQ0EsYUFJQSxTQUNBLCtCQUNBLGdEQUVBLG9CQXNCQSxRQXJCQyxFQUFELEtBRUEsS0FDQSxtQkFDQSxjQUVBLGNBQ0EsK0JBQ0MsRUFBRCxhQUNBLHlDQUNBLDhCQUNBLE9BQ1csNENBRVgsOEJBQ0EsT0FEQSxLQUtBLE9BRUEsSUFBdUIsSUFBWSxJQUNuQyxLQUdBLHdDQUdBLGtCQUNBLHFIQU1BOzs7OzhCQUtBLGFBTUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSx3RkFFQSxHQURBLE9BQ0EscURBQ0EsNEVBQ0Esb0RBUUEsdUNBRUEsUUFDQSwyQkFDQSxPQUNBLE1BQ0EsWUFDQSxZQUVBLGlCQUNBLGlCQUNBLHNCQUNBLE9BQ0EsYUFFQSxNQUNBLHFCQUNBLFlBRUEsVUFDQSxjQUdBLGdCQUNBLE9BQ0EsaUJBR0EsVUFDQSw4QkFDQSwwRUFHQSxPQUNBLG9CQUNBLHVCQUdBLFNBQ0EsdUJBQ0Esc0NBQ0EsT0FDQSxVQUVPLGdCQUVQLHNCQUNBLHFJQUVBLHdCQUNBLHlDQUNBLE9BQ0EsK0JBRU8sNEJBQ1AsVUFDQSwrQkFFQSxvQkFHQSx3QkFDQSx1R0FHQSxtQkFDQSxnQkFDQSxrQ0FDQSxPQUNBLGdEQUVLLDZDQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0ZBRUEsR0FEQSxPQUNBLG1FQUNBLG9FQUNBLCtEQUNBLG9EQVFBLGlEQUVBLFFBQ0EsMkJBQ0EsT0FDQSxnQkFDQSxvQkFDQSxvQkFDQSxpQkFDQSx1QkFFQSxnQkFDQSxPQUNBLHlCQUdBLFVBQ0EscUJBQ0EsOEVBQ0EsZUFDQSxnQkFDTyxDQUNQLGFBSUEsbUJBQ0EsV0FFQSx1QkFDQSxnREFHQSxnQkFKQSxFQUlBLGtEQUNPLGNBQ1Asb0JBQ08sYUFDUCxFQUVBLDhDQUlBLFNBQ0EsNEJBQ0MsRUFBRCxLQUVBLHVCQUNBLDhCQUNBLDZCQUNBLHFEQUNBLE1BQ0EsT0FDQSxVQUVBLElBQ0EsaUJBQ0EsOEJBUEEsSUFZQSx3QkFNQSxRQUxDLEVBQUQsR0FDQSw4REFDQSx1Q0FDQSw0Q0FFQSxJQUE4QixLQUFpQixJQUMvQyw0QkFHQSxXQUdBLGtCQUNBLGlDQUNBLGtDQUNBLGFBQ0sseUJBTUw7Ozs7aUpBS0EsZ0JBRUEsYUFDQSxPQUNBLDJFQUNBLGdDQUFvRyxvQkFFcEcscUZBQ0EscUNBQXlHLG9CQUV6Ryx1RkFDQSxzQ0FBMEcsb0JBRTFHLDZGQUNBLHlDQUE2RyxvQkFFN0csK0ZBQ0EsMENBQThHLG9CQUU5RyxxRkFDQSxxQ0FBeUcsb0JBU3pHLFdBQ0EseUJBQ0Esc0JBQ0EsMkJBQ0EsNEJBQ0EsK0JBQ0EsZ0NBQ0EsOEJBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEseUZBRUEsR0FEQSxPQUNBLHNFQUNBLHVFQUNBLHVFQUNBLHVFQUNBLHNGQUNBLHVEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBR0EsZ0JBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQXFCQSwyREFFQSxRQUNBLFlBQ0EsaUJBRUEsT0FDQSxzQkFDQSxlQUNBLGlCQUNBLGdCQUNBLFFBQ0EsNkJBQ0EsbUJBQ0EsY0FHQSxZQUNBLG9DQUNBLG1CQUNBLGtCQUdBLFdBQ0EsV0FDQSxjQUNBLGlCQUNBLG1CQUNBLFdBQ0EsWUFDQSxhQUVBLHNCQUVBLGdCQUNBLE9BQ0EsaUJBR0EsVUFDQSw4QkFDQSx3RkFFQSwwQkFDQSx1Q0FFQSx5QkFDQSxzQ0FHQSxPQUNBLHdCQUNBLHVCQUdBLFNBQ0EsbUNBQ0EsVUFDQSxxQkFDQSxrQkFDQSxnQ0FDQSxvQkFDQSxtQkFDQSxvQ0FDQSx5QkFDTyxvQkFFUCxnQ0FDQSxXQURBLE9BR0MsS0FBRCxjQUhBLEVBSUEsQ0FDQSxpQkFDQSxtQ0FFQSx1QkFFQSxvQkFDQSxtQ0FJQSxnQ0FDQyxFQUFELHlEQUNBLHFCQUNBLG1CQUNBLDhDQUNBLGlDQUNBLHlDQUNBLG9CQUNBLHFDQUNBLE9BQ0EsZUFFQSxVQUNBLDRCQUVBLGlDQUNPLDRCQUNQLDhCQUNPLDZCQUVQLCtCQUtBLEVBSkMsRUFBRCxZQUNBLCtCQUZBLFNBUUEsMkJBQ0Esd0JBQ08sZ0NBQ1AscUJBQ08sY0FDUCx1QkFPTyxNQUVBLGlDQUNQLGtCQUNPLG1DQUNQLHNCQUNPLCtCQUNQLGdCQUVBLHNCQVJBLE1BV0Esb0JBQ0EsWUFkQSxJQWlCQSwwQkFDQyxFQUFELEtBRUEseUJBQ0EsMkNBQ0EsMkNBQ08sbUJBQ1AsMkRBQ08sTUFFUCxvQkFDQSxtQkFDQSw2Q0FFQSxvQkFDQSxzQ0FFQSw2QkFDQyxFQUFELEtBRUEsb0NBQ0EsT0FDQSwrQkFFTyw4QkFDUCxvQkFETyxLQWNQLGtDQUNBLGNBQ0EsU0FDQSwrQ0FDUyxtQkFDVCxvQ0FDQSxrQkFDQSwyQkFGQSxFQUtBLFlBckJBLENBQ0EsYUFDQSxPQUNBLGlCQUNBLG1DQUVBLGtCQUNBLHdDQWVPLE1BRVAsdUJBQ0EsOEJBQ0Esc0NBQ0EsUUFsTkEsV0FDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFNBNk1BLHVCQUNBLE9BQ0EsT0FFQSxrQkFFQSxpQ0FJQSwyQkFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw0REEyREEsVUE3QkEscUJBQ0EsUUFDQSxHQUNBLFFBQ0EsV0FJQSxrQkFDQSxNQXRDQSxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0FjQSxzQ0FDQSxPQUNBLE9BQ0EsT0FFQSwwRkFHQSxJQUNBLDJDQUNBLG1CQUNBLG1EQUVHLFNBQ0gscUNBQ0EsOENBREEsS0FVQTs7OztzRUFLQSxnQkFFQSxhQUNBLE9BQ0EsZ0hBQ0EsZ0RBQW9ILG9CQUVwSCxnRkFDQSxnQ0FBb0csb0JBRXBHLGdFQUNBLHdCQUE0RixxQkFTNUY7Ozs7Z0NBS0EsZ0JBRUEsYUFHQSxTQUFTLEVBQVQsU0FDQSxzREFIQSxPQUNBLDRCQUFpRyxhQU9qRzs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw0REFrQ0Esd0JBQ0EsTUFsQ0EsY0FDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFNBVUEsNkJBQ0EsT0FDQSxPQUhBLE9BS0MsSUFBRCxJQUNBLFVBQ0csU0FDSCxVQUVBLCtCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FtQkEsd0JBS0EsWUFKQyxJQUFELElBQ0EsS0FwQkEscUNBS0EsUUFMQSxJQUNBLEdBREEsVUFTQSxVQUVBLFdBQ0EseUJBR0EscUJBUUEsWUFLQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUVBLEdBREEsT0FDQSx1RUFDQSxvRUFDQSxzRUFDQSx3RUFDQSxzRUFDQSxvRUFDQSxzRUFDQSxvRkFDQSxzREFDQSxrRUFDQSxvREFDQSxzREFDQUEsRUFBQSxXQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQW1CQSwyRkFHQSxvQkFDQSxnQkFDQSxZQUNBLHdCQUVBLE9BQ0EsYUFDQSxpQkFDQSxtQkFDQSxjQUNBLFVBQ0EscUJBQ0EsZ0JBRUEseUJBQ0EsUUFDQSxZQUNBLHlCQUVBLG1CQUNBLGFBQ0EsYUFDQSxZQUVBLG1CQUNBLFlBQ0Esc0JBQ0EsNkJBRUEsT0FDQSxxQkFDQSxpQkFHQSxnQkFDQSxPQUNBLGlCQUNBLFdBQ0Esa0JBQ0Esc0JBQ0EscUJBR0EsVUFDQSxtQkFDQSxNQUVBLGNBQW9CLGlQQUFwQixHQUVBLDBCQUNBLE9BQ0EsdUJBQ0EsNENBR0Esd0JBQ0EsNERBR0EsT0FDQSx3QkFFQSxZQUNBLG9CQUVBLHFCQUNBLGdCQUdBLHVCQUNBLGdCQURBLEdBSUEsa0JBQ0EseUJBRUEsa0JBQ0Esc0JBSUEsbUJBRUEsMENBQ0Esc0NBR0EsdUJBQ0EsV0FFQSwyQkFDQSxzQkFDQSx5QkFHQSx5QkFDQSwyQ0FFQSxTQUNBLHdCQUNBLFdBRUEsZ0JBR0EsMkJBQ0EsYUFDQSxzQ0FDQSwrQ0FDQSxzQkFDUyxTQUdULDZCQUNBLGVBSUEsNEhBRUEsc0JBQ0EsZ0JBQ0EsNERBRUEsaURBR0EsZ0JBQ0EsV0FFQSxxREFDQSwyQkFDQSx3QkFFQSxhQUdBLGdCQUNBLG1EQUVBLGtCQUNBLHNEQUVBLDJCQUNBLDhCQUVBLGdCQUNBLDJDQUNPLHlDQUNQLG1CQUdBLHNCQUNBLGdFQUNBLG1CQU1VLEtBQUQsa0JBQ1Qsd0JBUEEsQ0FDQSxpQkFDQSwwQkFDQSwyQkFDQSx1QkFPQSx5QkFJQSxzQkFDQSx3QkFDQSxlQUVBLE9BQ0EsNENBQ0EsZ0NBQ0EseUNBQ0Esa0RBQ0Esd0JBRUEsQ0FFQSxzSEFDQSwyQkFJQSx1QkFDQyxFQUFELEdBQ0EsR0FDQSxtQkFDQSxhQUNBLGFBQ0EscUJBQ0EsMEJBQ0EsTUFDQSx1Q0FDQSx3Q0FFTyxDQUNQLFlBQ0Esc0JBRUEsSUFDQSxrQkFDQSxzQkFHQSxVQUdBLGtCQUNBLFNBQ0EsOEVBQ0EsdUVBSUEsNEJBQ0EsNkRBK0JBLE9BN0JDLEtBQUQsYUFDQSxrQkFDQSxPQUNBLHFCQUNBLHFCQUVPLE1BR1AsZ0JBQ0EsMEJBQ0EsU0FDQSxnQkFDQSxpQ0FDTyx3QkFDUCxJQUNBLHdCQUVBLE9BQ0EsMEJBRUEsZUFDSyxnQ0FDTCxPQUNBLFFBQ0EsaUJBQ0EsaUJBRUssUUFDTCxTQUNBLGtDQUNBLE9BQ0EsNEZBRUEsT0FDQSxnQkFOQSxPQWNBOzs7O3lDQUtBLGdCQUVBLGFBQ0EsT0FDQSwrREFDQSw0QkFBZ0csb0JBSWhHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUVBRUEsR0FEQSxPQUNBLG1FQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBT0EsNEJBQ0EsaUJBQ0EsT0FDQSxjQUNBLGtCQUVBLG1CQUVBLE1BTUEsT0FKQyxLQUFELDhDQUNBLHlDQUdBLFFBQ0EsU0FDQSxlQUNBLDhCQUNBLHFDQUNPLG1CQUNQLFNBQ0EsaUJBQ0Esc0JBQ08sYUFDUCx5QkFPQTs7OzswQ0FLQSxnQkFFQSxhQUNBLE9BQ0Esa0VBQ0EsNkJBQWlHLG9CQUlqRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLG9FQUNBLHdFQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBU0Esa0pBRUEsUUFDQSx5QkFDQSxPQUNBLGlCQUNBLGtCQUVBLGdCQUNBLE9BQ0EsYUFDQSxZQUNBLGtCQUdBLFVBQ0EsbUJBQ0EsVUFDQSwwQ0FDQSxtREFDQSwrQ0FDTyxvQkFFUCxzQkFDQSxxREFFQSxzQkFDQSxzREFHQSxTQUNBLDRCQUNBLGdCQUVBLDZCQUNBLG1CQUVBLDJCQUNBLGNBQ0EsNkJBRUEsNEJBQ0Esa0JBRUEsb0JBQ0EsaUNBQ0Esc0JBQ0EsaURBRUEsa0JBQ0EsV0FJQSx5Q0FDQSwyQkFDQSw4QkFJQSxtQkFDQSxnQkFDQSxnQ0FDQSxtQkFDQSxPQUNBLG1DQUVLLDZCQU1MOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUNBLGtFQUNBLHdFQUNBLHNEQUNBLG9EQVFBLGtIQUdBLDZCQUNBLGlDQUNBLFVBQ0Esb0JBQ0Esc0NBR0EsbUJBQ0EsMkNBRUEseUJBQ0EseUNBRUEsbUJBQ0EsdUNBQ0Esd0NBQ0EsYUFDQSxZQUNBLHVCQUVLLCtCQUNMLHlDQUNLLGtDQU1MOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUNBLHNEQUNBLHdFQUNBLHNFQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBYUEsdUdBQ0EsNkJBQ0EsZ0NBQ0EsWUFDQSxrQkFFQSxPQUNBLDBCQUNBLFlBQ0EsWUFDQSxtQkFFQSxvQkFDQSxRQUNBLHNCQUNBLGFBR0EsZ0JBQ0EsT0FDQSxrQkFHQSxVQUNBLG1CQUNBLE9BQ0EsaURBQ0EsMERBR0Esb0JBQ0EscUNBRUEsc0JBQ0EsdUNBRUEsc0JBQ0Esd0NBR0EsbUJBQ0EsMENBRUEseUJBQ0Esd0NBRUEsU0FDQSxvQkFDQSx1QkFFQSxtQkFDQSwwRkFDQSx5RUFDQSw2Q0FDQSxPQUNBLHlFQUVBLGFBQ0EsWUFDQSwwQkFQQSxPQVlBLG1CQUNBLFdBRUEsbUJBQ0EsdUNBQ0EsbUJBQ0EsT0FDQSxpQ0FDQSxlQUVBLGFBQ0EsY0FDQSxvQkFFQSxRQUFxQixpQkFDckIsbUJBQ0EscUJBQ0EsMEJBRUEsbUJBQ0EsNkJBR0ssbUNBQ0wscUJBREssR0FFQSx1Q0FNTDs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwwRkFFQSxHQURBLE9BQ0EsK0VBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFXQSxrQ0FDQSwwQkFDQSxtQkFDQSxPQUNBLHVCQUdBLE9BQ0Esa0JBQ0EsaUJBQ0Esa0JBQ0EsY0FDQSxlQUNBLGtCQUVBLFVBQ0EsbUJBQ0EsWUFBd0IscURBQ3hCLHdCQUNBLCtDQUNBLCtDQUNBLHVDQUNBLDZDQUlBLG1CQUVBLHNDQUNBLDZDQUtBLGlGQUNBLDJFQUdBLFNBQ0EsNkJBQ0MsRUFBRCxtQkFDQSx1QkFDQSxnQ0FDQSx5Q0FPQTs7OztrSEFLQSxnQkFFQSxhQUNBLE9BQ0EseUZBQ0EscUNBQXlHLG9CQUV6Ryx1RkFDQSxvQ0FBd0csb0JBRXhHLHFHQUNBLDJDQUErRyxvQkFFL0csbUdBQ0EsMENBQThHLG9CQU85RyxXQUNBLHlCQUNBLDJCQUNBLDBCQUNBLGdDQUNBLG9DQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFRQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FQeFUsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSwrREFDQSxzREFDQSxzREFDQSxzREFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQUdBLGdCQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsVUFvQkEsNEJBQ0Esb0JBQ0EsT0FDQSxhQUNBLGdCQUVBLE9BQ0EsY0FDQSxXQUNBLGFBQ0EsWUFFQSxtQkFDQSxZQUNBLDBDQUVBLGVBQ0EsWUFDQSxzQ0FFQSxtQkFDQSxhQUNBLFlBQ0EsaUJBRUEsVUFDQSxhQUNBLFlBRUEsVUFDQSxzQkFDQSxXQUNBLHNCQUNBLG9EQUdBLG1CQUNBLGdCQUNBLHFCQUNBLFlBRUEsTUFDQSxZQUNBLGdCQUVBLE9BQ0EsbUJBQ0EsVUFFQSxzQkFDQSwyQ0FJQSxVQUNBLG1CQUNBLFlBQXdCLCtDQUN4QixxQkFHQSx3QkFDQSwrRkFDQSxvRUFDQSxvREFDQSxrQkFDTyxHQUNQLDJHQUVBLDhCQUNBLHVHQUVBLGVBQ0EsZUFDQSx1QkFFQSxnQkFDQSxpQkFDQSxzQ0FHQSxtQkFDQSx5Q0FFQSx5QkFDQSxxQkFFQSxzQkFDQSwrQ0FFQSxnQkFDQSxXQURBLE9BR0MsS0FBRCxRQUNBLHlDQUNBLDZCQUVBLHdGQUpBLG9CQU9BLGdCQUNBLDREQUVBLG9CQUNBLHFDQUdBLE9BQ0EsVUFDQSxxQkFDQSxtRkFFQSxjQUVBLGtCQUNBLGlDQUVBLGdEQU1BLDZCQUlBLFNBQ0EsNkJBQ0EsMkNBQ0EsMkJBRUEsb0JBQ0EsV0FEQSxPQUdDLEtBQUQsUUFDQSw2QkFDQSxpQ0FDQSxPQUNBLG9CQUVBLElBQ0EseUJBQ0Esc0JBQ0EsY0FDQSxxQkFHUyxRQWJULElBZ0JBLG9CQUNBLG9EQVdBLGNBUEEsNkJBS0EsZ0JBQ0EsOEJBQ0EsMEJBRUEsMEJBQ0EsV0FFQSxpQ0FDQSx5Q0FDQSx5QkFFQSw0Q0FFQSw0QkFDQSx1QkFEQSxPQUVDLEVBQUQsWUFDQSxpREFDQSw4Q0FFQSw2QkFDQyxFQUFELEtBRUEsS0FlQSxPQWJDLEtBQUQscUNBQ0EsK0NBQ0EsMEJBQ0EsaUNBQ0EsZUFDQSxPQUNBLGNBSUEsNEVBR0EsMkJBQ0EsaUNBQ0EsT0FDQSxrRUFDQSx5RUFFQSxJQUNBLGlCQUNBLGdDQVJBLElBYUEsb0JBQ0EsTUFwT0EsV0FDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFNBK05BLHFCQUVBLDBDQUlBLHNDQUVBLHNCQUNBLHlCQUVBLHlCQUNBLDBDQUNBLG9DQUNBLGlEQU9BOzs7OzRDQUtBLGdCQUVBLGFBQ0EsT0FDQSx3RUFDQSwrQkFBbUcsb0JBSW5HLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsa0VBRUEsR0FEQSxPQUNBLCtFQUNBLGdFQUNBLDBFQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBY0Esd0dBQ0EsZ0JBQ0EsT0FDQSxRQUNBLGVBQ0Esc0JBRUEsY0FDQSxnQkFDQSxNQUNBLGFBQ0EsYUFHQSxVQUNBLCtCQUNBLDBDQUVBLG1CQUNBLFlBQXdCLCtDQUN4QixtQ0FDQSx5REFDQSxpQ0FDQSxnQ0FHQSxpQ0FDQyxLQUFELGFBQ0EsaURBRkEsR0FJQSwrQkFDQyxLQUFELGFBQ0EsMkRBRkEsR0FJQSxnQ0FDQyxLQUFELGFBQ0EsNERBRkEsR0FJQSx3QkFDQSwrQ0FFQSxrQkFDQSw0QkFDQSxZQUF3Qiw4Q0FDeEIsNkNBQ0EsZ0RBQ0Esa0RBQ0Esd0RBSUEsU0FDQSw2QkFDQSw0QkFDQSxxREFHQSxtQkFNQSxrQkFMQSxvQ0FDQSx1QkFDQSxtQkFDQSxvQkFFQSx5QkFNQTs7Ozt5Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUloRyxxQkFJQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvREFDQSx3RUFDQSx3RUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVNBLGlFQUVBLFFBQ0EsY0FDQSxnQkFDQSxPQUNBLHVCQUNBLGVBRUEsZ0JBQ0EsT0FDQSxVQUNBLFlBQ0EsY0FHQSxPQUNBLFVBQ0Esb0JBQ0Esb0NBQ0Esd0JBRUEsUUFDQSxlQUdBLFNBQ0EsMkJBQ0MsRUFBRCxLQUVBLGNBQ0Esd0NBQ0EsOEJBQ1MsQ0FDVCxnQkFJQSxHQUNBLFlBQ0EsbUJBQ0EsNkJBZUEsT0FaQyxLQUFELGVBRUEseURBQ0EsR0FFQSxvQ0FDQSxpQkFHQSxhQUdBLEdBSUEsb0JBQ0EsT0FFTyxJQUZQLGdDQUNBLHlCQUNPLFFBSVAsaUJBQ0EsaUNBQ0Esb0JBRUEsc0JBRUEseUJBQ0EsV0FFQSxxQkFFQSx1QkFDQSxnQkFDUyxJQUtULDJCQUNBLGlDQUNBLDhCQUVBLHNCQUVBLHFCQUNBLG9CQUNBLHdDQUVBLHVCQUNBLG9DQUNBLDBCQUVBLE1BQ0Esc0NBQ0EsMEJBRkEsSUFNQSxVQUNBLG9CQUdBLGdEQUNBLDBCQUVBLDRDQUNBLDBCQUVBLHNDQUdBLG1CQUNBLFdBRUEsaUJBQ0EscUJBQ0EsU0FDQSxlQUNPLGFBQ1AsSUFDQSxtQkFDQSw4QkFHSyx5QkFNTDs7Ozt1Q0FLQSxnQkFFQSxhQUNBLE9BQ0EseURBQ0EsMEJBQThGLG9CQUk5RixxQkFJQTs7OztnQ0FLQSxnQkFFQSxhQW1FQSxTQUFTLEVBQVQsT0FDQSxRQUVBLG9CQUlBLEtBRUEsT0FEQSxnQkFMQSxNQVlBLDJCQU1BLFVBQ0EsY0FMQSxpQkFuRkEsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSxvQkFDQSxTQUNBLDBEQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBUUEsd0JBRUEsRUFDQSx3QkFLQSxPQUpDLEVBQUQsSUFDQSw2QkFDQSxZQUVBLElBQ0csSUFHSCxFQUNBLHdCQUtBLE9BSkMsRUFBRCxtQ0FDQSxxQkFDQSxjQUVBLElBQ0csSUFHSCxFQUNBLHdCQUtBLE9BSkMsRUFBRCxrQ0FDQSxxQkFDQSxjQUVBLElBQ0csSUFHSCxHQUNBLG1CQUNBLHNCQUNBLHNCQTRCQSxVQUNBLHNCQUNBLGFBQ0EsY0FDQSxTQUNBLE1BQ0EsNkJBQ0EsYUFIQSxFQUtHLENBQ0gsUUFDQSxxQkFDQSxlQVJBLEVBVUcsQ0FDSCxPQUNBLHFCQUNBLGVBYkEsRUFlRyxDQUNILFdBQ0EsWUFDQSxhQUNBLHNCQUNBLHlFQUdBLGFBQ0EsWUFDQSxhQUNBLHNCQUNBLHlFQUdBLEtBQ0EsWUFDQSxpQkFHQSx5QkFDQSxFQUVDLEVBQUQsUUFDQSxTQUNBLGFBR0EsR0FGQSxTQUVBLElBRUEsZUFDQSxXQUdBLGVBRUEsT0FLQSxhQUpBLEtBSUEsRUFDQSw4QkFDQyxFQUFELEtBQ0EsV0FGQSxHQUdBLGFBSUEsMEJBQ0EsK0JBRUEsWUFFQSxrQkFDTyx5S0FIUCxJQUlBLFdBR0Esb0NBQ0EsVUFEQSxPQVFBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSwyREFFQSxHQURBLE9BQ0Esa0RBQ0EsMERBT0EsaURBQ0EsbUJBQ0EsY0FDQSxPQUNBLFVBQ0EsS0FDQSxZQUNBLGVBRUEsT0FDQSxhQUNBLGFBR0EseUJBSUEsRUFIQyxFQUFELFFBQ0EsU0FDQSxhQUVBLFVBMEJBLFdBdEJBLFdBQ0EscUNBR0EsdUJBQ0EsV0FKQSxPQU9DLEVBQUQscUJBQ0EsY0FSQSxHQVlBLDBCQUlBLE9BQ0EsMEJBQ0Esb0JBR0EsNkJBQ0Esd0JBQ0EsUUFDQSw2QkFDTyxnQkFKUCxPQVdBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSxrREFHQSxxQ0FJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSxrREFHQSx1Q0FJQTs7OztnQ0FLQSxnQkFFQSxhQW1FQSxTQUFTLEVBQVQsS0FDQSwrQkFFQSxPQURDLEVBQUQsK0JBQ0EsSUFDRyxJQWlESCxTQUFTLEVBQVQsT0FDQSxXQUVBLFlBSUEsS0FHQSxPQURBLGdCQU1BLE9BREMsR0FBRCxPQUNBLGVBdElBLE9BSEEsSUFJQSw0REFFQSxHQURBLE9BQ0Esb0JBQ0EsU0FDQSwwREFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQUdBLGdCQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsVUFHQSxhQUNBLGlCQUEwQixtQkFBc0IsSUFDaEQsNEJBR0EsVUFRQSx3QkFDQSwyQkFTQSxjQUNBLGdEQUdBQSxFQUFBLHNCQUNBLE9BQ0EsWUFDQSxhQUNBLGdCQUlBLGNBQ0EsMERBR0EsMEJBQ0EsT0FDQSxZQUNBLGFBQ0EsZ0JBSUEsY0FDQSxvRUFHQSwrQkFDQSxPQUNBLFlBQ0EsYUFDQSxnQkFHQSxHQUNBLHFCQUNBLHVCQUNBLDZCQUVBLEdBQ0EsY0FDQSxrQkFDQSw4QkFxQkEsVUFDQSxzQkFDQSxhQUNBLGNBQ0EsU0FDQSxLQUNBLFlBQ0EsZUFFQSxjQUNBLGtCQUNBLE9BQ0EsWUFDQSxhQUNBLGNBVkEsRUFZRyxDQUNILFNBQ0EsWUFDQSxhQUNBLGNBaEJBLEVBa0JHLENBQ0gsY0FDQSxZQUNBLGFBQ0EsY0F0QkEsR0F5QkEseUJBQ0EsRUFFQyxFQUFELFFBQ0EsU0FDQSxhQUVBLEtBRUEsZUFDQSxXQUdBLGVBRUEsT0FLQSxhQUpBLEtBSUEsRUFDQSw4QkFDQyxFQUFELEtBQ0EsV0FGQSxHQUdBLGFBSUEsWUFDQSx5QkFDQSx1QkFDTyw4R0FIUCxJQUlBLFdBR0Esb0NBQ0Esa0JBQ0EsVUFGQSxPQVNBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSxxREFHQSx1RUFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBT0EsU0FBUyxFQUFULEdBRUEsbUJBQ0EsWUFDQSxjQUNBLE9BQ0EsVUFDQSxLQUNBLFlBQ0EsZ0JBR0EscUJBQ0EsY0FDQSxTQUNBLGFBQ0EsaURBQ0EsY0FFQSxNQUVBLFdBQ0EseUNBR0EsdUJBQ0EsV0FKQSxPQU9DLEVBQUQscUJBQ0EsY0FSQSxHQVlBLHlCQUVBLDJDQVFBLE9BTEMsRUFBRCxLQUNBLDBCQUNBLG9CQUdBLGdCQWxEQSxPQUNBLDRCQUFpRyxZQUpqRyxJQUtBLHFCQUNBLFVBc0RBOzs7O2lGQUtBLGdCQUVBLGFBQ0EsT0FDQSxtRUFDQSwrQkFBbUcsb0JBRW5HLHVEQUNBLHlCQUE2RixvQkFFN0YsdURBQ0EseUJBQTZGLG9CQUU3Riw2REFDQSw0QkFBZ0csb0JBRWhHLDZEQUNBLDRCQUFnRyxvQkFFaEcseURBQ0EsMEJBQThGLG9CQVM5RixXQUNBLHlCQUNBLHFCQUNBLGVBQ0EsZUFDQSxrQkFDQSxrQkFDQSxtQkFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvRUFDQSxzRUFDQSxvREFDQSxzREFPQSxpREFFQSxRQUNBLGVBQ0EsT0FDQSxVQUNBLGFBQ0EsWUFFQSxPQUNBLGFBQ0EsaUJBR0EsU0FDQSx3QkFDQSx1QkFFQSx3QkFDQSx5QkFHQSxrQkFDQSx1REFRQSw0QkFDQSw2QkFDQSx1QkFJQSxpQ0FDQSxRQUdBLDZCQUtBLGdCQUNBLGtCQUVBLGdCQUNBLDZCQUNBLGdDQTdCQSxJQW9CQSwyRUFwQkEsS0FFQyxPQUFELGNBQUMsQ0FBRCwrREFDQSxNQUdBLFVBaUNBOzs7O3dDQUtBLGdCQUVBLGFBQ0EsT0FDQSw0REFDQSwyQkFBK0Ysb0JBSS9GLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBeUNBLEVBckNBLDREQUVBLEdBREEsT0FDQSx1RUFDQSxvRUFDQSxrRUFDQSxvRUFDQSxzREFDQSxxQkFDQSxTQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0Esd0JBZ0JBLFlBQ0EsZ0JBQ0EsZUFDQSxpQkFDQSxnQkFDQSxlQUNBLGdCQU5BLENBT0MsV0FZRCxJQUFJLEVBQUosMkRBRUEsUUFDQSxjQUNBLE9BQ0EsY0FDQSxpQkFDQSxhQUNBLGNBQ0EscUJBQ0EsS0FDQSxZQUNBLFlBQ0EsY0FHQSxVQUNBLGtCQUNBLFdBR0EsU0FDQSxtQkFDQSxTQUVBLE9BREMsS0FBRCx1REFDQSxxQ0FFQSx1QkFDQyxFQUFELENBQ0EsbUJBQ0EsaUJBQ0EsbUJBQ0EsaUJBQ0Esb0JBRUEsc0NBQ0EsZUFFQSxvREFHQSw4QkFDQyxLQUFELG1EQWdCQSxNQWZBLENBQ0EsaUNBQ0EsT0FDQSxpQ0FDQSx5QkFDQSxpQkFDQSwyQkFDQSw0QkFFQSxTQUNBLGlCQUNBLHNCQUNTLGFBQ1QscUJBSUEsd0JBQ0EsYUFBOEIsMkJBQzlCLGlDQUVBLGlDQUNDLEVBQUQsR0FDQSx3QkFDQSxtQkFHQSxpQkFDQSxRQVBBLEVBV0EsVUFyRkEsWUFDQSxrREFDQSx3QkFzRkEsQ0FEQSxrQkFDQSxNQUdBLGNBQ0EsY0FDQSxxQkFLQSxXQUpBLFNBQ0EsYUFFQSxvQkFDQSxpQkFFQSw0QkFDQSw0QkFDQSwwQkFDQSxTQUNBLG1DQUNBLG9CQUNBLFlBQ0EsV0FDQSxXQUNBLHlDQUNBLHdDQUVBLHFCQWFBLFdBVkEsU0FDQSxXQUNBLFNBQ0EsU0FFQSxpQkFDQSxpQkFHQSxvQkFDQSxxQkFDQSxPQUNBLFVBSUEscUNBQ0EsNEJBQ0EsbUNBQ0EscUJBSEEsSUFNQSxTQUNBLFdBQ0EsV0FJQSxvQkFDQSxrQkFHQSxPQUZDLEVBQUQsY0FDQSxnQkFDQSxTQUdBLG1CQUNBLHFCQURBLE1BR0EsbUJBbkpBLFlBQ0EsdUZBbUpBLElBQ0Esd0JBR0EseUJBR0Esb0NBR0Esc0JBQ0EsY0FDQSxlQUNBLGNBQ0EseUJBQ0MsRUFBRCxPQUNBLGFBQ0EsS0FVQSxPQVJDLEVBQUQsV0FDQSx5REFHQSw4QkFDQSxzQkFHQSxtQkFNQTs7Ozt1Q0FLQSxnQkFFQSxhQUNBLE9BQ0EseURBQ0EsMEJBQThGLG9CQUk5RixxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHlEQUVBLEdBREEsT0FDQSwyRUFDQSxrRUFDQSxzREFXQSw0QkFDQSxhQUNBLFlBQ0EscUJBRUEsT0FDQSxXQUNBLGdCQUNBLGNBQ0EsZ0JBQ0EsZUFDQSxTQUNBLFlBR0EsbUJBQ0EsT0FDQSxZQUNBLGtCQUNBLG9CQUlBLFVBQ0EsWUFDQSx5QkFFQSxhQUNBLEtBQ0EscUJBQ0EsWUFFQSxjQUNBLFlBQ0Esc0JBQ0EsNEJBR0EsZ0JBQ0EsT0FDQSxjQUNBLFdBQ0EsYUFDQSw2QkFDQSxzQkFHQSxVQUNBLCtCQUNBLGdFQUVBLHdCQUNBLG1FQUVBLHlCQUNBLGlDQUNBLGFBQ0EsbUJBQ0EscUJBQ0EsMEJBQ08sQ0FDUCxpQkFDQSxvQ0FDQSx1Q0FDQSw4Q0FHQSx5QkFDQSxpRUFEQSxJQUVDLEVBQUQsR0FDQSw0REFDQSw0REFKQSxHQUtBLHVCQUNBLGlDQUNBLDZCQUNBLE9BQ0EseUNBQ0EsdUNBQ0EsdUNBRUEsT0FDQSw2QkFDQSxrQ0FFQSxzQkFqQkEsT0FxQkMsS0FBRCxXQUNBLGtDQUNBLE9BQ0EscUJBQ0EsZ0JBRU8sS0EzQlAsSUE4QkEsT0FDQSxlQUVBLGVBQWlFLGlCQUFqRSw2QkFFQSxzQ0FFQSxtQkFDQSxhQUVBLFNBQ0EscUJBSUEsc0NBRUEsK0JBQ0EsZ0JBQ0EsaUNBQ0EseUJBS0EsMkNBRUEsa0JBQ0EsY0FDQSxrQkFDQSw2QkFFQSxtQkFDQSxpRkFDQSw4QkFFQSxrQkFFQSxxRUFFQSx5QkFDQyxFQUFELEtBRUEsWUFDQSxhQUVBLG9CQUVBLFNBQ0EsOEJBQ0EseUpBQ1csZUFFWCxZQUlBLHVCQUNBLDZCQUNBLGlDQUNBLGdFQUNBLHNDQUNBLGVBRUEsMEJBQ0EsZ0JBRUEsUUFDQSxRQUdBLGFBQ0Esc0JBQ0EsaUJBRUEsTUFDQSxpQkFDQSw2QkFFQSx5QkFJQSxJQUVBLHNCQUNBLHNEQVVBLE9BUkMsS0FBRCxjQUNBLHNCQUNBLE9BQ0EsZ0NBS0EsR0FFQSw0QkFDQSw0QkFDQSxpREFDQSxvQ0FDUyw2QkFIVCxPQUlDLEtBQUQsV0FDQSxrQ0FDQSxPQUNBLFVBQ0EsdUJBSEEsR0FEQSxRQVVBLG1CQUNBLDRDQWlCQSxPQWhCQyxFQUFELDZCQUdBLHNDQUNBLGlCQUNBLHFCQUNBLFdBQ0EsU0FFQSxrQkFDSyxHQUNMLGNBQ0EsMkJBQ0EsdUJBRUEsNkZBQ0EsK0JBTUE7Ozs7c0NBS0EsZ0JBRUEsYUFDQSxPQUNBLHNEQUNBLHlCQUE2RixvQkFJN0YscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwrREFFQSxHQURBLE9BQ0EscURBQ0Esd0RBQ0EsOERBQ0Esd0VBQ0Esd0VBQ0Esc0RBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFlQSx5Q0FHQSw2QkFDQSxlQUNBLGdCQUNBLE9BQ0Esa0JBQ0EsaUJBQ0EsWUFDQSxZQUVBLGNBQ0EsdUJBQ0Esb0JBQ0EsWUFDQSxVQUNBLGFBQ0EsZ0JBQ0EsdUJBQ0EsbUJBQ0EsWUFFQSxnQkFDQSxPQUNBLHFCQUNBLGtCQUdBLFVBQ0EsbUJBQ0EsVUFDQSxtQ0FDQSx5Q0FDQSw4Q0FDQSxpQ0FDQSxxQ0FDQSxxQ0FDQSwrREFDQSxxQ0FDQSw2QkFDTyxvQkFFUCxzQkFDQSxvQ0FFQSxtQkFDQSw2RUFFQSxvQkFDQSwwQ0FNQSxlQUNBLGVBQ0EsdUJBRUEsZ0JBQ0EsaUJBQ0Esa0NBR0EsbUJBQ0Esd0JBRUEsc0JBQ0EscUNBRUEseUJBQ0Esc0JBR0EsT0FDQSxrQkFDQSxtQkFHQSx3QkFHQSwyRUFFQSxTQUNBLHNCQUNBLHNFQUVBLHNCQUNBLGtDQUNBLGdDQUNPLDJDQUVQLDBCQUNBLDZDQUVBLDBCQUNDLEVBQUQsS0FFQSxpQkFDQSxrQ0FDQSxHQUNBLE9BQ0EsMkJBQ0EsZUFDQSx1QkFDQSxrQkFFQSwwQkFDQSxrQkFDQSxtQkFDQSxvQkFFQSxhQUVBLFNBSUEsb0JBQ0EsbUJBQ0EsMkJBYkEsR0FpQkEsa0NBQ0EsbUVBQ0EsU0FDTyx1Q0FFUCx3QkFDQSwrRUFDQSw0QkFDQSxPQUNBLDZDQUVBLElBQ0EsbUJBQ0EsMkJBQ0Esd0JBRUEsbUJBQ08sMEJBRVAsMkJBQ0MsS0FBRCxTQUNBLCtCQUNBLE9BQ0EsMkJBQ0EsZUFDQSxzQkFDQSxvQkFDQSxtQkFFTywrQkFUUCxNQVdBLHVCQUNBLFdBRUEsZ0NBQ0EsZ0RBQ0Esc0NBQ0EsT0FDQSwyQ0FDQSxlQUNBLGlCQUNBLDJDQUVBLE9BQ0Esb0NBRUEsYUFDQSxvQkFDQSw2Q0FLQSx3QkFDQSx5QkFDQSxjQUNBLGtDQUNBLDBCQUNBLE9BRkEsSUFLQSwwQkFDQSxTQVFBLE9BTkMsS0FBRCxlQUNBLDRCQUNPLGtCQUNQLGdDQUdBLG1DQUVBLHlCQUNBLFNBV0EsT0FOQyxLQUFELGNBQ0EsMkJBQ08saUJBQ1AsK0JBR0Esa0NBRUEsb0JBQ0EsdUJBRUEsd0JBQ0EscUJBQ0EsMkJBRUEsc0JBQ0EscUJBQ0EsMEJBR0EsbUJBQ0EsdURBQ0Esc0JBQ0EscUJBQ0ssdUJBTUw7Ozs7d0NBS0EsZ0JBRUEsYUFDQSxPQUNBLDREQUNBLDJCQUErRixvQkFJL0YscUJBSUE7Ozs7MENBS0EsZ0JBRUEsYUFDQSxPQUNBLDZCQUFrRyxZQUpsRyxJQUtBLG9FQUNBLG9EQUNBLHNEQUNBLHFCQVdBLEVBVkEsT0FVQSxVQUNBLE9BQ0EsbUJBQ0EsT0FDQSxjQUdBLGdCQUNBLE9BQ0EsY0FHQSxTQUNBLGtCQUNBLCtCQUdBLGtCQUNBLE1BT0EsRUFMQSxrQ0FRQSw0QkFDQSw2QkFDQSxxQkFDQSxzQkFJQSxpQ0FDQSxRQUdBLDZCQUtBLDBCQUE2QyxPQUM3QyxZQUFxQixrQ0FBckIsS0E1QkEsSUF1QkEsMEVBdkJBLEtBSUMsT0FBRCxjQUFDLENBQUQsK0NBQ0EsU0E0QkEsOEZBQ0EsaUJBS0E7Ozs7OEJBS0EsYUFNQTs7OzsrQ0FLQSxnQkFFQSxhQUNBLE9BQ0Esa0NBQXVHLFlBSnZHLElBS0EsMkVBRUEsR0FEQSxPQUNBLG1FQUNBLG9FQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBVUEsaURBQ0EsdUJBQ0EsT0FDQSxhQUNBLFlBQ0EsMEJBRUEsa0JBQ0EsS0FDQSxxQkFDQSxjQUVBLGtCQUVBLGdCQUNBLE9BSUEseUVBQ0EsV0FHQSxVQUNBLG1CQUNBLFVBQ0EsbUJBQ08sb0JBRVAseUJBQ0EscUVBRUEsK0JBQ0MsS0FBRCxjQURBLEVBRUEsdUJBRUEseUJBQ0EsV0FFQSx3Q0FDQSwyQ0FHQSxpQ0FDQyxNQUFELHNCQUNBLDJFQUVBLHdCQUNBLFdBRUEsa0JBQ0EsbUJBQ0EsNEJBSUEseUJBVEEsT0FXQyxNQUFELFdBQ0EsWUFDQSxzQkFJQSxXQUNBLFlBSUEsT0FDQSx5QkFFQSx3Q0FHQSxtQkFDQSxtREFDQSxpR0FHQSxTQUNBLG1CQUNBLE9BQ0EscUJBR0EsdUJBQ0EsOENBRUEsb0JBQ0Esa0VBRUEseUJBQ0MsRUFBRCxLQUVBLHVCQUNBLDJCQUNBLHVCQUlBLDhDQUNBLHVCQUdBLHNCQUVBLHVCQUNBLDJCQUNDLEVBQUQsc0JBQ0EscUJBRkEsT0FHQSx1QkFHQyxFQUZELG9DQUpBLEVBUUEsZ0JBTUEsbUJBREEsaURBQ0EsdUNBQ0EscUJBZkEsUUF5QkEsMkJBQ0EsMkJBakJBLDhCQW9CQSx5QkFDQSx5QkFDQSxpQ0FFQSxtQ0FDQyxLQUFELHNDQUNBLDRCQU1DLEtBQUQsZ0NBRUEsZ0NBQ0EsMkRBRUEsNEJBQ0Esc0JBQ0EseUJBREEsR0FFQSxZQUNBLDBCQUNBLHFCQUlBLE1BQ0EsNEJBQ0EsZ0RBRUEsK0JBRUEsR0FEQSx5REFDQSxRQUNBLDJCQUNBLGdCQUVBLGlCQUNBLEtBQ0EsY0FFQSxnQkFDQSxLQUNBLHVCQUNBLDRCQUNBLHVCQUVBLHlCQUNBLDZCQUNBLG9CQUNBLGlDQUdBLG1CQUNBLHNEQUdBLG9CQUNBLG9CQUNBLG1CQUNBLE9BQ0Esb0JBT0E7Ozs7bURBS0EsZ0JBRUEsYUFDQSxPQUNBLDhEQUNBLDBCQUE4RixvQkFFOUYsd0VBQ0EsK0JBQW1HLG9CQUtuRyxXQUNBLHlCQUNBLGdCQUNBLHdCQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsK0RBRUEsR0FEQSxPQUNBLG1FQUNBLG9FQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBYUEsK0NBQ0EsZUFDQSxjQUNBLE9BQ0EsaUJBQ0EsT0FDQSxZQUNBLG1CQUVBLGlCQUNBLGdCQUNBLFdBQ0EsTUFDQSxxQkFDQSxXQUVBLE9BQ0EscUJBQ0EsZ0JBRUEsZUFFQSx5QkFDQyxFQUFELFdBQ0EsY0FDQSxVQUNBLEdBQ0Esc0JBQ0EsU0FDQSwwQkFDQSxtQ0FDTyxxQ0FDUCxPQUNBLFVBQ0Esc0JBRUEsS0FDQSxPQUNBLHFDQUNBLHVDQUNBLDJDQUVBLGFBRUEscUZBTUE7Ozs7d0NBS0EsZ0JBRUEsYUFDQSxPQUNBLDREQUNBLDJCQUErRixvQkFJL0YscUJBSUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsc0VBQ0EsNEVBQ0Esb0RBQ0Esc0RBUUEsK0NBQ0EsYUFDQSxZQUNBLHFCQUVBLE9BQ0EsMEJBQ0EsU0FDQSxZQUdBLG1CQUNBLE9BQ0EsWUFDQSxrQkFDQSxvQkFJQSxZQUNBLFlBQ0EsNEJBR0EsVUFDQSxrQkFDQSxPQUNBLDZGQUlBLFNBQ0Esc0JBQ0EsOEJBR0EsNkJBQ0EsU0FFQSxPQURDLEtBQUQsb0JBQ0Esa0NBQ0EsT0FDQSx1QkFGQSxJQU1BLDBCQUNBLGdCQUNBLG1CQUdBLG1CQUNBLGdCQUNBLHFCQUNBLGtCQUNBLGFBQ0EsaUJBQ0EsT0FDQSx1QkFDQSx3QkFHQSxtQkFDQSxtQkFDSyx5QkFNTDs7Ozt1Q0FLQSxnQkFFQSxhQUNBLE9BQ0EseURBQ0EsMEJBQThGLG9CQUk5RixxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDREQUVBLEdBREEsT0FDQSwrREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQXdCQSxxQ0FDQSxjQUNBLG1CQUNBLE9BQ0EsWUFDQSxZQUdBLFFBQ0EsVUFDQSxZQUVBLFNBQ0EsYUFHQSxPQUNBLGNBQ0EsaUJBQ0EsZUFDQSxhQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxrQkFDQSxrQkFDQSxNQUNBLGFBQ0EsWUFFQSxpQkFFQSxnQkFDQSxPQUNBLFlBR0EsVUFDQSxtQkFDQSxZQUF3QiwrQ0FDeEIsMkJBQ0EsaUNBQ0EseUJBQ0EsdUJBQ0EsK0JBQ0EsNkJBQ0EsbUNBQ0EsZ0NBQ0Esd0NBSUEsU0FDQSxxQkFDQSxxQkFFQSx1QkFDQSx5Q0FDQSwyQkFFQSw4QkFFQSxzQkFDQSxRQUVBLGdCQUVBLElBQ0EsVUF6RkEsWUFDQSxvREFDQSxJQUZBLFNBR0EsVUFDQSxDQUNBLGdCQUVBLE9BREMsR0FBRCx3QkFDQSxDQUNBLGdCQUNBLFdBZ0ZBLDBCQUE0RCxPQUFVLFdBQ3RFLFFBQ0EsVUFFTyxTQUNQLEdBQ0EsU0FQQSxRQVVBLElBQ0Esb0NBREEsUUFHQSx1QkFLQSxtQkFDQSxPQUNBLHFCQUNBLG1CQUNBLGtCQUNBLFNBQ0EsZ0RBQ08sY0FFUCxnRkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHNFQUVBLEdBREEsT0FDQSxxREFDQSw2REFDQSxxRUFDQSx3RUFDQSxrRUFDQSxvRUFDQSxzRUFDQSx3RUFDQSxzRUFDQSxrRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQXFCQUEsRUFBQSxvRkFDQSw2QkFDQSxvQkFDQSxZQUNBLGtCQUVBLE9BQ0EsYUFDQSxZQUNBLFlBRUEsWUFDQSxZQUNBLG1CQUVBLE9BQ0EsWUFDQSxtQkFFQSxpQkFDQSxhQUNBLGlCQUNBLG1CQUNBLFFBQ0Esc0JBQ0EsWUFFQSxrQkFFQSxVQUNBLG1CQUNBLE9BQ0EscUNBQ0EsdUNBQ0Esd0NBQ0EsMkNBSUEsT0FDQSxzQkFFQSxrQkFDQSwyQ0FHQSx3QkFFQSxtQkFDQSxvQ0FFQSw0Q0FDQSxrREFHQSx5QkFDQSx1Q0FFQSxTQUNBLGtCQUNBLFdBRUEsZ0JBQ0EsaUJBQ0Esc0JBQ0EsMkJBQ0EsbUNBR0Esb0JBQ0EseUNBRUEseUJBQ0Esc0NBREEsT0FFQyxHQUFELHVCQUNBLCtCQUNBLGlEQUNPLDJDQUhQLE1BS0EscUJBQ0EsTUFFQSxzQ0FDQSxtQ0FDQSxPQUNBLGlDQUNBLGVBRUEsWUFBdUIsa0NBQXZCLEdBQ0EsT0FDQSwwQkFFQSxhQUNBLGNBQ0Esb0JBRUEsUUFBdUIsaUJBQ3ZCLG9CQUVPLHFFQUVQLG9CQUNBLGtDQUNBLGtDQUNBLGFBQ0EsWUFDQSx1QkFFTyx5RUFFUCwwQkFDQSxxRUFEQSxPQUVDLEdBQUQsd0JBQ0EsK0JBQ0Esa0RBQ08sNENBSFAsTUFLQSwwQkFFQSxlQUNBLDhCQUdBLHNCQUNBLDBDQUdBLGtCQUVBLHVCQUNDLEVBQUQsS0FFQSxnQkFIQSxJQUlBLGtCQUNBLDJCQUNBLHdCQUdBLHVCQUNBLG9DQUdBLG1CQUNBLDREQUNBLDJCQUNBLHFCQUNLLGlFQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0VBRUEsR0FEQSxPQUNBLG1FQUNBLGtFQUNBLG9FQUNBLG9FQUNBLHNFQUNBLHNFQUNBLHdEQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBa0JBLHNIQUdBLDZCQUNBLG1CQUNBLFlBQ0Esa0JBRUEsZ0JBQ0EsUUFDQSxXQUNBLFlBRUEsVUFDQSxZQUVBLFVBQ0EsWUFFQSxTQUNBLGFBR0EsT0FDQSxhQUNBLFlBQ0EsMEJBQ0MsS0FBRCxjQUNBLCtCQURBLEtBSUEsY0FDQSxpQkFDQSxhQUNBLFlBQ0EsY0FFQSxLQUNBLFlBQ0EsZUFFQSxrQkFDQSxnQkFDQSxZQUVBLGdCQUNBLE9BQ0EsbUNBR0EsVUFDQSxtQkFDQSxVQUNBLGtCQUNPLCtDQUNQLGdDQUNBLHNDQUNBLHFEQUNBLDBDQUNBLHlDQUNBLHNDQUNPLG9CQUVQLHVCQUNBLG1GQUdBLG1CQUVBLHNDQUNBLGtDQUdBLFNBQ0Esa0JBQ0EsMEJBQ0Esc0JBQ0Esd0JBRUEsb0JBQ0EsU0FDQSx3Q0FDQSxnREFDTyxhQWFQLE9BWEMsS0FBRCwrQkFDTyxlQUNBLGdCQUNQLGtCQUNBLHFDQUNPLGNBQ1AsMENBQ08sZ0JBQ1Asb0JBR0EsSUFHQSx1QkFDQyxFQUFELEtBRUEsMkJBQ0EsUUFDQSxTQUVBLGFBQTRCLHlCQUM1QixVQUF5QixNQUN6QixpQkFDQSxvQkFFQSx5Q0FFQSx3QkFHQSwyREFDQSxxQkFDQSxxQkFDSyxvQkFFTCxTQURDLEVBQUQsc0JBQ0EsdUNBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FLQSxzQkFDQSwwQkFDQSxjQUNBLHFCQUNBLGFBQ0EsYUFDQSxrQkFNQSxPQUxBLHVGQUlDLEVBSEQsc0JBQ0Esd0NBRUEsdURBQ0EsaUJBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsMERBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFPQSw0QkFDQSwwQkFDQSxPQUNBLG1CQUNBLE1BQ0EscUJBQ0EsYUFHQSxVQUNBLG1CQUNBLFVBQ0EsbURBQ08sK0NBQ1AsZ0RBSUEsbUJBQ0EsNENBR0EsT0FGQyxFQUFELGdCQUNBLDJDQUNBLE1BTUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw4RUFFQSxHQURBLE9BQ0EsK0VBQ0Esb0VBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFXQSwrREFDQSx5QkFDQSxtQkFDQSxPQUNBLGFBQ0EscUJBR0EsVUFDQSxtQkFDQSxZQUF3QixxREFDeEIsMkJBSUEsU0FDQSxtQkFDQSx5Q0FBc0Qsb0RBQ3RELE9BQ0Esd0JBU0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FLQSxzQkFDQSx3QkFDQSxjQUNBLHFCQUNBLGFBQ0EsYUFFQSxPQURDLEVBQUQsOERBQ0EsaUJBTUE7Ozs7eU1BS0EsZ0JBRUEsYUFDQSxPQUNBLHdDQUE2RyxZQUM3RyxxQ0FBMEcsWUFDMUcsbUNBQXdHLFlBQ3hHLHNDQUEyRyxZQVAzRyxJQVFBLHNEQUNBLHFEQUNBLDBCQUE4RixvQkFFOUYsbUVBQ0EsK0JBQW1HLG9CQUVuRyxpRUFDQSw4QkFBa0csb0JBRWxHLDJFQUNBLG1DQUF1RyxvQkFFdkcsNkVBQ0Esb0NBQXdHLG9CQUV4Ryw2RUFDQSxvQ0FBd0csb0JBRXhHLHlFQUNBLGtDQUFzRyxvQkE1QnRHLElBc0NBLHNFQUNBLGlFQUNBLCtEQUNBLGtFQUVBLFdBQ0EseUJBQ0EsZ0JBQ0EscUJBQ0Esb0JBQ0EsMEJBQ0Esc0JBQ0EsMEJBQ0EsbUJBQ0EseUJBQ0Esd0JBQ0Esb0JBQ0Esb0JBTUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw0REFFQSxHQURBLE9BQ0EsbUVBQ0Esb0VBQ0Esc0VBQ0Esa0VBQ0Esc0VBQ0Esc0VBQ0Esb0VBQ0Esb0ZBQ0Esc0VBQ0Esb0RBQ0Esc0RBQ0Esa0VBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFHQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBNkJBLDJGQUdBLG9CQUNBLGNBQ0EsbUJBQ0EsT0FDQSxZQUVBLG1CQUdBLFlBQ0EsdUJBQ0Esa0JBRUEsT0FDQSxhQUNBLGNBQ0EsYUFDQSxZQUVBLHFCQUNBLGFBQ0EsWUFFQSxpQkFDQSxvQkFDQSxXQUNBLHFCQUNBLGdCQUVBLGdCQUNBLGdCQUNBLGFBQ0EsYUFDQSxZQUVBLG9CQUNBLFFBQ0EsWUFDQSxvQkFFQSxZQUNBLHNCQUNBLDhCQUdBLGdCQUNBLE9BQ0Esb0JBQ0EsZ0JBQ0Esa0JBQ0EsYUFDQSxnQkFDQSxtQkFDQSxXQUdBLFVBQ0Esc0JBQ0EsbUNBRUEsMEJBQ0EsMkVBREEsT0FFQyxLQUFELEtBQ0Esd0VBREEsdUJBR0EsK0JBRUEsT0FEQSw0REFDQSxLQUVBLDhCQUNBLG9EQUVBLDhCQUNBLGlCQUNBLG1EQUZBLElBS0MsRUFBRCw2RkFDQSwrRUFDQSw2Q0FFQSx5QkFFQSxPQURBLCtGQUNBLEtBRUEsNkJBQ0EscUNBQ0Esd0JBR0Esa0JBQ0EsT0FDQSxtQ0FDQSxpQ0FDQSxpQ0FDQSx1QkFDQSx5QkFDQSw0QkFDQSx5Q0FJQSxPQUNBLHlCQUNBLG9CQUVBLDRCQUNBLHVCQUVBLHdCQUNBLG9CQUNBLG9CQUNBLDRDQUNBLHdEQUdBLDhFQUdBLG1CQUVBLDBDQUNBLHNDQUdBLG1CQUNBLG9DQUVBLFNBQ0Esb0JBQ0EsV0FJQSx3QkFFQSxrQ0FFQSxxQ0FDQSxrQkFDQSxvQ0FDQSxtRUFLQSxrQ0FDQyxFQUFELG1CQUNBLDBDQUNBLGdDQUNBLDhFQUVBLHdCQUNBLHNFQUVBLDJCQUNDLEVBQUQsbUJBQ0EsMENBTUEsT0FIQSx5QkFHQSxpQkFDQSx3QkFHQSxxREFaQSxJQWFDLEVBQUQsc0NBQ0EsNENBQ0EsK0JBRUEsNEJBSUEsR0FGQSxnQkFFQSx1Q0FFTyw4QkFFUCxZQURBLGtCQUVPLCtCQUNQLHFCQUNRLEdBQUQsMEJBQ1Asb0JBQ1EsSUFBRCxrREFHTixPQUZELG1DQU1BLHFCQUVBLDZCQUNBLGVBQ0EsOEZBRUEsaUNBQ0EsaUVBTUEsT0FKQyxLQUFELGNBQ0EsMEJBR0EsR0FFQSxnQ0FDQyxLQUFELFdBQ0Esa0NBQ0EsT0FDQSx1QkFFTyxxQkFMUCxtQkFPQSw2QkFDQyxFQUFELEtBRUEsSUFDQSxZQUNBLDZCQWtCQSxPQWZBLHFDQUNBLFFBQ0EscUJBQ0EsaUJBQ0EsZUFFQSxNQUNBLHVDQUNBLG1CQUNBLE9BclFBLFdBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxTQWdRQSwyQ0FNQSxHQUVBLDBCQUNBLEVBRUMsRUFBRCxLQUVBLEdBQ0EsV0FBMEIsd0JBQzFCLG9EQUVBLDhCQUNBLFdBQTBCLDBCQUMxQixrQ0FDQSw2Q0FDQSx5Q0FDUywrQkFKa0IsSUFLM0Isa0JBQ0EsZ0NBQ0EsY0FDQSxJQUNBLGtCQUNBLG9CQUNBLFNBQ0EsMEJBQ0Esd0NBRUEseUJBY0EsT0FWQSxrQ0FDQSxjQUNBLHdDQUdBLG1CQUNBLGNBQ0Esd0NBR0EsMEVBRUEsb0JBQ0EsNEVBRUEsNkJBQ0EsV0FFQSxpQ0FDQSxtQkFDQSxvQkFDQSxtQkFHQSw4QkFDQSxXQUdBLGtDQUNBLDJDQUNBLGtDQUNBLGNBRUEsMEJBSUEsb0JBQ0EsbUNBREEsVUFVQSx1QkFDQSxrQ0FQQSxtQkFDQSx1QkFDQyxLQUFELGlCQU5BLEdBYUEsb0JBQ0EsbUNBREEsVUFVQSx1QkFDQSxrQ0FQQSxtQkFDQSxzQ0FDQyxLQUFELGlCQU5BLEdBYUEsc0JBQ0EsV0FFQSwrQkFFQSx1QkFDQSxpQkFFQSwwQkFDQSwyQkFDQSw0QkFFTyxxRUFDUCxrQkFJQSwyQkFDQSxnQ0FHQSxvQkFDQSxnQkFJQSwrQkFDQSx3QkFNQSxpQ0FDQSxtRUFHQSxtQkFZQSxlQVhBLENBQ0EscUJBQ0EsT0FDQSwrRUFFQSxhQUNBLFVBQ0EsY0FDQSx1QkFHQSxxRUFDQSxPQUNBLFFBQ0EsaUJBQ0EsaUJBRUssOEJBTUw7Ozs7dUNBS0EsZ0JBRUEsYUFDQSxPQUNBLHlEQUNBLDBCQUE4RixvQkFJOUYscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSx3RUFFQSxHQURBLE9BQ0EsbUVBQ0Esb0VBQ0Esb0RBQ0Esc0RBV0EseURBQ0Esa0JBQ0EsT0FDQSxPQUNBLFdBQ0EsbUJBQ0EsWUFJQSxTQUNBLHVCQUNBLCtDQUNBLGtDQUNBLE9BQ0EsMEJBQ0EsWUFFTyxrQ0FFUCw2QkFDQyxFQUFELGtDQUNBLFVBQ0EsUUFFQSwwQkFDQSxhQUNBLGtDQUNBLGtDQUNBLE1BQ0EsVUFDQSxjQUpBLEtBU0EsbUJBQ0EsNkNBQ0EseUJBQ0EsMEJBQ0ssMEJBTUw7Ozs7MkNBS0EsZ0JBRUEsYUFDQSxPQUNBLHFFQUNBLDhCQUFrRyxvQkFJbEcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxnR0FFQSxHQURBLE9BQ0EsdURBQ0EsZ0ZBQ0Esb0VBQ0Esb0VBQ0Esd0VBQ0EsMEVBQ0Esb0VBQ0Esb0ZBQ0Esc0VBQ0Esb0VBQ0Esc0RBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFxQkEsU0FBQUEsRUFBQSxvTEFHQSxvQkFDQSwyQkFDQSxtQkFDQSxPQUNBLDJCQUdBLFlBQ0EsdUJBQ0EsaUJBQ0EsaUJBRUEsT0FDQSxlQUNBLGdCQUNBLDZCQUNBLDRCQUNBLHNCQUNBLGlCQUNBLFFBQ0EscUJBQ0EsbUJBQ0EsaUNBR0Esb0JBQ0Esa0JBQ0EscUJBQ0EsWUFFQSxrQkFDQSxxQkFDQSxjQUVBLGtCQUNBLGNBQ0EsS0FDQSxxQkFDQSxZQUVBLGtCQUNBLEtBQ0EsWUFDQSxtQkFDQSxnQ0FHQSxrQkFDQSxrQkFDQSxPQUNBLHFCQUNBLGFBRUEsT0FDQSxjQUdBLGdCQUNBLE9BQ0EsZUFDQSxXQUNBLE9BQ0EsU0FFQSxtQkFHQSxVQUtBLCtCQUNBLGtDQUVBLG1CQUNBLFVBQ0EseUJBQ0EsOENBQ0EsMENBQ0EsNENBQ0EsNENBQ0Esb0VBQ0EsOENBQ0EsK0NBQ0EscURBQ0EsdURBQ0EsMENBQ0Esd0RBQ0Esd0NBQ0EsaURBQ08sb0JBRVAsNkJBQ0EsNEJBQ0Esc0dBRkEsT0FHQyxLQUFELFFBQ0EsZ0NBSkEsR0FNQSx1QkFDQSx5QkFDQSxvQ0FFQSxPQURDLEdBQUQsOENBR0Esb0NBQ0MsS0FBRCxXQUNBLGtCQUNBLHFCQUVBLHlCQUNBLDREQUVBLGtCQUNBLGtEQUVBLG9CQUNBLG1DQUVBLHlCQUNBLG9GQUVBLG9CQUNBLDJHQUVBLHlCQUNBLHlFQUVBLDBCQUNBLGdHQUVBLDBCQUNBLG1EQUVBLHlCQUNBLG1GQUVBLHVCQUNBLHVEQUVBLHNCQUNDLEVBQUQsd0NBUUEsTUFQQSxDQUNBLDRDQUNBLG1FQUNBLGlIQUNBLHdFQUNBLHFEQUtBLE9BQ0EsdUJBQ0EscUJBQ0EsdUJBT0EsdUJBQ0Esd0RBQ0Esb0RBQ0EsbUJBRUEsMEJBRUEsbUJBRUEsMEJBQ0Esa0JBQWlDLHNCQUVqQyx5QkFDQyxLQUFELGVBREEsRUFHQSxhQUNDLEtBQUQsWUFJQSx1Q0FFQSxrQ0FDQSx3QkFDQSw2QkFHQSx1QkFDQSxhQUVBLFNBQ0EsOEJBQ0EsMEJBQ0EsTUFDQSxnQ0FDQSxnQkFDQSxlQUNBLG9CQUdBLDRCQUNBLDhEQUVBLHFCQUNBLG1DQUVBLDZCQUNDLEVBQUQsQ0FDQSxjQUNBLGFBQ0EsY0FFQSxnRkFDQSxVQUVBLGtDQUNBLDBDQUNPLE1BRVAsNkJBQ0MsRUFBRCxLQUVBLElBQ0EscUJBQ0EsaUJBQ0Esc0JBRUEsTUFDQSx1Q0FDQSx5Q0FlQSxPQVhDLEtBQUQsMkJBQ0EsUUFDQSxhQUNBLE9BQ0EsVUFDQSxvQkFDQSx5QkFLQSxHQUVBLDRCQUNDLEVBQUQsS0FFQSxHQUNBLDBCQUNBLCtCQUVBLDJCQUdBLHVDQUNBLHVDQUNBLDJCQW9CQSxPQWhCQyxLQUFELGNBQ0EsbUJBQ0EsMkNBSUEscUJBQ0Esd0JBQ0EseUJBR0Esd0JBQ0EsMEJBSUEsR0FFQSx3QkFDQSxnQ0FEQSxTQUdBLDJCQUNBLHVDQURBLEdBSEEsR0FPQSxzQkFDQSxvQ0FFQSxzQkFDQSxrQ0FDQSw0Q0FDTyxzQkFFUCxxQkFDQSxrQ0FDQSw2Q0FHQSxnQkFDQSxlQUNBLGlCQUNPLGlDQUNQLDBCQUNPLGlCQUNQLCtCQUdBLHlCQUNBLDhDQUNBLG1CQUdBLHNCQUNBLDRCQUNBLDBCQUNBLG1DQUNBLGtFQUFvRixpREFFcEYseUJBQ0EsNkJBQ0EsMEJBQ0Esb0NBQ0EsZ0VBQW9GLGlEQU1wRiw2QkFDQSxxRUFDQSwwQkFDQSx3Q0FFQSw4QkFDQSw0REFHQSxtQkFDQSw4RUFFQSxPQURBLDBFQUNBLCtDQUNBLG1CQUNBLGtCQUNBLGdDQUNBLHlCQUpBLE9BV0E7Ozs7bURBS0EsZ0JBRUEsYUFDQSxPQUNBLDZGQUNBLHNDQUEwRyxvQkFJMUcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxpRkFFQSxHQURBLE9BQ0EsbUVBQ0Esc0VBQ0EsZ0ZBQ0Esb0RBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFlQSw0QkFDQSxzQkFDQSxPQUNBLGlCQUNBLG1CQUVBLFVBQ0EsbUJBQ0EsWUFBd0IsK0NBQ3hCLG9CQUNBLDJDQUNBLDRDQUdBLDZCQUNBLCtFQUVBLG9CQUNBLFVBRUEseUJBQ0EseURBR0EsU0FDQSx5QkFDQSw0SEFFQSxrQ0FDQSw0R0FFQSxvQkFDQSxvREFJQSxPQUhDLEVBQUQsZ0JBQ0EsMkRBQ0EsOENBQ0EsR0FFQSxvQkFDQSw2Q0FDQSxvREFGQSxVQUlBLGtCQUVBLGdCQU5BLE1BU0EsZ0NBQ0MsRUFBRCxLQUVBLG1CQUNBLHVDQUNBLDZCQURBLEVBSkEsT0FRQyxFQUFELGlCQUtBLCtCQUNBLE9BQ0EsU0FFQSxJQUNBLGtCQUNBLG9CQUNBLGlCQUdPLFdBZFAseUlBQ0EsV0FvQkE7Ozs7OENBS0EsZ0JBRUEsYUFDQSxPQUNBLDhFQUNBLGlDQUFxRyxvQkFJckcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxRUFFQSxHQURBLE9BQ0EscUVBQ0Esb0VBQ0Esd0VBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFhQSxtRUFDQSxpQkFDQSxPQUNBLGlCQUNBLE9BQ0EsWUFDQSxtQkFFQSxNQUNBLGFBQ0EsWUFFQSxTQUNBLHFCQUNBLGFBRUEsT0FDQSxZQUVBLFFBQ0EscUJBQ0EsWUFHQSxVQUNBLG1CQUNBLDBDQUNBLCtCQUNBLE9BQ0EsZ0NBR0EscUNBRUEsbUJBQ0EsVUFDQSxvQ0FDQSxtQ0FDTyxvQkFFUCwyQkFDQSx1Q0FFQSxrQkFDQSxPQUNBLHNCQUlBLFNBQ0Esc0JBQ0Esa0NBQ0Esa0NBQ08sdUJBR1AsbUJBQ0EscUJBRUEsT0FEQyxLQUFELG9DQUNBLFNBQ0Esd0JBQ0EsbUJBQ0EsbUJBSEEsT0FVQTs7OzswQ0FLQSxnQkFFQSxhQUNBLE9BQ0Esa0VBQ0EsNkJBQWlHLG9CQUlqRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDhFQUVBLEdBREEsT0FDQSxxREFDQSxzRUFDQSxvREFDQSxvRUFDQSxvRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQUdBLGdCQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsVUFHQSxhQUNBLGlCQUEwQixtQkFBc0IsSUFDaEQsNEJBR0EsVUFhQSx5REFDQSxvQkFDQSxZQUNBLGtCQUVBLE9BQ0EsZUFDQSxpQkFDQSxRQUNBLFlBQ0EsVUFDQSxzQkFDQSxnQkFHQSxVQUNBLFlBQ0EsaUJBRUEsVUFDQSxZQUNBLGlCQUVBLDZCQUNBLE9BQ0EsWUFDQSxZQUdBLGdCQUNBLE9BQ0EsYUFDQSxnQkFHQSxVQUNBLG1CQUNBLFVBQ0Esa0JBQ0EsbUNBQ0Esd0NBQ08sb0JBRVAscUJBQ0MsRUFBRCwrQkFDQSx1RUFFQSxrQkFDQSxpQ0FMQSxJQVFDLEVBQUQsV0FDQSxTQUNBLG9CQUVBLG1DQUNDLEVBQUQsZUFDQSxtQkFDQSx3REFDTyxtQkFDUCxtQkFDQSw4Q0FDTyxtQkFDUCxpQkFDQSw4Q0FFQSw4REFJQSxPQUNBLGlCQUNBLGNBR0EsbUJBQ0EsYUFFQSxTQUNBLGdCQUNBLFdBRUEsbUJBQ0EsOEJBRUEsdUJBQ0EsNEJBQ08sTUFFUCxvQkFDQSw0RkFDQSw4QkFFQSxpQkFDQSxtQkFDQSxpQ0FDQSxvQkFFQSxxQkFDQSxtQkFDQSxpQ0FDQSx3QkFFQSxvQkFJQSxJQUhBLFNBR0EsRUFGQSxVQUV3QixLQUFTLElBQ2pDLFVBR0EsVUFFQSwwQkFDQSwyQkFDQSx1Q0FDQSxPQUNBLHdDQUVBLE9BQ0EsZUFFQSxRQUF5QixDQUN6QixVQUVPLHVCQUVQLDBCQUNDLEVBQUQsS0FFQSwwQ0FDQSw2Q0FDQSxpQ0FDQSxPQUNBLDZDQUVBLE9BQ0EsZUFFQSxJQUNBLGlCQUNBLDhCQUdPLGlCQUVQLHFCQUNBLFdBRUEscUNBQ0EsZUFDQSxPQUNTLHFCQUNULDRCQUNTLHNDQUlULG1CQUNBLG1OQUNBLGVBQ0EsYUFDQSxXQUNBLFVBRUEsY0FDQSxzQkFFQSxvQkFSQSxPQWVBOzs7OzZDQUtBLGdCQUVBLGFBQ0EsT0FDQSwyRUFDQSxnQ0FBb0csb0JBSXBHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0VBRUEsR0FEQSxPQUNBLHlFQUNBLG9EQU1BLCtCQUdBLDZCQUNBLGtCQUNBLE9BQ0EsS0FDQSxZQUNBLFlBRUEsUUFDQSxxQkFDQSxhQUVBLFlBRUEsZ0JBQ0EsT0FDQSxjQUdBLFVBQ0Esa0JBQ0EsT0FDQSxnQkFDQSwwQkFDQSxvREFJQSxtQkFDQSxhQUVBLFNBQ0Esb0JBQ0MsRUFBRCxLQUVBLGlCQUhBLElBTUEsWUFDQSxpQkFDQSxrQkFFQSxzQ0FDQSxjQUVBLGlCQUhBLEdBT0EsbUJBRUEscUJBQ0Esc0NBR0EsdUJBVUEsV0FDQSwyQ0FDSyxTQVhMLENBQ0EsZ0NBQ0Esa0JBQ0EsT0FDQSxhQUNBLGNBRUEsY0FLQSxXQUNBLG1DQUNLLHFCQUNMLGdCQUNBLHlCQUNBLE9BQ0EseUJBRUEsb0JBQ0ssV0FNTDs7OzsyQ0FLQSxnQkFFQSxhQUNBLE9BQ0EscUVBQ0EsOEJBQWtHLG9CQUlsRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUVBLEdBREEsT0FDQSxrRUFFQSxHQURBLE9BQ0EsbUVBQ0Esb0VBQ0Esc0RBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFhQSx5REFDQSxnQkFDQSxPQUNBLGtCQUNBLGtCQUNBLGdCQUNBLFlBQ0EsWUFDQSwyQkFFQSxPQUNBLHFCQUNBLGNBR0EsVUFDQSw4QkFDQSw0Q0FDQSx1QkFHQSxTQUNBLG9CQUNBLGtGQUNBLDhCQUNBLE9BQ0EsK0NBRU8sb0JBRVAsNkJBQ0EseUNBQ0EsT0FDQSx1QkFFTyxzQkFFUCxtQkFDQSxrQ0FDQSw2QkFDQSxTQUNBLHlDQUNTLG1CQUNULDZCQUNBLDRDQUVPLDZCQUVQLHNCQUNBLGtDQUNBLGdEQUNBLE9BQ0EsNkNBRU8sdUJBR1AsbUJBQ0EsZ0JBQ0EsOEJBQ0EsU0FDQSxxQ0FDQSx1Q0FDTyxvQkFDRix3R0FNTDs7Ozt5Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUloRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGdHQUVBLEdBREEsT0FDQSxtRUFDQSxzREFTQSw0QkFDQSwyQkFDQSxPQUNBLGVBQ0Esc0JBQ0EsUUFDQSxxQkFDQSxXQUVBLE1BQ0EscUJBQ0EsWUFFQSxPQUNBLHFCQUNBLFdBRUEsT0FDQSxxQkFDQSxZQUdBLGdCQUNBLE9BQ0EsWUFHQSxVQUNBLDBCQUNBLG9DQUVBLHlCQUNBLHdCQUVBLG1CQUNBLE9BQ0Esd0RBQ0EsNENBR0Esa0NBQ0MsRUFBRCxXQUNBLEVBR0EsZUFDQSxJQUdBLHdCQUVBLDJCQUNBLHNDQUVBLDRCQUNBLDhEQUVBLHVCQUNBLGlEQUVBLGtCQUNBLE9BQ0Esb0RBQ0EscURBR0EscUJBQ0EsT0FDQSwyQ0FHQSx1QkFDQSxnREFHQSxTQUNBLHdCQUNBLHFDQUNBLGdDQUNBLE9BQ0EsbUJBQ0Esc0JBQ0Esc0JBQ0EsY0FDQSxnQ0FDQSx3Q0FDQSwwQkFJQSxrQkFDQSx5R0FDQSxrQ0FDQSxxQkFDQSxPQUNBLG1DQUNBLDhGQUpBLElBUUEsbUJBQ0Esa0NBQ0EseUNBQ08sdUJBR1AsbUJBQ0EsNkNBQ0Esa0NBQ0EsT0FDQSxtQkFDQSxrQkFDQSxvQkFDQSxnRUFFQSxtQkFDQSxrQkFDQSxxQkFDSyxvQ0FNTDs7OzttREFLQSxnQkFFQSxhQUNBLE9BQ0EsNkZBQ0Esc0NBQTBHLG9CQUkxRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDBGQUVBLEdBREEsT0FDQSxpRUFDQSxvRUFDQSwwRUFDQSxvRUFDQSxvRUFDQSxzREFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWNBLDBHQUdBLG9CQUNBLHlCQUNBLE9BQ0EsUUFDQSxhQUNBLFlBRUEsaUJBQ0EsWUFDQSxjQUVBLG1CQUNBLHFCQUNBLGNBRUEsYUFDQSxxQkFDQSxhQUVBLE9BQ0EsWUFDQSxtQkFFQSxRQUNBLHFCQUNBLFdBRUEsc0JBQ0EsY0FDQSxnQkFDQSxlQUNBLGdCQUNBLE9BQ0EscUJBQ0EsWUFHQSxnQkFDQSxPQUNBLGtDQUdBLFVBQ0EsOEJBQ0EsMkZBQ0EsNENBQ0EsK0JBR0EsdUJBQ0EsNEVBRUEsMkJBQ0EsK0VBRUEsMEJBQ0Esa0NBQ0Esd0NBQ0EscUJBR0EsK0JBQ0EscUVBQ0EsNkNBQ0EsT0FDQSw2REFJQSxpQ0FDQSxrQ0FDQSwrQ0FDQSxPQUNBLHlEQUVPLDZEQUVQLGlDQUNDLEtBQUQsT0FDQSx3REFDQSx3Q0FDQSxPQUNBLGlFQUpBLE1BUUEsK0JBQ0EsRUFHQSxVQUNBLFFBRkEsNEZBR08sb0tBRlAsR0FJQSxtQkFDQSxVQUNBLDRDQUNBLHNDQUNBLHNDQUNBLDRDQUNBLDBDQUNBLDJDQUNPLG9CQUVQLDhCQUNBLGlFQUVBLDRCQUNBLHlDQUVBLDJCQUNBLCtDQUVBLG9CQUNBLGdDQUVBLGtCQUNBLFNBVUEsT0FSQyxLQUFELFNBQ0EsWUFHQSw4REFDQSw0REFHQSxJQUdBLFNBQ0Esc0JBQ0Esd0NBQ0EsK0JBRkEsU0FLQSwyQkFDQSwwQ0FEQSxHQURBLE1BS0Esd0JBQ0Esc0JBTUEsT0FKQyxLQUFELFdBQ0Esc0JBR0EsR0FFQSwyQkFDQSxNQUVBLHFFQUNBLCtDQUNBLFlBQXVCLFFBQXZCLE9BR0Esb0JBQ0Esa0JBQ0EsNkNBQ0EscUNBRUEsNkJBQ0MsRUFBRCxJQUNBLFVBQ0EsZ0JBR0EsbUJBaUJBLGVBaEJBLENBQ0EsZ0NBQ0EsT0FDQSxtQkFDQSxrQkFDQSxzQ0FDQSxnRUFFQSxtQkFDQSxPQUNBLDRCQUNBLDBEQUNBLHVCQUVBLHdCQUVBLDBHQU1BOzs7O2lEQUtBLGdCQUVBLGFBQ0EsT0FDQSx1RkFDQSxvQ0FBd0csb0JBSXhHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0VBRUEsR0FEQSxPQUNBLHVEQUNBLHNEQUNBLHdEQUNBLHdFQUNBLG9FQUNBLG9FQUNBLHNFQUNBLG9FQUNBLHNFQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBa0JBQSxFQUFBLDJGQUdBLDZCQUNBLGVBQ0EsZ0JBQ0EsT0FDQSxpQkFDQSxVQUNBLGFBQ0EsWUFDQSxTQUNBLFlBQ0EscUJBRUEsUUFDQSxZQUNBLG9CQUVBLGlCQUNBLE9BQ0EsZUFHQSxnQkFDQSxPQUNBLGVBR0EsVUFDQSxtQkFDQSxVQUNBLHVDQUNBLHNDQUNPLHNDQUVQLHlCQUNBLDREQUVBLHdCQUNBLCtDQUVBLHNCQUNBLHlEQUVBLDZDQUNBLG9CQUNBLDRCQUFtQyxVQUVuQyxzQkFDQSw4Q0FBc0QsVUFFdEQsc0JBQ0EsOENBQXNELFVBRXRELCtCQUNDLEtBQUQsdUJBQ0EsVUFHQSxxREFFQSwyQkFDQSw0QkFBbUMsc0NBR25DLFNBQ0EscUJBSUEsZ0VBRUEsb0JBQ0EsV0FEQSxPQUdDLEtBQUQsU0FDQSwrQkFDQSxJQUNBLGtCQUlBLG1CQUVBLGVBR0EsT0FDQSxxQkFFQSxPQUNBLDJCQUNBLHdCQUVPLDZDQW5CUCxNQXFCQSxvQkFDQSxrQ0FDQSxrREFDTyxrQkFDUCx1QkFDQSxrQkFDTyw0SUFDUCxPQUNBLGdEQUVPLHNCQUVQLG9CQUNBLGtCQUNBLHVCQUVBLG1CQUNBLGtCQUNBLHNCQUVBLG9CQUNBLGlEQUNBLGVBRUEsd0JBRUEsbUJBS0EsZUFKQSxDQUNBLHNCQUNBLG9CQUVBLHVDQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsK0dBRUEsR0FEQSxPQUNBLDZFQUVBLEdBREEsT0FDQSx1REFDQSxnRkFDQSxzRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWFBLHlEQUdBLG9CQUNBLHFCQUNBLG1CQUNBLE9BQ0Esa0JBR0EsT0FDQSxRQUNBLGFBQ0EsWUFFQSxRQUNBLHFCQUNBLGdCQUVBLFlBQ0EsWUFJQSxPQUNBLGVBR0EsVUFDQSxtQkFDQSxZQUF3QiwrQ0FDeEIsc0RBQ0Esc0RBQ0EseUNBSUEsU0FDQSwwQkFDQSxrQ0FDQSwwQ0FDQSxPQUNBLFdBQ0Esa0JBQ0Esb0NBRU8sc0RBRVAsd0JBQ0Esd0RBRUEsY0FEQSxnQkFDQSxHQUVBLG9CQUNBLG9EQURBLFVBR0EsdUNBRUEsaUJBQ0EsWUFOQSxHQUVBLE1BT0Esb0RBTUE7Ozs7cURBS0EsZ0JBRUEsYUFDQSxPQUNBLDJFQUNBLGdDQUFvRyxvQkFFcEcsaUVBQ0EsMkJBQStGLG9CQUsvRixXQUNBLHlCQUNBLHNCQUNBLG9CQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsaUZBRUEsR0FEQSxPQUNBLHlEQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBR0EsZ0JBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQUdBLGFBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxVQVdBLDRCQUNBLHNCQUNBLE9BQ0EsT0FDQSxXQUNBLG1CQUNBLGVBSUEsZ0JBQ0EsT0FDQSxpQkFDQSx1QkFHQSxVQUNBLG1CQUNBLFlBQXdCLCtDQUN4Qiw4QkFHQSxlQUNBLGVBQ0EsdUJBRUEsb0JBQ0MsRUFBRCxLQUtBLHFCQUNBLHNEQUdBLHlCQUNBLGdDQUNDLEVBQUQseUJBQ0EsdUJBQ0EsUUFHQSxjQUdBLGlCQUNBLHlEQUNBLGtCQUdBLHNCQUNBLFdBRUEsMkNBQ0EsbUVBR0EsK0JBQ0MsRUFBRCxzREFDQSwyQ0FDQSxpQ0FDQSxrRkFHQSxPQUZDLEVBQUQsU0FDQSw0QkFDQSxJQUdBLFNBQ0EsZ0NBQ0EsV0FFQSxRQUNBLFVBR0EsUUFDQSxLQVJBLElBV0MsRUFBRCxnRkFDQSxpQ0FDQSwyQkFDQSwyQkFDQSxVQUNBLGtDQUNPLFlBRlAsR0FJQSw0Q0FDQyxFQUFELG9CQUFnRSxHQUVoRSxvQkFDQSxXQUVBLGlEQUNBLGlEQUlBLE9BSEMsRUFBRCxnQkFDQSw4QkFDQSxzQ0FDQSxNQUdBLGlDQUNDLEVBQUQsS0FFQSxLQUVBLHNCQUVBLDRCQURBLElBQ0EsNkRBREEsSUFDQSxrREFEQSxHQUNBLElBQ0EsK0JBQ0Esb0NBQ0EseUVBQ0EseUNBQ0EsaURBSUMsRUFBRCxnRkFDQSx5Q0FDQSxtQ0FDUyxzRUFDVCxtQ0FDQSwrQkFJQSxrQ0FDQSx3Q0FDQSxhQUZBLElBS0EsdUJBQ0EsV0FFQSw4R0FDQyxFQUFELG1CQXVCQSxrQkFDQSxnQ0FDQSxpQ0FDQSxvQ0F4QkEsWUFDQSxjQUNBLGdCQUVBLHlCQUdBLFlBQ0EsZUFDQSxnQkFFQSxzQkFHQSxZQUNBLGVBQ0EsbUJBRUEsb0JBTUEsaUJBR0EsMEJBQ0EsbUJBQ0EsZ0JBRUEsWUFEQSxpQkFJQSw2QkFDQSxVQUdBLEdBRkEsZ0JBRUEsQ0FDQSxtRUFEQSxJQUVDLEVBQUQsMEJBQ0EsY0FDQSxRQUdBLHlCQUNBLDBDQUdBLHdCQUNBLDZCQUNBLFVBQ0EsaUJBRUEsMEJBQ0Esb0VBR0EsMEJBRUEsc0JBQ0EsNEJBQ0EsZ0VBQ0EsVUFDQSx5QkFDQSwyQ0FFQSw2QkFDQSxXQUVBLGdFQUNDLElBQUQsY0FEQSxhQVNBOzs7OzhDQUtBLGdCQUVBLGFBQ0EsT0FDQSw4RUFDQSxpQ0FBcUcsb0JBSXJHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsa0VBRUEsR0FEQSxPQUNBLHFEQUNBLG9FQUNBLG9FQUNBLGtFQUNBLHNFQUNBLG9FQUNBLHNEQUNBLG9EQWdCQSx1RkFDQSxnQkFDQSxPQUNBLGlCQUNBLFlBQ0Esa0JBRUEsT0FDQSxZQUNBLG1CQUVBLGtCQUNBLGNBQ0EsV0FDQSxZQUNBLHdCQUVBLFVBQ0EsWUFDQSx1QkFFQSxVQUNBLFlBQ0EsdUJBRUEsdUJBQ0EsY0FDQSxRQUNBLHFCQUNBLFdBRUEsaUJBQ0EscUJBQ0EsT0FDQSxZQUNBLFlBR0EsZ0JBQ0EsT0FDQSxjQUNBLDJCQUdBLFVBQ0EsNkJBQ0MsS0FBRCwwQkFDQSxFQUNBLGNBQ0EsT0FDQSxjQUlBLHFCQUNBLGtCQUNBLFNBQ0EsVUFDQSxVQUNBLFdBQ0EsVUFJQSxPQUNBLE9BQ0EsUUFDQSxRQUNBLFNBQ0EsS0FSQSxPQVNBLFFBQ0EsT0FUQSxTQVVBLE9BVEEsV0FZQSxzQkFDQSx3Q0FHQSxPQUNBLDBCQUNBLHVDQUVBLGtCQUNBLHVCQUdBLFNBQ0EsMEJBQ0EsV0FFQSxtQkFDQSxnQkFFQSwyQkFHQSxnQkFEQSxpQ0FDQSxFQUxBLEtBV0Esd0JBQ0EsT0FDQSxRQUNBLHlCQUNBLDRCQUNBLGlDQUNBLGdDQVFBLE9BTEMsS0FBRCxpQkFDQSxzREFDQSx3REFHQSxHQUVBLDRCQUNBLDBCQUVBLE9BREMsS0FBRCxxQkFDQSxZQUVBLDRCQUNDLEVBQUQsdUNBQ0EsaURBQ0EsdURBRUEscUJBQ0Esb0JBQ0EsdURBRUMsR0FBRCw2Q0FHQSw2QkFFQSx3QkFDQSx3QkFDQSxpREFDQSx3Q0FHQSxVQUVBLDJCQUNBLFdBRUEsaUNBQ0Esc0NBR0Esd0JBQ0EsV0FFQSxrQ0FDQSwyQkFHQSx3QkFDQyxFQUFELEtBRUEsc0JBQ0EsMkRBQ0EsT0FDQSxlQWlCQSxPQWRDLEtBQUQsUUFDQSx5QkFDQSw0QkFHQSwrQkFFQSxzQkFDQSx3QkFDQSw4QkFLQSxrRUFDQSwyQkFDQSxxQkFDQSxPQUNPLHlCQUdQLHVCQUNDLEVBQUQsS0FFQSx1REFDQSx1QkFFQSxnQkFDQSx1QkFDQSxPQUNBLG1DQUNBLCtCQUpBLE9BWUE7Ozs7eUNBS0EsZ0JBRUEsYUFDQSxPQUNBLCtEQUNBLDRCQUFnRyxvQkFJaEcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw4RUFFQSxHQURBLE9BQ0EscUVBQ0Esb0RBUUEsK0NBQ0Esb0JBQ0EsT0FDQSw2QkFFQSxVQUNBLCtCQUNBLHlCQUVBLHVCQUNBLGlDQUNBLHVEQURBLEdBSUEsZ0NBQ0MsS0FBRCxZQUNBLDJCQUNBLHVCQUNBLG9DQUhBLEtBT0EsU0FDQSxzQkFDQSxrQ0FDQSxxQ0FDTyx1QkFHUCxtQkFDQSxnQkFDQSwyQkFDQSw0QkFDQSxvQkFDSyw0Q0FNTDs7Ozs2Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsMkVBQ0EsZ0NBQW9HLG9CQUlwRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2tEQUtBLGdCQUVBLGFBQ0EsT0FDQSxxQ0FBMEcsWUFKMUcsSUFLQSx1RkFFQSxHQURBLE9BQ0EsaUVBRUEsR0FEQSxPQUNBLHFEQUNBLHNEQUNBLG1FQUNBLGdGQUNBLHNFQUNBLHNFQUNBLG9GQUNBLHNEQUNBLHNEQUNBLG9EQUNBQSxFQUFBLFdBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBcUNBLEdBQ0EsZ0JBQ0EsdUJBQ0EsZUFDQSxlQUNBLGVBRUEsbURBR0EsNkJBQ0EsZ0JBQ0EsWUFDQSx3QkFFQSxPQUNBLFlBQ0EsWUFDQSxxQkFFQSxRQUNBLFlBRUEsbUJBQ0EsY0FDQSxrQkFDQSx1QkFDQSxjQUNBLHFCQUNBLE9BQ0EsV0FDQSxtQkFDQSxXQUdBLFdBQ0EsWUFDQSxtQkFFQSxjQUNBLDZCQUNBLG9CQUVBLFVBQ0EsNkJBQ0EsZ0JBRUEsV0FDQSw2QkFDQSxpQkFFQSxXQUNBLDJCQUNBLG1CQUNBLFdBR0EsaUJBQ0Esb0JBQ0EscUJBQ0Esb0JBRUEsZ0JBQ0EsT0FDQSwwQ0FDQSxhQUNBLFlBQ0EsZ0JBQ0EsWUFJQSxpRUFDQSxpQkFDQSxpQkFDQSx3QkFDQSwyQkFHQSxVQUVBLG9CQUNBLG1FQUVBLG1CQUNBLFlBQXdCLCtDQUN4QixjQUNBLGdDQUNBLHlDQUNBLDZDQUNBLHNDQUtBLHlCQUNBLHNCQUVBLHdCQUNBLHlCQUVBLHdCQUNBLDRHQUVBLHNCQUNBLHdCQUNBLHFCQUNBLGdCQUNBLE1BQ0EsK0NBSkEsR0FRQSx5QkFDQSxjQUVBLG9CQUNBLG9DQUVBLG1CQUNBLHVEQUVBLG1CQUNBLG9DQUVBLHdCQUNBLEVBRUMsRUFBRCxtREFDQSxZQUFvQyxNQUFwQyxHQUFvQyxHQUNwQyxPQUNBLGFBQTBCLENBQzFCLHVCQUVBLE9BQ0EscUJBQ0EscUJBQ0EsaUJBQ0EsK0JBQ0EsNEJBQ0EsK0JBQ0EsdUJBQ0EseUJBQ0EsaURBQ0Esa0NBRUEsSUFDQSx3QkFFQSxhQUNBLCtCQUlBLHNCQUtBLE9BSkEsa0ZBQ0Esb0ZBR0EsOENBRUEsNEJBQ0EsMkZBRUEsdUJBQ0EsVUFFQSx1QkFDQSwrRUFTQSxPQVBDLE1BQUQsYUFDQSwwQkFFQSxPQURDLEVBQUQsYUFDQSxJQUNTLEtBR1QsT0FBd0IsQ0FDeEIsaUJBQ0EsMENBQ0EsMkJBSEEsS0FPQSxPQUNBLDBCQUNBLG9CQUNBLHlCQUVBLG9CQUNBLFdBRUEsMkJBQ0EsdUNBQ0EsdURBSUEseUJBQ0EsV0FFQSwyQkFDQSxrQ0FKQSxJQU9BLG1CQUVBLE9BQ0EsYUFDQSxvQkFDQSxXQUVBLGlCQUlBLDJCQUNBLDZEQUlBLDJCQUlBLG1CQUNBLDZEQUVBLFNBRUEsaUJBQ0EsNENBQ0EscUJBQ0Esa0JBQ0EsdUJBSUEsd0JBQ0Esa0RBQ0EsdUJBRUEsNkJBQ0EsV0FFQSx1Q0FDQSwyQkFDQSwrQ0FFQSwwQ0FFQSw2QkFDQSwwQkFDQSxnREFDQSw2REFFQSw2QkFHQSxRQUZDLEVBQUQsUUFFQSxJQUF5QixhQUFvQixPQUM1QyxFQUFELEtBQ0EsbUJBRUEscUJBR0EsK0JBRUEsa0NBQ0MsRUFBRCxLQUVBLG1CQUNBLHNEQUNBLDhDQUdBLG1DQUNDLEVBQUQsS0FFQSxvREFDQSxzQ0FDQSw2QkFDQSxPQUNBLGFBRUEsT0FDQSw4QkFDQSxXQUNBLGtDQUNBLHVCQUVBLElBQ0Esc0JBRUEsb0JBQ0Esb0JBRUEseUJBQ0EsMEJBR0Esc0NBQ08sa0JBRVAsc0NBQ0MsRUFBRCwyQ0FDQSxxQ0FDQSxzREFDQSw2REFDQSxPQUNBLG1DQUVBLHVDQUNPLDhCQUVQLDhCQUNDLEVBQUQscUJBQ0Esa0JBVUEsT0FQQyxNQUFELFdBQ0EsV0FFQSwwQkFDQSxvQkFHQSwrQ0FDQSw2QkFDQSw0QkFDTyxrTEFFUCxvQkFDQSxvREFNQSxPQUxDLEVBQUQseUJBQ0EseUJBQ0EseUJBQ0EsaUNBQ0EsbUNBQ0EsR0FFQSx3QkFDQSx3REFPQSxPQU5DLEVBQUQsZ0JBQXFDLGNBQ3JDLGNBQ0EsMEJBQ0EscUNBQ0EsZ0NBRUEsR0FFQSwwQkFFQyxLQUFELDJFQUNBLHVCQUVBLGlCQUdBLCtCQUNDLEVBQUQsS0FFQSwrREFDQSxzQkFDTyxpQkFDUCxvQ0FDQSxRQUNTLGdCQUtULDBDQUFrRyxlQUFsRyxJQUVBLHVCQUNDLEVBQUQsS0FFQSxtQkFjQSxPQWJDLEVBQUQsbUNBUUEsU0FKQSxtQkFDQSxpQkFDQSx1QkFFQSxTQUVBLFlBR0EsK0JBQ0EsT0FDQSxhQUVBLFFBQ0EsSUFDQSxrQkFDQSxpQkFDQSxnQkFHQSxZQUNPLG1CQUVQLDZCQUdBLEVBRkMsRUFBRCwwQkFDQSxXQUZBLE1BS0EsNEJBQ0Esc0JBQ08sY0FDUCxzQkFFQSx1QkFHQSxLQUNBLCtDQUdBLGtDQUNBLG9DQURBLElBSUEsK0JBQ0EsV0FFQSxvQ0FDQSxPQUNBLHdCQUVBLFlBQ0EsT0FDQSxRQUNBLG1CQUNBLG9CQUNBLG1CQUVBLGdDQUNBLHlDQUdBLHdCQUNBLHFEQUVBLHdCQUNBLDhEQUVBLG9CQUNBLHlEQUVBLHFCQUNBLHdFQUVBLG1CQUNBLHlCQUVBLHdCQUNBLGlDQUErQyxvQkFJL0Msa0JBREEsOEJBTUEsdUJBRUEsbUJBQ0Esa0JBQ0Esc0JBRUEsaUJBQ0Esa0JBQ0EsdUJBR0Esc0JBQ0EsbUJBRUEsb0JBQ0Esb0JBQ0EsdUJBR0EsdUJBQ0EsV0FFQSx1Q0FHQyxFQUFELGtCQUVBLDhCQUpBLE1BS0EsOEJBR0EsK0NBQ0EsOEJBVkEsSUFXQyxFQUFELHFDQUVBLE9BREEsNkJBQ0Esb0RBRUEsb0JBRUEsUUFDQSxvREFDQSx1QkFDQSwrQkFJQSwwQkFDQyxFQUFELEtBRUEsWUFDQSxrQkFHQSxHQURBLHFFQUNBLFNBR0MsS0FBRCxrQ0FDQSwyQkFDQSxxQkFFQSw2Q0FRQSxnRkFFQSxxQ0FFQSxxQ0FFQSw4Q0FyQkEsR0F1QkEsK0JBSUEsaURBQ0Esc0JBQ0EsbUJBRUEsWUFBcUIsaUJBQXVCLElBQzVDLHNEQUNBLHFCQUNBLFNBSUEsc0JBQ0EsV0FFQSxtQ0FDQSxpQ0FJQSwyREFDQSwyQkFDQSx5Q0FHUyxvQ0FDVCxzQkFJQSxrREFFQSxvQkFDQSxXQUVBLHFCQUlPLENBQ1AsbURBQ0EsbUZBR0Esd0JBUkEsa0NBQ0EsaUNBV0Esd0JBQ0Esb0JBRUEsc0JBQ0Esc0JBQ0EsTUFDQSxvQkFHQSxxQ0FDQSxtQkFDQSxvQkFDQSxXQUtBLGVBR0EscUJBQ0Esc0JBQ0EsTUFLQSxHQUpBLG1CQUlBLHlDQUNBLGdCQUdBLGFBQ0EsNENBQ0EscUNBRUEsdUJBQ0EsV0FFQSxpQkFHTyxLQUNOLEdBQUQsZ0NBQ0EsNEJBY0EsSUFiQSw4QkFDQSxpQ0FDQSwwQ0FLQSwyQkFDQSxrREFLQSxxQkFDQSwwQkFJQSxHQUhBLHNCQUdBLHlCQUNBLDJCQUNBLGlDQXpCQSxvREFDQSxzQkE0QkEseUJBQ0EsZ0RBRUEsZ0NBQ0EsSUFFQyxFQUFELEtBRUEsS0FDQSwyRkFFQSxjQUNBLHdDQUNBLDBEQUdBLEtBQ0EsdUJBSUEsT0FFQSxJQUNBLFVBbHRCQSxZQUNBLG9EQUNBLElBRkEsU0FHQSxVQUNBLENBQ0EsZ0JBRUEsT0FEQyxHQUFELHdCQUNBLENBQ0EsZ0JBQ0EsV0F5c0JBLGdCQUEyRSxPQUFrQixXQUc3RixFQUZBLFNBSU8sU0FDUCxHQUNBLFNBUkEsUUFXQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsc0JBRUEscUJBQ0EseUJBQ0EscUJBQ0EsbUNBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsbUVBRUEsR0FEQSxPQUNBLHVGQUNBLDREQUNBLGdFQUNBLHNEQUNBLHNFQUNBLG9FQUNBLG9FQUNBLHNEQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBb0NBLHlEQUNBLHFCQUVBLFlBQ0Esa0JBRUEsT0FDQSxlQUNBLGNBQ0EscUJBQ0EsT0FDQSxXQUNBLG1CQUNBLFdBR0EsY0FDQSw2QkFDQSxvQkFFQSxVQUNBLDZCQUNBLGdCQUVBLFdBQ0EsNkJBQ0EsaUJBRUEsa0JBQ0EsaUJBQ0EsYUFDQSxjQUVBLGVBQ0EsV0FDQSxtQkFDQSxZQUlBLFVBQ0EsdUJBQ0EsV0FFQSwyQ0FDQSx5QkFHQSwyQkFDQSw0REFBa0UsV0FFbEUsNEJBV0EsdUNBVkEsQ0FDQSxPQUNBLGFBRUEsSUFDQSxzQkFDQSw2QkFJQSwwQ0FHQSxTQUNBLHdCQUNBLFdBRUEsNkVBQ0EsT0FDQSxpQkFDQSxTQUVBLElBQ0EsaUJBQ0Esa0NBS0EsdUJBQ0Esc0NBQ0EsV0FHQSw0QkFFQSxHQURBLFNBQ0EsK0RBRUEsa0NBQ0EsVUFDQSxXQUNBLFFBRUEsK0VBRUEsc0JBQ0Esc0NBQ0EsU0FDTyxXQUVQLHlCQUNBLDRFQUVBLDBCQUVBLE9BREEseUVBQ0EseUJBRUEsb0NBQ0MsR0FBRCxxREFDQSxtQ0FDQSxZQUNBLFNBQ0EsU0FDQSxRQUtBLENBQ0EsTUFKQSxhQUtBLE9BSkEsc0JBS0EsSUFKQSxzQkFPQSx3QkFDQSxnQkFFQSxRQUNBLGFBR0EsUUFDQSxNQVJBLElBV0EsbUJBRUEsZ0JBQ0Esa0NBR0EsT0FDQSxPQUdBLHFCQUNBLHdDQUNBLGVBRUEsSUFDQSxzQkFFQSxvQkFFQSxpQkFDQSxnQ0FHQSxPQUNBLGlDQUNBLFdBQ0EsVUFDQSxlQUlBLDJCQUNBLGlKQTNDQSxJQStDQSwwQkFDQSxPQUZBLEtBR0EsT0FDQSxXQUEwQixpQkFDMUIsVUFFQSxpRUFFQSwyQkFDQSw0Q0FDQSxxRkFDQSxPQUNBLDBCQUVBLFVBQ0Esa0JBSUEsb0JBQ0EscURBRUEsc0JBQ0EsMkdBRUEsd0JBQ0EsK0RBRUEsb0JBQ0EsNERBRUEscUJBQ0EseUVBR0Esc0JBQ0EsSUFFQyxFQUFELEdBRUEsSUFDQSxZQXZQQSxZQUNBLG9EQUNBLElBRkEsU0FHQSxVQUNBLENBQ0EsZ0JBRUEsT0FEQyxHQUFELHdCQUNBLENBQ0EsZ0JBQ0EsV0E4T0EseUJBQXlELE9BQVUsV0FBbkUsRUFDQSxRQUNBLHFDQUNBLGdDQUE0RCxTQUFBTixFQUFBLHdCQUEwRCxVQUFBQSxFQUFBLHlCQUE0REEsRUFBQSx1QkFFN0ssU0FDTCxHQUNBLFNBUkEsUUFXQSxJQUNBLG9DQURBLFFBR0Esb0JBT0EsT0FIQyxFQUFELDhEQUNBLG9FQUNBLCtEQUNBLDJCQUNBLG1DQUNBLHlCQUNLLDhCQUNMLE9BQ0Esa0JBQ0EsZUFDQSxhQUVBLE9BQ0EsbUJBUEssU0FlTDs7Ozt5Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUloRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLCtEQUVBLEdBREEsT0FDQSx1RUFDQSxvRUFDQSxzRUFDQSxzRUFDQSxvRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWVBLHVGQUNBLGVBQ0EsT0FDQSxLQUNBLFlBQ0EsZUFFQSxjQUVBLFVBQ0EsbUJBQ0EsVUFDQSxhQUNBLDJCQUNPLDBDQUVQLGtCQUNBLCtCQUdBLG1CQUNBLE9BQ0EsbUJBQ0Esa0JBQ0Esb0JBRUEsaUZBTUE7Ozs7d0NBS0EsZ0JBRUEsYUFDQSxPQUNBLDREQUNBLDJCQUErRixvQkFJL0YscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwwRkFFQSxHQURBLE9BQ0EscUVBQ0Esc0VBQ0Esb0VBQ0Esb0RBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkF5Q0EsbUVBQ0EsdUJBQ0EsT0FDQSxvQkFDQSxnQkFDQSxhQUNBLGtCQUNBLFlBQ0EsT0FDQSxZQUNBLG1CQUNBLFlBSUEsVUFDQSx3QkFDQyxLQUFELFVBQ0EsaUJBSU8sR0FKUCxHQUNBLGVBQ0EscUJBQ0EsY0FDTyxhQUxQLGFBT0EsbUJBQ0EsVUFDQSxrREFDQSwrQ0FDQSxxQ0FDTywwQ0FFUCxxQkFDQSw4Q0FFQSxxQkFDQSxVQUNBLG1CQUNBLDZCQUNBLGdCQUNBLGdCQUNBLDJCQUNBLHdDQUNBLHlCQUNBLFlBQ0EsaUdBQ0EsdUNBQ0EsK0JBQ0Esa0JBQ0EsY0FDQSxtQkFDQSxrQ0FDQSxpQ0FDQSxnREFDQSxtQ0FDQSxrREFDQSxtQkFDQSxtQkFDQSw2REFDQSxnQ0FDQSwwQkFDQSxvQ0FDQSx5Q0FDQSwyQkFDQSxvQkFDQSxpQ0FDQSxhQUNPLGNBR1AsU0FDQSxzQkFDQSxrQ0FDQSxnRUFEQSxJQUlBLHlCQUNDLEVBQUQsS0FHQSxFQXJIQSxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0E2RkEsaUJBQ0EsT0FDQSxPQVFBLG1CQUNBLFdBQ08sS0FSUCxXQUNBLDZCQVdBLHlCQUNBLFNBQ0EsbUJBQ0EsNEJBSUEsZUFDQSw2Q0FDQSw4Q0FDQSxxQ0FDQSxvQ0FKQSxHQUtBLDZCQUVBLDJCQUVBLDJCQUNDLEVBQUQsS0FFQSxLQUNBLDBCQUpBLE9BS0MsS0FBRCxVQUErQyw0QkFBL0MsVUFHQSxnQkFHQSxrQ0FDQSxPQUNBLHNCQUlBLElBQ0Esa0JBQ0EsMENBRUEsd0JBQ0EsMEJBWEEsR0FYQSxHQTJCQSxxQkFFQSwrREFHQSxtQkFDQSxnQkFDQSxnQ0FDQSxpQkFDQSxtQkFDQSxtQkFDQSxtREFDSywwQkFNTDs7OztpREFLQSxnQkFFQSxhQUNBLE9BQ0EsdUZBQ0Esb0NBQXdHLG9CQUl4RyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dEQUtBLGdCQUVBLGFBQ0EsT0FDQSxtQ0FBd0csWUFKeEcsSUFLQSw4RUFFQSxHQURBLE9BQ0EscURBQ0Esa0VBQ0EsZ0ZBQ0Esc0VBQ0Esb0VBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFlQSxxQ0FFQSxRQUNBLHdCQUNBLFlBQ0EsaUJBQ0EsaUJBRUEsT0FDQSxhQUNBLFlBQ0EsZ0NBRUEscUJBQ0EsVUFDQSxZQUNBLGlCQUVBLGtCQUNBLHFCQUNBLGFBQ0Esc0JBQ0EsNEJBR0EsVUFDQSxZQUNBLGlCQUVBLG9CQUVBLGdCQUNBLE9BQ0Esc0JBQ0EsaUJBQ0EsZ0JBQ0EsU0FDQSxlQUNBLFFBQ0EsVUFDQSxhQUlBLFVBQ0Esd0JBQ0EsbUNBRUEsd0JBQ0EsbUNBRUEsbUJBQ0EsWUFBd0IscURBQ3hCLG1CQUNBLDZDQUNBLHNEQUdBLHNCQUNBLDZEQUVBLG1CQUNBLDZCQUNBLGtCQUNBLFlBQ0EsWUFFQSxpQ0FFQSxtQkFDQSwrQ0FFQSxvQkFDQSw4REFHQSxPQUNBLDBCQUlBLDBCQUNBLHlCQUNBLDREQUdBLHdCQUNBLHNEQUVBLG1CQUNBLHdEQUNBLGtCQUVBLFNBQ0EsbUJBQ0EsV0FFQSxnQ0FDQSx3REFBbUUsb0NBQ25FLGtDQUNBLGtDQUNBLE9BQ0EsK0NBRUEsSUFDQSxpQkFDQSxnQ0FHQSxZQUNPLE1BRVAsc0JBQ0Esa0NBQ0EscUNBQ0EsZUFDTyxzQkFFUCxtQkFDQSxPQUNBLG1CQUNBLGFBQ0EsY0FDQSx3QkFJQSxvQkFDQSxRQUVBLDhCQUNBLFNBQ08sK0JBQ1AsVUFOQSxJQVVBLGNBREEsbUNBVEEsT0FXQyxLQUFELGNBQ0EsK0JBQ0EsT0FDQSxjQUVPLGdCQUxQLE1BUUEsdUJBQ0MsRUFBRCxLQUVBLG9EQUFtRSxvQ0FDbkUsa0NBQ0Esa0NBQ0EsT0FDQSwrQ0FFQSxJQUNBLGlCQUNBLGdDQUdBLFlBQ08sTUFFUCwwQkFDQSxpRUFFQSxzQkFDQSxXQUVBLGtDQUNBLHFDQUNBLGFBQ0EsYUFDQSxPQUNBLGtCQUNBLDBDQUVBLGlCQUNBLHlDQUVBLGdCQUNBLDJDQUlBLGVBQ08sc0JBRVAseUNBQ0MsRUFBRCxPQUNBLGtDQUNBLHdDQUVBLHlCQUNBLHVCQUNBLGtCQUVBLG9CQUVBLG1CQUNBLGtCQUVBLHlCQUNBLHlCQUNBLDRDQUNBLHlDQUNBLCtDQUVBLHdCQUNBLDRDQUVBLDBCQUNDLEVBQUQsV0FDQSxZQUNBLFlBQ0EsOEJBQ0EsdUNBQ0EsdUNBRUEsa0JBRUEseUNBQ0Esb0JBQ1Msd0JBQ1Qsc0JBSUEseUNBQ0Esb0JBQ1MsdUJBQ1Qsc0JBSUEsNEJBQ0Esb0JBQ0EsMEJBRUEsZUFFQSxXQUNBLG9CQUlBLGdFQUVPLGtCQUNQLG9HQUNPLHFCQUNQLHNIQUpBLHNCQU9BLDZDQUNDLEVBQUQsY0FDQSwwQ0FGQSxJQUtBLE1BTEEsSUFRQyxFQUFELFlBQ0EsTUFDQSxPQVFBLE9BTkMsRUFBRCxFQUNBLFdBQ08sTUFDUCxvQ0FHQSxRQUVBLHdDQUNBLG1CQUNBLGdCQUVBLE1BQ0Esa0NBQ0EscUNBRUEsb0JBQ0Esc0NBR0EsU0FFQSxZQUNBLDZDQUVBLDREQUNBLDZEQUNPLHNDQUVQLFVBRUEsV0FDQSxXQUVBLHlDQUNBLGNBQ0EsWUFDQSxZQUNBLFVBQ0EsMEJBQ0EsMkJBRUEsa0RBRUEsd0JBSUEsbUJBQ0Esb0ZBR0Esb0JBQ0EscUJBQ0EsbUJBQ0EsT0FDQSxxQkFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxzRUFDQSxvRUFDQSxvREFNQSx3RUFFQSxRQUNBLHVCQUtBOzs7O3lEQUtBLGdCQUVBLGFBQ0EsT0FDQSwyRUFDQSxnQ0FBb0csb0JBRXBHLHlFQUNBLCtCQUFtRyxvQkFLbkcsV0FDQSx5QkFDQSxzQkFDQSx3QkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGtFQUVBLEdBREEsT0FDQSx1REFDQSxrRUFDQSxvREFDQSxrRUFDQSxvRkFDQSxzREFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQWVBLGlEQUVBLFFBQ0EsZ0JBQ0EsWUFDQSx3QkFFQSxtQkFDQSxPQUNBLGlCQUNBLHFCQUNBLEtBQ0EscUJBQ0EsYUFFQSxLQUNBLHFCQUNBLFdBRUEsTUFDQSxxQkFDQSxXQUVBLGtCQUNBLFlBQ0Esc0JBQ0EsYUFDQSxzQkFDQSwwQ0FHQSxXQUNBLHFCQUNBLFlBRUEsWUFDQSxXQUNBLG1CQUNBLFdBR0EsT0FDQSxzQkFDQSxXQUNBLHNCQUNBLDBDQUdBLFVBQ0EscUJBQ0EsV0FFQSxrQkFDQSxzQkFDQSxzQkFDQSxrQkFFQSxnQkFDQSxPQUNBLFNBQ0EsY0FDQSxhQUNBLGFBQ0EsWUFDQSxZQUNBLGFBR0EsVUFDQSxtQkFDQSxZQUF3QiwrQ0FDeEIscUJBQ0EsMENBQ0Esc0RBR0EsZUFDQSxlQUNBLHVCQUVBLGdCQUNBLDJCQUlBLDJEQUNBLHFCQUNBLGlCQUNBLHlCQUdBLDJCQUNBLHFDQUVBLG9CQUNBLDZCQUVBLG9CQUNBLDZCQUVBLHVCQUNBLDRDQUVBLHNCQUVBLE9BREEsc0ZBR0EsK0JBQ0EsRUFFQyxFQUFELDhCQUNBLDhCQUNBLGlDQUNBLCtCQUNBLCtCQUNBLHdFQUNBLFVBQ0Esa0NBQ08sbUJBRlAsR0FJQSwyQkFDQSxFQUVDLEVBQUQsZ0ZBQ0EsaUNBRUEsNkZBQ0EsVUFDQSxrQ0FDTyxHQUpQLE1BSU8sT0FGUCxHQUlBLHFCQUNBLG1GQUVBLG9CQUNBLDBEQUVBLDBCQUNBLDZFQUVBLHFDQUNDLEtBQUQsY0FEQSxFQUVBLGdDQUNBLGlDQUNBLDJDQUVBLHlDQUNDLEtBQUQsY0FEQSxFQUVBLHdDQUNBLDBDQUVBLHFDQUNDLEtBQUQsMkJBQ0EsMkNBR0EsT0FDQSxnQkFDQSxvQkFDQSw2Q0FFQSxnQkFDQSxvQkFDQSw2Q0FFQSxPQUNBLG9CQUNBLHdCQU9BLHVCQUNBLCtCQUVBLG1CQUVBLHlKQUVBLFNBQ0EsOEJBQ0MsRUFBRCxrQkFDQSxtQkFHQSxPQUZDLEtBQUQsb0NBQ0EsMkJBQ0EsR0FFQSxxQkFDQSxrQ0FDQSxTQUNBLGNBQ0Esc0NBQ0EsbUNBQ0EsbUNBQ0EsaUNBQ0EsbUNBQ0Esb0NBQ1MsbUJBQ1QsYUFDQSxxQkFDQSxvQkFFQSxJQUNBLDJCQUVPLHFCQUVQLHVCQUNBLHlNQUVBLG9CQUNBLG9DQUNBLFNBQ0EseUJBQ0EsbUJBQ0EsdUJBQ0EsWUFDQSxhQUNTLGdCQUdULDZCQUNBLGtGQUNBLHlDQUNBLDBCQUNPLCtFQUNQLG1DQUNBLCtCQUVBLGtDQUNBLHdDQUNBLGFBRkEsSUFLQSxvQkFDQSxXQUVBLDJDQUhBLElBSUMsRUFBRCwwQkFDQSx5Q0FDQSxnQ0FDQSw4QkFDQSwyQkFDQSw2QkFDQSxFQUVDLEVBQUQsOEJBQ0EsS0FFQSxpQkFDQSwrQkFDQSxvQ0FDVyxrQkFUWCxJQVlDLEVBQUQsbUJBQ0EsbURBQ0EsZ0NBQ0EsTUFDQSw2QkFDQSxPQUNBLDRCQUVBLFVBQ0EsYUFDQSxlQUNXLDZEQUhYLElBTkEsTUFZQSxrQ0FDQSx3Q0FDQSxPQUNBLDJGQUhBLElBT0EsaURBQ0EsUUFDQSxXQUZBLElBS0MsRUFBRCxrQkFDQSwrQkFFQSxPQURDLEtBQUQsOENBQ0EscUVBQ0EsTUFDQSx3Q0FDQSxPQUNBLHNDQUNBLHVDQUNBLDZEQUVBLHNDQUNBLFNBQ0EsY0FDQSxxRkFDQSx3QkFDQSx5QkFDQSx5QkFDQSxtQ0FDQSxpQ0FDQSwwREFDUyxhQUNULElBQ0EsUUFDQSxPQUNBLHVCQUNBLG1CQUNBLGFBQ0EsZUF6QkEsSUE2QkEsaUNBQ0EsMEVBQ0EsVUFDTyxzQ0FFUCw4QkFDQyxFQUFELHdDQUNBLDZLQUNBLCtDQUNBLE9BQ0EseUJBRU8sNEJBQ1AsOENBQ0EsYUFDQSxZQUNBLG1FQUVPLDRFQUNQLG9DQUNBLE9BQ0EsU0FDQSxRQUNBLGVBRU8scUNBRVAsb0JBQ0Esa0ZBQ0Esa0NBR0Esd0NBQ0EsRUFFQyxFQUFELDJCQUNBLDRCQUVBLE9BREMsRUFBRCx1QkFDQSxHQUNBLGtDQUNPLFNBRlAsR0FJQSw2QkFDQSxpQ0FDQSxrQkFDQSxpQkFIQSxJQUlDLEdBQUQscUJBQ0EsV0FDQSxZQUVBLHlCQUNBLFlBR0EsZUFDQSwwREFDQSw2RUFFQSwwREFDQSwyRUFHQSx3Q0FFQSw0QkFDQSxvQkFDQSxrQkFDQSw2QkFDQSxZQUVBLDZEQUNBLDZEQUNBLHFDQUVBLHdEQUNBLHdDQUNBLGlCQUdBLGtCQUVBLHdCQUNBLG1DQUNBLHNCQUVBLHNCQUNBLG1DQUNBLDhDQUNBLFVBQ0EscUJBQ0EsMEJBRUEsbUJBQ0EsbUJBRUEsMEJBQ0EsYUFDQSxpQkFJQSxpQkFDQSxRQUNBLG9CQUNBLDBDQUVBLG1CQUNBLGtCQUNBLHNCQUVBLG9CQUNBLGtCQUNBLHVCQUVBLCtCQUNDLEVBQUQsMkJBQ0EsaUNBQ0Esb0NBRUEsMkNBRUEsT0FFQSxPQUVBLHFDQUdBLHVCQUtBLE9BSkEsdUJBQ0EsMkJBR0EsQ0FDQSxNQUZBLHFEQUdBLGNBSkEsZUFPQSwyQkFDQSxtQkFDQSx3QkFDQSxzQkFDQSxpQkFDQSxrQkFDQSxrQkFDQSxtQkFDQSxrQkFDQSxnQkFDQSwwQ0FDQSxtQkFEQSxJQUVDLEVBQUQsb0JBQ0Esa0NBRUEsaUNBQ0EsbUJBREEsS0FFQSwrQkFDQSwwQkFFQSxHQURBLGlDQUVRLEdBQUQsY0FDUCxxQkFDUSxHQUFELGNBQ1Asb0JBQ08sS0FDUCxvQkFDQSxrQkFHQSxZQUVBLHVCQUNBLDhCQURBLElBSUMsRUFBRCw0QkFDQSxnREFDQSxpQ0FDQSwrQ0FDQSxzREFPQTs7Ozt5Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUloRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHdFQUVBLEdBREEsT0FDQSxtRUFDQSxzRUFDQSwwRUFDQSxvREFDQSxzREFVQSwrR0FFQSxRQUNBLGtCQUNBLE9BQ0Esa0JBRUEsU0FDQSxZQUNBLGFBRUEsa0JBRUEsZ0JBQ0EsT0FDQSxtQkFHQSxVQUNBLG1CQUNBLE9BQ0EsZ0NBQ0Esa0NBQ0EseUNBQ0EsMEJBQ0EscURBQ0EsNEJBQ0Esd0JBQ0EscUNBSUEsT0FDQSxvQkFDQSxvQkFHQSxtQkFDQSwyQ0FDQSx1Q0FHQSxtQkFDQSxtQkFFQSxTQUNBLHNCQUNBLFdBRUEsd0NBRUEsOEJBQ0EsaURBQ0EsZ0JBQ1MsaUJBSVQsbUJBQ0EsdUJBQ0EsT0FDQSw0QkFFSyx5QkFDTCxzQkFDQSxtQkFDQSxvQkFDSyw2Q0FDTCxpQ0FDSyxVQUNMLGdDQUNLLCtCQU1MOzs7OzJDQUtBLGdCQUVBLGFBQ0EsT0FDQSxxRUFDQSw4QkFBa0csb0JBSWxHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFTQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FSeFUsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSxtRUFDQSxvRUFDQSxvREFDQSx3RUFDQSx3RUFHQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVlBLHlEQUNBLGtCQUNBLGdCQUNBLE9BQ0EsaUJBQ0Esa0JBQ0EsWUFDQSxhQUVBLGdCQUNBLFlBQ0EsZ0JBRUEsZUFDQSxhQUNBLFlBRUEsT0FDQSxZQUNBLG1CQUVBLE1BQ0EsYUFDQSxZQUVBLFVBQ0EsV0FDQSxtQkFDQSxXQUdBLG1CQUNBLFlBQ0Esc0JBQ0EsbURBRUEsZUFFQSxRQUNBLHFCQUNBLFlBRUEsUUFDQSxXQUNBLG1CQUNBLFdBR0EsV0FDQSxxQkFDQSxXQUVBLFdBQ0EscUJBQ0EsV0FFQSxTQUNBLHFCQUNBLFdBRUEsbUJBQ0EsUUFDQSw2QkFDQSxZQUVBLE1BQ0EsWUFDQSxnQkFDQSxzQkFDQSxvQ0FHQSxPQUNBLFdBQ0EsbUJBQ0EsV0FHQSxPQUNBLHFCQUNBLGNBR0EsZ0JBQ0EsT0FDQSxlQUdBLFVBQ0EsbUJBQ0EsVUFDQSxrQkFDTyxvQkFFUCx5QkFDQSxxQkFFQSx1QkFDQSxtQkFFQSx3QkFDQSxpQ0FFQSwyQkFDQSx1Q0FFQSx1QkFDQSx3QkFFQSxPQURDLEtBQUQsZ0RBQ0EsR0FFQSxzQkFDQSx1QkFFQSxNQURBLDhEQUNBLEdBRUEsdUJBQ0EsMEJBRUEsc0JBQ0EsNENBQ0EsOENBQ0EsNENBRUEsc0NBR0Esb0JBQ0EsNEJBQ0EsT0FDQSxxQkFDQSxPQUNBLHdCQUVBLHlCQUNBLE9BQ0EsT0FDQSx1QkFDQSxPQUNBLDJCQUdBLHFCQUNBLDBFQUVBLHdCQUtBLFFBSkMsRUFBRCxHQUNBLGVBQ0EsV0FFQSxJQUFxQixXQUFxQixTQUN6QyxFQUFELEtBQ0EsaUJBRjBDLElBSzFDLDZCQUdBLFFBQ0EsTUFDQSxhQUlBLFVBRUEsNEJBQ0EsbUNBQ0EsdUNBR0EsbUJBQ0EsMklBRUEsaUJBQ0Esd0JBRUEsTUFEQSw0QkFDQSxHQUVBLG1CQUNBLHdDQUdBLE9BQ0EsT0FDQSxhQUNBLG1CQUNBLFdBRUEsMkJBQ0EsbUNBQ0MsRUFBRCxhQUNBLHFCQUVBLFFBUUEsd0NBQ0EsMEJBQ0EsOEJBQ0EsMEJBQ0EsMEVBQ0EsZ0NBWkEsMEJBQ0EsZ0NBQ0EsMkRBQ0EsMEJBQ0Esa0ZBQ0EsOEJBVUEsc0JBS0EsU0FDQSwyQkFDQyxFQUFELEtBRUEseUJBQ0Esd0JBR0EscUJBUEEsSUFRQyxFQUFELGdCQUNBLGlDQUNBLGdDQUNBLE9BQ0EsV0FDQSw4Q0FJQSx5RUFDQSxPQUNBLGFBQ0EsaUJBQ0EsZ0JBQ0Esa0JBQ0EscUJBTkEsTUFVQSxpQkFDQSxnQ0FDQSxPQUNBLGFBQ0Esb0JBQ0EsZ0NBQ0Esa0NBTEEsSUFTQSxtQkFDQSwrREFDQSxtQ0FDQSxPQUNBLGFBQ0EsZ0VBQ0EsNENBQ0EsK0NBRUEsY0FHQSwwQkFDQyxFQUFELEtBRUEsdUNBQ0EsZ0NBQ0EsT0FDQSx1QkFDQSxnQ0FDQSw4QkFFUyxzQkFFVCxxQkFFQSx1QkFDQSx3REFDQSxRQUNBLGdCQUNPLFNBRVAsbUJBQ0EsMENBRUMsRUFBRCx1REFFQSx1Q0FDQSxrQ0FDQSxPQUNBLGdCQUNBLHFEQUVBLG9CQUNPLHNKQUNQLE9BQ0EscURBQ0EsNkJBRU8sNkJBQ1AsT0FDQSxJQUNBLElBQ0Esc0JBQ0EsNEJBSUEsa0NBQ0MsRUFBRCxLQUVBLDJEQUNBLHVDQUNBLE9BQ0EsZUFFTyxtQkFDUCxnQ0FDQSxPQUNBLFFBQ0EsTUFDQSxRQUNBLGdCQUNBLEtBQ0EsT0FFUyx3Q0FDVCxPQUNBLHVCQUNBLE9BQ0EsWUFDQSw0QkFDQSxzQkFOUyxTQVdULG9CQUNBLCtEQUNBLFdBQTBCLGFBQzFCLGdCQUNBLGtDQUNBLGlEQUVBLHFCQUNPLDBGQUdQLHlCQUNDLEVBQUQsc0JBREEsRUFFQSx1REFNQTs7OzsyQ0FLQSxnQkFFQSxhQXVDQSxTQUFTLEVBQVQsU0FDQyxFQUFELE9BQ0EsU0FDQSxTQUNBLFNBQ0EsV0FDQSxxQkFDQSxxQkFHQSw0QkFDQSxPQUNBLFFBSkEsWUFLQSxLQUpBLGVBSUEsbUNBQ0EsWUFJQSxTQUFTLEVBQVQsU0FDQyxFQUFELE9BQ0EsU0FDQSxTQUNBLFNBQ0EsV0FDQSxxQkFDQSxxQkFDQSxXQUNBLFdBVEEsSUFXQyxHQUFELFdBQ0EsV0FDQSw0QkFDQSxhQUNBLE9BQ0EsT0FOQSxLQU9BLGdCQUNBLFNBQ0EsWUEzRUEsT0FDQSw4QkFBbUcsWUFDbkcsNEJBQWlHLFlBTGpHLElBTUEsZ0JBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQUdBLGFBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxXQStDQTs7Ozs0REFLQSxnQkFFQSxhQUtBLFNBQVNGLEVBQVQsR0FDQSxzQkFTQSxTQUFTLEVBQVQsT0FDQSxvREFFQSxTQUFTLEVBQVQsS0FDQSxvQ0FFQSxTQUFTLEVBQVQsV0FDQyxFQUNELFFBREMsRUFFRCxRQUVBLGFBQ0EsRUFDQSxJQURBLEVBRUEsSUFFQSxPQUNBLFVBQ0EsV0FoQ0EsT0FDQSxtQ0FBd0csWUFDeEcsZ0NBQXFHLFlBQ3JHLDJCQUFnRyxhQW1DaEc7Ozs7Z0NBS0EsZ0JBRUEsYUFTQSxTQUFTLEVBQVQsY0FDQSxRQUNBLFdBR0EsUUFDQSxNQU5BLElBU0MsRUFBRCxVQUNBLGdCQUNBLDBGQUNDLEVBQUQsT0FDQSxZQUNBLHFDQUVBLFNBQ0Esc0JBTkEsSUFTQyxFQUFELHlEQUVBLEVBREEsTUFDQSxNQUNBLDBCQUNBLDBCQUNBLHlEQUNHLDJDQWxDSCxPQUNBLDRCQUFpRyxZQUNqRyxxRUFxQ0E7Ozs7NENBS0EsZ0JBRUEsYUFDQSxPQUNBLHdFQUNBLCtCQUFtRyxvQkFJbkcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwyRUFFQSxHQURBLE9BQ0EscUVBQ0EsMEVBQ0EsOEVBQ0Esb0ZBQ0Esb0RBYUEsbUVBQ0Esb0JBQ0EsWUFDQSx3QkFFQSxPQUNBLFdBQ0EsWUFDQSxjQUNBLHNCQUNBLG9EQUdBLG9CQUNBLFlBQ0EsWUFDQSw2QkFHQSxVQUNBLG1CQUNBLE1BRUEsVUFDQSxrQkFDQSw2QkFDQSxpQ0FDQSxtQ0FDQSwrQkFDQSx1Q0FDQSxtQ0FDTyx5RkFSUCxJQVdBLHVCQUNDLEVBQUQsS0FFQSxLQUNBLEdBQ0EsbUJBQ0EsYUFDQSxxQkFDQSxpQkFDQSx3QkFHQSxJQUNBLGlCQUNBLGlDQWVBLEdBVkEsbUJBQ0EsMkJBQ0Esc0JBR0EsMkJBQ0EsdUJBSUEsZUFDQSxRQUNBLHNEQUNDLEVBQUQsc0lBU0EsUUFWQSxJQUVBLElBQ0EsU0FDQSxPQUNBLDJCQUVBLE9BQ1csU0FRWCw0QkFDQSwyQkFDQSxPQUNBLHFCQUNBLGVBQ0EsbUJBQ0EsWUFOQSxHQVNBLGdEQU1BOzs7OzRDQUtBLGdCQUVBLGFBQ0EsT0FDQSx3RUFDQSwrQkFBbUcsb0JBSW5HLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUVBRUEsR0FEQSxPQUNBLHVFQUNBLG9FQUNBLG9FQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBWUEsc0VBR0Esb0JBQ0EsaUJBQ0EsbUJBQ0EsT0FDQSx5QkFDQSwyQkFHQSxPQUNBLGtCQUNBLGtCQUNBLGtCQUVBLGdCQUNBLE9BQ0EsWUFDQSxTQUNBLFdBQ0EsZUFHQSxVQUNBLG1CQUNBLFVBQ0EscUNBQ0Esb0NBQ0EsdUNBQ0Esd0NBQ08scUJBR1AsT0FDQSw0QkFDQSxxQkFDQSxzQkFDQSxvQkFHQSxtQkFFQSx1QkFDQSw2Q0FHQSxtQkFDQSx1REFBK0QsUUFDL0QsbUJBRUEsU0FDQSxxQkFDQSxtQ0FDQSxtQkFDTyx3Q0FDUCwyQkFDQSx1QkFHQSx1QkFDQSxtQ0FDQSwwQ0FDQSxnQkFFTyx3Q0FDUCwyQkFDQSw4Q0FDQSxrQkFJQSxzQkFDQSxXQUVBLDJCQUNBLDZCQUdBLHNCQUNBLDRCQUF5QyxRQUN6Qyx5Q0FHQSwwQkFBMkMsUUFDM0MsNERBSUEsbUJBQ0EsZ0JBQ0Esd0JBQ0Esb0JBQ0sseUJBTUw7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsa0VBQ0Esd0VBQ0Esc0RBQ0Esb0RBU0EsaUZBR0EsNkJBQ0EseUJBQ0EsUUFDQSxvQkFDQSxvQkFHQSxPQUNBLE1BQ0EscUJBQ0EsY0FHQSxnQkFDQSxPQUNBLFNBR0EsY0FDQSxhQUNBLHFDQUdBLFVBQ0EsOEJBR0EsT0FEQSxrREFDQSwwQ0FFQSx5QkFDQyxLQUFELFdBQ0EsQ0FDQSw2Q0FGQSxLQU1BLE9BQ0EsOEJBR0MsR0FBRCxhQUNBLDBCQUlBLGtCQUNBLDJCQUFzQyxpQkFHdEMsbUJBQ0EsMEVBQ0EsMkNBRUEseUJBQ0EsNkVBQ0EsNkNBRUEsU0FDQSx5QkFDQSwyQ0FDQSxxQkFFQSxxQkFDQyxFQUFELEtBRUEsSUFFQSxrQ0FDQSxrQ0FFQSxjQUVBLHVCQUNBLDBDQUNPLE1BRVAsaUJBQ0EsV0FFQSw0Q0FDQSx1QkFDQSxvQkFDTyxLQUVQLHFCQUNBLGtEQUNBLG1CQUdBLHVCQUNDLEVBQUQsQ0FDQSxrQ0FFQSxHQUNBLGlDQUNBLGtCQUNBLGVBR0Esa0JBQ0EsZUFDQSxZQUNBLHVCQWJBLElBaUJDLEVBQUQsaUNBQ0EsaUJBQ0Esa0NBQ0Esb0JBQ0ssU0FNTDs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxzREFDQSxvRUFDQSx3RUFDQSxzRUFDQSxvREFVQSx3RkFHQSw2QkFDQSxzQkFDQSxZQUNBLGtCQUVBLHFCQUNBLE9BQ0EsT0FDQSxZQUNBLG1CQUVBLGlCQUNBLGNBQ0EsWUFDQSxxQkFFQSxpQkFDQSxVQUNBLFlBQ0EsaUJBRUEsV0FDQSxZQUNBLGtCQUVBLE9BQ0EsV0FDQSxtQkFDQSxXQUdBLHNCQUVBLGdCQUNBLE9BQ0EsWUFDQSxnQkFHQSxVQUNBLG1CQUNBLE9BQ0Esd0NBQ0EsMENBQ0EsNENBQ0EsbURBQ0EsNENBR0Esb0JBQ0Esb0NBQ0Esb0JBSUEsbUJBQ0EsMkNBRUEseUJBQ0EsNkNBRUEsU0FDQSxrQkFDQSxvQkFDQSxzQkFFQSxlQUNBLDJCQUdBLG9CQUNBLHlDQUVBLG9CQUNBLGtDQUNBLGdDQUNPLHNCQUVQLG1CQUNBLG1FQUNBLDZEQUNBLHNDQUNPLHdCQUVQLDBCQUNBLFNBY0EsT0FaQyxLQUFELFNBQ0EscUNBQ08sY0FDUCxjQUNBLG9DQUVBLHdDQUdBLHFCQUdBLEdBRUEsbUJBQ0Esa0RBQ0EsZ0NBR0EsbUJBQ0EsZ0JBQ0EsOEJBQ0EsbUJBQ0EsYUFDQSxjQUNBLHNCQUVBLElBQ0EsbUJBRUssc0NBTUw7Ozs7d0dBS0EsZ0JBRUEsYUFDQSxPQUNBLG1DQUF3RyxZQUN4RyxrQ0FBdUcsWUFMdkcsSUFNQSxzREFDQSw4REFDQSw2QkFBaUcsb0JBRWpHLDBFQUNBLGlDQUFxRyxvQkFFckcsZ0ZBQ0Esb0NBQXdHLG9CQWR4RyxJQW9CQSx3REFDQSx1REFFQSxXQUNBLHlCQUNBLG1CQUNBLDBCQUNBLHVCQUNBLGlCQUNBLG1CQU1BOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsMkVBRUEsR0FEQSxPQUNBLG1FQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBUUEsdUNBRUEsUUFDQSxtQkFDQSxPQUNBLGVBRUEsbUJBQ0EsZ0JBQ0EsMEJBQ0EsU0FDQSxpQ0FDTyxtQkFDUCxrQkFDQSxvQkFDSyx5QkFNTDs7Ozs0Q0FLQSxnQkFFQSxhQUNBLE9BQ0Esd0VBQ0EsK0JBQW1HLG9CQUluRyxxQkFJQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLCtHQUVBLEdBREEsT0FDQSxpRUFFQSxHQURBLE9BQ0EscUVBQ0Esd0RBQ0Esb0VBQ0Esa0VBQ0EsNEdBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFrQkEsNEJBQ0EsZ0JBQ0EsWUFDQSxpQkFFQSxPQUNBLGNBQ0EsU0FDQSxzQkFDQSxZQUVBLE1BQ0EsYUFDQSxhQUdBLFVBQ0EsbUJBQ0EsWUFBd0IsK0NBQ3hCLGlEQUNBLGtDQUNBLHVDQUdBLGlCQUNBLE9BQ0EsZ0NBQ0EsaUNBQ0EsZ0JBTUEsa0NBQ0MsS0FBRCxzQ0FDQSwwQkFDQSwwQkFIQSxFQUdBLG9CQUdBLHNCQUNBLG1FQUNBLDRCQUlBLFNBQ0EsMEJBQ0EsMENBRUEscUJBQ0Esa0NBQ0Esa0RBQ08sK0JBQXdDLGdGQUMvQyxhQUNBLGFBQ0EsT0FDQSxzQkFDQSw4QkFHTyw2QkFDUCxzQ0FDTywrQ0FDUCxzQ0FDTywwQ0FFUCx1QkFDQSwrQ0FBZ0csNkVBQ2hHLE9BQ0EsOEVBQ0EsUUFDQSxRQUNBLHVCQUlBLHVCQUNBLGdDQUVBLHdCQUNBLGdDQUVBLHVCQUNBLGdIQU9BOzs7O3lDQUtBLGdCQUVBLGFBQ0EsT0FDQSwrREFDQSw0QkFBZ0csb0JBSWhHLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsMkVBRUEsR0FEQSxPQUNBLCtFQUNBLG9FQUNBLG9FQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBWUEsOEZBRUEsUUFDQSxvQkFDQSxPQUNBLHVCQUNBLGtCQUNBLGdCQUVBLFVBQ0EsbUJBQ0EsVUFDQSwwQ0FDQSx1Q0FDQSw2REFDQSxvQ0FDTyxvQkFFUCxpQ0FDQyxLQUFELE9BQ0EsK0RBR0EsbUJBRUEsa0JBQ0EsT0FDQSx1REFJQSxTQUNBLDZCQUNBLDREQUdBLG1CQUNBLE9BQ0EsMkJBQ0EsbUJBQ0Esa0JBQ0Esb0JBRUEsa0ZBTUE7Ozs7NENBS0EsZ0JBRUEsYUFDQSxPQUNBLHdFQUNBLCtCQUFtRyxvQkFJbkcscUJBSUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0VBQ0Esa0VBQ0Esb0VBQ0Esd0RBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFVQSw4QkFFQUssT0FBTyxFQUFQLFFBQUFBLENBQUEsc0JBQ0Esc0NBQ0EsYUFDQSxPQUNBLFFBQ0Esc0JBQ0EsYUFHQSxnQkFDQSxPQUNBLDZCQUdBLFVBQ0EsbUJBQ0EsVUFDQSxZQUNPLCtDQUNQLGlDQUNPLG9CQUVQLGlCQUNBLDZCQUVBLDBDQUVBLEVBREEsc0RBQ0EsTUFHQSwyQkFHQSxtQkFDQSxzQkFFQSxTQUNBLGtCQUlBLHlEQUNBLDBCQUNBLHNCQUNBLHlCQUdBLHVCQUNDLEVBQUQsS0FFQSwyQkFDQSxRQUNBLFNBY0EsT0FaQyxFQUFELFdBQTRCLFNBQzVCLGlDQUNBLFdBQ0EsYUFFQSxVQUF5QixNQUN6QixvQkFDQSx5Q0FFQSx3QkFHQSwrQkFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BQ0EsZ0ZBS0EsNEJBQ0Esa0JBQ0EsT0FDQSxXQUVBLFNBQ0EseUJBQ0EseURBR0EsT0FGQyxFQUFELGtDQUNBLHVDQUNBLE9BT0E7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSw0REFFQSxHQURBLE9BQ0EsMERBQ0EsK0RBQ0EsaUVBQ0Esb0VBQ0Esb0VBQ0Esb0VBQ0Esc0VBQ0Esc0RBQ0Esb0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFrQkEsbURBQ0EsNkJBQ0EsY0FDQSxZQUNBLGtCQUVBLE9BQ0EsYUFDQSxZQUNBLFlBRUEsdUJBQ0EsdUJBQ0EscUJBQ0EsaUJBQ0Esa0JBQ0EsYUFDQSxRQUNBLHFCQUNBLGdCQUVBLG1CQUNBLHFCQUNBLGtCQUNBLHFCQUNBLGNBRUEsVUFDQSxZQUNBLGlCQUVBLGlCQUNBLFVBQ0EsWUFDQSxpQkFFQSxjQUNBLG1CQUNBLG1CQUNBLFlBQ0EscUJBQ0EsV0FFQSxrQkFFQSxnQkFDQSxPQUNBLGdCQUNBLFFBQ0EsWUFDQSxVQUNBLFdBQ0EsU0FDQSxZQUVBLHFCQUdBLFVBQ0EsbUJBQ0EsVUFDQSwrQ0FDQSxpQ0FDQSxvQ0FDQSx5QkFDQSwyQ0FDQSwyQkFDQSxrQ0FDTyxvQkFFUCxzQkFDQSx5Q0FFQSx3QkFDQSxPQUNBLG1EQUNBLHNFQUNBLHdFQUNBLGtFQUNBLDhDQUNBLG1EQUdBLGdDQUNDLEtBQUQsaUJBQXdDLHFDQUF3RCxZQUdoRyxPQUNBLDRCQUNBLHNCQUNBLDBCQUNBLHVCQUNBLGtCQUNBLG1CQUNBLHdCQUNBLHNCQUNBLHVDQUNBLHdDQUNBLDJCQUVBLG1CQUNBLFdBRUEsMkJBQ0EsdUNBR0EsU0FDQSxzQkFDQSxXQURBLE9BR0EsMEVBS0EsMkJBRUEscUNBR0EsY0FHQSxPQUZDLEVBQUQsb0JBQ0EsaUJBSUEsWUFDQSxVQUNBLCtDQUNBLCtCQUNBLDhDQUNBLGdCQUNBLGtEQXpCQSxJQUlBLHFCQUpBLElBOEJBLHlCQUNDLEVBQUQsS0FFQSxHQUNBLE9BQ0EsNkNBRUEsT0FDQSw2QkFDQSwrQkFDQSxlQUNBLGlCQUNBLHlCQUNBLHVDQUNBLHVCQUNBLHVCQUNBLDJCQUNBLDBCQUVBLElBQ0EsOEJBQ0EsbUJBQ0Esb0JBR0EsYUFJQSxPQUZDLEtBQUQsbUNBQ0EsZ0RBQ0Esd0RBRUEsdUJBQ0EsV0FEQSxXQVFBLFNBQ0EsK0JBQ0EsT0FDQSwwQkFFQSxJQUNBLG1CQUNBLHFCQU5BLEdBREEsT0FZQSw2QkFDQyxLQUFELGlCQURBLElBSUEsaUNBQ0EsT0FDQSwyQkFLQSwyQkFDQSxvQ0FDQSx5QkFDTyxPQUVQLG9CQUNBLG9CQUNBLGlDQUNBLDBEQUVBLHNCQVFBLFVBUEMsRUFBRCxLQUNBLE9BQ0EsS0FDQSxLQUNBLDBCQUNBLFdBRUEsSUFBcUIsSUFBWSxJQUdqQyxNQUZBLE1BRUEsaUJBQ0EsNkNBQ0Esb0JBQ0EsSUFDQSxNQUVBLG1CQUNBLElBQ0EsTUFFQSxpQkFDQSxVQUNBLE1BR0EsUUFDQSxlQUdDLEVBQUQsUUFXQSxPQUNBLE1BQ0EsU0FDQSxRQUNBLFVBSUEsbUJBQ0Esd0JBQ0EsUUFDQSxXQUNBLFVBQ0EsU0FFQSxnQkFDQSxxQkFDQSxtQkFDQSxhQUNBLGNBQ0EsV0FDQSxVQUVBLHVCQUVLLDJDQU1MOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLG9GQUNBLG9FQUNBLDBFQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBeUJBLGtFQUVBLFFBQ0Esa0JBQ0EsbUJBQ0EsT0FDQSxlQUdBLFVBQ0EsbUJBQ0EsWUFBd0Isc0RBQ3hCLGdCQUNBLHNDQUVBLDJDQUNPLHFCQUdQLE9BQ0EsbUJBQ0EsMkJBQ0Esd0JBRUEsU0FDQSxzQkFDQSxlQUNBLDJCQUVBLHNCQUNBLDZEQUdBLE9BRkMsRUFBRCxnQkFDQSwyQ0FDQSxHQUVBLDRCQUNBLFFBSUEsd0JBQ0MsRUFBRCxXQUNBLFNBQ0EsU0FDQSxLQUNBLEtBRUEsSUFDQSxZQXRFQSxZQUNBLG9EQUNBLElBRkEsU0FHQSxVQUNBLENBQ0EsZ0JBRUEsT0FEQyxHQUFELHdCQUNBLENBQ0EsZ0JBQ0EsV0E2REEsZ0JBQXVFLFVBQXZFLEVBQ0EsU0FDQSxZQUFpRCxrQkFDakQsT0FId0YsYUFLakYsU0FDUCxHQUNBLFNBUkEsUUFXQSxJQUNBLG9DQURBLFFBR0EscUJBT0EscUNBR0EsbUJBQ0EsbURBSUEsT0FIQyxFQUFELFlBQ0EsZ0JBRUEsTUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvRUFDQSxrRkFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVNBLDRCQUNBLG9CQUNBLE9BQ0EsV0FDQSxhQUNBLGFBR0EsVUFDQSxtQkFDQSxZQUF3QiwrQ0FDeEIscUJBR0Esa0JBQ0EseUJBR0EsU0FDQSx1QkFDQSwwRUFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxvRUFDQSxvREFPQSwrQ0FDQSxxQkFDQSxtQkFDQSxtREFDQSxtQ0FPQTs7OztnRkFLQSxnQkFFQSxhQUNBLE9BQ0EseURBQ0EsMEJBQThGLG9CQUU5Rix1REFDQSx5QkFBNkYsb0JBRTdGLG1FQUNBLCtCQUFtRyxvQkFFbkcsK0RBQ0EsNkJBQWlHLG9CQUVqRyxxRUFDQSxnQ0FBb0csb0JBUXBHLFdBQ0EseUJBQ0EsZ0JBQ0EsZUFDQSxxQkFDQSxtQkFDQSx5QkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDJFQUVBLEdBREEsT0FDQSx1REFDQSw0REFDQSx3REFDQSxrRUFDQSxzRUFDQSxzREFDQSxzREFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQW1CQSx5Q0FDQSxpRUFHQSw2QkFDQSxvQkFDQSxZQUNBLGtCQUVBLGdCQUNBLE9BQ0EsdUJBQ0Esa0JBQ0Esa0JBQ0EsV0FDQSxZQUNBLGtCQUVBLGdDQUNBLGVBQ0EsYUFDQSxrQkFDQSxhQUNBLGlCQUNBLG1CQUNBLGNBQ0Esd0JBQ0EsZ0JBQ0EsZ0JBQ0EsZUFDQSxtQkFDQSxhQUNBLHFCQUNBLGNBQ0EsTUFDQSxZQUNBLGlCQUdBLGdCQUNBLE9BQ0EsWUFDQSxhQUNBLGNBQ0EsZUFDQSxrQkFDQSxZQUNBLGdCQUdBLFVBQ0EsbUJBQ0EsWUFBd0IsK0NBQ3hCLGtCQUNBLDBDQUNBLG1DQUNBLDBDQUNBLGlDQUNBLGdEQUNBLG9DQUNBLG1DQUNBLHdDQUNBLHlDQUNBLHFDQUNBLHVDQUNBLDZDQUNBLHFDQUNBLHNDQUdBLHdCQUNBLGtEQUVBLGVBQ0EsZUFDQSx1QkFFQSxnQkFDQSxpQkFDQSxxQ0FHQSxtQkFDQSxnRkFFQSxzQkFDQSxnRUFFQSx5QkFDQSw0Q0FFQSxvQkFDQSxxREFFQSxrQkFDQSxxQ0FFQSx5QkFDQSx1REFFQSxPQURDLEtBQUQsc0RBQ0Esa0NBQ0EsT0FDQSxjQUNPLENBQ1AsWUFDQSxVQUdBLHFCQUNBLGdGQUVBLHNCQUNBLGlGQUdBLE9BQ0EsMkJBQ0EseUJBQ0EsaUJBQ0Esb0NBRUEsa0JBQ0EscUNBRUEsc0JBRUEsZ0JBRkEsRUFLQSxpQ0FDTyxvQ0FDUCxxQ0FHQSxrQkFDQSxtQkFHQSxtQkFFQSxtQ0FDQSx3Q0FLQSxvREFDQSwrREFLQSx5REFDQSxvRkFHQSxtQkFDQSxXQUVBLCtCQUNBLHFCQUNBLHNCQUNBLHVCQUNBLGtDQUNBLHlCQUdBLFNBRUEsaUJBQ0EsZ0JBSUEsZ0JBQ0EsV0FJQSx5Q0FDQSx3Q0FHQSw2QkFDQSxXQUVBLDJDQUNBLDJCQUNBLGdDQUdBLHlCQUNBLFNBUUEsT0FOQyxLQUFELHVCQUNBLG9DQUNPLHNCQUNQLG9DQUdBLGtDQUVBLCtCQUNBLFNBUUEsT0FOQyxLQUFELHdCQUNBLHFDQUNPLHVCQUNQLHFDQUdBLG1DQUVBLHVCQUNBLFNBUUEsT0FOQyxLQUFELGNBQ0EsMkJBQ08saUJBQ1AsK0JBR0Esa0NBRUEsNEJBQ0MsRUFBRCxrREFDQSw2QkFPQSxXQUpBLDBCQUNBLHVCQUdBLEdBRUEsd0JBQ0EsK0JBQ0EsOEJBQ0EsZ0ZBRUEsc0JBQ0EscURBQ0EsMkRBQ0Esc0NBQ0EsT0FDQSxlQUNBLGlCQUNBLE1BQ0EsNEJBSUEsMEJBQ0EsOEdBRUEsOEJBQ0MsS0FBRCxTQUNBLGdDQUNBLE9BQ0EsbUJBRU8sb0JBTFAsTUFPQSxvQkFDQSwrQkFDQSxPQUNBLE9BQ0EsWUFDQSwyQkFDQSxlQUNBLHVCQUNBLGlFQUNBLG9CQUNBLDZCQUNBLGlCQUNBLCtCQUNBLHdCQUdBLHVFQUVBLHlCQUNDLEVBQUQsbUVBQ0EsOEJBQ0EsVUFDQSx1QkFHQSxxQ0FDQSxPQUNBLHdEQUVPLE1BRVAsb0JBQ0EsdUJBQXNDLGlCQUd0QyxjQUZBLFNBRUEsNkJBQ0EsU0FDQSxVQUNBLHNCQUVBLFdBQTBCLGFBQzFCLHlCQUNBLHVCQUNBLG1CQUNBLDZCQUNBLHVCQUNBLGlCQUVBLG9CQUNBLGlCQUNBLG1CQUNBLG1CQUNBLHlCQUVBLGVBR0EsOEJBQ0MsS0FBRCxpQkFDQSwyQkFDQSxxQ0FDTyx1RUFFUCw0QkFDQSxrQ0FDQSxrQ0FDTyxzSEFFUCxxQkFDQSxrQ0FDQSx5QkFDQSxPQUNPLFVBRVAsbUJBQ0EsV0FFQSxrQkFDQSw4QkFDQSw2QkFHQSxtQkFDQSxrREFDQSwwQkFFQSwyQkFDQyxLQUFELFlBRUEsZ0RBSUEsaUJBQ0Esa0JBQ0EsMkJBTEEsOEJBSkEsR0FZQSxvQkFDQSxlQUNBLDJCQUNBLCtDQUVBLHNCQUNBLHNFQUNBLHlCQUVBLHdCQUVBLDhCQUNBLG1CQUNBLHFCQUdBLG9EQUVBLHNCQUNBLGdDQUNBLGtEQUVBLHlCQUNBLGtDQUNBLHFEQUVBLDBCQUNBLG9CQUNBLGlEQUVBLDJCQUNBLDZDQUNBLGdFQU9BOzs7OzRDQUtBLGdCQUVBLGFBQ0EsT0FDQSx3RUFDQSwrQkFBbUcsb0JBSW5HLHFCQUlBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0VBRUEsR0FEQSxPQUNBLCtFQUNBLG9EQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBU0EsK0JBR0Esb0JBQ0Esa0JBQ0EsT0FDQSxpQkFDQSxpQkFDQSxXQUNBLHFCQUNBLFdBQ0Esc0JBQ0EsOEJBR0EsTUFDQSxxQkFDQSxVQUNBLHNCQUNBLGdDQUlBLFVBQ0EsbUJBQ0EsVUFDQSxnQkFDQSxzQ0FDQSw2Q0FDTyxnREFFUCwwQkFDQSxzQ0FHQSxPQUNBLHFCQUNBLDBEQUVBLHFCQUNBLDJEQUdBLG1CQUNBLFdBRUEsdUJBQ0EsdUNBQ0ssSUFFTCxTQUNBLGdDQUNBLHVCQUNBLE1BQ0EsbUJBREEsSUFFQyxFQUFELGVBQ0Esb0RBR0EsNkJBRUEsb0JBQ0Esb0RBSUEsT0FIQyxFQUFELHNCQUNBLGtCQUNBLDRCQUNBLEdBRUEsb0JBQ0EsK0NBQ0EsNENBRUEsc0JBSUEsZ0NBQ0Esb0JBR0EsNkJBT0E7Ozs7MkNBS0EsZ0JBRUEsYUFDQSxPQUNBLHFFQUNBLDhCQUFrRyxvQkFJbEcscUJBSUE7Ozs7Z0RBS0EsZ0JBRUEsYUFDQSxPQUNBLG1DQUF3RyxZQUp4RyxJQXVEQSxFQWxEQSxpRkFDQSxpRkFDQSw4REFDQSw0RUFDQSxzREFDQSw4RUFDQSxvREFDQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBYUEsNEJBQ0EsNEJBQ0EscUJBQ0EsZUFFQSw2QkFHQSxZQUNBLG1CQUNBLHVCQUNBLHVCQUhBLENBSUMsV0FFRCxJQUFJLEVBQUosQ0FDQSxTQUNBLFdBQ0EsWUFHQSxpREFFQSxRQUNBLHFCQUNBLE9BQ0EsY0FDQSx1QkFFQSxnQkFDQSx1QkFFQSxnQkFDQSx1QkFFQSxpQkFDQSxRQUNBLFlBQ0EsZUFDQSxzQkFDQSxvQ0FHQSxXQUNBLFdBQ0EsaUJBQ0EsbUJBQ0EsbUJBQ0EsV0FDQSxxQkFFQSxnQkFDQSxPQUNBLGVBQ0EsaUJBQ0EsaUJBQ0EsbUJBQ0EscUJBQ0EscUJBQ0EsWUFDQSxtQkFHQSxVQUNBLGVBQ0EsZUFDQSxnQ0FFQSxlQUNBLHdCQUdBLGlCQUNBLGVBQ0Esa0NBRUEsZUFDQSwwQkFHQSxpQkFDQSxlQUNBLGtDQUVBLGVBQ0EsMEJBR0EsK0JBR0EsRUFGQyxFQUFELEtBWUEsS0FSQSxtQ0FDQSxZQUNBLG1DQUdBLG1CQUdBLDZCQWJBLElBY0MsRUFBRCxtQ0FDQSxzQ0FDQSxtQkFDQSxvQ0FHQSxpQ0FHQSxFQUZDLEVBQUQsS0FHQSxxRkFVQSxLQVJBLHFDQUNBLFlBQ0EscUNBR0EscUJBR0Esb0JBQ0Esc0JBQ0EsVUFoQkEsSUFvQkMsRUFBRCxvREFDQSxPQUNBLE9BRUEsd0RBQ0EsT0FDQSxPQUlBLG1CQUNBLHVCQUNBLFVBSkEsVUFJQSxHQUhBLFVBR0EsZ0JBR0EsaUNBR0EsRUFGQyxFQUFELEtBSUEsSUFEQSxzRkFDQSwyRkFVQSxLQVJBLHFDQUNBLFlBQ0EscUNBR0EscUJBR0Esb0JBQ0Esc0JBQ0EsVUFqQkEsSUFxQkMsRUFBRCxzREFDQSxPQUNBLE9BQ0EsT0FFQSwyREFDQSxPQUNBLE9BQ0EsT0FJQSxtQkFDQSwwQ0FDQSxVQUpBLHNCQUlBLEdBSEEsc0JBR0EsZ0JBR0Esa0JBQ0EsNkJBR0EsT0FDQSxzQkFFQSxtQkFDQSw4QkFDQSwwQ0FFQSxTQUNBLDJCQUNDLE1BQUQsZ0ZBSUEsS0FIQSx3SUFLQSxxQkFDQSxzQkFDQSxpQ0FFQSxzQkFHQSxHQUZBLGNBRUEsc0JBQ0EsdUNBQ0EsMkNBQ0EsbUJBR0EseUJBQ0EsbUJBQ0Esb0JBQ0Esc0JBQ0EsMkJBQ1EsR0FBRCxrQkFDUCw0QkFDQSxnQ0FDQSxvQ0FDTyxDQUNQLG9GQUNBLE9BQ0EsT0FDQSxPQUNBLE9BRUEscUVBQ0EsZ0NBQ0EsbUNBR0EsK0RBRUEsMEJBQ0Esd0JBRUEsNEJBQ0EsNkJBRUEsb0JBQ0Esd0JBQ0EsK0RBQ08sMEJBQ1AsbUJBRUEsbUJBR0Esa0JBRUEscUJBQ0EseUNBQ0EsMkRBUUEsR0FOQSx3QkFDQSx3QkFDTyw2Q0FDUCx5QkFHQSx3SUFDQSxzQkFDQSxXQUNBLGtDQUNBLHNDQUNBLHlEQUNBLDZCQUVBLDJCQUNBLGlHQUNBLGVBRkEsSUFJQyxFQUFELHFEQUlBLFFBSEEsb0JBQ0Esa0NBRUEscUJBRUEsb0JBQ0Esc0NBQ0EsT0FDQSxtSUFDQSxpQkFDQSxlQUNBLHVCQUNBLDZDQUNBLDBFQUNBLFVBQ1csWUFDWCwrQkFFQSxpQkFDQSxxRUFDQSxrRUFDQSx1QkFDQSwyQkFDQSx5REFDQSxpQ0FDQSwwR0FFQSxJQUNBLG1CQUNBLHNCQUVBLGVBR0Esd0JBQ0EsMEVBQ0EsMENBQ08sb09BRVAseUJBQ0Esa0NBQ0EsNkNBQ0Esb0JBQ08sd0VBRVAsMEJBQ0EsV0FFQSxzQ0FDQSxPQUNBLG1DQUNBLHVCQUNBLG9CQUNBLHdCQUNBLHdCQUNBLG1CQUNBLHVCQUNBLDJCQUNBLDBCQUVBLElBQ0EsK0JBQ0Esc0JBRUEsZ0NBRUEsWUFDQSxpQkFJQSxrQkFDQSw0Q0FNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHdGQUVBLEdBREEsT0FDQSxtRUFDQSxvRUFDQSxvREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVNBLGlEQUVBLFFBQ0EsMkJBQ0EsT0FDQSx1QkFDQSxhQUNBLGlCQUNBLGVBQ0EsUUFDQSxjQUNBLG9CQUNBLFdBR0EsS0FDQSxZQUNBLGFBRUEsS0FDQSxZQUNBLGFBRUEsbUJBQ0EsaUJBQ0EsUUFDQSxZQUNBLFdBRUEsTUFDQSxZQUNBLFdBRUEsY0FFQSxnQkFDQSxPQUNBLHNCQUNBLGNBQ0Esc0JBQ0Esc0JBR0EsVUFDQSxpQkFDQSw0QkFFQSwwQkFDQSw0QkFFQSxtQkFDQSxrQ0FFQSwwQkFDQSw2Q0FFQSw0QkFDQSxXQUVBLHNCQUNBLDZDQUdBLE9BQ0Esa0JBQ0Esb0JBR0EsU0FDQSxrQkFDQSxtQkFEQSxJQUVDLEVBQUQsZ0JBQ0Esc0JBRUEsR0FFQSxJQUZBLE1BRUEsZ0RBQ08sNENBRVAseUJBQ0EsZ0JBR0Esb0JBQ0EsaURBRUEsc0JBQ0EsZ0RBRUEsc0JBQ0Esa0RBRUEscUJBR0EsVUFGQyxFQUFELEdBRUEsV0FBZ0MsWUFBaEMsR0FBbUQsVUFBbkQsRUFDQSx1Q0FDQSw2REFDQSx3Q0FDQSxPQUNBLDREQUNBLHlFQUVBLDJCQUNBLFVBQ0EsaURBS0EsVUFFQSx1QkFDQyxFQUFELGtEQUNBLGlFQUNBLDJDQUNBLDREQUNBLHdDQUNBLE9BQ0EsNkRBRUEsT0FDQSxxQ0FJQSx5QkFDQSwwQkFJQSxPQUNBLFdBSkEsSUFJQSxJQUNBLFVBSkEsSUFJQSxNQUdBLHdCQUNBLHdCQUNBLE9BQ0EsMERBQ0EsNkRBR0Esd0JBQ0EsbUJBQ0EsMkJBQ0EseUJBQ0EsbUJBQ0Esb0JBRUEsc0JBQ0Esb0JBQ0EsbUJBRUEsaUVBQ0EsMENBR0EsdUJBRUEsR0FEQSxtQkFDQSx1Q0F5QkEsRUF2QkMsRUFBRCx5Q0FDQSxVQUNBLFFBQ0EsU0FFQSxzREFFQSwrQkFJQSxHQUNBLE1BQ0EsUUFFQSxHQUNBLEVBUkEsVUFRQSxFQUNBLElBUkEsV0FVQSx5Q0FDQSxpRUFDQSx1RUF2QkEsRUEyQkEsNkJBQ0Esc0NBNUJBLEVBaUNBLG9CQUNBLCtCQUNBLHlCQUdBLHNCQUNBLGtCQUdBLG1CQUNBLHNCQUNBLGtCQUNBLHdCQUdBLDRCQUNDLEVBQUQsUUFDQSxVQUNBLG1CQUVBLG9CQUNBLHdEQUNBLG9CQUdBLHVCQUNDLEVBQUQsS0FzQkEsZUFwQkEsQ0FDQSxrQ0FDQSxTQUNBLHVEQUNPLG1CQUNQLHNEQUNBLDJCQUNBLHVCQUNBLHVCQUNBLHFDQUVBLDRCQUNBLHdCQUNBLDBCQUNBLDJCQUNPLGlCQUNQLGtCQUNPLElBQ1AsYUFFQSxVQUNBLHlDQUNBLGtCQUNLLHlDQU1MOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0ZBRUEsR0FEQSxPQUNBLDJFQUNBLDRFQUNBLG9EQUNBLHVFQVFBLHVDQUVBLFFBQ0EsMkJBQ0EsT0FDQSxhQUNBLGlCQUNBLFlBQ0EsY0FDQSxjQUNBLFFBQ0EsWUFDQSxzQkFDQSwyQkFHQSxpQkFDQSxtQkFDQSxrQkFFQSxTQUNBLG1CQUNBLGdCQUVBLFlBQ0EsbUJBSkEsSUFPQyxFQUFELHFEQUNBLG9EQUNBLHNMQUVBLG9CQUNBLHdEQUNBLHdDQUNBLGtGQUdBLGtDQUNBLG1DQURBLElBSUEsbUJBQ0Esa0NBQ0EseUNBQ08scU9BR1AsbUJBQ0EsdUJBRUEsT0FEQyxLQUFELDZCQUNBLFNBQ0EsbUNBREEsT0FRQTs7OztpRkFLQSxnQkFFQSxhQUNBLE9BQ0EsMkVBQ0EsZ0NBQW9HLG9CQUVwRyxxRkFDQSxxQ0FBeUcsb0JBRXpHLHFGQUNBLHFDQUF5RyxvQkFNekcsV0FDQSx5QkFDQSxzQkFDQSwyQkFDQSw4QkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHdFQUVBLEdBREEsT0FDQSxtREFDQSxvRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVFBLHVDQUVBLFFBQ0Esa0JBQ0EsbUJBQ0EsT0FDQSxnQkFHQSxPQUNBLGlCQUNBLGNBQ0EsaUJBRUEsVUFDQSxtQkFDQSxVQUNBLHNDQUNBLCtCQUNBLG9DQUNPLHFCQUdQLG1CQUNBLGdCQUNBLHlCQUNBLG9CQUNLLHlCQU1MOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLG9EQUNBLHNEQUNBLG9FQUNBLG9FQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBU0EseUNBR0EsNkJBQ0EsdUJBQ0Esb0JBQ0EsT0FDQSxPQUNBLFlBQ0EsbUJBRUEsZ0JBQ0EsZ0JBQ0EsWUFDQSxpQkFDQSxjQUNBLGFBQ0EsY0FDQSxlQUVBLFVBQ0EsbUJBQ0Esd0NBR0EsU0FDQSxtQkFDQSxrQ0FDQSxxQ0FDTyxzQkFFUCwwQkFDQyxLQUFELFlBQ0EsaUJBR0EsK0JBQ0EsT0FDQSxxQkFDQSx3QkFDQSxtQkFFTyxZQUVQLHVCQUNBLDBDQUNBLG9DQUNBLDBDQURBLEdBRU8saUNBRVAsa0JBQ0Esa0NBQ0EsbUNBQ0EsT0FDQSx5Q0FDQSwyQ0FFTyx1QkFFUCxzQkFDQSxTQUVBLE9BREMsS0FBRCwrQkFDQSwyQkFDQSx3Q0FEQSxJQUlBLHVCQUNBLGtDQUNBLHlDQUNPLHdCQUdQLG1CQUNBLHlDQUVBLE9BREMsS0FBRCw0Q0FDQSxTQUNBLDhCQUNBLFNBQ0EseUNBQ0EscUVBQ0EscUVBQ08sb0JBTlAsT0FhQTs7OzswREFLQSxnQkFFQSxhQUNBLE9BQ0EscUVBQ0EsOEJBQWtHLG9CQUVsRyw2RUFDQSxrQ0FBc0csb0JBS3RHLFdBQ0EseUJBQ0Esb0JBQ0EsMkJBTUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxRUFFQSxHQURBLE9BQ0EsK0RBQ0Esd0RBQ0Esc0RBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkF5Q0EsNEJBQ0EsaUJBQ0EsT0FDQSxpQkFDQSxlQUNBLGlCQUNBLGNBQ0EsaUJBQ0EsaUJBQ0EsV0FDQSxzQkFFQSxhQUNBLGlCQUNBLGtCQUNBLGNBQ0EsS0FDQSxxQkFDQSxZQUVBLEtBQ0EsWUFDQSxrQkFFQSxNQUNBLGFBQ0EsYUFHQSxnQkFDQSxPQUNBLGdCQUdBLFVBQ0EsMEJBQ0EsaUNBQ0EsNkJBQ0EscUNBQ0EsNENBRUEsd0NBQ0MsS0FBRCw2QkFDQSxnQ0FDQSxpQ0FDQSxxQkFDQSxjQUNBLGtEQUNBLElBRUEsbUJBQ0EsWUFBd0IsK0NBQ3hCLGVBQ0Esb0NBQ0EsZ0NBQ0Esb0NBQ0Esd0NBQ0EsOEJBQ0Esc0NBQ0EsNEJBQ0Esb0NBQ0EsMkNBR0EsdUJBQ0Esc0JBRUEsdUJBQ0EsdUJBRUEsa0JBQ0EsWUFBd0IsdUJBQ3hCLHdEQUlBLHVCQUNDLEVBQUQsS0FFQSwyWUFHQSxxQkFDQSxNQXpIQSxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0FpR0EsTUFDQSxPQUNBLE9BRUEsMERBR0EsU0FDQSw2QkFDQyxFQUFELENBQ0Esb0RBQ0EsY0FFQSwrQ0FDQSxVQUNPLCtCQUNQLFVBRUEsa0NBQ0EsZ0NBQ08sTUFFUCxzQkFDQSxrQ0FDQSxpQ0FDQSxPQUNBLDZEQUVPLDBCQUVQLHdCQUNBLGtDQUNBLG1DQUNBLE9BQ0EsdURBRU8sdUNBR1AsbUJBQ0EsNkRBREEsSUFFQyxFQUFELG9CQUNBLHNDQUNBLG1CQUNBLGtCQUNBLHFCQUlBLE9BRkMsS0FBRCx5Q0FDQSxrRUFDQSxvQkFNQTs7Ozt3RUFLQSxnQkFFQSxhQUNBLE9BQ0Esa0NBQXVHLFlBQ3ZHLGtDQUF1RyxZQUN2RyxrRUFDQSw2QkFBaUcsb0JBUGpHLElBU0Esc0RBS0EsdURBQ0EsdURBRUEsV0FDQSx5QkFDQSxtQkFDQSxnQkFDQSxtQkFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFFQUVBLEdBREEsT0FDQSx1RUFDQSxvRUFDQSxvRUFDQSxvRUFDQSxzRUFDQSxrRUFDQSxzRUFDQSxzREFDQSxzREFDQSxvREFnQkEsaUdBQ0EsaUJBQ0EsT0FDQSxZQUNBLHFCQUNBLFdBRUEsaUJBQ0EsT0FDQSxhQUNBLFlBRUEsV0FDQSxxQkFDQSxXQUVBLGFBQ0EsYUFDQSxZQUVBLEtBQ0EsWUFDQSxnQkFFQSxrQkFDQSxRQUNBLGVBR0EsZ0JBQ0EsT0FDQSxxQkFDQSxxQkFHQSxVQUNBLDhCQUNDLEVBQUQsZ0JBQ0EsY0FDQSxZQUNBLGtEQUNBLHVDQUNBLElBVUEsT0FSQyxLQUFELG9CQUNBLHlCQUNPLHlCQUNQLHVEQUdBLDhDQUNBLGdEQUNBLDBEQUVBLDZCQUNDLEVBQUQsZ0JBQ0EsY0FDQSxZQUNBLHFDQUNBLElBVUEsT0FSQyxLQUFELGlCQUNBLDJEQUNPLHlCQUNQLDJCQUdBLDRDQUNBLGtEQUNBLDZDQUVBLG1CQUNBLE9BQ0EsMEJBQ0EsOEJBQ0EsZ0NBQ0EsNEJBQ0EsbUZBR0EscUNBQ0MsS0FBRCwyQkFDQSxvREFFQSxtQkFDQSw4QkFFQSxtQkFDQSw4QkFFQSxrQkFDQSxPQUNBLHlCQUNBLGdEQUNBLGdEQUNBLDJCQUNBLHVCQUNBLHlDQUlBLHVCQUNBLFdBRUEsMkJBQ0EsOEJBR0EsbUJBQ0EsdURBQ0EscUlBR0EsU0FDQSxvQkFHQSx3QkFFQSw2Q0FFQSxzQkFDQSx3QkFFQSxxQ0FDQyxFQUFELEtBRUEsNkRBc0JBLE9BcEJDLEVBQUQsa0JBQ0Esa0JBRUEsb0JBR0EsbUJBQ0Esa0JBRUEscUJBR0Esc0JBQ0EsNkJBQ0Esa0JBRUEsc0JBSUEsSUFHQSx1QkFDQSxFQUVDLEVBQUQsNENBQ0EsaUNBQ0EsWUFBcUIscUhBQXJCLEdBQ0Esa0JBQ0EsNkJBQ0EsYUFDQSxZQUNBLDZCQUVBLGdCQUNLLDZDQUNMLG1CQUNBLHdCQUNBLG9CQUNLLGlCQUNMLE9BQ0EsK0JBRUssK0JBTUw7Ozs7MENBS0EsZ0JBRUEsYUFDQSxPQUNBLGtFQUNBLDZCQUFpRyxvQkFJakcscUJBSUE7Ozs7OEJBS0EsYUFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSx3RUFFQSxHQURBLE9BQ0Esd0VBQ0Esb0VBQ0Esd0VBQ0Esc0RBQ0Esb0RBQ0Esc0RBQ0EsdUZBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFHQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBR0EsYUFDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFVBOEJBLHFFQUVBLFFBQ0Esa0JBQ0EsbUJBQ0EsT0FDQSxnQkFHQSxTQUNBLFFBQ0EsV0FDQSxtQkFDQSxXQUdBLGNBQ0EsZ0JBQ0Esa0JBQ0EsT0FDQSxXQUNBLG1CQUNBLFdBR0EsdUJBQ0EsTUFDQSxXQUNBLG1CQUNBLFdBR0EsZ0JBQ0EsY0FDQSxhQUNBLFlBRUEsY0FDQSxlQUNBLFlBQ0EsZUFDQSxzQkFDQSwyQ0FHQSxPQUNBLFdBQ0EsbUJBQ0EsWUFHRyxzQkFDSCxnQkFDQSxPQUNBLG9CQUNBLFNBQ0Esa0JBQ0Esd0JBR0EsVUFDQSx5QkFDQSxjQUNBLHlCQUVBLFlBQXFCLG9CQUF1QixJQUM1QyxrSUFHQSxXQUdBLE9BQ0EsT0FDQSx1QkFDQyxFQUFELEtBRUEsMkNBQ0Esb0VBRUEsMkJBQ0EsMkJBRUEsbUNBRUEsdUJBQ0EsNEJBR0EsNEJBRUEsMkJBQ0EseUJBQ0EsdUJBQ0EsMkJBS0Esb0VBRUEsU0FFQSxtQkFDQSxtRkFFQSxrQkFDQSx5RkFFQSxpQkFDQSw4RUFHQSxtQkFDQSxXQUVBLDJCQUNBLGdDQUNBLGlDQUVBLGlDQUNBLGdDQUdBLG1CQUNBLFlBR0EsMENBQ0EsMEZBR0EsYUFDQSxvQkFFQSwrQkFDQSw2QkFFQSxrQkFHQSxTQUVBLHNCQUNBLFdBRUEsNkNBQ0Esb0ZBRUEsaUJBRUEsMkJBQ0EsUUFDQSxNQUdBLGNBQXFCLFdBQWtCLE9BQ3ZDLGtEQUNBLFVBQ0EsNkRBSHVDLEdBTXZDLG1DQUlBLFVBRUEsd0JBQ0EsZ0JBRUEsUUFDQSxRQUdBLFlBQXFCLFdBQWtCLFNBQ3RDLEVBQUQsS0FDQSxpREFDQSx5REFDQSw4Q0FDQSxjQUNBLG1CQUNBLFlBQ0EsVUFDQSxZQUVBLEdBQ0EsY0FDQSxTQUNBLDRCQUNBLHNEQUVBLFFBRUEscUJBRUEsc0VBQ0Esc0NBQ0Esa0RBRUEsMEJBQ0EscUNBR0Esc0JBQ0Esa0JBQ0EsMkRBRUEsb0RBQ0EsZ0RBQ0EsNENBQ0EsMkJBR0EsNkJBQ0EsdUNBR0EsT0FGQyxFQUFELHVCQUNBLDhCQUNBLElBQ08sT0FHUCxPQUZDLEVBQUQseURBQ0Esa0RBQ0EsR0FFQSxvQkFDQSxrREFFQSx3QkFDQSxnREFFQSxzQkFDQSxzREFFQSw0QkFDQSxXQUVBLHFEQUNBLDBCQUNPLE9BRVAseUNBQ0EsV0FFQSx1Q0FDQSxzREFEQSxFQUlBLFdBRUEsMkJBQ0EsdUJBQ0Esa0JBRUEsdUJBQ0Esa0JBRUEsTUFFQSxrQ0FDQSxRQUNBLE1BR0EsNkJBQ0EscUJBRUEsWUFBcUIsV0FBcUIsSUFDMUMsOEJBR0EsVUFFQSwrQkFDQyxFQUFELHFCQUNBLEtBRUEsVUFDQSxVQUNBLHVCQUdBLFVBRUEscUJBQ0EsMERBQ0Esc0JBQ0EsMEJBRUEsdUJBQ0EsMERBQ0EsMkNBRUEscUJBQ0EsOERBRUEsMkJBQ0EsV0FFQSxpQ0FFQSxxQkFDQSxzQ0FDQSx1QkFFQSxzQkFFQSwyQkFJQSxvQkFaQSxNQWNBLHdCQUE4Qyx3QkFBQUgsR0FDOUMsYUFDQSw0QkFFQSxpQ0FDQSxJQUVDLEVBQUQsS0FFQSxpQ0FDQSxjQUVBLHNDQUNBLDhCQUVBLHFCQUNBLHdCQUNBLDhCQUNBLGNBRUEsbUJBQ0EscUJBQ0EsZ0RBQ0EsdUNBR0MsS0FBRCxzQkFDQSxpQ0FDQSxXQUdBLElBQ0EsVUFuWEEsWUFDQSxvREFDQSxJQUZBLFNBR0EsVUFDQSxDQUNBLGdCQUVBLE9BREMsR0FBRCx3QkFDQSxDQUNBLGdCQUNBLFdBMFdBLDBCQUFrRSxPQUFVLFlBQzVFLG1CQUNBLE9BQ0EsT0FFQSx5QkFDQSxpREFDQSwrREFFTyxTQUNQLEdBQ0EsU0FaQSxRQWVBLElBQ0Esb0NBREEsUUFHQSx1QkFJQSx5QkFDQSxXQUVBLHFDQUNDLEVBQUQsY0FDQSwyREFFQSwwQ0FDQSx5Q0FDQSw0QkFFTyxjQUNQLFdBQ0Esd0RBQ0EsNEJBR0EsNkJBQ0Esb0JBRUEsYUFDQSxnQ0FDQSwwQ0FDQSw0QkFDQSwwQkFHQSx1QkFDQSxpREFHQSxtQkFDQSxzRkFFQSxvQkFFQSxnQkFDQSx5QkFDQSxTQUNBLHVDQUNBLGdDQUNPLG9CQUxQLE9BWUE7Ozs7b0RBS0EsZ0JBRUEsYUFDQSxPQUNBLHVDQUE0RyxZQUo1RyxJQUtBLGtFQUNBLHNEQUNBLHlFQUNBLHdFQUNBLG9FQUNBLG9EQUNBLHNEQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBYUEsNERBQ0EsR0FDQSxvQkFDQSxhQUNBLFlBQ0EsbUNBRUEsT0FDQSxZQUNBLG1CQUVBLFlBQ0EsWUFDQSxxQkFFQSxtQkFDQSxZQUNBLGtDQUVBLGNBQ0EsWUFDQSxvQkFFQSxjQUNBLFlBQ0Esb0JBRUEsU0FDQSxZQUNBLGNBRUEsVUFDQSxZQUNBLGdCQUVBLHNCQUNBLGFBQ0EsWUFDQSxvQkFFQSxTQUNBLFlBQ0Esd0JBRUEsUUFDQSxZQUNBLHVCQUVBLG9CQUNBLGdCQUNBLG1CQUNBLGVBQ0EsWUFDQSxrQkFFQSxlQUNBLG9CQUlBLDZCQUNBLHVCQUNBLFFBQ0EsVUFDQSxlQUdBLFNBQ0EsTUFDQSxZQUNBLG1CQUNBLGVBSkEsR0FRQSxnQkFDQSxPQUNBLGFBQ0EsWUFDQSxtQkFDQSxhQUNBLFVBQ0EsZ0JBR0EsVUFDQSxvQkFDQSxvRUFFQSxlQUNBLCtEQUVBLG9CQUNBLG9FQUVBLGdCQUNBLGdFQUVBLHVCQUNBLE9BQ0EsZUFDQSxvQkFDQSx5QkFDQSxtQ0FDQSxxQkFDQSxtQkFHQSwrQkFDQyxLQUFELHVDQUE4RCw0QkFBNkMsY0FFM0csdUJBQ0EscUVBR0EsbUJBQ0EsOEJBRUEseUJBQ0EsZ0NBRUEsU0FDQSx5QkFDQSxXQUVBLHVDQUdBLGlFQUNBLG9CQUNBLDhCQUNPLGlCQUNQLGVBQ0EsbUJBR0EsZ0JBQ0EseUJBQ0EsK0NBQ0EsMEJBRUEsb0JBQ0EsU0FFQSxPQURDLEtBQUQscUVBQTRGQSxFQUFBLGdCQUM1RiwyQkFDQSxhQUNBLHNDQUZBLElBS0Esc0JBQ0Esb0tBQ0Esa0NBQ0Esd0NBREEsSUFJQSxxQkFDQSxXQUVBLG9DQUNBLHNDQUNBLE9BQ0EsNENBQ0EsbURBRUEsZUFDQSxJQUNBLGtCQUNBLGFBQ0Esb0JBQ0EsYUFFQSxtQ0FDQSx1QkFJTyxvREFFUCx1QkFDQSxXQUVBLG9DQUNBLHdDQUNBLE9BQ0EsaURBRUEsSUFDQSxrQkFDQSxhQUNBLG9CQUNBLGFBRUEsbUNBRUEsd0JBQ0EsMkJBQ0EscUJBRUEsOENBRUEsb0NBS08sc0JBRVAsdUJBQ0EsRUFFQyxFQUFELEtBRUEsc0JBR0EsT0FGQyxLQUFELDBDQUNBLDhDQUNBLHVFQUNBLG9DQUNBLFlBQXVCLGtDQUF2QixHQUNBLElBQ0EsaUJBQ0EsYUFFQSw2QkFDQSxTQUNhLGdCQUNiLHVCQUVBLDBDQUVBLDhCQWRBLElBb0JBLHFCQUNBLHNDQUNBLG1EQUNBLE9BQ0EsNkJBQ0EsNkJBQ0EsT0FDQSwyQkFDQSxpQ0FDQSxpQkFDQSwyQkFDQSx5Q0FDQSxxQkFDQSxtQkFDQSw2QkFDQSxxQkFDQSx1QkFDQSwrQkFDQSwrQkFDQSwrQkFDQSwyQkFDQSw2QkFDQSxxQkFDQSxvQkFFQSxpQ0FHQSw4QkFDQSw0Q0FDQSx5Q0FDQSxrQ0FDQSx5Q0FEQSxJQUlBLHlCQUNBLDhFQUdBLG1CQUNBLHVCQUVBLE9BREMsS0FBRCx3Q0FBNkQsa0NBQzdELFNBQ0EsOEJBQ0EsT0FDQSwwQ0FDQSwwQ0FDQSwwQ0FDQSx3Q0FDQSxzQ0FDQSw0Q0FDQSxnRUFFQSxPQUNBLGlDQVpBLE9Bb0JBOzs7OzBEQUtBLGdCQUVBLGFBQ0EsT0FDQSxxRUFDQSw4QkFBa0csb0JBRWxHLDZFQUNBLGtDQUFzRyxvQkFLdEcsV0FDQSx5QkFDQSxvQkFDQSwyQkFNQTs7Ozt3REFLQSxnQkFFQSxhQU1BLFNBQVMsRUFBVCxPQUVBLFNBREEsb0NBQ0EsbURBRUEsU0FBUyxFQUFULGVBQ0EsWUFDQSxTQUdBLDBDQUVBLE1BR0EsUUFGQyxHQUFELEVBRUEsSUFBbUIsV0FBcUIsSUFDeEMsc0JBQ0EsTUFJQSxjQUlBLE9BREMsRUFBRCwwQ0FDQSxFQTdCQSxPQUNBLG1DQUF3RyxZQUN4RyxvQ0FBeUcsWUFDekcsOERBK0JBOzs7OzhCQUtBLGFBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsa0VBRUEsR0FEQSxPQUNBLG1EQUNBLHNEQUNBLGdGQUNBLG9FQUNBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBYUEsa0NBQ0EsZ0JBQ0EsbUJBQ0EsT0FDQSxtQkFHQSxZQUNBLGlCQUVBLE9BQ0EsYUFDQSxZQUNBLGlDQUVBLG1CQUNBLFdBQ0EsYUFDQSxZQUVBLFVBQ0Esc0JBQ0EsaUJBRUEsVUFDQSxzQkFDQSxpQkFFQSxTQUNBLGFBQ0EsZ0JBRUEsbUJBQ0EsMEJBQ0EsYUFDQSxrQkFDQSxPQUNBLGFBRUEsa0JBRUEsZ0JBQ0EsT0FDQSx1QkFDQSxzQkFDQSx3QkFDQSxrQkFDQSxZQUNBLGVBR0EsVUFDQSxvQkFDQSwrQkFFQSxtQkFDQSxZQUF3QixxREFDeEIsMkRBR0EsOEJBQ0EscUJBR0EsYUFGQSx3QkFDQSxvQ0FDQSxjQUhBLElBS0EsMEJBQ0EscUNBQ0Esc0JBR0EsbUJBQ0EsZ0VBRUEsbUJBQ0EsOENBRUEseUJBQ0EsV0FFQSwyQ0FDQSw2Q0FHQSx1Q0FDQyxJQUFELGFBQ0EsZUFEQSxlQUlBLE9BQ0EsK0JBRUEsbUJBQ0EsV0FFQSx5Q0FDQSx5QkFHQSxTQUNBLHdCQUNBLDRCQU1BLE9BSkMsS0FBRCxZQUNBLCtCQUdBLDJCQUNBLGtDQUNBLE9BQ0EsZ0RBRUEsT0FDQSxvREFOQSxJQVVBLHdCQUNBLFdBRUEsa0NBQ0EsNEJBQ08sZ0NBQ1AsT0FDQSxTQUVBLE9BQ0EsMkRBRUEsSUFDQSxpQkFDQSx5QkFDQSxPQUdPLGdDQUNQLE9BQ0EsV0FGTyxRQU1QLCtCQUNDLEVBQUQsR0FDQSxnREFHQSx1Q0FDQSxxQ0FDQSxXQUdBLElBSUEsRUFKQSxnREFHQSx1Q0FDQSxxQ0FDQSxXQUdBLFVBRUEsNkJBQ0MsR0FBRCx1QkFEQSxPQUVBLGNBQ0EsOEJBSEEsR0FNQSw2QkFDQyxHQUFELHlDQURBLE9BRUEsY0FDQSw4QkFIQSxHQU1BLGdCQUlBLEdBSEEsaUNBR0EsdUNBQ0MsRUFBRCxzQ0FDQSxnQkFDQSx3Q0FFQSxnQkFJQSxHQUhBLGtDQUdBLHVDQUNDLEVBQUQsc0NBQ0EsZ0JBQ0Esd0NBRUEsbUNBQ0MsS0FBRCx5QkFDQSxrQ0FJQSxzQkFHQSx1QkFDQyxFQUFELEtBRUEsR0FDQSx1QkFDQSxtQkFDQSxlQUdBLG9CQUNBLG1CQUNBLGdCQUNBLGtDQUVBLGlCQUNBLGtDQUVBLGdCQUNBLHFCQUVBLGtCQUNBLHNCQUdBLG1CQUNBLGFBQ0EsVUFJQSw0Q0FNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxrRUFDQSxvRUFDQSxvRUFDQSxzREFDQSxvREFTQSwyRkFDQSxzQ0FDQSxxQkFDQSxZQUNBLGlCQUVBLE9BQ0EsaUJBQ0EsbUJBQ0Esc0JBQ0EsZ0JBRUEsWUFDQSxzQkFDQSxnQkFFQSxPQUNBLGNBR0EsZ0JBQ0EsT0FDQSxZQUNBLGtCQUdBLFVBQ0EsbUJBQ0EsMEJBRUEscUNBQ0MsS0FBRCxpQ0FJQSwrRkFIQSw4RUFNQSxTQUNBLDBCQUNBLDRCQUVBLHlCQUNBLGtDQUNBLDRCQUNBLG1CQUNBLGFBQ0EsWUFDQSxzQkFFQSxvQkFDTyw4Q0FFUCw2QkFDQSxvQkFLQSxxQkFFQSxxQ0FDQSxtQ0FFQSx1Q0FDQSw2Q0FJQSw4QkFDQSxvQkFLQSxxQkFFQSx1Q0FFQSw4RkFHQSxxQ0FFQSxpQ0FDQSwwQkFFQSxvQkFDQSxXQUVBLG1CQUlBLDJCQUVBLHVDQUtBLDZFQUlBLG1CQUNBLHVCQUNBLE9BQ0EsOEJBRUEsSUFFQSxvQ0FDQSxrQ0FDQSwwQ0FFQSxvQ0FDQSxrQ0FDQSwwQ0FFQSxxQkFFSyw0QkFNTDs7OztzREFLQSxnQkFFQSxhQUNBLE9BQ0EsK0RBQ0EsNEJBQWdHLG9CQUVoRyx1RUFDQSxnQ0FBb0csb0JBS3BHLFdBQ0EseUJBQ0Esa0JBQ0EseUJBTUE7Ozs7b3BFQUtBLGdCQUVBLGFBQ0EsT0FDQSx1REFDQSx5QkFBNkYsaUJBRTdGLDZEQUNBLDRCQUFnRyxvQkFFaEcsbUNBQXVHLDJCQUV2RywyREFDQSwyQkFBK0YsbUJBRS9GLHlFQUNBLGtDQUFzRywwQkFFdEcsNkRBQ0EsNEJBQWdHLG9CQUVoRywyREFDQSwyQkFBK0YsbUJBRS9GLDZEQUNBLDRCQUFnRyxvQkFFaEcsaUZBQ0Esc0NBQTBHLDhCQUUxRyx1RUFDQSxpQ0FBcUcseUJBRXJHLHVFQUNBLGlDQUFxRyx5QkFFckcscUNBQXlHLDZCQUV6Ryx3Q0FBNEcsZ0NBRTVHLHVEQUNBLHlCQUE2RixpQkFFN0YsbUVBQ0EsK0JBQW1HLHVCQUVuRyxpRUFDQSw4QkFBa0csc0JBRWxHLG1DQUF1RywyQkFFdkcsb0NBQXdHLDRCQUV4RyxxQ0FBeUcsNkJBRXpHLHlEQUNBLDBCQUE4RixrQkFFOUYsaUNBQXFHLHlCQUVyRyxrQ0FBc0csMEJBRXRHLDhCQUFrRyxzQkFFbEcsK0JBQW1HLHVCQUVuRyxpRUFDQSw4QkFBa0csc0JBRWxHLGtDQUFzRywwQkFFdEcsaUVBQ0EsOEJBQWtHLHNCQUVsRyxvQ0FBd0csNEJBRXhHLHlEQUNBLDBCQUE4RixrQkFFOUYsbUVBQ0EsK0JBQW1HLHVCQUVuRyx1RUFDQSxpQ0FBcUcseUJBRXJHLHlDQUE2RyxpQ0FFN0csdUNBQTJHLCtCQUUzRywrREFDQSw2QkFBaUcscUJBRWpHLGlFQUNBLDhCQUFrRyxzQkFFbEcsK0RBQ0EsNkJBQWlHLHFCQUVqRyx5REFDQSwwQkFBOEYsa0JBRTlGLHlFQUNBLGtDQUFzRywwQkFFdEcsZ0NBQW9HLHdCQUVwRyxtRUFDQSwrQkFBbUcsdUJBRW5HLGdDQUFvRyx3QkFFcEcsbUNBQXVHLDJCQUV2RyxxQ0FBeUcsNkJBRXpHLGlDQUFxRyx5QkFFckcsa0NBQXNHLDBCQUV0RyxxRUFDQSxnQ0FBb0csd0JBRXBHLHFDQUF5Ryw2QkFFekcsc0NBQTBHLDhCQUUxRyx5Q0FBNkcsaUNBRTdHLDBDQUE4RyxrQ0FFOUcscUNBQXlHLDZCQUV6Ryw2REFDQSw0QkFBZ0csb0JBRWhHLCtEQUNBLDZCQUFpRyxxQkFFakcsNkVBQ0EscUNBQXlHLDZCQUV6RyxvQ0FBd0csNEJBRXhHLDBDQUE4RyxrQ0FFOUcsMkNBQStHLG1DQUUvRyxtRUFDQSwrQkFBbUcsdUJBRW5HLDZEQUNBLDRCQUFnRyxvQkFFaEcseURBQ0EsMEJBQThGLGtCQUU5Rix5REFDQSwrQkFBbUcsdUJBRW5HLHlCQUE2RixpQkFFN0YseUJBQTZGLGlCQUU3Riw0QkFBZ0csb0JBRWhHLDRCQUFnRyxvQkFFaEcsMEJBQThGLGtCQUU5RiwyREFDQSwyQkFBK0YsbUJBRS9GLHlEQUNBLDBCQUE4RixrQkFFOUYsdURBQ0EseUJBQTZGLGlCQUU3RiwyREFDQSwyQkFBK0YsbUJBRS9GLG1FQUNBLDBCQUE4RixrQkFFOUYsK0JBQW1HLHVCQUVuRywyREFDQSwyQkFBK0YsbUJBRS9GLHlEQUNBLDBCQUE4RixrQkFFOUYseURBQ0Esd0NBQTRHLGdDQUU1RyxxQ0FBeUcsNkJBRXpHLG1DQUF1RywyQkFFdkcsc0NBQTBHLDhCQUUxRywwQkFBOEYsa0JBRTlGLCtCQUFtRyx1QkFFbkcsOEJBQWtHLHNCQUVsRyxvQ0FBd0csNEJBRXhHLG9DQUF3Ryw0QkFFeEcsa0NBQXNHLDBCQUV0RyxtQ0FBdUcsMkJBRXZHLHlEQUNBLDBCQUE4RixrQkFFOUYsaUVBQ0EsOEJBQWtHLHNCQUVsRyxpRkFDQSxzQ0FBMEcsOEJBRTFHLHVFQUNBLGlDQUFxRyx5QkFFckcsK0RBQ0EsNkJBQWlHLHFCQUVqRyxxRUFDQSxnQ0FBb0csd0JBRXBHLDJEQUNBLDJCQUErRixtQkFFL0YsaUVBQ0EsOEJBQWtHLHNCQUVsRyw2REFDQSw0QkFBZ0csb0JBRWhHLGlGQUNBLHNDQUEwRyw4QkFFMUcsOEVBQ0Esb0NBQXdHLDZCQUV4RyxzRUFDQSxnQ0FBb0cseUJBRXBHLDJCQUErRixvQkFFL0Ysd0VBQ0EsaUNBQXFHLDBCQUVyRyw4REFDQSw0QkFBZ0cscUJBRWhHLHNFQUNBLGdDQUFvRyx5QkFFcEcsOERBQ0EsNEJBQWdHLHFCQUVoRyw4RUFDQSxvQ0FBd0csNkJBRXhHLDhEQUNBLDRCQUFnRyxxQkFFaEcsc0VBQ0EsZ0NBQW9HLHlCQUVwRywrQkFBbUcsd0JBRW5HLGtFQUNBLDhCQUFrRyx1QkFFbEcsb0VBQ0EsK0JBQW1HLHdCQUVuRyxvRUFDQSwrQkFBbUcsd0JBRW5HLGdFQUNBLDZCQUFpRyxzQkFFakcsb0NBQXdHLDZCQUV4RyxpQ0FBcUcsMEJBRXJHLG1DQUF1Ryw0QkFFdkcsa0NBQXNHLDJCQUV0RyxvRUFDQSwrQkFBbUcsd0JBRW5HLDhEQUNBLDRCQUFnRyxxQkFFaEcsb0VBQ0EsK0JBQW1HLHdCQUVuRywwREFDQSwwQkFBOEYsbUJBRTlGLHlCQUE2RixrQkFFN0YsNkJBQWlHLHNCQUVqRywrQkFBbUcsd0JBRW5HLGdDQUFvRyx5QkFFcEcsa0VBQ0EsOEJBQWtHLHVCQUVsRyxvRUFDQSwrQkFBbUcsd0JBRW5HLGtFQUNBLDhCQUFrRyx1QkFFbEcsa0NBQXNHLDJCQUV0RyxzRUFDQSxnQ0FBb0cseUJBRXBHLHFDQUF5Ryw4QkFFekcscUNBQXlHLDhCQUV6RyxnRUFDQSw2QkFBaUcsc0JBRWpHLGtDQUFzRywyQkFFdEcsa0NBQXNHLDJCQUV0RyxnRUFDQSw2QkFBaUcsc0JBRWpHLGtFQUNBLDhCQUFrRyx1QkFFbEcsa0NBQXNHLDJCQUV0Ryw4REFDQSw0QkFBZ0cscUJBRWhHLGdDQUFvRyx5QkFFcEcsc0VBQ0Esd0NBQTRHLGlDQUU1RywrQ0FBbUgsd0NBRW5ILG1DQUF1Ryw0QkFFdkcsMENBQThHLG1DQUU5RyxvQ0FBd0csNkJBRXhHLG1DQUF1Ryw0QkFFdkcsc0NBQTBHLCtCQUUxRyw0Q0FBZ0gscUNBRWhILG9DQUF3Ryw2QkFFeEcscUNBQXlHLDhCQUV6Ryx1Q0FBMkcsZ0NBRTNHLDhDQUFrSCx1Q0FFbEgsdUNBQTJHLGdDQUUzRyw4Q0FBa0gsdUNBRWxILHNDQUEwRywrQkFFMUcsNkNBQWlILHNDQUVqSCxzQ0FBMEcsK0JBRTFHLDZDQUFpSCxzQ0FFakgsc0NBQTBHLCtCQUUxRyx1Q0FBMkcsaUNBa0YzRzs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BQ0EsMERBRUEsd0JBZ0VBLGNBQ0EsY0FDQSw4QkFHQSxLQUdBLGNBQ0EseUJBQ0EsMENBQ0EsK0JBQ0EscUJBM0VBLFFBQ0EsV0FHQSxRQUNBLE1BTkEsSUFTQyxFQUFELG1CQUNBLG1DQUNBLE9BQ0Esd0JBQ0EsTUFFQSx1QkFDQSxxQkFDQSw4QkFDQSw4QkFDQSw0QkFDTyxjQUpQLElBTUEsc0JBQ0MsRUFBRCxnQkFDQSxZQUNBLHFEQUNBLDRCQUNBLGdDQUNBLDBCQUNBLGVBQ0EsZUFFQSxnQ0FFQSxjQUNBLDJCQUdBLGtDQUNBLGlCQUdBLGFBQ0EsaUJBQ0Esa0JBQ0EsTUFFQSxxQkFDQSxjQUNBLGNBQ0EsNEJBQ08sY0FKUCxHQUtBLDBCQUNBLHFCQUNBLGVBRUEsa0NBQ0EsMEJBR0EsYUFDQSxvQkFxQkE7Ozs7dWNBS0EsZ0JBRUEsYUFDQSxPQUNBLHdDQUE2RyxZQUM3RywrQ0FBb0gsWUFDcEgsbUNBQXdHLFlBQ3hHLDBDQUErRyxZQUMvRyxvQ0FBeUcsWUFDekcsbUNBQXdHLFlBQ3hHLHNDQUEyRyxZQUMzRyw0Q0FBaUgsWUFDakgsb0NBQXlHLFlBQ3pHLHFDQUEwRyxZQUMxRyx1Q0FBNEcsWUFDNUcsOENBQW1ILFlBQ25ILHVDQUE0RyxZQUM1Ryw4Q0FBbUgsWUFDbkgsc0NBQTJHLFlBQzNHLDZDQUFrSCxZQUNsSCxzQ0FBMkcsWUFDM0csNkNBQWtILFlBQ2xILHNDQUEyRyxZQUMzRyx1Q0FBNEcsWUF2QjVHLElBd0JBLHNEQUNBLG1GQUlBLDBEQUNBLGtFQUNBLHFEQUNBLDZEQUNBLHNEQUNBLDhFQUVBLHdEQUNBLCtEQUNBLHNEQUNBLHVEQUNBLDBEQUNBLGtFQUNBTSxFQUFBLHdEQUNBLGtFQUNBLHlEQUNBLGlFQUNBLHlEQUNBLGlFQUVBLGdGQUNBLHVGQUNBLFdBQ0EseUJBQ0Esc0JBQ0EsNkJBQ0Esb0JBQ0EsMEJBQ0EsaUJBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0EscUJBQ0EsNEJBQ0EscUJBQ0EsNEJBQ0Esb0JBQ0EsMkJBQ0Esb0JBQ0EsMkJBQ0Esd0JBQ0EsaUJBQ0Esb0JBQ0Esd0JBTUE7Ozs7OENBS0EsZ0JBRUEsYUFHQSxTQUFTLElBQ1QsU0FHQSxTQUFTLEVBQVQsT0FFQSxrQkFFQSxpQ0FLQSxvQkFNQSxzRUFOQSxDQVNBLGtDQUNBLGFBSUEsVUFNQSxvQkFDQSxnQ0FDRyx1QkFDSCw0QkFDRyxJQXZDSCxPQUNBLGlDQUFzRyxZQXlDdEcsSUFBSSxFQUFKLENBTUEsMkJBQ0MsRUFBRCxZQUNBLGtCQU1BLHFEQUVBLCtCQUNBLG1CQUVBLG1CQUNBLG9CQUNBLDBEQUVBLDREQUNBLG1CQUdBLGFBSUE7Ozs7dUZBS0EsZ0JBRUEsYUFDQSxPQUNBLHlFQUNBLGlDQUFxRyx5QkFFckcsaUVBQ0EsOEJBQWtHLHNCQUVsRywyREFDQSwyQkFBK0YsbUJBRS9GLDJEQUNBLDJCQUErRixtQkFFL0YsMkRBQ0EsMkJBQStGLG1CQUUvRiwyREFDQSwyQkFBK0YsbUJBRS9GLHlEQUNBLDBCQUE4RixtQkFZOUY7Ozs7MkNBS0EsZ0JBRUEsYUFHQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0F1Q3hVLFNBQVMsRUFBVCxHQUVBLGFBRUEsd0NBRUEsWUEvQ0EsT0FDQSw4QkFBbUcsWUFpRG5HLElBQUksRUFBSixDQUNBLFNBL0NBLGtCQUNDLEVBQUQsYUFFQSxHQUNBLFVBRUEsRUFEQSxnQkFDQSxZQUNBLDBDQU9BLFFBTkEsUUFDQSxNQUtBLFlBSUEsbUNBQ0EsNEJBQ0EsMkJBRUEsU0FLQSw2QkFDQSxzQkFDRyxlQUNILFlBQ0EsUUFDQSxZQUVBLGNBY0EsVUFFQSxhQUlBOzs7O3dDQUtBLGdCQUVBLGFBR0EsU0FBUyxFQUFULEdBQXdVLFNBQWpULDREQUEyRSxZQUFrQyxpQkFBK0IsWUFBa0Msc0dBQW1JLEdBd0R4VSxTQUFTLEVBQVQsR0FFQSxZQUVBLHVDQUVBLFdBaEVBLE9BQ0EsMkJBQWdHLFlBSmhHLElBT0EsZ0JBQ0EsU0FFQSxlQUNBLHVFQUdBLDJHQUEySCxXQUFjLElBQ3pJLHlGQUVBLFVBcURBLEdBQ0EsU0FuREEsa0JBQ0MsRUFBRCxhQUVBLEdBQ0EsVUFDQSxrQkFDQSxnQkFFQSxTQUNBLGdCQUVBLDBCQUdBLEVBRkEsYUFFQSxZQUNBLENBQ0Esa0JBQ0Esa0JBQ0EsY0FDQSxzQkFFRyxDQUNILGNBQ0EsYUFDQSxXQUNBLGtCQUVBLHNDQUVBLFlBRUEsT0FFQSxZQUVBLGVBQ0EsV0FDQSxhQWVBLFVBRUEsYUFJQTs7Ozt3Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsMkJBQWdHLFlBMEJoRyxJQUFJLEVBQUosQ0FDQSxTQTFCQSxrQkFDQyxFQUFELFFBQ0EsY0FDQSxZQUVBLHNDQUNBLGFBQ0EsV0FDQSxXQUdBLGdDQUNBLEtBZUEsT0FYQSxZQUNBLGdCQUNBLGtCQUNBLGFBQ0EsWUFDQSxnREFDQSxlQU9BLGFBSUE7Ozs7OEJBS0EsYUFNQTs7Ozt3Q0FLQSxnQkFFQSxhQTZDQSxTQUFTLEVBQVQsS0FDQSxvQkFDQSwwQkFHQSxTQUFTLEVBQVQsS0FDQSw2QkFHQSxTQUFTLEVBQVQsR0FDQSx3Q0FtSEEsU0FBUyxFQUFULEdBQ0EsdUJBR0EsU0FBUyxFQUFULE9BQ0MsRUFBRCxHQUNBLGtCQUNBLHFDQUVBLFFBQ0EscUJBQ0EsMEJBTUMsR0FBRCx5QkFHQSw0QkFFQSxrQkFDQSx5QkFHQSxlQUdBLFNBQVMsRUFBVCxHQUNBLHNCQURBLElBR0EsOEJBQ0EsWUFDQSx5QkFHQSxXQUdBLFNBQVNHLEVBQVQsT0FDQSxpQkFEQSxHQUlBLFVBR0Esd0JBQ0Esb0JBQ0Esa0JBRUEsV0FDQSx1QkFHQSxVQUNBLCtCQUdBLFdBQ0EsMkJBR0EsT0FDQSxtQ0FDQSxhQUVBLGlDQUNBLGFBRUEsb0NBQ0Esa0NBQ0EsZ0NBQ0EsbUNBRUEsa0NBQ0EsZUFFRyxNQUNILEtBSUEsU0FBUyxFQUFULEdBQ0EscUNBQ0Esc0NBQ0Esb0NBQ0EsdUNBQ0EsbUNBQ0Esc0NBQ0EscUNBblFBLE9BQ0EsMkJBQWdHLFlBSmhHLElBS0EsaUVBRUEsR0FEQSxPQUNBLHFEQUNBSCxFQUFBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQTRCQSx1QkFDQSxRQUNBLE1BRkEsSUFLQyxFQUFELDBCQUNBLHVDQUNBLG1CQUNBLGtCQUNBLElBQ0EsS0FFQSw2QkFDQSxNQUNBLGtCQUNBLHVDQUVBLDhDQWpCQSxJQW9CQyxHQUFELDBCQUNBLDhCQUdBLE9BQ0EsU0FDQSxRQUNBLEVBTEEsb0JBTUEsRUFMQSxvQkFNQSxVQUNBLFlBSUEsR0FFQSxxQkFLQSxRQUpBLFFBQ0EsTUFHQSxrQ0FJQyxFQUFELCtCQUNBLGlDQUNBLGlCQUNBLGtDQUVBLFVBQ0EsMEJBVkEsSUFhQyxFQUFELFNBQ0EsV0FDQSxVQUNBLE1BQ0EsTUFDQSxZQUNBLFlBRUEsV0FDQSxrQ0FDQSxnQkFDQSxpQkFDQSxpQkFDQSxpQ0FFQSwyQkFDQSw0QkFDQSxxQ0FHQSw4Q0FDQSxnREFDQSwwREFDQSxPQUNBLHlDQUNBLHVCQUNBLGlEQUNBLDJDQUNBLDhDQUNBLFdBQ0ssS0FFTCxpQkFDQSxvQ0FDQSxzREFDQSxpQkFDQSxvQkFDQSx3QkFBMkMsMEJBQTNDLElBQ0MsRUFBRCx1Q0FDQSxhQUNBLHVCQUNBLDhDQUNBLDRDQUNBLE9BQ0EsdUJBR0EsSUFGQSxnREFFQSxxQ0FDQSxtREFDQSw0QkFHQSw0Q0FDTyxPQWJQLFFBNklBLEdBQ0EsS0EvQkEsZ0JBQ0EsVUFJQSwyQ0FDQSxpQ0FFQSw0QkFDQSxnRUFDQSwyQkFoUEEsV0FDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFNBMk9BLGdFQXNCQSxPQWhCQSxtQkFDQSxVQUNBLE1BZUEsT0FaQSxjQUNBLHNCQUtBLE1BREEsaUJBU0EsYUFJQTs7Ozt3Q0FLQSxnQkFFQSxhQUNBLE9BQ0EsMkJBQWdHLFlBMEJoRyxJQUFJLEVBQUosQ0FDQSxTQTFCQSxrQkFDQyxFQUFELFFBQ0EsY0FDQSxZQUVBLDZDQUxBLElBT0EsaUNBQ0EsYUFDQSxXQUNBLFVBQ0EsWUFnQkEsT0FaQSxZQUNBLGdCQUNBLGtCQUNBLGFBQ0EsWUFDQSxTQUNBLHlDQUNBLGVBT0EsYUFJQTs7Ozt1Q0FLQSxnQkFFQSxhQWlEQSxTQUFTLEVBQVQsR0FDQSxPQUNBLGNBQ0EsY0FDQSxZQUNBLFlBQ0EsYUFDQSxhQUNBLFVBQ0EsVUFDQSxZQUNBLGNBQ0EsUUFDQSxZQUNBLGNBQ0EsWUFDQSxXQUVBLE9BQ0EsdUJBQ0EsT0ExQ0EsY0FDQSwwQkFDQSx3QkFDQSx3QkFDQSxxQ0FzQ0EsT0FFQSxxQkFDQSxPQXRDQSxjQUNBLDBCQUNBLHNCQUNBLHNCQUNBLGlDQUNBLEtBaUNBLE9BRUEsc0JBQ0EsT0FqQ0EsY0FDQSwwQkFDQSx1QkFDQSx1QkFDQSxtQ0E2QkEsUUExRUEsT0FDQSwwQkFBK0YsWUFKL0YsSUFLQSxzREFHQSxrQkFDQyxFQUFELGNBQ0EsY0FDQSxnQkFDQSxjQUdBLGNBQ0EsY0FFQSxhQUxBLEdBS0EsZUFDQSxZQUxBLElBS0EsVUFDQSxhQU5BLElBTUEsWUFHQSxhQVZBLEdBVUEsZUFDQSxVQVZBLElBVUEsUUFDQSxZQVhBLElBV0EsWUFtRkEsR0FDQSxTQTNCQSxvQkFDQyxFQUFELFFBQ0EsNkJBQ0EsY0FDQSxZQUdBLE1BQ0EsaUJBQ0EsMENBQ0EsbUNBQ0EsdUNBQ0Esa0NBZ0JBLE9BWkEsZ0JBQ0EsdUNBQ0Esd0JBQ0EsdUNBQ0EsdUNBQ0Esd0NBRUEsb0NBT0EsYUFJQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSx3Q0FDQSxnREFDQSx1REFRQSxHQVBBLE9BU0EsV0FDQSxtQkFDQSxRQUNBLE1BR0Esa0JBQ0Esa0JBQ0EsZUFDQSxjQUNBLHdCQUNBLHVCQUNBLGlCQUNBLGtCQUNBLGlCQUNBLGtCQStCQSxPQXpCQyxFQUFELDZCQUNBLFdBRUEsb0NBQ0EscUJBQ0Esd0JBQ0EsZUFLQSxzQ0FJQSw0QkFDQSxpQkFDQSw2QkFDQSx3Q0FDQSx5QkFHQSxvQkFDQSxlQUNBLG1CQUNBLEVBOUNBLElBaURBLGFBSUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0RBQ0Esb0RBQ0EsNENBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFNQSxvQkFDQSxJQUFJLEVBQUosa0JBRUEsZ0NBQ0Esc0JBQ0EsYUFDQSxjQUZBLEtBTUEsd0NBQ0EsMkJBS0E7Ozs7Z0NBS0EsZ0JBRUEsYUFRQSxTQUFTLEVBQVQsS0FLQSxRQUpBLFFBQ0EsT0FHQSxhQUNBLGVBRUEsU0FDQSxtTEFKQSxJQU9DLEVBQUQsaUJBQ0EsbUJBRUEsZ0JBQ0EsV0FDQSxrQkFHQSxjQUNBLE1BQ0EsZ0JBQ0EsV0FFQSxrQ0FDQSxpQkFJQSxTQUdBLFVBYkEsSUFtQkEsd0JBQ0EseUJBQ0EsU0FDQSx3QkFDQSxvQkFFQSxXQUNBLGtDQUNBLGlEQUVBLHFEQXhEQSxPQUNBLDRCQUFpRyxZQUpqRyxJQUtBLHFCQUNBLFNBQ0EsbURBNERBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FDQSxXQUNBLGNBQ0EsY0FDQSwwQ0FDQSxnQ0FFQSxXQUNBLGtDQUNBLFdBQ0Esa0VBQ0EsaUVBQ0Esc0RBRUEsa0JBRUEsWUFDQSxtQ0FDQSxzQkFDQSxxQkFDQSx5QkFDQSx1QkFDQSxxQkFDQSwyQkFFQSxZQUNBLDhCQUVBLCtCQUNBLFVBQ0EsdUJBQ0EsbUJBQ0EsV0FDQSx3Q0FHQSxVQUNBLHVCQUVBLFdBQ0Esb0JBQ0Esd0NBRUEsWUFDQSxRQUNBLFdBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFPQSxTQUFTLEVBQVQsR0FBd1UsU0FBalQsNERBQTJFLFlBQWtDLGlCQUErQixZQUFrQyxzR0FBbUksR0FOeFUsT0FIQSxJQUlBLDBEQUNBLDREQUNBLG9EQUNBLHNEQUNBLHNEQUdBLGNBQ0Esb0RBQ0EsSUFGQSxTQUdBLFVBQ0EsQ0FDQSxnQkFFQSxPQURDLEdBQUQsd0JBQ0EsQ0FDQSxnQkFDQSxZQWFBLHlDQUdBLG9CQUNBLG1CQUNBLE9BQ0EsV0FDQSxhQUNBLHNCQUNBLDJDQUdBLGlCQUNBLDBCQUNBLHFCQUVBLGdCQUNBLE9BRUEsc0JBQ0EsaUJBQ0EsMkNBQ0EsZUFHQSxPQUNBLDJCQUNBLDhCQUVBLG1CQUNBLGlEQUVBLG9DQUNBLHlIQUFvSixNQUdwSiwyQkFFQSx5QkFDQSw4QkFFQSxTQUNBLDhCQUNBLFFBRUEsd0RBQ0EsNENBQ0Esa0NBRUEsSUFDQSw2QkFBbUUsT0FBZ0IsV0FBbkYsRUFDQSxRQUNBLDBEQUVPLFNBQ1AsR0FDQSxTQVBBLFFBVUEsSUFDQSxvQ0FEQSxRQUdBLHVCQUlBLHdCQUNBLDZFQUNBLGdDQUNBLHdDQUNPLEdBRVAsT0FEQyxLQUFELGdCQUNBLEdBRUEsa0NBQ0EsT0FDQSxjQUNBLG1CQUNBLG1DQUdBLGlDQUNBLFdBRUEsMEJBQ0EsU0F1QkEsT0FyQkMsS0FBRCxhQUNBLHlCQUNBLGtCQUVBLG9CQUdBLHlCQUNBLGtCQUVBLHNCQUdBLG9CQUNBLHdCQURBLEdBR0EsVUFDQSx3QkFJQSxHQUVBLHlCQUVBLHNEQUNBLFdBRUEsbUJBQ0EsK0NBREEsRUFHQSxnQ0FFQSxnQ0FDUyxtQkFFVCxtQkFHQSxvQkFFUSxHQUFELDhEQUlQLDhDQUpPLEVBTVAsc0JBQ0Esb0NBQ0EseUVBR0EsaUJBRUEsK0JBYk8sSUFpQlAsNkJBSUEsT0FEQyxLQUFELG1CQUNBLHVCQUVBLDBCQUNBLGtFQUVBLHlCQUNBLFdBQ0EsT0FDQSxZQUNBLG1CQUdBLGFBQ0EsZ0JBS0EsaUNBQ0EsUUFFQSwwQ0FDQSxrQ0FFQSxJQUNBLDZCQUFtRSxPQUFnQixXQUFuRixFQUNBLFFBQ0EsK0RBRU8sU0FDUCxHQUNBLFNBUEEsUUFVQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsb0JBRUEsMEJBQ0EsMkJBQ0Esb0JBQ0EsK0JBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFRQSxTQUFTLEVBQVQsS0FPQSxZQU5DLElBQUQsSUFDQSxNQUtBLG1FQUNBLHVCQUNBLE9BQ0EsYUFFQSxVQUNBLCtCQUNBLFdBR0EsT0FHQSxrQkFDQSxnREFFQSxrQ0FDQSxvREFHQSxxQkFDQSxtQkFFQSxtQkFDQSx1QkFBNkMsSUFBWSxJQUN6RCxrQ0FHQSxtQkFFQSxtQkFDQSxtQkFFQSx1QkFDQSwwQkFFQSxxQkFDQSwwQkFFQSxTQUNBLHNCQUNBLFVBQ0EsaUdBRUEsbUNBQ0EsUUFDQSxPQUdBLGNBQ0EsMEVBRUEsNkJBQ0EsYUFuRUEsT0FDQSw0QkFBaUcsWUFKakcsSUFLQSxnRUFDQSxxREF3RUE7Ozs7Z0NBS0EsZ0JBRUEsYUFVQSxTQUFTLEVBQVQsR0FDQSxxQkFDQSxlQUNBLDJDQUNBLDhCQUlBLGVBQ0EsaUNBbEJBLE9BSEEsSUFJQSxxQkFDQSxTQXFCQSxzQkFDQSxnQkFDQSxPQUNBLFVBQ0EsZ0JBR0EsbUJBR0Esa0NBQ0EsZUFFQSwwQ0FDQSxtQkFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxzREFDQSxxQkFDQSxTQWdCQSwrQkFDQSxnQkFDQSxPQUNBLGVBRUEsZ0JBQ0EsT0FDQSxjQUdBLFVBQ0Esc0JBQ0Esa0RBR0EsT0FDQSxvQkFDQSxtQkFHQSxtQkFFQSxzQkFDQSxnQ0FHQSxTQUNBLDRCQUNBLHFDQU9BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FDQSxrR0FLQSxrQ0FDQSxvQkFDQSxtQkFDQSxPQUNBLGlCQUdBLFVBQ0EsbUJBQ0EsNkRBR0EsU0FFQSxvREFNQTs7OztnQ0FLQSxnQkFFQSxhQW1EQSxTQUFTLEVBQVQsR0FDQSwyQ0FuREEsT0FIQSxJQUlBLHFCQUNBLFNBQ0Esc0RBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFxQ0Esc0JBQ0EsaUJBQ0EsT0FDQSxjQUVBLFNBQ0EsaUNBQ0EsTUFEQSxZQUdBLFFBQ0EsTUFHQSwwQkFFQSx1REFUQSxHQWNBLDBCQUVBLHVEQWhCQSxJQXFCQSxLQUNBLGFBQWdDLFNBQ2hDLHdCQUNBLHNCQXhCQSxJQTJCQSxhQUFnQyxnQkFBc0IsTUFBckIsS0EzQmpDLElBZ0NBLDJCQUNBLE1BTUEsUUFKQSxRQUNBLE1BR0EseUJBSUEsT0FGQyxPQUFELGVBQUMsQ0FBRCxnQ0FFQSxFQUdBLDRCQUlBLE9BRkMsT0FBRCxlQUFDLENBQUQsZ0NBRUEsRUFHQSxRQUNBLGFBQWdDLFNBQ2hDLFdBQ0EsMEJBRVEsR0FBRCxHQUNQLE1BbkdBLGNBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxTQTJFQSxxQ0FDQSxPQUNBLE9BRUEsYUFBZ0MsZ0JBQXNCLGVBQXJCLElBTDFCLElBUVAsd0JBSUEsY0FPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUNBLHNEQUdBLHNCQUNBLGtCQUNBLE9BQ0EsaUJBQ0EsY0FDQSx5QkFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQVVBLCtCQUNBLGlCQUNBLE9BQ0EsV0FDQSxxQkFDQSxXQUVBLFlBQ0EscUJBQ0EsWUFHQSxnQkFDQSxPQUNBLG1CQUNBLHNCQUdBLFNBSUEsc0JBQ0EsK0JBQ0EsaUNBTUEsdUJBQ0EsV0FFQSxrQkFDQSxtQ0FDQSwyQ0FDQSxZQUNBLFFBQ0EsVUFGQSxJQURBLFFBWUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsb0RBQ0EsZ0JBQ0Esb0RBQ0EsZUFDQSxJQUNBLEVBRUEsRUFIQSxZQUVBLEtBR0EsZUFDQSxtQ0FDQSxnQkFFRyxTQUNILEdBQ0EsU0FOQSxRQVNBLElBQ0Esb0NBREEsUUFHQSxvQkFJQSxVQUdBLGFBQ0EsaUJBQTBCLG1CQUFzQixJQUNoRCw0QkFHQSxVQXVCQSxzQ0FDQSxpQkFDQSxnQkFDQSxPQUNBLG1CQUNBLFlBQ0EsaUJBR0EsT0FDQSxxQkFDQSxNQUdBLFFBRkMsRUFBRCx5QkFFQSxJQUF5QixXQUErQixJQUN4RCxtQkFJQSxTQUNBLG9DQUNDLEtBQUQsZ0JBdkNBLFNBQVMsRUFBVCxHQUdBLFVBRkMsRUFBRCxHQUVBLElBQXFCLFdBQXlCLEtBQTlDLEVBQ0EsTUFFQSx3QkFDQSxVQUVBLGtDQUlBLFNBMEJBLGlCQUNBLElBRUEsb0NBSUEsUUFIQyxFQUFELEdBQ0EsMkJBRUEsSUFBeUIsV0FBK0IsSUFDeEQsd0RBR0EsVUFFQSx5Q0FDQSxpQkFJQSxPQUhDLEtBQUQsMENBQ0EsdUNBQ0EsbURBQ0EsT0FPQTs7OztnQ0FLQSxnQkFFQSxhQU1BLFNBQVMsRUFBVCxHQUF3VSxTQUFqVCw0REFBMkUsWUFBa0MsaUJBQStCLFlBQWtDLHNHQUFtSSxHQUx4VSxPQUhBLElBSUEsd0RBQ0Esc0RBQ0Esb0RBQ0Esc0RBbUJBLCtDQUNBLGtCQUNBLE9BQ0EsUUFDQSxXQUNBLFVBZEEsWUFDQSxXQURBLE1BR0EsNkJBQ0EsaUNBWUEsY0FDQSxZQUNBLGFBR0EsZ0JBQ0EsT0FDQSxtQkFDQSxpQkFHQSxPQUNBLGtCQUNBLG9CQUNBLG1CQUVBLHlCQUVBLHVCQUNBLFdBRUEsMkJBQ0Esa0JBQ0Esa0VBQ0EscUJBQ0EsVUFDQSxpQkFEQSxDQUVBLGtFQUVBLCtDQUtBLG1CQUNBLG9DQUVBLHVCQUNBLGtCQUVBLHlCQUVBLElBS0EsR0FKQSxtREFDQSw4REFHQSxvQkFDQSwyRUFDQSxxQkFDQSxnRUFHSyxTQUNMLGlCQUdBLFNBQ0EsK0JBQ0EsRUFFQyxFQUFELHdFQUNBLGtCQUFnQyxNQUFoQyxJQUVBLHNCQU9BLE1BTkEsOERBRUEsbUJBQ0EsaUJBQ0EsdUJBSkEsVUFRQSxnQkFFQSxxQ0FDTyw2QkFFUCxvQ0FHQSxjQVFBLHFEQUNBLDJCQUxDLE9BQUQsY0FBQyxDQUFELGtFQVlBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBRUEsc0JBQ0Esa0JBQ0EsT0FDQSwyQkFFQSxVQUNBLDZCQUNBLHVCQUVBLGdDQUNBLEVBRUMsRUFBRCx1QkFIQSxPQUlDLE1BQUQsS0FDQSx3QkFDQSxNQUFvQixnQ0FBcEIsUUFPQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUlBLHNCQUNBLGtCQUNBLE9BQ0EsWUFDQSxZQUNBLG1DQU9BOzs7O3lDQUtBLGdCQUVBLGFBTUEsU0FBUyxFQUFULE9BdUNBLE9BckNBLGdDQUNBLGlCQUNBLE9BQ0EsYUFDQSxZQUNBLDBCQUNDLEtBQUQsR0FDQSx5QkFGQSxJQUtBLGtCQUVBLGdCQUNBLE9BQ0EsY0FHQSxVQUNBLHdCQUNBLE1BREEsT0FHQyxLQUFELGNBQ0EsTUFBc0IsZ0NBQXRCLEdBREEsS0FJQSxtQkFDQSxpQ0FFQSx5QkFDQSxtQ0FFQSxTQUNBLGtCQUNBLHlCQXhDQSxPQUNBLDRCQUFpRyxZQUpqRyxJQUtBLDhEQThDQSxpQkFDQSxhQUlBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBQ0Esd0ZBZUEsK0JBQ0EsZ0JBQ0EsT0FDQSxTQUNBLHNCQUNBLFlBRUEsY0FDQSxxQkFDQSxZQUdBLFNBQ0EsOEJBQ0Esc0JBQ0EscURBQ0EsT0FDQSxZQUNBLDhFQUNBLHlCQUNBLHlCQVNBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBRUEsc0JBQ0EsaUJBQ0EsT0FDQSxlQUVBLFVBQ0EseUJBQ0Esb0RBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsc0RBQ0EscUJBQ0EsU0FLQSxzQkFDQSxrQkFDQSxPQUNBLHVCQUNBLDBCQUNBLHlCQUNBLDBCQUNBLHlCQUNBLHVCQUVBLFVBQ0EsZ0NBQ0MsRUFBRCxHQUNBLHVDQUNBLDBDQUNBLHlDQUNBLDBDQUNBLHlDQUNBLHNDQU9BLFdBTkEsWUFNQSxJQUxBLGVBS0EsSUFKQSxjQUlBLElBSEEsZUFHQSxJQUZBLGNBRUEsSUFEQSxXQUNBLE9BT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsZ0VBQ0EsMERBQ0EsOERBQ0Esb0RBQ0Esc0RBU0EsbURBR0EsNkJBQ0EsZ0JBQ0EsT0FDQSxzQkFDQSxjQUNBLGFBQ0EsVUFDQSxxQkFDQSxnQkFFQSx5QkFDQSxhQUNBLHFCQUNBLFdBRUEsV0FDQSxxQkFDQSxXQUVBLFlBQ0EscUJBQ0EsV0FFQSxVQUNBLHFCQUNBLFdBRUEsWUFDQSxxQkFDQSxXQUVBLHVCQUNBLG9CQUNBLFdBQ0EsWUFDQSxjQUVBLFdBQ0EsWUFDQSxjQUVBLFFBQ0EscUJBQ0EsZUFHQSxnQkFDQSxPQUNBLFlBQ0EsWUFDQSxpQkFDQSxrQkFDQSxZQUNBLFdBQ0EsTUFDQSxPQUNBLFNBQ0EsUUFDQSxRQUNBLFNBQ0EsWUFDQSxlQUNBLGNBRUEsU0FDQSxNQUNBLE9BQ0EsU0FDQSxRQUNBLFFBQ0EsU0FDQSxZQUNBLGlCQUdBLGtCQUNBLGFBQ0Esa0JBQ0EsbUJBQ0EsWUFDQSxjQUNBLHFDQUNBLG1CQUdBLFVBQ0EsNEJBQ0MsRUFBRCwwQkFDQSwwQkFDQSw0Q0FDQSxxQkFDQSxJQUdBLEdBRkEsNkJBRUEsY0FDQSw4REFDQSx3QkFLQSxPQUZDLEtBQUQseUNBQ0EsZ0RBQ0EsR0FFQSwyQkFDQyxFQUFELDBCQUNBLDBCQUNBLElBTUEsT0FMQyxLQUFELDRCQUtBLElBSkEsZ0JBQW9ETixFQUFBLHFCQUFwRCxZQUNBLCtDQUNBLDRDQUNBLGtEQUNBLEdBRUEsd0JBQ0Esb0dBR0EsT0FDQSxxQkFDQSwwQkFFQSxxQkFDQSxnQkFDQSw4Q0FFQSw2QkFDQSw4QkFFQSx1QkFDQSwyQ0FFQSxTQUNBLDRCQUNBLE9BQ0EsWUFDQSxhQUNBLGVBQ0EsbUNBQ0Esc0NBQ0Esb0NBQ0EscUNBQ0EsU0FDQSxVQUdBLHNCQUNBLHFCQUNBLDRHQUVBLG1CQUNBLHdHQUVBLDRCQUNBLDRCQVFBLFdBTkEsNEJBQ0EsU0FFQSxTQUdBLHNCQUVBLDhCQUNDLEVBQUQsc0JBQ0EscUJBQ0EsNEJBQ0EsaUNBRUEsSUFEQSxJQWNBLE9BVkMsR0FBRCxxQkFFQSxRQUNBLDZCQUNPLHVCQUNQLFNBQ08sMENBQ1AsdUJBR0EsV0FFQSx3QkFDQSxnQkFDQSxpQkFFQSwwQkFDQSx3QkFDQSxtQkFFQSwrQkFDQSxpQkFDQSw2REFHQSwrQkFDQSx5QkFDQSwwQkFEQSxHQUdBLENBQ0EsaURBRUEsWUFEQSx3QkFJQSxpQkFHQSx5QkFFQSx3QkFDQSxxQ0FDQyxFQUFELEtBRUEsNkRBQ0EsVUFXQSxPQVRDLEVBQUQsa0JBQ0EsZUFDQSxRQUdBLHNCQUNBLHVCQUdBLEdBRUEsaUNBQ0MsS0FBRCxVQUNBLDBEQURBLEdBR0EsZ0NBQ0MsS0FBRCxVQUNBLHdEQURBLEdBR0EsK0JBQ0MsS0FBRCxVQUNBLHVEQURBLEdBR0Esd0NBQ0EsZ0NBQ0EsT0FDQSxhQUNBLGVBQ0EsbUJBQ0EsaUJBQ0EsaUJBQ0EscUJBR0Esb0JBQ0EsbUNBQ0EsMENBRUEscUJBQ0EsaUNBQ0EsOEJBQ0EsNEJBR0EsVUFFQSxzQkFDQSxXQUVBLGtDQUNBLHNCQURBLE9BR0MsR0FBRCwwQkFLQSwrQkFDQSxTQUNBLDhCQU5DLFFBU0QsMkJBQ0EsV0FFQSxnQ0FDQSx5Q0FDQSw4Q0FDQSxXQUlBLDRCQUNBLFdBRUEsMENBQ0EsMkJBQ0EsMkJBQ0Esb0RBQ0EsU0FFQSxxQ0FDQSx3Q0FDTyxDQUNQLDBCQUNBLGFBQ0EsNEJBQ0Esb0NBT0EsdUJBTEEsZ0JBS0EsRUFGQSxZQU9BLDJCQUNBLHFDQUNBLHVCQVFBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLDBFQUNBLHNEQUNBLHFCQUNBLFNBU0EsK0JBQ0EsbUJBQ0EsT0FDQSxvQkFDQSxvQkFDQSxnQ0FFQSxnQkFDQSxPQUNBLGVBR0EsT0FDQSx3QkFDQSxnQkFEQSxFQUVBLHFCQUFzQyxxQkFHdEMseUJBQ0Esc0JBRUEsU0FDQSx5QkFDQSxxQkFDQSxXQUNBLHVCQUNBLFNBQ0Esd0JBQ0EsK0JBR0EsV0FDQSw2RUFDQSxzQ0FDQSxnQkFFQSxzQkFDQSxXQUdBLEdBREEsbUJBQ0EsaUJBYUEsT0FaQyxLQUFELDhCQUNBLGtDQUNBLGlCQUVBLG1CQUVTLFFBQ1QsNkNBRkEscUNBS0Esd0JBRUEsR0FJQSwwQkFDQSxnQkFFQSxRQUNBLE1BR0EsZUFDQSw0RUFDQSx1RUFFQSxvREFFQSxxQkFFQSxtQkFFQSx1QkFHQSxzQkFFQSwyQkFDQSx1QkFDQSw2REFDQSxrQ0FGQSxJQUdDLEVBQUQsa0NBQ0Esd0NBRUEseUJBQ0EsZ0JBQ1UsS0FBRCxzQkFHUixPQUZELGFBTUEsK0dBRUEseUJBQ0EsK0NBQ0EsaUNBQ0EsOEVBRUEsb0NBQ0EsdUJBQ0Esa0RBRUEsOEJBQ0MsSUFBRCxHQUVPLDZCQUdQLCtCQUdBLDBCQUNDLEVBQUQsNkJBQ0EsV0FFQSxpREFDQyxFQUFELGtCQUVBLG1DQUhBLFFBS0EsOENBQ0EsdUJBTUEsY0FBeUIsV0FBcUIsS0FFOUMsTUFEQSxRQUNBLGtCQUNBLHlDQUNBLG1DQUNBLHNEQUdBLFVBTUEseUJBQ0EsMENBREEsUUFFQyxFQUFELEdBQ0EsV0FIQSxHQUtBLENBR0EsR0FGQSxVQUVBLG1CQUdBLE9BRkMsRUFBRCxlQUNBLGVBQ0EsRUFHQSxrQkFHQSxVQUVBLHNCQUNBLG1DQUNBLDZEQUVBLHNFQUNBLGFBRUEseURBR0Esc0JBQ0EsK0RBQ0Esd0RBQ0EsK0RBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsMERBQ0Esb0RBQ0Esc0RBUUEsK0NBQ0EsU0FDQSxvQ0FDQSxnQkFFQSxRQUNBLFdBR0EsUUFDQSxNQVJBLElBV0MsRUFBRCxZQVFBLGtDQUNBLCtDQUNBLE9BQ0EsaUNBQ0Esb0NBRUEsZ0JBQ0EsTUFiQSxZQUNBLG9CQUVBLCtDQVlPLDZCQU9QOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHdFQUNBLDBEQUNBLDBEQUNBLG9EQVFBLGlEQUVBLFFBQ0EsY0FDQSxPQUNBLGtCQUNBLG1CQUNBLGtCQUNBLGdCQUNBLE9BQ0EscUJBQ0EsY0FHQSxTQUNBLDBCQUNBLGFBRUEseUJBQ0EsYUFFQSxnQ0FDQSw0REFDQSxlQUNBLHFCQUNPLHFCQUVQLHNCQUNBLFNBRUEsa0JBQ0EsNEJBQ0EsYUFHQSwyQkFLQSxPQUpDLEdBQUQsVUFDQSx1Q0FDQSxnQkFDTyxnQ0FDUCwrQkFDQSxjQUNBLE9BQ0EsbUNBQ0EsZUFDQSx5QkFDQSx5QkFDQSxpQkFDQSxpQkFDQSx1QkFUQSxRQWtCQTs7Ozt5Q0FLQSxnQkFFQSxhQWdCQSxTQUFTLEVBQVQsR0FLQSxZQUpDLElBQUQsSUFDQSxNQUdBLFlBQ0Esb0JBQ0EscURBdEJBLE9BQ0EsNEJBQWlHLFlBSmpHLElBS0EscUJBQ0EsU0FDQSxzREFHQSxHQUNBLGlCQUNBLGVBQ0EsY0FDQSxhQUNBLGNBQ0EsYUFZQSxlQStCQTs7Ozt5Q0FLQSxnQkFFQSxhQU1BLFNBQVMsRUFBVCxLQUNBLFFBVUEsWUFSQyxJQUFELElBQ0EsZ0JBR0EsUUFDQSxZQUdBLFlBQ0EsaUJBQ0EsT0FDQSxPQUNBLFNBRUEsWUFBbUIsTUFDbkIsYUFEQSxHQUdBLGdCQUNBLE9BQ0EsNEJBR0EsVUFDQSxlQUNBLGVBQ0EsK0JBRUEsZ0JBQ0EsNkJBQ0EseUJBQ0Esb0JBSUEsWUFBbUIsaUJBQ25CLDBCQURBLEtBMUNBLE9BQ0EsNEJBQWlHLFlBSmpHLElBS0EscUJBQ0EsU0E4Q0EsTUFDQSxhQUlBOzs7O3dDQUtBLGdCQUVBLGFBVUEsU0FBUyxFQUFULEtBQ0Esa0JBQ0EsOEVBSUEsU0FBUyxFQUFULFdBQ0EsRUFFQyxFQUFELE1BQ0EsZ0JBQ0EsbUJBQ0csS0FDSCxtQkFDQSwwQkFDQSxhQUFvQixNQUNwQixXQURBLEtBS0EsU0FBUyxFQUFULEtBS0EsWUFKQyxJQUFELElBQ0EsTUFHQSxZQUNBLDJCQUNBLGFBQXNCLENBQ3RCLGNBQ0EsaUJBRUEsbUJBQ0EsTUFFQSxhQUFvQixXQUNwQix1QkFDQSw0QkFGQSxLQTNDQSxPQUNBLDJCQUFnRyxZQUNoRyw0QkFBaUcsWUFMakcsSUFNQSxxQkFDQSxTQUNBLHVEQWdEQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUlBLHNCQUNBLGtCQUNBLE9BQ0Esa0JBRUEsZ0JBQ0EsT0FDQSxZQUNBLHFCQUdBLE9BQ0EsdUJBRUEsb0NBRUEsdURBSUEsU0FDQSxpQkFDQSxXQUVBLHFCQUNBLHVCQUNBLHNCQVFBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHNFQUNBLHFCQUNBLFNBS0Esc0JBQ0Esa0JBQ0EsWUFDQSxrQkFFQSxPQUNBLFFBQ0Esc0JBQ0EsYUFHQSxTQUNBLGtDQUNBLFFBQ0EsTUFHQSxhQUNBLG9EQUNBLDhCQUNBLG1CQUNBLGNBQ0EsT0FDQSxhQUdBLG9CQUNBLHFCQUNPLGlCQUNQLDhCQVpBLE1BY0EsMEJBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FDQSxzRUFDQSxzREFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQVFBLHNCQUNBLGdCQUNBLFlBQ0Esa0JBRUEsT0FDQSxtQkFDQSxlQUNBLGlCQUNBLE9BQ0EsYUFDQSxnQkFFQSx3QkFDQSxhQUNBLHFCQUNBLG1CQUNBLGFBQ0EsZ0JBQ0EsUUFDQSxzQkFDQSxjQUVBLFdBQ0EsZUFFQSxnQkFDQSxPQUNBLFlBQ0EsZ0JBR0EsVUFDQSxtQkFDQSxTQURBLE9BRUMsS0FBRCxHQUZBLEdBR0Esc0RBQ0Esb0RBSkEsSUFPQSwwQkFDQSx1RUFFQSw4QkFDQSxrQkFDQSxzRkFFQSxrQkFDQSxzQ0FFQSxrQkFDQSxXQUdBLE9BQ0Esd0JBRUEsU0FDQSxrQkFDQSx1QkFFQSxpQ0FDQSxFQUdBLEVBREMsRUFBRCxXQUVBLE9BQ0EsT0FDQSwrREFFQSxtQkFDQSxrQkFDQSxTQUNBLGFBQ0EsY0FDQSw4QkFFTyw4QkFBK0MsaUJBQ3RELG1CQUNPLGFBYlAsR0FtQkEsUUFKQSxpQkFDQSxnRUFHQSxhQUdDLEVBQUQsaUJBQ0EsMkJBRUEsa0JBQ0EsaUNBQ0Esa0NBR0Esc0NBQ0EsdUJBQ0EsV0FDQSxRQUNBLGNBQ0EsbUJBQ0EsbUJBQ0EsMkJBSUEsT0FEQyxHQUFELGlDQUNBLG9DQUlBLE9BREMsS0FBRCxxQ0FDQSxDQUNBLE1BQ0EsU0FHQSx5QkFDQSxXQUVBLDhDQUNDLEdBQUQsbURBRUEsMkJBRUEsNENBSEEseUJBSUEsZ0JBSUEsd0JBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsd0RBQ0Esc0RBQ0EscUJBQ0EsU0FrQkEsc0JBQ0Esa0JBQ0EsWUFDQSxpQkFFQSxPQUNBLG9CQUNBLGlDQUVBLGdCQUNBLE9BQ0EsZ0JBQ0EsbUJBQ0EsWUFDQSxpQkFDQSxpQkFDQSxjQUNBLGNBR0EsVUFNQSxxQkFDQSxrQ0FPQSxtQ0FDQSx3REFHQSxPQUNBLHlCQUNBLHVEQUVBLG9CQUNBLHFCQUdBLG1CQUNBLG9CQUNBLHVEQUVBLGFBQ0EsNEZBSUEsU0FDQSxvQkFDQSxXQUVBLGlCQUNBLHVDQUNBLHdFQUNBLDBEQUNBLHlFQUNBLDJCQUNBLGtGQVNBLDhCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHNFQUNBLDREQUNBLDREQUNBLG9EQVVBLG1FQUNBLGtCQUNBLE9BQ0Esa0JBQ0EsZ0JBRUEsT0FDQSxVQUNBLGdCQUNBLGdCQUNBLGVBQ0EsVUFDQSxhQUNBLGNBRUEsY0FFQSxnQkFDQSxPQUNBLHlCQUNBLDRCQUdBLFVBQ0EsZ0NBQ0MsS0FBRCxTQUNBLHNCQUNBLHFDQUNBLGNBSkEsR0FNQSxzQkFDQSxtRkFFQSx3QkFDQyxFQUFELEtBRUEsYUFDQSxxQkFKQSxPQU1DLEtBQUQsYUFDQSxrQkFDQSxvQkFDQSxzQ0FJQSw2Q0FDQSxnQ0FHQSx3Q0FFQSxtQkFDQSx1QkFHQSxPQUNBLHVCQUNBLGlCQUNBLGtCQUdBLFNBQ0Esd0JBQ0MsRUFBRCxLQUVBLGdEQUhBLFVBS0EsV0FDQSxrQkFJQSxtQkFFQSxlQVpBLE1BaUJBLHVCQUNBLG9DQUNBLHFCQUNBLHdDQUNBLHlCQUNBLG1CQUNBLE9BQ0EsUUFMQSxHQU9BLFVBQ0EsaUJBQ0EsdUJBRUEsSUFDQSxpQkFDQSxxQkFDQSxtQkFDQSx3QkFFQSxlQUdBLGtCQUNBLG1CQUVBLG9CQUNBLFdBRUEseUJBQ0MsRUFBRCxXQUNBLHFCQUVBLG9CQUNBLG1CQUNBLE1BR0EsZ0JBQ0Esd0JBQ0Esa0NBR0EsWUFDQSxlQVhBLE9BYU8sNkNBQ1Asc0VBZEEsRUFnQkEsa0NBRUEsRUFHQSxvQkFDQSxxQkFDQSxrQkFFQSxtQkFDQSxtQkFJQSwyQkFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSxxQkFDQSxTQUVBLHNCQUNBLGdCQUNBLE9BQ0EsY0FDQSxjQUNBLGVBQ0EsZ0JBRUEsVUFDQSxrQkFDQSwyREFFQSwyQkFDQSxPQUNBLDhCQUNBLDJCQUNBLDhCQUNBLDJCQUNBLG9DQVFBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBV0Esc0JBQ0Esb0JBQ0EsZ0JBQ0EsT0FDQSxjQUdBLG1CQUNBLFdBS0EseUNBQ0EseUNBRUEscUJBT0E7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FDQSxzREFDQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBR0EsYUFDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFVBT0EsK0JBQ0EsaUJBQ0EsZ0JBQ0EsT0FDQSxrQkFDQSxrQkFDQSxpQkFDQSxjQUdBLFVBQ0Esd0JBQ0EsdUNBREEsSUFFQyxFQUFELHNDQUVBLG1GQUpBLE9BS0MsTUFBRCxFQUxBLEVBUUEsY0FHQSxTQUNBLDhCQUNBLFFBQ0EsTUFhQSxRQVZDLEVBQUQsU0FHQSwrQ0FJQSw2SEFHQSxJQUF5QixXQUErQixJQUN4RCxrQkFDQSxrQ0FJQSwrQkFPQTs7Ozt3REFLQSxnQkFFQSxhQXNCQSxTQUFTLEVBQVQsT0FDQyxFQUFELEtBQXNCLHNCQUV0QixvQ0FDQSw2Q0FDQSxXQTFCQSxPQUNBLDJDQUFnSCxZQUpoSCxJQUtBLHFCQUNBLFNBQ0EsYUFhQSxPQVpDLEVBQUQsMkJBQ0EsaUNBQTRDLElBQU8sSUFHbkQsYUFGQyxFQUFELGFBR0EsdURBSUEsV0FHQSx1QkFjQSx1QkFDQSxpQkFDQSxtQkFDQSxPQUNBLDhCQUdBLFFBQ0EsT0FDQSxTQUNBLGFBSUEsT0FDQSxNQUNBLGFBQ0EsY0FFQSxPQUNBLGFBQ0EsZUFHQSxnQkFDQSxPQUNBLGtCQUNBLGFBSUEsVUFDQSxxQkFDQSxxQ0FFQSx5QkFDQSxnQkFHTyxnQkFLUCxtQkFHQSx3QkFDQSxPQUNBLDBCQUNBLDhCQUtBLDZCQUNBLGdCQUdPLGdCQUtQLGdCQUdBLDRCQUNBLE9BQ0EsOEJBQ0EsbUNBSUEsT0FDQSxRQUNBLHNCQUNBLFFBQ0EsMkNBR0EsaUJBSUEsYUFJQTs7Ozt5Q0FLQSxnQkFFQSxhQU1BLFNBQVMsRUFBVCxLQUNBLFFBVUEsWUFSQyxJQUFELElBQ0EsZ0JBR0EsUUFDQSxXQUdBLFlBQ0Esa0JBQ0EsT0FDQSxPQUNBLFNBRUEsWUFBbUIsTUFDbkIsYUFEQSxHQUdBLGdCQUNBLE9BQ0EscUJBR0EsWUFBbUIsaUJBQ25CLG1CQUNLLHlCQUNMLDhCQUhBLEtBOUJBLE9BQ0EsNEJBQWlHLFlBSmpHLElBS0EscUJBQ0EsU0FvQ0EsTUFDQSxhQUlBOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLHFCQUNBLFNBRUEsc0JBQ0Esc0JBQ0EsT0FDQSxZQUNBLGNBQ0Esc0JBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEscUJBQ0EsU0FFQSxzQkFDQSxvQkFDQSxPQUNBLGVBRUEsZ0JBQ0EsT0FDQSxjQUNBLFdBQ0EsZUFDQSxrQkFDQSxZQUNBLGVBQ0EsaUJBR0EsVUFDQSxxQkFDQSwwQkFHQSx5QkFDQSx1REFDQSx3REFFQSxTQUNBLDBCQUNBLHVDQUNBLGtDQUNBLDZDQUNBLHNDQUNBLHFDQUNBLG9EQUVBLHFCQUNBLG9EQUNBLHFEQUlBLHFCQUNBLHNDQUVBLHFCQUNBLHNCQUNBLG9HQUNBLDZEQU9BOzs7O2dDQUtBLGdCQUVBLGFBUUEsU0FBUyxFQUFULEdBQXdVLFNBQWpULDREQUEyRSxZQUFrQyxpQkFBK0IsWUFBa0Msc0dBQW1JLEdBUHhVLE9BSEEsSUFJQSwwREFDQSwwREFDQSw4REFDQSxzREFDQSxzREFDQSxvREFhQSxrRkFDQSxtQkFDQSxPQUNBLGlCQUNBLGNBQ0EsWUFDQSxxQkFDQSxXQUVBLGVBQ0Esb0JBQ0EsbUJBQ0EsV0FHQSxVQUNBLG9CQUNBLG1CQUNBLFdBR0EsaUJBQ0EsT0FDQSxXQUNBLG1CQUNBLFdBR0EsZ0JBQ0EsaUJBQ0Esb0JBQ0EsbUJBQ0EsV0FHQSx1QkFDQSxPQUNBLGNBR0EsZ0JBQ0EsT0FDQSxlQUNBLFlBQ0EsY0FDQSxZQUNBLGFBQ0EsZUFDQSxxQkFDQSxXQUdBLFVBQ0EsZ0NBQ0MsS0FBRCxjQURBLEVBRUEsc0JBTUEscUNBQXlELFdBRXpELG9CQUNBLG1GQUlBLHNCQUNBLDREQUVBLHlCQUNBLHdEQUVBLHVCQUNBLHVDQUVBLDJCQUNBLGdCQUNBLHNEQUVBLGlDQUNBLHFEQUVBLDRCQUNBLGdEQUVBLG1DQUNBLHVEQUVBLGVBQ0EsZUFDQSx1QkFFQSxnQkFDQSxpQkFDQSx3QkFHQSxrQ0FDQSxxQkFDQSxtQkFDQSxzRkFFQSx1QkFDQSx3REFFQSxrQ0FDQyxLQUFELGNBREEsRUFFQSwyQ0FDQSwwQkFDQSxzQ0FKQSxHQU9BLG1DQUNDLEVBQUQsa0NBQ0EsMkJBQ08sOEJBQ1AsNkJBQ08sdUJBQ1Asc0JBQ08sb0JBQ1AsaUJBQ08sS0FHUCxPQUNBLE9BQ0Esc0JBQ0EsMEJBQ0EsaUJBRUEsU0FFQSx5QkFHQSxpQkFDQSxvREFFQSxzQkFHQSxtQkFDQSxtQkFDQSx1Q0FHQSx1QkFDQSxXQUVBLHVCQUNBLGNBQ0EsZ0JBQ0EsaUJBRUEsZUFDTyxJQUVQLHFCQUNBLHFCQUNBLDhCQUdBLGtCQUNBLG1CQUdBLHVCQUNBLGlCQUVBLG1CQUNBLHFDQUVBLHlCQUNBLHVDQUVBLFNBQ0EseUNBQytCLGNBQUFBLEdBRC9CLEVBQ2lGLENBQUFBLEdBQWpGLElBSUEsaUJBQ0Esb0JBQ0EsZ0VBSUEsMkJBQ0EscUJBSUEsNEJBQ0EsUUFDQSxNQUdBLFNBQ0Esd0JBTkEsSUFPQSxrQ0FFQSxZQUF5QixvQkFBMkIsU0FDbkQsRUFBRCxjQUNBLDhCQUVBLG1CQUNBLFVBQ1MscUJBQ1Qsb0dBTUEsT0FGQyxLQUFELGNBQ0Esd0JBQ0EsZ0JBT0E7Ozs7b0NBS0EsZ0JBRUEsYUFDQSxPQUNBLGdDQUFxRyxZQUpyRyxJQUtBLHdEQUNBLGFBQ0Esb0JBV0EsT0FWQyxFQUFELHdCQUNBLHdCQUNNLE9BQUQsY0FDTCxnQkFDSyxjQUNMLGVBQ0EsbUNBSUEsTUFHQSxxQkFHQSxhQUNBLG1CQUhBLE9BTUEsdUVBdEJBLEdBNkJBLEVBRUEsWUFHQSxhQUNBLDhDQWtCQSxPQWhCQyxFQUFELE1BQ0EsUUFDQSxTQUNBLGdCQUNBLFVBQ0EsV0FDQSxXQUNBLGVBQ0EsT0FDQSxPQUNBLFFBQ0EsZUFDQSxTQUNBLFVBQ0EsV0FFQSxFQXFCQSxPQTFDQyxFQUFELEtBd0JBLHFDQUNBLHlCQUNBLGdCQUdBLHFDQUNBLHNDQUNBLHVCQUNBLGlCQUdBLCtCQUNBLGlFQUNBLGFBQ0ssSUFHTCx5QkFDQSxFQTNDQSxDQTRDQyxZQU1EOzs7O21DQUtBLGdCQUVBLGFBQ0EsT0FDQSwrQkFBb0csWUFKcEcsSUFLQSx3REFDQSxhQUNBLG9CQVdBLE9BVkMsRUFBRCx3QkFDQSx3QkFDTSxPQUFELGNBQ0wsZ0JBQ0ssY0FDTCxlQUNBLG1DQUlBLE1BR0EscUJBR0EsYUFDQSxtQkFIQSxPQU1BLHVFQXRCQSxHQTBCQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQU1BLEVBRUEsWUFHQSxtQkFDQSxRQUNBLE1BR0EseUJBbUNBLE9BaENDLEVBQUQsTUFDQSxRQUNBLFFBQ0EsUUFDQSxRQUNBLFlBQ0EsWUFDQSxlQUNBLGFBQ0EsWUFDQSxlQUNBLGFBQ0EsWUFDQSxlQUNBLGFBQ0EsWUFDQSxVQUNBLFdBQ0EsVUFDQSxjQUNBLE9BQ0EsT0FDQSxRQUNBLFNBRUEsb0JBQ0Esa0JBQ0Esa0JBQWtDLDJCQUNsQywwRUFFQSxTQUVBLEVBMEZBLE9BcElDLEVBQUQsS0E2Q0EsNEJBRUEsNkJBQ0EsMkRBQ0EsYUFFQSxnQkFHQSxnQ0FDQSxpQ0FLQSxrRUFLQSxrQ0FDQyxFQUFELHVCQUNBLHdCQUNBLHVCQUNBLDJCQUNBLG9EQUNBLHVEQUNBLDRDQW9CQSxPQW5CQSxjQUNBLGFBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLGNBQ0EsY0FDQSxrQ0FDQSw4QkFDQSxjQUNBLGtDQUNBLGdDQUNBLGNBQ0EsZ0NBQ0EsZ0NBQ0EsZUFFQSxHQUNBLE9BQ0EsZUFDQSxNQUVBLE9BQ0EsZUFDQSxNQUVBLE9BQ0EsZUFDQSxNQUVBLE9BQ0EsZUFDQSxNQUVBLFFBQ0EsaUJBT0EsNENBRUEsK0JBRUEsOERBR0EsNkNBRUEsK0JBRUEsZ0VBR0Esd0JBQ0EsRUFySUEsQ0FzSUMsWUFNRDs7Ozt3TUFLQSxnQkFFQSxhQUNBLE9BQ0EsMkJBQWdHLFlBQ2hHLCtCQUFvRyxZQUNwRyxnQ0FBcUcsWUFDckcsa0NBQXVHLFlBQ3ZHLGdDQUFxRyxZQUNyRyxpQ0FBc0csWUFDdEcsbUNBQXdHLFlBQ3hHLGdDQUFxRyxZQUNyRyxpQ0FBc0csWUFDdEcsbUNBQXdHLFlBQ3hHLGdDQUFxRyxZQUNyRyxpQ0FBc0csWUFDdEcsbUNBQXdHLFlBaEJ4RyxJQWtCQSxjQUNBLFVBR0EsY0FDQSxlQUdBLGNBQ0EsZ0JBR0EsY0FDQSxpQ0FHQSxjQUNBLGVBR0EsY0FDQSxtQkFHQSxjQUNBLDZDQUdBLGNBQ0EsZUFHQSxjQUNBLG1CQUdBLGNBQ0Esb0NBR0EsY0FDQSxlQUdBLGNBQ0EsbUJBR0EsY0FDQSxxQ0FLQTs7OztzQ0FLQSxnQkFFQSxhQXNEQSxTQUFTLEVBQVQsVUFDQSxRQUNBLE1BRkEsSUFLQyxFQUFELEdBQ0EsNkVBQ0EsYUFDQSxTQUNBLHdCQUNBLGNBTEEsR0FRQSxzQ0FHQSw2Q0FDQyxFQUFELDRDQUNBLHVEQUNBLDBCQUNBLFFBQ0EsUUFDQSxjQUdBLHFCQXpCQSxJQTZCQSxFQURDLEVBQUQsa0JBNUJBLEVBK0JBLG1CQUNBLGdDQUVBLHVEQUdBLGtCQUNBLG1DQUNBLHVEQUdBLHVFQUtBLGdDQUNBLGdEQUVDLEVBQUQsZ0JBREEsS0FDQSxpQkFDQSw0QkFDQSw2RUFKQSxPQU1DLElBQUQsa0NBQ0EsVUFHQyxzQkFBRCxTQS9HQSxPQUNBLDRCQUFpRyxZQUNqRyx5QkFBOEYsWUFMOUYsSUFNQSx3REFDQSxzRUFDQSxnREFDQSxhQUNBLG9CQVdBLE9BVkMsRUFBRCx3QkFDQSx3QkFDTSxPQUFELGNBQ0wsZ0JBQ0ssY0FDTCxlQUNBLG1DQUlBLE1BR0EscUJBR0EsYUFDQSxtQkFIQSxPQU1BLHVFQXRCQSxHQTBCQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQXNFQSxlQUVBLG9CQUVBLElBQUksRUFFSixZQUdBLGFBR0EsT0FGQSxhQUVBLEVBSUEsT0FUQyxFQUFELEtBUUEsa0JBQ0EsRUFWQSxDQVdDLFlBTUQ7Ozs7Z0RBS0EsZ0JBRUEsYUFLQSxTQUFTLEVBQVQsR0FDQSxzQkFDQSxTQUdBLFdBRUEsTUFDQSw4S0FSQSxJQVdBLFFBWEEsR0FjQSxlQUNBLGlCQUdBLFNBRUEsU0FBUyxFQUFULEdBQ0EsV0FDQSxjQUNBLDZLQUdBLFNBQVMsRUFBVCxHQUNBLG9DQUdBLFNBQVMsRUFBVCxTQUNBLG1CQUNBLDBCQUNHLFlBQ0gsTUFDRyx5QkFMSCxFQVFBLEtBMUNBLE9BQ0EsOEJBQW1HLFlBQ25HLGlDQUFzRyxhQThDdEc7Ozs7OEJBS0EsZ0JBRUEsYUFDQSxPQUNBLDBCQUErRixZQUovRixJQUtBLHdEQUNBLDZEQUNBLGFBQ0Esb0JBV0EsT0FWQyxFQUFELHdCQUNBLHdCQUNNLE9BQUQsY0FDTCxnQkFDSyxjQUNMLGVBQ0EsbUNBSUEsTUFHQSxxQkFHQSxhQUNBLG1CQUhBLE9BTUEsdUVBdEJBLEdBMEJBLGFBYUEsT0FaQyxFQUFELDJCQUNBLGlDQUE0QyxJQUFPLElBR25ELGFBRkMsRUFBRCxhQUdBLHVEQUlBLFdBR0EsdUJBUUEsRUFFQSxZQUdBLG1CQUNBLFFBQ0EsTUFHQSx5QkFNQSxPQUpDLEVBQUQsZUFDQSwrQkFDQSxvQ0FDQSxjQUE4QixvQ0FDOUIsRUFJQSxPQWpCQyxFQUFELEtBZ0JBLG1CQUNBLEVBbEJBLENBbUJDLFlBTUQ7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQW9DQSxVQW5DQSxDQUNBLHdCQUNBLDZCQUNBLHFCQUNBLDZCQUNBLDRCQUNBLDhCQUNBLDBCQUNBLDZCQUNBLG9DQUNBLDJCQUNBLDRCQUNBLGlDQUNBLDRCQUNBLDRDQUNBLDBCQUNBLHNCQUNBLDZCQUNBLG1CQUNBLDZCQUNBLDZCQUNBLDRCQUNBLHlCQUNBLG1CQUNBLDBCQUNBLHlCQUNBLDhCQUNBLHNCQUNBLDZCQUNBLDJCQUNBLDZCQUNBLHdCQUNBLG1CQUNBLHVCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FvQ0EsVUFuQ0EsQ0FDQSx1QkFDQSw0QkFDQSxvQkFDQSw0QkFDQSwyQkFDQSw2QkFDQSx5QkFDQSw0QkFDQSxtQ0FDQSwwQkFDQSwyQkFDQSxnQ0FDQSw0QkFDQSwyQ0FDQSx5QkFDQSxxQkFDQSw0QkFDQSxrQkFDQSw0QkFDQSw0QkFDQSw2QkFDQSwwQkFDQSxvQkFDQSwyQkFDQSx3QkFDQSwrQkFDQSx3QkFDQSw0QkFDQSwwQkFDQSxpQ0FDQSx1QkFDQSxrQkFDQSxzQkFNQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9BSEEsSUFJQSwrREFDQSxxREFDQSx1REFDQSxxREFDQSx1REFNQSx5QkFDQSxpQkFDQSxhQUNBLGNBQ0EsYUFDQSxpQkFLQTs7OztnQ0FLQSxnQkFFQSxhQUNBLE9Bb0NBLFVBbkNBLENBQ0EsaUJBQ0EsZ0JBQ0EsY0FDQSxnQkFDQSxjQUNBLHVCQUNBLFlBQ0Esd0JBQ0EsZ0JBQ0Esb0JBQ0EscUJBQ0EsdUJBQ0Esc0NBQ0EsZ0RBQ0EsZ0NBQ0Esb0JBQ0EsNkJBQ0EsWUFDQSwyQkFDQSwyQkFDQSwrQkFDQSxrQ0FDQSxZQUNBLDBCQUNBLGtCQUNBLHVCQUNBLGlCQUNBLG1CQUNBLGlCQUNBLHFCQUNBLG1CQUNBLFdBQ0EsaUJBTUE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQW9DQSxVQW5DQSxDQUNBLG1FQUNBLGtOQUNBLHNIQUNBLGtOQUNBLHNIQUNBLG9LQUNBLGdJQUNBLDBEQUNBLDBEQUNBLHFFQUNBLG1FQUNBLDRKQUNBLDZIQUNBLHNJQUNBLHlHQUNBLDhFQUNBLG9FQUNBLHNEQUNBLGdDQUNBLGdDQUNBLDhSQUNBLG9NQUNBLDJKQUNBLDhOQUNBLGtIQUNBLDRLQUNBLCtQQUNBLG9GQUNBLGdGQUNBLDJIQUNBLG1YQUNBLGlEQUNBLDZCQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FvQ0EsVUFuQ0EsQ0FDQSxxQkFDQSwwQkFDQSxrQkFDQSwwQkFDQSxrQkFDQSwyQkFDQSx1QkFDQSwwQkFDQSxrQkFDQSx3QkFDQSx5QkFDQSxpQ0FDQSx5Q0FDQSxzQ0FDQSx1QkFDQSxvQkFDQSwwQkFDQSxnQkFDQSx5QkFDQSx5QkFDQSw4QkFDQSw4QkFDQSxrQkFDQSwrQkFDQSxzQkFDQSwyQkFDQSxxQkFDQSx1QkFDQSxxQkFDQSxvQ0FDQSxxQkFDQSxnQkFDQSxvQkFNQTs7OzswRUFLQSxnQkFFQSxhQUNBLE9BQ0EsbUVBQ0EsZ0NBQW9HLHdCQUVwRyxpRUFDQSwrQkFBbUcsdUJBRW5HLHFEQUNBLHlCQUE2RixpQkFFN0YsdURBQ0EsMEJBQThGLGtCQUU5RixxREFDQSx5QkFBNkYsaUJBRTdGLHVEQUNBLDBCQUE4RixtQkFXOUY7Ozs7NkJBS0EsZ0JBRUEsYUE4RUEsU0FBUyxFQUFULFlBQ0EsUUFDQSxNQUZBLElBS0MsRUFBRCxnQkFDQSx3Q0FZQSxPQVZDLElBQUQsSUFVQSxHQVJBLHdFQUNBLE1BRUEsb0ZBQ0Esc0JBSUEsRUEvRkEsT0FDQSx5QkFBOEYsWUFKOUYsSUFLQSx3REFDQSxnREFDQSxzREFDQSxzREFDQSxhQUNBLG9CQVdBLE9BVkMsRUFBRCx3QkFDQSx3QkFDTSxPQUFELGNBQ0wsZ0JBQ0ssY0FDTCxlQUNBLG1DQUlBLE1BR0EscUJBR0EsYUFDQSxtQkFIQSxPQU1BLHVFQXRCQSxHQTBCQSxnQkFDQSxvREFDQSxlQUNBLElBQ0EsRUFFQSxFQUhBLFlBRUEsS0FHQSxlQUNBLG1DQUNBLGdCQUVHLFNBQ0gsR0FDQSxTQU5BLFFBU0EsSUFDQSxvQ0FEQSxRQUdBLG9CQUlBLFVBR0EsYUFDQSxpQkFBMEIsbUJBQXNCLElBQ2hELDRCQUdBLFVBVUEsY0FDQSwwQkF1QkEsRUFFQSxZQUdBLG1CQUNBLFFBQ0EsTUFHQSx5QkFPQSxPQUxDLEVBQUQsd0JBQ0EseUJBQ0EsY0FDSyxXQUNMLGlCQUNBLEVBd0JBLE9BdENDLEVBQUQsS0FpQkEsMEJBR0EsUUFGQyxFQUFELEdBRUEsSUFBb0IsbUJBQXVCLElBQzNDLG9CQUdBLDZDQUNBLCtEQUNBLHNDQUNBLDBCQUdBLGtDQUNBLCtCQUFpQyxjQUVqQyxvQkFJQSxrQkFDQSxFQXZDQSxDQXdDQyxZQU1EOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FDQSw0QkFBaUcsWUFDakcsSUFBSSxFQUVKLFdBQ0EsYUFDQSxrQkFLQSxPQUZDLEVBQUQsNEJBRUEsRUFQQSxJQWNBOzs7OzhCQUtBLGdCQUVBLGFBQ0EsT0FDQSwwQkFBK0YsWUFKL0YsSUFLQSx3REFDQSxtREFDQSxxQkFDQSxTQUNBLGFBQ0Esb0JBV0EsT0FWQyxFQUFELHdCQUNBLHdCQUNNLE9BQUQsY0FDTCxnQkFDSyxjQUNMLGVBQ0EsbUNBSUEsTUFHQSxxQkFHQSxhQUNBLG1CQUhBLE9BTUEsdUVBdEJBLEdBbUNBLEVBRUEsWUFHQSxtQkFDQSxRQUNBLE1BR0EseUJBNEJBLEdBMUJBLGNBQ0EsVUFDQSxPQUNBLGtCQUNBLG9CQUNBLGlCQUNBLGdCQUNBLGVBQ0Esa0JBQ0EsbUJBRUEsTUFDQSxrQkFDQSxvQkFDQSxpQkFDQSxnQkFDQSxlQUNBLGtCQUNBLG9CQUdBLG9CQUNBLGNBQ0EsbUJBQ0EsZUFFQSxVQUVBLE9BREMsRUFBRCxZQUNBLEVBR0Esb0JBQ0EsZ0JBQ0EsbUJBS0EsT0FKQyxFQUFELFFBQ0EsOEJBQ0EsaUNBRUEsRUE4UEEsT0E3U0MsRUFBRCxLQWtEQSx5Q0FHQSx1QkFDQyxLQUFELGFBQ0Esa0JBQ0EsNEJBTUEsK0RBRUEsY0FDQSxrQkFFQSwwQ0FDQSxlQUNBLHFCQUVBLGdCQUNBLGtCQUNBLGNBR0EsNEJBRUEsY0FDQSxrQkFJQSx5Q0FDQyxLQUFELDhCQUNBLGdDQUdBLGdDQUNBLGFBTUEsK0JBQ0EsZ0JBR0EsUUFDQSxvQkFMQSxHQU9BLGdCQUdBLG1CQUlBLG1DQUNBLCtDQUNBLG1CQUlBLG1DQUNBLG1DQUF3QyxxQkFDeEMsa0NBQXVDLG9CQUN2QyxtQkFJQSx3REFDQSxtRUFHQSxlQUNBLHlCQUVBLGVBR0EsMkNBQ0EsUUFDQSxNQUdBLG9DQUNBLDhCQUtBLHVDQUVBLGlDQUdBLHVCQUNBLDZDQUNBLDZCQUNBLDJDQUVBLFlBQ0EsOENBR0EsMENBR0Esb0NBQ0EsV0FJQSxHQUZBLHVCQUVBLGlCQUVDLEVBQUQsc0JBQ0EsMEJBSEEsQ0FMQSxJQWFDLEVBQUQsd0ZBQ0Esb0JBRUEseUJBQ0Esb0JBQ0EsZ0NBQ0EsMkNBY0EsU0FIQSw0QkFQQSxjQUNBLDBCQUNBLGdCQUNBLDhCQUNBLHNCQUFxQyxXQU1yQyxLQUlBLHVDQUVBLEVBREEsb0NBQ0EsQ0FDQSxRQUNBLDZCQUNBLGdCQUNBLDhCQUNBLHlCQUFrQyxjQUtsQyxvQ0FDQyxFQUFELGlCQUVBLDBDQUNBLGtCQUNBLHNHQUdBLGlDQUNBLFdBR0EsK0JBR0EsOENBSUEsMEJBQ0EsTUFDQSxvQkFFQSxPQUNBLFFBQ0EsYUFDQSxRQUNBLG1CQUNBLDZCQU9BLGtEQUNBLGVBQ0EsK0JBQ0EsdUJBRUEsY0FDQSxrQkFFQSxxREFDQSxtQkFLQSxFQUpDLEVBQUQsaUJBR0EsbUJBSkEsT0FPQyxNQUFELGNBSUEsT0FIQSx1QkFSQSxHQWNBLG9DQUVBLHNCQUNBLG9CQUdBLG9CQUNBLHNCQXJCQSxJQTBCQSxjQUNBLGtCQUVBLGlEQUNBLGVBRUEsNEJBQ0EsbUJBRUEsY0FDQSxrQkFFQSxpREFHQSxlQUNBLDhDQUVBLGNBQ0Esa0JBRUEsbUJBQ0EsRUE5U0EsQ0ErU0MsWUFNRDs7Ozt5RUFLQSxnQkFFQSxhQVVBLFNBQVMsRUFBVCxHQUF3VSxTQUFqVCw0REFBMkUsWUFBa0MsaUJBQStCLFlBQWtDLHNHQUFtSSxHQTZDeFUsU0FBUyxFQUFULFVBQ0EsUUFDQSxNQVNBLFFBTkMsRUFBRCxTQUNBLGtCQUVBLGlCQUNBLEtBRUEsSUFBaUIsYUFBbUIsT0FDbkMsRUFBRCxLQUNBLE9BQ0EsVUFIb0MsR0FPcEMsK0RBQ0EsOEJBRUssZ0JBQ0wsYUFFQSxtQ0FRQSxXQUhBLG9DQUdBLEVBc0NBLFNBQVMsRUFBVCxVQUNBLFFBQ0EsTUFGQSxJQUtDLEVBQUQsU0FDQSxrQkFFQSxpQkFDQSxzQkFUQSxJQVVDLEVBQUQsR0FDQSxLQUVBLGlDQURBLGlCQUM0QixNQUM1QixzQ0FFQSxZQUFpQixhQUFtQixPQUNuQyxFQUFELEtBQ0EsT0FDQSxzQkFDQSxvQ0FHQSxRQUZDLEVBQUQsZUFFQSxJQUFxQixhQUF1QixPQUMzQyxFQUFELEtBQ0EsT0FDQSxhQUNBLHFCQUNBLG1DQVFBLFdBSEEsZ0JBQTJCLFNBRzNCLElBRUEsU0FBUyxFQUFULEtBS0EsUUFKQyxFQUFELENBQ0EsNEJBR0EsSUFBaUIsTUFBTyxFQUN4QiwwQ0FHQSxRQUFpQixPQUFRLEVBQ3pCLHlDQUdBLFNBRUEsU0FBUyxFQUFULEtBQ0EsNEJBRUEsT0FEQyxFQUFELFNBQ0Esc0JBRUEsU0FBUyxFQUFULEtBQ0EsNEJBRUEsT0FEQyxFQUFELFNBQ0Esc0JBekxBLE9BQ0EsMEJBQStGLFlBQy9GLDhCQUFtRyxZQUNuRyxrQ0FBdUcsWUFDdkcsNEJBQWlHLFlBQ2pHLDJCQUFnRyxZQVJoRyxJQVNBLDREQUNBLDhFQUNBLGtGQUdBLGdCQUNBLFNBRUEsZUFDQSx1RUFHQSwyR0FBMkgsV0FBYyxJQUN6SSx5RkFFQSxVQXVFQSxnQkFDQSwwREFBMEMsaUNBQTFDLEVBQXlGLG9DQUF6RixFQUF1SSxzQkFBdkksRUFBNkssZ0NBQTdLLEVBQWlOLG1CQU9qTixrQkFDQSxNQTdFQSxjQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsU0FxREEsc0JBQ0EsT0FDQSxPQUVBLHNFQUFpRSxpQ0FBakUsRUFBZ0gsb0NBQWhILEVBQThKLGdCQUE5SixFQUE4SixJQUE5SixFQUE4SixnQkFBOUosRUFBaU8sZ0NBQWpPLEVBQXFRLG1CQUdyUSxnQkFLQSxZQUpDLElBQUQsSUFDQSxVQUdBLGdCQUdBTSxFQUFBLGNBS0EsWUFKQyxJQUFELElBQ0EsVUFHQSxvQkFxRUE7Ozs7OEJBS0EsYUFNQTs7Ozs4QkFLQSxhQU1BOzs7O2dDQUtBLGdCQUVBLGFBQ0EsT0FIQSxJQUlBLGlFQUNBLDJDQUtBLCtDQUNBLHNCQUNBLE9BQ0EsY0FFQSxVQUNBLGtCQUNBLGdGQUdBLGtCQUNBLGtFQUNBLHdDQU9BOzs7O3VDQUtBLGdCQUVBLGFBY0EsU0FBUyxFQUFULE9BQ0MsRUFBRCxFQUNBLFVBQ0EsZ0VBRUEsU0FBUyxFQUFULE9BQ0MsRUFBRCxFQUNBLGdCQUNBLHdEQXJCQSxPQUNBLDRCQUFpRyxZQUNqRywwQkFBK0YsWUFML0YsSUFRQSxjQUNBLG9FQUdBLGNBQ0EsU0FQQSxtQkFPQSxxQ0FnQkE7Ozs7dUNBS0EsZ0JBRUEsYUFvQkEsU0FBUyxFQUFULEdBS0EsUUFKQyxFQUFELE1BRUEsSUFFQSxJQUFpQixNQUFPLEVBQ3hCLHVFQUlBLHFDQUVBLFNBQVMsRUFBVCxHQVNBLFFBUkMsRUFBRCxRQUNBLElBQ0EsSUFFQSxxQkFDQSxvQkFDQSxvQkFFQSxJQUFpQixNQUFPLEVBQ3hCLG1DQUdBLFNBNUNBLE9BQ0EsNEJBQWlHLFlBQ2pHLDBCQUErRixZQUwvRixJQU1BLHNEQUdBLHNFQUVBLGNBQ0EsaURBSUEsZ0VBRUEsY0FDQSxnREFpQ0E7Ozs7Nk1BS0EsZ0JBRUEsYUFtRUEsU0FBUyxFQUFULEdBQ0EsTUFFQSxzQkFDQSxRQUNJLElBQUQsbUJBZUYsTUFBRCw0R0FkQSxrQ0FFQSxlQUNBLCtCQUNBLGNBQ08sVUFHUCxjQUNBLDBEQUdBLGlCQWFBLE9BUkMsRUFBRCxHQUNBLDREQUNBLE1BQ0csd0JBQ0gsMERBQ0EsWUFHQSxFQUVBLFNBQVMsRUFBVCxHQUNBLHFCQUVBLE9BREMsRUFBRCx1Q0FDQSxNQUVBLFNBQVMsRUFBVCxHQUNBLGVBUUEsU0FBUyxFQUFULE9BQ0MsRUFBRCxJQUNBLE1BQ0EsTUFDQSxNQUVBLGNBQ0EsaUJBQ0EsOEJBR0Esb0NBQ0EsbUJBRUEsT0FDQSxPQUNBLE9BQ0EsT0FDQSxLQVNBLFNBQVMsRUFBVCxHQUNBLGFBQ0EsSUFDQSxJQUNBLElBQ0EsS0FMQSxJQU9DLEVBQUQsUUFDQSxVQUNBLFVBQ0EsV0FDQSxXQUNBLElBRUEsUUFDQSxNQUNBLHFCQUNLLE1BQ0wscUJBQ0ssUUFDTCx1QkFJQSxNQXhCQSxHQXdCQSxLQXhCQSxJQTBCQSxLQURBLGdCQUNBLEdBQ0EsT0FDQSxPQUNBLE9BQ0EsT0FDQSxPQUdBLFNBQVMsRUFBVCxPQUNDLEVBQUQsSUFDQSxNQUNBLE1BQ0EsTUFDQSxVQUVBLE9BQ0EsSUFDQSxFQUhBLDhCQUlBLElBQ0EsS0FHQSxTQUFTLEVBQVQsT0FDQyxFQUFELElBQ0EsTUFDQSxNQUNBLE1BQ0EsZUFFQSxPQUNBLElBQ0EsRUFIQSxnQkFJQSxJQUNBLEtBR0EsU0FBUyxFQUFULEdBQ0EsaURBRUEsU0FBUyxFQUFULEdBQ0EsZ0JBQThCLENBQzlCLE9BR0EsU0FBUyxFQUFULEdBQ0Esa0JBQ0Esd0JBQ0EsbURBR0Esd0RBRUEsU0FBUyxFQUFULEdBQ0EscURBQ0EseUJBRUEsT0FDQSxPQUNBLE9BQ0EsT0FDQSx1QkFHQSxTQUFTLEVBQVQsR0FFQSxTQURBLE1BR0EsU0FBUyxFQUFULEdBQ0EsZUFFQSxTQUFTLEVBQVQsR0FtQkEsT0FsQkMsRUFBRCxrQkFDQSxjQUtBLEtBRkEsa0NBRUEsU0FDQSwrQkFDQSxjQUNLLFdBU0wsT0FOQSxhQUNBLDBCQUVBLGdEQUdBLDBCQUVBLFNBQVMsRUFBVCxHQUNBLDZCQVNBLFNBQVMsRUFBVCxTQUVBLEVBREEsMkJBQ0EsR0FHQSxFQURBLDJCQUNBLEdBRUEsZ0NBbFJBLE9BQ0EsK0JBQW9HLFlBQ3BHLDZCQUFrRyxZQUNsRywrQkFBb0csWUFDcEcsK0JBQW9HLFlBQ3BHLCtCQUFvRyxZQUNwRywrQkFBb0csWUFDcEcsK0JBQW9HLFlBQ3BHLDhCQUFtRyxZQUNuRyw2QkFBa0csWUFDbEcsOEJBQW1HLFlBQ25HLDhCQUFtRyxZQUNuRyw4QkFBbUcsWUFDbkcsOEJBQW1HLFlBQ25HLDZCQUFrRyxZQUNsRyw2QkFBa0csWUFDbEcsa0NBQXVHLFlBbkJ2RyxJQW9CQSw2Q0FDQSw2Q0FDQSxxRUFDQSxhQWFBLE9BWkMsRUFBRCwyQkFDQSxpQ0FBNEMsSUFBTyxJQUduRCxhQUZDLEVBQUQsYUFHQSx1REFJQSxXQUdBLHVCQUdBLGdCQUNBLG9EQUNBLGVBQ0EsSUFDQSxFQUVBLEVBSEEsWUFFQSxLQUdBLGVBQ0EsbUNBQ0EsZ0JBRUcsU0FDSCxHQUNBLFNBTkEsUUFTQSxJQUNBLG9DQURBLFFBR0Esb0JBSUEsV0EyTkE7Ozs7Z0NBS0EsZ0JBRUEsYUFDQSxPQUhBLElBSUEsaUJBQ0EsZUFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxvQkFFQSxpQkFDQSxlQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG9CQUVBLGlCQUNBLGVBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esb0JBRUEsaUJBQ0EsZUFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxvQkFFQSxpQkFDQSxlQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG9CQUVBLGlCQUNBLGVBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esb0JBRUEsaUJBQ0EsZUFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxvQkFFQSxpQkFDQSxlQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG9CQUVBLGlCQUNBLGVBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esb0JBRUEsaUJBQ0EsZUFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxvQkFFQSxpQkFDQSxlQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG9CQUVBLGlCQUNBLGVBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0Esb0JBRUEsaUJBQ0EsZUFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxrQkFDQSxr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QSxFQUNBQyxTQUFVLDREQUtWQyxXQUFZLENBQ1RDLFdBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIvKiFcbiAqIFZ1ZS5qcyB2Mi42LjEwXG4gKiAoYykgMjAxNC0yMDE5IEV2YW4gWW91XG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbi8qICAqL1xuXG52YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcblxuLy8gVGhlc2UgaGVscGVycyBwcm9kdWNlIGJldHRlciBWTSBjb2RlIGluIEpTIGVuZ2luZXMgZHVlIHRvIHRoZWlyXG4vLyBleHBsaWNpdG5lc3MgYW5kIGZ1bmN0aW9uIGlubGluaW5nLlxuZnVuY3Rpb24gaXNVbmRlZiAodikge1xuICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGxcbn1cblxuZnVuY3Rpb24gaXNEZWYgKHYpIHtcbiAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsXG59XG5cbmZ1bmN0aW9uIGlzVHJ1ZSAodikge1xuICByZXR1cm4gdiA9PT0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBpc0ZhbHNlICh2KSB7XG4gIHJldHVybiB2ID09PSBmYWxzZVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHZhbHVlIGlzIHByaW1pdGl2ZS5cbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbHVlKSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbidcbiAgKVxufVxuXG4vKipcbiAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxuICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZVxuICogaXMgYSBKU09OLWNvbXBsaWFudCB0eXBlLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHJhdyB0eXBlIHN0cmluZyBvZiBhIHZhbHVlLCBlLmcuLCBbb2JqZWN0IE9iamVjdF0uXG4gKi9cbnZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiB0b1Jhd1R5cGUgKHZhbHVlKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpXG59XG5cbi8qKlxuICogU3RyaWN0IG9iamVjdCB0eXBlIGNoZWNrLiBPbmx5IHJldHVybnMgdHJ1ZVxuICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCAob2JqKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG5mdW5jdGlvbiBpc1JlZ0V4cCAodikge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdmFsIGlzIGEgdmFsaWQgYXJyYXkgaW5kZXguXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRBcnJheUluZGV4ICh2YWwpIHtcbiAgdmFyIG4gPSBwYXJzZUZsb2F0KFN0cmluZyh2YWwpKTtcbiAgcmV0dXJuIG4gPj0gMCAmJiBNYXRoLmZsb29yKG4pID09PSBuICYmIGlzRmluaXRlKHZhbClcbn1cblxuZnVuY3Rpb24gaXNQcm9taXNlICh2YWwpIHtcbiAgcmV0dXJuIChcbiAgICBpc0RlZih2YWwpICYmXG4gICAgdHlwZW9mIHZhbC50aGVuID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIHZhbC5jYXRjaCA9PT0gJ2Z1bmN0aW9uJ1xuICApXG59XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIHRvIGEgc3RyaW5nIHRoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nICh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PSBudWxsXG4gICAgPyAnJ1xuICAgIDogQXJyYXkuaXNBcnJheSh2YWwpIHx8IChpc1BsYWluT2JqZWN0KHZhbCkgJiYgdmFsLnRvU3RyaW5nID09PSBfdG9TdHJpbmcpXG4gICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcbiAgICAgIDogU3RyaW5nKHZhbClcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGlucHV0IHZhbHVlIHRvIGEgbnVtYmVyIGZvciBwZXJzaXN0ZW5jZS5cbiAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB0b051bWJlciAodmFsKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuXG59XG5cbi8qKlxuICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XG4gKiBpcyBpbiB0aGF0IG1hcC5cbiAqL1xuZnVuY3Rpb24gbWFrZU1hcCAoXG4gIHN0cixcbiAgZXhwZWN0c0xvd2VyQ2FzZVxuKSB7XG4gIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgbGlzdCA9IHN0ci5zcGxpdCgnLCcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xuICB9XG4gIHJldHVybiBleHBlY3RzTG93ZXJDYXNlXG4gICAgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9XG4gICAgOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsXTsgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLlxuICovXG52YXIgaXNCdWlsdEluVGFnID0gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnLCB0cnVlKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUuXG4gKi9cbnZhciBpc1Jlc2VydmVkQXR0cmlidXRlID0gbWFrZU1hcCgna2V5LHJlZixzbG90LHNsb3Qtc2NvcGUsaXMnKTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiByZW1vdmUgKGFyciwgaXRlbSkge1xuICBpZiAoYXJyLmxlbmd0aCkge1xuICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGFuIG9iamVjdCBoYXMgdGhlIHByb3BlcnR5LlxuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaGFzT3duIChvYmosIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjYWNoZWQgdmVyc2lvbiBvZiBhIHB1cmUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNhY2hlZCAoZm4pIHtcbiAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIChmdW5jdGlvbiBjYWNoZWRGbiAoc3RyKSB7XG4gICAgdmFyIGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpXG4gIH0pXG59XG5cbi8qKlxuICogQ2FtZWxpemUgYSBoeXBoZW4tZGVsaW1pdGVkIHN0cmluZy5cbiAqL1xudmFyIGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG52YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgZnVuY3Rpb24gKF8sIGMpIHsgcmV0dXJuIGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJzsgfSlcbn0pO1xuXG4vKipcbiAqIENhcGl0YWxpemUgYSBzdHJpbmcuXG4gKi9cbnZhciBjYXBpdGFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxufSk7XG5cbi8qKlxuICogSHlwaGVuYXRlIGEgY2FtZWxDYXNlIHN0cmluZy5cbiAqL1xudmFyIGh5cGhlbmF0ZVJFID0gL1xcQihbQS1aXSkvZztcbnZhciBoeXBoZW5hdGUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpXG59KTtcblxuLyoqXG4gKiBTaW1wbGUgYmluZCBwb2x5ZmlsbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IHN1cHBvcnQgaXQsXG4gKiBlLmcuLCBQaGFudG9tSlMgMS54LiBUZWNobmljYWxseSwgd2UgZG9uJ3QgbmVlZCB0aGlzIGFueW1vcmVcbiAqIHNpbmNlIG5hdGl2ZSBiaW5kIGlzIG5vdyBwZXJmb3JtYW50IGVub3VnaCBpbiBtb3N0IGJyb3dzZXJzLlxuICogQnV0IHJlbW92aW5nIGl0IHdvdWxkIG1lYW4gYnJlYWtpbmcgY29kZSB0aGF0IHdhcyBhYmxlIHRvIHJ1biBpblxuICogUGhhbnRvbUpTIDEueCwgc28gdGhpcyBtdXN0IGJlIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIHBvbHlmaWxsQmluZCAoZm4sIGN0eCkge1xuICBmdW5jdGlvbiBib3VuZEZuIChhKSB7XG4gICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJldHVybiBsXG4gICAgICA/IGwgPiAxXG4gICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpXG4gICAgICAgIDogZm4uY2FsbChjdHgsIGEpXG4gICAgICA6IGZuLmNhbGwoY3R4KVxuICB9XG5cbiAgYm91bmRGbi5fbGVuZ3RoID0gZm4ubGVuZ3RoO1xuICByZXR1cm4gYm91bmRGblxufVxuXG5mdW5jdGlvbiBuYXRpdmVCaW5kIChmbiwgY3R4KSB7XG4gIHJldHVybiBmbi5iaW5kKGN0eClcbn1cblxudmFyIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuICA/IG5hdGl2ZUJpbmRcbiAgOiBwb2x5ZmlsbEJpbmQ7XG5cbi8qKlxuICogQ29udmVydCBhbiBBcnJheS1saWtlIG9iamVjdCB0byBhIHJlYWwgQXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgdmFyIGkgPSBsaXN0Lmxlbmd0aCAtIHN0YXJ0O1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgcmV0W2ldID0gbGlzdFtpICsgc3RhcnRdO1xuICB9XG4gIHJldHVybiByZXRcbn1cblxuLyoqXG4gKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZCAodG8sIF9mcm9tKSB7XG4gIGZvciAodmFyIGtleSBpbiBfZnJvbSkge1xuICAgIHRvW2tleV0gPSBfZnJvbVtrZXldO1xuICB9XG4gIHJldHVybiB0b1xufVxuXG4vKipcbiAqIE1lcmdlIGFuIEFycmF5IG9mIE9iamVjdHMgaW50byBhIHNpbmdsZSBPYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHRvT2JqZWN0IChhcnIpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnJbaV0pIHtcbiAgICAgIGV4dGVuZChyZXMsIGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuLyoqXG4gKiBQZXJmb3JtIG5vIG9wZXJhdGlvbi5cbiAqIFN0dWJiaW5nIGFyZ3MgdG8gbWFrZSBGbG93IGhhcHB5IHdpdGhvdXQgbGVhdmluZyB1c2VsZXNzIHRyYW5zcGlsZWQgY29kZVxuICogd2l0aCAuLi5yZXN0IChodHRwczovL2Zsb3cub3JnL2Jsb2cvMjAxNy8wNS8wNy9TdHJpY3QtRnVuY3Rpb24tQ2FsbC1Bcml0eS8pLlxuICovXG5mdW5jdGlvbiBub29wIChhLCBiLCBjKSB7fVxuXG4vKipcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXG4gKi9cbnZhciBubyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7IHJldHVybiBmYWxzZTsgfTtcblxuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG4vKipcbiAqIFJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAqL1xudmFyIGlkZW50aXR5ID0gZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBzdHJpbmcgY29udGFpbmluZyBzdGF0aWMga2V5cyBmcm9tIGNvbXBpbGVyIG1vZHVsZXMuXG4gKi9cbmZ1bmN0aW9uIGdlblN0YXRpY0tleXMgKG1vZHVsZXMpIHtcbiAgcmV0dXJuIG1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChrZXlzLCBtKSB7XG4gICAgcmV0dXJuIGtleXMuY29uY2F0KG0uc3RhdGljS2V5cyB8fCBbXSlcbiAgfSwgW10pLmpvaW4oJywnKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byB2YWx1ZXMgYXJlIGxvb3NlbHkgZXF1YWwgLSB0aGF0IGlzLFxuICogaWYgdGhleSBhcmUgcGxhaW4gb2JqZWN0cywgZG8gdGhleSBoYXZlIHRoZSBzYW1lIHNoYXBlP1xuICovXG5mdW5jdGlvbiBsb29zZUVxdWFsIChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7IHJldHVybiB0cnVlIH1cbiAgdmFyIGlzT2JqZWN0QSA9IGlzT2JqZWN0KGEpO1xuICB2YXIgaXNPYmplY3RCID0gaXNPYmplY3QoYik7XG4gIGlmIChpc09iamVjdEEgJiYgaXNPYmplY3RCKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBpc0FycmF5QSA9IEFycmF5LmlzQXJyYXkoYSk7XG4gICAgICB2YXIgaXNBcnJheUIgPSBBcnJheS5pc0FycmF5KGIpO1xuICAgICAgaWYgKGlzQXJyYXlBICYmIGlzQXJyYXlCKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoZSwgaSkge1xuICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGUsIGJbaV0pXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKClcbiAgICAgIH0gZWxzZSBpZiAoIWlzQXJyYXlBICYmICFpc0FycmF5Qikge1xuICAgICAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhhKTtcbiAgICAgICAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMoYik7XG4gICAgICAgIHJldHVybiBrZXlzQS5sZW5ndGggPT09IGtleXNCLmxlbmd0aCAmJiBrZXlzQS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9IGVsc2UgaWYgKCFpc09iamVjdEEgJiYgIWlzT2JqZWN0Qikge1xuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBmaXJzdCBpbmRleCBhdCB3aGljaCBhIGxvb3NlbHkgZXF1YWwgdmFsdWUgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgYXJyYXkgKGlmIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGUgYXJyYXkgbXVzdFxuICogY29udGFpbiBhbiBvYmplY3Qgb2YgdGhlIHNhbWUgc2hhcGUpLCBvciAtMSBpZiBpdCBpcyBub3QgcHJlc2VudC5cbiAqL1xuZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChsb29zZUVxdWFsKGFycltpXSwgdmFsKSkgeyByZXR1cm4gaSB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbi8qKlxuICogRW5zdXJlIGEgZnVuY3Rpb24gaXMgY2FsbGVkIG9ubHkgb25jZS5cbiAqL1xuZnVuY3Rpb24gb25jZSAoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFNTUl9BVFRSID0gJ2RhdGEtc2VydmVyLXJlbmRlcmVkJztcblxudmFyIEFTU0VUX1RZUEVTID0gW1xuICAnY29tcG9uZW50JyxcbiAgJ2RpcmVjdGl2ZScsXG4gICdmaWx0ZXInXG5dO1xuXG52YXIgTElGRUNZQ0xFX0hPT0tTID0gW1xuICAnYmVmb3JlQ3JlYXRlJyxcbiAgJ2NyZWF0ZWQnLFxuICAnYmVmb3JlTW91bnQnLFxuICAnbW91bnRlZCcsXG4gICdiZWZvcmVVcGRhdGUnLFxuICAndXBkYXRlZCcsXG4gICdiZWZvcmVEZXN0cm95JyxcbiAgJ2Rlc3Ryb3llZCcsXG4gICdhY3RpdmF0ZWQnLFxuICAnZGVhY3RpdmF0ZWQnLFxuICAnZXJyb3JDYXB0dXJlZCcsXG4gICdzZXJ2ZXJQcmVmZXRjaCdcbl07XG5cbi8qICAqL1xuXG5cblxudmFyIGNvbmZpZyA9ICh7XG4gIC8qKlxuICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucylcbiAgICovXG4gIC8vICRmbG93LWRpc2FibGUtbGluZVxuICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3VwcHJlc3Mgd2FybmluZ3MuXG4gICAqL1xuICBzaWxlbnQ6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTaG93IHByb2R1Y3Rpb24gbW9kZSB0aXAgbWVzc2FnZSBvbiBib290P1xuICAgKi9cbiAgcHJvZHVjdGlvblRpcDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHNcbiAgICovXG4gIGRldnRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHJlY29yZCBwZXJmXG4gICAqL1xuICBwZXJmb3JtYW5jZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEVycm9yIGhhbmRsZXIgZm9yIHdhdGNoZXIgZXJyb3JzXG4gICAqL1xuICBlcnJvckhhbmRsZXI6IG51bGwsXG5cbiAgLyoqXG4gICAqIFdhcm4gaGFuZGxlciBmb3Igd2F0Y2hlciB3YXJuc1xuICAgKi9cbiAgd2FybkhhbmRsZXI6IG51bGwsXG5cbiAgLyoqXG4gICAqIElnbm9yZSBjZXJ0YWluIGN1c3RvbSBlbGVtZW50c1xuICAgKi9cbiAgaWdub3JlZEVsZW1lbnRzOiBbXSxcblxuICAvKipcbiAgICogQ3VzdG9tIHVzZXIga2V5IGFsaWFzZXMgZm9yIHYtb25cbiAgICovXG4gIC8vICRmbG93LWRpc2FibGUtbGluZVxuICBrZXlDb2RlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhXG4gICAqIGNvbXBvbmVudC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cbiAgICovXG4gIGlzUmVzZXJ2ZWRUYWc6IG5vLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgdXNlZCBhcyBhIGNvbXBvbmVudFxuICAgKiBwcm9wLiBUaGlzIGlzIHBsYXRmb3JtLWRlcGVuZGVudCBhbmQgbWF5IGJlIG92ZXJ3cml0dGVuLlxuICAgKi9cbiAgaXNSZXNlcnZlZEF0dHI6IG5vLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbiB1bmtub3duIGVsZW1lbnQuXG4gICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cbiAgICovXG4gIGlzVW5rbm93bkVsZW1lbnQ6IG5vLFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50XG4gICAqL1xuICBnZXRUYWdOYW1lc3BhY2U6IG5vb3AsXG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSByZWFsIHRhZyBuYW1lIGZvciB0aGUgc3BlY2lmaWMgcGxhdGZvcm0uXG4gICAqL1xuICBwYXJzZVBsYXRmb3JtVGFnTmFtZTogaWRlbnRpdHksXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlXG4gICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cbiAgICovXG4gIG11c3RVc2VQcm9wOiBubyxcblxuICAvKipcbiAgICogUGVyZm9ybSB1cGRhdGVzIGFzeW5jaHJvbm91c2x5LiBJbnRlbmRlZCB0byBiZSB1c2VkIGJ5IFZ1ZSBUZXN0IFV0aWxzXG4gICAqIFRoaXMgd2lsbCBzaWduaWZpY2FudGx5IHJlZHVjZSBwZXJmb3JtYW5jZSBpZiBzZXQgdG8gZmFsc2UuXG4gICAqL1xuICBhc3luYzogdHJ1ZSxcblxuICAvKipcbiAgICogRXhwb3NlZCBmb3IgbGVnYWN5IHJlYXNvbnNcbiAgICovXG4gIF9saWZlY3ljbGVIb29rczogTElGRUNZQ0xFX0hPT0tTXG59KTtcblxuLyogICovXG5cbi8qKlxuICogdW5pY29kZSBsZXR0ZXJzIHVzZWQgZm9yIHBhcnNpbmcgaHRtbCB0YWdzLCBjb21wb25lbnQgbmFtZXMgYW5kIHByb3BlcnR5IHBhdGhzLlxuICogdXNpbmcgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1My9zZW1hbnRpY3Mtc2NyaXB0aW5nLmh0bWwjcG90ZW50aWFsY3VzdG9tZWxlbWVudG5hbWVcbiAqIHNraXBwaW5nIFxcdTEwMDAwLVxcdUVGRkZGIGR1ZSB0byBpdCBmcmVlemluZyB1cCBQaGFudG9tSlNcbiAqL1xudmFyIHVuaWNvZGVSZWdFeHAgPSAvYS16QS1aXFx1MDBCN1xcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwM0YtXFx1MjA0MFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRC87XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBzdHJpbmcgc3RhcnRzIHdpdGggJCBvciBfXG4gKi9cbmZ1bmN0aW9uIGlzUmVzZXJ2ZWQgKHN0cikge1xuICB2YXIgYyA9IChzdHIgKyAnJykuY2hhckNvZGVBdCgwKTtcbiAgcmV0dXJuIGMgPT09IDB4MjQgfHwgYyA9PT0gMHg1RlxufVxuXG4vKipcbiAqIERlZmluZSBhIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBkZWYgKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgdmFsdWU6IHZhbCxcbiAgICBlbnVtZXJhYmxlOiAhIWVudW1lcmFibGUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIFBhcnNlIHNpbXBsZSBwYXRoLlxuICovXG52YXIgYmFpbFJFID0gbmV3IFJlZ0V4cCgoXCJbXlwiICsgKHVuaWNvZGVSZWdFeHAuc291cmNlKSArIFwiLiRfXFxcXGRdXCIpKTtcbmZ1bmN0aW9uIHBhcnNlUGF0aCAocGF0aCkge1xuICBpZiAoYmFpbFJFLnRlc3QocGF0aCkpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFvYmopIHsgcmV0dXJuIH1cbiAgICAgIG9iaiA9IG9ialtzZWdtZW50c1tpXV07XG4gICAgfVxuICAgIHJldHVybiBvYmpcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gY2FuIHdlIHVzZSBfX3Byb3RvX18/XG52YXIgaGFzUHJvdG8gPSAnX19wcm90b19fJyBpbiB7fTtcblxuLy8gQnJvd3NlciBlbnZpcm9ubWVudCBzbmlmZmluZ1xudmFyIGluQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xudmFyIGluV2VleCA9IHR5cGVvZiBXWEVudmlyb25tZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhIVdYRW52aXJvbm1lbnQucGxhdGZvcm07XG52YXIgd2VleFBsYXRmb3JtID0gaW5XZWV4ICYmIFdYRW52aXJvbm1lbnQucGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbnZhciBVQSA9IGluQnJvd3NlciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xudmFyIGlzSUUgPSBVQSAmJiAvbXNpZXx0cmlkZW50Ly50ZXN0KFVBKTtcbnZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwO1xudmFyIGlzRWRnZSA9IFVBICYmIFVBLmluZGV4T2YoJ2VkZ2UvJykgPiAwO1xudmFyIGlzQW5kcm9pZCA9IChVQSAmJiBVQS5pbmRleE9mKCdhbmRyb2lkJykgPiAwKSB8fCAod2VleFBsYXRmb3JtID09PSAnYW5kcm9pZCcpO1xudmFyIGlzSU9TID0gKFVBICYmIC9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChVQSkpIHx8ICh3ZWV4UGxhdGZvcm0gPT09ICdpb3MnKTtcbnZhciBpc0Nocm9tZSA9IFVBICYmIC9jaHJvbWVcXC9cXGQrLy50ZXN0KFVBKSAmJiAhaXNFZGdlO1xudmFyIGlzUGhhbnRvbUpTID0gVUEgJiYgL3BoYW50b21qcy8udGVzdChVQSk7XG52YXIgaXNGRiA9IFVBICYmIFVBLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLyk7XG5cbi8vIEZpcmVmb3ggaGFzIGEgXCJ3YXRjaFwiIGZ1bmN0aW9uIG9uIE9iamVjdC5wcm90b3R5cGUuLi5cbnZhciBuYXRpdmVXYXRjaCA9ICh7fSkud2F0Y2g7XG5cbnZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbmlmIChpbkJyb3dzZXIpIHtcbiAgdHJ5IHtcbiAgICB2YXIgb3B0cyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcHRzLCAncGFzc2l2ZScsICh7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMjg1XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QtcGFzc2l2ZScsIG51bGwsIG9wdHMpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG4vLyB0aGlzIG5lZWRzIHRvIGJlIGxhenktZXZhbGVkIGJlY2F1c2UgdnVlIG1heSBiZSByZXF1aXJlZCBiZWZvcmVcbi8vIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgY2FuIHNldCBWVUVfRU5WXG52YXIgX2lzU2VydmVyO1xudmFyIGlzU2VydmVyUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICBpZiAoX2lzU2VydmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWluQnJvd3NlciAmJiAhaW5XZWV4ICYmIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBkZXRlY3QgcHJlc2VuY2Ugb2YgdnVlLXNlcnZlci1yZW5kZXJlciBhbmQgYXZvaWRcbiAgICAgIC8vIFdlYnBhY2sgc2hpbW1pbmcgdGhlIHByb2Nlc3NcbiAgICAgIF9pc1NlcnZlciA9IGdsb2JhbFsncHJvY2VzcyddICYmIGdsb2JhbFsncHJvY2VzcyddLmVudi5WVUVfRU5WID09PSAnc2VydmVyJztcbiAgICB9IGVsc2Uge1xuICAgICAgX2lzU2VydmVyID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBfaXNTZXJ2ZXJcbn07XG5cbi8vIGRldGVjdCBkZXZ0b29sc1xudmFyIGRldnRvb2xzID0gaW5Ccm93c2VyICYmIHdpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gaXNOYXRpdmUgKEN0b3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChDdG9yLnRvU3RyaW5nKCkpXG59XG5cbnZhciBoYXNTeW1ib2wgPVxuICB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTeW1ib2wpICYmXG4gIHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShSZWZsZWN0Lm93bktleXMpO1xuXG52YXIgX1NldDtcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLyAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbmlmICh0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTZXQpKSB7XG4gIC8vIHVzZSBuYXRpdmUgU2V0IHdoZW4gYXZhaWxhYmxlLlxuICBfU2V0ID0gU2V0O1xufSBlbHNlIHtcbiAgLy8gYSBub24tc3RhbmRhcmQgU2V0IHBvbHlmaWxsIHRoYXQgb25seSB3b3JrcyB3aXRoIHByaW1pdGl2ZSBrZXlzLlxuICBfU2V0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2V0ICgpIHtcbiAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0W2tleV0gPT09IHRydWVcbiAgICB9O1xuICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChrZXkpIHtcbiAgICAgIHRoaXMuc2V0W2tleV0gPSB0cnVlO1xuICAgIH07XG4gICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNldDtcbiAgfSgpKTtcbn1cblxuLyogICovXG5cbnZhciB3YXJuID0gbm9vcDtcbnZhciB0aXAgPSBub29wO1xudmFyIGdlbmVyYXRlQ29tcG9uZW50VHJhY2UgPSAobm9vcCk7IC8vIHdvcmsgYXJvdW5kIGZsb3cgY2hlY2tcbnZhciBmb3JtYXRDb21wb25lbnROYW1lID0gKG5vb3ApO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgaGFzQ29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcbiAgdmFyIGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XG4gIHZhciBjbGFzc2lmeSA9IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIHN0clxuICAgIC5yZXBsYWNlKGNsYXNzaWZ5UkUsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRvVXBwZXJDYXNlKCk7IH0pXG4gICAgLnJlcGxhY2UoL1stX10vZywgJycpOyB9O1xuXG4gIHdhcm4gPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuICAgIHZhciB0cmFjZSA9IHZtID8gZ2VuZXJhdGVDb21wb25lbnRUcmFjZSh2bSkgOiAnJztcblxuICAgIGlmIChjb25maWcud2FybkhhbmRsZXIpIHtcbiAgICAgIGNvbmZpZy53YXJuSGFuZGxlci5jYWxsKG51bGwsIG1zZywgdm0sIHRyYWNlKTtcbiAgICB9IGVsc2UgaWYgKGhhc0NvbnNvbGUgJiYgKCFjb25maWcuc2lsZW50KSkge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbVnVlIHdhcm5dOiBcIiArIG1zZyArIHRyYWNlKSk7XG4gICAgfVxuICB9O1xuXG4gIHRpcCA9IGZ1bmN0aW9uIChtc2csIHZtKSB7XG4gICAgaWYgKGhhc0NvbnNvbGUgJiYgKCFjb25maWcuc2lsZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiW1Z1ZSB0aXBdOiBcIiArIG1zZyArIChcbiAgICAgICAgdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnXG4gICAgICApKTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSwgaW5jbHVkZUZpbGUpIHtcbiAgICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XG4gICAgICByZXR1cm4gJzxSb290PidcbiAgICB9XG4gICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygdm0gPT09ICdmdW5jdGlvbicgJiYgdm0uY2lkICE9IG51bGxcbiAgICAgID8gdm0ub3B0aW9uc1xuICAgICAgOiB2bS5faXNWdWVcbiAgICAgICAgPyB2bS4kb3B0aW9ucyB8fCB2bS5jb25zdHJ1Y3Rvci5vcHRpb25zXG4gICAgICAgIDogdm07XG4gICAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUgfHwgb3B0aW9ucy5fY29tcG9uZW50VGFnO1xuICAgIHZhciBmaWxlID0gb3B0aW9ucy5fX2ZpbGU7XG4gICAgaWYgKCFuYW1lICYmIGZpbGUpIHtcbiAgICAgIHZhciBtYXRjaCA9IGZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwudnVlJC8pO1xuICAgICAgbmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAobmFtZSA/IChcIjxcIiArIChjbGFzc2lmeShuYW1lKSkgKyBcIj5cIikgOiBcIjxBbm9ueW1vdXM+XCIpICtcbiAgICAgIChmaWxlICYmIGluY2x1ZGVGaWxlICE9PSBmYWxzZSA/IChcIiBhdCBcIiArIGZpbGUpIDogJycpXG4gICAgKVxuICB9O1xuXG4gIHZhciByZXBlYXQgPSBmdW5jdGlvbiAoc3RyLCBuKSB7XG4gICAgdmFyIHJlcyA9ICcnO1xuICAgIHdoaWxlIChuKSB7XG4gICAgICBpZiAobiAlIDIgPT09IDEpIHsgcmVzICs9IHN0cjsgfVxuICAgICAgaWYgKG4gPiAxKSB7IHN0ciArPSBzdHI7IH1cbiAgICAgIG4gPj49IDE7XG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgfTtcblxuICBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gZnVuY3Rpb24gKHZtKSB7XG4gICAgaWYgKHZtLl9pc1Z1ZSAmJiB2bS4kcGFyZW50KSB7XG4gICAgICB2YXIgdHJlZSA9IFtdO1xuICAgICAgdmFyIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDA7XG4gICAgICB3aGlsZSAodm0pIHtcbiAgICAgICAgaWYgKHRyZWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBsYXN0ID0gdHJlZVt0cmVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmIChsYXN0LmNvbnN0cnVjdG9yID09PSB2bS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlKys7XG4gICAgICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID4gMCkge1xuICAgICAgICAgICAgdHJlZVt0cmVlLmxlbmd0aCAtIDFdID0gW2xhc3QsIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZV07XG4gICAgICAgICAgICBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmVlLnB1c2godm0pO1xuICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1xcblxcbmZvdW5kIGluXFxuXFxuJyArIHRyZWVcbiAgICAgICAgLm1hcChmdW5jdGlvbiAodm0sIGkpIHsgcmV0dXJuIChcIlwiICsgKGkgPT09IDAgPyAnLS0tPiAnIDogcmVwZWF0KCcgJywgNSArIGkgKiAyKSkgKyAoQXJyYXkuaXNBcnJheSh2bSlcbiAgICAgICAgICAgID8gKChmb3JtYXRDb21wb25lbnROYW1lKHZtWzBdKSkgKyBcIi4uLiAoXCIgKyAodm1bMV0pICsgXCIgcmVjdXJzaXZlIGNhbGxzKVwiKVxuICAgICAgICAgICAgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKSkpOyB9KVxuICAgICAgICAuam9pbignXFxuJylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcIlxcblxcbihmb3VuZCBpbiBcIiArIChmb3JtYXRDb21wb25lbnROYW1lKHZtKSkgKyBcIilcIilcbiAgICB9XG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgdWlkID0gMDtcblxuLyoqXG4gKiBBIGRlcCBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGVcbiAqIGRpcmVjdGl2ZXMgc3Vic2NyaWJpbmcgdG8gaXQuXG4gKi9cbnZhciBEZXAgPSBmdW5jdGlvbiBEZXAgKCkge1xuICB0aGlzLmlkID0gdWlkKys7XG4gIHRoaXMuc3VicyA9IFtdO1xufTtcblxuRGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1Yikge1xuICB0aGlzLnN1YnMucHVzaChzdWIpO1xufTtcblxuRGVwLnByb3RvdHlwZS5yZW1vdmVTdWIgPSBmdW5jdGlvbiByZW1vdmVTdWIgKHN1Yikge1xuICByZW1vdmUodGhpcy5zdWJzLCBzdWIpO1xufTtcblxuRGVwLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiBkZXBlbmQgKCkge1xuICBpZiAoRGVwLnRhcmdldCkge1xuICAgIERlcC50YXJnZXQuYWRkRGVwKHRoaXMpO1xuICB9XG59O1xuXG5EZXAucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeSAoKSB7XG4gIC8vIHN0YWJpbGl6ZSB0aGUgc3Vic2NyaWJlciBsaXN0IGZpcnN0XG4gIHZhciBzdWJzID0gdGhpcy5zdWJzLnNsaWNlKCk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb25maWcuYXN5bmMpIHtcbiAgICAvLyBzdWJzIGFyZW4ndCBzb3J0ZWQgaW4gc2NoZWR1bGVyIGlmIG5vdCBydW5uaW5nIGFzeW5jXG4gICAgLy8gd2UgbmVlZCB0byBzb3J0IHRoZW0gbm93IHRvIG1ha2Ugc3VyZSB0aGV5IGZpcmUgaW4gY29ycmVjdFxuICAgIC8vIG9yZGVyXG4gICAgc3Vicy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHN1YnNbaV0udXBkYXRlKCk7XG4gIH1cbn07XG5cbi8vIFRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC5cbi8vIFRoaXMgaXMgZ2xvYmFsbHkgdW5pcXVlIGJlY2F1c2Ugb25seSBvbmUgd2F0Y2hlclxuLy8gY2FuIGJlIGV2YWx1YXRlZCBhdCBhIHRpbWUuXG5EZXAudGFyZ2V0ID0gbnVsbDtcbnZhciB0YXJnZXRTdGFjayA9IFtdO1xuXG5mdW5jdGlvbiBwdXNoVGFyZ2V0ICh0YXJnZXQpIHtcbiAgdGFyZ2V0U3RhY2sucHVzaCh0YXJnZXQpO1xuICBEZXAudGFyZ2V0ID0gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBwb3BUYXJnZXQgKCkge1xuICB0YXJnZXRTdGFjay5wb3AoKTtcbiAgRGVwLnRhcmdldCA9IHRhcmdldFN0YWNrW3RhcmdldFN0YWNrLmxlbmd0aCAtIDFdO1xufVxuXG4vKiAgKi9cblxudmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUgKFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuLFxuICB0ZXh0LFxuICBlbG0sXG4gIGNvbnRleHQsXG4gIGNvbXBvbmVudE9wdGlvbnMsXG4gIGFzeW5jRmFjdG9yeVxuKSB7XG4gIHRoaXMudGFnID0gdGFnO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMudGV4dCA9IHRleHQ7XG4gIHRoaXMuZWxtID0gZWxtO1xuICB0aGlzLm5zID0gdW5kZWZpbmVkO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLmZuQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5mbk9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuZm5TY29wZUlkID0gdW5kZWZpbmVkO1xuICB0aGlzLmtleSA9IGRhdGEgJiYgZGF0YS5rZXk7XG4gIHRoaXMuY29tcG9uZW50T3B0aW9ucyA9IGNvbXBvbmVudE9wdGlvbnM7XG4gIHRoaXMuY29tcG9uZW50SW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICB0aGlzLnJhdyA9IGZhbHNlO1xuICB0aGlzLmlzU3RhdGljID0gZmFsc2U7XG4gIHRoaXMuaXNSb290SW5zZXJ0ID0gdHJ1ZTtcbiAgdGhpcy5pc0NvbW1lbnQgPSBmYWxzZTtcbiAgdGhpcy5pc0Nsb25lZCA9IGZhbHNlO1xuICB0aGlzLmlzT25jZSA9IGZhbHNlO1xuICB0aGlzLmFzeW5jRmFjdG9yeSA9IGFzeW5jRmFjdG9yeTtcbiAgdGhpcy5hc3luY01ldGEgPSB1bmRlZmluZWQ7XG4gIHRoaXMuaXNBc3luY1BsYWNlaG9sZGVyID0gZmFsc2U7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBjaGlsZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vLyBERVBSRUNBVEVEOiBhbGlhcyBmb3IgY29tcG9uZW50SW5zdGFuY2UgZm9yIGJhY2t3YXJkcyBjb21wYXQuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmNoaWxkLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuY29tcG9uZW50SW5zdGFuY2Vcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBWTm9kZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG52YXIgY3JlYXRlRW1wdHlWTm9kZSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIGlmICggdGV4dCA9PT0gdm9pZCAwICkgdGV4dCA9ICcnO1xuXG4gIHZhciBub2RlID0gbmV3IFZOb2RlKCk7XG4gIG5vZGUudGV4dCA9IHRleHQ7XG4gIG5vZGUuaXNDb21tZW50ID0gdHJ1ZTtcbiAgcmV0dXJuIG5vZGVcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSAodmFsKSB7XG4gIHJldHVybiBuZXcgVk5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgU3RyaW5nKHZhbCkpXG59XG5cbi8vIG9wdGltaXplZCBzaGFsbG93IGNsb25lXG4vLyB1c2VkIGZvciBzdGF0aWMgbm9kZXMgYW5kIHNsb3Qgbm9kZXMgYmVjYXVzZSB0aGV5IG1heSBiZSByZXVzZWQgYWNyb3NzXG4vLyBtdWx0aXBsZSByZW5kZXJzLCBjbG9uaW5nIHRoZW0gYXZvaWRzIGVycm9ycyB3aGVuIERPTSBtYW5pcHVsYXRpb25zIHJlbHlcbi8vIG9uIHRoZWlyIGVsbSByZWZlcmVuY2UuXG5mdW5jdGlvbiBjbG9uZVZOb2RlICh2bm9kZSkge1xuICB2YXIgY2xvbmVkID0gbmV3IFZOb2RlKFxuICAgIHZub2RlLnRhZyxcbiAgICB2bm9kZS5kYXRhLFxuICAgIC8vICM3OTc1XG4gICAgLy8gY2xvbmUgY2hpbGRyZW4gYXJyYXkgdG8gYXZvaWQgbXV0YXRpbmcgb3JpZ2luYWwgaW4gY2FzZSBvZiBjbG9uaW5nXG4gICAgLy8gYSBjaGlsZC5cbiAgICB2bm9kZS5jaGlsZHJlbiAmJiB2bm9kZS5jaGlsZHJlbi5zbGljZSgpLFxuICAgIHZub2RlLnRleHQsXG4gICAgdm5vZGUuZWxtLFxuICAgIHZub2RlLmNvbnRleHQsXG4gICAgdm5vZGUuY29tcG9uZW50T3B0aW9ucyxcbiAgICB2bm9kZS5hc3luY0ZhY3RvcnlcbiAgKTtcbiAgY2xvbmVkLm5zID0gdm5vZGUubnM7XG4gIGNsb25lZC5pc1N0YXRpYyA9IHZub2RlLmlzU3RhdGljO1xuICBjbG9uZWQua2V5ID0gdm5vZGUua2V5O1xuICBjbG9uZWQuaXNDb21tZW50ID0gdm5vZGUuaXNDb21tZW50O1xuICBjbG9uZWQuZm5Db250ZXh0ID0gdm5vZGUuZm5Db250ZXh0O1xuICBjbG9uZWQuZm5PcHRpb25zID0gdm5vZGUuZm5PcHRpb25zO1xuICBjbG9uZWQuZm5TY29wZUlkID0gdm5vZGUuZm5TY29wZUlkO1xuICBjbG9uZWQuYXN5bmNNZXRhID0gdm5vZGUuYXN5bmNNZXRhO1xuICBjbG9uZWQuaXNDbG9uZWQgPSB0cnVlO1xuICByZXR1cm4gY2xvbmVkXG59XG5cbi8qXG4gKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGhcbiAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZVxuICovXG5cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xudmFyIGFycmF5TWV0aG9kcyA9IE9iamVjdC5jcmVhdGUoYXJyYXlQcm90byk7XG5cbnZhciBtZXRob2RzVG9QYXRjaCA9IFtcbiAgJ3B1c2gnLFxuICAncG9wJyxcbiAgJ3NoaWZ0JyxcbiAgJ3Vuc2hpZnQnLFxuICAnc3BsaWNlJyxcbiAgJ3NvcnQnLFxuICAncmV2ZXJzZSdcbl07XG5cbi8qKlxuICogSW50ZXJjZXB0IG11dGF0aW5nIG1ldGhvZHMgYW5kIGVtaXQgZXZlbnRzXG4gKi9cbm1ldGhvZHNUb1BhdGNoLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAvLyBjYWNoZSBvcmlnaW5hbCBtZXRob2RcbiAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdO1xuICBkZWYoYXJyYXlNZXRob2RzLCBtZXRob2QsIGZ1bmN0aW9uIG11dGF0b3IgKCkge1xuICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB2YXIgb2IgPSB0aGlzLl9fb2JfXztcbiAgICB2YXIgaW5zZXJ0ZWQ7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ3B1c2gnOlxuICAgICAgY2FzZSAndW5zaGlmdCc6XG4gICAgICAgIGluc2VydGVkID0gYXJncztcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3NwbGljZSc6XG4gICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTtcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKGluc2VydGVkKSB7IG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7IH1cbiAgICAvLyBub3RpZnkgY2hhbmdlXG4gICAgb2IuZGVwLm5vdGlmeSgpO1xuICAgIHJldHVybiByZXN1bHRcbiAgfSk7XG59KTtcblxuLyogICovXG5cbnZhciBhcnJheUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcnJheU1ldGhvZHMpO1xuXG4vKipcbiAqIEluIHNvbWUgY2FzZXMgd2UgbWF5IHdhbnQgdG8gZGlzYWJsZSBvYnNlcnZhdGlvbiBpbnNpZGUgYSBjb21wb25lbnQnc1xuICogdXBkYXRlIGNvbXB1dGF0aW9uLlxuICovXG52YXIgc2hvdWxkT2JzZXJ2ZSA9IHRydWU7XG5cbmZ1bmN0aW9uIHRvZ2dsZU9ic2VydmluZyAodmFsdWUpIHtcbiAgc2hvdWxkT2JzZXJ2ZSA9IHZhbHVlO1xufVxuXG4vKipcbiAqIE9ic2VydmVyIGNsYXNzIHRoYXQgaXMgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZFxuICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGhlIHRhcmdldFxuICogb2JqZWN0J3MgcHJvcGVydHkga2V5cyBpbnRvIGdldHRlci9zZXR0ZXJzIHRoYXRcbiAqIGNvbGxlY3QgZGVwZW5kZW5jaWVzIGFuZCBkaXNwYXRjaCB1cGRhdGVzLlxuICovXG52YXIgT2JzZXJ2ZXIgPSBmdW5jdGlvbiBPYnNlcnZlciAodmFsdWUpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB0aGlzLmRlcCA9IG5ldyBEZXAoKTtcbiAgdGhpcy52bUNvdW50ID0gMDtcbiAgZGVmKHZhbHVlLCAnX19vYl9fJywgdGhpcyk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGlmIChoYXNQcm90bykge1xuICAgICAgcHJvdG9BdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3B5QXVnbWVudCh2YWx1ZSwgYXJyYXlNZXRob2RzLCBhcnJheUtleXMpO1xuICAgIH1cbiAgICB0aGlzLm9ic2VydmVBcnJheSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy53YWxrKHZhbHVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBXYWxrIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgYW5kIGNvbnZlcnQgdGhlbSBpbnRvXG4gKiBnZXR0ZXIvc2V0dGVycy4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW5cbiAqIHZhbHVlIHR5cGUgaXMgT2JqZWN0LlxuICovXG5PYnNlcnZlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIHdhbGsgKG9iaikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKG9iaiwga2V5c1tpXSk7XG4gIH1cbn07XG5cbi8qKlxuICogT2JzZXJ2ZSBhIGxpc3Qgb2YgQXJyYXkgaXRlbXMuXG4gKi9cbk9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXkgPSBmdW5jdGlvbiBvYnNlcnZlQXJyYXkgKGl0ZW1zKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgb2JzZXJ2ZShpdGVtc1tpXSk7XG4gIH1cbn07XG5cbi8vIGhlbHBlcnNcblxuLyoqXG4gKiBBdWdtZW50IGEgdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBpbnRlcmNlcHRpbmdcbiAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fXG4gKi9cbmZ1bmN0aW9uIHByb3RvQXVnbWVudCAodGFyZ2V0LCBzcmMpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbiAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHNyYztcbiAgLyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xufVxuXG4vKipcbiAqIEF1Z21lbnQgYSB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGRlZmluaW5nXG4gKiBoaWRkZW4gcHJvcGVydGllcy5cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGNvcHlBdWdtZW50ICh0YXJnZXQsIHNyYywga2V5cykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgZGVmKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0IHRvIGNyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZSBmb3IgYSB2YWx1ZSxcbiAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsXG4gKiBvciB0aGUgZXhpc3Rpbmcgb2JzZXJ2ZXIgaWYgdGhlIHZhbHVlIGFscmVhZHkgaGFzIG9uZS5cbiAqL1xuZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUsIGFzUm9vdERhdGEpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWUgaW5zdGFuY2VvZiBWTm9kZSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYjtcbiAgaWYgKGhhc093bih2YWx1ZSwgJ19fb2JfXycpICYmIHZhbHVlLl9fb2JfXyBpbnN0YW5jZW9mIE9ic2VydmVyKSB7XG4gICAgb2IgPSB2YWx1ZS5fX29iX187XG4gIH0gZWxzZSBpZiAoXG4gICAgc2hvdWxkT2JzZXJ2ZSAmJlxuICAgICFpc1NlcnZlclJlbmRlcmluZygpICYmXG4gICAgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUpKSAmJlxuICAgIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpICYmXG4gICAgIXZhbHVlLl9pc1Z1ZVxuICApIHtcbiAgICBvYiA9IG5ldyBPYnNlcnZlcih2YWx1ZSk7XG4gIH1cbiAgaWYgKGFzUm9vdERhdGEgJiYgb2IpIHtcbiAgICBvYi52bUNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIG9iXG59XG5cbi8qKlxuICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LlxuICovXG5mdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZSQkMSAoXG4gIG9iaixcbiAga2V5LFxuICB2YWwsXG4gIGN1c3RvbVNldHRlcixcbiAgc2hhbGxvd1xuKSB7XG4gIHZhciBkZXAgPSBuZXcgRGVwKCk7XG5cbiAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG4gIGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBjYXRlciBmb3IgcHJlLWRlZmluZWQgZ2V0dGVyL3NldHRlcnNcbiAgdmFyIGdldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LmdldDtcbiAgdmFyIHNldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnNldDtcbiAgaWYgKCghZ2V0dGVyIHx8IHNldHRlcikgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHZhbCA9IG9ialtrZXldO1xuICB9XG5cbiAgdmFyIGNoaWxkT2IgPSAhc2hhbGxvdyAmJiBvYnNlcnZlKHZhbCk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gcmVhY3RpdmVHZXR0ZXIgKCkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcbiAgICAgIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgICAgIGRlcC5kZXBlbmQoKTtcbiAgICAgICAgaWYgKGNoaWxkT2IpIHtcbiAgICAgICAgICBjaGlsZE9iLmRlcC5kZXBlbmQoKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGRlcGVuZEFycmF5KHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiByZWFjdGl2ZVNldHRlciAobmV3VmFsKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG4gICAgICBpZiAobmV3VmFsID09PSB2YWx1ZSB8fCAobmV3VmFsICE9PSBuZXdWYWwgJiYgdmFsdWUgIT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjdXN0b21TZXR0ZXIpIHtcbiAgICAgICAgY3VzdG9tU2V0dGVyKCk7XG4gICAgICB9XG4gICAgICAvLyAjNzk4MTogZm9yIGFjY2Vzc29yIHByb3BlcnRpZXMgd2l0aG91dCBzZXR0ZXJcbiAgICAgIGlmIChnZXR0ZXIgJiYgIXNldHRlcikgeyByZXR1cm4gfVxuICAgICAgaWYgKHNldHRlcikge1xuICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBuZXdWYWw7XG4gICAgICB9XG4gICAgICBjaGlsZE9iID0gIXNoYWxsb3cgJiYgb2JzZXJ2ZShuZXdWYWwpO1xuICAgICAgZGVwLm5vdGlmeSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kXG4gKiB0cmlnZ2VycyBjaGFuZ2Ugbm90aWZpY2F0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0LlxuICovXG5mdW5jdGlvbiBzZXQgKHRhcmdldCwga2V5LCB2YWwpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAoaXNVbmRlZih0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkpXG4gICkge1xuICAgIHdhcm4oKFwiQ2Fubm90IHNldCByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogXCIgKyAoKHRhcmdldCkpKSk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiBpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XG4gICAgdGFyZ2V0Lmxlbmd0aCA9IE1hdGgubWF4KHRhcmdldC5sZW5ndGgsIGtleSk7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbCk7XG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIGlmIChrZXkgaW4gdGFyZ2V0ICYmICEoa2V5IGluIE9iamVjdC5wcm90b3R5cGUpKSB7XG4gICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHZhciBvYiA9ICh0YXJnZXQpLl9fb2JfXztcbiAgaWYgKHRhcmdldC5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ0F2b2lkIGFkZGluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzIHRvIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xuICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLidcbiAgICApO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBpZiAoIW9iKSB7XG4gICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIGRlZmluZVJlYWN0aXZlJCQxKG9iLnZhbHVlLCBrZXksIHZhbCk7XG4gIG9iLmRlcC5ub3RpZnkoKTtcbiAgcmV0dXJuIHZhbFxufVxuXG4vKipcbiAqIERlbGV0ZSBhIHByb3BlcnR5IGFuZCB0cmlnZ2VyIGNoYW5nZSBpZiBuZWNlc3NhcnkuXG4gKi9cbmZ1bmN0aW9uIGRlbCAodGFyZ2V0LCBrZXkpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAoaXNVbmRlZih0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkpXG4gICkge1xuICAgIHdhcm4oKFwiQ2Fubm90IGRlbGV0ZSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogXCIgKyAoKHRhcmdldCkpKSk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiBpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpO1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYiA9ICh0YXJnZXQpLl9fb2JfXztcbiAgaWYgKHRhcmdldC5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ0F2b2lkIGRlbGV0aW5nIHByb3BlcnRpZXMgb24gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXG4gICAgICAnLSBqdXN0IHNldCBpdCB0byBudWxsLidcbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIGlmICghaGFzT3duKHRhcmdldCwga2V5KSkge1xuICAgIHJldHVyblxuICB9XG4gIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgaWYgKCFvYikge1xuICAgIHJldHVyblxuICB9XG4gIG9iLmRlcC5ub3RpZnkoKTtcbn1cblxuLyoqXG4gKiBDb2xsZWN0IGRlcGVuZGVuY2llcyBvbiBhcnJheSBlbGVtZW50cyB3aGVuIHRoZSBhcnJheSBpcyB0b3VjaGVkLCBzaW5jZVxuICogd2UgY2Fubm90IGludGVyY2VwdCBhcnJheSBlbGVtZW50IGFjY2VzcyBsaWtlIHByb3BlcnR5IGdldHRlcnMuXG4gKi9cbmZ1bmN0aW9uIGRlcGVuZEFycmF5ICh2YWx1ZSkge1xuICBmb3IgKHZhciBlID0gKHZvaWQgMCksIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZSA9IHZhbHVlW2ldO1xuICAgIGUgJiYgZS5fX29iX18gJiYgZS5fX29iX18uZGVwLmRlcGVuZCgpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBkZXBlbmRBcnJheShlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8qKlxuICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZVxuICogaG93IHRvIG1lcmdlIGEgcGFyZW50IG9wdGlvbiB2YWx1ZSBhbmQgYSBjaGlsZCBvcHRpb25cbiAqIHZhbHVlIGludG8gdGhlIGZpbmFsIHZhbHVlLlxuICovXG52YXIgc3RyYXRzID0gY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztcblxuLyoqXG4gKiBPcHRpb25zIHdpdGggcmVzdHJpY3Rpb25zXG4gKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHN0cmF0cy5lbCA9IHN0cmF0cy5wcm9wc0RhdGEgPSBmdW5jdGlvbiAocGFyZW50LCBjaGlsZCwgdm0sIGtleSkge1xuICAgIGlmICghdm0pIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIFwib3B0aW9uIFxcXCJcIiArIGtleSArIFwiXFxcIiBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBpbnN0YW5jZSBcIiArXG4gICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0U3RyYXQocGFyZW50LCBjaGlsZClcbiAgfTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdGhhdCByZWN1cnNpdmVseSBtZXJnZXMgdHdvIGRhdGEgb2JqZWN0cyB0b2dldGhlci5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VEYXRhICh0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHsgcmV0dXJuIHRvIH1cbiAgdmFyIGtleSwgdG9WYWwsIGZyb21WYWw7XG5cbiAgdmFyIGtleXMgPSBoYXNTeW1ib2xcbiAgICA/IFJlZmxlY3Qub3duS2V5cyhmcm9tKVxuICAgIDogT2JqZWN0LmtleXMoZnJvbSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICAvLyBpbiBjYXNlIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBvYnNlcnZlZC4uLlxuICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH1cbiAgICB0b1ZhbCA9IHRvW2tleV07XG4gICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcbiAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xuICAgICAgc2V0KHRvLCBrZXksIGZyb21WYWwpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0b1ZhbCAhPT0gZnJvbVZhbCAmJlxuICAgICAgaXNQbGFpbk9iamVjdCh0b1ZhbCkgJiZcbiAgICAgIGlzUGxhaW5PYmplY3QoZnJvbVZhbClcbiAgICApIHtcbiAgICAgIG1lcmdlRGF0YSh0b1ZhbCwgZnJvbVZhbCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0b1xufVxuXG4vKipcbiAqIERhdGFcbiAqL1xuZnVuY3Rpb24gbWVyZ2VEYXRhT3JGbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtXG4pIHtcbiAgaWYgKCF2bSkge1xuICAgIC8vIGluIGEgVnVlLmV4dGVuZCBtZXJnZSwgYm90aCBzaG91bGQgYmUgZnVuY3Rpb25zXG4gICAgaWYgKCFjaGlsZFZhbCkge1xuICAgICAgcmV0dXJuIHBhcmVudFZhbFxuICAgIH1cbiAgICBpZiAoIXBhcmVudFZhbCkge1xuICAgICAgcmV0dXJuIGNoaWxkVmFsXG4gICAgfVxuICAgIC8vIHdoZW4gcGFyZW50VmFsICYgY2hpbGRWYWwgYXJlIGJvdGggcHJlc2VudCxcbiAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbiAgICAvLyBtZXJnZWQgcmVzdWx0IG9mIGJvdGggZnVuY3Rpb25zLi4uIG5vIG5lZWQgdG9cbiAgICAvLyBjaGVjayBpZiBwYXJlbnRWYWwgaXMgYSBmdW5jdGlvbiBoZXJlIGJlY2F1c2VcbiAgICAvLyBpdCBoYXMgdG8gYmUgYSBmdW5jdGlvbiB0byBwYXNzIHByZXZpb3VzIG1lcmdlcy5cbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuICgpIHtcbiAgICAgIHJldHVybiBtZXJnZURhdGEoXG4gICAgICAgIHR5cGVvZiBjaGlsZFZhbCA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkVmFsLmNhbGwodGhpcywgdGhpcykgOiBjaGlsZFZhbCxcbiAgICAgICAgdHlwZW9mIHBhcmVudFZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHBhcmVudFZhbC5jYWxsKHRoaXMsIHRoaXMpIDogcGFyZW50VmFsXG4gICAgICApXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRJbnN0YW5jZURhdGFGbiAoKSB7XG4gICAgICAvLyBpbnN0YW5jZSBtZXJnZVxuICAgICAgdmFyIGluc3RhbmNlRGF0YSA9IHR5cGVvZiBjaGlsZFZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGNoaWxkVmFsLmNhbGwodm0sIHZtKVxuICAgICAgICA6IGNoaWxkVmFsO1xuICAgICAgdmFyIGRlZmF1bHREYXRhID0gdHlwZW9mIHBhcmVudFZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHBhcmVudFZhbC5jYWxsKHZtLCB2bSlcbiAgICAgICAgOiBwYXJlbnRWYWw7XG4gICAgICBpZiAoaW5zdGFuY2VEYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF0YVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5zdHJhdHMuZGF0YSA9IGZ1bmN0aW9uIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm1cbikge1xuICBpZiAoIXZtKSB7XG4gICAgaWYgKGNoaWxkVmFsICYmIHR5cGVvZiBjaGlsZFZhbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICAnVGhlIFwiZGF0YVwiIG9wdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvbiAnICtcbiAgICAgICAgJ3RoYXQgcmV0dXJucyBhIHBlci1pbnN0YW5jZSB2YWx1ZSBpbiBjb21wb25lbnQgJyArXG4gICAgICAgICdkZWZpbml0aW9ucy4nLFxuICAgICAgICB2bVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHBhcmVudFZhbFxuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VEYXRhT3JGbihwYXJlbnRWYWwsIGNoaWxkVmFsKVxuICB9XG5cbiAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0pXG59O1xuXG4vKipcbiAqIEhvb2tzIGFuZCBwcm9wcyBhcmUgbWVyZ2VkIGFzIGFycmF5cy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb29rIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbFxuKSB7XG4gIHZhciByZXMgPSBjaGlsZFZhbFxuICAgID8gcGFyZW50VmFsXG4gICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpXG4gICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRWYWwpXG4gICAgICAgID8gY2hpbGRWYWxcbiAgICAgICAgOiBbY2hpbGRWYWxdXG4gICAgOiBwYXJlbnRWYWw7XG4gIHJldHVybiByZXNcbiAgICA/IGRlZHVwZUhvb2tzKHJlcylcbiAgICA6IHJlc1xufVxuXG5mdW5jdGlvbiBkZWR1cGVIb29rcyAoaG9va3MpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlcy5pbmRleE9mKGhvb2tzW2ldKSA9PT0gLTEpIHtcbiAgICAgIHJlcy5wdXNoKGhvb2tzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5MSUZFQ1lDTEVfSE9PS1MuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xuICBzdHJhdHNbaG9va10gPSBtZXJnZUhvb2s7XG59KTtcblxuLyoqXG4gKiBBc3NldHNcbiAqXG4gKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvXG4gKiBhIHRocmVlLXdheSBtZXJnZSBiZXR3ZWVuIGNvbnN0cnVjdG9yIG9wdGlvbnMsIGluc3RhbmNlXG4gKiBvcHRpb25zIGFuZCBwYXJlbnQgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VBc3NldHMgKFxuICBwYXJlbnRWYWwsXG4gIGNoaWxkVmFsLFxuICB2bSxcbiAga2V5XG4pIHtcbiAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpO1xuICBpZiAoY2hpbGRWYWwpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xuICAgIHJldHVybiBleHRlbmQocmVzLCBjaGlsZFZhbClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVzXG4gIH1cbn1cblxuQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICBzdHJhdHNbdHlwZSArICdzJ10gPSBtZXJnZUFzc2V0cztcbn0pO1xuXG4vKipcbiAqIFdhdGNoZXJzLlxuICpcbiAqIFdhdGNoZXJzIGhhc2hlcyBzaG91bGQgbm90IG92ZXJ3cml0ZSBvbmVcbiAqIGFub3RoZXIsIHNvIHdlIG1lcmdlIHRoZW0gYXMgYXJyYXlzLlxuICovXG5zdHJhdHMud2F0Y2ggPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtLFxuICBrZXlcbikge1xuICAvLyB3b3JrIGFyb3VuZCBGaXJlZm94J3MgT2JqZWN0LnByb3RvdHlwZS53YXRjaC4uLlxuICBpZiAocGFyZW50VmFsID09PSBuYXRpdmVXYXRjaCkgeyBwYXJlbnRWYWwgPSB1bmRlZmluZWQ7IH1cbiAgaWYgKGNoaWxkVmFsID09PSBuYXRpdmVXYXRjaCkgeyBjaGlsZFZhbCA9IHVuZGVmaW5lZDsgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCkgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xuICB9XG4gIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG4gIHZhciByZXQgPSB7fTtcbiAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcbiAgZm9yICh2YXIga2V5JDEgaW4gY2hpbGRWYWwpIHtcbiAgICB2YXIgcGFyZW50ID0gcmV0W2tleSQxXTtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZFZhbFtrZXkkMV07XG4gICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7XG4gICAgICBwYXJlbnQgPSBbcGFyZW50XTtcbiAgICB9XG4gICAgcmV0W2tleSQxXSA9IHBhcmVudFxuICAgICAgPyBwYXJlbnQuY29uY2F0KGNoaWxkKVxuICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkKSA/IGNoaWxkIDogW2NoaWxkXTtcbiAgfVxuICByZXR1cm4gcmV0XG59O1xuXG4vKipcbiAqIE90aGVyIG9iamVjdCBoYXNoZXMuXG4gKi9cbnN0cmF0cy5wcm9wcyA9XG5zdHJhdHMubWV0aG9kcyA9XG5zdHJhdHMuaW5qZWN0ID1cbnN0cmF0cy5jb21wdXRlZCA9IGZ1bmN0aW9uIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm0sXG4gIGtleVxuKSB7XG4gIGlmIChjaGlsZFZhbCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0T2JqZWN0VHlwZShrZXksIGNoaWxkVmFsLCB2bSk7XG4gIH1cbiAgaWYgKCFwYXJlbnRWYWwpIHsgcmV0dXJuIGNoaWxkVmFsIH1cbiAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG4gIGlmIChjaGlsZFZhbCkgeyBleHRlbmQocmV0LCBjaGlsZFZhbCk7IH1cbiAgcmV0dXJuIHJldFxufTtcbnN0cmF0cy5wcm92aWRlID0gbWVyZ2VEYXRhT3JGbjtcblxuLyoqXG4gKiBEZWZhdWx0IHN0cmF0ZWd5LlxuICovXG52YXIgZGVmYXVsdFN0cmF0ID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgcmV0dXJuIGNoaWxkVmFsID09PSB1bmRlZmluZWRcbiAgICA/IHBhcmVudFZhbFxuICAgIDogY2hpbGRWYWxcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgY29tcG9uZW50IG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ29tcG9uZW50cyAob3B0aW9ucykge1xuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7XG4gICAgdmFsaWRhdGVDb21wb25lbnROYW1lKGtleSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lIChuYW1lKSB7XG4gIGlmICghbmV3IFJlZ0V4cCgoXCJeW2EtekEtWl1bXFxcXC1cXFxcLjAtOV9cIiArICh1bmljb2RlUmVnRXhwLnNvdXJjZSkgKyBcIl0qJFwiKSkudGVzdChuYW1lKSkge1xuICAgIHdhcm4oXG4gICAgICAnSW52YWxpZCBjb21wb25lbnQgbmFtZTogXCInICsgbmFtZSArICdcIi4gQ29tcG9uZW50IG5hbWVzICcgK1xuICAgICAgJ3Nob3VsZCBjb25mb3JtIHRvIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUgaW4gaHRtbDUgc3BlY2lmaWNhdGlvbi4nXG4gICAgKTtcbiAgfVxuICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGNvbmZpZy5pc1Jlc2VydmVkVGFnKG5hbWUpKSB7XG4gICAgd2FybihcbiAgICAgICdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50ICcgK1xuICAgICAgJ2lkOiAnICsgbmFtZVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBFbnN1cmUgYWxsIHByb3BzIG9wdGlvbiBzeW50YXggYXJlIG5vcm1hbGl6ZWQgaW50byB0aGVcbiAqIE9iamVjdC1iYXNlZCBmb3JtYXQuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzIChvcHRpb25zLCB2bSkge1xuICB2YXIgcHJvcHMgPSBvcHRpb25zLnByb3BzO1xuICBpZiAoIXByb3BzKSB7IHJldHVybiB9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGksIHZhbCwgbmFtZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB2YWwgPSBwcm9wc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYW1lID0gY2FtZWxpemUodmFsKTtcbiAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FybigncHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LicpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgdmFsID0gcHJvcHNba2V5XTtcbiAgICAgIG5hbWUgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgcmVzW25hbWVdID0gaXNQbGFpbk9iamVjdCh2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogeyB0eXBlOiB2YWwgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHdhcm4oXG4gICAgICBcIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcXFwicHJvcHNcXFwiOiBleHBlY3RlZCBhbiBBcnJheSBvciBhbiBPYmplY3QsIFwiICtcbiAgICAgIFwiYnV0IGdvdCBcIiArICh0b1Jhd1R5cGUocHJvcHMpKSArIFwiLlwiLFxuICAgICAgdm1cbiAgICApO1xuICB9XG4gIG9wdGlvbnMucHJvcHMgPSByZXM7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGFsbCBpbmplY3Rpb25zIGludG8gT2JqZWN0LWJhc2VkIGZvcm1hdFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QgKG9wdGlvbnMsIHZtKSB7XG4gIHZhciBpbmplY3QgPSBvcHRpb25zLmluamVjdDtcbiAgaWYgKCFpbmplY3QpIHsgcmV0dXJuIH1cbiAgdmFyIG5vcm1hbGl6ZWQgPSBvcHRpb25zLmluamVjdCA9IHt9O1xuICBpZiAoQXJyYXkuaXNBcnJheShpbmplY3QpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5vcm1hbGl6ZWRbaW5qZWN0W2ldXSA9IHsgZnJvbTogaW5qZWN0W2ldIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoaW5qZWN0KSkge1xuICAgIGZvciAodmFyIGtleSBpbiBpbmplY3QpIHtcbiAgICAgIHZhciB2YWwgPSBpbmplY3Rba2V5XTtcbiAgICAgIG5vcm1hbGl6ZWRba2V5XSA9IGlzUGxhaW5PYmplY3QodmFsKVxuICAgICAgICA/IGV4dGVuZCh7IGZyb206IGtleSB9LCB2YWwpXG4gICAgICAgIDogeyBmcm9tOiB2YWwgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHdhcm4oXG4gICAgICBcIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcXFwiaW5qZWN0XFxcIjogZXhwZWN0ZWQgYW4gQXJyYXkgb3IgYW4gT2JqZWN0LCBcIiArXG4gICAgICBcImJ1dCBnb3QgXCIgKyAodG9SYXdUeXBlKGluamVjdCkpICsgXCIuXCIsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzIChvcHRpb25zKSB7XG4gIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzO1xuICBpZiAoZGlycykge1xuICAgIGZvciAodmFyIGtleSBpbiBkaXJzKSB7XG4gICAgICB2YXIgZGVmJCQxID0gZGlyc1trZXldO1xuICAgICAgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYkJDEsIHVwZGF0ZTogZGVmJCQxIH07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydE9iamVjdFR5cGUgKG5hbWUsIHZhbHVlLCB2bSkge1xuICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgd2FybihcbiAgICAgIFwiSW52YWxpZCB2YWx1ZSBmb3Igb3B0aW9uIFxcXCJcIiArIG5hbWUgKyBcIlxcXCI6IGV4cGVjdGVkIGFuIE9iamVjdCwgXCIgK1xuICAgICAgXCJidXQgZ290IFwiICsgKHRvUmF3VHlwZSh2YWx1ZSkpICsgXCIuXCIsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZXJnZSB0d28gb3B0aW9uIG9iamVjdHMgaW50byBhIG5ldyBvbmUuXG4gKiBDb3JlIHV0aWxpdHkgdXNlZCBpbiBib3RoIGluc3RhbnRpYXRpb24gYW5kIGluaGVyaXRhbmNlLlxuICovXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnMgKFxuICBwYXJlbnQsXG4gIGNoaWxkLFxuICB2bVxuKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2hlY2tDb21wb25lbnRzKGNoaWxkKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjaGlsZCA9IGNoaWxkLm9wdGlvbnM7XG4gIH1cblxuICBub3JtYWxpemVQcm9wcyhjaGlsZCwgdm0pO1xuICBub3JtYWxpemVJbmplY3QoY2hpbGQsIHZtKTtcbiAgbm9ybWFsaXplRGlyZWN0aXZlcyhjaGlsZCk7XG5cbiAgLy8gQXBwbHkgZXh0ZW5kcyBhbmQgbWl4aW5zIG9uIHRoZSBjaGlsZCBvcHRpb25zLFxuICAvLyBidXQgb25seSBpZiBpdCBpcyBhIHJhdyBvcHRpb25zIG9iamVjdCB0aGF0IGlzbid0XG4gIC8vIHRoZSByZXN1bHQgb2YgYW5vdGhlciBtZXJnZU9wdGlvbnMgY2FsbC5cbiAgLy8gT25seSBtZXJnZWQgb3B0aW9ucyBoYXMgdGhlIF9iYXNlIHByb3BlcnR5LlxuICBpZiAoIWNoaWxkLl9iYXNlKSB7XG4gICAgaWYgKGNoaWxkLmV4dGVuZHMpIHtcbiAgICAgIHBhcmVudCA9IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGNoaWxkLmV4dGVuZHMsIHZtKTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLm1peGlucykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZC5taXhpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHBhcmVudCA9IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGNoaWxkLm1peGluc1tpXSwgdm0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBvcHRpb25zID0ge307XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIHBhcmVudCkge1xuICAgIG1lcmdlRmllbGQoa2V5KTtcbiAgfVxuICBmb3IgKGtleSBpbiBjaGlsZCkge1xuICAgIGlmICghaGFzT3duKHBhcmVudCwga2V5KSkge1xuICAgICAgbWVyZ2VGaWVsZChrZXkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtZXJnZUZpZWxkIChrZXkpIHtcbiAgICB2YXIgc3RyYXQgPSBzdHJhdHNba2V5XSB8fCBkZWZhdWx0U3RyYXQ7XG4gICAgb3B0aW9uc1trZXldID0gc3RyYXQocGFyZW50W2tleV0sIGNoaWxkW2tleV0sIHZtLCBrZXkpO1xuICB9XG4gIHJldHVybiBvcHRpb25zXG59XG5cbi8qKlxuICogUmVzb2x2ZSBhbiBhc3NldC5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBiZWNhdXNlIGNoaWxkIGluc3RhbmNlcyBuZWVkIGFjY2Vzc1xuICogdG8gYXNzZXRzIGRlZmluZWQgaW4gaXRzIGFuY2VzdG9yIGNoYWluLlxuICovXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQgKFxuICBvcHRpb25zLFxuICB0eXBlLFxuICBpZCxcbiAgd2Fybk1pc3Npbmdcbikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgYXNzZXRzID0gb3B0aW9uc1t0eXBlXTtcbiAgLy8gY2hlY2sgbG9jYWwgcmVnaXN0cmF0aW9uIHZhcmlhdGlvbnMgZmlyc3RcbiAgaWYgKGhhc093bihhc3NldHMsIGlkKSkgeyByZXR1cm4gYXNzZXRzW2lkXSB9XG4gIHZhciBjYW1lbGl6ZWRJZCA9IGNhbWVsaXplKGlkKTtcbiAgaWYgKGhhc093bihhc3NldHMsIGNhbWVsaXplZElkKSkgeyByZXR1cm4gYXNzZXRzW2NhbWVsaXplZElkXSB9XG4gIHZhciBQYXNjYWxDYXNlSWQgPSBjYXBpdGFsaXplKGNhbWVsaXplZElkKTtcbiAgaWYgKGhhc093bihhc3NldHMsIFBhc2NhbENhc2VJZCkpIHsgcmV0dXJuIGFzc2V0c1tQYXNjYWxDYXNlSWRdIH1cbiAgLy8gZmFsbGJhY2sgdG8gcHJvdG90eXBlIGNoYWluXG4gIHZhciByZXMgPSBhc3NldHNbaWRdIHx8IGFzc2V0c1tjYW1lbGl6ZWRJZF0gfHwgYXNzZXRzW1Bhc2NhbENhc2VJZF07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICB3YXJuKFxuICAgICAgJ0ZhaWxlZCB0byByZXNvbHZlICcgKyB0eXBlLnNsaWNlKDAsIC0xKSArICc6ICcgKyBpZCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AgKFxuICBrZXksXG4gIHByb3BPcHRpb25zLFxuICBwcm9wc0RhdGEsXG4gIHZtXG4pIHtcbiAgdmFyIHByb3AgPSBwcm9wT3B0aW9uc1trZXldO1xuICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7XG4gIHZhciB2YWx1ZSA9IHByb3BzRGF0YVtrZXldO1xuICAvLyBib29sZWFuIGNhc3RpbmdcbiAgdmFyIGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xuICBpZiAoYm9vbGVhbkluZGV4ID4gLTEpIHtcbiAgICBpZiAoYWJzZW50ICYmICFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpIHtcbiAgICAgIC8vIG9ubHkgY2FzdCBlbXB0eSBzdHJpbmcgLyBzYW1lIG5hbWUgdG8gYm9vbGVhbiBpZlxuICAgICAgLy8gYm9vbGVhbiBoYXMgaGlnaGVyIHByaW9yaXR5XG4gICAgICB2YXIgc3RyaW5nSW5kZXggPSBnZXRUeXBlSW5kZXgoU3RyaW5nLCBwcm9wLnR5cGUpO1xuICAgICAgaWYgKHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleCkge1xuICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGNoZWNrIGRlZmF1bHQgdmFsdWVcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7XG4gICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBmcmVzaCBjb3B5LFxuICAgIC8vIG1ha2Ugc3VyZSB0byBvYnNlcnZlIGl0LlxuICAgIHZhciBwcmV2U2hvdWxkT2JzZXJ2ZSA9IHNob3VsZE9ic2VydmU7XG4gICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpO1xuICAgIG9ic2VydmUodmFsdWUpO1xuICAgIHRvZ2dsZU9ic2VydmluZyhwcmV2U2hvdWxkT2JzZXJ2ZSk7XG4gIH1cbiAgaWYgKFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAvLyBza2lwIHZhbGlkYXRpb24gZm9yIHdlZXggcmVjeWNsZS1saXN0IGNoaWxkIGNvbXBvbmVudCBwcm9wc1xuICAgICEoZmFsc2UpXG4gICkge1xuICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8qKlxuICogR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcHJvcC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcERlZmF1bHRWYWx1ZSAodm0sIHByb3AsIGtleSkge1xuICAvLyBubyBkZWZhdWx0LCByZXR1cm4gdW5kZWZpbmVkXG4gIGlmICghaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgdmFyIGRlZiA9IHByb3AuZGVmYXVsdDtcbiAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBpc09iamVjdChkZWYpKSB7XG4gICAgd2FybihcbiAgICAgICdJbnZhbGlkIGRlZmF1bHQgdmFsdWUgZm9yIHByb3AgXCInICsga2V5ICsgJ1wiOiAnICtcbiAgICAgICdQcm9wcyB3aXRoIHR5cGUgT2JqZWN0L0FycmF5IG11c3QgdXNlIGEgZmFjdG9yeSBmdW5jdGlvbiAnICtcbiAgICAgICd0byByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUuJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgfVxuICAvLyB0aGUgcmF3IHByb3AgdmFsdWUgd2FzIGFsc28gdW5kZWZpbmVkIGZyb20gcHJldmlvdXMgcmVuZGVyLFxuICAvLyByZXR1cm4gcHJldmlvdXMgZGVmYXVsdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YXRjaGVyIHRyaWdnZXJcbiAgaWYgKHZtICYmIHZtLiRvcHRpb25zLnByb3BzRGF0YSAmJlxuICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YVtrZXldID09PSB1bmRlZmluZWQgJiZcbiAgICB2bS5fcHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHJldHVybiB2bS5fcHJvcHNba2V5XVxuICB9XG4gIC8vIGNhbGwgZmFjdG9yeSBmdW5jdGlvbiBmb3Igbm9uLUZ1bmN0aW9uIHR5cGVzXG4gIC8vIGEgdmFsdWUgaXMgRnVuY3Rpb24gaWYgaXRzIHByb3RvdHlwZSBpcyBmdW5jdGlvbiBldmVuIGFjcm9zcyBkaWZmZXJlbnQgZXhlY3V0aW9uIGNvbnRleHRcbiAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgZ2V0VHlwZShwcm9wLnR5cGUpICE9PSAnRnVuY3Rpb24nXG4gICAgPyBkZWYuY2FsbCh2bSlcbiAgICA6IGRlZlxufVxuXG4vKipcbiAqIEFzc2VydCB3aGV0aGVyIGEgcHJvcCBpcyB2YWxpZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0UHJvcCAoXG4gIHByb3AsXG4gIG5hbWUsXG4gIHZhbHVlLFxuICB2bSxcbiAgYWJzZW50XG4pIHtcbiAgaWYgKHByb3AucmVxdWlyZWQgJiYgYWJzZW50KSB7XG4gICAgd2FybihcbiAgICAgICdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInLFxuICAgICAgdm1cbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHR5cGUgPSBwcm9wLnR5cGU7XG4gIHZhciB2YWxpZCA9ICF0eXBlIHx8IHR5cGUgPT09IHRydWU7XG4gIHZhciBleHBlY3RlZFR5cGVzID0gW107XG4gIGlmICh0eXBlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICB0eXBlID0gW3R5cGVdO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoICYmICF2YWxpZDsgaSsrKSB7XG4gICAgICB2YXIgYXNzZXJ0ZWRUeXBlID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZVtpXSk7XG4gICAgICBleHBlY3RlZFR5cGVzLnB1c2goYXNzZXJ0ZWRUeXBlLmV4cGVjdGVkVHlwZSB8fCAnJyk7XG4gICAgICB2YWxpZCA9IGFzc2VydGVkVHlwZS52YWxpZDtcbiAgICB9XG4gIH1cblxuICBpZiAoIXZhbGlkKSB7XG4gICAgd2FybihcbiAgICAgIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcyksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHZhbGlkYXRvciA9IHByb3AudmFsaWRhdG9yO1xuICBpZiAodmFsaWRhdG9yKSB7XG4gICAgaWYgKCF2YWxpZGF0b3IodmFsdWUpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicsXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc2ltcGxlQ2hlY2tSRSA9IC9eKFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxGdW5jdGlvbnxTeW1ib2wpJC87XG5cbmZ1bmN0aW9uIGFzc2VydFR5cGUgKHZhbHVlLCB0eXBlKSB7XG4gIHZhciB2YWxpZDtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG4gIGlmIChzaW1wbGVDaGVja1JFLnRlc3QoZXhwZWN0ZWRUeXBlKSkge1xuICAgIHZhciB0ID0gdHlwZW9mIHZhbHVlO1xuICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gZm9yIHByaW1pdGl2ZSB3cmFwcGVyIG9iamVjdHNcbiAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xuICAgIHZhbGlkID0gaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XG4gICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkOiB2YWxpZCxcbiAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZVxuICB9XG59XG5cbi8qKlxuICogVXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIGJ1aWx0LWluIHR5cGVzLFxuICogYmVjYXVzZSBhIHNpbXBsZSBlcXVhbGl0eSBjaGVjayB3aWxsIGZhaWwgd2hlbiBydW5uaW5nXG4gKiBhY3Jvc3MgZGlmZmVyZW50IHZtcyAvIGlmcmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFR5cGUgKGZuKSB7XG4gIHZhciBtYXRjaCA9IGZuICYmIGZuLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJydcbn1cblxuZnVuY3Rpb24gaXNTYW1lVHlwZSAoYSwgYikge1xuICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKVxufVxuXG5mdW5jdGlvbiBnZXRUeXBlSW5kZXggKHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XG4gICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTFcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXhwZWN0ZWRUeXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXNbaV0sIHR5cGUpKSB7XG4gICAgICByZXR1cm4gaVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTFcbn1cblxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlIChuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xuICB2YXIgbWVzc2FnZSA9IFwiSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiLlwiICtcbiAgICBcIiBFeHBlY3RlZCBcIiArIChleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpKTtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gIHZhciByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICB2YXIgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiZcbiAgICAgICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBcIiB3aXRoIHZhbHVlIFwiICsgZXhwZWN0ZWRWYWx1ZTtcbiAgfVxuICBtZXNzYWdlICs9IFwiLCBnb3QgXCIgKyByZWNlaXZlZFR5cGUgKyBcIiBcIjtcbiAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXG4gIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gXCJ3aXRoIHZhbHVlIFwiICsgcmVjZWl2ZWRWYWx1ZSArIFwiLlwiO1xuICB9XG4gIHJldHVybiBtZXNzYWdlXG59XG5cbmZ1bmN0aW9uIHN0eWxlVmFsdWUgKHZhbHVlLCB0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xuICAgIHJldHVybiAoXCJcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIlwiKVxuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgcmV0dXJuIChcIlwiICsgKE51bWJlcih2YWx1ZSkpKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXCJcIiArIHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSAodmFsdWUpIHtcbiAgdmFyIGV4cGxpY2l0VHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtOyB9KVxufVxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4gKCkge1xuICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gIHJldHVybiBhcmdzLnNvbWUoZnVuY3Rpb24gKGVsZW0pIHsgcmV0dXJuIGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nOyB9KVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHtcbiAgLy8gRGVhY3RpdmF0ZSBkZXBzIHRyYWNraW5nIHdoaWxlIHByb2Nlc3NpbmcgZXJyb3IgaGFuZGxlciB0byBhdm9pZCBwb3NzaWJsZSBpbmZpbml0ZSByZW5kZXJpbmcuXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZXgvaXNzdWVzLzE1MDVcbiAgcHVzaFRhcmdldCgpO1xuICB0cnkge1xuICAgIGlmICh2bSkge1xuICAgICAgdmFyIGN1ciA9IHZtO1xuICAgICAgd2hpbGUgKChjdXIgPSBjdXIuJHBhcmVudCkpIHtcbiAgICAgICAgdmFyIGhvb2tzID0gY3VyLiRvcHRpb25zLmVycm9yQ2FwdHVyZWQ7XG4gICAgICAgIGlmIChob29rcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciBjYXB0dXJlID0gaG9va3NbaV0uY2FsbChjdXIsIGVyciwgdm0sIGluZm8pID09PSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGNhcHR1cmUpIHsgcmV0dXJuIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgZ2xvYmFsSGFuZGxlRXJyb3IoZSwgY3VyLCAnZXJyb3JDYXB0dXJlZCBob29rJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGdsb2JhbEhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pO1xuICB9IGZpbmFsbHkge1xuICAgIHBvcFRhcmdldCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZVdpdGhFcnJvckhhbmRsaW5nIChcbiAgaGFuZGxlcixcbiAgY29udGV4dCxcbiAgYXJncyxcbiAgdm0sXG4gIGluZm9cbikge1xuICB2YXIgcmVzO1xuICB0cnkge1xuICAgIHJlcyA9IGFyZ3MgPyBoYW5kbGVyLmFwcGx5KGNvbnRleHQsIGFyZ3MpIDogaGFuZGxlci5jYWxsKGNvbnRleHQpO1xuICAgIGlmIChyZXMgJiYgIXJlcy5faXNWdWUgJiYgaXNQcm9taXNlKHJlcykgJiYgIXJlcy5faGFuZGxlZCkge1xuICAgICAgcmVzLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBoYW5kbGVFcnJvcihlLCB2bSwgaW5mbyArIFwiIChQcm9taXNlL2FzeW5jKVwiKTsgfSk7XG4gICAgICAvLyBpc3N1ZSAjOTUxMVxuICAgICAgLy8gYXZvaWQgY2F0Y2ggdHJpZ2dlcmluZyBtdWx0aXBsZSB0aW1lcyB3aGVuIG5lc3RlZCBjYWxsc1xuICAgICAgcmVzLl9oYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBoYW5kbGVFcnJvcihlLCB2bSwgaW5mbyk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnbG9iYWxIYW5kbGVFcnJvciAoZXJyLCB2bSwgaW5mbykge1xuICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGVyciwgdm0sIGluZm8pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gaWYgdGhlIHVzZXIgaW50ZW50aW9uYWxseSB0aHJvd3MgdGhlIG9yaWdpbmFsIGVycm9yIGluIHRoZSBoYW5kbGVyLFxuICAgICAgLy8gZG8gbm90IGxvZyBpdCB0d2ljZVxuICAgICAgaWYgKGUgIT09IGVycikge1xuICAgICAgICBsb2dFcnJvcihlLCBudWxsLCAnY29uZmlnLmVycm9ySGFuZGxlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsb2dFcnJvcihlcnIsIHZtLCBpbmZvKTtcbn1cblxuZnVuY3Rpb24gbG9nRXJyb3IgKGVyciwgdm0sIGluZm8pIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuKChcIkVycm9yIGluIFwiICsgaW5mbyArIFwiOiBcXFwiXCIgKyAoZXJyLnRvU3RyaW5nKCkpICsgXCJcXFwiXCIpLCB2bSk7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKChpbkJyb3dzZXIgfHwgaW5XZWV4KSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgZXJyXG4gIH1cbn1cblxuLyogICovXG5cbnZhciBpc1VzaW5nTWljcm9UYXNrID0gZmFsc2U7XG5cbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBwZW5kaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGZsdXNoQ2FsbGJhY2tzICgpIHtcbiAgcGVuZGluZyA9IGZhbHNlO1xuICB2YXIgY29waWVzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb3BpZXNbaV0oKTtcbiAgfVxufVxuXG4vLyBIZXJlIHdlIGhhdmUgYXN5bmMgZGVmZXJyaW5nIHdyYXBwZXJzIHVzaW5nIG1pY3JvdGFza3MuXG4vLyBJbiAyLjUgd2UgdXNlZCAobWFjcm8pIHRhc2tzIChpbiBjb21iaW5hdGlvbiB3aXRoIG1pY3JvdGFza3MpLlxuLy8gSG93ZXZlciwgaXQgaGFzIHN1YnRsZSBwcm9ibGVtcyB3aGVuIHN0YXRlIGlzIGNoYW5nZWQgcmlnaHQgYmVmb3JlIHJlcGFpbnRcbi8vIChlLmcuICM2ODEzLCBvdXQtaW4gdHJhbnNpdGlvbnMpLlxuLy8gQWxzbywgdXNpbmcgKG1hY3JvKSB0YXNrcyBpbiBldmVudCBoYW5kbGVyIHdvdWxkIGNhdXNlIHNvbWUgd2VpcmQgYmVoYXZpb3JzXG4vLyB0aGF0IGNhbm5vdCBiZSBjaXJjdW12ZW50ZWQgKGUuZy4gIzcxMDksICM3MTUzLCAjNzU0NiwgIzc4MzQsICM4MTA5KS5cbi8vIFNvIHdlIG5vdyB1c2UgbWljcm90YXNrcyBldmVyeXdoZXJlLCBhZ2Fpbi5cbi8vIEEgbWFqb3IgZHJhd2JhY2sgb2YgdGhpcyB0cmFkZW9mZiBpcyB0aGF0IHRoZXJlIGFyZSBzb21lIHNjZW5hcmlvc1xuLy8gd2hlcmUgbWljcm90YXNrcyBoYXZlIHRvbyBoaWdoIGEgcHJpb3JpdHkgYW5kIGZpcmUgaW4gYmV0d2VlbiBzdXBwb3NlZGx5XG4vLyBzZXF1ZW50aWFsIGV2ZW50cyAoZS5nLiAjNDUyMSwgIzY2OTAsIHdoaWNoIGhhdmUgd29ya2Fyb3VuZHMpXG4vLyBvciBldmVuIGJldHdlZW4gYnViYmxpbmcgb2YgdGhlIHNhbWUgZXZlbnQgKCM2NTY2KS5cbnZhciB0aW1lckZ1bmM7XG5cbi8vIFRoZSBuZXh0VGljayBiZWhhdmlvciBsZXZlcmFnZXMgdGhlIG1pY3JvdGFzayBxdWV1ZSwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXG4vLyB2aWEgZWl0aGVyIG5hdGl2ZSBQcm9taXNlLnRoZW4gb3IgTXV0YXRpb25PYnNlcnZlci5cbi8vIE11dGF0aW9uT2JzZXJ2ZXIgaGFzIHdpZGVyIHN1cHBvcnQsIGhvd2V2ZXIgaXQgaXMgc2VyaW91c2x5IGJ1Z2dlZCBpblxuLy8gVUlXZWJWaWV3IGluIGlPUyA+PSA5LjMuMyB3aGVuIHRyaWdnZXJlZCBpbiB0b3VjaCBldmVudCBoYW5kbGVycy4gSXRcbi8vIGNvbXBsZXRlbHkgc3RvcHMgd29ya2luZyBhZnRlciB0cmlnZ2VyaW5nIGEgZmV3IHRpbWVzLi4uIHNvLCBpZiBuYXRpdmVcbi8vIFByb21pc2UgaXMgYXZhaWxhYmxlLCB3ZSB3aWxsIHVzZSBpdDpcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0LCAkZmxvdy1kaXNhYmxlLWxpbmUgKi9cbmlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHtcbiAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHAudGhlbihmbHVzaENhbGxiYWNrcyk7XG4gICAgLy8gSW4gcHJvYmxlbWF0aWMgVUlXZWJWaWV3cywgUHJvbWlzZS50aGVuIGRvZXNuJ3QgY29tcGxldGVseSBicmVhaywgYnV0XG4gICAgLy8gaXQgY2FuIGdldCBzdHVjayBpbiBhIHdlaXJkIHN0YXRlIHdoZXJlIGNhbGxiYWNrcyBhcmUgcHVzaGVkIGludG8gdGhlXG4gICAgLy8gbWljcm90YXNrIHF1ZXVlIGJ1dCB0aGUgcXVldWUgaXNuJ3QgYmVpbmcgZmx1c2hlZCwgdW50aWwgdGhlIGJyb3dzZXJcbiAgICAvLyBuZWVkcyB0byBkbyBzb21lIG90aGVyIHdvcmssIGUuZy4gaGFuZGxlIGEgdGltZXIuIFRoZXJlZm9yZSB3ZSBjYW5cbiAgICAvLyBcImZvcmNlXCIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci5cbiAgICBpZiAoaXNJT1MpIHsgc2V0VGltZW91dChub29wKTsgfVxuICB9O1xuICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTtcbn0gZWxzZSBpZiAoIWlzSUUgJiYgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnICYmIChcbiAgaXNOYXRpdmUoTXV0YXRpb25PYnNlcnZlcikgfHxcbiAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54XG4gIE11dGF0aW9uT2JzZXJ2ZXIudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgTXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yXSdcbikpIHtcbiAgLy8gVXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSxcbiAgLy8gZS5nLiBQaGFudG9tSlMsIGlPUzcsIEFuZHJvaWQgNC40XG4gIC8vICgjNjQ2NiBNdXRhdGlvbk9ic2VydmVyIGlzIHVucmVsaWFibGUgaW4gSUUxMSlcbiAgdmFyIGNvdW50ZXIgPSAxO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaENhbGxiYWNrcyk7XG4gIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhjb3VudGVyKSk7XG4gIG9ic2VydmVyLm9ic2VydmUodGV4dE5vZGUsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gIH0pO1xuICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSAyO1xuICAgIHRleHROb2RlLmRhdGEgPSBTdHJpbmcoY291bnRlcik7XG4gIH07XG4gIGlzVXNpbmdNaWNyb1Rhc2sgPSB0cnVlO1xufSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShzZXRJbW1lZGlhdGUpKSB7XG4gIC8vIEZhbGxiYWNrIHRvIHNldEltbWVkaWF0ZS5cbiAgLy8gVGVjaGluaWNhbGx5IGl0IGxldmVyYWdlcyB0aGUgKG1hY3JvKSB0YXNrIHF1ZXVlLFxuICAvLyBidXQgaXQgaXMgc3RpbGwgYSBiZXR0ZXIgY2hvaWNlIHRoYW4gc2V0VGltZW91dC5cbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHNldEltbWVkaWF0ZShmbHVzaENhbGxiYWNrcyk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBGYWxsYmFjayB0byBzZXRUaW1lb3V0LlxuICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5leHRUaWNrIChjYiwgY3R4KSB7XG4gIHZhciBfcmVzb2x2ZTtcbiAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IuY2FsbChjdHgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVFcnJvcihlLCBjdHgsICduZXh0VGljaycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoX3Jlc29sdmUpIHtcbiAgICAgIF9yZXNvbHZlKGN0eCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFwZW5kaW5nKSB7XG4gICAgcGVuZGluZyA9IHRydWU7XG4gICAgdGltZXJGdW5jKCk7XG4gIH1cbiAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSlcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG1hcms7XG52YXIgbWVhc3VyZTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHBlcmYgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHBlcmYgJiZcbiAgICBwZXJmLm1hcmsgJiZcbiAgICBwZXJmLm1lYXN1cmUgJiZcbiAgICBwZXJmLmNsZWFyTWFya3MgJiZcbiAgICBwZXJmLmNsZWFyTWVhc3VyZXNcbiAgKSB7XG4gICAgbWFyayA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHBlcmYubWFyayh0YWcpOyB9O1xuICAgIG1lYXN1cmUgPSBmdW5jdGlvbiAobmFtZSwgc3RhcnRUYWcsIGVuZFRhZykge1xuICAgICAgcGVyZi5tZWFzdXJlKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICAgICAgLy8gcGVyZi5jbGVhck1lYXN1cmVzKG5hbWUpXG4gICAgfTtcbiAgfVxufVxuXG4vKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblxudmFyIGluaXRQcm94eTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcbiAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcbiAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG4gICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcbiAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuICApO1xuXG4gIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG4gICAgICAncmVmZXJlbmNlZCBkdXJpbmcgcmVuZGVyLiBNYWtlIHN1cmUgdGhhdCB0aGlzIHByb3BlcnR5IGlzIHJlYWN0aXZlLCAnICtcbiAgICAgICdlaXRoZXIgaW4gdGhlIGRhdGEgb3B0aW9uLCBvciBmb3IgY2xhc3MtYmFzZWQgY29tcG9uZW50cywgYnkgJyArXG4gICAgICAnaW5pdGlhbGl6aW5nIHRoZSBwcm9wZXJ0eS4gJyArXG4gICAgICAnU2VlOiBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9yZWFjdGl2aXR5Lmh0bWwjRGVjbGFyaW5nLVJlYWN0aXZlLVByb3BlcnRpZXMuJyxcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIHdhcm5SZXNlcnZlZFByZWZpeCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBtdXN0IGJlIGFjY2Vzc2VkIHdpdGggXFxcIiRkYXRhLlwiICsga2V5ICsgXCJcXFwiIGJlY2F1c2UgXCIgK1xuICAgICAgJ3Byb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBcIiRcIiBvciBcIl9cIiBhcmUgbm90IHByb3hpZWQgaW4gdGhlIFZ1ZSBpbnN0YW5jZSB0byAnICtcbiAgICAgICdwcmV2ZW50IGNvbmZsaWN0cyB3aXRoIFZ1ZSBpbnRlcm5hbHMnICtcbiAgICAgICdTZWU6IGh0dHBzOi8vdnVlanMub3JnL3YyL2FwaS8jZGF0YScsXG4gICAgICB0YXJnZXRcbiAgICApO1xuICB9O1xuXG4gIHZhciBoYXNQcm94eSA9XG4gICAgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShQcm94eSk7XG5cbiAgaWYgKGhhc1Byb3h5KSB7XG4gICAgdmFyIGlzQnVpbHRJbk1vZGlmaWVyID0gbWFrZU1hcCgnc3RvcCxwcmV2ZW50LHNlbGYsY3RybCxzaGlmdCxhbHQsbWV0YSxleGFjdCcpO1xuICAgIGNvbmZpZy5rZXlDb2RlcyA9IG5ldyBQcm94eShjb25maWcua2V5Q29kZXMsIHtcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0ICh0YXJnZXQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQnVpbHRJbk1vZGlmaWVyKGtleSkpIHtcbiAgICAgICAgICB3YXJuKChcIkF2b2lkIG92ZXJ3cml0aW5nIGJ1aWx0LWluIG1vZGlmaWVyIGluIGNvbmZpZy5rZXlDb2RlczogLlwiICsga2V5KSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgaGFzSGFuZGxlciA9IHtcbiAgICBoYXM6IGZ1bmN0aW9uIGhhcyAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIHZhciBoYXMgPSBrZXkgaW4gdGFyZ2V0O1xuICAgICAgdmFyIGlzQWxsb3dlZCA9IGFsbG93ZWRHbG9iYWxzKGtleSkgfHxcbiAgICAgICAgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleS5jaGFyQXQoMCkgPT09ICdfJyAmJiAhKGtleSBpbiB0YXJnZXQuJGRhdGEpKTtcbiAgICAgIGlmICghaGFzICYmICFpc0FsbG93ZWQpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQuJGRhdGEpIHsgd2FyblJlc2VydmVkUHJlZml4KHRhcmdldCwga2V5KTsgfVxuICAgICAgICBlbHNlIHsgd2Fybk5vblByZXNlbnQodGFyZ2V0LCBrZXkpOyB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzIHx8ICFpc0FsbG93ZWRcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldEhhbmRsZXIgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQgKHRhcmdldCwga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIShrZXkgaW4gdGFyZ2V0KSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSkgeyB3YXJuUmVzZXJ2ZWRQcmVmaXgodGFyZ2V0LCBrZXkpOyB9XG4gICAgICAgIGVsc2UgeyB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXRba2V5XVxuICAgIH1cbiAgfTtcblxuICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkgKHZtKSB7XG4gICAgaWYgKGhhc1Byb3h5KSB7XG4gICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2VcbiAgICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBvcHRpb25zLnJlbmRlciAmJiBvcHRpb25zLnJlbmRlci5fd2l0aFN0cmlwcGVkXG4gICAgICAgID8gZ2V0SGFuZGxlclxuICAgICAgICA6IGhhc0hhbmRsZXI7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSBuZXcgUHJveHkodm0sIGhhbmRsZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG4gICAgfVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIHNlZW5PYmplY3RzID0gbmV3IF9TZXQoKTtcblxuLyoqXG4gKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSBhbiBvYmplY3QgdG8gZXZva2UgYWxsIGNvbnZlcnRlZFxuICogZ2V0dGVycywgc28gdGhhdCBldmVyeSBuZXN0ZWQgcHJvcGVydHkgaW5zaWRlIHRoZSBvYmplY3RcbiAqIGlzIGNvbGxlY3RlZCBhcyBhIFwiZGVlcFwiIGRlcGVuZGVuY3kuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlICh2YWwpIHtcbiAgX3RyYXZlcnNlKHZhbCwgc2Vlbk9iamVjdHMpO1xuICBzZWVuT2JqZWN0cy5jbGVhcigpO1xufVxuXG5mdW5jdGlvbiBfdHJhdmVyc2UgKHZhbCwgc2Vlbikge1xuICB2YXIgaSwga2V5cztcbiAgdmFyIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKTtcbiAgaWYgKCghaXNBICYmICFpc09iamVjdCh2YWwpKSB8fCBPYmplY3QuaXNGcm96ZW4odmFsKSB8fCB2YWwgaW5zdGFuY2VvZiBWTm9kZSkge1xuICAgIHJldHVyblxuICB9XG4gIGlmICh2YWwuX19vYl9fKSB7XG4gICAgdmFyIGRlcElkID0gdmFsLl9fb2JfXy5kZXAuaWQ7XG4gICAgaWYgKHNlZW4uaGFzKGRlcElkKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNlZW4uYWRkKGRlcElkKTtcbiAgfVxuICBpZiAoaXNBKSB7XG4gICAgaSA9IHZhbC5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkgeyBfdHJhdmVyc2UodmFsW2ldLCBzZWVuKTsgfVxuICB9IGVsc2Uge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xuICAgIGkgPSBrZXlzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxba2V5c1tpXV0sIHNlZW4pOyB9XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBub3JtYWxpemVFdmVudCA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xuICB2YXIgcGFzc2l2ZSA9IG5hbWUuY2hhckF0KDApID09PSAnJic7XG4gIG5hbWUgPSBwYXNzaXZlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gIHZhciBvbmNlJCQxID0gbmFtZS5jaGFyQXQoMCkgPT09ICd+JzsgLy8gUHJlZml4ZWQgbGFzdCwgY2hlY2tlZCBmaXJzdFxuICBuYW1lID0gb25jZSQkMSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuICB2YXIgY2FwdHVyZSA9IG5hbWUuY2hhckF0KDApID09PSAnISc7XG4gIG5hbWUgPSBjYXB0dXJlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBvbmNlOiBvbmNlJCQxLFxuICAgIGNhcHR1cmU6IGNhcHR1cmUsXG4gICAgcGFzc2l2ZTogcGFzc2l2ZVxuICB9XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlRm5JbnZva2VyIChmbnMsIHZtKSB7XG4gIGZ1bmN0aW9uIGludm9rZXIgKCkge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIHZhciBmbnMgPSBpbnZva2VyLmZucztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmbnMpKSB7XG4gICAgICB2YXIgY2xvbmVkID0gZm5zLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhjbG9uZWRbaV0sIG51bGwsIGFyZ3VtZW50cyQxLCB2bSwgXCJ2LW9uIGhhbmRsZXJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJldHVybiBoYW5kbGVyIHJldHVybiB2YWx1ZSBmb3Igc2luZ2xlIGhhbmRsZXJzXG4gICAgICByZXR1cm4gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoZm5zLCBudWxsLCBhcmd1bWVudHMsIHZtLCBcInYtb24gaGFuZGxlclwiKVxuICAgIH1cbiAgfVxuICBpbnZva2VyLmZucyA9IGZucztcbiAgcmV0dXJuIGludm9rZXJcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzIChcbiAgb24sXG4gIG9sZE9uLFxuICBhZGQsXG4gIHJlbW92ZSQkMSxcbiAgY3JlYXRlT25jZUhhbmRsZXIsXG4gIHZtXG4pIHtcbiAgdmFyIG5hbWUsIGRlZiQkMSwgY3VyLCBvbGQsIGV2ZW50O1xuICBmb3IgKG5hbWUgaW4gb24pIHtcbiAgICBkZWYkJDEgPSBjdXIgPSBvbltuYW1lXTtcbiAgICBvbGQgPSBvbGRPbltuYW1lXTtcbiAgICBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KG5hbWUpO1xuICAgIGlmIChpc1VuZGVmKGN1cikpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJJbnZhbGlkIGhhbmRsZXIgZm9yIGV2ZW50IFxcXCJcIiArIChldmVudC5uYW1lKSArIFwiXFxcIjogZ290IFwiICsgU3RyaW5nKGN1ciksXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaXNVbmRlZihvbGQpKSB7XG4gICAgICBpZiAoaXNVbmRlZihjdXIuZm5zKSkge1xuICAgICAgICBjdXIgPSBvbltuYW1lXSA9IGNyZWF0ZUZuSW52b2tlcihjdXIsIHZtKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RydWUoZXZlbnQub25jZSkpIHtcbiAgICAgICAgY3VyID0gb25bbmFtZV0gPSBjcmVhdGVPbmNlSGFuZGxlcihldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUpO1xuICAgICAgfVxuICAgICAgYWRkKGV2ZW50Lm5hbWUsIGN1ciwgZXZlbnQuY2FwdHVyZSwgZXZlbnQucGFzc2l2ZSwgZXZlbnQucGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKGN1ciAhPT0gb2xkKSB7XG4gICAgICBvbGQuZm5zID0gY3VyO1xuICAgICAgb25bbmFtZV0gPSBvbGQ7XG4gICAgfVxuICB9XG4gIGZvciAobmFtZSBpbiBvbGRPbikge1xuICAgIGlmIChpc1VuZGVmKG9uW25hbWVdKSkge1xuICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTtcbiAgICAgIHJlbW92ZSQkMShldmVudC5uYW1lLCBvbGRPbltuYW1lXSwgZXZlbnQuY2FwdHVyZSk7XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBtZXJnZVZOb2RlSG9vayAoZGVmLCBob29rS2V5LCBob29rKSB7XG4gIGlmIChkZWYgaW5zdGFuY2VvZiBWTm9kZSkge1xuICAgIGRlZiA9IGRlZi5kYXRhLmhvb2sgfHwgKGRlZi5kYXRhLmhvb2sgPSB7fSk7XG4gIH1cbiAgdmFyIGludm9rZXI7XG4gIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldO1xuXG4gIGZ1bmN0aW9uIHdyYXBwZWRIb29rICgpIHtcbiAgICBob29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgLy8gaW1wb3J0YW50OiByZW1vdmUgbWVyZ2VkIGhvb2sgdG8gZW5zdXJlIGl0J3MgY2FsbGVkIG9ubHkgb25jZVxuICAgIC8vIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgcmVtb3ZlKGludm9rZXIuZm5zLCB3cmFwcGVkSG9vayk7XG4gIH1cblxuICBpZiAoaXNVbmRlZihvbGRIb29rKSkge1xuICAgIC8vIG5vIGV4aXN0aW5nIGhvb2tcbiAgICBpbnZva2VyID0gY3JlYXRlRm5JbnZva2VyKFt3cmFwcGVkSG9va10pO1xuICB9IGVsc2Uge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc0RlZihvbGRIb29rLmZucykgJiYgaXNUcnVlKG9sZEhvb2subWVyZ2VkKSkge1xuICAgICAgLy8gYWxyZWFkeSBhIG1lcmdlZCBpbnZva2VyXG4gICAgICBpbnZva2VyID0gb2xkSG9vaztcbiAgICAgIGludm9rZXIuZm5zLnB1c2god3JhcHBlZEhvb2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBleGlzdGluZyBwbGFpbiBob29rXG4gICAgICBpbnZva2VyID0gY3JlYXRlRm5JbnZva2VyKFtvbGRIb29rLCB3cmFwcGVkSG9va10pO1xuICAgIH1cbiAgfVxuXG4gIGludm9rZXIubWVyZ2VkID0gdHJ1ZTtcbiAgZGVmW2hvb2tLZXldID0gaW52b2tlcjtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGV4dHJhY3RQcm9wc0Zyb21WTm9kZURhdGEgKFxuICBkYXRhLFxuICBDdG9yLFxuICB0YWdcbikge1xuICAvLyB3ZSBhcmUgb25seSBleHRyYWN0aW5nIHJhdyB2YWx1ZXMgaGVyZS5cbiAgLy8gdmFsaWRhdGlvbiBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIGNoaWxkXG4gIC8vIGNvbXBvbmVudCBpdHNlbGYuXG4gIHZhciBwcm9wT3B0aW9ucyA9IEN0b3Iub3B0aW9ucy5wcm9wcztcbiAgaWYgKGlzVW5kZWYocHJvcE9wdGlvbnMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzO1xuICB2YXIgcHJvcHMgPSBkYXRhLnByb3BzO1xuICBpZiAoaXNEZWYoYXR0cnMpIHx8IGlzRGVmKHByb3BzKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuICAgICAgdmFyIGFsdEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIGtleUluTG93ZXJDYXNlID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBrZXkgIT09IGtleUluTG93ZXJDYXNlICYmXG4gICAgICAgICAgYXR0cnMgJiYgaGFzT3duKGF0dHJzLCBrZXlJbkxvd2VyQ2FzZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGlwKFxuICAgICAgICAgICAgXCJQcm9wIFxcXCJcIiArIGtleUluTG93ZXJDYXNlICsgXCJcXFwiIGlzIHBhc3NlZCB0byBjb21wb25lbnQgXCIgK1xuICAgICAgICAgICAgKGZvcm1hdENvbXBvbmVudE5hbWUodGFnIHx8IEN0b3IpKSArIFwiLCBidXQgdGhlIGRlY2xhcmVkIHByb3AgbmFtZSBpc1wiICtcbiAgICAgICAgICAgIFwiIFxcXCJcIiArIGtleSArIFwiXFxcIi4gXCIgK1xuICAgICAgICAgICAgXCJOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCBjYW1lbENhc2VkIFwiICtcbiAgICAgICAgICAgIFwicHJvcHMgbmVlZCB0byB1c2UgdGhlaXIga2ViYWItY2FzZSBlcXVpdmFsZW50cyB3aGVuIHVzaW5nIGluLURPTSBcIiArXG4gICAgICAgICAgICBcInRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXFxcIlwiICsgYWx0S2V5ICsgXCJcXFwiIGluc3RlYWQgb2YgXFxcIlwiICsga2V5ICsgXCJcXFwiLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hlY2tQcm9wKHJlcywgcHJvcHMsIGtleSwgYWx0S2V5LCB0cnVlKSB8fFxuICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5LCBmYWxzZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gY2hlY2tQcm9wIChcbiAgcmVzLFxuICBoYXNoLFxuICBrZXksXG4gIGFsdEtleSxcbiAgcHJlc2VydmVcbikge1xuICBpZiAoaXNEZWYoaGFzaCkpIHtcbiAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHtcbiAgICAgIHJlc1trZXldID0gaGFzaFtrZXldO1xuICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgICAgICBkZWxldGUgaGFzaFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGhhc2hbYWx0S2V5XTtcbiAgICAgIGlmICghcHJlc2VydmUpIHtcbiAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKiAgKi9cblxuLy8gVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGF0dGVtcHRzIHRvIG1pbmltaXplIHRoZSBuZWVkIGZvciBub3JtYWxpemF0aW9uIGJ5XG4vLyBzdGF0aWNhbGx5IGFuYWx5emluZyB0aGUgdGVtcGxhdGUgYXQgY29tcGlsZSB0aW1lLlxuLy9cbi8vIEZvciBwbGFpbiBIVE1MIG1hcmt1cCwgbm9ybWFsaXphdGlvbiBjYW4gYmUgY29tcGxldGVseSBza2lwcGVkIGJlY2F1c2UgdGhlXG4vLyBnZW5lcmF0ZWQgcmVuZGVyIGZ1bmN0aW9uIGlzIGd1YXJhbnRlZWQgdG8gcmV0dXJuIEFycmF5PFZOb2RlPi4gVGhlcmUgYXJlXG4vLyB0d28gY2FzZXMgd2hlcmUgZXh0cmEgbm9ybWFsaXphdGlvbiBpcyBuZWVkZWQ6XG5cbi8vIDEuIFdoZW4gdGhlIGNoaWxkcmVuIGNvbnRhaW5zIGNvbXBvbmVudHMgLSBiZWNhdXNlIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbi8vIG1heSByZXR1cm4gYW4gQXJyYXkgaW5zdGVhZCBvZiBhIHNpbmdsZSByb290LiBJbiB0aGlzIGNhc2UsIGp1c3QgYSBzaW1wbGVcbi8vIG5vcm1hbGl6YXRpb24gaXMgbmVlZGVkIC0gaWYgYW55IGNoaWxkIGlzIGFuIEFycmF5LCB3ZSBmbGF0dGVuIHRoZSB3aG9sZVxuLy8gdGhpbmcgd2l0aCBBcnJheS5wcm90b3R5cGUuY29uY2F0LiBJdCBpcyBndWFyYW50ZWVkIHRvIGJlIG9ubHkgMS1sZXZlbCBkZWVwXG4vLyBiZWNhdXNlIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBhbHJlYWR5IG5vcm1hbGl6ZSB0aGVpciBvd24gY2hpbGRyZW4uXG5mdW5jdGlvbiBzaW1wbGVOb3JtYWxpemVDaGlsZHJlbiAoY2hpbGRyZW4pIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuW2ldKSkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGNoaWxkcmVuKVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGRyZW5cbn1cblxuLy8gMi4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29uc3RydWN0cyB0aGF0IGFsd2F5cyBnZW5lcmF0ZWQgbmVzdGVkIEFycmF5cyxcbi8vIGUuZy4gPHRlbXBsYXRlPiwgPHNsb3Q+LCB2LWZvciwgb3Igd2hlbiB0aGUgY2hpbGRyZW4gaXMgcHJvdmlkZWQgYnkgdXNlclxuLy8gd2l0aCBoYW5kLXdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9ucyAvIEpTWC4gSW4gc3VjaCBjYXNlcyBhIGZ1bGwgbm9ybWFsaXphdGlvblxuLy8gaXMgbmVlZGVkIHRvIGNhdGVyIHRvIGFsbCBwb3NzaWJsZSB0eXBlcyBvZiBjaGlsZHJlbiB2YWx1ZXMuXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbiAoY2hpbGRyZW4pIHtcbiAgcmV0dXJuIGlzUHJpbWl0aXZlKGNoaWxkcmVuKVxuICAgID8gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildXG4gICAgOiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKVxuICAgICAgPyBub3JtYWxpemVBcnJheUNoaWxkcmVuKGNoaWxkcmVuKVxuICAgICAgOiB1bmRlZmluZWRcbn1cblxuZnVuY3Rpb24gaXNUZXh0Tm9kZSAobm9kZSkge1xuICByZXR1cm4gaXNEZWYobm9kZSkgJiYgaXNEZWYobm9kZS50ZXh0KSAmJiBpc0ZhbHNlKG5vZGUuaXNDb21tZW50KVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheUNoaWxkcmVuIChjaGlsZHJlbiwgbmVzdGVkSW5kZXgpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICB2YXIgaSwgYywgbGFzdEluZGV4LCBsYXN0O1xuICBmb3IgKGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGlzVW5kZWYoYykgfHwgdHlwZW9mIGMgPT09ICdib29sZWFuJykgeyBjb250aW51ZSB9XG4gICAgbGFzdEluZGV4ID0gcmVzLmxlbmd0aCAtIDE7XG4gICAgbGFzdCA9IHJlc1tsYXN0SW5kZXhdO1xuICAgIC8vICBuZXN0ZWRcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjKSkge1xuICAgICAgaWYgKGMubGVuZ3RoID4gMCkge1xuICAgICAgICBjID0gbm9ybWFsaXplQXJyYXlDaGlsZHJlbihjLCAoKG5lc3RlZEluZGV4IHx8ICcnKSArIFwiX1wiICsgaSkpO1xuICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzXG4gICAgICAgIGlmIChpc1RleHROb2RlKGNbMF0pICYmIGlzVGV4dE5vZGUobGFzdCkpIHtcbiAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyAoY1swXSkudGV4dCk7XG4gICAgICAgICAgYy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoLmFwcGx5KHJlcywgYyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZShjKSkge1xuICAgICAgaWYgKGlzVGV4dE5vZGUobGFzdCkpIHtcbiAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2Rlc1xuICAgICAgICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgU1NSIGh5ZHJhdGlvbiBiZWNhdXNlIHRleHQgbm9kZXMgYXJlXG4gICAgICAgIC8vIGVzc2VudGlhbGx5IG1lcmdlZCB3aGVuIHJlbmRlcmVkIHRvIEhUTUwgc3RyaW5nc1xuICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjKTtcbiAgICAgIH0gZWxzZSBpZiAoYyAhPT0gJycpIHtcbiAgICAgICAgLy8gY29udmVydCBwcmltaXRpdmUgdG8gdm5vZGVcbiAgICAgICAgcmVzLnB1c2goY3JlYXRlVGV4dFZOb2RlKGMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzVGV4dE5vZGUoYykgJiYgaXNUZXh0Tm9kZShsYXN0KSkge1xuICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzXG4gICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIGMudGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWZhdWx0IGtleSBmb3IgbmVzdGVkIGFycmF5IGNoaWxkcmVuIChsaWtlbHkgZ2VuZXJhdGVkIGJ5IHYtZm9yKVxuICAgICAgICBpZiAoaXNUcnVlKGNoaWxkcmVuLl9pc1ZMaXN0KSAmJlxuICAgICAgICAgIGlzRGVmKGMudGFnKSAmJlxuICAgICAgICAgIGlzVW5kZWYoYy5rZXkpICYmXG4gICAgICAgICAgaXNEZWYobmVzdGVkSW5kZXgpKSB7XG4gICAgICAgICAgYy5rZXkgPSBcIl9fdmxpc3RcIiArIG5lc3RlZEluZGV4ICsgXCJfXCIgKyBpICsgXCJfX1wiO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoKGMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0UHJvdmlkZSAodm0pIHtcbiAgdmFyIHByb3ZpZGUgPSB2bS4kb3B0aW9ucy5wcm92aWRlO1xuICBpZiAocHJvdmlkZSkge1xuICAgIHZtLl9wcm92aWRlZCA9IHR5cGVvZiBwcm92aWRlID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHByb3ZpZGUuY2FsbCh2bSlcbiAgICAgIDogcHJvdmlkZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0SW5qZWN0aW9ucyAodm0pIHtcbiAgdmFyIHJlc3VsdCA9IHJlc29sdmVJbmplY3Qodm0uJG9wdGlvbnMuaW5qZWN0LCB2bSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpO1xuICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sIGtleSwgcmVzdWx0W2tleV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgXCJBdm9pZCBtdXRhdGluZyBhbiBpbmplY3RlZCB2YWx1ZSBkaXJlY3RseSBzaW5jZSB0aGUgY2hhbmdlcyB3aWxsIGJlIFwiICtcbiAgICAgICAgICAgIFwib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHByb3ZpZGVkIGNvbXBvbmVudCByZS1yZW5kZXJzLiBcIiArXG4gICAgICAgICAgICBcImluamVjdGlvbiBiZWluZyBtdXRhdGVkOiBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIixcbiAgICAgICAgICAgIHZtXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCByZXN1bHRba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3QgKGluamVjdCwgdm0pIHtcbiAgaWYgKGluamVjdCkge1xuICAgIC8vIGluamVjdCBpcyA6YW55IGJlY2F1c2UgZmxvdyBpcyBub3Qgc21hcnQgZW5vdWdoIHRvIGZpZ3VyZSBvdXQgY2FjaGVkXG4gICAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdmFyIGtleXMgPSBoYXNTeW1ib2xcbiAgICAgID8gUmVmbGVjdC5vd25LZXlzKGluamVjdClcbiAgICAgIDogT2JqZWN0LmtleXMoaW5qZWN0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAvLyAjNjU3NCBpbiBjYXNlIHRoZSBpbmplY3Qgb2JqZWN0IGlzIG9ic2VydmVkLi4uXG4gICAgICBpZiAoa2V5ID09PSAnX19vYl9fJykgeyBjb250aW51ZSB9XG4gICAgICB2YXIgcHJvdmlkZUtleSA9IGluamVjdFtrZXldLmZyb207XG4gICAgICB2YXIgc291cmNlID0gdm07XG4gICAgICB3aGlsZSAoc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuX3Byb3ZpZGVkICYmIGhhc093bihzb3VyY2UuX3Byb3ZpZGVkLCBwcm92aWRlS2V5KSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gc291cmNlLl9wcm92aWRlZFtwcm92aWRlS2V5XTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZS4kcGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgaWYgKCdkZWZhdWx0JyBpbiBpbmplY3Rba2V5XSkge1xuICAgICAgICAgIHZhciBwcm92aWRlRGVmYXVsdCA9IGluamVjdFtrZXldLmRlZmF1bHQ7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSB0eXBlb2YgcHJvdmlkZURlZmF1bHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gcHJvdmlkZURlZmF1bHQuY2FsbCh2bSlcbiAgICAgICAgICAgIDogcHJvdmlkZURlZmF1bHQ7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm4oKFwiSW5qZWN0aW9uIFxcXCJcIiArIGtleSArIFwiXFxcIiBub3QgZm91bmRcIiksIHZtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuLyogICovXG5cblxuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgcmF3IGNoaWxkcmVuIFZOb2RlcyBpbnRvIGEgc2xvdCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVTbG90cyAoXG4gIGNoaWxkcmVuLFxuICBjb250ZXh0XG4pIHtcbiAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cbiAgdmFyIHNsb3RzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgdmFyIGRhdGEgPSBjaGlsZC5kYXRhO1xuICAgIC8vIHJlbW92ZSBzbG90IGF0dHJpYnV0ZSBpZiB0aGUgbm9kZSBpcyByZXNvbHZlZCBhcyBhIFZ1ZSBzbG90IG5vZGVcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmF0dHJzICYmIGRhdGEuYXR0cnMuc2xvdCkge1xuICAgICAgZGVsZXRlIGRhdGEuYXR0cnMuc2xvdDtcbiAgICB9XG4gICAgLy8gbmFtZWQgc2xvdHMgc2hvdWxkIG9ubHkgYmUgcmVzcGVjdGVkIGlmIHRoZSB2bm9kZSB3YXMgcmVuZGVyZWQgaW4gdGhlXG4gICAgLy8gc2FtZSBjb250ZXh0LlxuICAgIGlmICgoY2hpbGQuY29udGV4dCA9PT0gY29udGV4dCB8fCBjaGlsZC5mbkNvbnRleHQgPT09IGNvbnRleHQpICYmXG4gICAgICBkYXRhICYmIGRhdGEuc2xvdCAhPSBudWxsXG4gICAgKSB7XG4gICAgICB2YXIgbmFtZSA9IGRhdGEuc2xvdDtcbiAgICAgIHZhciBzbG90ID0gKHNsb3RzW25hbWVdIHx8IChzbG90c1tuYW1lXSA9IFtdKSk7XG4gICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgIHNsb3QucHVzaC5hcHBseShzbG90LCBjaGlsZC5jaGlsZHJlbiB8fCBbXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAoc2xvdHMuZGVmYXVsdCB8fCAoc2xvdHMuZGVmYXVsdCA9IFtdKSkucHVzaChjaGlsZCk7XG4gICAgfVxuICB9XG4gIC8vIGlnbm9yZSBzbG90cyB0aGF0IGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZVxuICBmb3IgKHZhciBuYW1lJDEgaW4gc2xvdHMpIHtcbiAgICBpZiAoc2xvdHNbbmFtZSQxXS5ldmVyeShpc1doaXRlc3BhY2UpKSB7XG4gICAgICBkZWxldGUgc2xvdHNbbmFtZSQxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNsb3RzXG59XG5cbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZSAobm9kZSkge1xuICByZXR1cm4gKG5vZGUuaXNDb21tZW50ICYmICFub2RlLmFzeW5jRmFjdG9yeSkgfHwgbm9kZS50ZXh0ID09PSAnICdcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3BlZFNsb3RzIChcbiAgc2xvdHMsXG4gIG5vcm1hbFNsb3RzLFxuICBwcmV2U2xvdHNcbikge1xuICB2YXIgcmVzO1xuICB2YXIgaGFzTm9ybWFsU2xvdHMgPSBPYmplY3Qua2V5cyhub3JtYWxTbG90cykubGVuZ3RoID4gMDtcbiAgdmFyIGlzU3RhYmxlID0gc2xvdHMgPyAhIXNsb3RzLiRzdGFibGUgOiAhaGFzTm9ybWFsU2xvdHM7XG4gIHZhciBrZXkgPSBzbG90cyAmJiBzbG90cy4ka2V5O1xuICBpZiAoIXNsb3RzKSB7XG4gICAgcmVzID0ge307XG4gIH0gZWxzZSBpZiAoc2xvdHMuX25vcm1hbGl6ZWQpIHtcbiAgICAvLyBmYXN0IHBhdGggMTogY2hpbGQgY29tcG9uZW50IHJlLXJlbmRlciBvbmx5LCBwYXJlbnQgZGlkIG5vdCBjaGFuZ2VcbiAgICByZXR1cm4gc2xvdHMuX25vcm1hbGl6ZWRcbiAgfSBlbHNlIGlmIChcbiAgICBpc1N0YWJsZSAmJlxuICAgIHByZXZTbG90cyAmJlxuICAgIHByZXZTbG90cyAhPT0gZW1wdHlPYmplY3QgJiZcbiAgICBrZXkgPT09IHByZXZTbG90cy4ka2V5ICYmXG4gICAgIWhhc05vcm1hbFNsb3RzICYmXG4gICAgIXByZXZTbG90cy4kaGFzTm9ybWFsXG4gICkge1xuICAgIC8vIGZhc3QgcGF0aCAyOiBzdGFibGUgc2NvcGVkIHNsb3RzIHcvIG5vIG5vcm1hbCBzbG90cyB0byBwcm94eSxcbiAgICAvLyBvbmx5IG5lZWQgdG8gbm9ybWFsaXplIG9uY2VcbiAgICByZXR1cm4gcHJldlNsb3RzXG4gIH0gZWxzZSB7XG4gICAgcmVzID0ge307XG4gICAgZm9yICh2YXIga2V5JDEgaW4gc2xvdHMpIHtcbiAgICAgIGlmIChzbG90c1trZXkkMV0gJiYga2V5JDFbMF0gIT09ICckJykge1xuICAgICAgICByZXNba2V5JDFdID0gbm9ybWFsaXplU2NvcGVkU2xvdChub3JtYWxTbG90cywga2V5JDEsIHNsb3RzW2tleSQxXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGV4cG9zZSBub3JtYWwgc2xvdHMgb24gc2NvcGVkU2xvdHNcbiAgZm9yICh2YXIga2V5JDIgaW4gbm9ybWFsU2xvdHMpIHtcbiAgICBpZiAoIShrZXkkMiBpbiByZXMpKSB7XG4gICAgICByZXNba2V5JDJdID0gcHJveHlOb3JtYWxTbG90KG5vcm1hbFNsb3RzLCBrZXkkMik7XG4gICAgfVxuICB9XG4gIC8vIGF2b3JpYXogc2VlbXMgdG8gbW9jayBhIG5vbi1leHRlbnNpYmxlICRzY29wZWRTbG90cyBvYmplY3RcbiAgLy8gYW5kIHdoZW4gdGhhdCBpcyBwYXNzZWQgZG93biB0aGlzIHdvdWxkIGNhdXNlIGFuIGVycm9yXG4gIGlmIChzbG90cyAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHNsb3RzKSkge1xuICAgIChzbG90cykuX25vcm1hbGl6ZWQgPSByZXM7XG4gIH1cbiAgZGVmKHJlcywgJyRzdGFibGUnLCBpc1N0YWJsZSk7XG4gIGRlZihyZXMsICcka2V5Jywga2V5KTtcbiAgZGVmKHJlcywgJyRoYXNOb3JtYWwnLCBoYXNOb3JtYWxTbG90cyk7XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdChub3JtYWxTbG90cywga2V5LCBmbikge1xuICB2YXIgbm9ybWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzID0gYXJndW1lbnRzLmxlbmd0aCA/IGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgOiBmbih7fSk7XG4gICAgcmVzID0gcmVzICYmIHR5cGVvZiByZXMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJlcylcbiAgICAgID8gW3Jlc10gLy8gc2luZ2xlIHZub2RlXG4gICAgICA6IG5vcm1hbGl6ZUNoaWxkcmVuKHJlcyk7XG4gICAgcmV0dXJuIHJlcyAmJiAoXG4gICAgICByZXMubGVuZ3RoID09PSAwIHx8XG4gICAgICAocmVzLmxlbmd0aCA9PT0gMSAmJiByZXNbMF0uaXNDb21tZW50KSAvLyAjOTY1OFxuICAgICkgPyB1bmRlZmluZWRcbiAgICAgIDogcmVzXG4gIH07XG4gIC8vIHRoaXMgaXMgYSBzbG90IHVzaW5nIHRoZSBuZXcgdi1zbG90IHN5bnRheCB3aXRob3V0IHNjb3BlLiBhbHRob3VnaCBpdCBpc1xuICAvLyBjb21waWxlZCBhcyBhIHNjb3BlZCBzbG90LCByZW5kZXIgZm4gdXNlcnMgd291bGQgZXhwZWN0IGl0IHRvIGJlIHByZXNlbnRcbiAgLy8gb24gdGhpcy4kc2xvdHMgYmVjYXVzZSB0aGUgdXNhZ2UgaXMgc2VtYW50aWNhbGx5IGEgbm9ybWFsIHNsb3QuXG4gIGlmIChmbi5wcm94eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub3JtYWxTbG90cywga2V5LCB7XG4gICAgICBnZXQ6IG5vcm1hbGl6ZWQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWRcbn1cblxuZnVuY3Rpb24gcHJveHlOb3JtYWxTbG90KHNsb3RzLCBrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNsb3RzW2tleV07IH1cbn1cblxuLyogICovXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyB2LWZvciBsaXN0cy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGlzdCAoXG4gIHZhbCxcbiAgcmVuZGVyXG4pIHtcbiAgdmFyIHJldCwgaSwgbCwga2V5cywga2V5O1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0ID0gbmV3IEFycmF5KHZhbC5sZW5ndGgpO1xuICAgIGZvciAoaSA9IDAsIGwgPSB2YWwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICByZXQgPSBuZXcgQXJyYXkodmFsKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdmFsOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlcihpICsgMSwgaSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICBpZiAoaGFzU3ltYm9sICYmIHZhbFtTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICByZXQgPSBbXTtcbiAgICAgIHZhciBpdGVyYXRvciA9IHZhbFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICByZXQucHVzaChyZW5kZXIocmVzdWx0LnZhbHVlLCByZXQubGVuZ3RoKSk7XG4gICAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG4gICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICAgICAgZm9yIChpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxba2V5XSwga2V5LCBpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc0RlZihyZXQpKSB7XG4gICAgcmV0ID0gW107XG4gIH1cbiAgKHJldCkuX2lzVkxpc3QgPSB0cnVlO1xuICByZXR1cm4gcmV0XG59XG5cbi8qICAqL1xuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgPHNsb3Q+XG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNsb3QgKFxuICBuYW1lLFxuICBmYWxsYmFjayxcbiAgcHJvcHMsXG4gIGJpbmRPYmplY3Rcbikge1xuICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07XG4gIHZhciBub2RlcztcbiAgaWYgKHNjb3BlZFNsb3RGbikgeyAvLyBzY29wZWQgc2xvdFxuICAgIHByb3BzID0gcHJvcHMgfHwge307XG4gICAgaWYgKGJpbmRPYmplY3QpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc09iamVjdChiaW5kT2JqZWN0KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdzbG90IHYtYmluZCB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0JyxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBwcm9wcyA9IGV4dGVuZChleHRlbmQoe30sIGJpbmRPYmplY3QpLCBwcm9wcyk7XG4gICAgfVxuICAgIG5vZGVzID0gc2NvcGVkU2xvdEZuKHByb3BzKSB8fCBmYWxsYmFjaztcbiAgfSBlbHNlIHtcbiAgICBub2RlcyA9IHRoaXMuJHNsb3RzW25hbWVdIHx8IGZhbGxiYWNrO1xuICB9XG5cbiAgdmFyIHRhcmdldCA9IHByb3BzICYmIHByb3BzLnNsb3Q7XG4gIGlmICh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7IHNsb3Q6IHRhcmdldCB9LCBub2RlcylcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZXNcbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVzb2x2aW5nIGZpbHRlcnNcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUZpbHRlciAoaWQpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaXNLZXlOb3RNYXRjaCAoZXhwZWN0LCBhY3R1YWwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZXhwZWN0KSkge1xuICAgIHJldHVybiBleHBlY3QuaW5kZXhPZihhY3R1YWwpID09PSAtMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBleHBlY3QgIT09IGFjdHVhbFxuICB9XG59XG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIGNoZWNraW5nIGtleUNvZGVzIGZyb20gY29uZmlnLlxuICogZXhwb3NlZCBhcyBWdWUucHJvdG90eXBlLl9rXG4gKiBwYXNzaW5nIGluIGV2ZW50S2V5TmFtZSBhcyBsYXN0IGFyZ3VtZW50IHNlcGFyYXRlbHkgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAqL1xuZnVuY3Rpb24gY2hlY2tLZXlDb2RlcyAoXG4gIGV2ZW50S2V5Q29kZSxcbiAga2V5LFxuICBidWlsdEluS2V5Q29kZSxcbiAgZXZlbnRLZXlOYW1lLFxuICBidWlsdEluS2V5TmFtZVxuKSB7XG4gIHZhciBtYXBwZWRLZXlDb2RlID0gY29uZmlnLmtleUNvZGVzW2tleV0gfHwgYnVpbHRJbktleUNvZGU7XG4gIGlmIChidWlsdEluS2V5TmFtZSAmJiBldmVudEtleU5hbWUgJiYgIWNvbmZpZy5rZXlDb2Rlc1trZXldKSB7XG4gICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSlcbiAgfSBlbHNlIGlmIChtYXBwZWRLZXlDb2RlKSB7XG4gICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2gobWFwcGVkS2V5Q29kZSwgZXZlbnRLZXlDb2RlKVxuICB9IGVsc2UgaWYgKGV2ZW50S2V5TmFtZSkge1xuICAgIHJldHVybiBoeXBoZW5hdGUoZXZlbnRLZXlOYW1lKSAhPT0ga2V5XG4gIH1cbn1cblxuLyogICovXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIG1lcmdpbmcgdi1iaW5kPVwib2JqZWN0XCIgaW50byBhIFZOb2RlJ3MgZGF0YS5cbiAqL1xuZnVuY3Rpb24gYmluZE9iamVjdFByb3BzIChcbiAgZGF0YSxcbiAgdGFnLFxuICB2YWx1ZSxcbiAgYXNQcm9wLFxuICBpc1N5bmNcbikge1xuICBpZiAodmFsdWUpIHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICAndi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3Qgb3IgQXJyYXkgdmFsdWUnLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB0b09iamVjdCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YXIgaGFzaDtcbiAgICAgIHZhciBsb29wID0gZnVuY3Rpb24gKCBrZXkgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBrZXkgPT09ICdjbGFzcycgfHxcbiAgICAgICAgICBrZXkgPT09ICdzdHlsZScgfHxcbiAgICAgICAgICBpc1Jlc2VydmVkQXR0cmlidXRlKGtleSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGFzaCA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmF0dHJzICYmIGRhdGEuYXR0cnMudHlwZTtcbiAgICAgICAgICBoYXNoID0gYXNQcm9wIHx8IGNvbmZpZy5tdXN0VXNlUHJvcCh0YWcsIHR5cGUsIGtleSlcbiAgICAgICAgICAgID8gZGF0YS5kb21Qcm9wcyB8fCAoZGF0YS5kb21Qcm9wcyA9IHt9KVxuICAgICAgICAgICAgOiBkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICB2YXIgaHlwaGVuYXRlZEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgICBpZiAoIShjYW1lbGl6ZWRLZXkgaW4gaGFzaCkgJiYgIShoeXBoZW5hdGVkS2V5IGluIGhhc2gpKSB7XG4gICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTtcblxuICAgICAgICAgIGlmIChpc1N5bmMpIHtcbiAgICAgICAgICAgIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XG4gICAgICAgICAgICBvblsoXCJ1cGRhdGU6XCIgKyBrZXkpXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgdmFsdWVba2V5XSA9ICRldmVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIGxvb3AoIGtleSApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHN0YXRpYyB0cmVlcy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RhdGljIChcbiAgaW5kZXgsXG4gIGlzSW5Gb3Jcbikge1xuICB2YXIgY2FjaGVkID0gdGhpcy5fc3RhdGljVHJlZXMgfHwgKHRoaXMuX3N0YXRpY1RyZWVzID0gW10pO1xuICB2YXIgdHJlZSA9IGNhY2hlZFtpbmRleF07XG4gIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLFxuICAvLyB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgdHJlZS5cbiAgaWYgKHRyZWUgJiYgIWlzSW5Gb3IpIHtcbiAgICByZXR1cm4gdHJlZVxuICB9XG4gIC8vIG90aGVyd2lzZSwgcmVuZGVyIGEgZnJlc2ggdHJlZS5cbiAgdHJlZSA9IGNhY2hlZFtpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbChcbiAgICB0aGlzLl9yZW5kZXJQcm94eSxcbiAgICBudWxsLFxuICAgIHRoaXMgLy8gZm9yIHJlbmRlciBmbnMgZ2VuZXJhdGVkIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudCB0ZW1wbGF0ZXNcbiAgKTtcbiAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX3N0YXRpY19fXCIgKyBpbmRleCksIGZhbHNlKTtcbiAgcmV0dXJuIHRyZWVcbn1cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3Igdi1vbmNlLlxuICogRWZmZWN0aXZlbHkgaXQgbWVhbnMgbWFya2luZyB0aGUgbm9kZSBhcyBzdGF0aWMgd2l0aCBhIHVuaXF1ZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIG1hcmtPbmNlIChcbiAgdHJlZSxcbiAgaW5kZXgsXG4gIGtleVxuKSB7XG4gIG1hcmtTdGF0aWModHJlZSwgKFwiX19vbmNlX19cIiArIGluZGV4ICsgKGtleSA/IChcIl9cIiArIGtleSkgOiBcIlwiKSksIHRydWUpO1xuICByZXR1cm4gdHJlZVxufVxuXG5mdW5jdGlvbiBtYXJrU3RhdGljIChcbiAgdHJlZSxcbiAga2V5LFxuICBpc09uY2Vcbikge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRyZWVbaV0gJiYgdHlwZW9mIHRyZWVbaV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyBcIl9cIiArIGkpLCBpc09uY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtYXJrU3RhdGljTm9kZSh0cmVlLCBrZXksIGlzT25jZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya1N0YXRpY05vZGUgKG5vZGUsIGtleSwgaXNPbmNlKSB7XG4gIG5vZGUuaXNTdGF0aWMgPSB0cnVlO1xuICBub2RlLmtleSA9IGtleTtcbiAgbm9kZS5pc09uY2UgPSBpc09uY2U7XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBiaW5kT2JqZWN0TGlzdGVuZXJzIChkYXRhLCB2YWx1ZSkge1xuICBpZiAodmFsdWUpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICd2LW9uIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QgdmFsdWUnLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb24gPSBkYXRhLm9uID0gZGF0YS5vbiA/IGV4dGVuZCh7fSwgZGF0YS5vbikgOiB7fTtcbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSBvbltrZXldO1xuICAgICAgICB2YXIgb3VycyA9IHZhbHVlW2tleV07XG4gICAgICAgIG9uW2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgb3VycykgOiBvdXJzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gcmVzb2x2ZVNjb3BlZFNsb3RzIChcbiAgZm5zLCAvLyBzZWUgZmxvdy92bm9kZVxuICByZXMsXG4gIC8vIHRoZSBmb2xsb3dpbmcgYXJlIGFkZGVkIGluIDIuNlxuICBoYXNEeW5hbWljS2V5cyxcbiAgY29udGVudEhhc2hLZXlcbikge1xuICByZXMgPSByZXMgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2xvdCA9IGZuc1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbG90KSkge1xuICAgICAgcmVzb2x2ZVNjb3BlZFNsb3RzKHNsb3QsIHJlcywgaGFzRHluYW1pY0tleXMpO1xuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgLy8gbWFya2VyIGZvciByZXZlcnNlIHByb3h5aW5nIHYtc2xvdCB3aXRob3V0IHNjb3BlIG9uIHRoaXMuJHNsb3RzXG4gICAgICBpZiAoc2xvdC5wcm94eSkge1xuICAgICAgICBzbG90LmZuLnByb3h5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlc1tzbG90LmtleV0gPSBzbG90LmZuO1xuICAgIH1cbiAgfVxuICBpZiAoY29udGVudEhhc2hLZXkpIHtcbiAgICAocmVzKS4ka2V5ID0gY29udGVudEhhc2hLZXk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gYmluZER5bmFtaWNLZXlzIChiYXNlT2JqLCB2YWx1ZXMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICB2YXIga2V5ID0gdmFsdWVzW2ldO1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkpIHtcbiAgICAgIGJhc2VPYmpbdmFsdWVzW2ldXSA9IHZhbHVlc1tpICsgMV07XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGtleSAhPT0gJycgJiYga2V5ICE9PSBudWxsKSB7XG4gICAgICAvLyBudWxsIGlzIGEgc3BlaWNhbCB2YWx1ZSBmb3IgZXhwbGljaXRseSByZW1vdmluZyBhIGJpbmRpbmdcbiAgICAgIHdhcm4oXG4gICAgICAgIChcIkludmFsaWQgdmFsdWUgZm9yIGR5bmFtaWMgZGlyZWN0aXZlIGFyZ3VtZW50IChleHBlY3RlZCBzdHJpbmcgb3IgbnVsbCk6IFwiICsga2V5KSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJhc2VPYmpcbn1cblxuLy8gaGVscGVyIHRvIGR5bmFtaWNhbGx5IGFwcGVuZCBtb2RpZmllciBydW50aW1lIG1hcmtlcnMgdG8gZXZlbnQgbmFtZXMuXG4vLyBlbnN1cmUgb25seSBhcHBlbmQgd2hlbiB2YWx1ZSBpcyBhbHJlYWR5IHN0cmluZywgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgY2FzdFxuLy8gdG8gc3RyaW5nIGFuZCBjYXVzZSB0aGUgdHlwZSBjaGVjayB0byBtaXNzLlxuZnVuY3Rpb24gcHJlcGVuZE1vZGlmaWVyICh2YWx1ZSwgc3ltYm9sKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gc3ltYm9sICsgdmFsdWUgOiB2YWx1ZVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5zdGFsbFJlbmRlckhlbHBlcnMgKHRhcmdldCkge1xuICB0YXJnZXQuX28gPSBtYXJrT25jZTtcbiAgdGFyZ2V0Ll9uID0gdG9OdW1iZXI7XG4gIHRhcmdldC5fcyA9IHRvU3RyaW5nO1xuICB0YXJnZXQuX2wgPSByZW5kZXJMaXN0O1xuICB0YXJnZXQuX3QgPSByZW5kZXJTbG90O1xuICB0YXJnZXQuX3EgPSBsb29zZUVxdWFsO1xuICB0YXJnZXQuX2kgPSBsb29zZUluZGV4T2Y7XG4gIHRhcmdldC5fbSA9IHJlbmRlclN0YXRpYztcbiAgdGFyZ2V0Ll9mID0gcmVzb2x2ZUZpbHRlcjtcbiAgdGFyZ2V0Ll9rID0gY2hlY2tLZXlDb2RlcztcbiAgdGFyZ2V0Ll9iID0gYmluZE9iamVjdFByb3BzO1xuICB0YXJnZXQuX3YgPSBjcmVhdGVUZXh0Vk5vZGU7XG4gIHRhcmdldC5fZSA9IGNyZWF0ZUVtcHR5Vk5vZGU7XG4gIHRhcmdldC5fdSA9IHJlc29sdmVTY29wZWRTbG90cztcbiAgdGFyZ2V0Ll9nID0gYmluZE9iamVjdExpc3RlbmVycztcbiAgdGFyZ2V0Ll9kID0gYmluZER5bmFtaWNLZXlzO1xuICB0YXJnZXQuX3AgPSBwcmVwZW5kTW9kaWZpZXI7XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dCAoXG4gIGRhdGEsXG4gIHByb3BzLFxuICBjaGlsZHJlbixcbiAgcGFyZW50LFxuICBDdG9yXG4pIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIC8vIGVuc3VyZSB0aGUgY3JlYXRlRWxlbWVudCBmdW5jdGlvbiBpbiBmdW5jdGlvbmFsIGNvbXBvbmVudHNcbiAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xuICB2YXIgY29udGV4dFZtO1xuICBpZiAoaGFzT3duKHBhcmVudCwgJ191aWQnKSkge1xuICAgIGNvbnRleHRWbSA9IE9iamVjdC5jcmVhdGUocGFyZW50KTtcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICBjb250ZXh0Vm0uX29yaWdpbmFsID0gcGFyZW50O1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBjb250ZXh0IHZtIHBhc3NlZCBpbiBpcyBhIGZ1bmN0aW9uYWwgY29udGV4dCBhcyB3ZWxsLlxuICAgIC8vIGluIHRoaXMgY2FzZSB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBhcmUgYWJsZSB0byBnZXQgYSBob2xkIHRvIHRoZVxuICAgIC8vIHJlYWwgY29udGV4dCBpbnN0YW5jZS5cbiAgICBjb250ZXh0Vm0gPSBwYXJlbnQ7XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgcGFyZW50ID0gcGFyZW50Ll9vcmlnaW5hbDtcbiAgfVxuICB2YXIgaXNDb21waWxlZCA9IGlzVHJ1ZShvcHRpb25zLl9jb21waWxlZCk7XG4gIHZhciBuZWVkTm9ybWFsaXphdGlvbiA9ICFpc0NvbXBpbGVkO1xuXG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5saXN0ZW5lcnMgPSBkYXRhLm9uIHx8IGVtcHR5T2JqZWN0O1xuICB0aGlzLmluamVjdGlvbnMgPSByZXNvbHZlSW5qZWN0KG9wdGlvbnMuaW5qZWN0LCBwYXJlbnQpO1xuICB0aGlzLnNsb3RzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcyQxLiRzbG90cykge1xuICAgICAgbm9ybWFsaXplU2NvcGVkU2xvdHMoXG4gICAgICAgIGRhdGEuc2NvcGVkU2xvdHMsXG4gICAgICAgIHRoaXMkMS4kc2xvdHMgPSByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIHBhcmVudClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzJDEuJHNsb3RzXG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzY29wZWRTbG90cycsICh7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplU2NvcGVkU2xvdHMoZGF0YS5zY29wZWRTbG90cywgdGhpcy5zbG90cygpKVxuICAgIH1cbiAgfSkpO1xuXG4gIC8vIHN1cHBvcnQgZm9yIGNvbXBpbGVkIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGlzQ29tcGlsZWQpIHtcbiAgICAvLyBleHBvc2luZyAkb3B0aW9ucyBmb3IgcmVuZGVyU3RhdGljKClcbiAgICB0aGlzLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICAvLyBwcmUtcmVzb2x2ZSBzbG90cyBmb3IgcmVuZGVyU2xvdCgpXG4gICAgdGhpcy4kc2xvdHMgPSB0aGlzLnNsb3RzKCk7XG4gICAgdGhpcy4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyhkYXRhLnNjb3BlZFNsb3RzLCB0aGlzLiRzbG90cyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5fc2NvcGVJZCkge1xuICAgIHRoaXMuX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgdmFyIHZub2RlID0gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTtcbiAgICAgIGlmICh2bm9kZSAmJiAhQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICAgICAgdm5vZGUuZm5TY29wZUlkID0gb3B0aW9ucy5fc2NvcGVJZDtcbiAgICAgICAgdm5vZGUuZm5Db250ZXh0ID0gcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZub2RlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9jID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoY29udGV4dFZtLCBhLCBiLCBjLCBkLCBuZWVkTm9ybWFsaXphdGlvbik7IH07XG4gIH1cbn1cblxuaW5zdGFsbFJlbmRlckhlbHBlcnMoRnVuY3Rpb25hbFJlbmRlckNvbnRleHQucHJvdG90eXBlKTtcblxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCAoXG4gIEN0b3IsXG4gIHByb3BzRGF0YSxcbiAgZGF0YSxcbiAgY29udGV4dFZtLFxuICBjaGlsZHJlblxuKSB7XG4gIHZhciBvcHRpb25zID0gQ3Rvci5vcHRpb25zO1xuICB2YXIgcHJvcHMgPSB7fTtcbiAgdmFyIHByb3BPcHRpb25zID0gb3B0aW9ucy5wcm9wcztcbiAgaWYgKGlzRGVmKHByb3BPcHRpb25zKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEgfHwgZW1wdHlPYmplY3QpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNEZWYoZGF0YS5hdHRycykpIHsgbWVyZ2VQcm9wcyhwcm9wcywgZGF0YS5hdHRycyk7IH1cbiAgICBpZiAoaXNEZWYoZGF0YS5wcm9wcykpIHsgbWVyZ2VQcm9wcyhwcm9wcywgZGF0YS5wcm9wcyk7IH1cbiAgfVxuXG4gIHZhciByZW5kZXJDb250ZXh0ID0gbmV3IEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0KFxuICAgIGRhdGEsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgY29udGV4dFZtLFxuICAgIEN0b3JcbiAgKTtcblxuICB2YXIgdm5vZGUgPSBvcHRpb25zLnJlbmRlci5jYWxsKG51bGwsIHJlbmRlckNvbnRleHQuX2MsIHJlbmRlckNvbnRleHQpO1xuXG4gIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgcmV0dXJuIGNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQodm5vZGUsIGRhdGEsIHJlbmRlckNvbnRleHQucGFyZW50LCBvcHRpb25zLCByZW5kZXJDb250ZXh0KVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpKSB7XG4gICAgdmFyIHZub2RlcyA9IG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlKSB8fCBbXTtcbiAgICB2YXIgcmVzID0gbmV3IEFycmF5KHZub2Rlcy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXNbaV0gPSBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2Rlc1tpXSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCAodm5vZGUsIGRhdGEsIGNvbnRleHRWbSwgb3B0aW9ucywgcmVuZGVyQ29udGV4dCkge1xuICAvLyAjNzgxNyBjbG9uZSBub2RlIGJlZm9yZSBzZXR0aW5nIGZuQ29udGV4dCwgb3RoZXJ3aXNlIGlmIHRoZSBub2RlIGlzIHJldXNlZFxuICAvLyAoZS5nLiBpdCB3YXMgZnJvbSBhIGNhY2hlZCBub3JtYWwgc2xvdCkgdGhlIGZuQ29udGV4dCBjYXVzZXMgbmFtZWQgc2xvdHNcbiAgLy8gdGhhdCBzaG91bGQgbm90IGJlIG1hdGNoZWQgdG8gbWF0Y2guXG4gIHZhciBjbG9uZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICBjbG9uZS5mbkNvbnRleHQgPSBjb250ZXh0Vm07XG4gIGNsb25lLmZuT3B0aW9ucyA9IG9wdGlvbnM7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgKGNsb25lLmRldnRvb2xzTWV0YSA9IGNsb25lLmRldnRvb2xzTWV0YSB8fCB7fSkucmVuZGVyQ29udGV4dCA9IHJlbmRlckNvbnRleHQ7XG4gIH1cbiAgaWYgKGRhdGEuc2xvdCkge1xuICAgIChjbG9uZS5kYXRhIHx8IChjbG9uZS5kYXRhID0ge30pKS5zbG90ID0gZGF0YS5zbG90O1xuICB9XG4gIHJldHVybiBjbG9uZVxufVxuXG5mdW5jdGlvbiBtZXJnZVByb3BzICh0bywgZnJvbSkge1xuICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuICAgIHRvW2NhbWVsaXplKGtleSldID0gZnJvbVtrZXldO1xuICB9XG59XG5cbi8qICAqL1xuXG4vKiAgKi9cblxuLyogICovXG5cbi8qICAqL1xuXG4vLyBpbmxpbmUgaG9va3MgdG8gYmUgaW52b2tlZCBvbiBjb21wb25lbnQgVk5vZGVzIGR1cmluZyBwYXRjaFxudmFyIGNvbXBvbmVudFZOb2RlSG9va3MgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQgKHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgICBpZiAoXG4gICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJlxuICAgICAgIXZub2RlLmNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCAmJlxuICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmVcbiAgICApIHtcbiAgICAgIC8vIGtlcHQtYWxpdmUgY29tcG9uZW50cywgdHJlYXQgYXMgYSBwYXRjaFxuICAgICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3dcbiAgICAgIGNvbXBvbmVudFZOb2RlSG9va3MucHJlcGF0Y2gobW91bnRlZE5vZGUsIG1vdW50ZWROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBjaGlsZC4kbW91bnQoaHlkcmF0aW5nID8gdm5vZGUuZWxtIDogdW5kZWZpbmVkLCBoeWRyYXRpbmcpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwYXRjaDogZnVuY3Rpb24gcHJlcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSkge1xuICAgIHZhciBvcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgICB2YXIgY2hpbGQgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgIHVwZGF0ZUNoaWxkQ29tcG9uZW50KFxuICAgICAgY2hpbGQsXG4gICAgICBvcHRpb25zLnByb3BzRGF0YSwgLy8gdXBkYXRlZCBwcm9wc1xuICAgICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzXG4gICAgICB2bm9kZSwgLy8gbmV3IHBhcmVudCB2bm9kZVxuICAgICAgb3B0aW9ucy5jaGlsZHJlbiAvLyBuZXcgY2hpbGRyZW5cbiAgICApO1xuICB9LFxuXG4gIGluc2VydDogZnVuY3Rpb24gaW5zZXJ0ICh2bm9kZSkge1xuICAgIHZhciBjb250ZXh0ID0gdm5vZGUuY29udGV4dDtcbiAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTtcbiAgICBpZiAoIWNvbXBvbmVudEluc3RhbmNlLl9pc01vdW50ZWQpIHtcbiAgICAgIGNvbXBvbmVudEluc3RhbmNlLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgY2FsbEhvb2soY29tcG9uZW50SW5zdGFuY2UsICdtb3VudGVkJyk7XG4gICAgfVxuICAgIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuICAgICAgaWYgKGNvbnRleHQuX2lzTW91bnRlZCkge1xuICAgICAgICAvLyB2dWUtcm91dGVyIzEyMTJcbiAgICAgICAgLy8gRHVyaW5nIHVwZGF0ZXMsIGEga2VwdC1hbGl2ZSBjb21wb25lbnQncyBjaGlsZCBjb21wb25lbnRzIG1heVxuICAgICAgICAvLyBjaGFuZ2UsIHNvIGRpcmVjdGx5IHdhbGtpbmcgdGhlIHRyZWUgaGVyZSBtYXkgY2FsbCBhY3RpdmF0ZWQgaG9va3NcbiAgICAgICAgLy8gb24gaW5jb3JyZWN0IGNoaWxkcmVuLiBJbnN0ZWFkIHdlIHB1c2ggdGhlbSBpbnRvIGEgcXVldWUgd2hpY2ggd2lsbFxuICAgICAgICAvLyBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIHdob2xlIHBhdGNoIHByb2Nlc3MgZW5kZWQuXG4gICAgICAgIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSAodm5vZGUpIHtcbiAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTtcbiAgICBpZiAoIWNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCkge1xuICAgICAgaWYgKCF2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuICAgICAgICBjb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLCB0cnVlIC8qIGRpcmVjdCAqLyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoY29tcG9uZW50Vk5vZGVIb29rcyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAoXG4gIEN0b3IsXG4gIGRhdGEsXG4gIGNvbnRleHQsXG4gIGNoaWxkcmVuLFxuICB0YWdcbikge1xuICBpZiAoaXNVbmRlZihDdG9yKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTtcblxuICAvLyBwbGFpbiBvcHRpb25zIG9iamVjdDogdHVybiBpdCBpbnRvIGEgY29uc3RydWN0b3JcbiAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7XG4gICAgQ3RvciA9IGJhc2VDdG9yLmV4dGVuZChDdG9yKTtcbiAgfVxuXG4gIC8vIGlmIGF0IHRoaXMgc3RhZ2UgaXQncyBub3QgYSBjb25zdHJ1Y3RvciBvciBhbiBhc3luYyBjb21wb25lbnQgZmFjdG9yeSxcbiAgLy8gcmVqZWN0LlxuICBpZiAodHlwZW9mIEN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybigoXCJJbnZhbGlkIENvbXBvbmVudCBkZWZpbml0aW9uOiBcIiArIChTdHJpbmcoQ3RvcikpKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gYXN5bmMgY29tcG9uZW50XG4gIHZhciBhc3luY0ZhY3Rvcnk7XG4gIGlmIChpc1VuZGVmKEN0b3IuY2lkKSkge1xuICAgIGFzeW5jRmFjdG9yeSA9IEN0b3I7XG4gICAgQ3RvciA9IHJlc29sdmVBc3luY0NvbXBvbmVudChhc3luY0ZhY3RvcnksIGJhc2VDdG9yKTtcbiAgICBpZiAoQ3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyByZXR1cm4gYSBwbGFjZWhvbGRlciBub2RlIGZvciBhc3luYyBjb21wb25lbnQsIHdoaWNoIGlzIHJlbmRlcmVkXG4gICAgICAvLyBhcyBhIGNvbW1lbnQgbm9kZSBidXQgcHJlc2VydmVzIGFsbCB0aGUgcmF3IGluZm9ybWF0aW9uIGZvciB0aGUgbm9kZS5cbiAgICAgIC8vIHRoZSBpbmZvcm1hdGlvbiB3aWxsIGJlIHVzZWQgZm9yIGFzeW5jIHNlcnZlci1yZW5kZXJpbmcgYW5kIGh5ZHJhdGlvbi5cbiAgICAgIHJldHVybiBjcmVhdGVBc3luY1BsYWNlaG9sZGVyKFxuICAgICAgICBhc3luY0ZhY3RvcnksXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICB0YWdcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBkYXRhID0gZGF0YSB8fCB7fTtcblxuICAvLyByZXNvbHZlIGNvbnN0cnVjdG9yIG9wdGlvbnMgaW4gY2FzZSBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGFmdGVyXG4gIC8vIGNvbXBvbmVudCBjb25zdHJ1Y3RvciBjcmVhdGlvblxuICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKEN0b3IpO1xuXG4gIC8vIHRyYW5zZm9ybSBjb21wb25lbnQgdi1tb2RlbCBkYXRhIGludG8gcHJvcHMgJiBldmVudHNcbiAgaWYgKGlzRGVmKGRhdGEubW9kZWwpKSB7XG4gICAgdHJhbnNmb3JtTW9kZWwoQ3Rvci5vcHRpb25zLCBkYXRhKTtcbiAgfVxuXG4gIC8vIGV4dHJhY3QgcHJvcHNcbiAgdmFyIHByb3BzRGF0YSA9IGV4dHJhY3RQcm9wc0Zyb21WTm9kZURhdGEoZGF0YSwgQ3RvciwgdGFnKTtcblxuICAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICBpZiAoaXNUcnVlKEN0b3Iub3B0aW9ucy5mdW5jdGlvbmFsKSkge1xuICAgIHJldHVybiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50KEN0b3IsIHByb3BzRGF0YSwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pXG4gIH1cblxuICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhc1xuICAvLyBjaGlsZCBjb21wb25lbnQgbGlzdGVuZXJzIGluc3RlYWQgb2YgRE9NIGxpc3RlbmVyc1xuICB2YXIgbGlzdGVuZXJzID0gZGF0YS5vbjtcbiAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXJcbiAgLy8gc28gaXQgZ2V0cyBwcm9jZXNzZWQgZHVyaW5nIHBhcmVudCBjb21wb25lbnQgcGF0Y2guXG4gIGRhdGEub24gPSBkYXRhLm5hdGl2ZU9uO1xuXG4gIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSkge1xuICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmdcbiAgICAvLyBvdGhlciB0aGFuIHByb3BzICYgbGlzdGVuZXJzICYgc2xvdFxuXG4gICAgLy8gd29yayBhcm91bmQgZmxvd1xuICAgIHZhciBzbG90ID0gZGF0YS5zbG90O1xuICAgIGRhdGEgPSB7fTtcbiAgICBpZiAoc2xvdCkge1xuICAgICAgZGF0YS5zbG90ID0gc2xvdDtcbiAgICB9XG4gIH1cblxuICAvLyBpbnN0YWxsIGNvbXBvbmVudCBtYW5hZ2VtZW50IGhvb2tzIG9udG8gdGhlIHBsYWNlaG9sZGVyIG5vZGVcbiAgaW5zdGFsbENvbXBvbmVudEhvb2tzKGRhdGEpO1xuXG4gIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIHZub2RlXG4gIHZhciBuYW1lID0gQ3Rvci5vcHRpb25zLm5hbWUgfHwgdGFnO1xuICB2YXIgdm5vZGUgPSBuZXcgVk5vZGUoXG4gICAgKFwidnVlLWNvbXBvbmVudC1cIiArIChDdG9yLmNpZCkgKyAobmFtZSA/IChcIi1cIiArIG5hbWUpIDogJycpKSxcbiAgICBkYXRhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0LFxuICAgIHsgQ3RvcjogQ3RvciwgcHJvcHNEYXRhOiBwcm9wc0RhdGEsIGxpc3RlbmVyczogbGlzdGVuZXJzLCB0YWc6IHRhZywgY2hpbGRyZW46IGNoaWxkcmVuIH0sXG4gICAgYXN5bmNGYWN0b3J5XG4gICk7XG5cbiAgcmV0dXJuIHZub2RlXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUgKFxuICB2bm9kZSwgLy8gd2Uga25vdyBpdCdzIE1vdW50ZWRDb21wb25lbnRWTm9kZSBidXQgZmxvdyBkb2Vzbid0XG4gIHBhcmVudCAvLyBhY3RpdmVJbnN0YW5jZSBpbiBsaWZlY3ljbGUgc3RhdGVcbikge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBfaXNDb21wb25lbnQ6IHRydWUsXG4gICAgX3BhcmVudFZub2RlOiB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFxuICB9O1xuICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9uc1xuICB2YXIgaW5saW5lVGVtcGxhdGUgPSB2bm9kZS5kYXRhLmlubGluZVRlbXBsYXRlO1xuICBpZiAoaXNEZWYoaW5saW5lVGVtcGxhdGUpKSB7XG4gICAgb3B0aW9ucy5yZW5kZXIgPSBpbmxpbmVUZW1wbGF0ZS5yZW5kZXI7XG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBpbmxpbmVUZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnM7XG4gIH1cbiAgcmV0dXJuIG5ldyB2bm9kZS5jb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gaW5zdGFsbENvbXBvbmVudEhvb2tzIChkYXRhKSB7XG4gIHZhciBob29rcyA9IGRhdGEuaG9vayB8fCAoZGF0YS5ob29rID0ge30pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzVG9NZXJnZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBob29rc1RvTWVyZ2VbaV07XG4gICAgdmFyIGV4aXN0aW5nID0gaG9va3Nba2V5XTtcbiAgICB2YXIgdG9NZXJnZSA9IGNvbXBvbmVudFZOb2RlSG9va3Nba2V5XTtcbiAgICBpZiAoZXhpc3RpbmcgIT09IHRvTWVyZ2UgJiYgIShleGlzdGluZyAmJiBleGlzdGluZy5fbWVyZ2VkKSkge1xuICAgICAgaG9va3Nba2V5XSA9IGV4aXN0aW5nID8gbWVyZ2VIb29rJDEodG9NZXJnZSwgZXhpc3RpbmcpIDogdG9NZXJnZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVyZ2VIb29rJDEgKGYxLCBmMikge1xuICB2YXIgbWVyZ2VkID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAvLyBmbG93IGNvbXBsYWlucyBhYm91dCBleHRyYSBhcmdzIHdoaWNoIGlzIHdoeSB3ZSB1c2UgYW55XG4gICAgZjEoYSwgYik7XG4gICAgZjIoYSwgYik7XG4gIH07XG4gIG1lcmdlZC5fbWVyZ2VkID0gdHJ1ZTtcbiAgcmV0dXJuIG1lcmdlZFxufVxuXG4vLyB0cmFuc2Zvcm0gY29tcG9uZW50IHYtbW9kZWwgaW5mbyAodmFsdWUgYW5kIGNhbGxiYWNrKSBpbnRvXG4vLyBwcm9wIGFuZCBldmVudCBoYW5kbGVyIHJlc3BlY3RpdmVseS5cbmZ1bmN0aW9uIHRyYW5zZm9ybU1vZGVsIChvcHRpb25zLCBkYXRhKSB7XG4gIHZhciBwcm9wID0gKG9wdGlvbnMubW9kZWwgJiYgb3B0aW9ucy5tb2RlbC5wcm9wKSB8fCAndmFsdWUnO1xuICB2YXIgZXZlbnQgPSAob3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLmV2ZW50KSB8fCAnaW5wdXQnXG4gIDsoZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KSlbcHJvcF0gPSBkYXRhLm1vZGVsLnZhbHVlO1xuICB2YXIgb24gPSBkYXRhLm9uIHx8IChkYXRhLm9uID0ge30pO1xuICB2YXIgZXhpc3RpbmcgPSBvbltldmVudF07XG4gIHZhciBjYWxsYmFjayA9IGRhdGEubW9kZWwuY2FsbGJhY2s7XG4gIGlmIChpc0RlZihleGlzdGluZykpIHtcbiAgICBpZiAoXG4gICAgICBBcnJheS5pc0FycmF5KGV4aXN0aW5nKVxuICAgICAgICA/IGV4aXN0aW5nLmluZGV4T2YoY2FsbGJhY2spID09PSAtMVxuICAgICAgICA6IGV4aXN0aW5nICE9PSBjYWxsYmFja1xuICAgICkge1xuICAgICAgb25bZXZlbnRdID0gW2NhbGxiYWNrXS5jb25jYXQoZXhpc3RpbmcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvbltldmVudF0gPSBjYWxsYmFjaztcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIFNJTVBMRV9OT1JNQUxJWkUgPSAxO1xudmFyIEFMV0FZU19OT1JNQUxJWkUgPSAyO1xuXG4vLyB3cmFwcGVyIGZ1bmN0aW9uIGZvciBwcm92aWRpbmcgYSBtb3JlIGZsZXhpYmxlIGludGVyZmFjZVxuLy8gd2l0aG91dCBnZXR0aW5nIHllbGxlZCBhdCBieSBmbG93XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50IChcbiAgY29udGV4dCxcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgbm9ybWFsaXphdGlvblR5cGUsXG4gIGFsd2F5c05vcm1hbGl6ZVxuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGRhdGEpIHx8IGlzUHJpbWl0aXZlKGRhdGEpKSB7XG4gICAgbm9ybWFsaXphdGlvblR5cGUgPSBjaGlsZHJlbjtcbiAgICBjaGlsZHJlbiA9IGRhdGE7XG4gICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNUcnVlKGFsd2F5c05vcm1hbGl6ZSkpIHtcbiAgICBub3JtYWxpemF0aW9uVHlwZSA9IEFMV0FZU19OT1JNQUxJWkU7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVFbGVtZW50KGNvbnRleHQsIHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlKVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudCAoXG4gIGNvbnRleHQsXG4gIHRhZyxcbiAgZGF0YSxcbiAgY2hpbGRyZW4sXG4gIG5vcm1hbGl6YXRpb25UeXBlXG4pIHtcbiAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKChkYXRhKS5fX29iX18pKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgXCJBdm9pZCB1c2luZyBvYnNlcnZlZCBkYXRhIG9iamVjdCBhcyB2bm9kZSBkYXRhOiBcIiArIChKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIlxcblwiICtcbiAgICAgICdBbHdheXMgY3JlYXRlIGZyZXNoIHZub2RlIGRhdGEgb2JqZWN0cyBpbiBlYWNoIHJlbmRlciEnLFxuICAgICAgY29udGV4dFxuICAgICk7XG4gICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKVxuICB9XG4gIC8vIG9iamVjdCBzeW50YXggaW4gdi1iaW5kXG4gIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihkYXRhLmlzKSkge1xuICAgIHRhZyA9IGRhdGEuaXM7XG4gIH1cbiAgaWYgKCF0YWcpIHtcbiAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlXG4gICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKVxuICB9XG4gIC8vIHdhcm4gYWdhaW5zdCBub24tcHJpbWl0aXZlIGtleVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgIGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEua2V5KSAmJiAhaXNQcmltaXRpdmUoZGF0YS5rZXkpXG4gICkge1xuICAgIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdBdm9pZCB1c2luZyBub24tcHJpbWl0aXZlIHZhbHVlIGFzIGtleSwgJyArXG4gICAgICAgICd1c2Ugc3RyaW5nL251bWJlciB2YWx1ZSBpbnN0ZWFkLicsXG4gICAgICAgIGNvbnRleHRcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIC8vIHN1cHBvcnQgc2luZ2xlIGZ1bmN0aW9uIGNoaWxkcmVuIGFzIGRlZmF1bHQgc2NvcGVkIHNsb3RcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmXG4gICAgdHlwZW9mIGNoaWxkcmVuWzBdID09PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07XG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgfVxuICBpZiAobm9ybWFsaXphdGlvblR5cGUgPT09IEFMV0FZU19OT1JNQUxJWkUpIHtcbiAgICBjaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKTtcbiAgfSBlbHNlIGlmIChub3JtYWxpemF0aW9uVHlwZSA9PT0gU0lNUExFX05PUk1BTElaRSkge1xuICAgIGNoaWxkcmVuID0gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICB9XG4gIHZhciB2bm9kZSwgbnM7XG4gIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykge1xuICAgIHZhciBDdG9yO1xuICAgIG5zID0gKGNvbnRleHQuJHZub2RlICYmIGNvbnRleHQuJHZub2RlLm5zKSB8fCBjb25maWcuZ2V0VGFnTmFtZXNwYWNlKHRhZyk7XG4gICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHtcbiAgICAgIC8vIHBsYXRmb3JtIGJ1aWx0LWluIGVsZW1lbnRzXG4gICAgICB2bm9kZSA9IG5ldyBWTm9kZShcbiAgICAgICAgY29uZmlnLnBhcnNlUGxhdGZvcm1UYWdOYW1lKHRhZyksIGRhdGEsIGNoaWxkcmVuLFxuICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCghZGF0YSB8fCAhZGF0YS5wcmUpICYmIGlzRGVmKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkge1xuICAgICAgLy8gY29tcG9uZW50XG4gICAgICB2bm9kZSA9IGNyZWF0ZUNvbXBvbmVudChDdG9yLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdW5rbm93biBvciB1bmxpc3RlZCBuYW1lc3BhY2VkIGVsZW1lbnRzXG4gICAgICAvLyBjaGVjayBhdCBydW50aW1lIGJlY2F1c2UgaXQgbWF5IGdldCBhc3NpZ25lZCBhIG5hbWVzcGFjZSB3aGVuIGl0c1xuICAgICAgLy8gcGFyZW50IG5vcm1hbGl6ZXMgY2hpbGRyZW5cbiAgICAgIHZub2RlID0gbmV3IFZOb2RlKFxuICAgICAgICB0YWcsIGRhdGEsIGNoaWxkcmVuLFxuICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dFxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZGlyZWN0IGNvbXBvbmVudCBvcHRpb25zIC8gY29uc3RydWN0b3JcbiAgICB2bm9kZSA9IGNyZWF0ZUNvbXBvbmVudCh0YWcsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICByZXR1cm4gdm5vZGVcbiAgfSBlbHNlIGlmIChpc0RlZih2bm9kZSkpIHtcbiAgICBpZiAoaXNEZWYobnMpKSB7IGFwcGx5TlModm5vZGUsIG5zKTsgfVxuICAgIGlmIChpc0RlZihkYXRhKSkgeyByZWdpc3RlckRlZXBCaW5kaW5ncyhkYXRhKTsgfVxuICAgIHJldHVybiB2bm9kZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVFbXB0eVZOb2RlKClcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU5TICh2bm9kZSwgbnMsIGZvcmNlKSB7XG4gIHZub2RlLm5zID0gbnM7XG4gIGlmICh2bm9kZS50YWcgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgIC8vIHVzZSBkZWZhdWx0IG5hbWVzcGFjZSBpbnNpZGUgZm9yZWlnbk9iamVjdFxuICAgIG5zID0gdW5kZWZpbmVkO1xuICAgIGZvcmNlID0gdHJ1ZTtcbiAgfVxuICBpZiAoaXNEZWYodm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGlzRGVmKGNoaWxkLnRhZykgJiYgKFxuICAgICAgICBpc1VuZGVmKGNoaWxkLm5zKSB8fCAoaXNUcnVlKGZvcmNlKSAmJiBjaGlsZC50YWcgIT09ICdzdmcnKSkpIHtcbiAgICAgICAgYXBwbHlOUyhjaGlsZCwgbnMsIGZvcmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gcmVmICM1MzE4XG4vLyBuZWNlc3NhcnkgdG8gZW5zdXJlIHBhcmVudCByZS1yZW5kZXIgd2hlbiBkZWVwIGJpbmRpbmdzIGxpa2UgOnN0eWxlIGFuZFxuLy8gOmNsYXNzIGFyZSB1c2VkIG9uIHNsb3Qgbm9kZXNcbmZ1bmN0aW9uIHJlZ2lzdGVyRGVlcEJpbmRpbmdzIChkYXRhKSB7XG4gIGlmIChpc09iamVjdChkYXRhLnN0eWxlKSkge1xuICAgIHRyYXZlcnNlKGRhdGEuc3R5bGUpO1xuICB9XG4gIGlmIChpc09iamVjdChkYXRhLmNsYXNzKSkge1xuICAgIHRyYXZlcnNlKGRhdGEuY2xhc3MpO1xuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0UmVuZGVyICh2bSkge1xuICB2bS5fdm5vZGUgPSBudWxsOyAvLyB0aGUgcm9vdCBvZiB0aGUgY2hpbGQgdHJlZVxuICB2bS5fc3RhdGljVHJlZXMgPSBudWxsOyAvLyB2LW9uY2UgY2FjaGVkIHRyZWVzXG4gIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG4gIHZhciBwYXJlbnRWbm9kZSA9IHZtLiR2bm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlOyAvLyB0aGUgcGxhY2Vob2xkZXIgbm9kZSBpbiBwYXJlbnQgdHJlZVxuICB2YXIgcmVuZGVyQ29udGV4dCA9IHBhcmVudFZub2RlICYmIHBhcmVudFZub2RlLmNvbnRleHQ7XG4gIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgcmVuZGVyQ29udGV4dCk7XG4gIHZtLiRzY29wZWRTbG90cyA9IGVtcHR5T2JqZWN0O1xuICAvLyBiaW5kIHRoZSBjcmVhdGVFbGVtZW50IGZuIHRvIHRoaXMgaW5zdGFuY2VcbiAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC5cbiAgLy8gYXJncyBvcmRlcjogdGFnLCBkYXRhLCBjaGlsZHJlbiwgbm9ybWFsaXphdGlvblR5cGUsIGFsd2F5c05vcm1hbGl6ZVxuICAvLyBpbnRlcm5hbCB2ZXJzaW9uIGlzIHVzZWQgYnkgcmVuZGVyIGZ1bmN0aW9ucyBjb21waWxlZCBmcm9tIHRlbXBsYXRlc1xuICB2bS5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50KHZtLCBhLCBiLCBjLCBkLCBmYWxzZSk7IH07XG4gIC8vIG5vcm1hbGl6YXRpb24gaXMgYWx3YXlzIGFwcGxpZWQgZm9yIHRoZSBwdWJsaWMgdmVyc2lvbiwgdXNlZCBpblxuICAvLyB1c2VyLXdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9ucy5cbiAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudCh2bSwgYSwgYiwgYywgZCwgdHJ1ZSk7IH07XG5cbiAgLy8gJGF0dHJzICYgJGxpc3RlbmVycyBhcmUgZXhwb3NlZCBmb3IgZWFzaWVyIEhPQyBjcmVhdGlvbi5cbiAgLy8gdGhleSBuZWVkIHRvIGJlIHJlYWN0aXZlIHNvIHRoYXQgSE9DcyB1c2luZyB0aGVtIGFyZSBhbHdheXMgdXBkYXRlZFxuICB2YXIgcGFyZW50RGF0YSA9IHBhcmVudFZub2RlICYmIHBhcmVudFZub2RlLmRhdGE7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRhdHRycycsIHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdCwgZnVuY3Rpb24gKCkge1xuICAgICAgIWlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCAmJiB3YXJuKFwiJGF0dHJzIGlzIHJlYWRvbmx5LlwiLCB2bSk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAhaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ICYmIHdhcm4oXCIkbGlzdGVuZXJzIGlzIHJlYWRvbmx5LlwiLCB2bSk7XG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sICckYXR0cnMnLCBwYXJlbnREYXRhICYmIHBhcmVudERhdGEuYXR0cnMgfHwgZW1wdHlPYmplY3QsIG51bGwsIHRydWUpO1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCAnJGxpc3RlbmVycycsIG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyB8fCBlbXB0eU9iamVjdCwgbnVsbCwgdHJ1ZSk7XG4gIH1cbn1cblxudmFyIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHtcbiAgLy8gaW5zdGFsbCBydW50aW1lIGNvbnZlbmllbmNlIGhlbHBlcnNcbiAgaW5zdGFsbFJlbmRlckhlbHBlcnMoVnVlLnByb3RvdHlwZSk7XG5cbiAgVnVlLnByb3RvdHlwZS4kbmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zO1xuICAgIHZhciByZW5kZXIgPSByZWYucmVuZGVyO1xuICAgIHZhciBfcGFyZW50Vm5vZGUgPSByZWYuX3BhcmVudFZub2RlO1xuXG4gICAgaWYgKF9wYXJlbnRWbm9kZSkge1xuICAgICAgdm0uJHNjb3BlZFNsb3RzID0gbm9ybWFsaXplU2NvcGVkU2xvdHMoXG4gICAgICAgIF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzLFxuICAgICAgICB2bS4kc2xvdHMsXG4gICAgICAgIHZtLiRzY29wZWRTbG90c1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgcGFyZW50IHZub2RlLiB0aGlzIGFsbG93cyByZW5kZXIgZnVuY3Rpb25zIHRvIGhhdmUgYWNjZXNzXG4gICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuXG4gICAgdm0uJHZub2RlID0gX3BhcmVudFZub2RlO1xuICAgIC8vIHJlbmRlciBzZWxmXG4gICAgdmFyIHZub2RlO1xuICAgIHRyeSB7XG4gICAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gbWFpbnRhaW4gYSBzdGFjayBiZWNhdWVzIGFsbCByZW5kZXIgZm5zIGFyZSBjYWxsZWRcbiAgICAgIC8vIHNlcGFyYXRlbHkgZnJvbSBvbmUgYW5vdGhlci4gTmVzdGVkIGNvbXBvbmVudCdzIHJlbmRlciBmbnMgYXJlIGNhbGxlZFxuICAgICAgLy8gd2hlbiBwYXJlbnQgY29tcG9uZW50IGlzIHBhdGNoZWQuXG4gICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSB2bTtcbiAgICAgIHZub2RlID0gcmVuZGVyLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwicmVuZGVyXCIpO1xuICAgICAgLy8gcmV0dXJuIGVycm9yIHJlbmRlciByZXN1bHQsXG4gICAgICAvLyBvciBwcmV2aW91cyB2bm9kZSB0byBwcmV2ZW50IHJlbmRlciBlcnJvciBjYXVzaW5nIGJsYW5rIGNvbXBvbmVudFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHZtLiRvcHRpb25zLnJlbmRlckVycm9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdm5vZGUgPSB2bS4kb3B0aW9ucy5yZW5kZXJFcnJvci5jYWxsKHZtLl9yZW5kZXJQcm94eSwgdm0uJGNyZWF0ZUVsZW1lbnQsIGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwicmVuZGVyRXJyb3JcIik7XG4gICAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlID0gdm0uX3Zub2RlO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgcmV0dXJuZWQgYXJyYXkgY29udGFpbnMgb25seSBhIHNpbmdsZSBub2RlLCBhbGxvdyBpdFxuICAgIGlmIChBcnJheS5pc0FycmF5KHZub2RlKSAmJiB2bm9kZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZub2RlID0gdm5vZGVbMF07XG4gICAgfVxuICAgIC8vIHJldHVybiBlbXB0eSB2bm9kZSBpbiBjYXNlIHRoZSByZW5kZXIgZnVuY3Rpb24gZXJyb3JlZCBvdXRcbiAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnTXVsdGlwbGUgcm9vdCBub2RlcyByZXR1cm5lZCBmcm9tIHJlbmRlciBmdW5jdGlvbi4gUmVuZGVyIGZ1bmN0aW9uICcgK1xuICAgICAgICAgICdzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHJvb3Qgbm9kZS4nLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2bm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTtcbiAgICB9XG4gICAgLy8gc2V0IHBhcmVudFxuICAgIHZub2RlLnBhcmVudCA9IF9wYXJlbnRWbm9kZTtcbiAgICByZXR1cm4gdm5vZGVcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGVuc3VyZUN0b3IgKGNvbXAsIGJhc2UpIHtcbiAgaWYgKFxuICAgIGNvbXAuX19lc01vZHVsZSB8fFxuICAgIChoYXNTeW1ib2wgJiYgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJylcbiAgKSB7XG4gICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgfVxuICByZXR1cm4gaXNPYmplY3QoY29tcClcbiAgICA/IGJhc2UuZXh0ZW5kKGNvbXApXG4gICAgOiBjb21wXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFzeW5jUGxhY2Vob2xkZXIgKFxuICBmYWN0b3J5LFxuICBkYXRhLFxuICBjb250ZXh0LFxuICBjaGlsZHJlbixcbiAgdGFnXG4pIHtcbiAgdmFyIG5vZGUgPSBjcmVhdGVFbXB0eVZOb2RlKCk7XG4gIG5vZGUuYXN5bmNGYWN0b3J5ID0gZmFjdG9yeTtcbiAgbm9kZS5hc3luY01ldGEgPSB7IGRhdGE6IGRhdGEsIGNvbnRleHQ6IGNvbnRleHQsIGNoaWxkcmVuOiBjaGlsZHJlbiwgdGFnOiB0YWcgfTtcbiAgcmV0dXJuIG5vZGVcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUFzeW5jQ29tcG9uZW50IChcbiAgZmFjdG9yeSxcbiAgYmFzZUN0b3Jcbikge1xuICBpZiAoaXNUcnVlKGZhY3RvcnkuZXJyb3IpICYmIGlzRGVmKGZhY3RvcnkuZXJyb3JDb21wKSkge1xuICAgIHJldHVybiBmYWN0b3J5LmVycm9yQ29tcFxuICB9XG5cbiAgaWYgKGlzRGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkucmVzb2x2ZWRcbiAgfVxuXG4gIHZhciBvd25lciA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgaWYgKG93bmVyICYmIGlzRGVmKGZhY3Rvcnkub3duZXJzKSAmJiBmYWN0b3J5Lm93bmVycy5pbmRleE9mKG93bmVyKSA9PT0gLTEpIHtcbiAgICAvLyBhbHJlYWR5IHBlbmRpbmdcbiAgICBmYWN0b3J5Lm93bmVycy5wdXNoKG93bmVyKTtcbiAgfVxuXG4gIGlmIChpc1RydWUoZmFjdG9yeS5sb2FkaW5nKSAmJiBpc0RlZihmYWN0b3J5LmxvYWRpbmdDb21wKSkge1xuICAgIHJldHVybiBmYWN0b3J5LmxvYWRpbmdDb21wXG4gIH1cblxuICBpZiAob3duZXIgJiYgIWlzRGVmKGZhY3Rvcnkub3duZXJzKSkge1xuICAgIHZhciBvd25lcnMgPSBmYWN0b3J5Lm93bmVycyA9IFtvd25lcl07XG4gICAgdmFyIHN5bmMgPSB0cnVlO1xuICAgIHZhciB0aW1lckxvYWRpbmcgPSBudWxsO1xuICAgIHZhciB0aW1lclRpbWVvdXQgPSBudWxsXG5cbiAgICA7KG93bmVyKS4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKG93bmVycywgb3duZXIpOyB9KTtcblxuICAgIHZhciBmb3JjZVJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJDb21wbGV0ZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb3duZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAob3duZXJzW2ldKS4kZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbmRlckNvbXBsZXRlZCkge1xuICAgICAgICBvd25lcnMubGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKHRpbWVyTG9hZGluZyAhPT0gbnVsbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lckxvYWRpbmcpO1xuICAgICAgICAgIHRpbWVyTG9hZGluZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVyVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lclRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVyVGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc29sdmUgPSBvbmNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIC8vIGNhY2hlIHJlc29sdmVkXG4gICAgICBmYWN0b3J5LnJlc29sdmVkID0gZW5zdXJlQ3RvcihyZXMsIGJhc2VDdG9yKTtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja3Mgb25seSBpZiB0aGlzIGlzIG5vdCBhIHN5bmNocm9ub3VzIHJlc29sdmVcbiAgICAgIC8vIChhc3luYyByZXNvbHZlcyBhcmUgc2hpbW1lZCBhcyBzeW5jaHJvbm91cyBkdXJpbmcgU1NSKVxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIGZvcmNlUmVuZGVyKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duZXJzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcmVqZWN0ID0gb25jZShmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiRmFpbGVkIHRvIHJlc29sdmUgYXN5bmMgY29tcG9uZW50OiBcIiArIChTdHJpbmcoZmFjdG9yeSkpICtcbiAgICAgICAgKHJlYXNvbiA/IChcIlxcblJlYXNvbjogXCIgKyByZWFzb24pIDogJycpXG4gICAgICApO1xuICAgICAgaWYgKGlzRGVmKGZhY3RvcnkuZXJyb3JDb21wKSkge1xuICAgICAgICBmYWN0b3J5LmVycm9yID0gdHJ1ZTtcbiAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcmVzID0gZmFjdG9yeShyZXNvbHZlLCByZWplY3QpO1xuXG4gICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgIGlmIChpc1Byb21pc2UocmVzKSkge1xuICAgICAgICAvLyAoKSA9PiBQcm9taXNlXG4gICAgICAgIGlmIChpc1VuZGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XG4gICAgICAgICAgcmVzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UocmVzLmNvbXBvbmVudCkpIHtcbiAgICAgICAgcmVzLmNvbXBvbmVudC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cbiAgICAgICAgaWYgKGlzRGVmKHJlcy5lcnJvcikpIHtcbiAgICAgICAgICBmYWN0b3J5LmVycm9yQ29tcCA9IGVuc3VyZUN0b3IocmVzLmVycm9yLCBiYXNlQ3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWYocmVzLmxvYWRpbmcpKSB7XG4gICAgICAgICAgZmFjdG9yeS5sb2FkaW5nQ29tcCA9IGVuc3VyZUN0b3IocmVzLmxvYWRpbmcsIGJhc2VDdG9yKTtcbiAgICAgICAgICBpZiAocmVzLmRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgICBmYWN0b3J5LmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGltZXJMb2FkaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkgJiYgaXNVbmRlZihmYWN0b3J5LmVycm9yKSkge1xuICAgICAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yY2VSZW5kZXIoZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZXMuZGVsYXkgfHwgMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWYocmVzLnRpbWVvdXQpKSB7XG4gICAgICAgICAgdGltZXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aW1lclRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgICAgICAgICAgICAgICAgID8gKFwidGltZW91dCAoXCIgKyAocmVzLnRpbWVvdXQpICsgXCJtcylcIilcbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHJlcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHN5bmMgPSBmYWxzZTtcbiAgICAvLyByZXR1cm4gaW4gY2FzZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5XG4gICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZ1xuICAgICAgPyBmYWN0b3J5LmxvYWRpbmdDb21wXG4gICAgICA6IGZhY3RvcnkucmVzb2x2ZWRcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaXNBc3luY1BsYWNlaG9sZGVyIChub2RlKSB7XG4gIHJldHVybiBub2RlLmlzQ29tbWVudCAmJiBub2RlLmFzeW5jRmFjdG9yeVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCAoY2hpbGRyZW4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmIChpc0RlZihjKSAmJiAoaXNEZWYoYy5jb21wb25lbnRPcHRpb25zKSB8fCBpc0FzeW5jUGxhY2Vob2xkZXIoYykpKSB7XG4gICAgICAgIHJldHVybiBjXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEV2ZW50cyAodm0pIHtcbiAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZtLl9oYXNIb29rRXZlbnQgPSBmYWxzZTtcbiAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzXG4gIHZhciBsaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBpZiAobGlzdGVuZXJzKSB7XG4gICAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMpO1xuICB9XG59XG5cbnZhciB0YXJnZXQ7XG5cbmZ1bmN0aW9uIGFkZCAoZXZlbnQsIGZuKSB7XG4gIHRhcmdldC4kb24oZXZlbnQsIGZuKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlJDEgKGV2ZW50LCBmbikge1xuICB0YXJnZXQuJG9mZihldmVudCwgZm4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPbmNlSGFuZGxlciAoZXZlbnQsIGZuKSB7XG4gIHZhciBfdGFyZ2V0ID0gdGFyZ2V0O1xuICByZXR1cm4gZnVuY3Rpb24gb25jZUhhbmRsZXIgKCkge1xuICAgIHZhciByZXMgPSBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIF90YXJnZXQuJG9mZihldmVudCwgb25jZUhhbmRsZXIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnMgKFxuICB2bSxcbiAgbGlzdGVuZXJzLFxuICBvbGRMaXN0ZW5lcnNcbikge1xuICB0YXJnZXQgPSB2bTtcbiAgdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzIHx8IHt9LCBhZGQsIHJlbW92ZSQxLCBjcmVhdGVPbmNlSGFuZGxlciwgdm0pO1xuICB0YXJnZXQgPSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGV2ZW50c01peGluIChWdWUpIHtcbiAgdmFyIGhvb2tSRSA9IC9eaG9vazovO1xuICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdm0uJG9uKGV2ZW50W2ldLCBmbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICh2bS5fZXZlbnRzW2V2ZW50XSB8fCAodm0uX2V2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xuICAgICAgLy8gb3B0aW1pemUgaG9vazpldmVudCBjb3N0IGJ5IHVzaW5nIGEgYm9vbGVhbiBmbGFnIG1hcmtlZCBhdCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGluc3RlYWQgb2YgYSBoYXNoIGxvb2t1cFxuICAgICAgaWYgKGhvb2tSRS50ZXN0KGV2ZW50KSkge1xuICAgICAgICB2bS5faGFzSG9va0V2ZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGZ1bmN0aW9uIG9uICgpIHtcbiAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTtcbiAgICAgIGZuLmFwcGx5KHZtLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBvbi5mbiA9IGZuO1xuICAgIHZtLiRvbihldmVudCwgb24pO1xuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIC8vIGFsbFxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgLy8gYXJyYXkgb2YgZXZlbnRzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSAwLCBsID0gZXZlbnQubGVuZ3RoOyBpJDEgPCBsOyBpJDErKykge1xuICAgICAgICB2bS4kb2ZmKGV2ZW50W2kkMV0sIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICAvLyBzcGVjaWZpYyBldmVudFxuICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcbiAgICBpZiAoIWNicykge1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIGlmICghZm4pIHtcbiAgICAgIHZtLl9ldmVudHNbZXZlbnRdID0gbnVsbDtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICAvLyBzcGVjaWZpYyBoYW5kbGVyXG4gICAgdmFyIGNiO1xuICAgIHZhciBpID0gY2JzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjYiA9IGNic1tpXTtcbiAgICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XG4gICAgICAgIGNicy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiB2bS5fZXZlbnRzW2xvd2VyQ2FzZUV2ZW50XSkge1xuICAgICAgICB0aXAoXG4gICAgICAgICAgXCJFdmVudCBcXFwiXCIgKyBsb3dlckNhc2VFdmVudCArIFwiXFxcIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSArIFwiIGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcXFwiXCIgKyBldmVudCArIFwiXFxcIi4gXCIgK1xuICAgICAgICAgIFwiTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgXCIgK1xuICAgICAgICAgIFwidi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIFwiICtcbiAgICAgICAgICBcIllvdSBzaG91bGQgcHJvYmFibHkgdXNlIFxcXCJcIiArIChoeXBoZW5hdGUoZXZlbnQpKSArIFwiXFxcIiBpbnN0ZWFkIG9mIFxcXCJcIiArIGV2ZW50ICsgXCJcXFwiLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcbiAgICBpZiAoY2JzKSB7XG4gICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNicztcbiAgICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuICAgICAgdmFyIGluZm8gPSBcImV2ZW50IGhhbmRsZXIgZm9yIFxcXCJcIiArIGV2ZW50ICsgXCJcXFwiXCI7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoY2JzW2ldLCB2bSwgYXJncywgdm0sIGluZm8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm1cbiAgfTtcbn1cblxuLyogICovXG5cbnZhciBhY3RpdmVJbnN0YW5jZSA9IG51bGw7XG52YXIgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gZmFsc2U7XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZUluc3RhbmNlKHZtKSB7XG4gIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTtcbiAgYWN0aXZlSW5zdGFuY2UgPSB2bTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBhY3RpdmVJbnN0YW5jZSA9IHByZXZBY3RpdmVJbnN0YW5jZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0TGlmZWN5Y2xlICh2bSkge1xuICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xuXG4gIC8vIGxvY2F0ZSBmaXJzdCBub24tYWJzdHJhY3QgcGFyZW50XG4gIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcbiAgaWYgKHBhcmVudCAmJiAhb3B0aW9ucy5hYnN0cmFjdCkge1xuICAgIHdoaWxlIChwYXJlbnQuJG9wdGlvbnMuYWJzdHJhY3QgJiYgcGFyZW50LiRwYXJlbnQpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC4kcGFyZW50O1xuICAgIH1cbiAgICBwYXJlbnQuJGNoaWxkcmVuLnB1c2godm0pO1xuICB9XG5cbiAgdm0uJHBhcmVudCA9IHBhcmVudDtcbiAgdm0uJHJvb3QgPSBwYXJlbnQgPyBwYXJlbnQuJHJvb3QgOiB2bTtcblxuICB2bS4kY2hpbGRyZW4gPSBbXTtcbiAgdm0uJHJlZnMgPSB7fTtcblxuICB2bS5fd2F0Y2hlciA9IG51bGw7XG4gIHZtLl9pbmFjdGl2ZSA9IG51bGw7XG4gIHZtLl9kaXJlY3RJbmFjdGl2ZSA9IGZhbHNlO1xuICB2bS5faXNNb3VudGVkID0gZmFsc2U7XG4gIHZtLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaWZlY3ljbGVNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgcHJldkVsID0gdm0uJGVsO1xuICAgIHZhciBwcmV2Vm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgdmFyIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSA9IHNldEFjdGl2ZUluc3RhbmNlKHZtKTtcbiAgICB2bS5fdm5vZGUgPSB2bm9kZTtcbiAgICAvLyBWdWUucHJvdG90eXBlLl9fcGF0Y2hfXyBpcyBpbmplY3RlZCBpbiBlbnRyeSBwb2ludHNcbiAgICAvLyBiYXNlZCBvbiB0aGUgcmVuZGVyaW5nIGJhY2tlbmQgdXNlZC5cbiAgICBpZiAoIXByZXZWbm9kZSkge1xuICAgICAgLy8gaW5pdGlhbCByZW5kZXJcbiAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyh2bS4kZWwsIHZub2RlLCBoeWRyYXRpbmcsIGZhbHNlIC8qIHJlbW92ZU9ubHkgKi8pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGVzXG4gICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18ocHJldlZub2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xuICAgIC8vIHVwZGF0ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIHByZXZFbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZtLiRlbCkge1xuICAgICAgdm0uJGVsLl9fdnVlX18gPSB2bTtcbiAgICB9XG4gICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbFxuICAgIGlmICh2bS4kdm5vZGUgJiYgdm0uJHBhcmVudCAmJiB2bS4kdm5vZGUgPT09IHZtLiRwYXJlbnQuX3Zub2RlKSB7XG4gICAgICB2bS4kcGFyZW50LiRlbCA9IHZtLiRlbDtcbiAgICB9XG4gICAgLy8gdXBkYXRlZCBob29rIGlzIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyIHRvIGVuc3VyZSB0aGF0IGNoaWxkcmVuIGFyZVxuICAgIC8vIHVwZGF0ZWQgaW4gYSBwYXJlbnQncyB1cGRhdGVkIGhvb2suXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX3dhdGNoZXIpIHtcbiAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRkZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHZtLl9pc0JlaW5nRGVzdHJveWVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY2FsbEhvb2sodm0sICdiZWZvcmVEZXN0cm95Jyk7XG4gICAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSB0cnVlO1xuICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gcGFyZW50XG4gICAgdmFyIHBhcmVudCA9IHZtLiRwYXJlbnQ7XG4gICAgaWYgKHBhcmVudCAmJiAhcGFyZW50Ll9pc0JlaW5nRGVzdHJveWVkICYmICF2bS4kb3B0aW9ucy5hYnN0cmFjdCkge1xuICAgICAgcmVtb3ZlKHBhcmVudC4kY2hpbGRyZW4sIHZtKTtcbiAgICB9XG4gICAgLy8gdGVhcmRvd24gd2F0Y2hlcnNcbiAgICBpZiAodm0uX3dhdGNoZXIpIHtcbiAgICAgIHZtLl93YXRjaGVyLnRlYXJkb3duKCk7XG4gICAgfVxuICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB2bS5fd2F0Y2hlcnNbaV0udGVhcmRvd24oKTtcbiAgICB9XG4gICAgLy8gcmVtb3ZlIHJlZmVyZW5jZSBmcm9tIGRhdGEgb2JcbiAgICAvLyBmcm96ZW4gb2JqZWN0IG1heSBub3QgaGF2ZSBvYnNlcnZlci5cbiAgICBpZiAodm0uX2RhdGEuX19vYl9fKSB7XG4gICAgICB2bS5fZGF0YS5fX29iX18udm1Db3VudC0tO1xuICAgIH1cbiAgICAvLyBjYWxsIHRoZSBsYXN0IGhvb2suLi5cbiAgICB2bS5faXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIC8vIGludm9rZSBkZXN0cm95IGhvb2tzIG9uIGN1cnJlbnQgcmVuZGVyZWQgdHJlZVxuICAgIHZtLl9fcGF0Y2hfXyh2bS5fdm5vZGUsIG51bGwpO1xuICAgIC8vIGZpcmUgZGVzdHJveWVkIGhvb2tcbiAgICBjYWxsSG9vayh2bSwgJ2Rlc3Ryb3llZCcpO1xuICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuXG4gICAgdm0uJG9mZigpO1xuICAgIC8vIHJlbW92ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmICh2bS4kZWwpIHtcbiAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgLy8gcmVsZWFzZSBjaXJjdWxhciByZWZlcmVuY2UgKCM2NzU5KVxuICAgIGlmICh2bS4kdm5vZGUpIHtcbiAgICAgIHZtLiR2bm9kZS5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbW91bnRDb21wb25lbnQgKFxuICB2bSxcbiAgZWwsXG4gIGh5ZHJhdGluZ1xuKSB7XG4gIHZtLiRlbCA9IGVsO1xuICBpZiAoIXZtLiRvcHRpb25zLnJlbmRlcikge1xuICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGNyZWF0ZUVtcHR5Vk5vZGU7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCh2bS4kb3B0aW9ucy50ZW1wbGF0ZSAmJiB2bS4kb3B0aW9ucy50ZW1wbGF0ZS5jaGFyQXQoMCkgIT09ICcjJykgfHxcbiAgICAgICAgdm0uJG9wdGlvbnMuZWwgfHwgZWwpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnWW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkIG9mIFZ1ZSB3aGVyZSB0aGUgdGVtcGxhdGUgJyArXG4gICAgICAgICAgJ2NvbXBpbGVyIGlzIG5vdCBhdmFpbGFibGUuIEVpdGhlciBwcmUtY29tcGlsZSB0aGUgdGVtcGxhdGVzIGludG8gJyArXG4gICAgICAgICAgJ3JlbmRlciBmdW5jdGlvbnMsIG9yIHVzZSB0aGUgY29tcGlsZXItaW5jbHVkZWQgYnVpbGQuJyxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2FsbEhvb2sodm0sICdiZWZvcmVNb3VudCcpO1xuXG4gIHZhciB1cGRhdGVDb21wb25lbnQ7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgIHVwZGF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBuYW1lID0gdm0uX25hbWU7XG4gICAgICB2YXIgaWQgPSB2bS5fdWlkO1xuICAgICAgdmFyIHN0YXJ0VGFnID0gXCJ2dWUtcGVyZi1zdGFydDpcIiArIGlkO1xuICAgICAgdmFyIGVuZFRhZyA9IFwidnVlLXBlcmYtZW5kOlwiICsgaWQ7XG5cbiAgICAgIG1hcmsoc3RhcnRUYWcpO1xuICAgICAgdmFyIHZub2RlID0gdm0uX3JlbmRlcigpO1xuICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgbWVhc3VyZSgoXCJ2dWUgXCIgKyBuYW1lICsgXCIgcmVuZGVyXCIpLCBzdGFydFRhZywgZW5kVGFnKTtcblxuICAgICAgbWFyayhzdGFydFRhZyk7XG4gICAgICB2bS5fdXBkYXRlKHZub2RlLCBoeWRyYXRpbmcpO1xuICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgbWVhc3VyZSgoXCJ2dWUgXCIgKyBuYW1lICsgXCIgcGF0Y2hcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdm0uX3VwZGF0ZSh2bS5fcmVuZGVyKCksIGh5ZHJhdGluZyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIHdlIHNldCB0aGlzIHRvIHZtLl93YXRjaGVyIGluc2lkZSB0aGUgd2F0Y2hlcidzIGNvbnN0cnVjdG9yXG4gIC8vIHNpbmNlIHRoZSB3YXRjaGVyJ3MgaW5pdGlhbCBwYXRjaCBtYXkgY2FsbCAkZm9yY2VVcGRhdGUgKGUuZy4gaW5zaWRlIGNoaWxkXG4gIC8vIGNvbXBvbmVudCdzIG1vdW50ZWQgaG9vayksIHdoaWNoIHJlbGllcyBvbiB2bS5fd2F0Y2hlciBiZWluZyBhbHJlYWR5IGRlZmluZWRcbiAgbmV3IFdhdGNoZXIodm0sIHVwZGF0ZUNvbXBvbmVudCwgbm9vcCwge1xuICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlICgpIHtcbiAgICAgIGlmICh2bS5faXNNb3VudGVkICYmICF2bS5faXNEZXN0cm95ZWQpIHtcbiAgICAgICAgY2FsbEhvb2sodm0sICdiZWZvcmVVcGRhdGUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRydWUgLyogaXNSZW5kZXJXYXRjaGVyICovKTtcbiAgaHlkcmF0aW5nID0gZmFsc2U7XG5cbiAgLy8gbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSwgY2FsbCBtb3VudGVkIG9uIHNlbGZcbiAgLy8gbW91bnRlZCBpcyBjYWxsZWQgZm9yIHJlbmRlci1jcmVhdGVkIGNoaWxkIGNvbXBvbmVudHMgaW4gaXRzIGluc2VydGVkIGhvb2tcbiAgaWYgKHZtLiR2bm9kZSA9PSBudWxsKSB7XG4gICAgdm0uX2lzTW91bnRlZCA9IHRydWU7XG4gICAgY2FsbEhvb2sodm0sICdtb3VudGVkJyk7XG4gIH1cbiAgcmV0dXJuIHZtXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkQ29tcG9uZW50IChcbiAgdm0sXG4gIHByb3BzRGF0YSxcbiAgbGlzdGVuZXJzLFxuICBwYXJlbnRWbm9kZSxcbiAgcmVuZGVyQ2hpbGRyZW5cbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IHRydWU7XG4gIH1cblxuICAvLyBkZXRlcm1pbmUgd2hldGhlciBjb21wb25lbnQgaGFzIHNsb3QgY2hpbGRyZW5cbiAgLy8gd2UgbmVlZCB0byBkbyB0aGlzIGJlZm9yZSBvdmVyd3JpdGluZyAkb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4uXG5cbiAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGR5bmFtaWMgc2NvcGVkU2xvdHMgKGhhbmQtd3JpdHRlbiBvciBjb21waWxlZCBidXQgd2l0aFxuICAvLyBkeW5hbWljIHNsb3QgbmFtZXMpLiBTdGF0aWMgc2NvcGVkIHNsb3RzIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaGFzIHRoZVxuICAvLyBcIiRzdGFibGVcIiBtYXJrZXIuXG4gIHZhciBuZXdTY29wZWRTbG90cyA9IHBhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHM7XG4gIHZhciBvbGRTY29wZWRTbG90cyA9IHZtLiRzY29wZWRTbG90cztcbiAgdmFyIGhhc0R5bmFtaWNTY29wZWRTbG90ID0gISEoXG4gICAgKG5ld1Njb3BlZFNsb3RzICYmICFuZXdTY29wZWRTbG90cy4kc3RhYmxlKSB8fFxuICAgIChvbGRTY29wZWRTbG90cyAhPT0gZW1wdHlPYmplY3QgJiYgIW9sZFNjb3BlZFNsb3RzLiRzdGFibGUpIHx8XG4gICAgKG5ld1Njb3BlZFNsb3RzICYmIHZtLiRzY29wZWRTbG90cy4ka2V5ICE9PSBuZXdTY29wZWRTbG90cy4ka2V5KVxuICApO1xuXG4gIC8vIEFueSBzdGF0aWMgc2xvdCBjaGlsZHJlbiBmcm9tIHRoZSBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBkdXJpbmcgcGFyZW50J3NcbiAgLy8gdXBkYXRlLiBEeW5hbWljIHNjb3BlZCBzbG90cyBtYXkgYWxzbyBoYXZlIGNoYW5nZWQuIEluIHN1Y2ggY2FzZXMsIGEgZm9yY2VkXG4gIC8vIHVwZGF0ZSBpcyBuZWNlc3NhcnkgdG8gZW5zdXJlIGNvcnJlY3RuZXNzLlxuICB2YXIgbmVlZHNGb3JjZVVwZGF0ZSA9ICEhKFxuICAgIHJlbmRlckNoaWxkcmVuIHx8ICAgICAgICAgICAgICAgLy8gaGFzIG5ldyBzdGF0aWMgc2xvdHNcbiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gfHwgIC8vIGhhcyBvbGQgc3RhdGljIHNsb3RzXG4gICAgaGFzRHluYW1pY1Njb3BlZFNsb3RcbiAgKTtcblxuICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcbiAgdm0uJHZub2RlID0gcGFyZW50Vm5vZGU7IC8vIHVwZGF0ZSB2bSdzIHBsYWNlaG9sZGVyIG5vZGUgd2l0aG91dCByZS1yZW5kZXJcblxuICBpZiAodm0uX3Zub2RlKSB7IC8vIHVwZGF0ZSBjaGlsZCB0cmVlJ3MgcGFyZW50XG4gICAgdm0uX3Zub2RlLnBhcmVudCA9IHBhcmVudFZub2RlO1xuICB9XG4gIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiA9IHJlbmRlckNoaWxkcmVuO1xuXG4gIC8vIHVwZGF0ZSAkYXR0cnMgYW5kICRsaXN0ZW5lcnMgaGFzaFxuICAvLyB0aGVzZSBhcmUgYWxzbyByZWFjdGl2ZSBzbyB0aGV5IG1heSB0cmlnZ2VyIGNoaWxkIHVwZGF0ZSBpZiB0aGUgY2hpbGRcbiAgLy8gdXNlZCB0aGVtIGR1cmluZyByZW5kZXJcbiAgdm0uJGF0dHJzID0gcGFyZW50Vm5vZGUuZGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdDtcbiAgdm0uJGxpc3RlbmVycyA9IGxpc3RlbmVycyB8fCBlbXB0eU9iamVjdDtcblxuICAvLyB1cGRhdGUgcHJvcHNcbiAgaWYgKHByb3BzRGF0YSAmJiB2bS4kb3B0aW9ucy5wcm9wcykge1xuICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7XG4gICAgdmFyIHByb3BzID0gdm0uX3Byb3BzO1xuICAgIHZhciBwcm9wS2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcEtleXNbaV07XG4gICAgICB2YXIgcHJvcE9wdGlvbnMgPSB2bS4kb3B0aW9ucy5wcm9wczsgLy8gd3RmIGZsb3c/XG4gICAgICBwcm9wc1trZXldID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcE9wdGlvbnMsIHByb3BzRGF0YSwgdm0pO1xuICAgIH1cbiAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XG4gICAgLy8ga2VlcCBhIGNvcHkgb2YgcmF3IHByb3BzRGF0YVxuICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YSA9IHByb3BzRGF0YTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSBsaXN0ZW5lcnNcbiAgbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xuICB2YXIgb2xkTGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcbiAgdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyk7XG5cbiAgLy8gcmVzb2x2ZSBzbG90cyArIGZvcmNlIHVwZGF0ZSBpZiBoYXMgY2hpbGRyZW5cbiAgaWYgKG5lZWRzRm9yY2VVcGRhdGUpIHtcbiAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHBhcmVudFZub2RlLmNvbnRleHQpO1xuICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0luSW5hY3RpdmVUcmVlICh2bSkge1xuICB3aGlsZSAodm0gJiYgKHZtID0gdm0uJHBhcmVudCkpIHtcbiAgICBpZiAodm0uX2luYWN0aXZlKSB7IHJldHVybiB0cnVlIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gYWN0aXZhdGVDaGlsZENvbXBvbmVudCAodm0sIGRpcmVjdCkge1xuICBpZiAoZGlyZWN0KSB7XG4gICAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7XG4gICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH0gZWxzZSBpZiAodm0uX2RpcmVjdEluYWN0aXZlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZtLl9pbmFjdGl2ZSB8fCB2bS5faW5hY3RpdmUgPT09IG51bGwpIHtcbiAgICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLiRjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pO1xuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2FjdGl2YXRlZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudCAodm0sIGRpcmVjdCkge1xuICBpZiAoZGlyZWN0KSB7XG4gICAgdm0uX2RpcmVjdEluYWN0aXZlID0gdHJ1ZTtcbiAgICBpZiAoaXNJbkluYWN0aXZlVHJlZSh2bSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuICBpZiAoIXZtLl9pbmFjdGl2ZSkge1xuICAgIHZtLl9pbmFjdGl2ZSA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS4kY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pO1xuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2RlYWN0aXZhdGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbEhvb2sgKHZtLCBob29rKSB7XG4gIC8vICM3NTczIGRpc2FibGUgZGVwIGNvbGxlY3Rpb24gd2hlbiBpbnZva2luZyBsaWZlY3ljbGUgaG9va3NcbiAgcHVzaFRhcmdldCgpO1xuICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcbiAgdmFyIGluZm8gPSBob29rICsgXCIgaG9va1wiO1xuICBpZiAoaGFuZGxlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoaGFuZGxlcnNbaV0sIHZtLCBudWxsLCB2bSwgaW5mbyk7XG4gICAgfVxuICB9XG4gIGlmICh2bS5faGFzSG9va0V2ZW50KSB7XG4gICAgdm0uJGVtaXQoJ2hvb2s6JyArIGhvb2spO1xuICB9XG4gIHBvcFRhcmdldCgpO1xufVxuXG4vKiAgKi9cblxudmFyIE1BWF9VUERBVEVfQ09VTlQgPSAxMDA7XG5cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGFjdGl2YXRlZENoaWxkcmVuID0gW107XG52YXIgaGFzID0ge307XG52YXIgY2lyY3VsYXIgPSB7fTtcbnZhciB3YWl0aW5nID0gZmFsc2U7XG52YXIgZmx1c2hpbmcgPSBmYWxzZTtcbnZhciBpbmRleCA9IDA7XG5cbi8qKlxuICogUmVzZXQgdGhlIHNjaGVkdWxlcidzIHN0YXRlLlxuICovXG5mdW5jdGlvbiByZXNldFNjaGVkdWxlclN0YXRlICgpIHtcbiAgaW5kZXggPSBxdWV1ZS5sZW5ndGggPSBhY3RpdmF0ZWRDaGlsZHJlbi5sZW5ndGggPSAwO1xuICBoYXMgPSB7fTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjaXJjdWxhciA9IHt9O1xuICB9XG4gIHdhaXRpbmcgPSBmbHVzaGluZyA9IGZhbHNlO1xufVxuXG4vLyBBc3luYyBlZGdlIGNhc2UgIzY1NjYgcmVxdWlyZXMgc2F2aW5nIHRoZSB0aW1lc3RhbXAgd2hlbiBldmVudCBsaXN0ZW5lcnMgYXJlXG4vLyBhdHRhY2hlZC4gSG93ZXZlciwgY2FsbGluZyBwZXJmb3JtYW5jZS5ub3coKSBoYXMgYSBwZXJmIG92ZXJoZWFkIGVzcGVjaWFsbHlcbi8vIGlmIHRoZSBwYWdlIGhhcyB0aG91c2FuZHMgb2YgZXZlbnQgbGlzdGVuZXJzLiBJbnN0ZWFkLCB3ZSB0YWtlIGEgdGltZXN0YW1wXG4vLyBldmVyeSB0aW1lIHRoZSBzY2hlZHVsZXIgZmx1c2hlcyBhbmQgdXNlIHRoYXQgZm9yIGFsbCBldmVudCBsaXN0ZW5lcnNcbi8vIGF0dGFjaGVkIGR1cmluZyB0aGF0IGZsdXNoLlxudmFyIGN1cnJlbnRGbHVzaFRpbWVzdGFtcCA9IDA7XG5cbi8vIEFzeW5jIGVkZ2UgY2FzZSBmaXggcmVxdWlyZXMgc3RvcmluZyBhbiBldmVudCBsaXN0ZW5lcidzIGF0dGFjaCB0aW1lc3RhbXAuXG52YXIgZ2V0Tm93ID0gRGF0ZS5ub3c7XG5cbi8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlXG4vLyB0aW1lc3RhbXAgY2FuIGVpdGhlciBiZSBoaS1yZXMgKHJlbGF0aXZlIHRvIHBhZ2UgbG9hZCkgb3IgbG93LXJlc1xuLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXG4vLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuXG4vLyBBbGwgSUUgdmVyc2lvbnMgdXNlIGxvdy1yZXMgZXZlbnQgdGltZXN0YW1wcywgYW5kIGhhdmUgcHJvYmxlbWF0aWMgY2xvY2tcbi8vIGltcGxlbWVudGF0aW9ucyAoIzk2MzIpXG5pZiAoaW5Ccm93c2VyICYmICFpc0lFKSB7XG4gIHZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbiAgaWYgKFxuICAgIHBlcmZvcm1hbmNlICYmXG4gICAgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGdldE5vdygpID4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykudGltZVN0YW1wXG4gICkge1xuICAgIC8vIGlmIHRoZSBldmVudCB0aW1lc3RhbXAsIGFsdGhvdWdoIGV2YWx1YXRlZCBBRlRFUiB0aGUgRGF0ZS5ub3coKSwgaXNcbiAgICAvLyBzbWFsbGVyIHRoYW4gaXQsIGl0IG1lYW5zIHRoZSBldmVudCBpcyB1c2luZyBhIGhpLXJlcyB0aW1lc3RhbXAsXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXIgdGltZXN0YW1wcyBhc1xuICAgIC8vIHdlbGwuXG4gICAgZ2V0Tm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7IH07XG4gIH1cbn1cblxuLyoqXG4gKiBGbHVzaCBib3RoIHF1ZXVlcyBhbmQgcnVuIHRoZSB3YXRjaGVycy5cbiAqL1xuZnVuY3Rpb24gZmx1c2hTY2hlZHVsZXJRdWV1ZSAoKSB7XG4gIGN1cnJlbnRGbHVzaFRpbWVzdGFtcCA9IGdldE5vdygpO1xuICBmbHVzaGluZyA9IHRydWU7XG4gIHZhciB3YXRjaGVyLCBpZDtcblxuICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cbiAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcbiAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxuICAvLyAyLiBBIGNvbXBvbmVudCdzIHVzZXIgd2F0Y2hlcnMgYXJlIHJ1biBiZWZvcmUgaXRzIHJlbmRlciB3YXRjaGVyIChiZWNhdXNlXG4gIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcilcbiAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcbiAgLy8gICAgaXRzIHdhdGNoZXJzIGNhbiBiZSBza2lwcGVkLlxuICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XG5cbiAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkXG4gIC8vIGFzIHdlIHJ1biBleGlzdGluZyB3YXRjaGVyc1xuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBxdWV1ZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB3YXRjaGVyID0gcXVldWVbaW5kZXhdO1xuICAgIGlmICh3YXRjaGVyLmJlZm9yZSkge1xuICAgICAgd2F0Y2hlci5iZWZvcmUoKTtcbiAgICB9XG4gICAgaWQgPSB3YXRjaGVyLmlkO1xuICAgIGhhc1tpZF0gPSBudWxsO1xuICAgIHdhdGNoZXIucnVuKCk7XG4gICAgLy8gaW4gZGV2IGJ1aWxkLCBjaGVjayBhbmQgc3RvcCBjaXJjdWxhciB1cGRhdGVzLlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGhhc1tpZF0gIT0gbnVsbCkge1xuICAgICAgY2lyY3VsYXJbaWRdID0gKGNpcmN1bGFyW2lkXSB8fCAwKSArIDE7XG4gICAgICBpZiAoY2lyY3VsYXJbaWRdID4gTUFYX1VQREFURV9DT1VOVCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdZb3UgbWF5IGhhdmUgYW4gaW5maW5pdGUgdXBkYXRlIGxvb3AgJyArIChcbiAgICAgICAgICAgIHdhdGNoZXIudXNlclxuICAgICAgICAgICAgICA/IChcImluIHdhdGNoZXIgd2l0aCBleHByZXNzaW9uIFxcXCJcIiArICh3YXRjaGVyLmV4cHJlc3Npb24pICsgXCJcXFwiXCIpXG4gICAgICAgICAgICAgIDogXCJpbiBhIGNvbXBvbmVudCByZW5kZXIgZnVuY3Rpb24uXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIHdhdGNoZXIudm1cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBrZWVwIGNvcGllcyBvZiBwb3N0IHF1ZXVlcyBiZWZvcmUgcmVzZXR0aW5nIHN0YXRlXG4gIHZhciBhY3RpdmF0ZWRRdWV1ZSA9IGFjdGl2YXRlZENoaWxkcmVuLnNsaWNlKCk7XG4gIHZhciB1cGRhdGVkUXVldWUgPSBxdWV1ZS5zbGljZSgpO1xuXG4gIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTtcblxuICAvLyBjYWxsIGNvbXBvbmVudCB1cGRhdGVkIGFuZCBhY3RpdmF0ZWQgaG9va3NcbiAgY2FsbEFjdGl2YXRlZEhvb2tzKGFjdGl2YXRlZFF1ZXVlKTtcbiAgY2FsbFVwZGF0ZWRIb29rcyh1cGRhdGVkUXVldWUpO1xuXG4gIC8vIGRldnRvb2wgaG9va1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGRldnRvb2xzICYmIGNvbmZpZy5kZXZ0b29scykge1xuICAgIGRldnRvb2xzLmVtaXQoJ2ZsdXNoJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbFVwZGF0ZWRIb29rcyAocXVldWUpIHtcbiAgdmFyIGkgPSBxdWV1ZS5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIgd2F0Y2hlciA9IHF1ZXVlW2ldO1xuICAgIHZhciB2bSA9IHdhdGNoZXIudm07XG4gICAgaWYgKHZtLl93YXRjaGVyID09PSB3YXRjaGVyICYmIHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkge1xuICAgICAgY2FsbEhvb2sodm0sICd1cGRhdGVkJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUXVldWUgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCB0aGF0IHdhcyBhY3RpdmF0ZWQgZHVyaW5nIHBhdGNoLlxuICogVGhlIHF1ZXVlIHdpbGwgYmUgcHJvY2Vzc2VkIGFmdGVyIHRoZSBlbnRpcmUgdHJlZSBoYXMgYmVlbiBwYXRjaGVkLlxuICovXG5mdW5jdGlvbiBxdWV1ZUFjdGl2YXRlZENvbXBvbmVudCAodm0pIHtcbiAgLy8gc2V0dGluZyBfaW5hY3RpdmUgdG8gZmFsc2UgaGVyZSBzbyB0aGF0IGEgcmVuZGVyIGZ1bmN0aW9uIGNhblxuICAvLyByZWx5IG9uIGNoZWNraW5nIHdoZXRoZXIgaXQncyBpbiBhbiBpbmFjdGl2ZSB0cmVlIChlLmcuIHJvdXRlci12aWV3KVxuICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcbiAgYWN0aXZhdGVkQ2hpbGRyZW4ucHVzaCh2bSk7XG59XG5cbmZ1bmN0aW9uIGNhbGxBY3RpdmF0ZWRIb29rcyAocXVldWUpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIHF1ZXVlW2ldLl9pbmFjdGl2ZSA9IHRydWU7XG4gICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChxdWV1ZVtpXSwgdHJ1ZSAvKiB0cnVlICovKTtcbiAgfVxufVxuXG4vKipcbiAqIFB1c2ggYSB3YXRjaGVyIGludG8gdGhlIHdhdGNoZXIgcXVldWUuXG4gKiBKb2JzIHdpdGggZHVwbGljYXRlIElEcyB3aWxsIGJlIHNraXBwZWQgdW5sZXNzIGl0J3NcbiAqIHB1c2hlZCB3aGVuIHRoZSBxdWV1ZSBpcyBiZWluZyBmbHVzaGVkLlxuICovXG5mdW5jdGlvbiBxdWV1ZVdhdGNoZXIgKHdhdGNoZXIpIHtcbiAgdmFyIGlkID0gd2F0Y2hlci5pZDtcbiAgaWYgKGhhc1tpZF0gPT0gbnVsbCkge1xuICAgIGhhc1tpZF0gPSB0cnVlO1xuICAgIGlmICghZmx1c2hpbmcpIHtcbiAgICAgIHF1ZXVlLnB1c2god2F0Y2hlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGFscmVhZHkgZmx1c2hpbmcsIHNwbGljZSB0aGUgd2F0Y2hlciBiYXNlZCBvbiBpdHMgaWRcbiAgICAgIC8vIGlmIGFscmVhZHkgcGFzdCBpdHMgaWQsIGl0IHdpbGwgYmUgcnVuIG5leHQgaW1tZWRpYXRlbHkuXG4gICAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoaSA+IGluZGV4ICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkge1xuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoaSArIDEsIDAsIHdhdGNoZXIpO1xuICAgIH1cbiAgICAvLyBxdWV1ZSB0aGUgZmx1c2hcbiAgICBpZiAoIXdhaXRpbmcpIHtcbiAgICAgIHdhaXRpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29uZmlnLmFzeW5jKSB7XG4gICAgICAgIGZsdXNoU2NoZWR1bGVyUXVldWUoKTtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBuZXh0VGljayhmbHVzaFNjaGVkdWxlclF1ZXVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cblxuXG52YXIgdWlkJDIgPSAwO1xuXG4vKipcbiAqIEEgd2F0Y2hlciBwYXJzZXMgYW4gZXhwcmVzc2lvbiwgY29sbGVjdHMgZGVwZW5kZW5jaWVzLFxuICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy5cbiAqIFRoaXMgaXMgdXNlZCBmb3IgYm90aCB0aGUgJHdhdGNoKCkgYXBpIGFuZCBkaXJlY3RpdmVzLlxuICovXG52YXIgV2F0Y2hlciA9IGZ1bmN0aW9uIFdhdGNoZXIgKFxuICB2bSxcbiAgZXhwT3JGbixcbiAgY2IsXG4gIG9wdGlvbnMsXG4gIGlzUmVuZGVyV2F0Y2hlclxuKSB7XG4gIHRoaXMudm0gPSB2bTtcbiAgaWYgKGlzUmVuZGVyV2F0Y2hlcikge1xuICAgIHZtLl93YXRjaGVyID0gdGhpcztcbiAgfVxuICB2bS5fd2F0Y2hlcnMucHVzaCh0aGlzKTtcbiAgLy8gb3B0aW9uc1xuICBpZiAob3B0aW9ucykge1xuICAgIHRoaXMuZGVlcCA9ICEhb3B0aW9ucy5kZWVwO1xuICAgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyO1xuICAgIHRoaXMubGF6eSA9ICEhb3B0aW9ucy5sYXp5O1xuICAgIHRoaXMuc3luYyA9ICEhb3B0aW9ucy5zeW5jO1xuICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kZWVwID0gdGhpcy51c2VyID0gdGhpcy5sYXp5ID0gdGhpcy5zeW5jID0gZmFsc2U7XG4gIH1cbiAgdGhpcy5jYiA9IGNiO1xuICB0aGlzLmlkID0gKyt1aWQkMjsgLy8gdWlkIGZvciBiYXRjaGluZ1xuICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gIHRoaXMuZGlydHkgPSB0aGlzLmxhenk7IC8vIGZvciBsYXp5IHdhdGNoZXJzXG4gIHRoaXMuZGVwcyA9IFtdO1xuICB0aGlzLm5ld0RlcHMgPSBbXTtcbiAgdGhpcy5kZXBJZHMgPSBuZXcgX1NldCgpO1xuICB0aGlzLm5ld0RlcElkcyA9IG5ldyBfU2V0KCk7XG4gIHRoaXMuZXhwcmVzc2lvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgICA/IGV4cE9yRm4udG9TdHJpbmcoKVxuICAgIDogJyc7XG4gIC8vIHBhcnNlIGV4cHJlc3Npb24gZm9yIGdldHRlclxuICBpZiAodHlwZW9mIGV4cE9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLmdldHRlciA9IGV4cE9yRm47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbik7XG4gICAgaWYgKCF0aGlzLmdldHRlcikge1xuICAgICAgdGhpcy5nZXR0ZXIgPSBub29wO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkZhaWxlZCB3YXRjaGluZyBwYXRoOiBcXFwiXCIgKyBleHBPckZuICsgXCJcXFwiIFwiICtcbiAgICAgICAgJ1dhdGNoZXIgb25seSBhY2NlcHRzIHNpbXBsZSBkb3QtZGVsaW1pdGVkIHBhdGhzLiAnICtcbiAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHRoaXMudmFsdWUgPSB0aGlzLmxhenlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogdGhpcy5nZXQoKTtcbn07XG5cbi8qKlxuICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKCkge1xuICBwdXNoVGFyZ2V0KHRoaXMpO1xuICB2YXIgdmFsdWU7XG4gIHZhciB2bSA9IHRoaXMudm07XG4gIHRyeSB7XG4gICAgdmFsdWUgPSB0aGlzLmdldHRlci5jYWxsKHZtLCB2bSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodGhpcy51c2VyKSB7XG4gICAgICBoYW5kbGVFcnJvcihlLCB2bSwgKFwiZ2V0dGVyIGZvciB3YXRjaGVyIFxcXCJcIiArICh0aGlzLmV4cHJlc3Npb24pICsgXCJcXFwiXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcbiAgICAvLyBkZXBlbmRlbmNpZXMgZm9yIGRlZXAgd2F0Y2hpbmdcbiAgICBpZiAodGhpcy5kZWVwKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIHBvcFRhcmdldCgpO1xuICAgIHRoaXMuY2xlYW51cERlcHMoKTtcbiAgfVxuICByZXR1cm4gdmFsdWVcbn07XG5cbi8qKlxuICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuYWRkRGVwID0gZnVuY3Rpb24gYWRkRGVwIChkZXApIHtcbiAgdmFyIGlkID0gZGVwLmlkO1xuICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhpZCkpIHtcbiAgICB0aGlzLm5ld0RlcElkcy5hZGQoaWQpO1xuICAgIHRoaXMubmV3RGVwcy5wdXNoKGRlcCk7XG4gICAgaWYgKCF0aGlzLmRlcElkcy5oYXMoaWQpKSB7XG4gICAgICBkZXAuYWRkU3ViKHRoaXMpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBDbGVhbiB1cCBmb3IgZGVwZW5kZW5jeSBjb2xsZWN0aW9uLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5jbGVhbnVwRGVwcyA9IGZ1bmN0aW9uIGNsZWFudXBEZXBzICgpIHtcbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGRlcCA9IHRoaXMuZGVwc1tpXTtcbiAgICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhkZXAuaWQpKSB7XG4gICAgICBkZXAucmVtb3ZlU3ViKHRoaXMpO1xuICAgIH1cbiAgfVxuICB2YXIgdG1wID0gdGhpcy5kZXBJZHM7XG4gIHRoaXMuZGVwSWRzID0gdGhpcy5uZXdEZXBJZHM7XG4gIHRoaXMubmV3RGVwSWRzID0gdG1wO1xuICB0aGlzLm5ld0RlcElkcy5jbGVhcigpO1xuICB0bXAgPSB0aGlzLmRlcHM7XG4gIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwcztcbiAgdGhpcy5uZXdEZXBzID0gdG1wO1xuICB0aGlzLm5ld0RlcHMubGVuZ3RoID0gMDtcbn07XG5cbi8qKlxuICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodGhpcy5sYXp5KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH0gZWxzZSBpZiAodGhpcy5zeW5jKSB7XG4gICAgdGhpcy5ydW4oKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVdhdGNoZXIodGhpcyk7XG4gIH1cbn07XG5cbi8qKlxuICogU2NoZWR1bGVyIGpvYiBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKCkge1xuICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xuICAgIGlmIChcbiAgICAgIHZhbHVlICE9PSB0aGlzLnZhbHVlIHx8XG4gICAgICAvLyBEZWVwIHdhdGNoZXJzIGFuZCB3YXRjaGVycyBvbiBPYmplY3QvQXJyYXlzIHNob3VsZCBmaXJlIGV2ZW5cbiAgICAgIC8vIHdoZW4gdGhlIHZhbHVlIGlzIHRoZSBzYW1lLCBiZWNhdXNlIHRoZSB2YWx1ZSBtYXlcbiAgICAgIC8vIGhhdmUgbXV0YXRlZC5cbiAgICAgIGlzT2JqZWN0KHZhbHVlKSB8fFxuICAgICAgdGhpcy5kZWVwXG4gICAgKSB7XG4gICAgICAvLyBzZXQgbmV3IHZhbHVlXG4gICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgaWYgKHRoaXMudXNlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdGhpcy52bSwgKFwiY2FsbGJhY2sgZm9yIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRXZhbHVhdGUgdGhlIHZhbHVlIG9mIHRoZSB3YXRjaGVyLlxuICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIGV2YWx1YXRlICgpIHtcbiAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gIHRoaXMuZGlydHkgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG4gIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHRoaXMuZGVwc1tpXS5kZXBlbmQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmUgc2VsZiBmcm9tIGFsbCBkZXBlbmRlbmNpZXMnIHN1YnNjcmliZXIgbGlzdC5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiB0ZWFyZG93biAoKSB7XG4gIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gdm0ncyB3YXRjaGVyIGxpc3RcbiAgICAvLyB0aGlzIGlzIGEgc29tZXdoYXQgZXhwZW5zaXZlIG9wZXJhdGlvbiBzbyB3ZSBza2lwIGl0XG4gICAgLy8gaWYgdGhlIHZtIGlzIGJlaW5nIGRlc3Ryb3llZC5cbiAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcbiAgICAgIHJlbW92ZSh0aGlzLnZtLl93YXRjaGVycywgdGhpcyk7XG4gICAgfVxuICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0aGlzLmRlcHNbaV0ucmVtb3ZlU3ViKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG59O1xuXG4vKiAgKi9cblxudmFyIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbiA9IHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBnZXQ6IG5vb3AsXG4gIHNldDogbm9vcFxufTtcblxuZnVuY3Rpb24gcHJveHkgKHRhcmdldCwgc291cmNlS2V5LCBrZXkpIHtcbiAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHtcbiAgICByZXR1cm4gdGhpc1tzb3VyY2VLZXldW2tleV1cbiAgfTtcbiAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHtcbiAgICB0aGlzW3NvdXJjZUtleV1ba2V5XSA9IHZhbDtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24pO1xufVxuXG5mdW5jdGlvbiBpbml0U3RhdGUgKHZtKSB7XG4gIHZtLl93YXRjaGVycyA9IFtdO1xuICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zO1xuICBpZiAob3B0cy5wcm9wcykgeyBpbml0UHJvcHModm0sIG9wdHMucHJvcHMpOyB9XG4gIGlmIChvcHRzLm1ldGhvZHMpIHsgaW5pdE1ldGhvZHModm0sIG9wdHMubWV0aG9kcyk7IH1cbiAgaWYgKG9wdHMuZGF0YSkge1xuICAgIGluaXREYXRhKHZtKTtcbiAgfSBlbHNlIHtcbiAgICBvYnNlcnZlKHZtLl9kYXRhID0ge30sIHRydWUgLyogYXNSb290RGF0YSAqLyk7XG4gIH1cbiAgaWYgKG9wdHMuY29tcHV0ZWQpIHsgaW5pdENvbXB1dGVkKHZtLCBvcHRzLmNvbXB1dGVkKTsgfVxuICBpZiAob3B0cy53YXRjaCAmJiBvcHRzLndhdGNoICE9PSBuYXRpdmVXYXRjaCkge1xuICAgIGluaXRXYXRjaCh2bSwgb3B0cy53YXRjaCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzICh2bSwgcHJvcHNPcHRpb25zKSB7XG4gIHZhciBwcm9wc0RhdGEgPSB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgfHwge307XG4gIHZhciBwcm9wcyA9IHZtLl9wcm9wcyA9IHt9O1xuICAvLyBjYWNoZSBwcm9wIGtleXMgc28gdGhhdCBmdXR1cmUgcHJvcHMgdXBkYXRlcyBjYW4gaXRlcmF0ZSB1c2luZyBBcnJheVxuICAvLyBpbnN0ZWFkIG9mIGR5bmFtaWMgb2JqZWN0IGtleSBlbnVtZXJhdGlvbi5cbiAgdmFyIGtleXMgPSB2bS4kb3B0aW9ucy5fcHJvcEtleXMgPSBbXTtcbiAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50O1xuICAvLyByb290IGluc3RhbmNlIHByb3BzIHNob3VsZCBiZSBjb252ZXJ0ZWRcbiAgaWYgKCFpc1Jvb3QpIHtcbiAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpO1xuICB9XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBrZXkgKSB7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gICAgdmFyIHZhbHVlID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcHNPcHRpb25zLCBwcm9wc0RhdGEsIHZtKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgaHlwaGVuYXRlZEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRBdHRyaWJ1dGUoaHlwaGVuYXRlZEtleSkgfHxcbiAgICAgICAgICBjb25maWcuaXNSZXNlcnZlZEF0dHIoaHlwaGVuYXRlZEtleSkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAoXCJcXFwiXCIgKyBoeXBoZW5hdGVkS2V5ICsgXCJcXFwiIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgcHJvcC5cIiksXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHByb3BzLCBrZXksIHZhbHVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNSb290ICYmICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgXCJBdm9pZCBtdXRhdGluZyBhIHByb3AgZGlyZWN0bHkgc2luY2UgdGhlIHZhbHVlIHdpbGwgYmUgXCIgK1xuICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcGFyZW50IGNvbXBvbmVudCByZS1yZW5kZXJzLiBcIiArXG4gICAgICAgICAgICBcIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyBcIiArXG4gICAgICAgICAgICBcInZhbHVlLiBQcm9wIGJlaW5nIG11dGF0ZWQ6IFxcXCJcIiArIGtleSArIFwiXFxcIlwiLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmaW5lUmVhY3RpdmUkJDEocHJvcHMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICAvLyBzdGF0aWMgcHJvcHMgYXJlIGFscmVhZHkgcHJveGllZCBvbiB0aGUgY29tcG9uZW50J3MgcHJvdG90eXBlXG4gICAgLy8gZHVyaW5nIFZ1ZS5leHRlbmQoKS4gV2Ugb25seSBuZWVkIHRvIHByb3h5IHByb3BzIGRlZmluZWQgYXRcbiAgICAvLyBpbnN0YW50aWF0aW9uIGhlcmUuXG4gICAgaWYgKCEoa2V5IGluIHZtKSkge1xuICAgICAgcHJveHkodm0sIFwiX3Byb3BzXCIsIGtleSk7XG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBwcm9wc09wdGlvbnMpIGxvb3AoIGtleSApO1xuICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhICh2bSkge1xuICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7XG4gIGRhdGEgPSB2bS5fZGF0YSA9IHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nXG4gICAgPyBnZXREYXRhKGRhdGEsIHZtKVxuICAgIDogZGF0YSB8fCB7fTtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgZGF0YSA9IHt9O1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdkYXRhIGZ1bmN0aW9ucyBzaG91bGQgcmV0dXJuIGFuIG9iamVjdDpcXG4nICtcbiAgICAgICdodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9jb21wb25lbnRzLmh0bWwjZGF0YS1NdXN0LUJlLWEtRnVuY3Rpb24nLFxuICAgICAgdm1cbiAgICApO1xuICB9XG4gIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2VcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG4gIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kcztcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAobWV0aG9kcyAmJiBoYXNPd24obWV0aG9kcywga2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIChcIk1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgZGF0YSBwcm9wZXJ0eS5cIiksXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIlRoZSBkYXRhIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlY2xhcmVkIGFzIGEgcHJvcC4gXCIgK1xuICAgICAgICBcIlVzZSBwcm9wIGRlZmF1bHQgdmFsdWUgaW5zdGVhZC5cIixcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghaXNSZXNlcnZlZChrZXkpKSB7XG4gICAgICBwcm94eSh2bSwgXCJfZGF0YVwiLCBrZXkpO1xuICAgIH1cbiAgfVxuICAvLyBvYnNlcnZlIGRhdGFcbiAgb2JzZXJ2ZShkYXRhLCB0cnVlIC8qIGFzUm9vdERhdGEgKi8pO1xufVxuXG5mdW5jdGlvbiBnZXREYXRhIChkYXRhLCB2bSkge1xuICAvLyAjNzU3MyBkaXNhYmxlIGRlcCBjb2xsZWN0aW9uIHdoZW4gaW52b2tpbmcgZGF0YSBnZXR0ZXJzXG4gIHB1c2hUYXJnZXQoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGF0YS5jYWxsKHZtLCB2bSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGhhbmRsZUVycm9yKGUsIHZtLCBcImRhdGEoKVwiKTtcbiAgICByZXR1cm4ge31cbiAgfSBmaW5hbGx5IHtcbiAgICBwb3BUYXJnZXQoKTtcbiAgfVxufVxuXG52YXIgY29tcHV0ZWRXYXRjaGVyT3B0aW9ucyA9IHsgbGF6eTogdHJ1ZSB9O1xuXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQgKHZtLCBjb21wdXRlZCkge1xuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgdmFyIHdhdGNoZXJzID0gdm0uX2NvbXB1dGVkV2F0Y2hlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBqdXN0IGdldHRlcnMgZHVyaW5nIFNTUlxuICB2YXIgaXNTU1IgPSBpc1NlcnZlclJlbmRlcmluZygpO1xuXG4gIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xuICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTtcbiAgICB2YXIgZ2V0dGVyID0gdHlwZW9mIHVzZXJEZWYgPT09ICdmdW5jdGlvbicgPyB1c2VyRGVmIDogdXNlckRlZi5nZXQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZ2V0dGVyID09IG51bGwpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIChcIkdldHRlciBpcyBtaXNzaW5nIGZvciBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIuXCIpLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzU1NSKSB7XG4gICAgICAvLyBjcmVhdGUgaW50ZXJuYWwgd2F0Y2hlciBmb3IgdGhlIGNvbXB1dGVkIHByb3BlcnR5LlxuICAgICAgd2F0Y2hlcnNba2V5XSA9IG5ldyBXYXRjaGVyKFxuICAgICAgICB2bSxcbiAgICAgICAgZ2V0dGVyIHx8IG5vb3AsXG4gICAgICAgIG5vb3AsXG4gICAgICAgIGNvbXB1dGVkV2F0Y2hlck9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gY29tcG9uZW50LWRlZmluZWQgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgYWxyZWFkeSBkZWZpbmVkIG9uIHRoZVxuICAgIC8vIGNvbXBvbmVudCBwcm90b3R5cGUuIFdlIG9ubHkgbmVlZCB0byBkZWZpbmUgY29tcHV0ZWQgcHJvcGVydGllcyBkZWZpbmVkXG4gICAgLy8gYXQgaW5zdGFudGlhdGlvbiBoZXJlLlxuICAgIGlmICghKGtleSBpbiB2bSkpIHtcbiAgICAgIGRlZmluZUNvbXB1dGVkKHZtLCBrZXksIHVzZXJEZWYpO1xuICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGtleSBpbiB2bS4kZGF0YSkge1xuICAgICAgICB3YXJuKChcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluIGRhdGEuXCIpLCB2bSk7XG4gICAgICB9IGVsc2UgaWYgKHZtLiRvcHRpb25zLnByb3BzICYmIGtleSBpbiB2bS4kb3B0aW9ucy5wcm9wcykge1xuICAgICAgICB3YXJuKChcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgYWxyZWFkeSBkZWZpbmVkIGFzIGEgcHJvcC5cIiksIHZtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lQ29tcHV0ZWQgKFxuICB0YXJnZXQsXG4gIGtleSxcbiAgdXNlckRlZlxuKSB7XG4gIHZhciBzaG91bGRDYWNoZSA9ICFpc1NlcnZlclJlbmRlcmluZygpO1xuICBpZiAodHlwZW9mIHVzZXJEZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uZ2V0ID0gc2hvdWxkQ2FjaGVcbiAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KVxuICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYpO1xuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSBub29wO1xuICB9IGVsc2Uge1xuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSB1c2VyRGVmLmdldFxuICAgICAgPyBzaG91bGRDYWNoZSAmJiB1c2VyRGVmLmNhY2hlICE9PSBmYWxzZVxuICAgICAgICA/IGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSlcbiAgICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYuZ2V0KVxuICAgICAgOiBub29wO1xuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSB1c2VyRGVmLnNldCB8fCBub29wO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID09PSBub29wKSB7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIChcIkNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiB3YXMgYXNzaWduZWQgdG8gYnV0IGl0IGhhcyBubyBzZXR0ZXIuXCIpLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlZEdldHRlciAoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbiBjb21wdXRlZEdldHRlciAoKSB7XG4gICAgdmFyIHdhdGNoZXIgPSB0aGlzLl9jb21wdXRlZFdhdGNoZXJzICYmIHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnNba2V5XTtcbiAgICBpZiAod2F0Y2hlcikge1xuICAgICAgaWYgKHdhdGNoZXIuZGlydHkpIHtcbiAgICAgICAgd2F0Y2hlci5ldmFsdWF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKERlcC50YXJnZXQpIHtcbiAgICAgICAgd2F0Y2hlci5kZXBlbmQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3YXRjaGVyLnZhbHVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdldHRlckludm9rZXIoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyICgpIHtcbiAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0aGlzKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRNZXRob2RzICh2bSwgbWV0aG9kcykge1xuICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcbiAgZm9yICh2YXIga2V5IGluIG1ldGhvZHMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBtZXRob2RzW2tleV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcIk1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaGFzIHR5cGUgXFxcIlwiICsgKHR5cGVvZiBtZXRob2RzW2tleV0pICsgXCJcXFwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9cIixcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIChcIk1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgcHJvcC5cIiksXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICgoa2V5IGluIHZtKSAmJiBpc1Jlc2VydmVkKGtleSkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcIk1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgY29uZmxpY3RzIHdpdGggYW4gZXhpc3RpbmcgVnVlIGluc3RhbmNlIG1ldGhvZC4gXCIgK1xuICAgICAgICAgIFwiQXZvaWQgZGVmaW5pbmcgY29tcG9uZW50IG1ldGhvZHMgdGhhdCBzdGFydCB3aXRoIF8gb3IgJC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB2bVtrZXldID0gdHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJyA/IG5vb3AgOiBiaW5kKG1ldGhvZHNba2V5XSwgdm0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRXYXRjaCAodm0sIHdhdGNoKSB7XG4gIGZvciAodmFyIGtleSBpbiB3YXRjaCkge1xuICAgIHZhciBoYW5kbGVyID0gd2F0Y2hba2V5XTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcltpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIgKFxuICB2bSxcbiAgZXhwT3JGbixcbiAgaGFuZGxlcixcbiAgb3B0aW9uc1xuKSB7XG4gIGlmIChpc1BsYWluT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgb3B0aW9ucyA9IGhhbmRsZXI7XG4gICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjtcbiAgfVxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdO1xuICB9XG4gIHJldHVybiB2bS4kd2F0Y2goZXhwT3JGbiwgaGFuZGxlciwgb3B0aW9ucylcbn1cblxuZnVuY3Rpb24gc3RhdGVNaXhpbiAoVnVlKSB7XG4gIC8vIGZsb3cgc29tZWhvdyBoYXMgcHJvYmxlbXMgd2l0aCBkaXJlY3RseSBkZWNsYXJlZCBkZWZpbml0aW9uIG9iamVjdFxuICAvLyB3aGVuIHVzaW5nIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgc28gd2UgaGF2ZSB0byBwcm9jZWR1cmFsbHkgYnVpbGQgdXBcbiAgLy8gdGhlIG9iamVjdCBoZXJlLlxuICB2YXIgZGF0YURlZiA9IHt9O1xuICBkYXRhRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RhdGEgfTtcbiAgdmFyIHByb3BzRGVmID0ge307XG4gIHByb3BzRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Byb3BzIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZGF0YURlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnQXZvaWQgcmVwbGFjaW5nIGluc3RhbmNlIHJvb3QgJGRhdGEuICcgK1xuICAgICAgICAnVXNlIG5lc3RlZCBkYXRhIHByb3BlcnRpZXMgaW5zdGVhZC4nLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH07XG4gICAgcHJvcHNEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2FybihcIiRwcm9wcyBpcyByZWFkb25seS5cIiwgdGhpcyk7XG4gICAgfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRkYXRhJywgZGF0YURlZik7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHByb3BzJywgcHJvcHNEZWYpO1xuXG4gIFZ1ZS5wcm90b3R5cGUuJHNldCA9IHNldDtcbiAgVnVlLnByb3RvdHlwZS4kZGVsZXRlID0gZGVsO1xuXG4gIFZ1ZS5wcm90b3R5cGUuJHdhdGNoID0gZnVuY3Rpb24gKFxuICAgIGV4cE9yRm4sXG4gICAgY2IsXG4gICAgb3B0aW9uc1xuICApIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmIChpc1BsYWluT2JqZWN0KGNiKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKVxuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnVzZXIgPSB0cnVlO1xuICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIHZtLCAoXCJjYWxsYmFjayBmb3IgaW1tZWRpYXRlIHdhdGNoZXIgXFxcIlwiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyBcIlxcXCJcIikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHtcbiAgICAgIHdhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgdWlkJDMgPSAwO1xuXG5mdW5jdGlvbiBpbml0TWl4aW4gKFZ1ZSkge1xuICBWdWUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIC8vIGEgdWlkXG4gICAgdm0uX3VpZCA9IHVpZCQzKys7XG5cbiAgICB2YXIgc3RhcnRUYWcsIGVuZFRhZztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgICAgc3RhcnRUYWcgPSBcInZ1ZS1wZXJmLXN0YXJ0OlwiICsgKHZtLl91aWQpO1xuICAgICAgZW5kVGFnID0gXCJ2dWUtcGVyZi1lbmQ6XCIgKyAodm0uX3VpZCk7XG4gICAgICBtYXJrKHN0YXJ0VGFnKTtcbiAgICB9XG5cbiAgICAvLyBhIGZsYWcgdG8gYXZvaWQgdGhpcyBiZWluZyBvYnNlcnZlZFxuICAgIHZtLl9pc1Z1ZSA9IHRydWU7XG4gICAgLy8gbWVyZ2Ugb3B0aW9uc1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuX2lzQ29tcG9uZW50KSB7XG4gICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvblxuICAgICAgLy8gc2luY2UgZHluYW1pYyBvcHRpb25zIG1lcmdpbmcgaXMgcHJldHR5IHNsb3csIGFuZCBub25lIG9mIHRoZVxuICAgICAgLy8gaW50ZXJuYWwgY29tcG9uZW50IG9wdGlvbnMgbmVlZHMgc3BlY2lhbCB0cmVhdG1lbnQuXG4gICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS4kb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksXG4gICAgICAgIG9wdGlvbnMgfHwge30sXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpbml0UHJveHkodm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcbiAgICB9XG4gICAgLy8gZXhwb3NlIHJlYWwgc2VsZlxuICAgIHZtLl9zZWxmID0gdm07XG4gICAgaW5pdExpZmVjeWNsZSh2bSk7XG4gICAgaW5pdEV2ZW50cyh2bSk7XG4gICAgaW5pdFJlbmRlcih2bSk7XG4gICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTtcbiAgICBpbml0SW5qZWN0aW9ucyh2bSk7IC8vIHJlc29sdmUgaW5qZWN0aW9ucyBiZWZvcmUgZGF0YS9wcm9wc1xuICAgIGluaXRTdGF0ZSh2bSk7XG4gICAgaW5pdFByb3ZpZGUodm0pOyAvLyByZXNvbHZlIHByb3ZpZGUgYWZ0ZXIgZGF0YS9wcm9wc1xuICAgIGNhbGxIb29rKHZtLCAnY3JlYXRlZCcpO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcbiAgICAgIHZtLl9uYW1lID0gZm9ybWF0Q29tcG9uZW50TmFtZSh2bSwgZmFsc2UpO1xuICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgbWVhc3VyZSgoXCJ2dWUgXCIgKyAodm0uX25hbWUpICsgXCIgaW5pdFwiKSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgfVxuXG4gICAgaWYgKHZtLiRvcHRpb25zLmVsKSB7XG4gICAgICB2bS4kbW91bnQodm0uJG9wdGlvbnMuZWwpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5pdEludGVybmFsQ29tcG9uZW50ICh2bSwgb3B0aW9ucykge1xuICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zID0gT2JqZWN0LmNyZWF0ZSh2bS5jb25zdHJ1Y3Rvci5vcHRpb25zKTtcbiAgLy8gZG9pbmcgdGhpcyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZHluYW1pYyBlbnVtZXJhdGlvbi5cbiAgdmFyIHBhcmVudFZub2RlID0gb3B0aW9ucy5fcGFyZW50Vm5vZGU7XG4gIG9wdHMucGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG4gIG9wdHMuX3BhcmVudFZub2RlID0gcGFyZW50Vm5vZGU7XG5cbiAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHBhcmVudFZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIG9wdHMucHJvcHNEYXRhID0gdm5vZGVDb21wb25lbnRPcHRpb25zLnByb3BzRGF0YTtcbiAgb3B0cy5fcGFyZW50TGlzdGVuZXJzID0gdm5vZGVDb21wb25lbnRPcHRpb25zLmxpc3RlbmVycztcbiAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW47XG4gIG9wdHMuX2NvbXBvbmVudFRhZyA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy50YWc7XG5cbiAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG4gICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMgKEN0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIGlmIChDdG9yLnN1cGVyKSB7XG4gICAgdmFyIHN1cGVyT3B0aW9ucyA9IHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvci5zdXBlcik7XG4gICAgdmFyIGNhY2hlZFN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXJPcHRpb25zO1xuICAgIGlmIChzdXBlck9wdGlvbnMgIT09IGNhY2hlZFN1cGVyT3B0aW9ucykge1xuICAgICAgLy8gc3VwZXIgb3B0aW9uIGNoYW5nZWQsXG4gICAgICAvLyBuZWVkIHRvIHJlc29sdmUgbmV3IG9wdGlvbnMuXG4gICAgICBDdG9yLnN1cGVyT3B0aW9ucyA9IHN1cGVyT3B0aW9ucztcbiAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgbGF0ZS1tb2RpZmllZC9hdHRhY2hlZCBvcHRpb25zICgjNDk3NilcbiAgICAgIHZhciBtb2RpZmllZE9wdGlvbnMgPSByZXNvbHZlTW9kaWZpZWRPcHRpb25zKEN0b3IpO1xuICAgICAgLy8gdXBkYXRlIGJhc2UgZXh0ZW5kIG9wdGlvbnNcbiAgICAgIGlmIChtb2RpZmllZE9wdGlvbnMpIHtcbiAgICAgICAgZXh0ZW5kKEN0b3IuZXh0ZW5kT3B0aW9ucywgbW9kaWZpZWRPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoc3VwZXJPcHRpb25zLCBDdG9yLmV4dGVuZE9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuICAgICAgICBvcHRpb25zLmNvbXBvbmVudHNbb3B0aW9ucy5uYW1lXSA9IEN0b3I7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvcHRpb25zXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVNb2RpZmllZE9wdGlvbnMgKEN0b3IpIHtcbiAgdmFyIG1vZGlmaWVkO1xuICB2YXIgbGF0ZXN0ID0gQ3Rvci5vcHRpb25zO1xuICB2YXIgc2VhbGVkID0gQ3Rvci5zZWFsZWRPcHRpb25zO1xuICBmb3IgKHZhciBrZXkgaW4gbGF0ZXN0KSB7XG4gICAgaWYgKGxhdGVzdFtrZXldICE9PSBzZWFsZWRba2V5XSkge1xuICAgICAgaWYgKCFtb2RpZmllZCkgeyBtb2RpZmllZCA9IHt9OyB9XG4gICAgICBtb2RpZmllZFtrZXldID0gbGF0ZXN0W2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBtb2RpZmllZFxufVxuXG5mdW5jdGlvbiBWdWUgKG9wdGlvbnMpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAhKHRoaXMgaW5zdGFuY2VvZiBWdWUpXG4gICkge1xuICAgIHdhcm4oJ1Z1ZSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBuZXdgIGtleXdvcmQnKTtcbiAgfVxuICB0aGlzLl9pbml0KG9wdGlvbnMpO1xufVxuXG5pbml0TWl4aW4oVnVlKTtcbnN0YXRlTWl4aW4oVnVlKTtcbmV2ZW50c01peGluKFZ1ZSk7XG5saWZlY3ljbGVNaXhpbihWdWUpO1xucmVuZGVyTWl4aW4oVnVlKTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRVc2UgKFZ1ZSkge1xuICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgIHZhciBpbnN0YWxsZWRQbHVnaW5zID0gKHRoaXMuX2luc3RhbGxlZFBsdWdpbnMgfHwgKHRoaXMuX2luc3RhbGxlZFBsdWdpbnMgPSBbXSkpO1xuICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmluZGV4T2YocGx1Z2luKSA+IC0xKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1ldGVyc1xuICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICBpZiAodHlwZW9mIHBsdWdpbi5pbnN0YWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwbHVnaW4uaW5zdGFsbC5hcHBseShwbHVnaW4sIGFyZ3MpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBsdWdpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGx1Z2luLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH1cbiAgICBpbnN0YWxsZWRQbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICByZXR1cm4gdGhpc1xuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdE1peGluJDEgKFZ1ZSkge1xuICBWdWUubWl4aW4gPSBmdW5jdGlvbiAobWl4aW4pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBtaXhpbik7XG4gICAgcmV0dXJuIHRoaXNcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRFeHRlbmQgKFZ1ZSkge1xuICAvKipcbiAgICogRWFjaCBpbnN0YW5jZSBjb25zdHJ1Y3RvciwgaW5jbHVkaW5nIFZ1ZSwgaGFzIGEgdW5pcXVlXG4gICAqIGNpZC4gVGhpcyBlbmFibGVzIHVzIHRvIGNyZWF0ZSB3cmFwcGVkIFwiY2hpbGRcbiAgICogY29uc3RydWN0b3JzXCIgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgYW5kIGNhY2hlIHRoZW0uXG4gICAqL1xuICBWdWUuY2lkID0gMDtcbiAgdmFyIGNpZCA9IDE7XG5cbiAgLyoqXG4gICAqIENsYXNzIGluaGVyaXRhbmNlXG4gICAqL1xuICBWdWUuZXh0ZW5kID0gZnVuY3Rpb24gKGV4dGVuZE9wdGlvbnMpIHtcbiAgICBleHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgU3VwZXIgPSB0aGlzO1xuICAgIHZhciBTdXBlcklkID0gU3VwZXIuY2lkO1xuICAgIHZhciBjYWNoZWRDdG9ycyA9IGV4dGVuZE9wdGlvbnMuX0N0b3IgfHwgKGV4dGVuZE9wdGlvbnMuX0N0b3IgPSB7fSk7XG4gICAgaWYgKGNhY2hlZEN0b3JzW1N1cGVySWRdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkQ3RvcnNbU3VwZXJJZF1cbiAgICB9XG5cbiAgICB2YXIgbmFtZSA9IGV4dGVuZE9wdGlvbnMubmFtZSB8fCBTdXBlci5vcHRpb25zLm5hbWU7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbmFtZSkge1xuICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBTdWIgPSBmdW5jdGlvbiBWdWVDb21wb25lbnQgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpO1xuICAgIFN1Yi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWI7XG4gICAgU3ViLmNpZCA9IGNpZCsrO1xuICAgIFN1Yi5vcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuICAgICAgU3VwZXIub3B0aW9ucyxcbiAgICAgIGV4dGVuZE9wdGlvbnNcbiAgICApO1xuICAgIFN1Ylsnc3VwZXInXSA9IFN1cGVyO1xuXG4gICAgLy8gRm9yIHByb3BzIGFuZCBjb21wdXRlZCBwcm9wZXJ0aWVzLCB3ZSBkZWZpbmUgdGhlIHByb3h5IGdldHRlcnMgb25cbiAgICAvLyB0aGUgVnVlIGluc3RhbmNlcyBhdCBleHRlbnNpb24gdGltZSwgb24gdGhlIGV4dGVuZGVkIHByb3RvdHlwZS4gVGhpc1xuICAgIC8vIGF2b2lkcyBPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbHMgZm9yIGVhY2ggaW5zdGFuY2UgY3JlYXRlZC5cbiAgICBpZiAoU3ViLm9wdGlvbnMucHJvcHMpIHtcbiAgICAgIGluaXRQcm9wcyQxKFN1Yik7XG4gICAgfVxuICAgIGlmIChTdWIub3B0aW9ucy5jb21wdXRlZCkge1xuICAgICAgaW5pdENvbXB1dGVkJDEoU3ViKTtcbiAgICB9XG5cbiAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2VcbiAgICBTdWIuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICAgIFN1Yi5taXhpbiA9IFN1cGVyLm1peGluO1xuICAgIFN1Yi51c2UgPSBTdXBlci51c2U7XG5cbiAgICAvLyBjcmVhdGUgYXNzZXQgcmVnaXN0ZXJzLCBzbyBleHRlbmRlZCBjbGFzc2VzXG4gICAgLy8gY2FuIGhhdmUgdGhlaXIgcHJpdmF0ZSBhc3NldHMgdG9vLlxuICAgIEFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdO1xuICAgIH0pO1xuICAgIC8vIGVuYWJsZSByZWN1cnNpdmUgc2VsZi1sb29rdXBcbiAgICBpZiAobmFtZSkge1xuICAgICAgU3ViLm9wdGlvbnMuY29tcG9uZW50c1tuYW1lXSA9IFN1YjtcbiAgICB9XG5cbiAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzdXBlciBvcHRpb25zIGF0IGV4dGVuc2lvbiB0aW1lLlxuICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlXG4gICAgLy8gYmVlbiB1cGRhdGVkLlxuICAgIFN1Yi5zdXBlck9wdGlvbnMgPSBTdXBlci5vcHRpb25zO1xuICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucztcbiAgICBTdWIuc2VhbGVkT3B0aW9ucyA9IGV4dGVuZCh7fSwgU3ViLm9wdGlvbnMpO1xuXG4gICAgLy8gY2FjaGUgY29uc3RydWN0b3JcbiAgICBjYWNoZWRDdG9yc1tTdXBlcklkXSA9IFN1YjtcbiAgICByZXR1cm4gU3ViXG4gIH07XG59XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyQxIChDb21wKSB7XG4gIHZhciBwcm9wcyA9IENvbXAub3B0aW9ucy5wcm9wcztcbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgcHJveHkoQ29tcC5wcm90b3R5cGUsIFwiX3Byb3BzXCIsIGtleSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdENvbXB1dGVkJDEgKENvbXApIHtcbiAgdmFyIGNvbXB1dGVkID0gQ29tcC5vcHRpb25zLmNvbXB1dGVkO1xuICBmb3IgKHZhciBrZXkgaW4gY29tcHV0ZWQpIHtcbiAgICBkZWZpbmVDb21wdXRlZChDb21wLnByb3RvdHlwZSwga2V5LCBjb21wdXRlZFtrZXldKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEFzc2V0UmVnaXN0ZXJzIChWdWUpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhc3NldCByZWdpc3RyYXRpb24gbWV0aG9kcy5cbiAgICovXG4gIEFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBWdWVbdHlwZV0gPSBmdW5jdGlvbiAoXG4gICAgICBpZCxcbiAgICAgIGRlZmluaXRpb25cbiAgICApIHtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGUgPT09ICdjb21wb25lbnQnKSB7XG4gICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkge1xuICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IGRlZmluaXRpb24ubmFtZSB8fCBpZDtcbiAgICAgICAgICBkZWZpbml0aW9uID0gdGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChkZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2RpcmVjdGl2ZScgJiYgdHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBkZWZpbml0aW9uID0geyBiaW5kOiBkZWZpbml0aW9uLCB1cGRhdGU6IGRlZmluaXRpb24gfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdID0gZGVmaW5pdGlvbjtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb25cbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuLyogICovXG5cblxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lIChvcHRzKSB7XG4gIHJldHVybiBvcHRzICYmIChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKVxufVxuXG5mdW5jdGlvbiBtYXRjaGVzIChwYXR0ZXJuLCBuYW1lKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uaW5kZXhPZihuYW1lKSA+IC0xXG4gIH0gZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTFcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSlcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gcHJ1bmVDYWNoZSAoa2VlcEFsaXZlSW5zdGFuY2UsIGZpbHRlcikge1xuICB2YXIgY2FjaGUgPSBrZWVwQWxpdmVJbnN0YW5jZS5jYWNoZTtcbiAgdmFyIGtleXMgPSBrZWVwQWxpdmVJbnN0YW5jZS5rZXlzO1xuICB2YXIgX3Zub2RlID0ga2VlcEFsaXZlSW5zdGFuY2UuX3Zub2RlO1xuICBmb3IgKHZhciBrZXkgaW4gY2FjaGUpIHtcbiAgICB2YXIgY2FjaGVkTm9kZSA9IGNhY2hlW2tleV07XG4gICAgaWYgKGNhY2hlZE5vZGUpIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjYWNoZWROb2RlLmNvbXBvbmVudE9wdGlvbnMpO1xuICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkge1xuICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleSwga2V5cywgX3Zub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5IChcbiAgY2FjaGUsXG4gIGtleSxcbiAga2V5cyxcbiAgY3VycmVudFxuKSB7XG4gIHZhciBjYWNoZWQkJDEgPSBjYWNoZVtrZXldO1xuICBpZiAoY2FjaGVkJCQxICYmICghY3VycmVudCB8fCBjYWNoZWQkJDEudGFnICE9PSBjdXJyZW50LnRhZykpIHtcbiAgICBjYWNoZWQkJDEuY29tcG9uZW50SW5zdGFuY2UuJGRlc3Ryb3koKTtcbiAgfVxuICBjYWNoZVtrZXldID0gbnVsbDtcbiAgcmVtb3ZlKGtleXMsIGtleSk7XG59XG5cbnZhciBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XTtcblxudmFyIEtlZXBBbGl2ZSA9IHtcbiAgbmFtZTogJ2tlZXAtYWxpdmUnLFxuICBhYnN0cmFjdDogdHJ1ZSxcblxuICBwcm9wczoge1xuICAgIGluY2x1ZGU6IHBhdHRlcm5UeXBlcyxcbiAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXMsXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG5cbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCAoKSB7XG4gICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5rZXlzID0gW107XG4gIH0sXG5cbiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQgKCkge1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlKSB7XG4gICAgICBwcnVuZUNhY2hlRW50cnkodGhpcy5jYWNoZSwga2V5LCB0aGlzLmtleXMpO1xuICAgIH1cbiAgfSxcblxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHRoaXMuJHdhdGNoKCdpbmNsdWRlJywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcHJ1bmVDYWNoZSh0aGlzJDEsIGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBtYXRjaGVzKHZhbCwgbmFtZSk7IH0pO1xuICAgIH0pO1xuICAgIHRoaXMuJHdhdGNoKCdleGNsdWRlJywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcHJ1bmVDYWNoZSh0aGlzJDEsIGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiAhbWF0Y2hlcyh2YWwsIG5hbWUpOyB9KTtcbiAgICB9KTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoKSB7XG4gICAgdmFyIHNsb3QgPSB0aGlzLiRzbG90cy5kZWZhdWx0O1xuICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7XG4gICAgdmFyIGNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICAgIGlmIChjb21wb25lbnRPcHRpb25zKSB7XG4gICAgICAvLyBjaGVjayBwYXR0ZXJuXG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgIHZhciBpbmNsdWRlID0gcmVmLmluY2x1ZGU7XG4gICAgICB2YXIgZXhjbHVkZSA9IHJlZi5leGNsdWRlO1xuICAgICAgaWYgKFxuICAgICAgICAvLyBub3QgaW5jbHVkZWRcbiAgICAgICAgKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcbiAgICAgICAgLy8gZXhjbHVkZWRcbiAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB2bm9kZVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVmJDEgPSB0aGlzO1xuICAgICAgdmFyIGNhY2hlID0gcmVmJDEuY2FjaGU7XG4gICAgICB2YXIga2V5cyA9IHJlZiQxLmtleXM7XG4gICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGxcbiAgICAgICAgLy8gc2FtZSBjb25zdHJ1Y3RvciBtYXkgZ2V0IHJlZ2lzdGVyZWQgYXMgZGlmZmVyZW50IGxvY2FsIGNvbXBvbmVudHNcbiAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxuICAgICAgICA/IGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgKyAoY29tcG9uZW50T3B0aW9ucy50YWcgPyAoXCI6OlwiICsgKGNvbXBvbmVudE9wdGlvbnMudGFnKSkgOiAnJylcbiAgICAgICAgOiB2bm9kZS5rZXk7XG4gICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNhY2hlW2tleV0uY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICAgIC8vIG1ha2UgY3VycmVudCBrZXkgZnJlc2hlc3RcbiAgICAgICAgcmVtb3ZlKGtleXMsIGtleSk7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FjaGVba2V5XSA9IHZub2RlO1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgLy8gcHJ1bmUgb2xkZXN0IGVudHJ5XG4gICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1swXSwga2V5cywgdGhpcy5fdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlIHx8IChzbG90ICYmIHNsb3RbMF0pXG4gIH1cbn07XG5cbnZhciBidWlsdEluQ29tcG9uZW50cyA9IHtcbiAgS2VlcEFsaXZlOiBLZWVwQWxpdmVcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0R2xvYmFsQVBJIChWdWUpIHtcbiAgLy8gY29uZmlnXG4gIHZhciBjb25maWdEZWYgPSB7fTtcbiAgY29uZmlnRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmZpZzsgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25maWdEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJ1xuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICdjb25maWcnLCBjb25maWdEZWYpO1xuXG4gIC8vIGV4cG9zZWQgdXRpbCBtZXRob2RzLlxuICAvLyBOT1RFOiB0aGVzZSBhcmUgbm90IGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgcHVibGljIEFQSSAtIGF2b2lkIHJlbHlpbmcgb25cbiAgLy8gdGhlbSB1bmxlc3MgeW91IGFyZSBhd2FyZSBvZiB0aGUgcmlzay5cbiAgVnVlLnV0aWwgPSB7XG4gICAgd2Fybjogd2FybixcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICBtZXJnZU9wdGlvbnM6IG1lcmdlT3B0aW9ucyxcbiAgICBkZWZpbmVSZWFjdGl2ZTogZGVmaW5lUmVhY3RpdmUkJDFcbiAgfTtcblxuICBWdWUuc2V0ID0gc2V0O1xuICBWdWUuZGVsZXRlID0gZGVsO1xuICBWdWUubmV4dFRpY2sgPSBuZXh0VGljaztcblxuICAvLyAyLjYgZXhwbGljaXQgb2JzZXJ2YWJsZSBBUElcbiAgVnVlLm9ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JzZXJ2ZShvYmopO1xuICAgIHJldHVybiBvYmpcbiAgfTtcblxuICBWdWUub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIEFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBWdWUub3B0aW9uc1t0eXBlICsgJ3MnXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH0pO1xuXG4gIC8vIHRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgXCJiYXNlXCIgY29uc3RydWN0b3IgdG8gZXh0ZW5kIGFsbCBwbGFpbi1vYmplY3RcbiAgLy8gY29tcG9uZW50cyB3aXRoIGluIFdlZXgncyBtdWx0aS1pbnN0YW5jZSBzY2VuYXJpb3MuXG4gIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlO1xuXG4gIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7XG5cbiAgaW5pdFVzZShWdWUpO1xuICBpbml0TWl4aW4kMShWdWUpO1xuICBpbml0RXh0ZW5kKFZ1ZSk7XG4gIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpO1xufVxuXG5pbml0R2xvYmFsQVBJKFZ1ZSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGlzU2VydmVyJywge1xuICBnZXQ6IGlzU2VydmVyUmVuZGVyaW5nXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckc3NyQ29udGV4dCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQgKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHRcbiAgfVxufSk7XG5cbi8vIGV4cG9zZSBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dCBmb3Igc3NyIHJ1bnRpbWUgaGVscGVyIGluc3RhbGxhdGlvblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ0Z1bmN0aW9uYWxSZW5kZXJDb250ZXh0Jywge1xuICB2YWx1ZTogRnVuY3Rpb25hbFJlbmRlckNvbnRleHRcbn0pO1xuXG5WdWUudmVyc2lvbiA9ICcyLjYuMTAnO1xuXG4vKiAgKi9cblxuLy8gdGhlc2UgYXJlIHJlc2VydmVkIGZvciB3ZWIgYmVjYXVzZSB0aGV5IGFyZSBkaXJlY3RseSBjb21waWxlZCBhd2F5XG4vLyBkdXJpbmcgdGVtcGxhdGUgY29tcGlsYXRpb25cbnZhciBpc1Jlc2VydmVkQXR0ciA9IG1ha2VNYXAoJ3N0eWxlLGNsYXNzJyk7XG5cbi8vIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgdXNpbmcgcHJvcHMgZm9yIGJpbmRpbmdcbnZhciBhY2NlcHRWYWx1ZSA9IG1ha2VNYXAoJ2lucHV0LHRleHRhcmVhLG9wdGlvbixzZWxlY3QscHJvZ3Jlc3MnKTtcbnZhciBtdXN0VXNlUHJvcCA9IGZ1bmN0aW9uICh0YWcsIHR5cGUsIGF0dHIpIHtcbiAgcmV0dXJuIChcbiAgICAoYXR0ciA9PT0gJ3ZhbHVlJyAmJiBhY2NlcHRWYWx1ZSh0YWcpKSAmJiB0eXBlICE9PSAnYnV0dG9uJyB8fFxuICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8XG4gICAgKGF0dHIgPT09ICdjaGVja2VkJyAmJiB0YWcgPT09ICdpbnB1dCcpIHx8XG4gICAgKGF0dHIgPT09ICdtdXRlZCcgJiYgdGFnID09PSAndmlkZW8nKVxuICApXG59O1xuXG52YXIgaXNFbnVtZXJhdGVkQXR0ciA9IG1ha2VNYXAoJ2NvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjaycpO1xuXG52YXIgaXNWYWxpZENvbnRlbnRFZGl0YWJsZVZhbHVlID0gbWFrZU1hcCgnZXZlbnRzLGNhcmV0LHR5cGluZyxwbGFpbnRleHQtb25seScpO1xuXG52YXIgY29udmVydEVudW1lcmF0ZWRWYWx1ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJ1xuICAgID8gJ2ZhbHNlJ1xuICAgIC8vIGFsbG93IGFyYml0cmFyeSBzdHJpbmcgdmFsdWUgZm9yIGNvbnRlbnRlZGl0YWJsZVxuICAgIDoga2V5ID09PSAnY29udGVudGVkaXRhYmxlJyAmJiBpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6ICd0cnVlJ1xufTtcblxudmFyIGlzQm9vbGVhbkF0dHIgPSBtYWtlTWFwKFxuICAnYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSwnICtcbiAgJ2RlZmF1bHQsZGVmYXVsdGNoZWNrZWQsZGVmYXVsdG11dGVkLGRlZmF1bHRzZWxlY3RlZCxkZWZlcixkaXNhYmxlZCwnICtcbiAgJ2VuYWJsZWQsZm9ybW5vdmFsaWRhdGUsaGlkZGVuLGluZGV0ZXJtaW5hdGUsaW5lcnQsaXNtYXAsaXRlbXNjb3BlLGxvb3AsbXVsdGlwbGUsJyArXG4gICdtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LCcgK1xuICAncmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNvcnRhYmxlLHRyYW5zbGF0ZSwnICtcbiAgJ3RydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUnXG4pO1xuXG52YXIgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcblxudmFyIGlzWGxpbmsgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoNSkgPT09ICc6JyAmJiBuYW1lLnNsaWNlKDAsIDUpID09PSAneGxpbmsnXG59O1xuXG52YXIgZ2V0WGxpbmtQcm9wID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIGlzWGxpbmsobmFtZSkgPyBuYW1lLnNsaWNlKDYsIG5hbWUubGVuZ3RoKSA6ICcnXG59O1xuXG52YXIgaXNGYWxzeUF0dHJWYWx1ZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PSBudWxsIHx8IHZhbCA9PT0gZmFsc2Vcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBnZW5DbGFzc0ZvclZub2RlICh2bm9kZSkge1xuICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XG4gIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcbiAgd2hpbGUgKGlzRGVmKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcbiAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShjaGlsZE5vZGUuZGF0YSwgZGF0YSk7XG4gICAgfVxuICB9XG4gIHdoaWxlIChpc0RlZihwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5kYXRhKSB7XG4gICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoZGF0YSwgcGFyZW50Tm9kZS5kYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlbmRlckNsYXNzKGRhdGEuc3RhdGljQ2xhc3MsIGRhdGEuY2xhc3MpXG59XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NEYXRhIChjaGlsZCwgcGFyZW50KSB7XG4gIHJldHVybiB7XG4gICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSxcbiAgICBjbGFzczogaXNEZWYoY2hpbGQuY2xhc3MpXG4gICAgICA/IFtjaGlsZC5jbGFzcywgcGFyZW50LmNsYXNzXVxuICAgICAgOiBwYXJlbnQuY2xhc3NcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJDbGFzcyAoXG4gIHN0YXRpY0NsYXNzLFxuICBkeW5hbWljQ2xhc3Ncbikge1xuICBpZiAoaXNEZWYoc3RhdGljQ2xhc3MpIHx8IGlzRGVmKGR5bmFtaWNDbGFzcykpIHtcbiAgICByZXR1cm4gY29uY2F0KHN0YXRpY0NsYXNzLCBzdHJpbmdpZnlDbGFzcyhkeW5hbWljQ2xhc3MpKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiAnJ1xufVxuXG5mdW5jdGlvbiBjb25jYXQgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJylcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3MgKHZhbHVlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBzdHJpbmdpZnlBcnJheSh2YWx1ZSlcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSlcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiAnJ1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlBcnJheSAodmFsdWUpIHtcbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgc3RyaW5naWZpZWQ7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGlzRGVmKHN0cmluZ2lmaWVkID0gc3RyaW5naWZ5Q2xhc3ModmFsdWVbaV0pKSAmJiBzdHJpbmdpZmllZCAhPT0gJycpIHtcbiAgICAgIGlmIChyZXMpIHsgcmVzICs9ICcgJzsgfVxuICAgICAgcmVzICs9IHN0cmluZ2lmaWVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeU9iamVjdCAodmFsdWUpIHtcbiAgdmFyIHJlcyA9ICcnO1xuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAodmFsdWVba2V5XSkge1xuICAgICAgaWYgKHJlcykgeyByZXMgKz0gJyAnOyB9XG4gICAgICByZXMgKz0ga2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG52YXIgbmFtZXNwYWNlTWFwID0ge1xuICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG4gIG1hdGg6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJ1xufTtcblxudmFyIGlzSFRNTFRhZyA9IG1ha2VNYXAoXG4gICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSwnICtcbiAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbiwnICtcbiAgJ2RpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLCcgK1xuICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgK1xuICAncyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sJyArXG4gICdlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucywnICtcbiAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgK1xuICAnYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbiwnICtcbiAgJ291dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArXG4gICdjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290J1xuKTtcblxuLy8gdGhpcyBtYXAgaXMgaW50ZW50aW9uYWxseSBzZWxlY3RpdmUsIG9ubHkgY292ZXJpbmcgU1ZHIGVsZW1lbnRzIHRoYXQgbWF5XG4vLyBjb250YWluIGNoaWxkIGVsZW1lbnRzLlxudmFyIGlzU1ZHID0gbWFrZU1hcChcbiAgJ3N2ZyxhbmltYXRlLGNpcmNsZSxjbGlwcGF0aCxjdXJzb3IsZGVmcyxkZXNjLGVsbGlwc2UsZmlsdGVyLGZvbnQtZmFjZSwnICtcbiAgJ2ZvcmVpZ25PYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLCcgK1xuICAncG9seWdvbixwb2x5bGluZSxyZWN0LHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0cGF0aCx0c3Bhbix1c2UsdmlldycsXG4gIHRydWVcbik7XG5cbnZhciBpc1ByZVRhZyA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHRhZyA9PT0gJ3ByZSc7IH07XG5cbnZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICByZXR1cm4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkcodGFnKVxufTtcblxuZnVuY3Rpb24gZ2V0VGFnTmFtZXNwYWNlICh0YWcpIHtcbiAgaWYgKGlzU1ZHKHRhZykpIHtcbiAgICByZXR1cm4gJ3N2ZydcbiAgfVxuICAvLyBiYXNpYyBzdXBwb3J0IGZvciBNYXRoTUxcbiAgLy8gbm90ZSBpdCBkb2Vzbid0IHN1cHBvcnQgb3RoZXIgTWF0aE1MIGVsZW1lbnRzIGJlaW5nIGNvbXBvbmVudCByb290c1xuICBpZiAodGFnID09PSAnbWF0aCcpIHtcbiAgICByZXR1cm4gJ21hdGgnXG4gIH1cbn1cblxudmFyIHVua25vd25FbGVtZW50Q2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCAodGFnKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWluQnJvd3Nlcikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKGlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHRhZyA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHVua25vd25FbGVtZW50Q2FjaGVbdGFnXVxuICB9XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgaWYgKHRhZy5pbmRleE9mKCctJykgPiAtMSkge1xuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4MjEwMzY0LzEwNzAyNDRcbiAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IChcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTFVua25vd25FbGVtZW50IHx8XG4gICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxFbGVtZW50XG4gICAgKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpXG4gIH1cbn1cblxudmFyIGlzVGV4dElucHV0VHlwZSA9IG1ha2VNYXAoJ3RleHQsbnVtYmVyLHBhc3N3b3JkLHNlYXJjaCxlbWFpbCx0ZWwsdXJsJyk7XG5cbi8qICAqL1xuXG4vKipcbiAqIFF1ZXJ5IGFuIGVsZW1lbnQgc2VsZWN0b3IgaWYgaXQncyBub3QgYW4gZWxlbWVudCBhbHJlYWR5LlxuICovXG5mdW5jdGlvbiBxdWVyeSAoZWwpIHtcbiAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICBpZiAoIXNlbGVjdGVkKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICdDYW5ub3QgZmluZCBlbGVtZW50OiAnICsgZWxcbiAgICAgICk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdGVkXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVsXG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQkMSAodGFnTmFtZSwgdm5vZGUpIHtcbiAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gIGlmICh0YWdOYW1lICE9PSAnc2VsZWN0Jykge1xuICAgIHJldHVybiBlbG1cbiAgfVxuICAvLyBmYWxzZSBvciBudWxsIHdpbGwgcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgYnV0IHVuZGVmaW5lZCB3aWxsIG5vdFxuICBpZiAodm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLmF0dHJzICYmIHZub2RlLmRhdGEuYXR0cnMubXVsdGlwbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XG4gIH1cbiAgcmV0dXJuIGVsbVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMgKG5hbWVzcGFjZSwgdGFnTmFtZSkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdLCB0YWdOYW1lKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZSAodGV4dCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dClcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudCAodGV4dCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0ZXh0KVxufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUgKHBhcmVudE5vZGUsIG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkIChub2RlLCBjaGlsZCkge1xuICBub2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG4gIG5vZGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBwYXJlbnROb2RlIChub2RlKSB7XG4gIHJldHVybiBub2RlLnBhcmVudE5vZGVcbn1cblxuZnVuY3Rpb24gbmV4dFNpYmxpbmcgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubmV4dFNpYmxpbmdcbn1cblxuZnVuY3Rpb24gdGFnTmFtZSAobm9kZSkge1xuICByZXR1cm4gbm9kZS50YWdOYW1lXG59XG5cbmZ1bmN0aW9uIHNldFRleHRDb250ZW50IChub2RlLCB0ZXh0KSB7XG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufVxuXG5mdW5jdGlvbiBzZXRTdHlsZVNjb3BlIChub2RlLCBzY29wZUlkKSB7XG4gIG5vZGUuc2V0QXR0cmlidXRlKHNjb3BlSWQsICcnKTtcbn1cblxudmFyIG5vZGVPcHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcbiAgY3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG4gIGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcbiAgY3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcbiAgaW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG4gIHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcbiAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuICBwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG4gIHRhZ05hbWU6IHRhZ05hbWUsXG4gIHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcbiAgc2V0U3R5bGVTY29wZTogc2V0U3R5bGVTY29wZVxufSk7XG5cbi8qICAqL1xuXG52YXIgcmVmID0ge1xuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSAoXywgdm5vZGUpIHtcbiAgICByZWdpc3RlclJlZih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7XG4gICAgICByZWdpc3RlclJlZihvbGRWbm9kZSwgdHJ1ZSk7XG4gICAgICByZWdpc3RlclJlZih2bm9kZSk7XG4gICAgfVxuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkge1xuICAgIHJlZ2lzdGVyUmVmKHZub2RlLCB0cnVlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVnaXN0ZXJSZWYgKHZub2RlLCBpc1JlbW92YWwpIHtcbiAgdmFyIGtleSA9IHZub2RlLmRhdGEucmVmO1xuICBpZiAoIWlzRGVmKGtleSkpIHsgcmV0dXJuIH1cblxuICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xuICB2YXIgcmVmID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgfHwgdm5vZGUuZWxtO1xuICB2YXIgcmVmcyA9IHZtLiRyZWZzO1xuICBpZiAoaXNSZW1vdmFsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVmc1trZXldKSkge1xuICAgICAgcmVtb3ZlKHJlZnNba2V5XSwgcmVmKTtcbiAgICB9IGVsc2UgaWYgKHJlZnNba2V5XSA9PT0gcmVmKSB7XG4gICAgICByZWZzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh2bm9kZS5kYXRhLnJlZkluRm9yKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVmc1trZXldKSkge1xuICAgICAgICByZWZzW2tleV0gPSBbcmVmXTtcbiAgICAgIH0gZWxzZSBpZiAocmVmc1trZXldLmluZGV4T2YocmVmKSA8IDApIHtcbiAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgICAgIHJlZnNba2V5XS5wdXNoKHJlZik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZnNba2V5XSA9IHJlZjtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBWaXJ0dWFsIERPTSBwYXRjaGluZyBhbGdvcml0aG0gYmFzZWQgb24gU25hYmJkb20gYnlcbiAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZClcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BhbGRlcGluZC9zbmFiYmRvbS9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogbW9kaWZpZWQgYnkgRXZhbiBZb3UgKEB5eXg5OTA4MDMpXG4gKlxuICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBiZWNhdXNlIHRoaXMgZmlsZSBpcyBwZXJmLWNyaXRpY2FsIGFuZCB0aGUgY29zdFxuICogb2YgbWFraW5nIGZsb3cgdW5kZXJzdGFuZCBpdCBpcyBub3Qgd29ydGggaXQuXG4gKi9cblxudmFyIGVtcHR5Tm9kZSA9IG5ldyBWTm9kZSgnJywge30sIFtdKTtcblxudmFyIGhvb2tzID0gWydjcmVhdGUnLCAnYWN0aXZhdGUnLCAndXBkYXRlJywgJ3JlbW92ZScsICdkZXN0cm95J107XG5cbmZ1bmN0aW9uIHNhbWVWbm9kZSAoYSwgYikge1xuICByZXR1cm4gKFxuICAgIGEua2V5ID09PSBiLmtleSAmJiAoXG4gICAgICAoXG4gICAgICAgIGEudGFnID09PSBiLnRhZyAmJlxuICAgICAgICBhLmlzQ29tbWVudCA9PT0gYi5pc0NvbW1lbnQgJiZcbiAgICAgICAgaXNEZWYoYS5kYXRhKSA9PT0gaXNEZWYoYi5kYXRhKSAmJlxuICAgICAgICBzYW1lSW5wdXRUeXBlKGEsIGIpXG4gICAgICApIHx8IChcbiAgICAgICAgaXNUcnVlKGEuaXNBc3luY1BsYWNlaG9sZGVyKSAmJlxuICAgICAgICBhLmFzeW5jRmFjdG9yeSA9PT0gYi5hc3luY0ZhY3RvcnkgJiZcbiAgICAgICAgaXNVbmRlZihiLmFzeW5jRmFjdG9yeS5lcnJvcilcbiAgICAgIClcbiAgICApXG4gIClcbn1cblxuZnVuY3Rpb24gc2FtZUlucHV0VHlwZSAoYSwgYikge1xuICBpZiAoYS50YWcgIT09ICdpbnB1dCcpIHsgcmV0dXJuIHRydWUgfVxuICB2YXIgaTtcbiAgdmFyIHR5cGVBID0gaXNEZWYoaSA9IGEuZGF0YSkgJiYgaXNEZWYoaSA9IGkuYXR0cnMpICYmIGkudHlwZTtcbiAgdmFyIHR5cGVCID0gaXNEZWYoaSA9IGIuZGF0YSkgJiYgaXNEZWYoaSA9IGkuYXR0cnMpICYmIGkudHlwZTtcbiAgcmV0dXJuIHR5cGVBID09PSB0eXBlQiB8fCBpc1RleHRJbnB1dFR5cGUodHlwZUEpICYmIGlzVGV4dElucHV0VHlwZSh0eXBlQilcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5VG9PbGRJZHggKGNoaWxkcmVuLCBiZWdpbklkeCwgZW5kSWR4KSB7XG4gIHZhciBpLCBrZXk7XG4gIHZhciBtYXAgPSB7fTtcbiAgZm9yIChpID0gYmVnaW5JZHg7IGkgPD0gZW5kSWR4OyArK2kpIHtcbiAgICBrZXkgPSBjaGlsZHJlbltpXS5rZXk7XG4gICAgaWYgKGlzRGVmKGtleSkpIHsgbWFwW2tleV0gPSBpOyB9XG4gIH1cbiAgcmV0dXJuIG1hcFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXRjaEZ1bmN0aW9uIChiYWNrZW5kKSB7XG4gIHZhciBpLCBqO1xuICB2YXIgY2JzID0ge307XG5cbiAgdmFyIG1vZHVsZXMgPSBiYWNrZW5kLm1vZHVsZXM7XG4gIHZhciBub2RlT3BzID0gYmFja2VuZC5ub2RlT3BzO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7ICsraSkge1xuICAgIGNic1tob29rc1tpXV0gPSBbXTtcbiAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikge1xuICAgICAgaWYgKGlzRGVmKG1vZHVsZXNbal1baG9va3NbaV1dKSkge1xuICAgICAgICBjYnNbaG9va3NbaV1dLnB1c2gobW9kdWxlc1tqXVtob29rc1tpXV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtcHR5Tm9kZUF0IChlbG0pIHtcbiAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGVPcHMudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCksIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSbUNiIChjaGlsZEVsbSwgbGlzdGVuZXJzKSB7XG4gICAgZnVuY3Rpb24gcmVtb3ZlJCQxICgpIHtcbiAgICAgIGlmICgtLXJlbW92ZSQkMS5saXN0ZW5lcnMgPT09IDApIHtcbiAgICAgICAgcmVtb3ZlTm9kZShjaGlsZEVsbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSQkMS5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG4gICAgcmV0dXJuIHJlbW92ZSQkMVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTm9kZSAoZWwpIHtcbiAgICB2YXIgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsKTtcbiAgICAvLyBlbGVtZW50IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkIGR1ZSB0byB2LWh0bWwgLyB2LXRleHRcbiAgICBpZiAoaXNEZWYocGFyZW50KSkge1xuICAgICAgbm9kZU9wcy5yZW1vdmVDaGlsZChwYXJlbnQsIGVsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1Vua25vd25FbGVtZW50JCQxICh2bm9kZSwgaW5WUHJlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICFpblZQcmUgJiZcbiAgICAgICF2bm9kZS5ucyAmJlxuICAgICAgIShcbiAgICAgICAgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5sZW5ndGggJiZcbiAgICAgICAgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5zb21lKGZ1bmN0aW9uIChpZ25vcmUpIHtcbiAgICAgICAgICByZXR1cm4gaXNSZWdFeHAoaWdub3JlKVxuICAgICAgICAgICAgPyBpZ25vcmUudGVzdCh2bm9kZS50YWcpXG4gICAgICAgICAgICA6IGlnbm9yZSA9PT0gdm5vZGUudGFnXG4gICAgICAgIH0pXG4gICAgICApICYmXG4gICAgICBjb25maWcuaXNVbmtub3duRWxlbWVudCh2bm9kZS50YWcpXG4gICAgKVxuICB9XG5cbiAgdmFyIGNyZWF0aW5nRWxtSW5WUHJlID0gMDtcblxuICBmdW5jdGlvbiBjcmVhdGVFbG0gKFxuICAgIHZub2RlLFxuICAgIGluc2VydGVkVm5vZGVRdWV1ZSxcbiAgICBwYXJlbnRFbG0sXG4gICAgcmVmRWxtLFxuICAgIG5lc3RlZCxcbiAgICBvd25lckFycmF5LFxuICAgIGluZGV4XG4gICkge1xuICAgIGlmIChpc0RlZih2bm9kZS5lbG0pICYmIGlzRGVmKG93bmVyQXJyYXkpKSB7XG4gICAgICAvLyBUaGlzIHZub2RlIHdhcyB1c2VkIGluIGEgcHJldmlvdXMgcmVuZGVyIVxuICAgICAgLy8gbm93IGl0J3MgdXNlZCBhcyBhIG5ldyBub2RlLCBvdmVyd3JpdGluZyBpdHMgZWxtIHdvdWxkIGNhdXNlXG4gICAgICAvLyBwb3RlbnRpYWwgcGF0Y2ggZXJyb3JzIGRvd24gdGhlIHJvYWQgd2hlbiBpdCdzIHVzZWQgYXMgYW4gaW5zZXJ0aW9uXG4gICAgICAvLyByZWZlcmVuY2Ugbm9kZS4gSW5zdGVhZCwgd2UgY2xvbmUgdGhlIG5vZGUgb24tZGVtYW5kIGJlZm9yZSBjcmVhdGluZ1xuICAgICAgLy8gYXNzb2NpYXRlZCBET00gZWxlbWVudCBmb3IgaXQuXG4gICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgfVxuXG4gICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDsgLy8gZm9yIHRyYW5zaXRpb24gZW50ZXIgY2hlY2tcbiAgICBpZiAoY3JlYXRlQ29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XG4gICAgaWYgKGlzRGVmKHRhZykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucHJlKSB7XG4gICAgICAgICAgY3JlYXRpbmdFbG1JblZQcmUrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbmtub3duRWxlbWVudCQkMSh2bm9kZSwgY3JlYXRpbmdFbG1JblZQcmUpKSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgICdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArIHRhZyArICc+IC0gZGlkIHlvdSAnICtcbiAgICAgICAgICAgICdyZWdpc3RlciB0aGUgY29tcG9uZW50IGNvcnJlY3RseT8gRm9yIHJlY3Vyc2l2ZSBjb21wb25lbnRzLCAnICtcbiAgICAgICAgICAgICdtYWtlIHN1cmUgdG8gcHJvdmlkZSB0aGUgXCJuYW1lXCIgb3B0aW9uLicsXG4gICAgICAgICAgICB2bm9kZS5jb250ZXh0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2bm9kZS5lbG0gPSB2bm9kZS5uc1xuICAgICAgICA/IG5vZGVPcHMuY3JlYXRlRWxlbWVudE5TKHZub2RlLm5zLCB0YWcpXG4gICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpO1xuICAgICAgc2V0U2NvcGUodm5vZGUpO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIHtcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGRhdGEgJiYgZGF0YS5wcmUpIHtcbiAgICAgICAgY3JlYXRpbmdFbG1JblZQcmUtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVHJ1ZSh2bm9kZS5pc0NvbW1lbnQpKSB7XG4gICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCk7XG4gICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XG4gICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkge1xuICAgIHZhciBpID0gdm5vZGUuZGF0YTtcbiAgICBpZiAoaXNEZWYoaSkpIHtcbiAgICAgIHZhciBpc1JlYWN0aXZhdGVkID0gaXNEZWYodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGkua2VlcEFsaXZlO1xuICAgICAgaWYgKGlzRGVmKGkgPSBpLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7XG4gICAgICAgIGkodm5vZGUsIGZhbHNlIC8qIGh5ZHJhdGluZyAqLyk7XG4gICAgICB9XG4gICAgICAvLyBhZnRlciBjYWxsaW5nIHRoZSBpbml0IGhvb2ssIGlmIHRoZSB2bm9kZSBpcyBhIGNoaWxkIGNvbXBvbmVudFxuICAgICAgLy8gaXQgc2hvdWxkJ3ZlIGNyZWF0ZWQgYSBjaGlsZCBpbnN0YW5jZSBhbmQgbW91bnRlZCBpdC4gdGhlIGNoaWxkXG4gICAgICAvLyBjb21wb25lbnQgYWxzbyBoYXMgc2V0IHRoZSBwbGFjZWhvbGRlciB2bm9kZSdzIGVsbS5cbiAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIGVsZW1lbnQgYW5kIGJlIGRvbmUuXG4gICAgICBpZiAoaXNEZWYodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7XG4gICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICAgICAgaWYgKGlzVHJ1ZShpc1JlYWN0aXZhdGVkKSkge1xuICAgICAgICAgIHJlYWN0aXZhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmIChpc0RlZih2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpKSB7XG4gICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaC5hcHBseShpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmRhdGEucGVuZGluZ0luc2VydCk7XG4gICAgICB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQgPSBudWxsO1xuICAgIH1cbiAgICB2bm9kZS5lbG0gPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZS4kZWw7XG4gICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICBzZXRTY29wZSh2bm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVtcHR5IGNvbXBvbmVudCByb290LlxuICAgICAgLy8gc2tpcCBhbGwgZWxlbWVudC1yZWxhdGVkIG1vZHVsZXMgZXhjZXB0IGZvciByZWYgKCMzNDU1KVxuICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICAgICAgLy8gbWFrZSBzdXJlIHRvIGludm9rZSB0aGUgaW5zZXJ0IGhvb2tcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFjdGl2YXRlQ29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkge1xuICAgIHZhciBpO1xuICAgIC8vIGhhY2sgZm9yICM0MzM5OiBhIHJlYWN0aXZhdGVkIGNvbXBvbmVudCB3aXRoIGlubmVyIHRyYW5zaXRpb25cbiAgICAvLyBkb2VzIG5vdCB0cmlnZ2VyIGJlY2F1c2UgdGhlIGlubmVyIG5vZGUncyBjcmVhdGVkIGhvb2tzIGFyZSBub3QgY2FsbGVkXG4gICAgLy8gYWdhaW4uIEl0J3Mgbm90IGlkZWFsIHRvIGludm9sdmUgbW9kdWxlLXNwZWNpZmljIGxvZ2ljIGluIGhlcmUgYnV0XG4gICAgLy8gdGhlcmUgZG9lc24ndCBzZWVtIHRvIGJlIGEgYmV0dGVyIHdheSB0byBkbyBpdC5cbiAgICB2YXIgaW5uZXJOb2RlID0gdm5vZGU7XG4gICAgd2hpbGUgKGlubmVyTm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgaW5uZXJOb2RlID0gaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcbiAgICAgIGlmIChpc0RlZihpID0gaW5uZXJOb2RlLmRhdGEpICYmIGlzRGVmKGkgPSBpLnRyYW5zaXRpb24pKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuYWN0aXZhdGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBjYnMuYWN0aXZhdGVbaV0oZW1wdHlOb2RlLCBpbm5lck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKGlubmVyTm9kZSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVubGlrZSBhIG5ld2x5IGNyZWF0ZWQgY29tcG9uZW50LFxuICAgIC8vIGEgcmVhY3RpdmF0ZWQga2VlcC1hbGl2ZSBjb21wb25lbnQgZG9lc24ndCBpbnNlcnQgaXRzZWxmXG4gICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0IChwYXJlbnQsIGVsbSwgcmVmJCQxKSB7XG4gICAgaWYgKGlzRGVmKHBhcmVudCkpIHtcbiAgICAgIGlmIChpc0RlZihyZWYkJDEpKSB7XG4gICAgICAgIGlmIChub2RlT3BzLnBhcmVudE5vZGUocmVmJCQxKSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50LCBlbG0sIHJlZiQkMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQocGFyZW50LCBlbG0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuICh2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVLZXlzKGNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmVsbSwgbnVsbCwgdHJ1ZSwgY2hpbGRyZW4sIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNQcmltaXRpdmUodm5vZGUudGV4dCkpIHtcbiAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQodm5vZGUuZWxtLCBub2RlT3BzLmNyZWF0ZVRleHROb2RlKFN0cmluZyh2bm9kZS50ZXh0KSkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUGF0Y2hhYmxlICh2bm9kZSkge1xuICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpXG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VDcmVhdGVIb29rcyAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kkMSkge1xuICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgdm5vZGUpO1xuICAgIH1cbiAgICBpID0gdm5vZGUuZGF0YS5ob29rOyAvLyBSZXVzZSB2YXJpYWJsZVxuICAgIGlmIChpc0RlZihpKSkge1xuICAgICAgaWYgKGlzRGVmKGkuY3JlYXRlKSkgeyBpLmNyZWF0ZShlbXB0eU5vZGUsIHZub2RlKTsgfVxuICAgICAgaWYgKGlzRGVmKGkuaW5zZXJ0KSkgeyBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICAvLyBzZXQgc2NvcGUgaWQgYXR0cmlidXRlIGZvciBzY29wZWQgQ1NTLlxuICAvLyB0aGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIHRvIGF2b2lkIHRoZSBvdmVyaGVhZFxuICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuXG4gIGZ1bmN0aW9uIHNldFNjb3BlICh2bm9kZSkge1xuICAgIHZhciBpO1xuICAgIGlmIChpc0RlZihpID0gdm5vZGUuZm5TY29wZUlkKSkge1xuICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhbmNlc3RvciA9IHZub2RlO1xuICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XG4gICAgICAgIGlmIChpc0RlZihpID0gYW5jZXN0b3IuY29udGV4dCkgJiYgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG4gICAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGZvciBzbG90IGNvbnRlbnQgdGhleSBzaG91bGQgYWxzbyBnZXQgdGhlIHNjb3BlSWQgZnJvbSB0aGUgaG9zdCBpbnN0YW5jZS5cbiAgICBpZiAoaXNEZWYoaSA9IGFjdGl2ZUluc3RhbmNlKSAmJlxuICAgICAgaSAhPT0gdm5vZGUuY29udGV4dCAmJlxuICAgICAgaSAhPT0gdm5vZGUuZm5Db250ZXh0ICYmXG4gICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZClcbiAgICApIHtcbiAgICAgIG5vZGVPcHMuc2V0U3R5bGVTY29wZSh2bm9kZS5lbG0sIGkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFZub2RlcyAocGFyZW50RWxtLCByZWZFbG0sIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0sIGZhbHNlLCB2bm9kZXMsIHN0YXJ0SWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VEZXN0cm95SG9vayAodm5vZGUpIHtcbiAgICB2YXIgaSwgajtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuZGVzdHJveS5sZW5ndGg7ICsraSkgeyBjYnMuZGVzdHJveVtpXSh2bm9kZSk7IH1cbiAgICB9XG4gICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xuICAgICAgICBpbnZva2VEZXN0cm95SG9vayh2bm9kZS5jaGlsZHJlbltqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVm5vZGVzIChwYXJlbnRFbG0sIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG4gICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcbiAgICAgICAgICByZW1vdmVOb2RlKGNoLmVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rICh2bm9kZSwgcm0pIHtcbiAgICBpZiAoaXNEZWYocm0pIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG4gICAgICBpZiAoaXNEZWYocm0pKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG4gICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXJlY3RseSByZW1vdmluZ1xuICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpO1xuICAgICAgfVxuICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkge1xuICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGksIHJtKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNicy5yZW1vdmVbaV0odm5vZGUsIHJtKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7XG4gICAgICAgIGkodm5vZGUsIHJtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJtKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIHZhciBvbGRTdGFydElkeCA9IDA7XG4gICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcbiAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIHZub2RlVG9Nb3ZlLCByZWZFbG07XG5cbiAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cbiAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcbiAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhuZXdDaCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7XG4gICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpO1xuICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XG4gICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfVxuICAgICAgICBpZHhJbk9sZCA9IGlzRGVmKG5ld1N0YXJ0Vm5vZGUua2V5KVxuICAgICAgICAgID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldXG4gICAgICAgICAgOiBmaW5kSWR4SW5PbGQobmV3U3RhcnRWbm9kZSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgICBpZiAoaXNVbmRlZihpZHhJbk9sZCkpIHsgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgICBpZiAoc2FtZVZub2RlKHZub2RlVG9Nb3ZlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIHZub2RlVG9Nb3ZlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XG4gICAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcbiAgICAgIHJlZkVsbSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIHJlZkVsbSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgfSBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRHVwbGljYXRlS2V5cyAoY2hpbGRyZW4pIHtcbiAgICB2YXIgc2VlbktleXMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdm5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXk7XG4gICAgICBpZiAoaXNEZWYoa2V5KSkge1xuICAgICAgICBpZiAoc2VlbktleXNba2V5XSkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAoXCJEdXBsaWNhdGUga2V5cyBkZXRlY3RlZDogJ1wiICsga2V5ICsgXCInLiBUaGlzIG1heSBjYXVzZSBhbiB1cGRhdGUgZXJyb3IuXCIpLFxuICAgICAgICAgICAgdm5vZGUuY29udGV4dFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VlbktleXNba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kSWR4SW5PbGQgKG5vZGUsIG9sZENoLCBzdGFydCwgZW5kKSB7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIHZhciBjID0gb2xkQ2hbaV07XG4gICAgICBpZiAoaXNEZWYoYykgJiYgc2FtZVZub2RlKG5vZGUsIGMpKSB7IHJldHVybiBpIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaFZub2RlIChcbiAgICBvbGRWbm9kZSxcbiAgICB2bm9kZSxcbiAgICBpbnNlcnRlZFZub2RlUXVldWUsXG4gICAgb3duZXJBcnJheSxcbiAgICBpbmRleCxcbiAgICByZW1vdmVPbmx5XG4gICkge1xuICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpc0RlZih2bm9kZS5lbG0pICYmIGlzRGVmKG93bmVyQXJyYXkpKSB7XG4gICAgICAvLyBjbG9uZSByZXVzZWQgdm5vZGVcbiAgICAgIHZub2RlID0gb3duZXJBcnJheVtpbmRleF0gPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB9XG5cbiAgICB2YXIgZWxtID0gdm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtO1xuXG4gICAgaWYgKGlzVHJ1ZShvbGRWbm9kZS5pc0FzeW5jUGxhY2Vob2xkZXIpKSB7XG4gICAgICBpZiAoaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5LnJlc29sdmVkKSkge1xuICAgICAgICBoeWRyYXRlKG9sZFZub2RlLmVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5pc0FzeW5jUGxhY2Vob2xkZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gcmV1c2UgZWxlbWVudCBmb3Igc3RhdGljIHRyZWVzLlxuICAgIC8vIG5vdGUgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgLVxuICAgIC8vIGlmIHRoZSBuZXcgbm9kZSBpcyBub3QgY2xvbmVkIGl0IG1lYW5zIHRoZSByZW5kZXIgZnVuY3Rpb25zIGhhdmUgYmVlblxuICAgIC8vIHJlc2V0IGJ5IHRoZSBob3QtcmVsb2FkLWFwaSBhbmQgd2UgbmVlZCB0byBkbyBhIHByb3BlciByZS1yZW5kZXIuXG4gICAgaWYgKGlzVHJ1ZSh2bm9kZS5pc1N0YXRpYykgJiZcbiAgICAgIGlzVHJ1ZShvbGRWbm9kZS5pc1N0YXRpYykgJiZcbiAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmXG4gICAgICAoaXNUcnVlKHZub2RlLmlzQ2xvbmVkKSB8fCBpc1RydWUodm5vZGUuaXNPbmNlKSlcbiAgICApIHtcbiAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnByZXBhdGNoKSkge1xuICAgICAgaShvbGRWbm9kZSwgdm5vZGUpO1xuICAgIH1cblxuICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuO1xuICAgIHZhciBjaCA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc1BhdGNoYWJsZSh2bm9kZSkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMudXBkYXRlLmxlbmd0aDsgKytpKSB7IGNicy51cGRhdGVbaV0ob2xkVm5vZGUsIHZub2RlKTsgfVxuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnVwZGF0ZSkpIHsgaShvbGRWbm9kZSwgdm5vZGUpOyB9XG4gICAgfVxuICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG4gICAgICBpZiAoaXNEZWYob2xkQ2gpICYmIGlzRGVmKGNoKSkge1xuICAgICAgICBpZiAob2xkQ2ggIT09IGNoKSB7IHVwZGF0ZUNoaWxkcmVuKGVsbSwgb2xkQ2gsIGNoLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpOyB9XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH1cbiAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xuICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7XG4gICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgdm5vZGUudGV4dCk7XG4gICAgfVxuICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnBvc3RwYXRjaCkpIHsgaShvbGRWbm9kZSwgdm5vZGUpOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlSW5zZXJ0SG9vayAodm5vZGUsIHF1ZXVlLCBpbml0aWFsKSB7XG4gICAgLy8gZGVsYXkgaW5zZXJ0IGhvb2tzIGZvciBjb21wb25lbnQgcm9vdCBub2RlcywgaW52b2tlIHRoZW0gYWZ0ZXIgdGhlXG4gICAgLy8gZWxlbWVudCBpcyByZWFsbHkgaW5zZXJ0ZWRcbiAgICBpZiAoaXNUcnVlKGluaXRpYWwpICYmIGlzRGVmKHZub2RlLnBhcmVudCkpIHtcbiAgICAgIHZub2RlLnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQgPSBxdWV1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBxdWV1ZVtpXS5kYXRhLmhvb2suaW5zZXJ0KHF1ZXVlW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgaHlkcmF0aW9uQmFpbGVkID0gZmFsc2U7XG4gIC8vIGxpc3Qgb2YgbW9kdWxlcyB0aGF0IGNhbiBza2lwIGNyZWF0ZSBob29rIGR1cmluZyBoeWRyYXRpb24gYmVjYXVzZSB0aGV5XG4gIC8vIGFyZSBhbHJlYWR5IHJlbmRlcmVkIG9uIHRoZSBjbGllbnQgb3IgaGFzIG5vIG5lZWQgZm9yIGluaXRpYWxpemF0aW9uXG4gIC8vIE5vdGU6IHN0eWxlIGlzIGV4Y2x1ZGVkIGJlY2F1c2UgaXQgcmVsaWVzIG9uIGluaXRpYWwgY2xvbmUgZm9yIGZ1dHVyZVxuICAvLyBkZWVwIHVwZGF0ZXMgKCM3MDYzKS5cbiAgdmFyIGlzUmVuZGVyZWRNb2R1bGUgPSBtYWtlTWFwKCdhdHRycyxjbGFzcyxzdGF0aWNDbGFzcyxzdGF0aWNTdHlsZSxrZXknKTtcblxuICAvLyBOb3RlOiB0aGlzIGlzIGEgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uIHNvIHdlIGNhbiBhc3N1bWUgZWxtcyBhcmUgRE9NIG5vZGVzLlxuICBmdW5jdGlvbiBoeWRyYXRlIChlbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIGluVlByZSkge1xuICAgIHZhciBpO1xuICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGluVlByZSA9IGluVlByZSB8fCAoZGF0YSAmJiBkYXRhLnByZSk7XG4gICAgdm5vZGUuZWxtID0gZWxtO1xuXG4gICAgaWYgKGlzVHJ1ZSh2bm9kZS5pc0NvbW1lbnQpICYmIGlzRGVmKHZub2RlLmFzeW5jRmFjdG9yeSkpIHtcbiAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBhc3NlcnQgbm9kZSBtYXRjaFxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIWFzc2VydE5vZGVNYXRjaChlbG0sIHZub2RlLCBpblZQcmUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlLCB0cnVlIC8qIGh5ZHJhdGluZyAqLyk7IH1cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7XG4gICAgICAgIC8vIGNoaWxkIGNvbXBvbmVudC4gaXQgc2hvdWxkIGhhdmUgaHlkcmF0ZWQgaXRzIG93biB0cmVlLlxuICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEZWYodGFnKSkge1xuICAgICAgaWYgKGlzRGVmKGNoaWxkcmVuKSkge1xuICAgICAgICAvLyBlbXB0eSBlbGVtZW50LCBhbGxvdyBjbGllbnQgdG8gcGljayB1cCBhbmQgcG9wdWxhdGUgY2hpbGRyZW5cbiAgICAgICAgaWYgKCFlbG0uaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHYtaHRtbCBhbmQgZG9tUHJvcHM6IGlubmVySFRNTFxuICAgICAgICAgIGlmIChpc0RlZihpID0gZGF0YSkgJiYgaXNEZWYoaSA9IGkuZG9tUHJvcHMpICYmIGlzRGVmKGkgPSBpLmlubmVySFRNTCkpIHtcbiAgICAgICAgICAgIGlmIChpICE9PSBlbG0uaW5uZXJIVE1MKSB7XG4gICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaHlkcmF0aW9uQmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NlcnZlciBpbm5lckhUTUw6ICcsIGkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignY2xpZW50IGlubmVySFRNTDogJywgZWxtLmlubmVySFRNTCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgYW5kIGNvbXBhcmUgY2hpbGRyZW4gbGlzdHNcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbk1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBjaGlsZE5vZGUgPSBlbG0uZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgaWYgKCFjaGlsZE5vZGUgfHwgIWh5ZHJhdGUoY2hpbGROb2RlLCBjaGlsZHJlbltpJDFdLCBpbnNlcnRlZFZub2RlUXVldWUsIGluVlByZSkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBjaGlsZE5vZGUgaXMgbm90IG51bGwsIGl0IG1lYW5zIHRoZSBhY3R1YWwgY2hpbGROb2RlcyBsaXN0IGlzXG4gICAgICAgICAgICAvLyBsb25nZXIgdGhhbiB0aGUgdmlydHVhbCBjaGlsZHJlbiBsaXN0LlxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoIHx8IGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICAhaHlkcmF0aW9uQmFpbGVkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkJhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQYXJlbnQ6ICcsIGVsbSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNtYXRjaGluZyBjaGlsZE5vZGVzIHZzLiBWTm9kZXM6ICcsIGVsbS5jaGlsZE5vZGVzLCBjaGlsZHJlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgICAgdmFyIGZ1bGxJbnZva2UgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBpZiAoIWlzUmVuZGVyZWRNb2R1bGUoa2V5KSkge1xuICAgICAgICAgICAgZnVsbEludm9rZSA9IHRydWU7XG4gICAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZnVsbEludm9rZSAmJiBkYXRhWydjbGFzcyddKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGNvbGxlY3RpbmcgZGVwcyBmb3IgZGVlcCBjbGFzcyBiaW5kaW5ncyBmb3IgZnV0dXJlIHVwZGF0ZXNcbiAgICAgICAgICB0cmF2ZXJzZShkYXRhWydjbGFzcyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxtLmRhdGEgIT09IHZub2RlLnRleHQpIHtcbiAgICAgIGVsbS5kYXRhID0gdm5vZGUudGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzc2VydE5vZGVNYXRjaCAobm9kZSwgdm5vZGUsIGluVlByZSkge1xuICAgIGlmIChpc0RlZih2bm9kZS50YWcpKSB7XG4gICAgICByZXR1cm4gdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fCAoXG4gICAgICAgICFpc1Vua25vd25FbGVtZW50JCQxKHZub2RlLCBpblZQcmUpICYmXG4gICAgICAgIHZub2RlLnRhZy50b0xvd2VyQ2FzZSgpID09PSAobm9kZS50YWdOYW1lICYmIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gKHZub2RlLmlzQ29tbWVudCA/IDggOiAzKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwYXRjaCAob2xkVm5vZGUsIHZub2RlLCBoeWRyYXRpbmcsIHJlbW92ZU9ubHkpIHtcbiAgICBpZiAoaXNVbmRlZih2bm9kZSkpIHtcbiAgICAgIGlmIChpc0RlZihvbGRWbm9kZSkpIHsgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOyB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgaXNJbml0aWFsUGF0Y2ggPSBmYWxzZTtcbiAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107XG5cbiAgICBpZiAoaXNVbmRlZihvbGRWbm9kZSkpIHtcbiAgICAgIC8vIGVtcHR5IG1vdW50IChsaWtlbHkgYXMgY29tcG9uZW50KSwgY3JlYXRlIG5ldyByb290IGVsZW1lbnRcbiAgICAgIGlzSW5pdGlhbFBhdGNoID0gdHJ1ZTtcbiAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlzUmVhbEVsZW1lbnQgPSBpc0RlZihvbGRWbm9kZS5ub2RlVHlwZSk7XG4gICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcbiAgICAgICAgLy8gcGF0Y2ggZXhpc3Rpbmcgcm9vdCBub2RlXG4gICAgICAgIHBhdGNoVm5vZGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG51bGwsIG51bGwsIHJlbW92ZU9ubHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzUmVhbEVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb3VudGluZyB0byBhIHJlYWwgZWxlbWVudFxuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGlmIHdlIGNhbiBwZXJmb3JtXG4gICAgICAgICAgLy8gYSBzdWNjZXNzZnVsIGh5ZHJhdGlvbi5cbiAgICAgICAgICBpZiAob2xkVm5vZGUubm9kZVR5cGUgPT09IDEgJiYgb2xkVm5vZGUuaGFzQXR0cmlidXRlKFNTUl9BVFRSKSkge1xuICAgICAgICAgICAgb2xkVm5vZGUucmVtb3ZlQXR0cmlidXRlKFNTUl9BVFRSKTtcbiAgICAgICAgICAgIGh5ZHJhdGluZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1RydWUoaHlkcmF0aW5nKSkge1xuICAgICAgICAgICAgaWYgKGh5ZHJhdGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKSB7XG4gICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgJ1RoZSBjbGllbnQtc2lkZSByZW5kZXJlZCB2aXJ0dWFsIERPTSB0cmVlIGlzIG5vdCBtYXRjaGluZyAnICtcbiAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArXG4gICAgICAgICAgICAgICAgJ0hUTUwgbWFya3VwLCBmb3IgZXhhbXBsZSBuZXN0aW5nIGJsb2NrLWxldmVsIGVsZW1lbnRzIGluc2lkZSAnICtcbiAgICAgICAgICAgICAgICAnPHA+LCBvciBtaXNzaW5nIDx0Ym9keT4uIEJhaWxpbmcgaHlkcmF0aW9uIGFuZCBwZXJmb3JtaW5nICcgK1xuICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVpdGhlciBub3Qgc2VydmVyLXJlbmRlcmVkLCBvciBoeWRyYXRpb24gZmFpbGVkLlxuICAgICAgICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBub2RlIGFuZCByZXBsYWNlIGl0XG4gICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXBsYWNpbmcgZXhpc3RpbmcgZWxlbWVudFxuICAgICAgICB2YXIgb2xkRWxtID0gb2xkVm5vZGUuZWxtO1xuICAgICAgICB2YXIgcGFyZW50RWxtID0gbm9kZU9wcy5wYXJlbnROb2RlKG9sZEVsbSk7XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyBub2RlXG4gICAgICAgIGNyZWF0ZUVsbShcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUsXG4gICAgICAgICAgLy8gZXh0cmVtZWx5IHJhcmUgZWRnZSBjYXNlOiBkbyBub3QgaW5zZXJ0IGlmIG9sZCBlbGVtZW50IGlzIGluIGFcbiAgICAgICAgICAvLyBsZWF2aW5nIHRyYW5zaXRpb24uIE9ubHkgaGFwcGVucyB3aGVuIGNvbWJpbmluZyB0cmFuc2l0aW9uICtcbiAgICAgICAgICAvLyBrZWVwLWFsaXZlICsgSE9Dcy4gKCM0NTkwKVxuICAgICAgICAgIG9sZEVsbS5fbGVhdmVDYiA/IG51bGwgOiBwYXJlbnRFbG0sXG4gICAgICAgICAgbm9kZU9wcy5uZXh0U2libGluZyhvbGRFbG0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpc0RlZih2bm9kZS5wYXJlbnQpKSB7XG4gICAgICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGUucGFyZW50O1xuICAgICAgICAgIHZhciBwYXRjaGFibGUgPSBpc1BhdGNoYWJsZSh2bm9kZSk7XG4gICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGNicy5kZXN0cm95W2ldKGFuY2VzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuY2VzdG9yLmVsbSA9IHZub2RlLmVsbTtcbiAgICAgICAgICAgIGlmIChwYXRjaGFibGUpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG4gICAgICAgICAgICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgYW5jZXN0b3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vICM2NTEzXG4gICAgICAgICAgICAgIC8vIGludm9rZSBpbnNlcnQgaG9va3MgdGhhdCBtYXkgaGF2ZSBiZWVuIG1lcmdlZCBieSBjcmVhdGUgaG9va3MuXG4gICAgICAgICAgICAgIC8vIGUuZy4gZm9yIGRpcmVjdGl2ZXMgdGhhdCB1c2VzIHRoZSBcImluc2VydGVkXCIgaG9vay5cbiAgICAgICAgICAgICAgdmFyIGluc2VydCA9IGFuY2VzdG9yLmRhdGEuaG9vay5pbnNlcnQ7XG4gICAgICAgICAgICAgIGlmIChpbnNlcnQubWVyZ2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYXQgaW5kZXggMSB0byBhdm9pZCByZS1pbnZva2luZyBjb21wb25lbnQgbW91bnRlZCBob29rXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQyID0gMTsgaSQyIDwgaW5zZXJ0LmZucy5sZW5ndGg7IGkkMisrKSB7XG4gICAgICAgICAgICAgICAgICBpbnNlcnQuZm5zW2kkMl0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlZ2lzdGVyUmVmKGFuY2VzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlc3Ryb3kgb2xkIG5vZGVcbiAgICAgICAgaWYgKGlzRGVmKHBhcmVudEVsbSkpIHtcbiAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG4gICAgcmV0dXJuIHZub2RlLmVsbVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgZGlyZWN0aXZlcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG4gICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIGlmIChvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMgfHwgdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XG4gICAgX3VwZGF0ZShvbGRWbm9kZSwgdm5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF91cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTtcbiAgdmFyIG9sZERpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcbiAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEodm5vZGUuZGF0YS5kaXJlY3RpdmVzLCB2bm9kZS5jb250ZXh0KTtcblxuICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcbiAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107XG5cbiAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XG4gIGZvciAoa2V5IGluIG5ld0RpcnMpIHtcbiAgICBvbGREaXIgPSBvbGREaXJzW2tleV07XG4gICAgZGlyID0gbmV3RGlyc1trZXldO1xuICAgIGlmICghb2xkRGlyKSB7XG4gICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXG4gICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xuICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXG4gICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XG4gICAgICBkaXIub2xkQXJnID0gb2xkRGlyLmFyZztcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoSW5zZXJ0W2ldLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzQ3JlYXRlKSB7XG4gICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGNhbGxJbnNlcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsSW5zZXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkge1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoUG9zdHBhdGNoW2ldLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIWlzQ3JlYXRlKSB7XG4gICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xuICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcbiAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxuICAgICAgICBjYWxsSG9vayQxKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGVtcHR5TW9kaWZpZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyQxIChcbiAgZGlycyxcbiAgdm1cbikge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaWYgKCFkaXJzKSB7XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIHJlc1xuICB9XG4gIHZhciBpLCBkaXI7XG4gIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGlyID0gZGlyc1tpXTtcbiAgICBpZiAoIWRpci5tb2RpZmllcnMpIHtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuICAgIH1cbiAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcbiAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcbiAgfVxuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnZXRSYXdEaXJOYW1lIChkaXIpIHtcbiAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgXCIuXCIgKyAoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSlcbn1cblxuZnVuY3Rpb24gY2FsbEhvb2skMSAoZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSkge1xuICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGhhbmRsZUVycm9yKGUsIHZub2RlLmNvbnRleHQsIChcImRpcmVjdGl2ZSBcIiArIChkaXIubmFtZSkgKyBcIiBcIiArIGhvb2sgKyBcIiBob29rXCIpKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGJhc2VNb2R1bGVzID0gW1xuICByZWYsXG4gIGRpcmVjdGl2ZXNcbl07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVBdHRycyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgaWYgKGlzRGVmKG9wdHMpICYmIG9wdHMuQ3Rvci5vcHRpb25zLmluaGVyaXRBdHRycyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmF0dHJzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuYXR0cnMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyLCBvbGQ7XG4gIHZhciBlbG0gPSB2bm9kZS5lbG07XG4gIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIHZhciBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuICBpZiAoaXNEZWYoYXR0cnMuX19vYl9fKSkge1xuICAgIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyA9IGV4dGVuZCh7fSwgYXR0cnMpO1xuICB9XG5cbiAgZm9yIChrZXkgaW4gYXR0cnMpIHtcbiAgICBjdXIgPSBhdHRyc1trZXldO1xuICAgIG9sZCA9IG9sZEF0dHJzW2tleV07XG4gICAgaWYgKG9sZCAhPT0gY3VyKSB7XG4gICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpO1xuICAgIH1cbiAgfVxuICAvLyAjNDM5MTogaW4gSUU5LCBzZXR0aW5nIHR5cGUgY2FuIHJlc2V0IHZhbHVlIGZvciBpbnB1dFt0eXBlPXJhZGlvXVxuICAvLyAjNjY2NjogSUUvRWRnZSBmb3JjZXMgcHJvZ3Jlc3MgdmFsdWUgZG93biB0byAxIGJlZm9yZSBzZXR0aW5nIGEgbWF4XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoKGlzSUUgfHwgaXNFZGdlKSAmJiBhdHRycy52YWx1ZSAhPT0gb2xkQXR0cnMudmFsdWUpIHtcbiAgICBzZXRBdHRyKGVsbSwgJ3ZhbHVlJywgYXR0cnMudmFsdWUpO1xuICB9XG4gIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG4gICAgaWYgKGlzVW5kZWYoYXR0cnNba2V5XSkpIHtcbiAgICAgIGlmIChpc1hsaW5rKGtleSkpIHtcbiAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7XG4gIGlmIChlbC50YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXG4gICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sXG4gICAgICAvLyBidXQgRmxhc2ggZXhwZWN0cyBhIHZhbHVlIG9mIFwidHJ1ZVwiIHdoZW4gdXNlZCBvbiA8ZW1iZWQ+IHRhZ1xuICAgICAgdmFsdWUgPSBrZXkgPT09ICdhbGxvd2Z1bGxzY3JlZW4nICYmIGVsLnRhZ05hbWUgPT09ICdFTUJFRCdcbiAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgOiBrZXk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUoa2V5LCB2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKGlzWGxpbmsoa2V5KSkge1xuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2VTZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgfSBlbHNlIHtcbiAgICAvLyAjNzEzODogSUUxMCAmIDExIGZpcmVzIGlucHV0IGV2ZW50IHdoZW4gc2V0dGluZyBwbGFjZWhvbGRlciBvblxuICAgIC8vIDx0ZXh0YXJlYT4uLi4gYmxvY2sgdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFuZCByZW1vdmUgdGhlIGJsb2NrZXJcbiAgICAvLyBpbW1lZGlhdGVseS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoXG4gICAgICBpc0lFICYmICFpc0lFOSAmJlxuICAgICAgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyAmJlxuICAgICAga2V5ID09PSAncGxhY2Vob2xkZXInICYmIHZhbHVlICE9PSAnJyAmJiAhZWwuX19pZXBoXG4gICAgKSB7XG4gICAgICB2YXIgYmxvY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmxvY2tlcik7XG4gICAgICB9O1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBibG9ja2VyKTtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZWwuX19pZXBoID0gdHJ1ZTsgLyogSUUgcGxhY2Vob2xkZXIgcGF0Y2hlZCAqL1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxudmFyIGF0dHJzID0ge1xuICBjcmVhdGU6IHVwZGF0ZUF0dHJzLFxuICB1cGRhdGU6IHVwZGF0ZUF0dHJzXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuICBpZiAoXG4gICAgaXNVbmRlZihkYXRhLnN0YXRpY0NsYXNzKSAmJlxuICAgIGlzVW5kZWYoZGF0YS5jbGFzcykgJiYgKFxuICAgICAgaXNVbmRlZihvbGREYXRhKSB8fCAoXG4gICAgICAgIGlzVW5kZWYob2xkRGF0YS5zdGF0aWNDbGFzcykgJiZcbiAgICAgICAgaXNVbmRlZihvbGREYXRhLmNsYXNzKVxuICAgICAgKVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY2xzID0gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSk7XG5cbiAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xuICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzO1xuICBpZiAoaXNEZWYodHJhbnNpdGlvbkNsYXNzKSkge1xuICAgIGNscyA9IGNvbmNhdChjbHMsIHN0cmluZ2lmeUNsYXNzKHRyYW5zaXRpb25DbGFzcykpO1xuICB9XG5cbiAgLy8gc2V0IHRoZSBjbGFzc1xuICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XG4gICAgZWwuX3ByZXZDbGFzcyA9IGNscztcbiAgfVxufVxuXG52YXIga2xhc3MgPSB7XG4gIGNyZWF0ZTogdXBkYXRlQ2xhc3MsXG4gIHVwZGF0ZTogdXBkYXRlQ2xhc3Ncbn07XG5cbi8qICAqL1xuXG52YXIgdmFsaWREaXZpc2lvbkNoYXJSRSA9IC9bXFx3KS4rXFwtXyRcXF1dLztcblxuZnVuY3Rpb24gcGFyc2VGaWx0ZXJzIChleHApIHtcbiAgdmFyIGluU2luZ2xlID0gZmFsc2U7XG4gIHZhciBpbkRvdWJsZSA9IGZhbHNlO1xuICB2YXIgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xuICB2YXIgaW5SZWdleCA9IGZhbHNlO1xuICB2YXIgY3VybHkgPSAwO1xuICB2YXIgc3F1YXJlID0gMDtcbiAgdmFyIHBhcmVuID0gMDtcbiAgdmFyIGxhc3RGaWx0ZXJJbmRleCA9IDA7XG4gIHZhciBjLCBwcmV2LCBpLCBleHByZXNzaW9uLCBmaWx0ZXJzO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBleHAubGVuZ3RoOyBpKyspIHtcbiAgICBwcmV2ID0gYztcbiAgICBjID0gZXhwLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGluU2luZ2xlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyNyAmJiBwcmV2ICE9PSAweDVDKSB7IGluU2luZ2xlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluRG91YmxlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyMiAmJiBwcmV2ICE9PSAweDVDKSB7IGluRG91YmxlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHtcbiAgICAgIGlmIChjID09PSAweDYwICYmIHByZXYgIT09IDB4NUMpIHsgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlOyB9XG4gICAgfSBlbHNlIGlmIChpblJlZ2V4KSB7XG4gICAgICBpZiAoYyA9PT0gMHgyZiAmJiBwcmV2ICE9PSAweDVDKSB7IGluUmVnZXggPSBmYWxzZTsgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjID09PSAweDdDICYmIC8vIHBpcGVcbiAgICAgIGV4cC5jaGFyQ29kZUF0KGkgKyAxKSAhPT0gMHg3QyAmJlxuICAgICAgZXhwLmNoYXJDb2RlQXQoaSAtIDEpICE9PSAweDdDICYmXG4gICAgICAhY3VybHkgJiYgIXNxdWFyZSAmJiAhcGFyZW5cbiAgICApIHtcbiAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZmlyc3QgZmlsdGVyLCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cC5zbGljZSgwLCBpKS50cmltKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoRmlsdGVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlIDB4MjI6IGluRG91YmxlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyBcIlxuICAgICAgICBjYXNlIDB4Mjc6IGluU2luZ2xlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyAnXG4gICAgICAgIGNhc2UgMHg2MDogaW5UZW1wbGF0ZVN0cmluZyA9IHRydWU7IGJyZWFrIC8vIGBcbiAgICAgICAgY2FzZSAweDI4OiBwYXJlbisrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKFxuICAgICAgICBjYXNlIDB4Mjk6IHBhcmVuLS07IGJyZWFrICAgICAgICAgICAgICAgICAvLyApXG4gICAgICAgIGNhc2UgMHg1Qjogc3F1YXJlKys7IGJyZWFrICAgICAgICAgICAgICAgIC8vIFtcbiAgICAgICAgY2FzZSAweDVEOiBzcXVhcmUtLTsgYnJlYWsgICAgICAgICAgICAgICAgLy8gXVxuICAgICAgICBjYXNlIDB4N0I6IGN1cmx5Kys7IGJyZWFrICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgIGNhc2UgMHg3RDogY3VybHktLTsgYnJlYWsgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICAgIGlmIChjID09PSAweDJmKSB7IC8vIC9cbiAgICAgICAgdmFyIGogPSBpIC0gMTtcbiAgICAgICAgdmFyIHAgPSAodm9pZCAwKTtcbiAgICAgICAgLy8gZmluZCBmaXJzdCBub24td2hpdGVzcGFjZSBwcmV2IGNoYXJcbiAgICAgICAgZm9yICg7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7XG4gICAgICAgICAgaWYgKHAgIT09ICcgJykgeyBicmVhayB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHtcbiAgICAgICAgICBpblJlZ2V4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBleHByZXNzaW9uID0gZXhwLnNsaWNlKDAsIGkpLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChsYXN0RmlsdGVySW5kZXggIT09IDApIHtcbiAgICBwdXNoRmlsdGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoRmlsdGVyICgpIHtcbiAgICAoZmlsdGVycyB8fCAoZmlsdGVycyA9IFtdKSkucHVzaChleHAuc2xpY2UobGFzdEZpbHRlckluZGV4LCBpKS50cmltKCkpO1xuICAgIGxhc3RGaWx0ZXJJbmRleCA9IGkgKyAxO1xuICB9XG5cbiAgaWYgKGZpbHRlcnMpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZXhwcmVzc2lvbiA9IHdyYXBGaWx0ZXIoZXhwcmVzc2lvbiwgZmlsdGVyc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cHJlc3Npb25cbn1cblxuZnVuY3Rpb24gd3JhcEZpbHRlciAoZXhwLCBmaWx0ZXIpIHtcbiAgdmFyIGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpO1xuICBpZiAoaSA8IDApIHtcbiAgICAvLyBfZjogcmVzb2x2ZUZpbHRlclxuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBmaWx0ZXIgKyBcIlxcXCIpKFwiICsgZXhwICsgXCIpXCIpXG4gIH0gZWxzZSB7XG4gICAgdmFyIG5hbWUgPSBmaWx0ZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIGFyZ3MgPSBmaWx0ZXIuc2xpY2UoaSArIDEpO1xuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBuYW1lICsgXCJcXFwiKShcIiArIGV4cCArIChhcmdzICE9PSAnKScgPyAnLCcgKyBhcmdzIDogYXJncykpXG4gIH1cbn1cblxuLyogICovXG5cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gYmFzZVdhcm4gKG1zZywgcmFuZ2UpIHtcbiAgY29uc29sZS5lcnJvcigoXCJbVnVlIGNvbXBpbGVyXTogXCIgKyBtc2cpKTtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuZnVuY3Rpb24gcGx1Y2tNb2R1bGVGdW5jdGlvbiAoXG4gIG1vZHVsZXMsXG4gIGtleVxuKSB7XG4gIHJldHVybiBtb2R1bGVzXG4gICAgPyBtb2R1bGVzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbVtrZXldOyB9KS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH0pXG4gICAgOiBbXVxufVxuXG5mdW5jdGlvbiBhZGRQcm9wIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlLCBkeW5hbWljKSB7XG4gIChlbC5wcm9wcyB8fCAoZWwucHJvcHMgPSBbXSkpLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHIgKGVsLCBuYW1lLCB2YWx1ZSwgcmFuZ2UsIGR5bmFtaWMpIHtcbiAgdmFyIGF0dHJzID0gZHluYW1pY1xuICAgID8gKGVsLmR5bmFtaWNBdHRycyB8fCAoZWwuZHluYW1pY0F0dHJzID0gW10pKVxuICAgIDogKGVsLmF0dHJzIHx8IChlbC5hdHRycyA9IFtdKSk7XG4gIGF0dHJzLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbi8vIGFkZCBhIHJhdyBhdHRyICh1c2UgdGhpcyBpbiBwcmVUcmFuc2Zvcm1zKVxuZnVuY3Rpb24gYWRkUmF3QXR0ciAoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSkge1xuICBlbC5hdHRyc01hcFtuYW1lXSA9IHZhbHVlO1xuICBlbC5hdHRyc0xpc3QucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSwgcmFuZ2UpKTtcbn1cblxuZnVuY3Rpb24gYWRkRGlyZWN0aXZlIChcbiAgZWwsXG4gIG5hbWUsXG4gIHJhd05hbWUsXG4gIHZhbHVlLFxuICBhcmcsXG4gIGlzRHluYW1pY0FyZyxcbiAgbW9kaWZpZXJzLFxuICByYW5nZVxuKSB7XG4gIChlbC5kaXJlY3RpdmVzIHx8IChlbC5kaXJlY3RpdmVzID0gW10pKS5wdXNoKHJhbmdlU2V0SXRlbSh7XG4gICAgbmFtZTogbmFtZSxcbiAgICByYXdOYW1lOiByYXdOYW1lLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBhcmc6IGFyZyxcbiAgICBpc0R5bmFtaWNBcmc6IGlzRHluYW1pY0FyZyxcbiAgICBtb2RpZmllcnM6IG1vZGlmaWVyc1xuICB9LCByYW5nZSkpO1xuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIgKHN5bWJvbCwgbmFtZSwgZHluYW1pYykge1xuICByZXR1cm4gZHluYW1pY1xuICAgID8gKFwiX3AoXCIgKyBuYW1lICsgXCIsXFxcIlwiICsgc3ltYm9sICsgXCJcXFwiKVwiKVxuICAgIDogc3ltYm9sICsgbmFtZSAvLyBtYXJrIHRoZSBldmVudCBhcyBjYXB0dXJlZFxufVxuXG5mdW5jdGlvbiBhZGRIYW5kbGVyIChcbiAgZWwsXG4gIG5hbWUsXG4gIHZhbHVlLFxuICBtb2RpZmllcnMsXG4gIGltcG9ydGFudCxcbiAgd2FybixcbiAgcmFuZ2UsXG4gIGR5bmFtaWNcbikge1xuICBtb2RpZmllcnMgPSBtb2RpZmllcnMgfHwgZW1wdHlPYmplY3Q7XG4gIC8vIHdhcm4gcHJldmVudCBhbmQgcGFzc2l2ZSBtb2RpZmllclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybiAmJlxuICAgIG1vZGlmaWVycy5wcmV2ZW50ICYmIG1vZGlmaWVycy5wYXNzaXZlXG4gICkge1xuICAgIHdhcm4oXG4gICAgICAncGFzc2l2ZSBhbmQgcHJldmVudCBjYW5cXCd0IGJlIHVzZWQgdG9nZXRoZXIuICcgK1xuICAgICAgJ1Bhc3NpdmUgaGFuZGxlciBjYW5cXCd0IHByZXZlbnQgZGVmYXVsdCBldmVudC4nLFxuICAgICAgcmFuZ2VcbiAgICApO1xuICB9XG5cbiAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlXG4gIC8vIHRoaXMgaXMgdGVjaG5pY2FsbHkgYnJvd3Nlci1zcGVjaWZpYywgYnV0IGF0IGxlYXN0IGZvciBub3cgYnJvd3NlcnMgYXJlXG4gIC8vIHRoZSBvbmx5IHRhcmdldCBlbnZzIHRoYXQgaGF2ZSByaWdodC9taWRkbGUgY2xpY2tzLlxuICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydjb250ZXh0bWVudSc6KFwiICsgbmFtZSArIFwiKVwiO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykge1xuICAgICAgbmFtZSA9ICdjb250ZXh0bWVudSc7XG4gICAgICBkZWxldGUgbW9kaWZpZXJzLnJpZ2h0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChtb2RpZmllcnMubWlkZGxlKSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydtb3VzZXVwJzooXCIgKyBuYW1lICsgXCIpXCI7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnY2xpY2snKSB7XG4gICAgICBuYW1lID0gJ21vdXNldXAnO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIGNhcHR1cmUgbW9kaWZpZXJcbiAgaWYgKG1vZGlmaWVycy5jYXB0dXJlKSB7XG4gICAgZGVsZXRlIG1vZGlmaWVycy5jYXB0dXJlO1xuICAgIG5hbWUgPSBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoJyEnLCBuYW1lLCBkeW5hbWljKTtcbiAgfVxuICBpZiAobW9kaWZpZXJzLm9uY2UpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm9uY2U7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignficsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAobW9kaWZpZXJzLnBhc3NpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignJicsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG5cbiAgdmFyIGV2ZW50cztcbiAgaWYgKG1vZGlmaWVycy5uYXRpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm5hdGl2ZTtcbiAgICBldmVudHMgPSBlbC5uYXRpdmVFdmVudHMgfHwgKGVsLm5hdGl2ZUV2ZW50cyA9IHt9KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudHMgPSBlbC5ldmVudHMgfHwgKGVsLmV2ZW50cyA9IHt9KTtcbiAgfVxuXG4gIHZhciBuZXdIYW5kbGVyID0gcmFuZ2VTZXRJdGVtKHsgdmFsdWU6IHZhbHVlLnRyaW0oKSwgZHluYW1pYzogZHluYW1pYyB9LCByYW5nZSk7XG4gIGlmIChtb2RpZmllcnMgIT09IGVtcHR5T2JqZWN0KSB7XG4gICAgbmV3SGFuZGxlci5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gIH1cblxuICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVycykpIHtcbiAgICBpbXBvcnRhbnQgPyBoYW5kbGVycy51bnNoaWZ0KG5ld0hhbmRsZXIpIDogaGFuZGxlcnMucHVzaChuZXdIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChoYW5kbGVycykge1xuICAgIGV2ZW50c1tuYW1lXSA9IGltcG9ydGFudCA/IFtuZXdIYW5kbGVyLCBoYW5kbGVyc10gOiBbaGFuZGxlcnMsIG5ld0hhbmRsZXJdO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50c1tuYW1lXSA9IG5ld0hhbmRsZXI7XG4gIH1cblxuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRSYXdCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lXG4pIHtcbiAgcmV0dXJuIGVsLnJhd0F0dHJzTWFwWyc6JyArIG5hbWVdIHx8XG4gICAgZWwucmF3QXR0cnNNYXBbJ3YtYmluZDonICsgbmFtZV0gfHxcbiAgICBlbC5yYXdBdHRyc01hcFtuYW1lXVxufVxuXG5mdW5jdGlvbiBnZXRCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICBnZXRTdGF0aWNcbikge1xuICB2YXIgZHluYW1pY1ZhbHVlID1cbiAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fFxuICAgIGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWJpbmQ6JyArIG5hbWUpO1xuICBpZiAoZHluYW1pY1ZhbHVlICE9IG51bGwpIHtcbiAgICByZXR1cm4gcGFyc2VGaWx0ZXJzKGR5bmFtaWNWYWx1ZSlcbiAgfSBlbHNlIGlmIChnZXRTdGF0aWMgIT09IGZhbHNlKSB7XG4gICAgdmFyIHN0YXRpY1ZhbHVlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgbmFtZSk7XG4gICAgaWYgKHN0YXRpY1ZhbHVlICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdGF0aWNWYWx1ZSlcbiAgICB9XG4gIH1cbn1cblxuLy8gbm90ZTogdGhpcyBvbmx5IHJlbW92ZXMgdGhlIGF0dHIgZnJvbSB0aGUgQXJyYXkgKGF0dHJzTGlzdCkgc28gdGhhdCBpdFxuLy8gZG9lc24ndCBnZXQgcHJvY2Vzc2VkIGJ5IHByb2Nlc3NBdHRycy5cbi8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpc1xuLy8gbmVlZGVkIGR1cmluZyBjb2RlZ2VuLlxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICByZW1vdmVGcm9tTWFwXG4pIHtcbiAgdmFyIHZhbDtcbiAgaWYgKCh2YWwgPSBlbC5hdHRyc01hcFtuYW1lXSkgIT0gbnVsbCkge1xuICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChsaXN0W2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyZW1vdmVGcm9tTWFwKSB7XG4gICAgZGVsZXRlIGVsLmF0dHJzTWFwW25hbWVdO1xuICB9XG4gIHJldHVybiB2YWxcbn1cblxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXggKFxuICBlbCxcbiAgbmFtZVxuKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGF0dHIgPSBsaXN0W2ldO1xuICAgIGlmIChuYW1lLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICByZXR1cm4gYXR0clxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByYW5nZVNldEl0ZW0gKFxuICBpdGVtLFxuICByYW5nZVxuKSB7XG4gIGlmIChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5zdGFydCAhPSBudWxsKSB7XG4gICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgfVxuICAgIGlmIChyYW5nZS5lbmQgIT0gbnVsbCkge1xuICAgICAgaXRlbS5lbmQgPSByYW5nZS5lbmQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBpdGVtXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIENyb3NzLXBsYXRmb3JtIGNvZGUgZ2VuZXJhdGlvbiBmb3IgY29tcG9uZW50IHYtbW9kZWxcbiAqL1xuZnVuY3Rpb24gZ2VuQ29tcG9uZW50TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciByZWYgPSBtb2RpZmllcnMgfHwge307XG4gIHZhciBudW1iZXIgPSByZWYubnVtYmVyO1xuICB2YXIgdHJpbSA9IHJlZi50cmltO1xuXG4gIHZhciBiYXNlVmFsdWVFeHByZXNzaW9uID0gJyQkdic7XG4gIHZhciB2YWx1ZUV4cHJlc3Npb24gPSBiYXNlVmFsdWVFeHByZXNzaW9uO1xuICBpZiAodHJpbSkge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9XG4gICAgICBcIih0eXBlb2YgXCIgKyBiYXNlVmFsdWVFeHByZXNzaW9uICsgXCIgPT09ICdzdHJpbmcnXCIgK1xuICAgICAgXCI/IFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiLnRyaW0oKVwiICtcbiAgICAgIFwiOiBcIiArIGJhc2VWYWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuICBpZiAobnVtYmVyKSB7XG4gICAgdmFsdWVFeHByZXNzaW9uID0gXCJfbihcIiArIHZhbHVlRXhwcmVzc2lvbiArIFwiKVwiO1xuICB9XG4gIHZhciBhc3NpZ25tZW50ID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG5cbiAgZWwubW9kZWwgPSB7XG4gICAgdmFsdWU6IChcIihcIiArIHZhbHVlICsgXCIpXCIpLFxuICAgIGV4cHJlc3Npb246IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICBjYWxsYmFjazogKFwiZnVuY3Rpb24gKFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiKSB7XCIgKyBhc3NpZ25tZW50ICsgXCJ9XCIpXG4gIH07XG59XG5cbi8qKlxuICogQ3Jvc3MtcGxhdGZvcm0gY29kZWdlbiBoZWxwZXIgZm9yIGdlbmVyYXRpbmcgdi1tb2RlbCB2YWx1ZSBhc3NpZ25tZW50IGNvZGUuXG4gKi9cbmZ1bmN0aW9uIGdlbkFzc2lnbm1lbnRDb2RlIChcbiAgdmFsdWUsXG4gIGFzc2lnbm1lbnRcbikge1xuICB2YXIgcmVzID0gcGFyc2VNb2RlbCh2YWx1ZSk7XG4gIGlmIChyZXMua2V5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuICh2YWx1ZSArIFwiPVwiICsgYXNzaWdubWVudClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiJHNldChcIiArIChyZXMuZXhwKSArIFwiLCBcIiArIChyZXMua2V5KSArIFwiLCBcIiArIGFzc2lnbm1lbnQgKyBcIilcIilcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgdi1tb2RlbCBleHByZXNzaW9uIGludG8gYSBiYXNlIHBhdGggYW5kIGEgZmluYWwga2V5IHNlZ21lbnQuXG4gKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy5cbiAqXG4gKiBQb3NzaWJsZSBjYXNlczpcbiAqXG4gKiAtIHRlc3RcbiAqIC0gdGVzdFtrZXldXG4gKiAtIHRlc3RbdGVzdDFba2V5XV1cbiAqIC0gdGVzdFtcImFcIl1ba2V5XVxuICogLSB4eHgudGVzdFthW2FdLnRlc3QxW2tleV1dXG4gKiAtIHRlc3QueHh4LmFbXCJhc2FcIl1bdGVzdDFba2V5XV1cbiAqXG4gKi9cblxudmFyIGxlbiwgc3RyLCBjaHIsIGluZGV4JDEsIGV4cHJlc3Npb25Qb3MsIGV4cHJlc3Npb25FbmRQb3M7XG5cblxuXG5mdW5jdGlvbiBwYXJzZU1vZGVsICh2YWwpIHtcbiAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvcHVsbC83NzMwXG4gIC8vIGFsbG93IHYtbW9kZWw9XCJvYmoudmFsIFwiICh0cmFpbGluZyB3aGl0ZXNwYWNlKVxuICB2YWwgPSB2YWwudHJpbSgpO1xuICBsZW4gPSB2YWwubGVuZ3RoO1xuXG4gIGlmICh2YWwuaW5kZXhPZignWycpIDwgMCB8fCB2YWwubGFzdEluZGV4T2YoJ10nKSA8IGxlbiAtIDEpIHtcbiAgICBpbmRleCQxID0gdmFsLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgaWYgKGluZGV4JDEgPiAtMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXhwOiB2YWwuc2xpY2UoMCwgaW5kZXgkMSksXG4gICAgICAgIGtleTogJ1wiJyArIHZhbC5zbGljZShpbmRleCQxICsgMSkgKyAnXCInXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV4cDogdmFsLFxuICAgICAgICBrZXk6IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdHIgPSB2YWw7XG4gIGluZGV4JDEgPSBleHByZXNzaW9uUG9zID0gZXhwcmVzc2lvbkVuZFBvcyA9IDA7XG5cbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7XG4gICAgICBwYXJzZUJyYWNrZXQoY2hyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cDogdmFsLnNsaWNlKDAsIGV4cHJlc3Npb25Qb3MpLFxuICAgIGtleTogdmFsLnNsaWNlKGV4cHJlc3Npb25Qb3MgKyAxLCBleHByZXNzaW9uRW5kUG9zKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5leHQgKCkge1xuICByZXR1cm4gc3RyLmNoYXJDb2RlQXQoKytpbmRleCQxKVxufVxuXG5mdW5jdGlvbiBlb2YgKCkge1xuICByZXR1cm4gaW5kZXgkMSA+PSBsZW5cbn1cblxuZnVuY3Rpb24gaXNTdHJpbmdTdGFydCAoY2hyKSB7XG4gIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3XG59XG5cbmZ1bmN0aW9uIHBhcnNlQnJhY2tldCAoY2hyKSB7XG4gIHZhciBpbkJyYWNrZXQgPSAxO1xuICBleHByZXNzaW9uUG9zID0gaW5kZXgkMTtcbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKGNociA9PT0gMHg1QikgeyBpbkJyYWNrZXQrKzsgfVxuICAgIGlmIChjaHIgPT09IDB4NUQpIHsgaW5CcmFja2V0LS07IH1cbiAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7XG4gICAgICBleHByZXNzaW9uRW5kUG9zID0gaW5kZXgkMTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nIChjaHIpIHtcbiAgdmFyIHN0cmluZ1F1b3RlID0gY2hyO1xuICB3aGlsZSAoIWVvZigpKSB7XG4gICAgY2hyID0gbmV4dCgpO1xuICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIHdhcm4kMTtcblxuLy8gaW4gc29tZSBjYXNlcywgdGhlIGV2ZW50IHVzZWQgaGFzIHRvIGJlIGRldGVybWluZWQgYXQgcnVudGltZVxuLy8gc28gd2UgdXNlZCBzb21lIHJlc2VydmVkIHRva2VucyBkdXJpbmcgY29tcGlsZS5cbnZhciBSQU5HRV9UT0tFTiA9ICdfX3InO1xudmFyIENIRUNLQk9YX1JBRElPX1RPS0VOID0gJ19fYyc7XG5cbmZ1bmN0aW9uIG1vZGVsIChcbiAgZWwsXG4gIGRpcixcbiAgX3dhcm5cbikge1xuICB3YXJuJDEgPSBfd2FybjtcbiAgdmFyIHZhbHVlID0gZGlyLnZhbHVlO1xuICB2YXIgbW9kaWZpZXJzID0gZGlyLm1vZGlmaWVycztcbiAgdmFyIHRhZyA9IGVsLnRhZztcbiAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gaW5wdXRzIHdpdGggdHlwZT1cImZpbGVcIiBhcmUgcmVhZCBvbmx5IGFuZCBzZXR0aW5nIHRoZSBpbnB1dCdzXG4gICAgLy8gdmFsdWUgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgd2FybiQxKFxuICAgICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIiB0eXBlPVxcXCJmaWxlXFxcIj46XFxuXCIgK1xuICAgICAgICBcIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICBnZW5TZWxlY3QoZWwsIHZhbHVlLCBtb2RpZmllcnMpO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgZ2VuQ2hlY2tib3hNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XG4gIH0gZWxzZSBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICBnZW5SYWRpb01vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnKSB7XG4gICAgZ2VuRGVmYXVsdE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj46IFwiICtcbiAgICAgIFwidi1tb2RlbCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZWxlbWVudCB0eXBlLiBcIiArXG4gICAgICAnSWYgeW91IGFyZSB3b3JraW5nIHdpdGggY29udGVudGVkaXRhYmxlLCBpdFxcJ3MgcmVjb21tZW5kZWQgdG8gJyArXG4gICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLFxuICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtbW9kZWwnXVxuICAgICk7XG4gIH1cblxuICAvLyBlbnN1cmUgcnVudGltZSBkaXJlY3RpdmUgbWV0YWRhdGFcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgdmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd2YWx1ZScpIHx8ICdudWxsJztcbiAgdmFyIHRydWVWYWx1ZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3RydWUtdmFsdWUnKSB8fCAndHJ1ZSc7XG4gIHZhciBmYWxzZVZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnZmFsc2UtdmFsdWUnKSB8fCAnZmFsc2UnO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsXG4gICAgXCJBcnJheS5pc0FycmF5KFwiICsgdmFsdWUgKyBcIilcIiArXG4gICAgXCI/X2koXCIgKyB2YWx1ZSArIFwiLFwiICsgdmFsdWVCaW5kaW5nICsgXCIpPi0xXCIgKyAoXG4gICAgICB0cnVlVmFsdWVCaW5kaW5nID09PSAndHJ1ZSdcbiAgICAgICAgPyAoXCI6KFwiICsgdmFsdWUgKyBcIilcIilcbiAgICAgICAgOiAoXCI6X3EoXCIgKyB2YWx1ZSArIFwiLFwiICsgdHJ1ZVZhbHVlQmluZGluZyArIFwiKVwiKVxuICAgIClcbiAgKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsXG4gICAgXCJ2YXIgJCRhPVwiICsgdmFsdWUgKyBcIixcIiArXG4gICAgICAgICckJGVsPSRldmVudC50YXJnZXQsJyArXG4gICAgICAgIFwiJCRjPSQkZWwuY2hlY2tlZD8oXCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgXCIpOihcIiArIGZhbHNlVmFsdWVCaW5kaW5nICsgXCIpO1wiICtcbiAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICtcbiAgICAgIFwidmFyICQkdj1cIiArIChudW1iZXIgPyAnX24oJyArIHZhbHVlQmluZGluZyArICcpJyA6IHZhbHVlQmluZGluZykgKyBcIixcIiArXG4gICAgICAgICAgJyQkaT1faSgkJGEsJCR2KTsnICtcbiAgICAgIFwiaWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSkgKyBcIil9XCIgK1xuICAgICAgXCJlbHNleyQkaT4tMSYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSknKSkgKyBcIil9XCIgK1xuICAgIFwifWVsc2V7XCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsICckJGMnKSkgKyBcIn1cIixcbiAgICBudWxsLCB0cnVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlblJhZGlvTW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjtcbiAgdmFyIHZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndmFsdWUnKSB8fCAnbnVsbCc7XG4gIHZhbHVlQmluZGluZyA9IG51bWJlciA/IChcIl9uKFwiICsgdmFsdWVCaW5kaW5nICsgXCIpXCIpIDogdmFsdWVCaW5kaW5nO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsIChcIl9xKFwiICsgdmFsdWUgKyBcIixcIiArIHZhbHVlQmluZGluZyArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgdmFsdWVCaW5kaW5nKSwgbnVsbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGdlblNlbGVjdCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgc2VsZWN0ZWRWYWwgPSBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiArXG4gICAgXCIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KVwiICtcbiAgICBcIi5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9IFxcXCJfdmFsdWVcXFwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7XCIgK1xuICAgIFwicmV0dXJuIFwiICsgKG51bWJlciA/ICdfbih2YWwpJyA6ICd2YWwnKSArIFwifSlcIjtcblxuICB2YXIgYXNzaWdubWVudCA9ICckZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0nO1xuICB2YXIgY29kZSA9IFwidmFyICQkc2VsZWN0ZWRWYWwgPSBcIiArIHNlbGVjdGVkVmFsICsgXCI7XCI7XG4gIGNvZGUgPSBjb2RlICsgXCIgXCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsIGNvZGUsIG51bGwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTtcblxuICAvLyB3YXJuIGlmIHYtYmluZDp2YWx1ZSBjb25mbGljdHMgd2l0aCB2LW1vZGVsXG4gIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdmFsdWUkMSA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSB8fCBlbC5hdHRyc01hcFsnOnZhbHVlJ107XG4gICAgdmFyIHR5cGVCaW5kaW5nID0gZWwuYXR0cnNNYXBbJ3YtYmluZDp0eXBlJ10gfHwgZWwuYXR0cnNNYXBbJzp0eXBlJ107XG4gICAgaWYgKHZhbHVlJDEgJiYgIXR5cGVCaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZyA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSA/ICd2LWJpbmQ6dmFsdWUnIDogJzp2YWx1ZSc7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGJpbmRpbmcgKyBcIj1cXFwiXCIgKyB2YWx1ZSQxICsgXCJcXFwiIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWwgb24gdGhlIHNhbWUgZWxlbWVudCBcIiArXG4gICAgICAgICdiZWNhdXNlIHRoZSBsYXR0ZXIgYWxyZWFkeSBleHBhbmRzIHRvIGEgdmFsdWUgYmluZGluZyBpbnRlcm5hbGx5JyxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbYmluZGluZ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlZiA9IG1vZGlmaWVycyB8fCB7fTtcbiAgdmFyIGxhenkgPSByZWYubGF6eTtcbiAgdmFyIG51bWJlciA9IHJlZi5udW1iZXI7XG4gIHZhciB0cmltID0gcmVmLnRyaW07XG4gIHZhciBuZWVkQ29tcG9zaXRpb25HdWFyZCA9ICFsYXp5ICYmIHR5cGUgIT09ICdyYW5nZSc7XG4gIHZhciBldmVudCA9IGxhenlcbiAgICA/ICdjaGFuZ2UnXG4gICAgOiB0eXBlID09PSAncmFuZ2UnXG4gICAgICA/IFJBTkdFX1RPS0VOXG4gICAgICA6ICdpbnB1dCc7XG5cbiAgdmFyIHZhbHVlRXhwcmVzc2lvbiA9ICckZXZlbnQudGFyZ2V0LnZhbHVlJztcbiAgaWYgKHRyaW0pIHtcbiAgICB2YWx1ZUV4cHJlc3Npb24gPSBcIiRldmVudC50YXJnZXQudmFsdWUudHJpbSgpXCI7XG4gIH1cbiAgaWYgKG51bWJlcikge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9IFwiX24oXCIgKyB2YWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuXG4gIHZhciBjb2RlID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG4gIGlmIChuZWVkQ29tcG9zaXRpb25HdWFyZCkge1xuICAgIGNvZGUgPSBcImlmKCRldmVudC50YXJnZXQuY29tcG9zaW5nKXJldHVybjtcIiArIGNvZGU7XG4gIH1cblxuICBhZGRQcm9wKGVsLCAndmFsdWUnLCAoXCIoXCIgKyB2YWx1ZSArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsIGV2ZW50LCBjb2RlLCBudWxsLCB0cnVlKTtcbiAgaWYgKHRyaW0gfHwgbnVtYmVyKSB7XG4gICAgYWRkSGFuZGxlcihlbCwgJ2JsdXInLCAnJGZvcmNlVXBkYXRlKCknKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gbm9ybWFsaXplIHYtbW9kZWwgZXZlbnQgdG9rZW5zIHRoYXQgY2FuIG9ubHkgYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lLlxuLy8gaXQncyBpbXBvcnRhbnQgdG8gcGxhY2UgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBpbiB0aGUgYXJyYXkgYmVjYXVzZVxuLy8gdGhlIHdob2xlIHBvaW50IGlzIGVuc3VyaW5nIHRoZSB2LW1vZGVsIGNhbGxiYWNrIGdldHMgY2FsbGVkIGJlZm9yZVxuLy8gdXNlci1hdHRhY2hlZCBoYW5kbGVycy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50cyAob24pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltSQU5HRV9UT0tFTl0pKSB7XG4gICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudFxuICAgIHZhciBldmVudCA9IGlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCc7XG4gICAgb25bZXZlbnRdID0gW10uY29uY2F0KG9uW1JBTkdFX1RPS0VOXSwgb25bZXZlbnRdIHx8IFtdKTtcbiAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dO1xuICB9XG4gIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgaW50ZW5kZWQgdG8gZml4ICM0NTIxIGJ1dCBubyBsb25nZXIgbmVjZXNzYXJ5XG4gIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjRcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltDSEVDS0JPWF9SQURJT19UT0tFTl0pKSB7XG4gICAgb24uY2hhbmdlID0gW10uY29uY2F0KG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSwgb24uY2hhbmdlIHx8IFtdKTtcbiAgICBkZWxldGUgb25bQ0hFQ0tCT1hfUkFESU9fVE9LRU5dO1xuICB9XG59XG5cbnZhciB0YXJnZXQkMTtcblxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMSAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgdmFyIF90YXJnZXQgPSB0YXJnZXQkMTsgLy8gc2F2ZSBjdXJyZW50IHRhcmdldCBlbGVtZW50IGluIGNsb3N1cmVcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyICgpIHtcbiAgICB2YXIgcmVzID0gaGFuZGxlci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZSQyKGV2ZW50LCBvbmNlSGFuZGxlciwgY2FwdHVyZSwgX3RhcmdldCk7XG4gICAgfVxuICB9XG59XG5cbi8vICM5NDQ2OiBGaXJlZm94IDw9IDUzIChpbiBwYXJ0aWN1bGFyLCBFU1IgNTIpIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wXG4vLyBpbXBsZW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvXG4vLyBzYWZlIHRvIGV4Y2x1ZGUuXG52YXIgdXNlTWljcm90YXNrRml4ID0gaXNVc2luZ01pY3JvVGFzayAmJiAhKGlzRkYgJiYgTnVtYmVyKGlzRkZbMV0pIDw9IDUzKTtcblxuZnVuY3Rpb24gYWRkJDEgKFxuICBuYW1lLFxuICBoYW5kbGVyLFxuICBjYXB0dXJlLFxuICBwYXNzaXZlXG4pIHtcbiAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxuICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpc1xuICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cbiAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxuICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkXG4gIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cbiAgaWYgKHVzZU1pY3JvdGFza0ZpeCkge1xuICAgIHZhciBhdHRhY2hlZFRpbWVzdGFtcCA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDtcbiAgICB2YXIgb3JpZ2luYWwgPSBoYW5kbGVyO1xuICAgIGhhbmRsZXIgPSBvcmlnaW5hbC5fd3JhcHBlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIG5vIGJ1YmJsaW5nLCBzaG91bGQgYWx3YXlzIGZpcmUuXG4gICAgICAgIC8vIHRoaXMgaXMganVzdCBhIHNhZmV0eSBuZXQgaW4gY2FzZSBldmVudC50aW1lU3RhbXAgaXMgdW5yZWxpYWJsZSBpblxuICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLlxuICAgICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0IHx8XG4gICAgICAgIC8vIGV2ZW50IGlzIGZpcmVkIGFmdGVyIGhhbmRsZXIgYXR0YWNobWVudFxuICAgICAgICBlLnRpbWVTdGFtcCA+PSBhdHRhY2hlZFRpbWVzdGFtcCB8fFxuICAgICAgICAvLyBiYWlsIGZvciBlbnZpcm9ubWVudHMgdGhhdCBoYXZlIGJ1Z2d5IGV2ZW50LnRpbWVTdGFtcCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgLy8gIzk0NjIgaU9TIDkgYnVnOiBldmVudC50aW1lU3RhbXAgaXMgMCBhZnRlciBoaXN0b3J5LnB1c2hTdGF0ZVxuICAgICAgICAvLyAjOTY4MSBRdFdlYkVuZ2luZSBldmVudC50aW1lU3RhbXAgaXMgbmVnYXRpdmUgdmFsdWVcbiAgICAgICAgZS50aW1lU3RhbXAgPD0gMCB8fFxuICAgICAgICAvLyAjOTQ0OCBiYWlsIGlmIGV2ZW50IGlzIGZpcmVkIGluIGFub3RoZXIgZG9jdW1lbnQgaW4gYSBtdWx0aS1wYWdlXG4gICAgICAgIC8vIGVsZWN0cm9uL253LmpzIGFwcCwgc2luY2UgZXZlbnQudGltZVN0YW1wIHdpbGwgYmUgdXNpbmcgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc3RhcnRpbmcgcmVmZXJlbmNlXG4gICAgICAgIGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHRhcmdldCQxLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgbmFtZSxcbiAgICBoYW5kbGVyLFxuICAgIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfVxuICAgICAgOiBjYXB0dXJlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSQyIChcbiAgbmFtZSxcbiAgaGFuZGxlcixcbiAgY2FwdHVyZSxcbiAgX3RhcmdldFxuKSB7XG4gIChfdGFyZ2V0IHx8IHRhcmdldCQxKS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIG5hbWUsXG4gICAgaGFuZGxlci5fd3JhcHBlciB8fCBoYW5kbGVyLFxuICAgIGNhcHR1cmVcbiAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NTGlzdGVuZXJzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5vbikgJiYgaXNVbmRlZih2bm9kZS5kYXRhLm9uKSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307XG4gIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XG4gIHRhcmdldCQxID0gdm5vZGUuZWxtO1xuICBub3JtYWxpemVFdmVudHMob24pO1xuICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQkMSwgcmVtb3ZlJDIsIGNyZWF0ZU9uY2VIYW5kbGVyJDEsIHZub2RlLmNvbnRleHQpO1xuICB0YXJnZXQkMSA9IHVuZGVmaW5lZDtcbn1cblxudmFyIGV2ZW50cyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMsXG4gIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzXG59O1xuXG4vKiAgKi9cblxudmFyIHN2Z0NvbnRhaW5lcjtcblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmRvbVByb3BzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuZG9tUHJvcHMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyO1xuICB2YXIgZWxtID0gdm5vZGUuZWxtO1xuICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICB2YXIgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICAvLyBjbG9uZSBvYnNlcnZlZCBvYmplY3RzLCBhcyB0aGUgdXNlciBwcm9iYWJseSB3YW50cyB0byBtdXRhdGUgaXRcbiAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykpIHtcbiAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgZWxtW2tleV0gPSAnJztcbiAgICB9XG4gIH1cblxuICBmb3IgKGtleSBpbiBwcm9wcykge1xuICAgIGN1ciA9IHByb3BzW2tleV07XG4gICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXG4gICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcbiAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxuICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xuICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH1cbiAgICAgIGlmIChjdXIgPT09IG9sZFByb3BzW2tleV0pIHsgY29udGludWUgfVxuICAgICAgLy8gIzY2MDEgd29yayBhcm91bmQgQ2hyb21lIHZlcnNpb24gPD0gNTUgYnVnIHdoZXJlIHNpbmdsZSB0ZXh0Tm9kZVxuICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHlcbiAgICAgIGlmIChlbG0uY2hpbGROb2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmIGVsbS50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XG4gICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBfdmFsdWUgYXMgd2VsbCBzaW5jZVxuICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZFxuICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcbiAgICAgIC8vIGF2b2lkIHJlc2V0dGluZyBjdXJzb3IgcG9zaXRpb24gd2hlbiB2YWx1ZSBpcyB0aGUgc2FtZVxuICAgICAgdmFyIHN0ckN1ciA9IGlzVW5kZWYoY3VyKSA/ICcnIDogU3RyaW5nKGN1cik7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlVmFsdWUoZWxtLCBzdHJDdXIpKSB7XG4gICAgICAgIGVsbS52YWx1ZSA9IHN0ckN1cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgJiYgaXNTVkcoZWxtLnRhZ05hbWUpICYmIGlzVW5kZWYoZWxtLmlubmVySFRNTCkpIHtcbiAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBpbm5lckhUTUwgZm9yIFNWRyBlbGVtZW50c1xuICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc3ZnQ29udGFpbmVyLmlubmVySFRNTCA9IFwiPHN2Zz5cIiArIGN1ciArIFwiPC9zdmc+XCI7XG4gICAgICB2YXIgc3ZnID0gc3ZnQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICB3aGlsZSAoZWxtLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdmcuZmlyc3RDaGlsZCkge1xuICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoc3ZnLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBza2lwIHRoZSB1cGRhdGUgaWYgb2xkIGFuZCBuZXcgVkRPTSBzdGF0ZSBpcyB0aGUgc2FtZS5cbiAgICAgIC8vIGB2YWx1ZWAgaXMgaGFuZGxlZCBzZXBhcmF0ZWx5IGJlY2F1c2UgdGhlIERPTSB2YWx1ZSBtYXkgYmUgdGVtcG9yYXJpbHlcbiAgICAgIC8vIG91dCBvZiBzeW5jIHdpdGggVkRPTSBzdGF0ZSBkdWUgdG8gZm9jdXMsIGNvbXBvc2l0aW9uIGFuZCBtb2RpZmllcnMuXG4gICAgICAvLyBUaGlzICAjNDUyMSBieSBza2lwcGluZyB0aGUgdW5uZWNlc2FycnkgYGNoZWNrZWRgIHVwZGF0ZS5cbiAgICAgIGN1ciAhPT0gb2xkUHJvcHNba2V5XVxuICAgICkge1xuICAgICAgLy8gc29tZSBwcm9wZXJ0eSB1cGRhdGVzIGNhbiB0aHJvd1xuICAgICAgLy8gZS5nLiBgdmFsdWVgIG9uIDxwcm9ncmVzcz4gdy8gbm9uLWZpbml0ZSB2YWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgZWxtW2tleV0gPSBjdXI7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxufVxuXG4vLyBjaGVjayBwbGF0Zm9ybXMvd2ViL3V0aWwvYXR0cnMuanMgYWNjZXB0VmFsdWVcblxuXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZSAoZWxtLCBjaGVja1ZhbCkge1xuICByZXR1cm4gKCFlbG0uY29tcG9zaW5nICYmIChcbiAgICBlbG0udGFnTmFtZSA9PT0gJ09QVElPTicgfHxcbiAgICBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB8fFxuICAgIGlzRGlydHlXaXRoTW9kaWZpZXJzKGVsbSwgY2hlY2tWYWwpXG4gICkpXG59XG5cbmZ1bmN0aW9uIGlzTm90SW5Gb2N1c0FuZERpcnR5IChlbG0sIGNoZWNrVmFsKSB7XG4gIC8vIHJldHVybiB0cnVlIHdoZW4gdGV4dGJveCAoLm51bWJlciBhbmQgLnRyaW0pIGxvc2VzIGZvY3VzIGFuZCBpdHMgdmFsdWUgaXNcbiAgLy8gbm90IGVxdWFsIHRvIHRoZSB1cGRhdGVkIHZhbHVlXG4gIHZhciBub3RJbkZvY3VzID0gdHJ1ZTtcbiAgLy8gIzYxNTdcbiAgLy8gd29yayBhcm91bmQgSUUgYnVnIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gYW4gaWZyYW1lXG4gIHRyeSB7IG5vdEluRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbG07IH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBub3RJbkZvY3VzICYmIGVsbS52YWx1ZSAhPT0gY2hlY2tWYWxcbn1cblxuZnVuY3Rpb24gaXNEaXJ0eVdpdGhNb2RpZmllcnMgKGVsbSwgbmV3VmFsKSB7XG4gIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTtcbiAgdmFyIG1vZGlmaWVycyA9IGVsbS5fdk1vZGlmaWVyczsgLy8gaW5qZWN0ZWQgYnkgdi1tb2RlbCBydW50aW1lXG4gIGlmIChpc0RlZihtb2RpZmllcnMpKSB7XG4gICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHtcbiAgICAgIHJldHVybiB0b051bWJlcih2YWx1ZSkgIT09IHRvTnVtYmVyKG5ld1ZhbClcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVycy50cmltKSB7XG4gICAgICByZXR1cm4gdmFsdWUudHJpbSgpICE9PSBuZXdWYWwudHJpbSgpXG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZSAhPT0gbmV3VmFsXG59XG5cbnZhciBkb21Qcm9wcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcyxcbiAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xufTtcblxuLyogICovXG5cbnZhciBwYXJzZVN0eWxlVGV4dCA9IGNhY2hlZChmdW5jdGlvbiAoY3NzVGV4dCkge1xuICB2YXIgcmVzID0ge307XG4gIHZhciBsaXN0RGVsaW1pdGVyID0gLzsoPyFbXihdKlxcKSkvZztcbiAgdmFyIHByb3BlcnR5RGVsaW1pdGVyID0gLzooLispLztcbiAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlRGF0YSAoZGF0YSkge1xuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcoZGF0YS5zdHlsZSk7XG4gIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvblxuICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxuICByZXR1cm4gZGF0YS5zdGF0aWNTdHlsZVxuICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKVxuICAgIDogc3R5bGVcbn1cblxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmluZGluZ1N0eWxlKSkge1xuICAgIHJldHVybiB0b09iamVjdChiaW5kaW5nU3R5bGUpXG4gIH1cbiAgaWYgKHR5cGVvZiBiaW5kaW5nU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVUZXh0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICByZXR1cm4gYmluZGluZ1N0eWxlXG59XG5cbi8qKlxuICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQnc1xuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIHN0eWxlRGF0YTtcblxuICBpZiAoY2hlY2tDaGlsZCkge1xuICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgICAgaWYgKFxuICAgICAgICBjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEgJiZcbiAgICAgICAgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YSh2bm9kZS5kYXRhKSkpIHtcbiAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICB9XG5cbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUuZGF0YSAmJiAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHBhcmVudE5vZGUuZGF0YSkpKSB7XG4gICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG52YXIgY3NzVmFyUkUgPSAvXi0tLztcbnZhciBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGNzc1ZhclJFLnRlc3QobmFtZSkpIHtcbiAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICB9IGVsc2UgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KGh5cGhlbmF0ZShuYW1lKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xuICB9IGVsc2Uge1xuICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAvLyBTdXBwb3J0IHZhbHVlcyBhcnJheSBjcmVhdGVkIGJ5IGF1dG9wcmVmaXhlciwgZS5nLlxuICAgICAgLy8ge2Rpc3BsYXk6IFtcIi13ZWJraXQtYm94XCIsIFwiLW1zLWZsZXhib3hcIiwgXCJmbGV4XCJdfVxuICAgICAgLy8gU2V0IHRoZW0gb25lIGJ5IG9uZSwgYW5kIHRoZSBicm93c2VyIHdpbGwgb25seSBzZXQgdGhvc2UgaXQgY2FuIHJlY29nbml6ZVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuXG52YXIgZW1wdHlTdHlsZTtcbnZhciBub3JtYWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHByb3ApIHtcbiAgZW1wdHlTdHlsZSA9IGVtcHR5U3R5bGUgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gIHByb3AgPSBjYW1lbGl6ZShwcm9wKTtcbiAgaWYgKHByb3AgIT09ICdmaWx0ZXInICYmIChwcm9wIGluIGVtcHR5U3R5bGUpKSB7XG4gICAgcmV0dXJuIHByb3BcbiAgfVxuICB2YXIgY2FwTmFtZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7XG4gICAgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkge1xuICAgICAgcmV0dXJuIG5hbWVcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVTdHlsZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXG4gIGlmIChpc1VuZGVmKGRhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYoZGF0YS5zdHlsZSkgJiZcbiAgICBpc1VuZGVmKG9sZERhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYob2xkRGF0YS5zdHlsZSlcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3VyLCBuYW1lO1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBvbGRTdGF0aWNTdHlsZSA9IG9sZERhdGEuc3RhdGljU3R5bGU7XG4gIHZhciBvbGRTdHlsZUJpbmRpbmcgPSBvbGREYXRhLm5vcm1hbGl6ZWRTdHlsZSB8fCBvbGREYXRhLnN0eWxlIHx8IHt9O1xuXG4gIC8vIGlmIHN0YXRpYyBzdHlsZSBleGlzdHMsIHN0eWxlYmluZGluZyBhbHJlYWR5IG1lcmdlZCBpbnRvIGl0IHdoZW4gZG9pbmcgbm9ybWFsaXplU3R5bGVEYXRhXG4gIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZztcblxuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307XG5cbiAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZlxuICAvLyBtYWtlIHN1cmUgdG8gY2xvbmUgaXQgaWYgaXQncyByZWFjdGl2ZSwgc2luY2UgdGhlIHVzZXIgbGlrZWx5IHdhbnRzXG4gIC8vIHRvIG11dGF0ZSBpdC5cbiAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pXG4gICAgPyBleHRlbmQoe30sIHN0eWxlKVxuICAgIDogc3R5bGU7XG5cbiAgdmFyIG5ld1N0eWxlID0gZ2V0U3R5bGUodm5vZGUsIHRydWUpO1xuXG4gIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xuICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkge1xuICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcbiAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcbiAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc3R5bGUgPSB7XG4gIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG4gIHVwZGF0ZTogdXBkYXRlU3R5bGVcbn07XG5cbi8qICAqL1xuXG52YXIgd2hpdGVzcGFjZVJFID0gL1xccysvO1xuXG4vKipcbiAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1ciA9IFwiIFwiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIjtcbiAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcbiAgICB9XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBjdXIgPSBcIiBcIiArIChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCI7XG4gICAgdmFyIHRhciA9ICcgJyArIGNscyArICcgJztcbiAgICB3aGlsZSAoY3VyLmluZGV4T2YodGFyKSA+PSAwKSB7XG4gICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7XG4gICAgfVxuICAgIGN1ciA9IGN1ci50cmltKCk7XG4gICAgaWYgKGN1cikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHtcbiAgaWYgKCFkZWYkJDEpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgcmVzID0ge307XG4gICAgaWYgKGRlZiQkMS5jc3MgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbmQocmVzLCBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEubmFtZSB8fCAndicpKTtcbiAgICB9XG4gICAgZXh0ZW5kKHJlcywgZGVmJCQxKTtcbiAgICByZXR1cm4gcmVzXG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxKVxuICB9XG59XG5cbnZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4ge1xuICAgIGVudGVyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG4gICAgZW50ZXJUb0NsYXNzOiAobmFtZSArIFwiLWVudGVyLXRvXCIpLFxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpLFxuICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG4gICAgbGVhdmVUb0NsYXNzOiAobmFtZSArIFwiLWxlYXZlLXRvXCIpLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmUtYWN0aXZlXCIpXG4gIH1cbn0pO1xuXG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XG52YXIgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbnZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcblxuLy8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xudmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcbnZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcbmlmIChoYXNUcmFuc2l0aW9uKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nO1xuICAgIHRyYW5zaXRpb25FbmRFdmVudCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kJztcbiAgfVxuICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcbiAgfVxufVxuXG4vLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGVcbnZhciByYWYgPSBpbkJyb3dzZXJcbiAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KVxuICAgIDogc2V0VGltZW91dFxuICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oKTsgfTtcblxuZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgdmFyIHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzIHx8IChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgPSBbXSk7XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcy5pbmRleE9mKGNscykgPCAwKSB7XG4gICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpO1xuICAgIGFkZENsYXNzKGVsLCBjbHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykge1xuICBpZiAoZWwuX3RyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgcmVtb3ZlKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcbiAgfVxuICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcbiAgZWwsXG4gIGV4cGVjdGVkVHlwZSxcbiAgY2Jcbikge1xuICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG4gIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG4gIHZhciBlbmRlZCA9IDA7XG4gIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuICAgIGNiKCk7XG4gIH07XG4gIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xufVxuXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gIHZhciB0cmFuc2l0aW9uRGVsYXlzID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSAoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuXG4gIHZhciB0eXBlO1xuICB2YXIgdGltZW91dCA9IDA7XG4gIHZhciBwcm9wQ291bnQgPSAwO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gQU5JTUFUSU9OO1xuICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuICAgIHR5cGUgPSB0aW1lb3V0ID4gMFxuICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcbiAgICAgICAgPyBUUkFOU0lUSU9OXG4gICAgICAgIDogQU5JTUFUSU9OXG4gICAgICA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZVxuICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG4gICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICA6IDA7XG4gIH1cbiAgdmFyIGhhc1RyYW5zZm9ybSA9XG4gICAgdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxuICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdGltZW91dDogdGltZW91dCxcbiAgICBwcm9wQ291bnQ6IHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm06IGhhc1RyYW5zZm9ybVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVvdXQgKGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBkdXJhdGlvbnMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSlcbiAgfSkpXG59XG5cbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyIG51bWJlcnNcbi8vIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd24gKGkuZS4gYWN0aW5nXG4vLyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXG5mdW5jdGlvbiB0b01zIChzKSB7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW50ZXIgKHZub2RlLCB0b2dnbGVEaXNwbGF5KSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBlbC5fbGVhdmVDYigpO1xuICB9XG5cbiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuICBpZiAoaXNVbmRlZihkYXRhKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjc3MgPSBkYXRhLmNzcztcbiAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzO1xuICB2YXIgZW50ZXJUb0NsYXNzID0gZGF0YS5lbnRlclRvQ2xhc3M7XG4gIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuICB2YXIgYXBwZWFyVG9DbGFzcyA9IGRhdGEuYXBwZWFyVG9DbGFzcztcbiAgdmFyIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVyID0gZGF0YS5lbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXI7XG4gIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7XG4gIHZhciBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhcjtcbiAgdmFyIGFwcGVhciA9IGRhdGEuYXBwZWFyO1xuICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyO1xuICB2YXIgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQ7XG4gIHZhciBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247XG5cbiAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xuICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcbiAgLy8gYXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNoaWxkIGNvbXBvbmVudC4gSW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gY2hlY2tcbiAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXG4gIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7XG4gIHZhciB0cmFuc2l0aW9uTm9kZSA9IGFjdGl2ZUluc3RhbmNlLiR2bm9kZTtcbiAgd2hpbGUgKHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudCkge1xuICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0O1xuICAgIHRyYW5zaXRpb25Ob2RlID0gdHJhbnNpdGlvbk5vZGUucGFyZW50O1xuICB9XG5cbiAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0O1xuXG4gIGlmIChpc0FwcGVhciAmJiAhYXBwZWFyICYmIGFwcGVhciAhPT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdGFydENsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQ2xhc3NcbiAgICA/IGFwcGVhckNsYXNzXG4gICAgOiBlbnRlckNsYXNzO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJBY3RpdmVDbGFzc1xuICAgID8gYXBwZWFyQWN0aXZlQ2xhc3NcbiAgICA6IGVudGVyQWN0aXZlQ2xhc3M7XG4gIHZhciB0b0NsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyVG9DbGFzc1xuICAgID8gYXBwZWFyVG9DbGFzc1xuICAgIDogZW50ZXJUb0NsYXNzO1xuXG4gIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhclxuICAgID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcilcbiAgICA6IGJlZm9yZUVudGVyO1xuICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/ICh0eXBlb2YgYXBwZWFyID09PSAnZnVuY3Rpb24nID8gYXBwZWFyIDogZW50ZXIpXG4gICAgOiBlbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/IChhZnRlckFwcGVhciB8fCBhZnRlckVudGVyKVxuICAgIDogYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyXG4gICAgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKVxuICAgIDogZW50ZXJDYW5jZWxsZWQ7XG5cbiAgdmFyIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5lbnRlclxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24sICdlbnRlcicsIHZub2RlKTtcbiAgfVxuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChlbnRlckhvb2spO1xuXG4gIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XG4gICAgfVxuICAgIGVsLl9lbnRlckNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGVuZGluZ05vZGUgPSBwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nICYmIHBhcmVudC5fcGVuZGluZ1t2bm9kZS5rZXldO1xuICAgICAgaWYgKHBlbmRpbmdOb2RlICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYlxuICAgICAgKSB7XG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuICAgICAgfVxuICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcbiAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTtcbiAgICAgICAgaWYgKCF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24pKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICh2bm9kZS5kYXRhLnNob3cpIHtcbiAgICB0b2dnbGVEaXNwbGF5ICYmIHRvZ2dsZURpc3BsYXkoKTtcbiAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XG4gIH1cblxuICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICBjYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlYXZlICh2bm9kZSwgcm0pIHtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXG4gIC8vIGNhbGwgZW50ZXIgY2FsbGJhY2sgbm93XG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHtcbiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9lbnRlckNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmIChpc1VuZGVmKGRhdGEpIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIHJtKClcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3NzID0gZGF0YS5jc3M7XG4gIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcbiAgdmFyIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzO1xuICB2YXIgbGVhdmVBY3RpdmVDbGFzcyA9IGRhdGEubGVhdmVBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUxlYXZlID0gZGF0YS5iZWZvcmVMZWF2ZTtcbiAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTtcbiAgdmFyIGFmdGVyTGVhdmUgPSBkYXRhLmFmdGVyTGVhdmU7XG4gIHZhciBsZWF2ZUNhbmNlbGxlZCA9IGRhdGEubGVhdmVDYW5jZWxsZWQ7XG4gIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlO1xuICB2YXIgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChsZWF2ZSk7XG5cbiAgdmFyIGV4cGxpY2l0TGVhdmVEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5sZWF2ZVxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRGVmKGV4cGxpY2l0TGVhdmVEdXJhdGlvbikpIHtcbiAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0TGVhdmVEdXJhdGlvbiwgJ2xlYXZlJywgdm5vZGUpO1xuICB9XG5cbiAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG4gICAgfVxuICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybUxlYXZlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVsodm5vZGUua2V5KV0gPSB2bm9kZTtcbiAgICB9XG4gICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xuICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICAgIGlmICghY2IuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIGV4cGxpY2l0TGVhdmVEdXJhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xuICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb25seSB1c2VkIGluIGRldiBtb2RlXG5mdW5jdGlvbiBjaGVja0R1cmF0aW9uICh2YWwsIG5hbWUsIHZub2RlKSB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBcIiArXG4gICAgICBcImdvdCBcIiArIChKU09OLnN0cmluZ2lmeSh2YWwpKSArIFwiLlwiLFxuICAgICAgdm5vZGUuY29udGV4dFxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBOYU4gLSBcIiArXG4gICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicsXG4gICAgICB2bm9kZS5jb250ZXh0XG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24gKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbClcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgYSB0cmFuc2l0aW9uIGhvb2sncyBhcmd1bWVudCBsZW5ndGguIFRoZSBob29rIG1heSBiZTpcbiAqIC0gYSBtZXJnZWQgaG9vayAoaW52b2tlcikgd2l0aCB0aGUgb3JpZ2luYWwgaW4gLmZuc1xuICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpXG4gKiAtIGEgcGxhaW4gZnVuY3Rpb24gKC5sZW5ndGgpXG4gKi9cbmZ1bmN0aW9uIGdldEhvb2tBcmd1bWVudHNMZW5ndGggKGZuKSB7XG4gIGlmIChpc1VuZGVmKGZuKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHZhciBpbnZva2VyRm5zID0gZm4uZm5zO1xuICBpZiAoaXNEZWYoaW52b2tlckZucykpIHtcbiAgICAvLyBpbnZva2VyXG4gICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoXG4gICAgICBBcnJheS5pc0FycmF5KGludm9rZXJGbnMpXG4gICAgICAgID8gaW52b2tlckZuc1swXVxuICAgICAgICA6IGludm9rZXJGbnNcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxXG4gIH1cbn1cblxuZnVuY3Rpb24gX2VudGVyIChfLCB2bm9kZSkge1xuICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7XG4gICAgZW50ZXIodm5vZGUpO1xuICB9XG59XG5cbnZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8ge1xuICBjcmVhdGU6IF9lbnRlcixcbiAgYWN0aXZhdGU6IF9lbnRlcixcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUkJDEgKHZub2RlLCBybSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xuICAgICAgbGVhdmUodm5vZGUsIHJtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICB9XG4gIH1cbn0gOiB7fTtcblxudmFyIHBsYXRmb3JtTW9kdWxlcyA9IFtcbiAgYXR0cnMsXG4gIGtsYXNzLFxuICBldmVudHMsXG4gIGRvbVByb3BzLFxuICBzdHlsZSxcbiAgdHJhbnNpdGlvblxuXTtcblxuLyogICovXG5cbi8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbFxuLy8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cbnZhciBtb2R1bGVzID0gcGxhdGZvcm1Nb2R1bGVzLmNvbmNhdChiYXNlTW9kdWxlcyk7XG5cbnZhciBwYXRjaCA9IGNyZWF0ZVBhdGNoRnVuY3Rpb24oeyBub2RlT3BzOiBub2RlT3BzLCBtb2R1bGVzOiBtb2R1bGVzIH0pO1xuXG4vKipcbiAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZ1xuICogcHJvcGVydGllcyB0byBFbGVtZW50cy5cbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmIChpc0lFOSkge1xuICAvLyBodHRwOi8vd3d3Lm1hdHRzNDExLmNvbS9wb3N0L2ludGVybmV0LWV4cGxvcmVyLTktb25pbnB1dC9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGVsICYmIGVsLnZtb2RlbCkge1xuICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGRpcmVjdGl2ZSA9IHtcbiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIC8vICM2OTAzXG4gICAgICBpZiAob2xkVm5vZGUuZWxtICYmICFvbGRWbm9kZS5lbG0uX3ZPcHRpb25zKSB7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpcmVjdGl2ZS5jb21wb25lbnRVcGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGlzVGV4dElucHV0VHlwZShlbC50eXBlKSkge1xuICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVycztcbiAgICAgIGlmICghYmluZGluZy5tb2RpZmllcnMubGF6eSkge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxuICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXG4gICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcbiAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGlzSUU5KSB7XG4gICAgICAgICAgZWwudm1vZGVsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcbiAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgdmFyIHByZXZPcHRpb25zID0gZWwuX3ZPcHRpb25zO1xuICAgICAgdmFyIGN1ck9wdGlvbnMgPSBlbC5fdk9wdGlvbnMgPSBbXS5tYXAuY2FsbChlbC5vcHRpb25zLCBnZXRWYWx1ZSk7XG4gICAgICBpZiAoY3VyT3B0aW9ucy5zb21lKGZ1bmN0aW9uIChvLCBpKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCBwcmV2T3B0aW9uc1tpXSk7IH0pKSB7XG4gICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmXG4gICAgICAgIC8vIG5vIG1hdGNoaW5nIG9wdGlvbiBmb3VuZCBmb3IgYXQgbGVhc3Qgb25lIHZhbHVlXG4gICAgICAgIHZhciBuZWVkUmVzZXQgPSBlbC5tdWx0aXBsZVxuICAgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGN1ck9wdGlvbnMpOyB9KVxuICAgICAgICAgIDogYmluZGluZy52YWx1ZSAhPT0gYmluZGluZy5vbGRWYWx1ZSAmJiBoYXNOb01hdGNoaW5nT3B0aW9uKGJpbmRpbmcudmFsdWUsIGN1ck9wdGlvbnMpO1xuICAgICAgICBpZiAobmVlZFJlc2V0KSB7XG4gICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTZWxlY3RlZCAoZWwsIGJpbmRpbmcsIHZtKSB7XG4gIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0lFIHx8IGlzRWRnZSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWN0dWFsbHlTZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm0pO1xuICAgIH0sIDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjdHVhbGx5U2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uIChvKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCB2YWx1ZSk7IH0pXG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlIChvcHRpb24pIHtcbiAgcmV0dXJuICdfdmFsdWUnIGluIG9wdGlvblxuICAgID8gb3B0aW9uLl92YWx1ZVxuICAgIDogb3B0aW9uLnZhbHVlXG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydCAoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kIChlKSB7XG4gIC8vIHByZXZlbnQgdHJpZ2dlcmluZyBhbiBpbnB1dCBldmVudCBmb3Igbm8gcmVhc29uXG4gIGlmICghZS50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybiB9XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICB0cmlnZ2VyKGUudGFyZ2V0LCAnaW5wdXQnKTtcbn1cblxuZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChlKTtcbn1cblxuLyogICovXG5cbi8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3RcbmZ1bmN0aW9uIGxvY2F0ZU5vZGUgKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcbiAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKVxuICAgIDogdm5vZGVcbn1cblxudmFyIHNob3cgPSB7XG4gIGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXG4gICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcbiAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgPVxuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uJCQxKSB7XG4gICAgICB2bm9kZS5kYXRhLnNob3cgPSB0cnVlO1xuICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChlbCwgcmVmLCB2bm9kZSkge1xuICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbiAgICB2YXIgb2xkVmFsdWUgPSByZWYub2xkVmFsdWU7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpIHsgcmV0dXJuIH1cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uJCQxID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb24kJDEpIHtcbiAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl9fdk9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcbiAgICB9XG4gIH0sXG5cbiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQgKFxuICAgIGVsLFxuICAgIGJpbmRpbmcsXG4gICAgdm5vZGUsXG4gICAgb2xkVm5vZGUsXG4gICAgaXNEZXN0cm95XG4gICkge1xuICAgIGlmICghaXNEZXN0cm95KSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgIH1cbiAgfVxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcbiAgbW9kZWw6IGRpcmVjdGl2ZSxcbiAgc2hvdzogc2hvd1xufTtcblxuLyogICovXG5cbnZhciB0cmFuc2l0aW9uUHJvcHMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBjc3M6IEJvb2xlYW4sXG4gIG1vZGU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBlbnRlckNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdXG59O1xuXG4vLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG4gIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2bm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuICB2YXIgZGF0YSA9IHt9O1xuICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG4gIC8vIHByb3BzXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcbiAgfVxuICAvLyBldmVudHMuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuICBpZiAoL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7XG4gICAgcmV0dXJuIGgoJ2tlZXAtYWxpdmUnLCB7XG4gICAgICBwcm9wczogcmF3Q2hpbGQuY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGFcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24gKHZub2RlKSB7XG4gIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lQ2hpbGQgKGNoaWxkLCBvbGRDaGlsZCkge1xuICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWdcbn1cblxudmFyIGlzTm90VGV4dE5vZGUgPSBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWcgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpOyB9O1xuXG52YXIgaXNWU2hvd0RpcmVjdGl2ZSA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfTtcblxudmFyIFRyYW5zaXRpb24gPSB7XG4gIG5hbWU6ICd0cmFuc2l0aW9uJyxcbiAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcyxcbiAgYWJzdHJhY3Q6IHRydWUsXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpc05vdFRleHROb2RlKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXG4gICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcblxuICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbidcbiAgICApIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAnICsgbW9kZSxcbiAgICAgICAgdGhpcy4kcGFyZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciByYXdDaGlsZCA9IGNoaWxkcmVuWzBdO1xuXG4gICAgLy8gaWYgdGhpcyBpcyBhIGNvbXBvbmVudCByb290IG5vZGUgYW5kIHRoZSBjb21wb25lbnQnc1xuICAgIC8vIHBhcmVudCBjb250YWluZXIgbm9kZSBhbHNvIGhhcyB0cmFuc2l0aW9uLCBza2lwLlxuICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgLy8gYXBwbHkgdHJhbnNpdGlvbiBkYXRhIHRvIGNoaWxkXG4gICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZVxuICAgIHZhciBjaGlsZCA9IGdldFJlYWxDaGlsZChyYXdDaGlsZCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xlYXZpbmcpIHtcbiAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgYSBrZXkgdGhhdCBpcyB1bmlxdWUgdG8gdGhlIHZub2RlIHR5cGUgYW5kIHRvIHRoaXMgdHJhbnNpdGlvblxuICAgIC8vIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBrZXkgd2lsbCBiZSB1c2VkIHRvIHJlbW92ZSBwZW5kaW5nIGxlYXZpbmcgbm9kZXNcbiAgICAvLyBkdXJpbmcgZW50ZXJpbmcuXG4gICAgdmFyIGlkID0gXCJfX3RyYW5zaXRpb24tXCIgKyAodGhpcy5fdWlkKSArIFwiLVwiO1xuICAgIGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsXG4gICAgICA/IGNoaWxkLmlzQ29tbWVudFxuICAgICAgICA/IGlkICsgJ2NvbW1lbnQnXG4gICAgICAgIDogaWQgKyBjaGlsZC50YWdcbiAgICAgIDogaXNQcmltaXRpdmUoY2hpbGQua2V5KVxuICAgICAgICA/IChTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMCA/IGNoaWxkLmtleSA6IGlkICsgY2hpbGQua2V5KVxuICAgICAgICA6IGNoaWxkLmtleTtcblxuICAgIHZhciBkYXRhID0gKGNoaWxkLmRhdGEgfHwgKGNoaWxkLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG4gICAgdmFyIG9sZFJhd0NoaWxkID0gdGhpcy5fdm5vZGU7XG4gICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTtcblxuICAgIC8vIG1hcmsgdi1zaG93XG4gICAgLy8gc28gdGhhdCB0aGUgdHJhbnNpdGlvbiBtb2R1bGUgY2FuIGhhbmQgb3ZlciB0aGUgY29udHJvbCB0byB0aGUgZGlyZWN0aXZlXG4gICAgaWYgKGNoaWxkLmRhdGEuZGlyZWN0aXZlcyAmJiBjaGlsZC5kYXRhLmRpcmVjdGl2ZXMuc29tZShpc1ZTaG93RGlyZWN0aXZlKSkge1xuICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBvbGRDaGlsZCAmJlxuICAgICAgb2xkQ2hpbGQuZGF0YSAmJlxuICAgICAgIWlzU2FtZUNoaWxkKGNoaWxkLCBvbGRDaGlsZCkgJiZcbiAgICAgICFpc0FzeW5jUGxhY2Vob2xkZXIob2xkQ2hpbGQpICYmXG4gICAgICAvLyAjNjY4NyBjb21wb25lbnQgcm9vdCBpcyBhIGNvbW1lbnQgbm9kZVxuICAgICAgIShvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZSAmJiBvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUuaXNDb21tZW50KVxuICAgICkge1xuICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG4gICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG4gICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG4gICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXG4gICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xuICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnYWZ0ZXJMZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzJDEuX2xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7XG4gICAgICAgIGlmIChpc0FzeW5jUGxhY2Vob2xkZXIoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIG9sZFJhd0NoaWxkXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHsgZGVsYXllZExlYXZlKCk7IH07XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2VudGVyQ2FuY2VsbGVkJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHsgZGVsYXllZExlYXZlID0gbGVhdmU7IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByYXdDaGlsZFxuICB9XG59O1xuXG4vKiAgKi9cblxudmFyIHByb3BzID0gZXh0ZW5kKHtcbiAgdGFnOiBTdHJpbmcsXG4gIG1vdmVDbGFzczogU3RyaW5nXG59LCB0cmFuc2l0aW9uUHJvcHMpO1xuXG5kZWxldGUgcHJvcHMubW9kZTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IHtcbiAgcHJvcHM6IHByb3BzLFxuXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgdXBkYXRlID0gdGhpcy5fdXBkYXRlO1xuICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XG4gICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2UodGhpcyQxKTtcbiAgICAgIC8vIGZvcmNlIHJlbW92aW5nIHBhc3NcbiAgICAgIHRoaXMkMS5fX3BhdGNoX18oXG4gICAgICAgIHRoaXMkMS5fdm5vZGUsXG4gICAgICAgIHRoaXMkMS5rZXB0LFxuICAgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nXG4gICAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuICAgICAgKTtcbiAgICAgIHRoaXMkMS5fdm5vZGUgPSB0aGlzJDEua2VwdDtcbiAgICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xuICAgICAgdXBkYXRlLmNhbGwodGhpcyQxLCB2bm9kZSwgaHlkcmF0aW5nKTtcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnIHx8IHRoaXMuJHZub2RlLmRhdGEudGFnIHx8ICdzcGFuJztcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHZhciByYXdDaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW107XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjID0gcmF3Q2hpbGRyZW5baV07XG4gICAgICBpZiAoYy50YWcpIHtcbiAgICAgICAgaWYgKGMua2V5ICE9IG51bGwgJiYgU3RyaW5nKGMua2V5KS5pbmRleE9mKCdfX3ZsaXN0JykgIT09IDApIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xuICAgICAgICAgIG1hcFtjLmtleV0gPSBjXG4gICAgICAgICAgOyhjLmRhdGEgfHwgKGMuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgb3B0cyA9IGMuY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgICB2YXIgbmFtZSA9IG9wdHMgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZyB8fCAnJykgOiBjLnRhZztcbiAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcbiAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuICB9LFxuXG4gIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQgKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuO1xuICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7XG4gICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XG5cbiAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cbiAgICAvLyBhc3NpZ24gdG8gdGhpcyB0byBhdm9pZCBiZWluZyByZW1vdmVkIGluIHRyZWUtc2hha2luZ1xuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgIHRoaXMuX3JlZmxvdyA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuXG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuZGF0YS5tb3ZlZCkge1xuICAgICAgICB2YXIgZWwgPSBjLmVsbTtcbiAgICAgICAgdmFyIHMgPSBlbC5zdHlsZTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGVsLl9tb3ZlQ2IgPSBmdW5jdGlvbiBjYiAoZSkge1xuICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7XG4gICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBoYXNNb3ZlOiBmdW5jdGlvbiBoYXNNb3ZlIChlbCwgbW92ZUNsYXNzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghaGFzVHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRoaXMuX2hhc01vdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmVcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xuICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXG4gICAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXG4gICAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcbiAgICAgIC8vIGlzIGFwcGxpZWQuXG4gICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICAgIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykgeyByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTsgfSk7XG4gICAgICB9XG4gICAgICBhZGRDbGFzcyhjbG9uZSwgbW92ZUNsYXNzKTtcbiAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChjLmVsbS5fbW92ZUNiKSB7XG4gICAgYy5lbG0uX21vdmVDYigpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcbiAgICBjLmVsbS5fZW50ZXJDYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG4gIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcbiAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG4gIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgfVxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxufTtcblxuLyogICovXG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblZ1ZS5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblZ1ZS5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XG5WdWUuY29uZmlnLmlzUmVzZXJ2ZWRBdHRyID0gaXNSZXNlcnZlZEF0dHI7XG5WdWUuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTtcblZ1ZS5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xuZXh0ZW5kKFZ1ZS5vcHRpb25zLmRpcmVjdGl2ZXMsIHBsYXRmb3JtRGlyZWN0aXZlcyk7XG5leHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCA6IG5vb3A7XG5cbi8vIHB1YmxpYyBtb3VudCBtZXRob2RcblZ1ZS5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiBtb3VudENvbXBvbmVudCh0aGlzLCBlbCwgaHlkcmF0aW5nKVxufTtcblxuLy8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAoaW5Ccm93c2VyKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHtcbiAgICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBkZXZ0b29scy5lbWl0KCdpbml0JywgVnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0J1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKFxuICAgICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGV4dGVuc2lvbiBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcbiAgICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgIGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJlxuICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShcbiAgICAgICAgXCJZb3UgYXJlIHJ1bm5pbmcgVnVlIGluIGRldmVsb3BtZW50IG1vZGUuXFxuXCIgK1xuICAgICAgICBcIk1ha2Ugc3VyZSB0byB0dXJuIG9uIHByb2R1Y3Rpb24gbW9kZSB3aGVuIGRlcGxveWluZyBmb3IgcHJvZHVjdGlvbi5cXG5cIiArXG4gICAgICAgIFwiU2VlIG1vcmUgdGlwcyBhdCBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9kZXBsb3ltZW50Lmh0bWxcIlxuICAgICAgKTtcbiAgICB9XG4gIH0sIDApO1xufVxuXG4vKiAgKi9cblxudmFyIGRlZmF1bHRUYWdSRSA9IC9cXHtcXHsoKD86LnxcXHI/XFxuKSs/KVxcfVxcfS9nO1xudmFyIHJlZ2V4RXNjYXBlUkUgPSAvWy0uKis/XiR7fSgpfFtcXF1cXC9cXFxcXS9nO1xuXG52YXIgYnVpbGRSZWdleCA9IGNhY2hlZChmdW5jdGlvbiAoZGVsaW1pdGVycykge1xuICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHZhciBjbG9zZSA9IGRlbGltaXRlcnNbMV0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHJldHVybiBuZXcgUmVnRXhwKG9wZW4gKyAnKCg/Oi58XFxcXG4pKz8pJyArIGNsb3NlLCAnZycpXG59KTtcblxuXG5cbmZ1bmN0aW9uIHBhcnNlVGV4dCAoXG4gIHRleHQsXG4gIGRlbGltaXRlcnNcbikge1xuICB2YXIgdGFnUkUgPSBkZWxpbWl0ZXJzID8gYnVpbGRSZWdleChkZWxpbWl0ZXJzKSA6IGRlZmF1bHRUYWdSRTtcbiAgaWYgKCF0YWdSRS50ZXN0KHRleHQpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHRva2VucyA9IFtdO1xuICB2YXIgcmF3VG9rZW5zID0gW107XG4gIHZhciBsYXN0SW5kZXggPSB0YWdSRS5sYXN0SW5kZXggPSAwO1xuICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlO1xuICB3aGlsZSAoKG1hdGNoID0gdGFnUkUuZXhlYyh0ZXh0KSkpIHtcbiAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIHB1c2ggdGV4dCB0b2tlblxuICAgIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xuICAgICAgcmF3VG9rZW5zLnB1c2godG9rZW5WYWx1ZSA9IHRleHQuc2xpY2UobGFzdEluZGV4LCBpbmRleCkpO1xuICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpO1xuICAgIH1cbiAgICAvLyB0YWcgdG9rZW5cbiAgICB2YXIgZXhwID0gcGFyc2VGaWx0ZXJzKG1hdGNoWzFdLnRyaW0oKSk7XG4gICAgdG9rZW5zLnB1c2goKFwiX3MoXCIgKyBleHAgKyBcIilcIikpO1xuICAgIHJhd1Rva2Vucy5wdXNoKHsgJ0BiaW5kaW5nJzogZXhwIH0pO1xuICAgIGxhc3RJbmRleCA9IGluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICB9XG4gIGlmIChsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgIHJhd1Rva2Vucy5wdXNoKHRva2VuVmFsdWUgPSB0ZXh0LnNsaWNlKGxhc3RJbmRleCkpO1xuICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGV4cHJlc3Npb246IHRva2Vucy5qb2luKCcrJyksXG4gICAgdG9rZW5zOiByYXdUb2tlbnNcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHtcbiAgdmFyIHdhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG4gIHZhciBzdGF0aWNDbGFzcyA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdjbGFzcycpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdGF0aWNDbGFzcykge1xuICAgIHZhciByZXMgPSBwYXJzZVRleHQoc3RhdGljQ2xhc3MsIG9wdGlvbnMuZGVsaW1pdGVycyk7XG4gICAgaWYgKHJlcykge1xuICAgICAgd2FybihcbiAgICAgICAgXCJjbGFzcz1cXFwiXCIgKyBzdGF0aWNDbGFzcyArIFwiXFxcIjogXCIgK1xuICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArXG4gICAgICAgICdpbnN0ZWFkIG9mIDxkaXYgY2xhc3M9XCJ7eyB2YWwgfX1cIj4sIHVzZSA8ZGl2IDpjbGFzcz1cInZhbFwiPi4nLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsnY2xhc3MnXVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN0YXRpY0NsYXNzKSB7XG4gICAgZWwuc3RhdGljQ2xhc3MgPSBKU09OLnN0cmluZ2lmeShzdGF0aWNDbGFzcyk7XG4gIH1cbiAgdmFyIGNsYXNzQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnY2xhc3MnLCBmYWxzZSAvKiBnZXRTdGF0aWMgKi8pO1xuICBpZiAoY2xhc3NCaW5kaW5nKSB7XG4gICAgZWwuY2xhc3NCaW5kaW5nID0gY2xhc3NCaW5kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkRhdGEgKGVsKSB7XG4gIHZhciBkYXRhID0gJyc7XG4gIGlmIChlbC5zdGF0aWNDbGFzcykge1xuICAgIGRhdGEgKz0gXCJzdGF0aWNDbGFzczpcIiArIChlbC5zdGF0aWNDbGFzcykgKyBcIixcIjtcbiAgfVxuICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7XG4gICAgZGF0YSArPSBcImNsYXNzOlwiICsgKGVsLmNsYXNzQmluZGluZykgKyBcIixcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIga2xhc3MkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNDbGFzcyddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlLFxuICBnZW5EYXRhOiBnZW5EYXRhXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSQxIChlbCwgb3B0aW9ucykge1xuICB2YXIgd2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcbiAgdmFyIHN0YXRpY1N0eWxlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3N0eWxlJyk7XG4gIGlmIChzdGF0aWNTdHlsZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHN0YXRpY1N0eWxlLCBvcHRpb25zLmRlbGltaXRlcnMpO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwic3R5bGU9XFxcIlwiICsgc3RhdGljU3R5bGUgKyBcIlxcXCI6IFwiICtcbiAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICtcbiAgICAgICAgICAnaW5zdGVhZCBvZiA8ZGl2IHN0eWxlPVwie3sgdmFsIH19XCI+LCB1c2UgPGRpdiA6c3R5bGU9XCJ2YWxcIj4uJyxcbiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnc3R5bGUnXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5zdGF0aWNTdHlsZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlU3R5bGVUZXh0KHN0YXRpY1N0eWxlKSk7XG4gIH1cblxuICB2YXIgc3R5bGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzdHlsZScsIGZhbHNlIC8qIGdldFN0YXRpYyAqLyk7XG4gIGlmIChzdHlsZUJpbmRpbmcpIHtcbiAgICBlbC5zdHlsZUJpbmRpbmcgPSBzdHlsZUJpbmRpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuRGF0YSQxIChlbCkge1xuICB2YXIgZGF0YSA9ICcnO1xuICBpZiAoZWwuc3RhdGljU3R5bGUpIHtcbiAgICBkYXRhICs9IFwic3RhdGljU3R5bGU6XCIgKyAoZWwuc3RhdGljU3R5bGUpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLnN0eWxlQmluZGluZykge1xuICAgIGRhdGEgKz0gXCJzdHlsZTooXCIgKyAoZWwuc3R5bGVCaW5kaW5nKSArIFwiKSxcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIgc3R5bGUkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNTdHlsZSddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlJDEsXG4gIGdlbkRhdGE6IGdlbkRhdGEkMVxufTtcblxuLyogICovXG5cbnZhciBkZWNvZGVyO1xuXG52YXIgaGUgPSB7XG4gIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlIChodG1sKSB7XG4gICAgZGVjb2RlciA9IGRlY29kZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVjb2Rlci5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBkZWNvZGVyLnRleHRDb250ZW50XG4gIH1cbn07XG5cbi8qICAqL1xuXG52YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoXG4gICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbiwnICtcbiAgJ2xpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJ1xuKTtcblxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuXG4vLyAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG52YXIgY2FuQmVMZWZ0T3BlblRhZyA9IG1ha2VNYXAoXG4gICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJ1xuKTtcblxuLy8gSFRNTDUgdGFncyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWwjZWxlbWVudHMtM1xuLy8gUGhyYXNpbmcgQ29udGVudCBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCNwaHJhc2luZy1jb250ZW50XG52YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoXG4gICdhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxkaXYsZGwsZHQsZmllbGRzZXQsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGZvcm0sJyArXG4gICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICtcbiAgJ29wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCwnICtcbiAgJ3RpdGxlLHRyLHRyYWNrJ1xuKTtcblxuLyoqXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBpdCdzIG1vc3RseSB2ZW5kb3IgY29kZS5cbiAqL1xuXG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbnZhciBhdHRyaWJ1dGUgPSAvXlxccyooW15cXHNcIic8PlxcLz1dKykoPzpcXHMqKD0pXFxzKig/OlwiKFteXCJdKilcIit8JyhbXiddKiknK3woW15cXHNcIic9PD5gXSspKSk/LztcbnZhciBkeW5hbWljQXJnQXR0cmlidXRlID0gL15cXHMqKCg/OnYtW1xcdy1dKzp8QHw6fCMpXFxbW149XStcXF1bXlxcc1wiJzw+XFwvPV0qKSg/OlxccyooPSlcXHMqKD86XCIoW15cIl0qKVwiK3wnKFteJ10qKScrfChbXlxcc1wiJz08PmBdKykpKT8vO1xudmFyIG5jbmFtZSA9IFwiW2EtekEtWl9dW1xcXFwtXFxcXC4wLTlfYS16QS1aXCIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgXCJdKlwiO1xudmFyIHFuYW1lQ2FwdHVyZSA9IFwiKCg/OlwiICsgbmNuYW1lICsgXCJcXFxcOik/XCIgKyBuY25hbWUgKyBcIilcIjtcbnZhciBzdGFydFRhZ09wZW4gPSBuZXcgUmVnRXhwKChcIl48XCIgKyBxbmFtZUNhcHR1cmUpKTtcbnZhciBzdGFydFRhZ0Nsb3NlID0gL15cXHMqKFxcLz8pPi87XG52YXIgZW5kVGFnID0gbmV3IFJlZ0V4cCgoXCJePFxcXFwvXCIgKyBxbmFtZUNhcHR1cmUgKyBcIltePl0qPlwiKSk7XG52YXIgZG9jdHlwZSA9IC9ePCFET0NUWVBFIFtePl0rPi9pO1xuLy8gIzcyOTg6IGVzY2FwZSAtIHRvIGF2b2lkIGJlaW5nIHBhc2VkIGFzIEhUTUwgY29tbWVudCB3aGVuIGlubGluZWQgaW4gcGFnZVxudmFyIGNvbW1lbnQgPSAvXjwhXFwtLS87XG52YXIgY29uZGl0aW9uYWxDb21tZW50ID0gL148IVxcWy87XG5cbi8vIFNwZWNpYWwgRWxlbWVudHMgKGNhbiBjb250YWluIGFueXRoaW5nKVxudmFyIGlzUGxhaW5UZXh0RWxlbWVudCA9IG1ha2VNYXAoJ3NjcmlwdCxzdHlsZSx0ZXh0YXJlYScsIHRydWUpO1xudmFyIHJlQ2FjaGUgPSB7fTtcblxudmFyIGRlY29kaW5nTWFwID0ge1xuICAnJmx0Oyc6ICc8JyxcbiAgJyZndDsnOiAnPicsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJmFtcDsnOiAnJicsXG4gICcmIzEwOyc6ICdcXG4nLFxuICAnJiM5Oyc6ICdcXHQnLFxuICAnJiMzOTsnOiBcIidcIlxufTtcbnZhciBlbmNvZGVkQXR0ciA9IC8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5KTsvZztcbnZhciBlbmNvZGVkQXR0cldpdGhOZXdMaW5lcyA9IC8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5fCMxMHwjOSk7L2c7XG5cbi8vICM1OTkyXG52YXIgaXNJZ25vcmVOZXdsaW5lVGFnID0gbWFrZU1hcCgncHJlLHRleHRhcmVhJywgdHJ1ZSk7XG52YXIgc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lID0gZnVuY3Rpb24gKHRhZywgaHRtbCkgeyByZXR1cm4gdGFnICYmIGlzSWdub3JlTmV3bGluZVRhZyh0YWcpICYmIGh0bWxbMF0gPT09ICdcXG4nOyB9O1xuXG5mdW5jdGlvbiBkZWNvZGVBdHRyICh2YWx1ZSwgc2hvdWxkRGVjb2RlTmV3bGluZXMpIHtcbiAgdmFyIHJlID0gc2hvdWxkRGVjb2RlTmV3bGluZXMgPyBlbmNvZGVkQXR0cldpdGhOZXdMaW5lcyA6IGVuY29kZWRBdHRyO1xuICByZXR1cm4gdmFsdWUucmVwbGFjZShyZSwgZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBkZWNvZGluZ01hcFttYXRjaF07IH0pXG59XG5cbmZ1bmN0aW9uIHBhcnNlSFRNTCAoaHRtbCwgb3B0aW9ucykge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIGV4cGVjdEhUTUwgPSBvcHRpb25zLmV4cGVjdEhUTUw7XG4gIHZhciBpc1VuYXJ5VGFnJCQxID0gb3B0aW9ucy5pc1VuYXJ5VGFnIHx8IG5vO1xuICB2YXIgY2FuQmVMZWZ0T3BlblRhZyQkMSA9IG9wdGlvbnMuY2FuQmVMZWZ0T3BlblRhZyB8fCBubztcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3QsIGxhc3RUYWc7XG4gIHdoaWxlIChodG1sKSB7XG4gICAgbGFzdCA9IGh0bWw7XG4gICAgLy8gTWFrZSBzdXJlIHdlJ3JlIG5vdCBpbiBhIHBsYWludGV4dCBjb250ZW50IGVsZW1lbnQgbGlrZSBzY3JpcHQvc3R5bGVcbiAgICBpZiAoIWxhc3RUYWcgfHwgIWlzUGxhaW5UZXh0RWxlbWVudChsYXN0VGFnKSkge1xuICAgICAgdmFyIHRleHRFbmQgPSBodG1sLmluZGV4T2YoJzwnKTtcbiAgICAgIGlmICh0ZXh0RW5kID09PSAwKSB7XG4gICAgICAgIC8vIENvbW1lbnQ6XG4gICAgICAgIGlmIChjb21tZW50LnRlc3QoaHRtbCkpIHtcbiAgICAgICAgICB2YXIgY29tbWVudEVuZCA9IGh0bWwuaW5kZXhPZignLS0+Jyk7XG5cbiAgICAgICAgICBpZiAoY29tbWVudEVuZCA+PSAwKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaG91bGRLZWVwQ29tbWVudCkge1xuICAgICAgICAgICAgICBvcHRpb25zLmNvbW1lbnQoaHRtbC5zdWJzdHJpbmcoNCwgY29tbWVudEVuZCksIGluZGV4LCBpbmRleCArIGNvbW1lbnRFbmQgKyAzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkdmFuY2UoY29tbWVudEVuZCArIDMpO1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbmRpdGlvbmFsX2NvbW1lbnQjRG93bmxldmVsLXJldmVhbGVkX2NvbmRpdGlvbmFsX2NvbW1lbnRcbiAgICAgICAgaWYgKGNvbmRpdGlvbmFsQ29tbWVudC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgdmFyIGNvbmRpdGlvbmFsRW5kID0gaHRtbC5pbmRleE9mKCddPicpO1xuXG4gICAgICAgICAgaWYgKGNvbmRpdGlvbmFsRW5kID49IDApIHtcbiAgICAgICAgICAgIGFkdmFuY2UoY29uZGl0aW9uYWxFbmQgKyAyKTtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9jdHlwZTpcbiAgICAgICAgdmFyIGRvY3R5cGVNYXRjaCA9IGh0bWwubWF0Y2goZG9jdHlwZSk7XG4gICAgICAgIGlmIChkb2N0eXBlTWF0Y2gpIHtcbiAgICAgICAgICBhZHZhbmNlKGRvY3R5cGVNYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmQgdGFnOlxuICAgICAgICB2YXIgZW5kVGFnTWF0Y2ggPSBodG1sLm1hdGNoKGVuZFRhZyk7XG4gICAgICAgIGlmIChlbmRUYWdNYXRjaCkge1xuICAgICAgICAgIHZhciBjdXJJbmRleCA9IGluZGV4O1xuICAgICAgICAgIGFkdmFuY2UoZW5kVGFnTWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBwYXJzZUVuZFRhZyhlbmRUYWdNYXRjaFsxXSwgY3VySW5kZXgsIGluZGV4KTtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgdGFnOlxuICAgICAgICB2YXIgc3RhcnRUYWdNYXRjaCA9IHBhcnNlU3RhcnRUYWcoKTtcbiAgICAgICAgaWYgKHN0YXJ0VGFnTWF0Y2gpIHtcbiAgICAgICAgICBoYW5kbGVTdGFydFRhZyhzdGFydFRhZ01hdGNoKTtcbiAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lKHN0YXJ0VGFnTWF0Y2gudGFnTmFtZSwgaHRtbCkpIHtcbiAgICAgICAgICAgIGFkdmFuY2UoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHRleHQgPSAodm9pZCAwKSwgcmVzdCA9ICh2b2lkIDApLCBuZXh0ID0gKHZvaWQgMCk7XG4gICAgICBpZiAodGV4dEVuZCA+PSAwKSB7XG4gICAgICAgIHJlc3QgPSBodG1sLnNsaWNlKHRleHRFbmQpO1xuICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgIWVuZFRhZy50ZXN0KHJlc3QpICYmXG4gICAgICAgICAgIXN0YXJ0VGFnT3Blbi50ZXN0KHJlc3QpICYmXG4gICAgICAgICAgIWNvbW1lbnQudGVzdChyZXN0KSAmJlxuICAgICAgICAgICFjb25kaXRpb25hbENvbW1lbnQudGVzdChyZXN0KVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyA8IGluIHBsYWluIHRleHQsIGJlIGZvcmdpdmluZyBhbmQgdHJlYXQgaXQgYXMgdGV4dFxuICAgICAgICAgIG5leHQgPSByZXN0LmluZGV4T2YoJzwnLCAxKTtcbiAgICAgICAgICBpZiAobmV4dCA8IDApIHsgYnJlYWsgfVxuICAgICAgICAgIHRleHRFbmQgKz0gbmV4dDtcbiAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ID0gaHRtbC5zdWJzdHJpbmcoMCwgdGV4dEVuZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXh0RW5kIDwgMCkge1xuICAgICAgICB0ZXh0ID0gaHRtbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgYWR2YW5jZSh0ZXh0Lmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNoYXJzICYmIHRleHQpIHtcbiAgICAgICAgb3B0aW9ucy5jaGFycyh0ZXh0LCBpbmRleCAtIHRleHQubGVuZ3RoLCBpbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbmRUYWdMZW5ndGggPSAwO1xuICAgICAgdmFyIHN0YWNrZWRUYWcgPSBsYXN0VGFnLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgcmVTdGFja2VkVGFnID0gcmVDYWNoZVtzdGFja2VkVGFnXSB8fCAocmVDYWNoZVtzdGFja2VkVGFnXSA9IG5ldyBSZWdFeHAoJyhbXFxcXHNcXFxcU10qPykoPC8nICsgc3RhY2tlZFRhZyArICdbXj5dKj4pJywgJ2knKSk7XG4gICAgICB2YXIgcmVzdCQxID0gaHRtbC5yZXBsYWNlKHJlU3RhY2tlZFRhZywgZnVuY3Rpb24gKGFsbCwgdGV4dCwgZW5kVGFnKSB7XG4gICAgICAgIGVuZFRhZ0xlbmd0aCA9IGVuZFRhZy5sZW5ndGg7XG4gICAgICAgIGlmICghaXNQbGFpblRleHRFbGVtZW50KHN0YWNrZWRUYWcpICYmIHN0YWNrZWRUYWcgIT09ICdub3NjcmlwdCcpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoLzwhXFwtLShbXFxzXFxTXSo/KS0tPi9nLCAnJDEnKSAvLyAjNzI5OFxuICAgICAgICAgICAgLnJlcGxhY2UoLzwhXFxbQ0RBVEFcXFsoW1xcc1xcU10qPyldXT4vZywgJyQxJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZElnbm9yZUZpcnN0TmV3bGluZShzdGFja2VkVGFnLCB0ZXh0KSkge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzKSB7XG4gICAgICAgICAgb3B0aW9ucy5jaGFycyh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJydcbiAgICAgIH0pO1xuICAgICAgaW5kZXggKz0gaHRtbC5sZW5ndGggLSByZXN0JDEubGVuZ3RoO1xuICAgICAgaHRtbCA9IHJlc3QkMTtcbiAgICAgIHBhcnNlRW5kVGFnKHN0YWNrZWRUYWcsIGluZGV4IC0gZW5kVGFnTGVuZ3RoLCBpbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKGh0bWwgPT09IGxhc3QpIHtcbiAgICAgIG9wdGlvbnMuY2hhcnMgJiYgb3B0aW9ucy5jaGFycyhodG1sKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFzdGFjay5sZW5ndGggJiYgb3B0aW9ucy53YXJuKSB7XG4gICAgICAgIG9wdGlvbnMud2FybigoXCJNYWwtZm9ybWF0dGVkIHRhZyBhdCBlbmQgb2YgdGVtcGxhdGU6IFxcXCJcIiArIGh0bWwgKyBcIlxcXCJcIiksIHsgc3RhcnQ6IGluZGV4ICsgaHRtbC5sZW5ndGggfSk7XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgdGFnc1xuICBwYXJzZUVuZFRhZygpO1xuXG4gIGZ1bmN0aW9uIGFkdmFuY2UgKG4pIHtcbiAgICBpbmRleCArPSBuO1xuICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlU3RhcnRUYWcgKCkge1xuICAgIHZhciBzdGFydCA9IGh0bWwubWF0Y2goc3RhcnRUYWdPcGVuKTtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgIHZhciBtYXRjaCA9IHtcbiAgICAgICAgdGFnTmFtZTogc3RhcnRbMV0sXG4gICAgICAgIGF0dHJzOiBbXSxcbiAgICAgICAgc3RhcnQ6IGluZGV4XG4gICAgICB9O1xuICAgICAgYWR2YW5jZShzdGFydFswXS5sZW5ndGgpO1xuICAgICAgdmFyIGVuZCwgYXR0cjtcbiAgICAgIHdoaWxlICghKGVuZCA9IGh0bWwubWF0Y2goc3RhcnRUYWdDbG9zZSkpICYmIChhdHRyID0gaHRtbC5tYXRjaChkeW5hbWljQXJnQXR0cmlidXRlKSB8fCBodG1sLm1hdGNoKGF0dHJpYnV0ZSkpKSB7XG4gICAgICAgIGF0dHIuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgYWR2YW5jZShhdHRyWzBdLmxlbmd0aCk7XG4gICAgICAgIGF0dHIuZW5kID0gaW5kZXg7XG4gICAgICAgIG1hdGNoLmF0dHJzLnB1c2goYXR0cik7XG4gICAgICB9XG4gICAgICBpZiAoZW5kKSB7XG4gICAgICAgIG1hdGNoLnVuYXJ5U2xhc2ggPSBlbmRbMV07XG4gICAgICAgIGFkdmFuY2UoZW5kWzBdLmxlbmd0aCk7XG4gICAgICAgIG1hdGNoLmVuZCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gbWF0Y2hcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTdGFydFRhZyAobWF0Y2gpIHtcbiAgICB2YXIgdGFnTmFtZSA9IG1hdGNoLnRhZ05hbWU7XG4gICAgdmFyIHVuYXJ5U2xhc2ggPSBtYXRjaC51bmFyeVNsYXNoO1xuXG4gICAgaWYgKGV4cGVjdEhUTUwpIHtcbiAgICAgIGlmIChsYXN0VGFnID09PSAncCcgJiYgaXNOb25QaHJhc2luZ1RhZyh0YWdOYW1lKSkge1xuICAgICAgICBwYXJzZUVuZFRhZyhsYXN0VGFnKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYW5CZUxlZnRPcGVuVGFnJCQxKHRhZ05hbWUpICYmIGxhc3RUYWcgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgcGFyc2VFbmRUYWcodGFnTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHVuYXJ5ID0gaXNVbmFyeVRhZyQkMSh0YWdOYW1lKSB8fCAhIXVuYXJ5U2xhc2g7XG5cbiAgICB2YXIgbCA9IG1hdGNoLmF0dHJzLmxlbmd0aDtcbiAgICB2YXIgYXR0cnMgPSBuZXcgQXJyYXkobCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhcmdzID0gbWF0Y2guYXR0cnNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBhcmdzWzNdIHx8IGFyZ3NbNF0gfHwgYXJnc1s1XSB8fCAnJztcbiAgICAgIHZhciBzaG91bGREZWNvZGVOZXdsaW5lcyA9IHRhZ05hbWUgPT09ICdhJyAmJiBhcmdzWzFdID09PSAnaHJlZidcbiAgICAgICAgPyBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZlxuICAgICAgICA6IG9wdGlvbnMuc2hvdWxkRGVjb2RlTmV3bGluZXM7XG4gICAgICBhdHRyc1tpXSA9IHtcbiAgICAgICAgbmFtZTogYXJnc1sxXSxcbiAgICAgICAgdmFsdWU6IGRlY29kZUF0dHIodmFsdWUsIHNob3VsZERlY29kZU5ld2xpbmVzKVxuICAgICAgfTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgYXR0cnNbaV0uc3RhcnQgPSBhcmdzLnN0YXJ0ICsgYXJnc1swXS5tYXRjaCgvXlxccyovKS5sZW5ndGg7XG4gICAgICAgIGF0dHJzW2ldLmVuZCA9IGFyZ3MuZW5kO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdW5hcnkpIHtcbiAgICAgIHN0YWNrLnB1c2goeyB0YWc6IHRhZ05hbWUsIGxvd2VyQ2FzZWRUYWc6IHRhZ05hbWUudG9Mb3dlckNhc2UoKSwgYXR0cnM6IGF0dHJzLCBzdGFydDogbWF0Y2guc3RhcnQsIGVuZDogbWF0Y2guZW5kIH0pO1xuICAgICAgbGFzdFRhZyA9IHRhZ05hbWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3RhcnQpIHtcbiAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgYXR0cnMsIHVuYXJ5LCBtYXRjaC5zdGFydCwgbWF0Y2guZW5kKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUVuZFRhZyAodGFnTmFtZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBwb3MsIGxvd2VyQ2FzZWRUYWdOYW1lO1xuICAgIGlmIChzdGFydCA9PSBudWxsKSB7IHN0YXJ0ID0gaW5kZXg7IH1cbiAgICBpZiAoZW5kID09IG51bGwpIHsgZW5kID0gaW5kZXg7IH1cblxuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgb3BlbmVkIHRhZyBvZiB0aGUgc2FtZSB0eXBlXG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgIGxvd2VyQ2FzZWRUYWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgZm9yIChwb3MgPSBzdGFjay5sZW5ndGggLSAxOyBwb3MgPj0gMDsgcG9zLS0pIHtcbiAgICAgICAgaWYgKHN0YWNrW3Bvc10ubG93ZXJDYXNlZFRhZyA9PT0gbG93ZXJDYXNlZFRhZ05hbWUpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIG5vIHRhZyBuYW1lIGlzIHByb3ZpZGVkLCBjbGVhbiBzaG9wXG4gICAgICBwb3MgPSAwO1xuICAgIH1cblxuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgLy8gQ2xvc2UgYWxsIHRoZSBvcGVuIGVsZW1lbnRzLCB1cCB0aGUgc3RhY2tcbiAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IHBvczsgaS0tKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICAgICAgKGkgPiBwb3MgfHwgIXRhZ05hbWUpICYmXG4gICAgICAgICAgb3B0aW9ucy53YXJuXG4gICAgICAgICkge1xuICAgICAgICAgIG9wdGlvbnMud2FybihcbiAgICAgICAgICAgIChcInRhZyA8XCIgKyAoc3RhY2tbaV0udGFnKSArIFwiPiBoYXMgbm8gbWF0Y2hpbmcgZW5kIHRhZy5cIiksXG4gICAgICAgICAgICB7IHN0YXJ0OiBzdGFja1tpXS5zdGFydCwgZW5kOiBzdGFja1tpXS5lbmQgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZW5kKSB7XG4gICAgICAgICAgb3B0aW9ucy5lbmQoc3RhY2tbaV0udGFnLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGhlIG9wZW4gZWxlbWVudHMgZnJvbSB0aGUgc3RhY2tcbiAgICAgIHN0YWNrLmxlbmd0aCA9IHBvcztcbiAgICAgIGxhc3RUYWcgPSBwb3MgJiYgc3RhY2tbcG9zIC0gMV0udGFnO1xuICAgIH0gZWxzZSBpZiAobG93ZXJDYXNlZFRhZ05hbWUgPT09ICdicicpIHtcbiAgICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIHRydWUsIHN0YXJ0LCBlbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobG93ZXJDYXNlZFRhZ05hbWUgPT09ICdwJykge1xuICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHtcbiAgICAgICAgb3B0aW9ucy5zdGFydCh0YWdOYW1lLCBbXSwgZmFsc2UsIHN0YXJ0LCBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuZW5kKSB7XG4gICAgICAgIG9wdGlvbnMuZW5kKHRhZ05hbWUsIHN0YXJ0LCBlbmQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG9uUkUgPSAvXkB8XnYtb246LztcbnZhciBkaXJSRSA9IC9edi18XkB8XjovO1xudmFyIGZvckFsaWFzUkUgPSAvKFtcXHNcXFNdKj8pXFxzKyg/OmlufG9mKVxccysoW1xcc1xcU10qKS87XG52YXIgZm9ySXRlcmF0b3JSRSA9IC8sKFteLFxcfVxcXV0qKSg/OiwoW14sXFx9XFxdXSopKT8kLztcbnZhciBzdHJpcFBhcmVuc1JFID0gL15cXCh8XFwpJC9nO1xudmFyIGR5bmFtaWNBcmdSRSA9IC9eXFxbLipcXF0kLztcblxudmFyIGFyZ1JFID0gLzooLiopJC87XG52YXIgYmluZFJFID0gL146fF5cXC58XnYtYmluZDovO1xudmFyIG1vZGlmaWVyUkUgPSAvXFwuW14uXFxdXSsoPz1bXlxcXV0qJCkvZztcblxudmFyIHNsb3RSRSA9IC9edi1zbG90KDp8JCl8XiMvO1xuXG52YXIgbGluZUJyZWFrUkUgPSAvW1xcclxcbl0vO1xudmFyIHdoaXRlc3BhY2VSRSQxID0gL1xccysvZztcblxudmFyIGludmFsaWRBdHRyaWJ1dGVSRSA9IC9bXFxzXCInPD5cXC89XS87XG5cbnZhciBkZWNvZGVIVE1MQ2FjaGVkID0gY2FjaGVkKGhlLmRlY29kZSk7XG5cbnZhciBlbXB0eVNsb3RTY29wZVRva2VuID0gXCJfZW1wdHlfXCI7XG5cbi8vIGNvbmZpZ3VyYWJsZSBzdGF0ZVxudmFyIHdhcm4kMjtcbnZhciBkZWxpbWl0ZXJzO1xudmFyIHRyYW5zZm9ybXM7XG52YXIgcHJlVHJhbnNmb3JtcztcbnZhciBwb3N0VHJhbnNmb3JtcztcbnZhciBwbGF0Zm9ybUlzUHJlVGFnO1xudmFyIHBsYXRmb3JtTXVzdFVzZVByb3A7XG52YXIgcGxhdGZvcm1HZXRUYWdOYW1lc3BhY2U7XG52YXIgbWF5YmVDb21wb25lbnQ7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFTVEVsZW1lbnQgKFxuICB0YWcsXG4gIGF0dHJzLFxuICBwYXJlbnRcbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IDEsXG4gICAgdGFnOiB0YWcsXG4gICAgYXR0cnNMaXN0OiBhdHRycyxcbiAgICBhdHRyc01hcDogbWFrZUF0dHJzTWFwKGF0dHJzKSxcbiAgICByYXdBdHRyc01hcDoge30sXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgY2hpbGRyZW46IFtdXG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IEhUTUwgc3RyaW5nIHRvIEFTVC5cbiAqL1xuZnVuY3Rpb24gcGFyc2UgKFxuICB0ZW1wbGF0ZSxcbiAgb3B0aW9uc1xuKSB7XG4gIHdhcm4kMiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcblxuICBwbGF0Zm9ybUlzUHJlVGFnID0gb3B0aW9ucy5pc1ByZVRhZyB8fCBubztcbiAgcGxhdGZvcm1NdXN0VXNlUHJvcCA9IG9wdGlvbnMubXVzdFVzZVByb3AgfHwgbm87XG4gIHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlID0gb3B0aW9ucy5nZXRUYWdOYW1lc3BhY2UgfHwgbm87XG4gIHZhciBpc1Jlc2VydmVkVGFnID0gb3B0aW9ucy5pc1Jlc2VydmVkVGFnIHx8IG5vO1xuICBtYXliZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gISFlbC5jb21wb25lbnQgfHwgIWlzUmVzZXJ2ZWRUYWcoZWwudGFnKTsgfTtcblxuICB0cmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICd0cmFuc2Zvcm1Ob2RlJyk7XG4gIHByZVRyYW5zZm9ybXMgPSBwbHVja01vZHVsZUZ1bmN0aW9uKG9wdGlvbnMubW9kdWxlcywgJ3ByZVRyYW5zZm9ybU5vZGUnKTtcbiAgcG9zdFRyYW5zZm9ybXMgPSBwbHVja01vZHVsZUZ1bmN0aW9uKG9wdGlvbnMubW9kdWxlcywgJ3Bvc3RUcmFuc2Zvcm1Ob2RlJyk7XG5cbiAgZGVsaW1pdGVycyA9IG9wdGlvbnMuZGVsaW1pdGVycztcblxuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIHByZXNlcnZlV2hpdGVzcGFjZSA9IG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlICE9PSBmYWxzZTtcbiAgdmFyIHdoaXRlc3BhY2VPcHRpb24gPSBvcHRpb25zLndoaXRlc3BhY2U7XG4gIHZhciByb290O1xuICB2YXIgY3VycmVudFBhcmVudDtcbiAgdmFyIGluVlByZSA9IGZhbHNlO1xuICB2YXIgaW5QcmUgPSBmYWxzZTtcbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHdhcm5PbmNlIChtc2csIHJhbmdlKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICB3YXJuJDIobXNnLCByYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VFbGVtZW50IChlbGVtZW50KSB7XG4gICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7XG4gICAgaWYgKCFpblZQcmUgJiYgIWVsZW1lbnQucHJvY2Vzc2VkKSB7XG4gICAgICBlbGVtZW50ID0gcHJvY2Vzc0VsZW1lbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIHRyZWUgbWFuYWdlbWVudFxuICAgIGlmICghc3RhY2subGVuZ3RoICYmIGVsZW1lbnQgIT09IHJvb3QpIHtcbiAgICAgIC8vIGFsbG93IHJvb3QgZWxlbWVudHMgd2l0aCB2LWlmLCB2LWVsc2UtaWYgYW5kIHYtZWxzZVxuICAgICAgaWYgKHJvb3QuaWYgJiYgKGVsZW1lbnQuZWxzZWlmIHx8IGVsZW1lbnQuZWxzZSkpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1Jvb3RDb25zdHJhaW50cyhlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBhZGRJZkNvbmRpdGlvbihyb290LCB7XG4gICAgICAgICAgZXhwOiBlbGVtZW50LmVsc2VpZixcbiAgICAgICAgICBibG9jazogZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICBcIkNvbXBvbmVudCB0ZW1wbGF0ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIFwiICtcbiAgICAgICAgICBcIklmIHlvdSBhcmUgdXNpbmcgdi1pZiBvbiBtdWx0aXBsZSBlbGVtZW50cywgXCIgK1xuICAgICAgICAgIFwidXNlIHYtZWxzZS1pZiB0byBjaGFpbiB0aGVtIGluc3RlYWQuXCIsXG4gICAgICAgICAgeyBzdGFydDogZWxlbWVudC5zdGFydCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGFyZW50ICYmICFlbGVtZW50LmZvcmJpZGRlbikge1xuICAgICAgaWYgKGVsZW1lbnQuZWxzZWlmIHx8IGVsZW1lbnQuZWxzZSkge1xuICAgICAgICBwcm9jZXNzSWZDb25kaXRpb25zKGVsZW1lbnQsIGN1cnJlbnRQYXJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuc2xvdFNjb3BlKSB7XG4gICAgICAgICAgLy8gc2NvcGVkIHNsb3RcbiAgICAgICAgICAvLyBrZWVwIGl0IGluIHRoZSBjaGlsZHJlbiBsaXN0IHNvIHRoYXQgdi1lbHNlKC1pZikgY29uZGl0aW9ucyBjYW5cbiAgICAgICAgICAvLyBmaW5kIGl0IGFzIHRoZSBwcmV2IG5vZGUuXG4gICAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50LnNsb3RUYXJnZXQgfHwgJ1wiZGVmYXVsdFwiJ1xuICAgICAgICAgIDsoY3VycmVudFBhcmVudC5zY29wZWRTbG90cyB8fCAoY3VycmVudFBhcmVudC5zY29wZWRTbG90cyA9IHt9KSlbbmFtZV0gPSBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5wYXJlbnQgPSBjdXJyZW50UGFyZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbmFsIGNoaWxkcmVuIGNsZWFudXBcbiAgICAvLyBmaWx0ZXIgb3V0IHNjb3BlZCBzbG90c1xuICAgIGVsZW1lbnQuY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gIShjKS5zbG90U2NvcGU7IH0pO1xuICAgIC8vIHJlbW92ZSB0cmFpbGluZyB3aGl0ZXNwYWNlIG5vZGUgYWdhaW5cbiAgICB0cmltRW5kaW5nV2hpdGVzcGFjZShlbGVtZW50KTtcblxuICAgIC8vIGNoZWNrIHByZSBzdGF0ZVxuICAgIGlmIChlbGVtZW50LnByZSkge1xuICAgICAgaW5WUHJlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwbGF0Zm9ybUlzUHJlVGFnKGVsZW1lbnQudGFnKSkge1xuICAgICAgaW5QcmUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gYXBwbHkgcG9zdC10cmFuc2Zvcm1zXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3N0VHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgcG9zdFRyYW5zZm9ybXNbaV0oZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpbUVuZGluZ1doaXRlc3BhY2UgKGVsKSB7XG4gICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2Ugbm9kZVxuICAgIGlmICghaW5QcmUpIHtcbiAgICAgIHZhciBsYXN0Tm9kZTtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgKGxhc3ROb2RlID0gZWwuY2hpbGRyZW5bZWwuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pICYmXG4gICAgICAgIGxhc3ROb2RlLnR5cGUgPT09IDMgJiZcbiAgICAgICAgbGFzdE5vZGUudGV4dCA9PT0gJyAnXG4gICAgICApIHtcbiAgICAgICAgZWwuY2hpbGRyZW4ucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tSb290Q29uc3RyYWludHMgKGVsKSB7XG4gICAgaWYgKGVsLnRhZyA9PT0gJ3Nsb3QnIHx8IGVsLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgIFwiQ2Fubm90IHVzZSA8XCIgKyAoZWwudGFnKSArIFwiPiBhcyBjb21wb25lbnQgcm9vdCBlbGVtZW50IGJlY2F1c2UgaXQgbWF5IFwiICtcbiAgICAgICAgJ2NvbnRhaW4gbXVsdGlwbGUgbm9kZXMuJyxcbiAgICAgICAgeyBzdGFydDogZWwuc3RhcnQgfVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVsLmF0dHJzTWFwLmhhc093blByb3BlcnR5KCd2LWZvcicpKSB7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgJ0Nhbm5vdCB1c2Ugdi1mb3Igb24gc3RhdGVmdWwgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlICcgK1xuICAgICAgICAnaXQgcmVuZGVycyBtdWx0aXBsZSBlbGVtZW50cy4nLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwYXJzZUhUTUwodGVtcGxhdGUsIHtcbiAgICB3YXJuOiB3YXJuJDIsXG4gICAgZXhwZWN0SFRNTDogb3B0aW9ucy5leHBlY3RIVE1MLFxuICAgIGlzVW5hcnlUYWc6IG9wdGlvbnMuaXNVbmFyeVRhZyxcbiAgICBjYW5CZUxlZnRPcGVuVGFnOiBvcHRpb25zLmNhbkJlTGVmdE9wZW5UYWcsXG4gICAgc2hvdWxkRGVjb2RlTmV3bGluZXM6IG9wdGlvbnMuc2hvdWxkRGVjb2RlTmV3bGluZXMsXG4gICAgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZixcbiAgICBzaG91bGRLZWVwQ29tbWVudDogb3B0aW9ucy5jb21tZW50cyxcbiAgICBvdXRwdXRTb3VyY2VSYW5nZTogb3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSxcbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQgKHRhZywgYXR0cnMsIHVuYXJ5LCBzdGFydCQxLCBlbmQpIHtcbiAgICAgIC8vIGNoZWNrIG5hbWVzcGFjZS5cbiAgICAgIC8vIGluaGVyaXQgcGFyZW50IG5zIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgdmFyIG5zID0gKGN1cnJlbnRQYXJlbnQgJiYgY3VycmVudFBhcmVudC5ucykgfHwgcGxhdGZvcm1HZXRUYWdOYW1lc3BhY2UodGFnKTtcblxuICAgICAgLy8gaGFuZGxlIElFIHN2ZyBidWdcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGlzSUUgJiYgbnMgPT09ICdzdmcnKSB7XG4gICAgICAgIGF0dHJzID0gZ3VhcmRJRVNWR0J1ZyhhdHRycyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlQVNURWxlbWVudCh0YWcsIGF0dHJzLCBjdXJyZW50UGFyZW50KTtcbiAgICAgIGlmIChucykge1xuICAgICAgICBlbGVtZW50Lm5zID0gbnM7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgZWxlbWVudC5zdGFydCA9IHN0YXJ0JDE7XG4gICAgICAgICAgZWxlbWVudC5lbmQgPSBlbmQ7XG4gICAgICAgICAgZWxlbWVudC5yYXdBdHRyc01hcCA9IGVsZW1lbnQuYXR0cnNMaXN0LnJlZHVjZShmdW5jdGlvbiAoY3VtdWxhdGVkLCBhdHRyKSB7XG4gICAgICAgICAgICBjdW11bGF0ZWRbYXR0ci5uYW1lXSA9IGF0dHI7XG4gICAgICAgICAgICByZXR1cm4gY3VtdWxhdGVkXG4gICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICBpZiAoaW52YWxpZEF0dHJpYnV0ZVJFLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZHluYW1pYyBhcmd1bWVudCBleHByZXNzaW9uOiBhdHRyaWJ1dGUgbmFtZXMgY2Fubm90IGNvbnRhaW4gXCIgK1xuICAgICAgICAgICAgICBcInNwYWNlcywgcXVvdGVzLCA8LCA+LCAvIG9yID0uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGFydDogYXR0ci5zdGFydCArIGF0dHIubmFtZS5pbmRleE9mKFwiW1wiKSxcbiAgICAgICAgICAgICAgICBlbmQ6IGF0dHIuc3RhcnQgKyBhdHRyLm5hbWUubGVuZ3RoXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRm9yYmlkZGVuVGFnKGVsZW1lbnQpICYmICFpc1NlcnZlclJlbmRlcmluZygpKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yYmlkZGVuID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuJDIoXG4gICAgICAgICAgJ1RlbXBsYXRlcyBzaG91bGQgb25seSBiZSByZXNwb25zaWJsZSBmb3IgbWFwcGluZyB0aGUgc3RhdGUgdG8gdGhlICcgK1xuICAgICAgICAgICdVSS4gQXZvaWQgcGxhY2luZyB0YWdzIHdpdGggc2lkZS1lZmZlY3RzIGluIHlvdXIgdGVtcGxhdGVzLCBzdWNoIGFzICcgK1xuICAgICAgICAgIFwiPFwiICsgdGFnICsgXCI+XCIgKyAnLCBhcyB0aGV5IHdpbGwgbm90IGJlIHBhcnNlZC4nLFxuICAgICAgICAgIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBhcHBseSBwcmUtdHJhbnNmb3Jtc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVUcmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnQgPSBwcmVUcmFuc2Zvcm1zW2ldKGVsZW1lbnQsIG9wdGlvbnMpIHx8IGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghaW5WUHJlKSB7XG4gICAgICAgIHByb2Nlc3NQcmUoZWxlbWVudCk7XG4gICAgICAgIGlmIChlbGVtZW50LnByZSkge1xuICAgICAgICAgIGluVlByZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwbGF0Zm9ybUlzUHJlVGFnKGVsZW1lbnQudGFnKSkge1xuICAgICAgICBpblByZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaW5WUHJlKSB7XG4gICAgICAgIHByb2Nlc3NSYXdBdHRycyhlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIWVsZW1lbnQucHJvY2Vzc2VkKSB7XG4gICAgICAgIC8vIHN0cnVjdHVyYWwgZGlyZWN0aXZlc1xuICAgICAgICBwcm9jZXNzRm9yKGVsZW1lbnQpO1xuICAgICAgICBwcm9jZXNzSWYoZWxlbWVudCk7XG4gICAgICAgIHByb2Nlc3NPbmNlKGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgcm9vdCA9IGVsZW1lbnQ7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tSb290Q29uc3RyYWludHMocm9vdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1bmFyeSkge1xuICAgICAgICBjdXJyZW50UGFyZW50ID0gZWxlbWVudDtcbiAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb3NlRWxlbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW5kOiBmdW5jdGlvbiBlbmQgKHRhZywgc3RhcnQsIGVuZCQxKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgLy8gcG9wIHN0YWNrXG4gICAgICBzdGFjay5sZW5ndGggLT0gMTtcbiAgICAgIGN1cnJlbnRQYXJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgZWxlbWVudC5lbmQgPSBlbmQkMTtcbiAgICAgIH1cbiAgICAgIGNsb3NlRWxlbWVudChlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgY2hhcnM6IGZ1bmN0aW9uIGNoYXJzICh0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGV4dCA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAnQ29tcG9uZW50IHRlbXBsYXRlIHJlcXVpcmVzIGEgcm9vdCBlbGVtZW50LCByYXRoZXIgdGhhbiBqdXN0IHRleHQuJyxcbiAgICAgICAgICAgICAgeyBzdGFydDogc3RhcnQgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCh0ZXh0ID0gdGV4dC50cmltKCkpKSB7XG4gICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgKFwidGV4dCBcXFwiXCIgKyB0ZXh0ICsgXCJcXFwiIG91dHNpZGUgcm9vdCBlbGVtZW50IHdpbGwgYmUgaWdub3JlZC5cIiksXG4gICAgICAgICAgICAgIHsgc3RhcnQ6IHN0YXJ0IH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gSUUgdGV4dGFyZWEgcGxhY2Vob2xkZXIgYnVnXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpc0lFICYmXG4gICAgICAgIGN1cnJlbnRQYXJlbnQudGFnID09PSAndGV4dGFyZWEnICYmXG4gICAgICAgIGN1cnJlbnRQYXJlbnQuYXR0cnNNYXAucGxhY2Vob2xkZXIgPT09IHRleHRcbiAgICAgICkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlbiA9IGN1cnJlbnRQYXJlbnQuY2hpbGRyZW47XG4gICAgICBpZiAoaW5QcmUgfHwgdGV4dC50cmltKCkpIHtcbiAgICAgICAgdGV4dCA9IGlzVGV4dFRhZyhjdXJyZW50UGFyZW50KSA/IHRleHQgOiBkZWNvZGVIVE1MQ2FjaGVkKHRleHQpO1xuICAgICAgfSBlbHNlIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgd2hpdGVzcGFjZS1vbmx5IG5vZGUgcmlnaHQgYWZ0ZXIgYW4gb3BlbmluZyB0YWdcbiAgICAgICAgdGV4dCA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh3aGl0ZXNwYWNlT3B0aW9uKSB7XG4gICAgICAgIGlmICh3aGl0ZXNwYWNlT3B0aW9uID09PSAnY29uZGVuc2UnKSB7XG4gICAgICAgICAgLy8gaW4gY29uZGVuc2UgbW9kZSwgcmVtb3ZlIHRoZSB3aGl0ZXNwYWNlIG5vZGUgaWYgaXQgY29udGFpbnNcbiAgICAgICAgICAvLyBsaW5lIGJyZWFrLCBvdGhlcndpc2UgY29uZGVuc2UgdG8gYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgICB0ZXh0ID0gbGluZUJyZWFrUkUudGVzdCh0ZXh0KSA/ICcnIDogJyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSAnICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQgPSBwcmVzZXJ2ZVdoaXRlc3BhY2UgPyAnICcgOiAnJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIGlmICghaW5QcmUgJiYgd2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykge1xuICAgICAgICAgIC8vIGNvbmRlbnNlIGNvbnNlY3V0aXZlIHdoaXRlc3BhY2VzIGludG8gc2luZ2xlIHNwYWNlXG4gICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh3aGl0ZXNwYWNlUkUkMSwgJyAnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzO1xuICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgIGlmICghaW5WUHJlICYmIHRleHQgIT09ICcgJyAmJiAocmVzID0gcGFyc2VUZXh0KHRleHQsIGRlbGltaXRlcnMpKSkge1xuICAgICAgICAgIGNoaWxkID0ge1xuICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgIGV4cHJlc3Npb246IHJlcy5leHByZXNzaW9uLFxuICAgICAgICAgICAgdG9rZW5zOiByZXMudG9rZW5zLFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCAhPT0gJyAnIHx8ICFjaGlsZHJlbi5sZW5ndGggfHwgY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0udGV4dCAhPT0gJyAnKSB7XG4gICAgICAgICAgY2hpbGQgPSB7XG4gICAgICAgICAgICB0eXBlOiAzLFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgb3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xuICAgICAgICAgICAgY2hpbGQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIGNvbW1lbnQgKHRleHQsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIC8vIGFkZGluZyBhbnl0aW5nIGFzIGEgc2libGluZyB0byB0aGUgcm9vdCBub2RlIGlzIGZvcmJpZGRlblxuICAgICAgLy8gY29tbWVudHMgc2hvdWxkIHN0aWxsIGJlIGFsbG93ZWQsIGJ1dCBpZ25vcmVkXG4gICAgICBpZiAoY3VycmVudFBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB7XG4gICAgICAgICAgdHlwZTogMyxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGlzQ29tbWVudDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgY2hpbGQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICBjaGlsZC5lbmQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFBhcmVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm9vdFxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUHJlIChlbCkge1xuICBpZiAoZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtcHJlJykgIT0gbnVsbCkge1xuICAgIGVsLnByZSA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1Jhd0F0dHJzIChlbCkge1xuICB2YXIgbGlzdCA9IGVsLmF0dHJzTGlzdDtcbiAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xuICBpZiAobGVuKSB7XG4gICAgdmFyIGF0dHJzID0gZWwuYXR0cnMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhdHRyc1tpXSA9IHtcbiAgICAgICAgbmFtZTogbGlzdFtpXS5uYW1lLFxuICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkobGlzdFtpXS52YWx1ZSlcbiAgICAgIH07XG4gICAgICBpZiAobGlzdFtpXS5zdGFydCAhPSBudWxsKSB7XG4gICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gbGlzdFtpXS5zdGFydDtcbiAgICAgICAgYXR0cnNbaV0uZW5kID0gbGlzdFtpXS5lbmQ7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCFlbC5wcmUpIHtcbiAgICAvLyBub24gcm9vdCBub2RlIGluIHByZSBibG9ja3Mgd2l0aCBubyBhdHRyaWJ1dGVzXG4gICAgZWwucGxhaW4gPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NFbGVtZW50IChcbiAgZWxlbWVudCxcbiAgb3B0aW9uc1xuKSB7XG4gIHByb2Nlc3NLZXkoZWxlbWVudCk7XG5cbiAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHBsYWluIGVsZW1lbnQgYWZ0ZXJcbiAgLy8gcmVtb3Zpbmcgc3RydWN0dXJhbCBhdHRyaWJ1dGVzXG4gIGVsZW1lbnQucGxhaW4gPSAoXG4gICAgIWVsZW1lbnQua2V5ICYmXG4gICAgIWVsZW1lbnQuc2NvcGVkU2xvdHMgJiZcbiAgICAhZWxlbWVudC5hdHRyc0xpc3QubGVuZ3RoXG4gICk7XG5cbiAgcHJvY2Vzc1JlZihlbGVtZW50KTtcbiAgcHJvY2Vzc1Nsb3RDb250ZW50KGVsZW1lbnQpO1xuICBwcm9jZXNzU2xvdE91dGxldChlbGVtZW50KTtcbiAgcHJvY2Vzc0NvbXBvbmVudChlbGVtZW50KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgZWxlbWVudCA9IHRyYW5zZm9ybXNbaV0oZWxlbWVudCwgb3B0aW9ucykgfHwgZWxlbWVudDtcbiAgfVxuICBwcm9jZXNzQXR0cnMoZWxlbWVudCk7XG4gIHJldHVybiBlbGVtZW50XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NLZXkgKGVsKSB7XG4gIHZhciBleHAgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ2tleScpO1xuICBpZiAoZXhwKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgd2FybiQyKFxuICAgICAgICAgIFwiPHRlbXBsYXRlPiBjYW5ub3QgYmUga2V5ZWQuIFBsYWNlIHRoZSBrZXkgb24gcmVhbCBlbGVtZW50cyBpbnN0ZWFkLlwiLFxuICAgICAgICAgIGdldFJhd0JpbmRpbmdBdHRyKGVsLCAna2V5JylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbC5mb3IpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gZWwuaXRlcmF0b3IyIHx8IGVsLml0ZXJhdG9yMTtcbiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudDtcbiAgICAgICAgaWYgKGl0ZXJhdG9yICYmIGl0ZXJhdG9yID09PSBleHAgJiYgcGFyZW50ICYmIHBhcmVudC50YWcgPT09ICd0cmFuc2l0aW9uLWdyb3VwJykge1xuICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgIFwiRG8gbm90IHVzZSB2LWZvciBpbmRleCBhcyBrZXkgb24gPHRyYW5zaXRpb24tZ3JvdXA+IGNoaWxkcmVuLCBcIiArXG4gICAgICAgICAgICBcInRoaXMgaXMgdGhlIHNhbWUgYXMgbm90IHVzaW5nIGtleXMuXCIsXG4gICAgICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpLFxuICAgICAgICAgICAgdHJ1ZSAvKiB0aXAgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsLmtleSA9IGV4cDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUmVmIChlbCkge1xuICB2YXIgcmVmID0gZ2V0QmluZGluZ0F0dHIoZWwsICdyZWYnKTtcbiAgaWYgKHJlZikge1xuICAgIGVsLnJlZiA9IHJlZjtcbiAgICBlbC5yZWZJbkZvciA9IGNoZWNrSW5Gb3IoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NGb3IgKGVsKSB7XG4gIHZhciBleHA7XG4gIGlmICgoZXhwID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZm9yJykpKSB7XG4gICAgdmFyIHJlcyA9IHBhcnNlRm9yKGV4cCk7XG4gICAgaWYgKHJlcykge1xuICAgICAgZXh0ZW5kKGVsLCByZXMpO1xuICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybiQyKFxuICAgICAgICAoXCJJbnZhbGlkIHYtZm9yIGV4cHJlc3Npb246IFwiICsgZXhwKSxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cblxuXG5mdW5jdGlvbiBwYXJzZUZvciAoZXhwKSB7XG4gIHZhciBpbk1hdGNoID0gZXhwLm1hdGNoKGZvckFsaWFzUkUpO1xuICBpZiAoIWluTWF0Y2gpIHsgcmV0dXJuIH1cbiAgdmFyIHJlcyA9IHt9O1xuICByZXMuZm9yID0gaW5NYXRjaFsyXS50cmltKCk7XG4gIHZhciBhbGlhcyA9IGluTWF0Y2hbMV0udHJpbSgpLnJlcGxhY2Uoc3RyaXBQYXJlbnNSRSwgJycpO1xuICB2YXIgaXRlcmF0b3JNYXRjaCA9IGFsaWFzLm1hdGNoKGZvckl0ZXJhdG9yUkUpO1xuICBpZiAoaXRlcmF0b3JNYXRjaCkge1xuICAgIHJlcy5hbGlhcyA9IGFsaWFzLnJlcGxhY2UoZm9ySXRlcmF0b3JSRSwgJycpLnRyaW0oKTtcbiAgICByZXMuaXRlcmF0b3IxID0gaXRlcmF0b3JNYXRjaFsxXS50cmltKCk7XG4gICAgaWYgKGl0ZXJhdG9yTWF0Y2hbMl0pIHtcbiAgICAgIHJlcy5pdGVyYXRvcjIgPSBpdGVyYXRvck1hdGNoWzJdLnRyaW0oKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLmFsaWFzID0gYWxpYXM7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzSWYgKGVsKSB7XG4gIHZhciBleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1pZicpO1xuICBpZiAoZXhwKSB7XG4gICAgZWwuaWYgPSBleHA7XG4gICAgYWRkSWZDb25kaXRpb24oZWwsIHtcbiAgICAgIGV4cDogZXhwLFxuICAgICAgYmxvY2s6IGVsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UnKSAhPSBudWxsKSB7XG4gICAgICBlbC5lbHNlID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGVsc2VpZiA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UtaWYnKTtcbiAgICBpZiAoZWxzZWlmKSB7XG4gICAgICBlbC5lbHNlaWYgPSBlbHNlaWY7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NJZkNvbmRpdGlvbnMgKGVsLCBwYXJlbnQpIHtcbiAgdmFyIHByZXYgPSBmaW5kUHJldkVsZW1lbnQocGFyZW50LmNoaWxkcmVuKTtcbiAgaWYgKHByZXYgJiYgcHJldi5pZikge1xuICAgIGFkZElmQ29uZGl0aW9uKHByZXYsIHtcbiAgICAgIGV4cDogZWwuZWxzZWlmLFxuICAgICAgYmxvY2s6IGVsXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHdhcm4kMihcbiAgICAgIFwidi1cIiArIChlbC5lbHNlaWYgPyAoJ2Vsc2UtaWY9XCInICsgZWwuZWxzZWlmICsgJ1wiJykgOiAnZWxzZScpICsgXCIgXCIgK1xuICAgICAgXCJ1c2VkIG9uIGVsZW1lbnQgPFwiICsgKGVsLnRhZykgKyBcIj4gd2l0aG91dCBjb3JyZXNwb25kaW5nIHYtaWYuXCIsXG4gICAgICBlbC5yYXdBdHRyc01hcFtlbC5lbHNlaWYgPyAndi1lbHNlLWlmJyA6ICd2LWVsc2UnXVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFByZXZFbGVtZW50IChjaGlsZHJlbikge1xuICB2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIGlmIChjaGlsZHJlbltpXS50eXBlID09PSAxKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW5baV1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY2hpbGRyZW5baV0udGV4dCAhPT0gJyAnKSB7XG4gICAgICAgIHdhcm4kMihcbiAgICAgICAgICBcInRleHQgXFxcIlwiICsgKGNoaWxkcmVuW2ldLnRleHQudHJpbSgpKSArIFwiXFxcIiBiZXR3ZWVuIHYtaWYgYW5kIHYtZWxzZSgtaWYpIFwiICtcbiAgICAgICAgICBcIndpbGwgYmUgaWdub3JlZC5cIixcbiAgICAgICAgICBjaGlsZHJlbltpXVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4ucG9wKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkZElmQ29uZGl0aW9uIChlbCwgY29uZGl0aW9uKSB7XG4gIGlmICghZWwuaWZDb25kaXRpb25zKSB7XG4gICAgZWwuaWZDb25kaXRpb25zID0gW107XG4gIH1cbiAgZWwuaWZDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc09uY2UgKGVsKSB7XG4gIHZhciBvbmNlJCQxID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Ytb25jZScpO1xuICBpZiAob25jZSQkMSAhPSBudWxsKSB7XG4gICAgZWwub25jZSA9IHRydWU7XG4gIH1cbn1cblxuLy8gaGFuZGxlIGNvbnRlbnQgYmVpbmcgcGFzc2VkIHRvIGEgY29tcG9uZW50IGFzIHNsb3QsXG4vLyBlLmcuIDx0ZW1wbGF0ZSBzbG90PVwieHh4XCI+LCA8ZGl2IHNsb3Qtc2NvcGU9XCJ4eHhcIj5cbmZ1bmN0aW9uIHByb2Nlc3NTbG90Q29udGVudCAoZWwpIHtcbiAgdmFyIHNsb3RTY29wZTtcbiAgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgIHNsb3RTY29wZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdzY29wZScpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHNsb3RTY29wZSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcInRoZSBcXFwic2NvcGVcXFwiIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIHNsb3RzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFuZCBcIiArXG4gICAgICAgIFwicmVwbGFjZWQgYnkgXFxcInNsb3Qtc2NvcGVcXFwiIHNpbmNlIDIuNS4gVGhlIG5ldyBcXFwic2xvdC1zY29wZVxcXCIgYXR0cmlidXRlIFwiICtcbiAgICAgICAgXCJjYW4gYWxzbyBiZSB1c2VkIG9uIHBsYWluIGVsZW1lbnRzIGluIGFkZGl0aW9uIHRvIDx0ZW1wbGF0ZT4gdG8gXCIgK1xuICAgICAgICBcImRlbm90ZSBzY29wZWQgc2xvdHMuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWydzY29wZSddLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgICBlbC5zbG90U2NvcGUgPSBzbG90U2NvcGUgfHwgZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Nsb3Qtc2NvcGUnKTtcbiAgfSBlbHNlIGlmICgoc2xvdFNjb3BlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Nsb3Qtc2NvcGUnKSkpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBlbC5hdHRyc01hcFsndi1mb3InXSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcIkFtYmlndW91cyBjb21iaW5lZCB1c2FnZSBvZiBzbG90LXNjb3BlIGFuZCB2LWZvciBvbiA8XCIgKyAoZWwudGFnKSArIFwiPiBcIiArXG4gICAgICAgIFwiKHYtZm9yIHRha2VzIGhpZ2hlciBwcmlvcml0eSkuIFVzZSBhIHdyYXBwZXIgPHRlbXBsYXRlPiBmb3IgdGhlIFwiICtcbiAgICAgICAgXCJzY29wZWQgc2xvdCB0byBtYWtlIGl0IGNsZWFyZXIuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWydzbG90LXNjb3BlJ10sXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICAgIGVsLnNsb3RTY29wZSA9IHNsb3RTY29wZTtcbiAgfVxuXG4gIC8vIHNsb3Q9XCJ4eHhcIlxuICB2YXIgc2xvdFRhcmdldCA9IGdldEJpbmRpbmdBdHRyKGVsLCAnc2xvdCcpO1xuICBpZiAoc2xvdFRhcmdldCkge1xuICAgIGVsLnNsb3RUYXJnZXQgPSBzbG90VGFyZ2V0ID09PSAnXCJcIicgPyAnXCJkZWZhdWx0XCInIDogc2xvdFRhcmdldDtcbiAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9ICEhKGVsLmF0dHJzTWFwWyc6c2xvdCddIHx8IGVsLmF0dHJzTWFwWyd2LWJpbmQ6c2xvdCddKTtcbiAgICAvLyBwcmVzZXJ2ZSBzbG90IGFzIGFuIGF0dHJpYnV0ZSBmb3IgbmF0aXZlIHNoYWRvdyBET00gY29tcGF0XG4gICAgLy8gb25seSBmb3Igbm9uLXNjb3BlZCBzbG90cy5cbiAgICBpZiAoZWwudGFnICE9PSAndGVtcGxhdGUnICYmICFlbC5zbG90U2NvcGUpIHtcbiAgICAgIGFkZEF0dHIoZWwsICdzbG90Jywgc2xvdFRhcmdldCwgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdzbG90JykpO1xuICAgIH1cbiAgfVxuXG4gIC8vIDIuNiB2LXNsb3Qgc3ludGF4XG4gIHtcbiAgICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAvLyB2LXNsb3Qgb24gPHRlbXBsYXRlPlxuICAgICAgdmFyIHNsb3RCaW5kaW5nID0gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgoZWwsIHNsb3RSRSk7XG4gICAgICBpZiAoc2xvdEJpbmRpbmcpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoZWwuc2xvdFRhcmdldCB8fCBlbC5zbG90U2NvcGUpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIG1peGVkIHVzYWdlIG9mIGRpZmZlcmVudCBzbG90IHN5bnRheGVzLlwiLFxuICAgICAgICAgICAgICBlbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsLnBhcmVudCAmJiAhbWF5YmVDb21wb25lbnQoZWwucGFyZW50KSkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIjx0ZW1wbGF0ZSB2LXNsb3Q+IGNhbiBvbmx5IGFwcGVhciBhdCB0aGUgcm9vdCBsZXZlbCBpbnNpZGUgXCIgK1xuICAgICAgICAgICAgICBcInRoZSByZWNlaXZpbmcgdGhlIGNvbXBvbmVudFwiLFxuICAgICAgICAgICAgICBlbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZiA9IGdldFNsb3ROYW1lKHNsb3RCaW5kaW5nKTtcbiAgICAgICAgdmFyIG5hbWUgPSByZWYubmFtZTtcbiAgICAgICAgdmFyIGR5bmFtaWMgPSByZWYuZHluYW1pYztcbiAgICAgICAgZWwuc2xvdFRhcmdldCA9IG5hbWU7XG4gICAgICAgIGVsLnNsb3RUYXJnZXREeW5hbWljID0gZHluYW1pYztcbiAgICAgICAgZWwuc2xvdFNjb3BlID0gc2xvdEJpbmRpbmcudmFsdWUgfHwgZW1wdHlTbG90U2NvcGVUb2tlbjsgLy8gZm9yY2UgaXQgaW50byBhIHNjb3BlZCBzbG90IGZvciBwZXJmXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHYtc2xvdCBvbiBjb21wb25lbnQsIGRlbm90ZXMgZGVmYXVsdCBzbG90XG4gICAgICB2YXIgc2xvdEJpbmRpbmckMSA9IGdldEFuZFJlbW92ZUF0dHJCeVJlZ2V4KGVsLCBzbG90UkUpO1xuICAgICAgaWYgKHNsb3RCaW5kaW5nJDEpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoIW1heWJlQ29tcG9uZW50KGVsKSkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcInYtc2xvdCBjYW4gb25seSBiZSB1c2VkIG9uIGNvbXBvbmVudHMgb3IgPHRlbXBsYXRlPi5cIixcbiAgICAgICAgICAgICAgc2xvdEJpbmRpbmckMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsLnNsb3RTY29wZSB8fCBlbC5zbG90VGFyZ2V0KSB7XG4gICAgICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgICAgIFwiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy5cIixcbiAgICAgICAgICAgICAgZWxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbC5zY29wZWRTbG90cykge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIlRvIGF2b2lkIHNjb3BlIGFtYmlndWl0eSwgdGhlIGRlZmF1bHQgc2xvdCBzaG91bGQgYWxzbyB1c2UgXCIgK1xuICAgICAgICAgICAgICBcIjx0ZW1wbGF0ZT4gc3ludGF4IHdoZW4gdGhlcmUgYXJlIG90aGVyIG5hbWVkIHNsb3RzLlwiLFxuICAgICAgICAgICAgICBzbG90QmluZGluZyQxXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhlIGNvbXBvbmVudCdzIGNoaWxkcmVuIHRvIGl0cyBkZWZhdWx0IHNsb3RcbiAgICAgICAgdmFyIHNsb3RzID0gZWwuc2NvcGVkU2xvdHMgfHwgKGVsLnNjb3BlZFNsb3RzID0ge30pO1xuICAgICAgICB2YXIgcmVmJDEgPSBnZXRTbG90TmFtZShzbG90QmluZGluZyQxKTtcbiAgICAgICAgdmFyIG5hbWUkMSA9IHJlZiQxLm5hbWU7XG4gICAgICAgIHZhciBkeW5hbWljJDEgPSByZWYkMS5keW5hbWljO1xuICAgICAgICB2YXIgc2xvdENvbnRhaW5lciA9IHNsb3RzW25hbWUkMV0gPSBjcmVhdGVBU1RFbGVtZW50KCd0ZW1wbGF0ZScsIFtdLCBlbCk7XG4gICAgICAgIHNsb3RDb250YWluZXIuc2xvdFRhcmdldCA9IG5hbWUkMTtcbiAgICAgICAgc2xvdENvbnRhaW5lci5zbG90VGFyZ2V0RHluYW1pYyA9IGR5bmFtaWMkMTtcbiAgICAgICAgc2xvdENvbnRhaW5lci5jaGlsZHJlbiA9IGVsLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGlmICghYy5zbG90U2NvcGUpIHtcbiAgICAgICAgICAgIGMucGFyZW50ID0gc2xvdENvbnRhaW5lcjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2xvdENvbnRhaW5lci5zbG90U2NvcGUgPSBzbG90QmluZGluZyQxLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47XG4gICAgICAgIC8vIHJlbW92ZSBjaGlsZHJlbiBhcyB0aGV5IGFyZSByZXR1cm5lZCBmcm9tIHNjb3BlZFNsb3RzIG5vd1xuICAgICAgICBlbC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvLyBtYXJrIGVsIG5vbi1wbGFpbiBzbyBkYXRhIGdldHMgZ2VuZXJhdGVkXG4gICAgICAgIGVsLnBsYWluID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNsb3ROYW1lIChiaW5kaW5nKSB7XG4gIHZhciBuYW1lID0gYmluZGluZy5uYW1lLnJlcGxhY2Uoc2xvdFJFLCAnJyk7XG4gIGlmICghbmFtZSkge1xuICAgIGlmIChiaW5kaW5nLm5hbWVbMF0gIT09ICcjJykge1xuICAgICAgbmFtZSA9ICdkZWZhdWx0JztcbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHdhcm4kMihcbiAgICAgICAgXCJ2LXNsb3Qgc2hvcnRoYW5kIHN5bnRheCByZXF1aXJlcyBhIHNsb3QgbmFtZS5cIixcbiAgICAgICAgYmluZGluZ1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGR5bmFtaWNBcmdSRS50ZXN0KG5hbWUpXG4gICAgLy8gZHluYW1pYyBbbmFtZV1cbiAgICA/IHsgbmFtZTogbmFtZS5zbGljZSgxLCAtMSksIGR5bmFtaWM6IHRydWUgfVxuICAgIC8vIHN0YXRpYyBuYW1lXG4gICAgOiB7IG5hbWU6IChcIlxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIiksIGR5bmFtaWM6IGZhbHNlIH1cbn1cblxuLy8gaGFuZGxlIDxzbG90Lz4gb3V0bGV0c1xuZnVuY3Rpb24gcHJvY2Vzc1Nsb3RPdXRsZXQgKGVsKSB7XG4gIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xuICAgIGVsLnNsb3ROYW1lID0gZ2V0QmluZGluZ0F0dHIoZWwsICduYW1lJyk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZWwua2V5KSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwiYGtleWAgZG9lcyBub3Qgd29yayBvbiA8c2xvdD4gYmVjYXVzZSBzbG90cyBhcmUgYWJzdHJhY3Qgb3V0bGV0cyBcIiArXG4gICAgICAgIFwiYW5kIGNhbiBwb3NzaWJseSBleHBhbmQgaW50byBtdWx0aXBsZSBlbGVtZW50cy4gXCIgK1xuICAgICAgICBcIlVzZSB0aGUga2V5IG9uIGEgd3JhcHBpbmcgZWxlbWVudCBpbnN0ZWFkLlwiLFxuICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ29tcG9uZW50IChlbCkge1xuICB2YXIgYmluZGluZztcbiAgaWYgKChiaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdpcycpKSkge1xuICAgIGVsLmNvbXBvbmVudCA9IGJpbmRpbmc7XG4gIH1cbiAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICdpbmxpbmUtdGVtcGxhdGUnKSAhPSBudWxsKSB7XG4gICAgZWwuaW5saW5lVGVtcGxhdGUgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NBdHRycyAoZWwpIHtcbiAgdmFyIGxpc3QgPSBlbC5hdHRyc0xpc3Q7XG4gIHZhciBpLCBsLCBuYW1lLCByYXdOYW1lLCB2YWx1ZSwgbW9kaWZpZXJzLCBzeW5jR2VuLCBpc0R5bmFtaWM7XG4gIGZvciAoaSA9IDAsIGwgPSBsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG5hbWUgPSByYXdOYW1lID0gbGlzdFtpXS5uYW1lO1xuICAgIHZhbHVlID0gbGlzdFtpXS52YWx1ZTtcbiAgICBpZiAoZGlyUkUudGVzdChuYW1lKSkge1xuICAgICAgLy8gbWFyayBlbGVtZW50IGFzIGR5bmFtaWNcbiAgICAgIGVsLmhhc0JpbmRpbmdzID0gdHJ1ZTtcbiAgICAgIC8vIG1vZGlmaWVyc1xuICAgICAgbW9kaWZpZXJzID0gcGFyc2VNb2RpZmllcnMobmFtZS5yZXBsYWNlKGRpclJFLCAnJykpO1xuICAgICAgLy8gc3VwcG9ydCAuZm9vIHNob3J0aGFuZCBzeW50YXggZm9yIHRoZSAucHJvcCBtb2RpZmllclxuICAgICAgaWYgKG1vZGlmaWVycykge1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKG1vZGlmaWVyUkUsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmIChiaW5kUkUudGVzdChuYW1lKSkgeyAvLyB2LWJpbmRcbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShiaW5kUkUsICcnKTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUZpbHRlcnModmFsdWUpO1xuICAgICAgICBpc0R5bmFtaWMgPSBkeW5hbWljQXJnUkUudGVzdChuYW1lKTtcbiAgICAgICAgaWYgKGlzRHluYW1pYykge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgIHZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgKFwiVGhlIHZhbHVlIGZvciBhIHYtYmluZCBleHByZXNzaW9uIGNhbm5vdCBiZSBlbXB0eS4gRm91bmQgaW4gXFxcInYtYmluZDpcIiArIG5hbWUgKyBcIlxcXCJcIilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgICBpZiAobW9kaWZpZXJzLnByb3AgJiYgIWlzRHluYW1pYykge1xuICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKG5hbWUpO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdpbm5lckh0bWwnKSB7IG5hbWUgPSAnaW5uZXJIVE1MJzsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kaWZpZXJzLmNhbWVsICYmICFpc0R5bmFtaWMpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGlmaWVycy5zeW5jKSB7XG4gICAgICAgICAgICBzeW5jR2VuID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIFwiJGV2ZW50XCIpO1xuICAgICAgICAgICAgaWYgKCFpc0R5bmFtaWMpIHtcbiAgICAgICAgICAgICAgYWRkSGFuZGxlcihcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICAoXCJ1cGRhdGU6XCIgKyAoY2FtZWxpemUobmFtZSkpKSxcbiAgICAgICAgICAgICAgICBzeW5jR2VuLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgd2FybiQyLFxuICAgICAgICAgICAgICAgIGxpc3RbaV1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGh5cGhlbmF0ZShuYW1lKSAhPT0gY2FtZWxpemUobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAgICAoXCJ1cGRhdGU6XCIgKyAoaHlwaGVuYXRlKG5hbWUpKSksXG4gICAgICAgICAgICAgICAgICBzeW5jR2VuLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgd2FybiQyLFxuICAgICAgICAgICAgICAgICAgbGlzdFtpXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGhhbmRsZXIgdy8gZHluYW1pYyBldmVudCBuYW1lXG4gICAgICAgICAgICAgIGFkZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAgKFwiXFxcInVwZGF0ZTpcXFwiKyhcIiArIG5hbWUgKyBcIilcIiksXG4gICAgICAgICAgICAgICAgc3luY0dlbixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHdhcm4kMixcbiAgICAgICAgICAgICAgICBsaXN0W2ldLFxuICAgICAgICAgICAgICAgIHRydWUgLy8gZHluYW1pY1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKG1vZGlmaWVycyAmJiBtb2RpZmllcnMucHJvcCkgfHwgKFxuICAgICAgICAgICFlbC5jb21wb25lbnQgJiYgcGxhdGZvcm1NdXN0VXNlUHJvcChlbC50YWcsIGVsLmF0dHJzTWFwLnR5cGUsIG5hbWUpXG4gICAgICAgICkpIHtcbiAgICAgICAgICBhZGRQcm9wKGVsLCBuYW1lLCB2YWx1ZSwgbGlzdFtpXSwgaXNEeW5hbWljKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRBdHRyKGVsLCBuYW1lLCB2YWx1ZSwgbGlzdFtpXSwgaXNEeW5hbWljKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvblJFLnRlc3QobmFtZSkpIHsgLy8gdi1vblxuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKG9uUkUsICcnKTtcbiAgICAgICAgaXNEeW5hbWljID0gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSk7XG4gICAgICAgIGlmIChpc0R5bmFtaWMpIHtcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSGFuZGxlcihlbCwgbmFtZSwgdmFsdWUsIG1vZGlmaWVycywgZmFsc2UsIHdhcm4kMiwgbGlzdFtpXSwgaXNEeW5hbWljKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBkaXJlY3RpdmVzXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoZGlyUkUsICcnKTtcbiAgICAgICAgLy8gcGFyc2UgYXJnXG4gICAgICAgIHZhciBhcmdNYXRjaCA9IG5hbWUubWF0Y2goYXJnUkUpO1xuICAgICAgICB2YXIgYXJnID0gYXJnTWF0Y2ggJiYgYXJnTWF0Y2hbMV07XG4gICAgICAgIGlzRHluYW1pYyA9IGZhbHNlO1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgLShhcmcubGVuZ3RoICsgMSkpO1xuICAgICAgICAgIGlmIChkeW5hbWljQXJnUkUudGVzdChhcmcpKSB7XG4gICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgaXNEeW5hbWljID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkRGlyZWN0aXZlKGVsLCBuYW1lLCByYXdOYW1lLCB2YWx1ZSwgYXJnLCBpc0R5bmFtaWMsIG1vZGlmaWVycywgbGlzdFtpXSk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG5hbWUgPT09ICdtb2RlbCcpIHtcbiAgICAgICAgICBjaGVja0ZvckFsaWFzTW9kZWwoZWwsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBsaXRlcmFsIGF0dHJpYnV0ZVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dCh2YWx1ZSwgZGVsaW1pdGVycyk7XG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgICBuYW1lICsgXCI9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCI6IFwiICtcbiAgICAgICAgICAgICdJbnRlcnBvbGF0aW9uIGluc2lkZSBhdHRyaWJ1dGVzIGhhcyBiZWVuIHJlbW92ZWQuICcgK1xuICAgICAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArXG4gICAgICAgICAgICAnaW5zdGVhZCBvZiA8ZGl2IGlkPVwie3sgdmFsIH19XCI+LCB1c2UgPGRpdiA6aWQ9XCJ2YWxcIj4uJyxcbiAgICAgICAgICAgIGxpc3RbaV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhZGRBdHRyKGVsLCBuYW1lLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSksIGxpc3RbaV0pO1xuICAgICAgLy8gIzY4ODcgZmlyZWZveCBkb2Vzbid0IHVwZGF0ZSBtdXRlZCBzdGF0ZSBpZiBzZXQgdmlhIGF0dHJpYnV0ZVxuICAgICAgLy8gZXZlbiBpbW1lZGlhdGVseSBhZnRlciBlbGVtZW50IGNyZWF0aW9uXG4gICAgICBpZiAoIWVsLmNvbXBvbmVudCAmJlxuICAgICAgICAgIG5hbWUgPT09ICdtdXRlZCcgJiZcbiAgICAgICAgICBwbGF0Zm9ybU11c3RVc2VQcm9wKGVsLnRhZywgZWwuYXR0cnNNYXAudHlwZSwgbmFtZSkpIHtcbiAgICAgICAgYWRkUHJvcChlbCwgbmFtZSwgJ3RydWUnLCBsaXN0W2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tJbkZvciAoZWwpIHtcbiAgdmFyIHBhcmVudCA9IGVsO1xuICB3aGlsZSAocGFyZW50KSB7XG4gICAgaWYgKHBhcmVudC5mb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gcGFyc2VNb2RpZmllcnMgKG5hbWUpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaChtb2RpZmllclJFKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIG1hdGNoLmZvckVhY2goZnVuY3Rpb24gKG0pIHsgcmV0W20uc2xpY2UoMSldID0gdHJ1ZTsgfSk7XG4gICAgcmV0dXJuIHJldFxuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VBdHRyc01hcCAoYXR0cnMpIHtcbiAgdmFyIG1hcCA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIG1hcFthdHRyc1tpXS5uYW1lXSAmJiAhaXNJRSAmJiAhaXNFZGdlXG4gICAgKSB7XG4gICAgICB3YXJuJDIoJ2R1cGxpY2F0ZSBhdHRyaWJ1dGU6ICcgKyBhdHRyc1tpXS5uYW1lLCBhdHRyc1tpXSk7XG4gICAgfVxuICAgIG1hcFthdHRyc1tpXS5uYW1lXSA9IGF0dHJzW2ldLnZhbHVlO1xuICB9XG4gIHJldHVybiBtYXBcbn1cblxuLy8gZm9yIHNjcmlwdCAoZS5nLiB0eXBlPVwieC90ZW1wbGF0ZVwiKSBvciBzdHlsZSwgZG8gbm90IGRlY29kZSBjb250ZW50XG5mdW5jdGlvbiBpc1RleHRUYWcgKGVsKSB7XG4gIHJldHVybiBlbC50YWcgPT09ICdzY3JpcHQnIHx8IGVsLnRhZyA9PT0gJ3N0eWxlJ1xufVxuXG5mdW5jdGlvbiBpc0ZvcmJpZGRlblRhZyAoZWwpIHtcbiAgcmV0dXJuIChcbiAgICBlbC50YWcgPT09ICdzdHlsZScgfHxcbiAgICAoZWwudGFnID09PSAnc2NyaXB0JyAmJiAoXG4gICAgICAhZWwuYXR0cnNNYXAudHlwZSB8fFxuICAgICAgZWwuYXR0cnNNYXAudHlwZSA9PT0gJ3RleHQvamF2YXNjcmlwdCdcbiAgICApKVxuICApXG59XG5cbnZhciBpZU5TQnVnID0gL154bWxuczpOU1xcZCsvO1xudmFyIGllTlNQcmVmaXggPSAvXk5TXFxkKzovO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZ3VhcmRJRVNWR0J1ZyAoYXR0cnMpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGF0dHIgPSBhdHRyc1tpXTtcbiAgICBpZiAoIWllTlNCdWcudGVzdChhdHRyLm5hbWUpKSB7XG4gICAgICBhdHRyLm5hbWUgPSBhdHRyLm5hbWUucmVwbGFjZShpZU5TUHJlZml4LCAnJyk7XG4gICAgICByZXMucHVzaChhdHRyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvckFsaWFzTW9kZWwgKGVsLCB2YWx1ZSkge1xuICB2YXIgX2VsID0gZWw7XG4gIHdoaWxlIChfZWwpIHtcbiAgICBpZiAoX2VsLmZvciAmJiBfZWwuYWxpYXMgPT09IHZhbHVlKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwiPFwiICsgKGVsLnRhZykgKyBcIiB2LW1vZGVsPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiPjogXCIgK1xuICAgICAgICBcIllvdSBhcmUgYmluZGluZyB2LW1vZGVsIGRpcmVjdGx5IHRvIGEgdi1mb3IgaXRlcmF0aW9uIGFsaWFzLiBcIiArXG4gICAgICAgIFwiVGhpcyB3aWxsIG5vdCBiZSBhYmxlIHRvIG1vZGlmeSB0aGUgdi1mb3Igc291cmNlIGFycmF5IGJlY2F1c2UgXCIgK1xuICAgICAgICBcIndyaXRpbmcgdG8gdGhlIGFsaWFzIGlzIGxpa2UgbW9kaWZ5aW5nIGEgZnVuY3Rpb24gbG9jYWwgdmFyaWFibGUuIFwiICtcbiAgICAgICAgXCJDb25zaWRlciB1c2luZyBhbiBhcnJheSBvZiBvYmplY3RzIGFuZCB1c2Ugdi1tb2RlbCBvbiBhbiBvYmplY3QgcHJvcGVydHkgaW5zdGVhZC5cIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtbW9kZWwnXVxuICAgICAgKTtcbiAgICB9XG4gICAgX2VsID0gX2VsLnBhcmVudDtcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gcHJlVHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHtcbiAgaWYgKGVsLnRhZyA9PT0gJ2lucHV0Jykge1xuICAgIHZhciBtYXAgPSBlbC5hdHRyc01hcDtcbiAgICBpZiAoIW1hcFsndi1tb2RlbCddKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgdHlwZUJpbmRpbmc7XG4gICAgaWYgKG1hcFsnOnR5cGUnXSB8fCBtYXBbJ3YtYmluZDp0eXBlJ10pIHtcbiAgICAgIHR5cGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd0eXBlJyk7XG4gICAgfVxuICAgIGlmICghbWFwLnR5cGUgJiYgIXR5cGVCaW5kaW5nICYmIG1hcFsndi1iaW5kJ10pIHtcbiAgICAgIHR5cGVCaW5kaW5nID0gXCIoXCIgKyAobWFwWyd2LWJpbmQnXSkgKyBcIikudHlwZVwiO1xuICAgIH1cblxuICAgIGlmICh0eXBlQmluZGluZykge1xuICAgICAgdmFyIGlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtaWYnLCB0cnVlKTtcbiAgICAgIHZhciBpZkNvbmRpdGlvbkV4dHJhID0gaWZDb25kaXRpb24gPyAoXCImJihcIiArIGlmQ29uZGl0aW9uICsgXCIpXCIpIDogXCJcIjtcbiAgICAgIHZhciBoYXNFbHNlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZScsIHRydWUpICE9IG51bGw7XG4gICAgICB2YXIgZWxzZUlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicsIHRydWUpO1xuICAgICAgLy8gMS4gY2hlY2tib3hcbiAgICAgIHZhciBicmFuY2gwID0gY2xvbmVBU1RFbGVtZW50KGVsKTtcbiAgICAgIC8vIHByb2Nlc3MgZm9yIG9uIHRoZSBtYWluIG5vZGVcbiAgICAgIHByb2Nlc3NGb3IoYnJhbmNoMCk7XG4gICAgICBhZGRSYXdBdHRyKGJyYW5jaDAsICd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gwLCBvcHRpb25zKTtcbiAgICAgIGJyYW5jaDAucHJvY2Vzc2VkID0gdHJ1ZTsgLy8gcHJldmVudCBpdCBmcm9tIGRvdWJsZS1wcm9jZXNzZWRcbiAgICAgIGJyYW5jaDAuaWYgPSBcIihcIiArIHR5cGVCaW5kaW5nICsgXCIpPT09J2NoZWNrYm94J1wiICsgaWZDb25kaXRpb25FeHRyYTtcbiAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHtcbiAgICAgICAgZXhwOiBicmFuY2gwLmlmLFxuICAgICAgICBibG9jazogYnJhbmNoMFxuICAgICAgfSk7XG4gICAgICAvLyAyLiBhZGQgcmFkaW8gZWxzZS1pZiBjb25kaXRpb25cbiAgICAgIHZhciBicmFuY2gxID0gY2xvbmVBU1RFbGVtZW50KGVsKTtcbiAgICAgIGdldEFuZFJlbW92ZUF0dHIoYnJhbmNoMSwgJ3YtZm9yJywgdHJ1ZSk7XG4gICAgICBhZGRSYXdBdHRyKGJyYW5jaDEsICd0eXBlJywgJ3JhZGlvJyk7XG4gICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gxLCBvcHRpb25zKTtcbiAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHtcbiAgICAgICAgZXhwOiBcIihcIiArIHR5cGVCaW5kaW5nICsgXCIpPT09J3JhZGlvJ1wiICsgaWZDb25kaXRpb25FeHRyYSxcbiAgICAgICAgYmxvY2s6IGJyYW5jaDFcbiAgICAgIH0pO1xuICAgICAgLy8gMy4gb3RoZXJcbiAgICAgIHZhciBicmFuY2gyID0gY2xvbmVBU1RFbGVtZW50KGVsKTtcbiAgICAgIGdldEFuZFJlbW92ZUF0dHIoYnJhbmNoMiwgJ3YtZm9yJywgdHJ1ZSk7XG4gICAgICBhZGRSYXdBdHRyKGJyYW5jaDIsICc6dHlwZScsIHR5cGVCaW5kaW5nKTtcbiAgICAgIHByb2Nlc3NFbGVtZW50KGJyYW5jaDIsIG9wdGlvbnMpO1xuICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwge1xuICAgICAgICBleHA6IGlmQ29uZGl0aW9uLFxuICAgICAgICBibG9jazogYnJhbmNoMlxuICAgICAgfSk7XG5cbiAgICAgIGlmIChoYXNFbHNlKSB7XG4gICAgICAgIGJyYW5jaDAuZWxzZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGVsc2VJZkNvbmRpdGlvbikge1xuICAgICAgICBicmFuY2gwLmVsc2VpZiA9IGVsc2VJZkNvbmRpdGlvbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJyYW5jaDBcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVBU1RFbGVtZW50IChlbCkge1xuICByZXR1cm4gY3JlYXRlQVNURWxlbWVudChlbC50YWcsIGVsLmF0dHJzTGlzdC5zbGljZSgpLCBlbC5wYXJlbnQpXG59XG5cbnZhciBtb2RlbCQxID0ge1xuICBwcmVUcmFuc2Zvcm1Ob2RlOiBwcmVUcmFuc2Zvcm1Ob2RlXG59O1xuXG52YXIgbW9kdWxlcyQxID0gW1xuICBrbGFzcyQxLFxuICBzdHlsZSQxLFxuICBtb2RlbCQxXG5dO1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdGV4dCAoZWwsIGRpcikge1xuICBpZiAoZGlyLnZhbHVlKSB7XG4gICAgYWRkUHJvcChlbCwgJ3RleHRDb250ZW50JywgKFwiX3MoXCIgKyAoZGlyLnZhbHVlKSArIFwiKVwiKSwgZGlyKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaHRtbCAoZWwsIGRpcikge1xuICBpZiAoZGlyLnZhbHVlKSB7XG4gICAgYWRkUHJvcChlbCwgJ2lubmVySFRNTCcsIChcIl9zKFwiICsgKGRpci52YWx1ZSkgKyBcIilcIiksIGRpcik7XG4gIH1cbn1cblxudmFyIGRpcmVjdGl2ZXMkMSA9IHtcbiAgbW9kZWw6IG1vZGVsLFxuICB0ZXh0OiB0ZXh0LFxuICBodG1sOiBodG1sXG59O1xuXG4vKiAgKi9cblxudmFyIGJhc2VPcHRpb25zID0ge1xuICBleHBlY3RIVE1MOiB0cnVlLFxuICBtb2R1bGVzOiBtb2R1bGVzJDEsXG4gIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMkMSxcbiAgaXNQcmVUYWc6IGlzUHJlVGFnLFxuICBpc1VuYXJ5VGFnOiBpc1VuYXJ5VGFnLFxuICBtdXN0VXNlUHJvcDogbXVzdFVzZVByb3AsXG4gIGNhbkJlTGVmdE9wZW5UYWc6IGNhbkJlTGVmdE9wZW5UYWcsXG4gIGlzUmVzZXJ2ZWRUYWc6IGlzUmVzZXJ2ZWRUYWcsXG4gIGdldFRhZ05hbWVzcGFjZTogZ2V0VGFnTmFtZXNwYWNlLFxuICBzdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzKG1vZHVsZXMkMSlcbn07XG5cbi8qICAqL1xuXG52YXIgaXNTdGF0aWNLZXk7XG52YXIgaXNQbGF0Zm9ybVJlc2VydmVkVGFnO1xuXG52YXIgZ2VuU3RhdGljS2V5c0NhY2hlZCA9IGNhY2hlZChnZW5TdGF0aWNLZXlzJDEpO1xuXG4vKipcbiAqIEdvYWwgb2YgdGhlIG9wdGltaXplcjogd2FsayB0aGUgZ2VuZXJhdGVkIHRlbXBsYXRlIEFTVCB0cmVlXG4gKiBhbmQgZGV0ZWN0IHN1Yi10cmVlcyB0aGF0IGFyZSBwdXJlbHkgc3RhdGljLCBpLmUuIHBhcnRzIG9mXG4gKiB0aGUgRE9NIHRoYXQgbmV2ZXIgbmVlZHMgdG8gY2hhbmdlLlxuICpcbiAqIE9uY2Ugd2UgZGV0ZWN0IHRoZXNlIHN1Yi10cmVlcywgd2UgY2FuOlxuICpcbiAqIDEuIEhvaXN0IHRoZW0gaW50byBjb25zdGFudHMsIHNvIHRoYXQgd2Ugbm8gbG9uZ2VyIG5lZWQgdG9cbiAqICAgIGNyZWF0ZSBmcmVzaCBub2RlcyBmb3IgdGhlbSBvbiBlYWNoIHJlLXJlbmRlcjtcbiAqIDIuIENvbXBsZXRlbHkgc2tpcCB0aGVtIGluIHRoZSBwYXRjaGluZyBwcm9jZXNzLlxuICovXG5mdW5jdGlvbiBvcHRpbWl6ZSAocm9vdCwgb3B0aW9ucykge1xuICBpZiAoIXJvb3QpIHsgcmV0dXJuIH1cbiAgaXNTdGF0aWNLZXkgPSBnZW5TdGF0aWNLZXlzQ2FjaGVkKG9wdGlvbnMuc3RhdGljS2V5cyB8fCAnJyk7XG4gIGlzUGxhdGZvcm1SZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubztcbiAgLy8gZmlyc3QgcGFzczogbWFyayBhbGwgbm9uLXN0YXRpYyBub2Rlcy5cbiAgbWFya1N0YXRpYyQxKHJvb3QpO1xuICAvLyBzZWNvbmQgcGFzczogbWFyayBzdGF0aWMgcm9vdHMuXG4gIG1hcmtTdGF0aWNSb290cyhyb290LCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGdlblN0YXRpY0tleXMkMSAoa2V5cykge1xuICByZXR1cm4gbWFrZU1hcChcbiAgICAndHlwZSx0YWcsYXR0cnNMaXN0LGF0dHJzTWFwLHBsYWluLHBhcmVudCxjaGlsZHJlbixhdHRycyxzdGFydCxlbmQscmF3QXR0cnNNYXAnICtcbiAgICAoa2V5cyA/ICcsJyArIGtleXMgOiAnJylcbiAgKVxufVxuXG5mdW5jdGlvbiBtYXJrU3RhdGljJDEgKG5vZGUpIHtcbiAgbm9kZS5zdGF0aWMgPSBpc1N0YXRpYyhub2RlKTtcbiAgaWYgKG5vZGUudHlwZSA9PT0gMSkge1xuICAgIC8vIGRvIG5vdCBtYWtlIGNvbXBvbmVudCBzbG90IGNvbnRlbnQgc3RhdGljLiB0aGlzIGF2b2lkc1xuICAgIC8vIDEuIGNvbXBvbmVudHMgbm90IGFibGUgdG8gbXV0YXRlIHNsb3Qgbm9kZXNcbiAgICAvLyAyLiBzdGF0aWMgc2xvdCBjb250ZW50IGZhaWxzIGZvciBob3QtcmVsb2FkaW5nXG4gICAgaWYgKFxuICAgICAgIWlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiZcbiAgICAgIG5vZGUudGFnICE9PSAnc2xvdCcgJiZcbiAgICAgIG5vZGUuYXR0cnNNYXBbJ2lubGluZS10ZW1wbGF0ZSddID09IG51bGxcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgbWFya1N0YXRpYyQxKGNoaWxkKTtcbiAgICAgIGlmICghY2hpbGQuc3RhdGljKSB7XG4gICAgICAgIG5vZGUuc3RhdGljID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmlmQ29uZGl0aW9ucykge1xuICAgICAgZm9yICh2YXIgaSQxID0gMSwgbCQxID0gbm9kZS5pZkNvbmRpdGlvbnMubGVuZ3RoOyBpJDEgPCBsJDE7IGkkMSsrKSB7XG4gICAgICAgIHZhciBibG9jayA9IG5vZGUuaWZDb25kaXRpb25zW2kkMV0uYmxvY2s7XG4gICAgICAgIG1hcmtTdGF0aWMkMShibG9jayk7XG4gICAgICAgIGlmICghYmxvY2suc3RhdGljKSB7XG4gICAgICAgICAgbm9kZS5zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrU3RhdGljUm9vdHMgKG5vZGUsIGlzSW5Gb3IpIHtcbiAgaWYgKG5vZGUudHlwZSA9PT0gMSkge1xuICAgIGlmIChub2RlLnN0YXRpYyB8fCBub2RlLm9uY2UpIHtcbiAgICAgIG5vZGUuc3RhdGljSW5Gb3IgPSBpc0luRm9yO1xuICAgIH1cbiAgICAvLyBGb3IgYSBub2RlIHRvIHF1YWxpZnkgYXMgYSBzdGF0aWMgcm9vdCwgaXQgc2hvdWxkIGhhdmUgY2hpbGRyZW4gdGhhdFxuICAgIC8vIGFyZSBub3QganVzdCBzdGF0aWMgdGV4dC4gT3RoZXJ3aXNlIHRoZSBjb3N0IG9mIGhvaXN0aW5nIG91dCB3aWxsXG4gICAgLy8gb3V0d2VpZ2ggdGhlIGJlbmVmaXRzIGFuZCBpdCdzIGJldHRlciBvZmYgdG8ganVzdCBhbHdheXMgcmVuZGVyIGl0IGZyZXNoLlxuICAgIGlmIChub2RlLnN0YXRpYyAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCAmJiAhKFxuICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiZcbiAgICAgIG5vZGUuY2hpbGRyZW5bMF0udHlwZSA9PT0gM1xuICAgICkpIHtcbiAgICAgIG5vZGUuc3RhdGljUm9vdCA9IHRydWU7XG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5zdGF0aWNSb290ID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmNoaWxkcmVuW2ldLCBpc0luRm9yIHx8ICEhbm9kZS5mb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDEsIGwkMSA9IG5vZGUuaWZDb25kaXRpb25zLmxlbmd0aDsgaSQxIDwgbCQxOyBpJDErKykge1xuICAgICAgICBtYXJrU3RhdGljUm9vdHMobm9kZS5pZkNvbmRpdGlvbnNbaSQxXS5ibG9jaywgaXNJbkZvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3RhdGljIChub2RlKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDIpIHsgLy8gZXhwcmVzc2lvblxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGlmIChub2RlLnR5cGUgPT09IDMpIHsgLy8gdGV4dFxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuICEhKG5vZGUucHJlIHx8IChcbiAgICAhbm9kZS5oYXNCaW5kaW5ncyAmJiAvLyBubyBkeW5hbWljIGJpbmRpbmdzXG4gICAgIW5vZGUuaWYgJiYgIW5vZGUuZm9yICYmIC8vIG5vdCB2LWlmIG9yIHYtZm9yIG9yIHYtZWxzZVxuICAgICFpc0J1aWx0SW5UYWcobm9kZS50YWcpICYmIC8vIG5vdCBhIGJ1aWx0LWluXG4gICAgaXNQbGF0Zm9ybVJlc2VydmVkVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBjb21wb25lbnRcbiAgICAhaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3Iobm9kZSkgJiZcbiAgICBPYmplY3Qua2V5cyhub2RlKS5ldmVyeShpc1N0YXRpY0tleSlcbiAgKSlcbn1cblxuZnVuY3Rpb24gaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3IgKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUucGFyZW50KSB7XG4gICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIGlmIChub2RlLnRhZyAhPT0gJ3RlbXBsYXRlJykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmIChub2RlLmZvcikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qICAqL1xuXG52YXIgZm5FeHBSRSA9IC9eKFtcXHckX10rfFxcKFteKV0qP1xcKSlcXHMqPT58XmZ1bmN0aW9uXFxzKig/OltcXHckXSspP1xccypcXCgvO1xudmFyIGZuSW52b2tlUkUgPSAvXFwoW14pXSo/XFwpOyokLztcbnZhciBzaW1wbGVQYXRoUkUgPSAvXltBLVphLXpfJF1bXFx3JF0qKD86XFwuW0EtWmEtel8kXVtcXHckXSp8XFxbJ1teJ10qPyddfFxcW1wiW15cIl0qP1wiXXxcXFtcXGQrXXxcXFtbQS1aYS16XyRdW1xcdyRdKl0pKiQvO1xuXG4vLyBLZXlib2FyZEV2ZW50LmtleUNvZGUgYWxpYXNlc1xudmFyIGtleUNvZGVzID0ge1xuICBlc2M6IDI3LFxuICB0YWI6IDksXG4gIGVudGVyOiAxMyxcbiAgc3BhY2U6IDMyLFxuICB1cDogMzgsXG4gIGxlZnQ6IDM3LFxuICByaWdodDogMzksXG4gIGRvd246IDQwLFxuICAnZGVsZXRlJzogWzgsIDQ2XVxufTtcblxuLy8gS2V5Ym9hcmRFdmVudC5rZXkgYWxpYXNlc1xudmFyIGtleU5hbWVzID0ge1xuICAvLyAjNzg4MDogSUUxMSBhbmQgRWRnZSB1c2UgYEVzY2AgZm9yIEVzY2FwZSBrZXkgbmFtZS5cbiAgZXNjOiBbJ0VzYycsICdFc2NhcGUnXSxcbiAgdGFiOiAnVGFiJyxcbiAgZW50ZXI6ICdFbnRlcicsXG4gIC8vICM5MTEyOiBJRTExIHVzZXMgYFNwYWNlYmFyYCBmb3IgU3BhY2Uga2V5IG5hbWUuXG4gIHNwYWNlOiBbJyAnLCAnU3BhY2ViYXInXSxcbiAgLy8gIzc4MDY6IElFMTEgdXNlcyBrZXkgbmFtZXMgd2l0aG91dCBgQXJyb3dgIHByZWZpeCBmb3IgYXJyb3cga2V5cy5cbiAgdXA6IFsnVXAnLCAnQXJyb3dVcCddLFxuICBsZWZ0OiBbJ0xlZnQnLCAnQXJyb3dMZWZ0J10sXG4gIHJpZ2h0OiBbJ1JpZ2h0JywgJ0Fycm93UmlnaHQnXSxcbiAgZG93bjogWydEb3duJywgJ0Fycm93RG93biddLFxuICAvLyAjOTExMjogSUUxMSB1c2VzIGBEZWxgIGZvciBEZWxldGUga2V5IG5hbWUuXG4gICdkZWxldGUnOiBbJ0JhY2tzcGFjZScsICdEZWxldGUnLCAnRGVsJ11cbn07XG5cbi8vICM0ODY4OiBtb2RpZmllcnMgdGhhdCBwcmV2ZW50IHRoZSBleGVjdXRpb24gb2YgdGhlIGxpc3RlbmVyXG4vLyBuZWVkIHRvIGV4cGxpY2l0bHkgcmV0dXJuIG51bGwgc28gdGhhdCB3ZSBjYW4gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcmVtb3ZlXG4vLyB0aGUgbGlzdGVuZXIgZm9yIC5vbmNlXG52YXIgZ2VuR3VhcmQgPSBmdW5jdGlvbiAoY29uZGl0aW9uKSB7IHJldHVybiAoXCJpZihcIiArIGNvbmRpdGlvbiArIFwiKXJldHVybiBudWxsO1wiKTsgfTtcblxudmFyIG1vZGlmaWVyQ29kZSA9IHtcbiAgc3RvcDogJyRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsnLFxuICBwcmV2ZW50OiAnJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JyxcbiAgc2VsZjogZ2VuR3VhcmQoXCIkZXZlbnQudGFyZ2V0ICE9PSAkZXZlbnQuY3VycmVudFRhcmdldFwiKSxcbiAgY3RybDogZ2VuR3VhcmQoXCIhJGV2ZW50LmN0cmxLZXlcIiksXG4gIHNoaWZ0OiBnZW5HdWFyZChcIiEkZXZlbnQuc2hpZnRLZXlcIiksXG4gIGFsdDogZ2VuR3VhcmQoXCIhJGV2ZW50LmFsdEtleVwiKSxcbiAgbWV0YTogZ2VuR3VhcmQoXCIhJGV2ZW50Lm1ldGFLZXlcIiksXG4gIGxlZnQ6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDBcIiksXG4gIG1pZGRsZTogZ2VuR3VhcmQoXCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMVwiKSxcbiAgcmlnaHQ6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDJcIilcbn07XG5cbmZ1bmN0aW9uIGdlbkhhbmRsZXJzIChcbiAgZXZlbnRzLFxuICBpc05hdGl2ZVxuKSB7XG4gIHZhciBwcmVmaXggPSBpc05hdGl2ZSA/ICduYXRpdmVPbjonIDogJ29uOic7XG4gIHZhciBzdGF0aWNIYW5kbGVycyA9IFwiXCI7XG4gIHZhciBkeW5hbWljSGFuZGxlcnMgPSBcIlwiO1xuICBmb3IgKHZhciBuYW1lIGluIGV2ZW50cykge1xuICAgIHZhciBoYW5kbGVyQ29kZSA9IGdlbkhhbmRsZXIoZXZlbnRzW25hbWVdKTtcbiAgICBpZiAoZXZlbnRzW25hbWVdICYmIGV2ZW50c1tuYW1lXS5keW5hbWljKSB7XG4gICAgICBkeW5hbWljSGFuZGxlcnMgKz0gbmFtZSArIFwiLFwiICsgaGFuZGxlckNvZGUgKyBcIixcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGljSGFuZGxlcnMgKz0gXCJcXFwiXCIgKyBuYW1lICsgXCJcXFwiOlwiICsgaGFuZGxlckNvZGUgKyBcIixcIjtcbiAgICB9XG4gIH1cbiAgc3RhdGljSGFuZGxlcnMgPSBcIntcIiArIChzdGF0aWNIYW5kbGVycy5zbGljZSgwLCAtMSkpICsgXCJ9XCI7XG4gIGlmIChkeW5hbWljSGFuZGxlcnMpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgXCJfZChcIiArIHN0YXRpY0hhbmRsZXJzICsgXCIsW1wiICsgKGR5bmFtaWNIYW5kbGVycy5zbGljZSgwLCAtMSkpICsgXCJdKVwiXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByZWZpeCArIHN0YXRpY0hhbmRsZXJzXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuSGFuZGxlciAoaGFuZGxlcikge1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCl7fSdcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG4gICAgcmV0dXJuIChcIltcIiArIChoYW5kbGVyLm1hcChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gZ2VuSGFuZGxlcihoYW5kbGVyKTsgfSkuam9pbignLCcpKSArIFwiXVwiKVxuICB9XG5cbiAgdmFyIGlzTWV0aG9kUGF0aCA9IHNpbXBsZVBhdGhSRS50ZXN0KGhhbmRsZXIudmFsdWUpO1xuICB2YXIgaXNGdW5jdGlvbkV4cHJlc3Npb24gPSBmbkV4cFJFLnRlc3QoaGFuZGxlci52YWx1ZSk7XG4gIHZhciBpc0Z1bmN0aW9uSW52b2NhdGlvbiA9IHNpbXBsZVBhdGhSRS50ZXN0KGhhbmRsZXIudmFsdWUucmVwbGFjZShmbkludm9rZVJFLCAnJykpO1xuXG4gIGlmICghaGFuZGxlci5tb2RpZmllcnMpIHtcbiAgICBpZiAoaXNNZXRob2RQYXRoIHx8IGlzRnVuY3Rpb25FeHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gaGFuZGxlci52YWx1ZVxuICAgIH1cbiAgICByZXR1cm4gKFwiZnVuY3Rpb24oJGV2ZW50KXtcIiArIChpc0Z1bmN0aW9uSW52b2NhdGlvbiA/IChcInJldHVybiBcIiArIChoYW5kbGVyLnZhbHVlKSkgOiBoYW5kbGVyLnZhbHVlKSArIFwifVwiKSAvLyBpbmxpbmUgc3RhdGVtZW50XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvZGUgPSAnJztcbiAgICB2YXIgZ2VuTW9kaWZpZXJDb2RlID0gJyc7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gaGFuZGxlci5tb2RpZmllcnMpIHtcbiAgICAgIGlmIChtb2RpZmllckNvZGVba2V5XSkge1xuICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gbW9kaWZpZXJDb2RlW2tleV07XG4gICAgICAgIC8vIGxlZnQvcmlnaHRcbiAgICAgICAgaWYgKGtleUNvZGVzW2tleV0pIHtcbiAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdleGFjdCcpIHtcbiAgICAgICAgdmFyIG1vZGlmaWVycyA9IChoYW5kbGVyLm1vZGlmaWVycyk7XG4gICAgICAgIGdlbk1vZGlmaWVyQ29kZSArPSBnZW5HdWFyZChcbiAgICAgICAgICBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5TW9kaWZpZXIpIHsgcmV0dXJuICFtb2RpZmllcnNba2V5TW9kaWZpZXJdOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5TW9kaWZpZXIpIHsgcmV0dXJuIChcIiRldmVudC5cIiArIGtleU1vZGlmaWVyICsgXCJLZXlcIik7IH0pXG4gICAgICAgICAgICAuam9pbignfHwnKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgY29kZSArPSBnZW5LZXlGaWx0ZXIoa2V5cyk7XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSBtb2RpZmllcnMgbGlrZSBwcmV2ZW50IGFuZCBzdG9wIGdldCBleGVjdXRlZCBhZnRlciBrZXkgZmlsdGVyaW5nXG4gICAgaWYgKGdlbk1vZGlmaWVyQ29kZSkge1xuICAgICAgY29kZSArPSBnZW5Nb2RpZmllckNvZGU7XG4gICAgfVxuICAgIHZhciBoYW5kbGVyQ29kZSA9IGlzTWV0aG9kUGF0aFxuICAgICAgPyAoXCJyZXR1cm4gXCIgKyAoaGFuZGxlci52YWx1ZSkgKyBcIigkZXZlbnQpXCIpXG4gICAgICA6IGlzRnVuY3Rpb25FeHByZXNzaW9uXG4gICAgICAgID8gKFwicmV0dXJuIChcIiArIChoYW5kbGVyLnZhbHVlKSArIFwiKSgkZXZlbnQpXCIpXG4gICAgICAgIDogaXNGdW5jdGlvbkludm9jYXRpb25cbiAgICAgICAgICA/IChcInJldHVybiBcIiArIChoYW5kbGVyLnZhbHVlKSlcbiAgICAgICAgICA6IGhhbmRsZXIudmFsdWU7XG4gICAgcmV0dXJuIChcImZ1bmN0aW9uKCRldmVudCl7XCIgKyBjb2RlICsgaGFuZGxlckNvZGUgKyBcIn1cIilcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5LZXlGaWx0ZXIgKGtleXMpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBtYWtlIHN1cmUgdGhlIGtleSBmaWx0ZXJzIG9ubHkgYXBwbHkgdG8gS2V5Ym9hcmRFdmVudHNcbiAgICAvLyAjOTQ0MTogY2FuJ3QgdXNlICdrZXlDb2RlJyBpbiAkZXZlbnQgYmVjYXVzZSBDaHJvbWUgYXV0b2ZpbGwgZmlyZXMgZmFrZVxuICAgIC8vIGtleSBldmVudHMgdGhhdCBkbyBub3QgaGF2ZSBrZXlDb2RlIHByb3BlcnR5Li4uXG4gICAgXCJpZighJGV2ZW50LnR5cGUuaW5kZXhPZigna2V5JykmJlwiICtcbiAgICAoa2V5cy5tYXAoZ2VuRmlsdGVyQ29kZSkuam9pbignJiYnKSkgKyBcIilyZXR1cm4gbnVsbDtcIlxuICApXG59XG5cbmZ1bmN0aW9uIGdlbkZpbHRlckNvZGUgKGtleSkge1xuICB2YXIga2V5VmFsID0gcGFyc2VJbnQoa2V5LCAxMCk7XG4gIGlmIChrZXlWYWwpIHtcbiAgICByZXR1cm4gKFwiJGV2ZW50LmtleUNvZGUhPT1cIiArIGtleVZhbClcbiAgfVxuICB2YXIga2V5Q29kZSA9IGtleUNvZGVzW2tleV07XG4gIHZhciBrZXlOYW1lID0ga2V5TmFtZXNba2V5XTtcbiAgcmV0dXJuIChcbiAgICBcIl9rKCRldmVudC5rZXlDb2RlLFwiICtcbiAgICAoSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyBcIixcIiArXG4gICAgKEpTT04uc3RyaW5naWZ5KGtleUNvZGUpKSArIFwiLFwiICtcbiAgICBcIiRldmVudC5rZXksXCIgK1xuICAgIFwiXCIgKyAoSlNPTi5zdHJpbmdpZnkoa2V5TmFtZSkpICtcbiAgICBcIilcIlxuICApXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBvbiAoZWwsIGRpcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBkaXIubW9kaWZpZXJzKSB7XG4gICAgd2FybihcInYtb24gd2l0aG91dCBhcmd1bWVudCBkb2VzIG5vdCBzdXBwb3J0IG1vZGlmaWVycy5cIik7XG4gIH1cbiAgZWwud3JhcExpc3RlbmVycyA9IGZ1bmN0aW9uIChjb2RlKSB7IHJldHVybiAoXCJfZyhcIiArIGNvZGUgKyBcIixcIiArIChkaXIudmFsdWUpICsgXCIpXCIpOyB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gYmluZCQxIChlbCwgZGlyKSB7XG4gIGVsLndyYXBEYXRhID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICByZXR1cm4gKFwiX2IoXCIgKyBjb2RlICsgXCIsJ1wiICsgKGVsLnRhZykgKyBcIicsXCIgKyAoZGlyLnZhbHVlKSArIFwiLFwiICsgKGRpci5tb2RpZmllcnMgJiYgZGlyLm1vZGlmaWVycy5wcm9wID8gJ3RydWUnIDogJ2ZhbHNlJykgKyAoZGlyLm1vZGlmaWVycyAmJiBkaXIubW9kaWZpZXJzLnN5bmMgPyAnLHRydWUnIDogJycpICsgXCIpXCIpXG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgYmFzZURpcmVjdGl2ZXMgPSB7XG4gIG9uOiBvbixcbiAgYmluZDogYmluZCQxLFxuICBjbG9hazogbm9vcFxufTtcblxuLyogICovXG5cblxuXG5cblxudmFyIENvZGVnZW5TdGF0ZSA9IGZ1bmN0aW9uIENvZGVnZW5TdGF0ZSAob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLndhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG4gIHRoaXMudHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAndHJhbnNmb3JtQ29kZScpO1xuICB0aGlzLmRhdGFHZW5GbnMgPSBwbHVja01vZHVsZUZ1bmN0aW9uKG9wdGlvbnMubW9kdWxlcywgJ2dlbkRhdGEnKTtcbiAgdGhpcy5kaXJlY3RpdmVzID0gZXh0ZW5kKGV4dGVuZCh7fSwgYmFzZURpcmVjdGl2ZXMpLCBvcHRpb25zLmRpcmVjdGl2ZXMpO1xuICB2YXIgaXNSZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubztcbiAgdGhpcy5tYXliZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gISFlbC5jb21wb25lbnQgfHwgIWlzUmVzZXJ2ZWRUYWcoZWwudGFnKTsgfTtcbiAgdGhpcy5vbmNlSWQgPSAwO1xuICB0aGlzLnN0YXRpY1JlbmRlckZucyA9IFtdO1xuICB0aGlzLnByZSA9IGZhbHNlO1xufTtcblxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlIChcbiAgYXN0LFxuICBvcHRpb25zXG4pIHtcbiAgdmFyIHN0YXRlID0gbmV3IENvZGVnZW5TdGF0ZShvcHRpb25zKTtcbiAgdmFyIGNvZGUgPSBhc3QgPyBnZW5FbGVtZW50KGFzdCwgc3RhdGUpIDogJ19jKFwiZGl2XCIpJztcbiAgcmV0dXJuIHtcbiAgICByZW5kZXI6IChcIndpdGgodGhpcyl7cmV0dXJuIFwiICsgY29kZSArIFwifVwiKSxcbiAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRlLnN0YXRpY1JlbmRlckZuc1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkVsZW1lbnQgKGVsLCBzdGF0ZSkge1xuICBpZiAoZWwucGFyZW50KSB7XG4gICAgZWwucHJlID0gZWwucHJlIHx8IGVsLnBhcmVudC5wcmU7XG4gIH1cblxuICBpZiAoZWwuc3RhdGljUm9vdCAmJiAhZWwuc3RhdGljUHJvY2Vzc2VkKSB7XG4gICAgcmV0dXJuIGdlblN0YXRpYyhlbCwgc3RhdGUpXG4gIH0gZWxzZSBpZiAoZWwub25jZSAmJiAhZWwub25jZVByb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5PbmNlKGVsLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChlbC5mb3IgJiYgIWVsLmZvclByb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5Gb3IoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5JZihlbCwgc3RhdGUpXG4gIH0gZWxzZSBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnICYmICFlbC5zbG90VGFyZ2V0ICYmICFzdGF0ZS5wcmUpIHtcbiAgICByZXR1cm4gZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKSB8fCAndm9pZCAwJ1xuICB9IGVsc2UgaWYgKGVsLnRhZyA9PT0gJ3Nsb3QnKSB7XG4gICAgcmV0dXJuIGdlblNsb3QoZWwsIHN0YXRlKVxuICB9IGVsc2Uge1xuICAgIC8vIGNvbXBvbmVudCBvciBlbGVtZW50XG4gICAgdmFyIGNvZGU7XG4gICAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgICAgY29kZSA9IGdlbkNvbXBvbmVudChlbC5jb21wb25lbnQsIGVsLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkYXRhO1xuICAgICAgaWYgKCFlbC5wbGFpbiB8fCAoZWwucHJlICYmIHN0YXRlLm1heWJlQ29tcG9uZW50KGVsKSkpIHtcbiAgICAgICAgZGF0YSA9IGdlbkRhdGEkMihlbCwgc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBlbC5pbmxpbmVUZW1wbGF0ZSA/IG51bGwgOiBnZW5DaGlsZHJlbihlbCwgc3RhdGUsIHRydWUpO1xuICAgICAgY29kZSA9IFwiX2MoJ1wiICsgKGVsLnRhZykgKyBcIidcIiArIChkYXRhID8gKFwiLFwiICsgZGF0YSkgOiAnJykgKyAoY2hpbGRyZW4gPyAoXCIsXCIgKyBjaGlsZHJlbikgOiAnJykgKyBcIilcIjtcbiAgICB9XG4gICAgLy8gbW9kdWxlIHRyYW5zZm9ybXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLnRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvZGUgPSBzdGF0ZS50cmFuc2Zvcm1zW2ldKGVsLCBjb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGVcbiAgfVxufVxuXG4vLyBob2lzdCBzdGF0aWMgc3ViLXRyZWVzIG91dFxuZnVuY3Rpb24gZ2VuU3RhdGljIChlbCwgc3RhdGUpIHtcbiAgZWwuc3RhdGljUHJvY2Vzc2VkID0gdHJ1ZTtcbiAgLy8gU29tZSBlbGVtZW50cyAodGVtcGxhdGVzKSBuZWVkIHRvIGJlaGF2ZSBkaWZmZXJlbnRseSBpbnNpZGUgb2YgYSB2LXByZVxuICAvLyBub2RlLiAgQWxsIHByZSBub2RlcyBhcmUgc3RhdGljIHJvb3RzLCBzbyB3ZSBjYW4gdXNlIHRoaXMgYXMgYSBsb2NhdGlvbiB0b1xuICAvLyB3cmFwIGEgc3RhdGUgY2hhbmdlIGFuZCByZXNldCBpdCB1cG9uIGV4aXRpbmcgdGhlIHByZSBub2RlLlxuICB2YXIgb3JpZ2luYWxQcmVTdGF0ZSA9IHN0YXRlLnByZTtcbiAgaWYgKGVsLnByZSkge1xuICAgIHN0YXRlLnByZSA9IGVsLnByZTtcbiAgfVxuICBzdGF0ZS5zdGF0aWNSZW5kZXJGbnMucHVzaCgoXCJ3aXRoKHRoaXMpe3JldHVybiBcIiArIChnZW5FbGVtZW50KGVsLCBzdGF0ZSkpICsgXCJ9XCIpKTtcbiAgc3RhdGUucHJlID0gb3JpZ2luYWxQcmVTdGF0ZTtcbiAgcmV0dXJuIChcIl9tKFwiICsgKHN0YXRlLnN0YXRpY1JlbmRlckZucy5sZW5ndGggLSAxKSArIChlbC5zdGF0aWNJbkZvciA/ICcsdHJ1ZScgOiAnJykgKyBcIilcIilcbn1cblxuLy8gdi1vbmNlXG5mdW5jdGlvbiBnZW5PbmNlIChlbCwgc3RhdGUpIHtcbiAgZWwub25jZVByb2Nlc3NlZCA9IHRydWU7XG4gIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLnN0YXRpY0luRm9yKSB7XG4gICAgdmFyIGtleSA9ICcnO1xuICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5mb3IpIHtcbiAgICAgICAga2V5ID0gcGFyZW50LmtleTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIGlmICgha2V5KSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHN0YXRlLndhcm4oXG4gICAgICAgIFwidi1vbmNlIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHYtZm9yIHRoYXQgaXMga2V5ZWQuIFwiLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1vbmNlJ11cbiAgICAgICk7XG4gICAgICByZXR1cm4gZ2VuRWxlbWVudChlbCwgc3RhdGUpXG4gICAgfVxuICAgIHJldHVybiAoXCJfbyhcIiArIChnZW5FbGVtZW50KGVsLCBzdGF0ZSkpICsgXCIsXCIgKyAoc3RhdGUub25jZUlkKyspICsgXCIsXCIgKyBrZXkgKyBcIilcIilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2VuU3RhdGljKGVsLCBzdGF0ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5JZiAoXG4gIGVsLFxuICBzdGF0ZSxcbiAgYWx0R2VuLFxuICBhbHRFbXB0eVxuKSB7XG4gIGVsLmlmUHJvY2Vzc2VkID0gdHJ1ZTsgLy8gYXZvaWQgcmVjdXJzaW9uXG4gIHJldHVybiBnZW5JZkNvbmRpdGlvbnMoZWwuaWZDb25kaXRpb25zLnNsaWNlKCksIHN0YXRlLCBhbHRHZW4sIGFsdEVtcHR5KVxufVxuXG5mdW5jdGlvbiBnZW5JZkNvbmRpdGlvbnMgKFxuICBjb25kaXRpb25zLFxuICBzdGF0ZSxcbiAgYWx0R2VuLFxuICBhbHRFbXB0eVxuKSB7XG4gIGlmICghY29uZGl0aW9ucy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYWx0RW1wdHkgfHwgJ19lKCknXG4gIH1cblxuICB2YXIgY29uZGl0aW9uID0gY29uZGl0aW9ucy5zaGlmdCgpO1xuICBpZiAoY29uZGl0aW9uLmV4cCkge1xuICAgIHJldHVybiAoXCIoXCIgKyAoY29uZGl0aW9uLmV4cCkgKyBcIik/XCIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSArIFwiOlwiICsgKGdlbklmQ29uZGl0aW9ucyhjb25kaXRpb25zLCBzdGF0ZSwgYWx0R2VuLCBhbHRFbXB0eSkpKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXCJcIiArIChnZW5UZXJuYXJ5RXhwKGNvbmRpdGlvbi5ibG9jaykpKVxuICB9XG5cbiAgLy8gdi1pZiB3aXRoIHYtb25jZSBzaG91bGQgZ2VuZXJhdGUgY29kZSBsaWtlIChhKT9fbSgwKTpfbSgxKVxuICBmdW5jdGlvbiBnZW5UZXJuYXJ5RXhwIChlbCkge1xuICAgIHJldHVybiBhbHRHZW5cbiAgICAgID8gYWx0R2VuKGVsLCBzdGF0ZSlcbiAgICAgIDogZWwub25jZVxuICAgICAgICA/IGdlbk9uY2UoZWwsIHN0YXRlKVxuICAgICAgICA6IGdlbkVsZW1lbnQoZWwsIHN0YXRlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkZvciAoXG4gIGVsLFxuICBzdGF0ZSxcbiAgYWx0R2VuLFxuICBhbHRIZWxwZXJcbikge1xuICB2YXIgZXhwID0gZWwuZm9yO1xuICB2YXIgYWxpYXMgPSBlbC5hbGlhcztcbiAgdmFyIGl0ZXJhdG9yMSA9IGVsLml0ZXJhdG9yMSA/IChcIixcIiArIChlbC5pdGVyYXRvcjEpKSA6ICcnO1xuICB2YXIgaXRlcmF0b3IyID0gZWwuaXRlcmF0b3IyID8gKFwiLFwiICsgKGVsLml0ZXJhdG9yMikpIDogJyc7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICBzdGF0ZS5tYXliZUNvbXBvbmVudChlbCkgJiZcbiAgICBlbC50YWcgIT09ICdzbG90JyAmJlxuICAgIGVsLnRhZyAhPT0gJ3RlbXBsYXRlJyAmJlxuICAgICFlbC5rZXlcbiAgKSB7XG4gICAgc3RhdGUud2FybihcbiAgICAgIFwiPFwiICsgKGVsLnRhZykgKyBcIiB2LWZvcj1cXFwiXCIgKyBhbGlhcyArIFwiIGluIFwiICsgZXhwICsgXCJcXFwiPjogY29tcG9uZW50IGxpc3RzIHJlbmRlcmVkIHdpdGggXCIgK1xuICAgICAgXCJ2LWZvciBzaG91bGQgaGF2ZSBleHBsaWNpdCBrZXlzLiBcIiArXG4gICAgICBcIlNlZSBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9saXN0Lmh0bWwja2V5IGZvciBtb3JlIGluZm8uXCIsXG4gICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXSxcbiAgICAgIHRydWUgLyogdGlwICovXG4gICAgKTtcbiAgfVxuXG4gIGVsLmZvclByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvblxuICByZXR1cm4gKGFsdEhlbHBlciB8fCAnX2wnKSArIFwiKChcIiArIGV4cCArIFwiKSxcIiArXG4gICAgXCJmdW5jdGlvbihcIiArIGFsaWFzICsgaXRlcmF0b3IxICsgaXRlcmF0b3IyICsgXCIpe1wiICtcbiAgICAgIFwicmV0dXJuIFwiICsgKChhbHRHZW4gfHwgZ2VuRWxlbWVudCkoZWwsIHN0YXRlKSkgK1xuICAgICd9KSdcbn1cblxuZnVuY3Rpb24gZ2VuRGF0YSQyIChlbCwgc3RhdGUpIHtcbiAgdmFyIGRhdGEgPSAneyc7XG5cbiAgLy8gZGlyZWN0aXZlcyBmaXJzdC5cbiAgLy8gZGlyZWN0aXZlcyBtYXkgbXV0YXRlIHRoZSBlbCdzIG90aGVyIHByb3BlcnRpZXMgYmVmb3JlIHRoZXkgYXJlIGdlbmVyYXRlZC5cbiAgdmFyIGRpcnMgPSBnZW5EaXJlY3RpdmVzKGVsLCBzdGF0ZSk7XG4gIGlmIChkaXJzKSB7IGRhdGEgKz0gZGlycyArICcsJzsgfVxuXG4gIC8vIGtleVxuICBpZiAoZWwua2V5KSB7XG4gICAgZGF0YSArPSBcImtleTpcIiArIChlbC5rZXkpICsgXCIsXCI7XG4gIH1cbiAgLy8gcmVmXG4gIGlmIChlbC5yZWYpIHtcbiAgICBkYXRhICs9IFwicmVmOlwiICsgKGVsLnJlZikgKyBcIixcIjtcbiAgfVxuICBpZiAoZWwucmVmSW5Gb3IpIHtcbiAgICBkYXRhICs9IFwicmVmSW5Gb3I6dHJ1ZSxcIjtcbiAgfVxuICAvLyBwcmVcbiAgaWYgKGVsLnByZSkge1xuICAgIGRhdGEgKz0gXCJwcmU6dHJ1ZSxcIjtcbiAgfVxuICAvLyByZWNvcmQgb3JpZ2luYWwgdGFnIG5hbWUgZm9yIGNvbXBvbmVudHMgdXNpbmcgXCJpc1wiIGF0dHJpYnV0ZVxuICBpZiAoZWwuY29tcG9uZW50KSB7XG4gICAgZGF0YSArPSBcInRhZzpcXFwiXCIgKyAoZWwudGFnKSArIFwiXFxcIixcIjtcbiAgfVxuICAvLyBtb2R1bGUgZGF0YSBnZW5lcmF0aW9uIGZ1bmN0aW9uc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmRhdGFHZW5GbnMubGVuZ3RoOyBpKyspIHtcbiAgICBkYXRhICs9IHN0YXRlLmRhdGFHZW5GbnNbaV0oZWwpO1xuICB9XG4gIC8vIGF0dHJpYnV0ZXNcbiAgaWYgKGVsLmF0dHJzKSB7XG4gICAgZGF0YSArPSBcImF0dHJzOlwiICsgKGdlblByb3BzKGVsLmF0dHJzKSkgKyBcIixcIjtcbiAgfVxuICAvLyBET00gcHJvcHNcbiAgaWYgKGVsLnByb3BzKSB7XG4gICAgZGF0YSArPSBcImRvbVByb3BzOlwiICsgKGdlblByb3BzKGVsLnByb3BzKSkgKyBcIixcIjtcbiAgfVxuICAvLyBldmVudCBoYW5kbGVyc1xuICBpZiAoZWwuZXZlbnRzKSB7XG4gICAgZGF0YSArPSAoZ2VuSGFuZGxlcnMoZWwuZXZlbnRzLCBmYWxzZSkpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLm5hdGl2ZUV2ZW50cykge1xuICAgIGRhdGEgKz0gKGdlbkhhbmRsZXJzKGVsLm5hdGl2ZUV2ZW50cywgdHJ1ZSkpICsgXCIsXCI7XG4gIH1cbiAgLy8gc2xvdCB0YXJnZXRcbiAgLy8gb25seSBmb3Igbm9uLXNjb3BlZCBzbG90c1xuICBpZiAoZWwuc2xvdFRhcmdldCAmJiAhZWwuc2xvdFNjb3BlKSB7XG4gICAgZGF0YSArPSBcInNsb3Q6XCIgKyAoZWwuc2xvdFRhcmdldCkgKyBcIixcIjtcbiAgfVxuICAvLyBzY29wZWQgc2xvdHNcbiAgaWYgKGVsLnNjb3BlZFNsb3RzKSB7XG4gICAgZGF0YSArPSAoZ2VuU2NvcGVkU2xvdHMoZWwsIGVsLnNjb3BlZFNsb3RzLCBzdGF0ZSkpICsgXCIsXCI7XG4gIH1cbiAgLy8gY29tcG9uZW50IHYtbW9kZWxcbiAgaWYgKGVsLm1vZGVsKSB7XG4gICAgZGF0YSArPSBcIm1vZGVsOnt2YWx1ZTpcIiArIChlbC5tb2RlbC52YWx1ZSkgKyBcIixjYWxsYmFjazpcIiArIChlbC5tb2RlbC5jYWxsYmFjaykgKyBcIixleHByZXNzaW9uOlwiICsgKGVsLm1vZGVsLmV4cHJlc3Npb24pICsgXCJ9LFwiO1xuICB9XG4gIC8vIGlubGluZS10ZW1wbGF0ZVxuICBpZiAoZWwuaW5saW5lVGVtcGxhdGUpIHtcbiAgICB2YXIgaW5saW5lVGVtcGxhdGUgPSBnZW5JbmxpbmVUZW1wbGF0ZShlbCwgc3RhdGUpO1xuICAgIGlmIChpbmxpbmVUZW1wbGF0ZSkge1xuICAgICAgZGF0YSArPSBpbmxpbmVUZW1wbGF0ZSArIFwiLFwiO1xuICAgIH1cbiAgfVxuICBkYXRhID0gZGF0YS5yZXBsYWNlKC8sJC8sICcnKSArICd9JztcbiAgLy8gdi1iaW5kIGR5bmFtaWMgYXJndW1lbnQgd3JhcFxuICAvLyB2LWJpbmQgd2l0aCBkeW5hbWljIGFyZ3VtZW50cyBtdXN0IGJlIGFwcGxpZWQgdXNpbmcgdGhlIHNhbWUgdi1iaW5kIG9iamVjdFxuICAvLyBtZXJnZSBoZWxwZXIgc28gdGhhdCBjbGFzcy9zdHlsZS9tdXN0VXNlUHJvcCBhdHRycyBhcmUgaGFuZGxlZCBjb3JyZWN0bHkuXG4gIGlmIChlbC5keW5hbWljQXR0cnMpIHtcbiAgICBkYXRhID0gXCJfYihcIiArIGRhdGEgKyBcIixcXFwiXCIgKyAoZWwudGFnKSArIFwiXFxcIixcIiArIChnZW5Qcm9wcyhlbC5keW5hbWljQXR0cnMpKSArIFwiKVwiO1xuICB9XG4gIC8vIHYtYmluZCBkYXRhIHdyYXBcbiAgaWYgKGVsLndyYXBEYXRhKSB7XG4gICAgZGF0YSA9IGVsLndyYXBEYXRhKGRhdGEpO1xuICB9XG4gIC8vIHYtb24gZGF0YSB3cmFwXG4gIGlmIChlbC53cmFwTGlzdGVuZXJzKSB7XG4gICAgZGF0YSA9IGVsLndyYXBMaXN0ZW5lcnMoZGF0YSk7XG4gIH1cbiAgcmV0dXJuIGRhdGFcbn1cblxuZnVuY3Rpb24gZ2VuRGlyZWN0aXZlcyAoZWwsIHN0YXRlKSB7XG4gIHZhciBkaXJzID0gZWwuZGlyZWN0aXZlcztcbiAgaWYgKCFkaXJzKSB7IHJldHVybiB9XG4gIHZhciByZXMgPSAnZGlyZWN0aXZlczpbJztcbiAgdmFyIGhhc1J1bnRpbWUgPSBmYWxzZTtcbiAgdmFyIGksIGwsIGRpciwgbmVlZFJ1bnRpbWU7XG4gIGZvciAoaSA9IDAsIGwgPSBkaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGRpciA9IGRpcnNbaV07XG4gICAgbmVlZFJ1bnRpbWUgPSB0cnVlO1xuICAgIHZhciBnZW4gPSBzdGF0ZS5kaXJlY3RpdmVzW2Rpci5uYW1lXTtcbiAgICBpZiAoZ2VuKSB7XG4gICAgICAvLyBjb21waWxlLXRpbWUgZGlyZWN0aXZlIHRoYXQgbWFuaXB1bGF0ZXMgQVNULlxuICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIGl0IGFsc28gbmVlZHMgYSBydW50aW1lIGNvdW50ZXJwYXJ0LlxuICAgICAgbmVlZFJ1bnRpbWUgPSAhIWdlbihlbCwgZGlyLCBzdGF0ZS53YXJuKTtcbiAgICB9XG4gICAgaWYgKG5lZWRSdW50aW1lKSB7XG4gICAgICBoYXNSdW50aW1lID0gdHJ1ZTtcbiAgICAgIHJlcyArPSBcIntuYW1lOlxcXCJcIiArIChkaXIubmFtZSkgKyBcIlxcXCIscmF3TmFtZTpcXFwiXCIgKyAoZGlyLnJhd05hbWUpICsgXCJcXFwiXCIgKyAoZGlyLnZhbHVlID8gKFwiLHZhbHVlOihcIiArIChkaXIudmFsdWUpICsgXCIpLGV4cHJlc3Npb246XCIgKyAoSlNPTi5zdHJpbmdpZnkoZGlyLnZhbHVlKSkpIDogJycpICsgKGRpci5hcmcgPyAoXCIsYXJnOlwiICsgKGRpci5pc0R5bmFtaWNBcmcgPyBkaXIuYXJnIDogKFwiXFxcIlwiICsgKGRpci5hcmcpICsgXCJcXFwiXCIpKSkgOiAnJykgKyAoZGlyLm1vZGlmaWVycyA/IChcIixtb2RpZmllcnM6XCIgKyAoSlNPTi5zdHJpbmdpZnkoZGlyLm1vZGlmaWVycykpKSA6ICcnKSArIFwifSxcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGhhc1J1bnRpbWUpIHtcbiAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKSArICddJ1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbklubGluZVRlbXBsYXRlIChlbCwgc3RhdGUpIHtcbiAgdmFyIGFzdCA9IGVsLmNoaWxkcmVuWzBdO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAoXG4gICAgZWwuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8IGFzdC50eXBlICE9PSAxXG4gICkpIHtcbiAgICBzdGF0ZS53YXJuKFxuICAgICAgJ0lubGluZS10ZW1wbGF0ZSBjb21wb25lbnRzIG11c3QgaGF2ZSBleGFjdGx5IG9uZSBjaGlsZCBlbGVtZW50LicsXG4gICAgICB7IHN0YXJ0OiBlbC5zdGFydCB9XG4gICAgKTtcbiAgfVxuICBpZiAoYXN0ICYmIGFzdC50eXBlID09PSAxKSB7XG4gICAgdmFyIGlubGluZVJlbmRlckZucyA9IGdlbmVyYXRlKGFzdCwgc3RhdGUub3B0aW9ucyk7XG4gICAgcmV0dXJuIChcImlubGluZVRlbXBsYXRlOntyZW5kZXI6ZnVuY3Rpb24oKXtcIiArIChpbmxpbmVSZW5kZXJGbnMucmVuZGVyKSArIFwifSxzdGF0aWNSZW5kZXJGbnM6W1wiICsgKGlubGluZVJlbmRlckZucy5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uIChjb2RlKSB7IHJldHVybiAoXCJmdW5jdGlvbigpe1wiICsgY29kZSArIFwifVwiKTsgfSkuam9pbignLCcpKSArIFwiXX1cIilcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5TY29wZWRTbG90cyAoXG4gIGVsLFxuICBzbG90cyxcbiAgc3RhdGVcbikge1xuICAvLyBieSBkZWZhdWx0IHNjb3BlZCBzbG90cyBhcmUgY29uc2lkZXJlZCBcInN0YWJsZVwiLCB0aGlzIGFsbG93cyBjaGlsZFxuICAvLyBjb21wb25lbnRzIHdpdGggb25seSBzY29wZWQgc2xvdHMgdG8gc2tpcCBmb3JjZWQgdXBkYXRlcyBmcm9tIHBhcmVudC5cbiAgLy8gYnV0IGluIHNvbWUgY2FzZXMgd2UgaGF2ZSB0byBiYWlsLW91dCBvZiB0aGlzIG9wdGltaXphdGlvblxuICAvLyBmb3IgZXhhbXBsZSBpZiB0aGUgc2xvdCBjb250YWlucyBkeW5hbWljIG5hbWVzLCBoYXMgdi1pZiBvciB2LWZvciBvbiB0aGVtLi4uXG4gIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gZWwuZm9yIHx8IE9iamVjdC5rZXlzKHNsb3RzKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc2xvdCA9IHNsb3RzW2tleV07XG4gICAgcmV0dXJuIChcbiAgICAgIHNsb3Quc2xvdFRhcmdldER5bmFtaWMgfHxcbiAgICAgIHNsb3QuaWYgfHxcbiAgICAgIHNsb3QuZm9yIHx8XG4gICAgICBjb250YWluc1Nsb3RDaGlsZChzbG90KSAvLyBpcyBwYXNzaW5nIGRvd24gc2xvdCBmcm9tIHBhcmVudCB3aGljaCBtYXkgYmUgZHluYW1pY1xuICAgIClcbiAgfSk7XG5cbiAgLy8gIzk1MzQ6IGlmIGEgY29tcG9uZW50IHdpdGggc2NvcGVkIHNsb3RzIGlzIGluc2lkZSBhIGNvbmRpdGlvbmFsIGJyYW5jaCxcbiAgLy8gaXQncyBwb3NzaWJsZSBmb3IgdGhlIHNhbWUgY29tcG9uZW50IHRvIGJlIHJldXNlZCBidXQgd2l0aCBkaWZmZXJlbnRcbiAgLy8gY29tcGlsZWQgc2xvdCBjb250ZW50LiBUbyBhdm9pZCB0aGF0LCB3ZSBnZW5lcmF0ZSBhIHVuaXF1ZSBrZXkgYmFzZWQgb25cbiAgLy8gdGhlIGdlbmVyYXRlZCBjb2RlIG9mIGFsbCB0aGUgc2xvdCBjb250ZW50cy5cbiAgdmFyIG5lZWRzS2V5ID0gISFlbC5pZjtcblxuICAvLyBPUiB3aGVuIGl0IGlzIGluc2lkZSBhbm90aGVyIHNjb3BlZCBzbG90IG9yIHYtZm9yICh0aGUgcmVhY3Rpdml0eSBtYXkgYmVcbiAgLy8gZGlzY29ubmVjdGVkIGR1ZSB0byB0aGUgaW50ZXJtZWRpYXRlIHNjb3BlIHZhcmlhYmxlKVxuICAvLyAjOTQzOCwgIzk1MDZcbiAgLy8gVE9ETzogdGhpcyBjYW4gYmUgZnVydGhlciBvcHRpbWl6ZWQgYnkgcHJvcGVybHkgYW5hbHl6aW5nIGluLXNjb3BlIGJpbmRpbmdzXG4gIC8vIGFuZCBza2lwIGZvcmNlIHVwZGF0aW5nIG9uZXMgdGhhdCBkbyBub3QgYWN0dWFsbHkgdXNlIHNjb3BlIHZhcmlhYmxlcy5cbiAgaWYgKCFuZWVkc0ZvcmNlVXBkYXRlKSB7XG4gICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoXG4gICAgICAgIChwYXJlbnQuc2xvdFNjb3BlICYmIHBhcmVudC5zbG90U2NvcGUgIT09IGVtcHR5U2xvdFNjb3BlVG9rZW4pIHx8XG4gICAgICAgIHBhcmVudC5mb3JcbiAgICAgICkge1xuICAgICAgICBuZWVkc0ZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQuaWYpIHtcbiAgICAgICAgbmVlZHNLZXkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cblxuICB2YXIgZ2VuZXJhdGVkU2xvdHMgPSBPYmplY3Qua2V5cyhzbG90cylcbiAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGdlblNjb3BlZFNsb3Qoc2xvdHNba2V5XSwgc3RhdGUpOyB9KVxuICAgIC5qb2luKCcsJyk7XG5cbiAgcmV0dXJuIChcInNjb3BlZFNsb3RzOl91KFtcIiArIGdlbmVyYXRlZFNsb3RzICsgXCJdXCIgKyAobmVlZHNGb3JjZVVwZGF0ZSA/IFwiLG51bGwsdHJ1ZVwiIDogXCJcIikgKyAoIW5lZWRzRm9yY2VVcGRhdGUgJiYgbmVlZHNLZXkgPyAoXCIsbnVsbCxmYWxzZSxcIiArIChoYXNoKGdlbmVyYXRlZFNsb3RzKSkpIDogXCJcIikgKyBcIilcIilcbn1cblxuZnVuY3Rpb24gaGFzaChzdHIpIHtcbiAgdmFyIGhhc2ggPSA1MzgxO1xuICB2YXIgaSA9IHN0ci5sZW5ndGg7XG4gIHdoaWxlKGkpIHtcbiAgICBoYXNoID0gKGhhc2ggKiAzMykgXiBzdHIuY2hhckNvZGVBdCgtLWkpO1xuICB9XG4gIHJldHVybiBoYXNoID4+PiAwXG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5zU2xvdENoaWxkIChlbCkge1xuICBpZiAoZWwudHlwZSA9PT0gMSkge1xuICAgIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGVsLmNoaWxkcmVuLnNvbWUoY29udGFpbnNTbG90Q2hpbGQpXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIGdlblNjb3BlZFNsb3QgKFxuICBlbCxcbiAgc3RhdGVcbikge1xuICB2YXIgaXNMZWdhY3lTeW50YXggPSBlbC5hdHRyc01hcFsnc2xvdC1zY29wZSddO1xuICBpZiAoZWwuaWYgJiYgIWVsLmlmUHJvY2Vzc2VkICYmICFpc0xlZ2FjeVN5bnRheCkge1xuICAgIHJldHVybiBnZW5JZihlbCwgc3RhdGUsIGdlblNjb3BlZFNsb3QsIFwibnVsbFwiKVxuICB9XG4gIGlmIChlbC5mb3IgJiYgIWVsLmZvclByb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5Gb3IoZWwsIHN0YXRlLCBnZW5TY29wZWRTbG90KVxuICB9XG4gIHZhciBzbG90U2NvcGUgPSBlbC5zbG90U2NvcGUgPT09IGVtcHR5U2xvdFNjb3BlVG9rZW5cbiAgICA/IFwiXCJcbiAgICA6IFN0cmluZyhlbC5zbG90U2NvcGUpO1xuICB2YXIgZm4gPSBcImZ1bmN0aW9uKFwiICsgc2xvdFNjb3BlICsgXCIpe1wiICtcbiAgICBcInJldHVybiBcIiArIChlbC50YWcgPT09ICd0ZW1wbGF0ZSdcbiAgICAgID8gZWwuaWYgJiYgaXNMZWdhY3lTeW50YXhcbiAgICAgICAgPyAoXCIoXCIgKyAoZWwuaWYpICsgXCIpP1wiICsgKGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3VuZGVmaW5lZCcpICsgXCI6dW5kZWZpbmVkXCIpXG4gICAgICAgIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKSB8fCAndW5kZWZpbmVkJ1xuICAgICAgOiBnZW5FbGVtZW50KGVsLCBzdGF0ZSkpICsgXCJ9XCI7XG4gIC8vIHJldmVyc2UgcHJveHkgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHNcbiAgdmFyIHJldmVyc2VQcm94eSA9IHNsb3RTY29wZSA/IFwiXCIgOiBcIixwcm94eTp0cnVlXCI7XG4gIHJldHVybiAoXCJ7a2V5OlwiICsgKGVsLnNsb3RUYXJnZXQgfHwgXCJcXFwiZGVmYXVsdFxcXCJcIikgKyBcIixmbjpcIiArIGZuICsgcmV2ZXJzZVByb3h5ICsgXCJ9XCIpXG59XG5cbmZ1bmN0aW9uIGdlbkNoaWxkcmVuIChcbiAgZWwsXG4gIHN0YXRlLFxuICBjaGVja1NraXAsXG4gIGFsdEdlbkVsZW1lbnQsXG4gIGFsdEdlbk5vZGVcbikge1xuICB2YXIgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHZhciBlbCQxID0gY2hpbGRyZW5bMF07XG4gICAgLy8gb3B0aW1pemUgc2luZ2xlIHYtZm9yXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgZWwkMS5mb3IgJiZcbiAgICAgIGVsJDEudGFnICE9PSAndGVtcGxhdGUnICYmXG4gICAgICBlbCQxLnRhZyAhPT0gJ3Nsb3QnXG4gICAgKSB7XG4gICAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUgPSBjaGVja1NraXBcbiAgICAgICAgPyBzdGF0ZS5tYXliZUNvbXBvbmVudChlbCQxKSA/IFwiLDFcIiA6IFwiLDBcIlxuICAgICAgICA6IFwiXCI7XG4gICAgICByZXR1cm4gKFwiXCIgKyAoKGFsdEdlbkVsZW1lbnQgfHwgZ2VuRWxlbWVudCkoZWwkMSwgc3RhdGUpKSArIG5vcm1hbGl6YXRpb25UeXBlKVxuICAgIH1cbiAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUkMSA9IGNoZWNrU2tpcFxuICAgICAgPyBnZXROb3JtYWxpemF0aW9uVHlwZShjaGlsZHJlbiwgc3RhdGUubWF5YmVDb21wb25lbnQpXG4gICAgICA6IDA7XG4gICAgdmFyIGdlbiA9IGFsdEdlbk5vZGUgfHwgZ2VuTm9kZTtcbiAgICByZXR1cm4gKFwiW1wiICsgKGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gZ2VuKGMsIHN0YXRlKTsgfSkuam9pbignLCcpKSArIFwiXVwiICsgKG5vcm1hbGl6YXRpb25UeXBlJDEgPyAoXCIsXCIgKyBub3JtYWxpemF0aW9uVHlwZSQxKSA6ICcnKSlcbiAgfVxufVxuXG4vLyBkZXRlcm1pbmUgdGhlIG5vcm1hbGl6YXRpb24gbmVlZGVkIGZvciB0aGUgY2hpbGRyZW4gYXJyYXkuXG4vLyAwOiBubyBub3JtYWxpemF0aW9uIG5lZWRlZFxuLy8gMTogc2ltcGxlIG5vcm1hbGl6YXRpb24gbmVlZGVkIChwb3NzaWJsZSAxLWxldmVsIGRlZXAgbmVzdGVkIGFycmF5KVxuLy8gMjogZnVsbCBub3JtYWxpemF0aW9uIG5lZWRlZFxuZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvblR5cGUgKFxuICBjaGlsZHJlbixcbiAgbWF5YmVDb21wb25lbnRcbikge1xuICB2YXIgcmVzID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChlbC50eXBlICE9PSAxKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBpZiAobmVlZHNOb3JtYWxpemF0aW9uKGVsKSB8fFxuICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBuZWVkc05vcm1hbGl6YXRpb24oYy5ibG9jayk7IH0pKSkge1xuICAgICAgcmVzID0gMjtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmIChtYXliZUNvbXBvbmVudChlbCkgfHxcbiAgICAgICAgKGVsLmlmQ29uZGl0aW9ucyAmJiBlbC5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbiAoYykgeyByZXR1cm4gbWF5YmVDb21wb25lbnQoYy5ibG9jayk7IH0pKSkge1xuICAgICAgcmVzID0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBuZWVkc05vcm1hbGl6YXRpb24gKGVsKSB7XG4gIHJldHVybiBlbC5mb3IgIT09IHVuZGVmaW5lZCB8fCBlbC50YWcgPT09ICd0ZW1wbGF0ZScgfHwgZWwudGFnID09PSAnc2xvdCdcbn1cblxuZnVuY3Rpb24gZ2VuTm9kZSAobm9kZSwgc3RhdGUpIHtcbiAgaWYgKG5vZGUudHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBnZW5FbGVtZW50KG5vZGUsIHN0YXRlKVxuICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMyAmJiBub2RlLmlzQ29tbWVudCkge1xuICAgIHJldHVybiBnZW5Db21tZW50KG5vZGUpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdlblRleHQobm9kZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5UZXh0ICh0ZXh0KSB7XG4gIHJldHVybiAoXCJfdihcIiArICh0ZXh0LnR5cGUgPT09IDJcbiAgICA/IHRleHQuZXhwcmVzc2lvbiAvLyBubyBuZWVkIGZvciAoKSBiZWNhdXNlIGFscmVhZHkgd3JhcHBlZCBpbiBfcygpXG4gICAgOiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMoSlNPTi5zdHJpbmdpZnkodGV4dC50ZXh0KSkpICsgXCIpXCIpXG59XG5cbmZ1bmN0aW9uIGdlbkNvbW1lbnQgKGNvbW1lbnQpIHtcbiAgcmV0dXJuIChcIl9lKFwiICsgKEpTT04uc3RyaW5naWZ5KGNvbW1lbnQudGV4dCkpICsgXCIpXCIpXG59XG5cbmZ1bmN0aW9uIGdlblNsb3QgKGVsLCBzdGF0ZSkge1xuICB2YXIgc2xvdE5hbWUgPSBlbC5zbG90TmFtZSB8fCAnXCJkZWZhdWx0XCInO1xuICB2YXIgY2hpbGRyZW4gPSBnZW5DaGlsZHJlbihlbCwgc3RhdGUpO1xuICB2YXIgcmVzID0gXCJfdChcIiArIHNsb3ROYW1lICsgKGNoaWxkcmVuID8gKFwiLFwiICsgY2hpbGRyZW4pIDogJycpO1xuICB2YXIgYXR0cnMgPSBlbC5hdHRycyB8fCBlbC5keW5hbWljQXR0cnNcbiAgICA/IGdlblByb3BzKChlbC5hdHRycyB8fCBbXSkuY29uY2F0KGVsLmR5bmFtaWNBdHRycyB8fCBbXSkubWFwKGZ1bmN0aW9uIChhdHRyKSB7IHJldHVybiAoe1xuICAgICAgICAvLyBzbG90IHByb3BzIGFyZSBjYW1lbGl6ZWRcbiAgICAgICAgbmFtZTogY2FtZWxpemUoYXR0ci5uYW1lKSxcbiAgICAgICAgdmFsdWU6IGF0dHIudmFsdWUsXG4gICAgICAgIGR5bmFtaWM6IGF0dHIuZHluYW1pY1xuICAgICAgfSk7IH0pKVxuICAgIDogbnVsbDtcbiAgdmFyIGJpbmQkJDEgPSBlbC5hdHRyc01hcFsndi1iaW5kJ107XG4gIGlmICgoYXR0cnMgfHwgYmluZCQkMSkgJiYgIWNoaWxkcmVuKSB7XG4gICAgcmVzICs9IFwiLG51bGxcIjtcbiAgfVxuICBpZiAoYXR0cnMpIHtcbiAgICByZXMgKz0gXCIsXCIgKyBhdHRycztcbiAgfVxuICBpZiAoYmluZCQkMSkge1xuICAgIHJlcyArPSAoYXR0cnMgPyAnJyA6ICcsbnVsbCcpICsgXCIsXCIgKyBiaW5kJCQxO1xuICB9XG4gIHJldHVybiByZXMgKyAnKSdcbn1cblxuLy8gY29tcG9uZW50TmFtZSBpcyBlbC5jb21wb25lbnQsIHRha2UgaXQgYXMgYXJndW1lbnQgdG8gc2h1biBmbG93J3MgcGVzc2ltaXN0aWMgcmVmaW5lbWVudFxuZnVuY3Rpb24gZ2VuQ29tcG9uZW50IChcbiAgY29tcG9uZW50TmFtZSxcbiAgZWwsXG4gIHN0YXRlXG4pIHtcbiAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTtcbiAgcmV0dXJuIChcIl9jKFwiICsgY29tcG9uZW50TmFtZSArIFwiLFwiICsgKGdlbkRhdGEkMihlbCwgc3RhdGUpKSArIChjaGlsZHJlbiA/IChcIixcIiArIGNoaWxkcmVuKSA6ICcnKSArIFwiKVwiKVxufVxuXG5mdW5jdGlvbiBnZW5Qcm9wcyAocHJvcHMpIHtcbiAgdmFyIHN0YXRpY1Byb3BzID0gXCJcIjtcbiAgdmFyIGR5bmFtaWNQcm9wcyA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IHByb3BzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyhwcm9wLnZhbHVlKTtcbiAgICBpZiAocHJvcC5keW5hbWljKSB7XG4gICAgICBkeW5hbWljUHJvcHMgKz0gKHByb3AubmFtZSkgKyBcIixcIiArIHZhbHVlICsgXCIsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRpY1Byb3BzICs9IFwiXFxcIlwiICsgKHByb3AubmFtZSkgKyBcIlxcXCI6XCIgKyB2YWx1ZSArIFwiLFwiO1xuICAgIH1cbiAgfVxuICBzdGF0aWNQcm9wcyA9IFwie1wiICsgKHN0YXRpY1Byb3BzLnNsaWNlKDAsIC0xKSkgKyBcIn1cIjtcbiAgaWYgKGR5bmFtaWNQcm9wcykge1xuICAgIHJldHVybiAoXCJfZChcIiArIHN0YXRpY1Byb3BzICsgXCIsW1wiICsgKGR5bmFtaWNQcm9wcy5zbGljZSgwLCAtMSkpICsgXCJdKVwiKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0aWNQcm9wc1xuICB9XG59XG5cbi8vICMzODk1LCAjNDI2OFxuZnVuY3Rpb24gdHJhbnNmb3JtU3BlY2lhbE5ld2xpbmVzICh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0XG4gICAgLnJlcGxhY2UoL1xcdTIwMjgvZywgJ1xcXFx1MjAyOCcpXG4gICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgJ1xcXFx1MjAyOScpXG59XG5cbi8qICAqL1xuXG5cblxuLy8gdGhlc2Uga2V5d29yZHMgc2hvdWxkIG5vdCBhcHBlYXIgaW5zaWRlIGV4cHJlc3Npb25zLCBidXQgb3BlcmF0b3JzIGxpa2Vcbi8vIHR5cGVvZiwgaW5zdGFuY2VvZiBhbmQgaW4gYXJlIGFsbG93ZWRcbnZhciBwcm9oaWJpdGVkS2V5d29yZFJFID0gbmV3IFJlZ0V4cCgnXFxcXGInICsgKFxuICAnZG8saWYsZm9yLGxldCxuZXcsdHJ5LHZhcixjYXNlLGVsc2Usd2l0aCxhd2FpdCxicmVhayxjYXRjaCxjbGFzcyxjb25zdCwnICtcbiAgJ3N1cGVyLHRocm93LHdoaWxlLHlpZWxkLGRlbGV0ZSxleHBvcnQsaW1wb3J0LHJldHVybixzd2l0Y2gsZGVmYXVsdCwnICtcbiAgJ2V4dGVuZHMsZmluYWxseSxjb250aW51ZSxkZWJ1Z2dlcixmdW5jdGlvbixhcmd1bWVudHMnXG4pLnNwbGl0KCcsJykuam9pbignXFxcXGJ8XFxcXGInKSArICdcXFxcYicpO1xuXG4vLyB0aGVzZSB1bmFyeSBvcGVyYXRvcnMgc2hvdWxkIG5vdCBiZSB1c2VkIGFzIHByb3BlcnR5L21ldGhvZCBuYW1lc1xudmFyIHVuYXJ5T3BlcmF0b3JzUkUgPSBuZXcgUmVnRXhwKCdcXFxcYicgKyAoXG4gICdkZWxldGUsdHlwZW9mLHZvaWQnXG4pLnNwbGl0KCcsJykuam9pbignXFxcXHMqXFxcXChbXlxcXFwpXSpcXFxcKXxcXFxcYicpICsgJ1xcXFxzKlxcXFwoW15cXFxcKV0qXFxcXCknKTtcblxuLy8gc3RyaXAgc3RyaW5ncyBpbiBleHByZXNzaW9uc1xudmFyIHN0cmlwU3RyaW5nUkUgPSAvJyg/OlteJ1xcXFxdfFxcXFwuKSonfFwiKD86W15cIlxcXFxdfFxcXFwuKSpcInxgKD86W15gXFxcXF18XFxcXC4pKlxcJFxce3xcXH0oPzpbXmBcXFxcXXxcXFxcLikqYHxgKD86W15gXFxcXF18XFxcXC4pKmAvZztcblxuLy8gZGV0ZWN0IHByb2JsZW1hdGljIGV4cHJlc3Npb25zIGluIGEgdGVtcGxhdGVcbmZ1bmN0aW9uIGRldGVjdEVycm9ycyAoYXN0LCB3YXJuKSB7XG4gIGlmIChhc3QpIHtcbiAgICBjaGVja05vZGUoYXN0LCB3YXJuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja05vZGUgKG5vZGUsIHdhcm4pIHtcbiAgaWYgKG5vZGUudHlwZSA9PT0gMSkge1xuICAgIGZvciAodmFyIG5hbWUgaW4gbm9kZS5hdHRyc01hcCkge1xuICAgICAgaWYgKGRpclJFLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbm9kZS5hdHRyc01hcFtuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJhbmdlID0gbm9kZS5yYXdBdHRyc01hcFtuYW1lXTtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gJ3YtZm9yJykge1xuICAgICAgICAgICAgY2hlY2tGb3Iobm9kZSwgKFwidi1mb3I9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIiksIHdhcm4sIHJhbmdlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9uUkUudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgY2hlY2tFdmVudCh2YWx1ZSwgKG5hbWUgKyBcIj1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIlwiKSwgd2FybiwgcmFuZ2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja0V4cHJlc3Npb24odmFsdWUsIChuYW1lICsgXCI9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIiksIHdhcm4sIHJhbmdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGVja05vZGUobm9kZS5jaGlsZHJlbltpXSwgd2Fybik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMikge1xuICAgIGNoZWNrRXhwcmVzc2lvbihub2RlLmV4cHJlc3Npb24sIG5vZGUudGV4dCwgd2Fybiwgbm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tFdmVudCAoZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSkge1xuICB2YXIgc3RpcHBlZCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKTtcbiAgdmFyIGtleXdvcmRNYXRjaCA9IHN0aXBwZWQubWF0Y2godW5hcnlPcGVyYXRvcnNSRSk7XG4gIGlmIChrZXl3b3JkTWF0Y2ggJiYgc3RpcHBlZC5jaGFyQXQoa2V5d29yZE1hdGNoLmluZGV4IC0gMSkgIT09ICckJykge1xuICAgIHdhcm4oXG4gICAgICBcImF2b2lkIHVzaW5nIEphdmFTY3JpcHQgdW5hcnkgb3BlcmF0b3IgYXMgcHJvcGVydHkgbmFtZTogXCIgK1xuICAgICAgXCJcXFwiXCIgKyAoa2V5d29yZE1hdGNoWzBdKSArIFwiXFxcIiBpbiBleHByZXNzaW9uIFwiICsgKHRleHQudHJpbSgpKSxcbiAgICAgIHJhbmdlXG4gICAgKTtcbiAgfVxuICBjaGVja0V4cHJlc3Npb24oZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yIChub2RlLCB0ZXh0LCB3YXJuLCByYW5nZSkge1xuICBjaGVja0V4cHJlc3Npb24obm9kZS5mb3IgfHwgJycsIHRleHQsIHdhcm4sIHJhbmdlKTtcbiAgY2hlY2tJZGVudGlmaWVyKG5vZGUuYWxpYXMsICd2LWZvciBhbGlhcycsIHRleHQsIHdhcm4sIHJhbmdlKTtcbiAgY2hlY2tJZGVudGlmaWVyKG5vZGUuaXRlcmF0b3IxLCAndi1mb3IgaXRlcmF0b3InLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG4gIGNoZWNrSWRlbnRpZmllcihub2RlLml0ZXJhdG9yMiwgJ3YtZm9yIGl0ZXJhdG9yJywgdGV4dCwgd2FybiwgcmFuZ2UpO1xufVxuXG5mdW5jdGlvbiBjaGVja0lkZW50aWZpZXIgKFxuICBpZGVudCxcbiAgdHlwZSxcbiAgdGV4dCxcbiAgd2FybixcbiAgcmFuZ2Vcbikge1xuICBpZiAodHlwZW9mIGlkZW50ID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBuZXcgRnVuY3Rpb24oKFwidmFyIFwiICsgaWRlbnQgKyBcIj1fXCIpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB3YXJuKChcImludmFsaWQgXCIgKyB0eXBlICsgXCIgXFxcIlwiICsgaWRlbnQgKyBcIlxcXCIgaW4gZXhwcmVzc2lvbjogXCIgKyAodGV4dC50cmltKCkpKSwgcmFuZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0V4cHJlc3Npb24gKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcbiAgdHJ5IHtcbiAgICBuZXcgRnVuY3Rpb24oKFwicmV0dXJuIFwiICsgZXhwKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIga2V5d29yZE1hdGNoID0gZXhwLnJlcGxhY2Uoc3RyaXBTdHJpbmdSRSwgJycpLm1hdGNoKHByb2hpYml0ZWRLZXl3b3JkUkUpO1xuICAgIGlmIChrZXl3b3JkTWF0Y2gpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIFwiYXZvaWQgdXNpbmcgSmF2YVNjcmlwdCBrZXl3b3JkIGFzIHByb3BlcnR5IG5hbWU6IFwiICtcbiAgICAgICAgXCJcXFwiXCIgKyAoa2V5d29yZE1hdGNoWzBdKSArIFwiXFxcIlxcbiAgUmF3IGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSxcbiAgICAgICAgcmFuZ2VcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIFwiaW52YWxpZCBleHByZXNzaW9uOiBcIiArIChlLm1lc3NhZ2UpICsgXCIgaW5cXG5cXG5cIiArXG4gICAgICAgIFwiICAgIFwiICsgZXhwICsgXCJcXG5cXG5cIiArXG4gICAgICAgIFwiICBSYXcgZXhwcmVzc2lvbjogXCIgKyAodGV4dC50cmltKCkpICsgXCJcXG5cIixcbiAgICAgICAgcmFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgcmFuZ2UgPSAyO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZSAoXG4gIHNvdXJjZSxcbiAgc3RhcnQsXG4gIGVuZFxuKSB7XG4gIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0ID0gMDtcbiAgaWYgKCBlbmQgPT09IHZvaWQgMCApIGVuZCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgdmFyIGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XG4gICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICBmb3IgKHZhciBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aCkgeyBjb250aW51ZSB9XG4gICAgICAgIHJlcy5wdXNoKChcIlwiICsgKGogKyAxKSArIChyZXBlYXQkMShcIiBcIiwgMyAtIFN0cmluZyhqICsgMSkubGVuZ3RoKSkgKyBcInwgIFwiICsgKGxpbmVzW2pdKSkpO1xuICAgICAgICB2YXIgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICAvLyBwdXNoIHVuZGVybGluZVxuICAgICAgICAgIHZhciBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQ7XG4gICAgICAgICAgcmVzLnB1c2goXCIgICB8ICBcIiArIHJlcGVhdCQxKFwiIFwiLCBwYWQpICsgcmVwZWF0JDEoXCJeXCIsIGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoJDEgPSBNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCk7XG4gICAgICAgICAgICByZXMucHVzaChcIiAgIHwgIFwiICsgcmVwZWF0JDEoXCJeXCIsIGxlbmd0aCQxKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpXG59XG5cbmZ1bmN0aW9uIHJlcGVhdCQxIChzdHIsIG4pIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAobiA+IDApIHtcbiAgICB3aGlsZSAodHJ1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBpZiAobiAmIDEpIHsgcmVzdWx0ICs9IHN0cjsgfVxuICAgICAgbiA+Pj49IDE7XG4gICAgICBpZiAobiA8PSAwKSB7IGJyZWFrIH1cbiAgICAgIHN0ciArPSBzdHI7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLyogICovXG5cblxuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbiAoY29kZSwgZXJyb3JzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihjb2RlKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlcnJvcnMucHVzaCh7IGVycjogZXJyLCBjb2RlOiBjb2RlIH0pO1xuICAgIHJldHVybiBub29wXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZVRvRnVuY3Rpb25GbiAoY29tcGlsZSkge1xuICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBjb21waWxlVG9GdW5jdGlvbnMgKFxuICAgIHRlbXBsYXRlLFxuICAgIG9wdGlvbnMsXG4gICAgdm1cbiAgKSB7XG4gICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgdmFyIHdhcm4kJDEgPSBvcHRpb25zLndhcm4gfHwgd2FybjtcbiAgICBkZWxldGUgb3B0aW9ucy53YXJuO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIGRldGVjdCBwb3NzaWJsZSBDU1AgcmVzdHJpY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBGdW5jdGlvbigncmV0dXJuIDEnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUudG9TdHJpbmcoKS5tYXRjaCgvdW5zYWZlLWV2YWx8Q1NQLykpIHtcbiAgICAgICAgICB3YXJuJCQxKFxuICAgICAgICAgICAgJ0l0IHNlZW1zIHlvdSBhcmUgdXNpbmcgdGhlIHN0YW5kYWxvbmUgYnVpbGQgb2YgVnVlLmpzIGluIGFuICcgK1xuICAgICAgICAgICAgJ2Vudmlyb25tZW50IHdpdGggQ29udGVudCBTZWN1cml0eSBQb2xpY3kgdGhhdCBwcm9oaWJpdHMgdW5zYWZlLWV2YWwuICcgK1xuICAgICAgICAgICAgJ1RoZSB0ZW1wbGF0ZSBjb21waWxlciBjYW5ub3Qgd29yayBpbiB0aGlzIGVudmlyb25tZW50LiBDb25zaWRlciAnICtcbiAgICAgICAgICAgICdyZWxheGluZyB0aGUgcG9saWN5IHRvIGFsbG93IHVuc2FmZS1ldmFsIG9yIHByZS1jb21waWxpbmcgeW91ciAnICtcbiAgICAgICAgICAgICd0ZW1wbGF0ZXMgaW50byByZW5kZXIgZnVuY3Rpb25zLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgY2FjaGVcbiAgICB2YXIga2V5ID0gb3B0aW9ucy5kZWxpbWl0ZXJzXG4gICAgICA/IFN0cmluZyhvcHRpb25zLmRlbGltaXRlcnMpICsgdGVtcGxhdGVcbiAgICAgIDogdGVtcGxhdGU7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHJldHVybiBjYWNoZVtrZXldXG4gICAgfVxuXG4gICAgLy8gY29tcGlsZVxuICAgIHZhciBjb21waWxlZCA9IGNvbXBpbGUodGVtcGxhdGUsIG9wdGlvbnMpO1xuXG4gICAgLy8gY2hlY2sgY29tcGlsYXRpb24gZXJyb3JzL3RpcHNcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGNvbXBpbGVkLmVycm9ycyAmJiBjb21waWxlZC5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgY29tcGlsZWQuZXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgICAgIFwiRXJyb3IgY29tcGlsaW5nIHRlbXBsYXRlOlxcblxcblwiICsgKGUubXNnKSArIFwiXFxuXFxuXCIgK1xuICAgICAgICAgICAgICBnZW5lcmF0ZUNvZGVGcmFtZSh0ZW1wbGF0ZSwgZS5zdGFydCwgZS5lbmQpLFxuICAgICAgICAgICAgICB2bVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuJCQxKFxuICAgICAgICAgICAgXCJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XFxuXFxuXCIgKyB0ZW1wbGF0ZSArIFwiXFxuXFxuXCIgK1xuICAgICAgICAgICAgY29tcGlsZWQuZXJyb3JzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gKFwiLSBcIiArIGUpOyB9KS5qb2luKCdcXG4nKSArICdcXG4nLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29tcGlsZWQudGlwcyAmJiBjb21waWxlZC50aXBzLmxlbmd0aCkge1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xuICAgICAgICAgIGNvbXBpbGVkLnRpcHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGlwKGUubXNnLCB2bSk7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbXBpbGVkLnRpcHMuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7IHJldHVybiB0aXAobXNnLCB2bSk7IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdHVybiBjb2RlIGludG8gZnVuY3Rpb25zXG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIHZhciBmbkdlbkVycm9ycyA9IFtdO1xuICAgIHJlcy5yZW5kZXIgPSBjcmVhdGVGdW5jdGlvbihjb21waWxlZC5yZW5kZXIsIGZuR2VuRXJyb3JzKTtcbiAgICByZXMuc3RhdGljUmVuZGVyRm5zID0gY29tcGlsZWQuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uKGNvZGUsIGZuR2VuRXJyb3JzKVxuICAgIH0pO1xuXG4gICAgLy8gY2hlY2sgZnVuY3Rpb24gZ2VuZXJhdGlvbiBlcnJvcnMuXG4gICAgLy8gdGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlcmUgaXMgYSBidWcgaW4gdGhlIGNvbXBpbGVyIGl0c2VsZi5cbiAgICAvLyBtb3N0bHkgZm9yIGNvZGVnZW4gZGV2ZWxvcG1lbnQgdXNlXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICgoIWNvbXBpbGVkLmVycm9ycyB8fCAhY29tcGlsZWQuZXJyb3JzLmxlbmd0aCkgJiYgZm5HZW5FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmVuZGVyIGZ1bmN0aW9uOlxcblxcblwiICtcbiAgICAgICAgICBmbkdlbkVycm9ycy5tYXAoZnVuY3Rpb24gKHJlZikge1xuICAgICAgICAgICAgdmFyIGVyciA9IHJlZi5lcnI7XG4gICAgICAgICAgICB2YXIgY29kZSA9IHJlZi5jb2RlO1xuXG4gICAgICAgICAgICByZXR1cm4gKChlcnIudG9TdHJpbmcoKSkgKyBcIiBpblxcblxcblwiICsgY29kZSArIFwiXFxuXCIpO1xuICAgICAgICB9KS5qb2luKCdcXG4nKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoY2FjaGVba2V5XSA9IHJlcylcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZXJDcmVhdG9yIChiYXNlQ29tcGlsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ29tcGlsZXIgKGJhc2VPcHRpb25zKSB7XG4gICAgZnVuY3Rpb24gY29tcGlsZSAoXG4gICAgICB0ZW1wbGF0ZSxcbiAgICAgIG9wdGlvbnNcbiAgICApIHtcbiAgICAgIHZhciBmaW5hbE9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKGJhc2VPcHRpb25zKTtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgIHZhciB0aXBzID0gW107XG5cbiAgICAgIHZhciB3YXJuID0gZnVuY3Rpb24gKG1zZywgcmFuZ2UsIHRpcCkge1xuICAgICAgICAodGlwID8gdGlwcyA6IGVycm9ycykucHVzaChtc2cpO1xuICAgICAgfTtcblxuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgb3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xuICAgICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgICAgIHZhciBsZWFkaW5nU3BhY2VMZW5ndGggPSB0ZW1wbGF0ZS5tYXRjaCgvXlxccyovKVswXS5sZW5ndGg7XG5cbiAgICAgICAgICB3YXJuID0gZnVuY3Rpb24gKG1zZywgcmFuZ2UsIHRpcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7IG1zZzogbXNnIH07XG4gICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJhbmdlLmVuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5lbmQgPSByYW5nZS5lbmQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKGRhdGEpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVyZ2UgY3VzdG9tIG1vZHVsZXNcbiAgICAgICAgaWYgKG9wdGlvbnMubW9kdWxlcykge1xuICAgICAgICAgIGZpbmFsT3B0aW9ucy5tb2R1bGVzID1cbiAgICAgICAgICAgIChiYXNlT3B0aW9ucy5tb2R1bGVzIHx8IFtdKS5jb25jYXQob3B0aW9ucy5tb2R1bGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBjdXN0b20gZGlyZWN0aXZlc1xuICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3RpdmVzKSB7XG4gICAgICAgICAgZmluYWxPcHRpb25zLmRpcmVjdGl2ZXMgPSBleHRlbmQoXG4gICAgICAgICAgICBPYmplY3QuY3JlYXRlKGJhc2VPcHRpb25zLmRpcmVjdGl2ZXMgfHwgbnVsbCksXG4gICAgICAgICAgICBvcHRpb25zLmRpcmVjdGl2ZXNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgb3RoZXIgb3B0aW9uc1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICAgIGlmIChrZXkgIT09ICdtb2R1bGVzJyAmJiBrZXkgIT09ICdkaXJlY3RpdmVzJykge1xuICAgICAgICAgICAgZmluYWxPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZpbmFsT3B0aW9ucy53YXJuID0gd2FybjtcblxuICAgICAgdmFyIGNvbXBpbGVkID0gYmFzZUNvbXBpbGUodGVtcGxhdGUudHJpbSgpLCBmaW5hbE9wdGlvbnMpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZGV0ZWN0RXJyb3JzKGNvbXBpbGVkLmFzdCwgd2Fybik7XG4gICAgICB9XG4gICAgICBjb21waWxlZC5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICBjb21waWxlZC50aXBzID0gdGlwcztcbiAgICAgIHJldHVybiBjb21waWxlZFxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjb21waWxlOiBjb21waWxlLFxuICAgICAgY29tcGlsZVRvRnVuY3Rpb25zOiBjcmVhdGVDb21waWxlVG9GdW5jdGlvbkZuKGNvbXBpbGUpXG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG4vLyBgY3JlYXRlQ29tcGlsZXJDcmVhdG9yYCBhbGxvd3MgY3JlYXRpbmcgY29tcGlsZXJzIHRoYXQgdXNlIGFsdGVybmF0aXZlXG4vLyBwYXJzZXIvb3B0aW1pemVyL2NvZGVnZW4sIGUuZyB0aGUgU1NSIG9wdGltaXppbmcgY29tcGlsZXIuXG4vLyBIZXJlIHdlIGp1c3QgZXhwb3J0IGEgZGVmYXVsdCBjb21waWxlciB1c2luZyB0aGUgZGVmYXVsdCBwYXJ0cy5cbnZhciBjcmVhdGVDb21waWxlciA9IGNyZWF0ZUNvbXBpbGVyQ3JlYXRvcihmdW5jdGlvbiBiYXNlQ29tcGlsZSAoXG4gIHRlbXBsYXRlLFxuICBvcHRpb25zXG4pIHtcbiAgdmFyIGFzdCA9IHBhcnNlKHRlbXBsYXRlLnRyaW0oKSwgb3B0aW9ucyk7XG4gIGlmIChvcHRpb25zLm9wdGltaXplICE9PSBmYWxzZSkge1xuICAgIG9wdGltaXplKGFzdCwgb3B0aW9ucyk7XG4gIH1cbiAgdmFyIGNvZGUgPSBnZW5lcmF0ZShhc3QsIG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIGFzdDogYXN0LFxuICAgIHJlbmRlcjogY29kZS5yZW5kZXIsXG4gICAgc3RhdGljUmVuZGVyRm5zOiBjb2RlLnN0YXRpY1JlbmRlckZuc1xuICB9XG59KTtcblxuLyogICovXG5cbnZhciByZWYkMSA9IGNyZWF0ZUNvbXBpbGVyKGJhc2VPcHRpb25zKTtcbnZhciBjb21waWxlID0gcmVmJDEuY29tcGlsZTtcbnZhciBjb21waWxlVG9GdW5jdGlvbnMgPSByZWYkMS5jb21waWxlVG9GdW5jdGlvbnM7XG5cbi8qICAqL1xuXG4vLyBjaGVjayB3aGV0aGVyIGN1cnJlbnQgYnJvd3NlciBlbmNvZGVzIGEgY2hhciBpbnNpZGUgYXR0cmlidXRlIHZhbHVlc1xudmFyIGRpdjtcbmZ1bmN0aW9uIGdldFNob3VsZERlY29kZSAoaHJlZikge1xuICBkaXYgPSBkaXYgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSBocmVmID8gXCI8YSBocmVmPVxcXCJcXG5cXFwiLz5cIiA6IFwiPGRpdiBhPVxcXCJcXG5cXFwiLz5cIjtcbiAgcmV0dXJuIGRpdi5pbm5lckhUTUwuaW5kZXhPZignJiMxMDsnKSA+IDBcbn1cblxuLy8gIzM2NjM6IElFIGVuY29kZXMgbmV3bGluZXMgaW5zaWRlIGF0dHJpYnV0ZSB2YWx1ZXMgd2hpbGUgb3RoZXIgYnJvd3NlcnMgZG9uJ3RcbnZhciBzaG91bGREZWNvZGVOZXdsaW5lcyA9IGluQnJvd3NlciA/IGdldFNob3VsZERlY29kZShmYWxzZSkgOiBmYWxzZTtcbi8vICM2ODI4OiBjaHJvbWUgZW5jb2RlcyBjb250ZW50IGluIGFbaHJlZl1cbnZhciBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYgPSBpbkJyb3dzZXIgPyBnZXRTaG91bGREZWNvZGUodHJ1ZSkgOiBmYWxzZTtcblxuLyogICovXG5cbnZhciBpZFRvVGVtcGxhdGUgPSBjYWNoZWQoZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBlbCA9IHF1ZXJ5KGlkKTtcbiAgcmV0dXJuIGVsICYmIGVsLmlubmVySFRNTFxufSk7XG5cbnZhciBtb3VudCA9IFZ1ZS5wcm90b3R5cGUuJG1vdW50O1xuVnVlLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoXG4gIGVsLFxuICBoeWRyYXRpbmdcbikge1xuICBlbCA9IGVsICYmIHF1ZXJ5KGVsKTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGVsID09PSBkb2N1bWVudC5ib2R5IHx8IGVsID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIkRvIG5vdCBtb3VudCBWdWUgdG8gPGh0bWw+IG9yIDxib2R5PiAtIG1vdW50IHRvIG5vcm1hbCBlbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgKTtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAvLyByZXNvbHZlIHRlbXBsYXRlL2VsIGFuZCBjb252ZXJ0IHRvIHJlbmRlciBmdW5jdGlvblxuICBpZiAoIW9wdGlvbnMucmVuZGVyKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gb3B0aW9ucy50ZW1wbGF0ZTtcbiAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZS5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICAgIHRlbXBsYXRlID0gaWRUb1RlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgIChcIlRlbXBsYXRlIGVsZW1lbnQgbm90IGZvdW5kIG9yIGlzIGVtcHR5OiBcIiArIChvcHRpb25zLnRlbXBsYXRlKSksXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlLm5vZGVUeXBlKSB7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuaW5uZXJIVE1MO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuKCdpbnZhbGlkIHRlbXBsYXRlIG9wdGlvbjonICsgdGVtcGxhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbCkge1xuICAgICAgdGVtcGxhdGUgPSBnZXRPdXRlckhUTUwoZWwpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcbiAgICAgICAgbWFyaygnY29tcGlsZScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVmID0gY29tcGlsZVRvRnVuY3Rpb25zKHRlbXBsYXRlLCB7XG4gICAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogc2hvdWxkRGVjb2RlTmV3bGluZXMsXG4gICAgICAgIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjogc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmLFxuICAgICAgICBkZWxpbWl0ZXJzOiBvcHRpb25zLmRlbGltaXRlcnMsXG4gICAgICAgIGNvbW1lbnRzOiBvcHRpb25zLmNvbW1lbnRzXG4gICAgICB9LCB0aGlzKTtcbiAgICAgIHZhciByZW5kZXIgPSByZWYucmVuZGVyO1xuICAgICAgdmFyIHN0YXRpY1JlbmRlckZucyA9IHJlZi5zdGF0aWNSZW5kZXJGbnM7XG4gICAgICBvcHRpb25zLnJlbmRlciA9IHJlbmRlcjtcbiAgICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gc3RhdGljUmVuZGVyRm5zO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XG4gICAgICAgIG1hcmsoJ2NvbXBpbGUgZW5kJyk7XG4gICAgICAgIG1lYXN1cmUoKFwidnVlIFwiICsgKHRoaXMuX25hbWUpICsgXCIgY29tcGlsZVwiKSwgJ2NvbXBpbGUnLCAnY29tcGlsZSBlbmQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vdW50LmNhbGwodGhpcywgZWwsIGh5ZHJhdGluZylcbn07XG5cbi8qKlxuICogR2V0IG91dGVySFRNTCBvZiBlbGVtZW50cywgdGFraW5nIGNhcmVcbiAqIG9mIFNWRyBlbGVtZW50cyBpbiBJRSBhcyB3ZWxsLlxuICovXG5mdW5jdGlvbiBnZXRPdXRlckhUTUwgKGVsKSB7XG4gIGlmIChlbC5vdXRlckhUTUwpIHtcbiAgICByZXR1cm4gZWwub3V0ZXJIVE1MXG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIHJldHVybiBjb250YWluZXIuaW5uZXJIVE1MXG4gIH1cbn1cblxuVnVlLmNvbXBpbGUgPSBjb21waWxlVG9GdW5jdGlvbnM7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZTtcbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2FwcC9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMyKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIGVxdWFsIHRvIG1lcmdlIHdpdGggdGhlIGRpZmZlcmVuY2UgYmVpbmcgdGhhdCBubyByZWZlcmVuY2VcbiAqIHRvIG9yaWdpbmFsIG9iamVjdHMgaXMga2VwdC5cbiAqXG4gKiBAc2VlIG1lcmdlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZGVlcE1lcmdlOiBkZWVwTWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwidnVlXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInZ1ZVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJWdWV0aWZ5XCJdID0gZmFjdG9yeShyZXF1aXJlKFwidnVlXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJWdWV0aWZ5XCJdID0gZmFjdG9yeShyb290W1wiVnVlXCJdKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3Z1ZV9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LnRzXCIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkFsZXJ0L1ZBbGVydC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkFsZXJ0L1ZBbGVydC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBbGVydC9WQWxlcnQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkFsZXJ0L1ZBbGVydC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFsZXJ0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkFsZXJ0LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBbGVydC9WQWxlcnQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFsZXJ0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkFsZXJ0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNoZWV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdG9nZ2xlYWJsZSAqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RyYW5zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdHJhbnNpdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvdHJhbnNpdGlvbmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBDb21wb25lbnRzXG5cblxuIC8vIE1peGluc1xuXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKShfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdHJhbnNpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWFsZXJ0JyxcbiAgcHJvcHM6IHtcbiAgICBib3JkZXI6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuICAgICAgICByZXR1cm4gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmNsdWRlcyh2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvc2VMYWJlbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5LmNsb3NlJ1xuICAgIH0sXG4gICAgY29sb3JlZEJvcmRlcjogQm9vbGVhbixcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICBkaXNtaXNzaWJsZTogQm9vbGVhbixcbiAgICBpY29uOiB7XG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCB2YWwgPT09IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgb3V0bGluZWQ6IEJvb2xlYW4sXG4gICAgcHJvbWluZW50OiBCb29sZWFuLFxuICAgIHRleHQ6IEJvb2xlYW4sXG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiBbJ2luZm8nLCAnZXJyb3InLCAnc3VjY2VzcycsICd3YXJuaW5nJ10uaW5jbHVkZXModmFsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBfX2NhY2hlZEJvcmRlcjogZnVuY3Rpb24gX19jYWNoZWRCb3JkZXIoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmICghdGhpcy5ib3JkZXIpIHJldHVybiBudWxsO1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1hbGVydF9fYm9yZGVyJyxcbiAgICAgICAgY2xhc3M6IChfYSA9IHt9LCBfYVtcInYtYWxlcnRfX2JvcmRlci0tXCIgKyB0aGlzLmJvcmRlcl0gPSB0cnVlLCBfYSlcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmNvbG9yZWRCb3JkZXIpIHtcbiAgICAgICAgZGF0YSA9IHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29tcHV0ZWRDb2xvciwgZGF0YSk7XG4gICAgICAgIGRhdGEuY2xhc3NbJ3YtYWxlcnRfX2JvcmRlci0taGFzLWNvbG9yJ10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgZGF0YSk7XG4gICAgfSxcbiAgICBfX2NhY2hlZERpc21pc3NpYmxlOiBmdW5jdGlvbiBfX2NhY2hlZERpc21pc3NpYmxlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmRpc21pc3NpYmxlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBjb2xvciA9IHRoaXMuaWNvbkNvbG9yO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWFsZXJ0X19kaXNtaXNzaWJsZScsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgIGljb246IHRydWUsXG4gICAgICAgICAgc21hbGw6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMuY2xvc2VMYWJlbClcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICB9XG4gICAgICB9LCAnJGNhbmNlbCcpXSk7XG4gICAgfSxcbiAgICBfX2NhY2hlZEljb246IGZ1bmN0aW9uIF9fY2FjaGVkSWNvbigpIHtcbiAgICAgIGlmICghdGhpcy5jb21wdXRlZEljb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1hbGVydF9faWNvbicsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMuaWNvbkNvbG9yXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuY29tcHV0ZWRJY29uKTtcbiAgICB9LFxuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IF9fYXNzaWduKHt9LCBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWFsZXJ0LS1ib3JkZXInOiBCb29sZWFuKHRoaXMuYm9yZGVyKSxcbiAgICAgICAgJ3YtYWxlcnQtLWRlbnNlJzogdGhpcy5kZW5zZSxcbiAgICAgICAgJ3YtYWxlcnQtLW91dGxpbmVkJzogdGhpcy5vdXRsaW5lZCxcbiAgICAgICAgJ3YtYWxlcnQtLXByb21pbmVudCc6IHRoaXMucHJvbWluZW50LFxuICAgICAgICAndi1hbGVydC0tdGV4dCc6IHRoaXMudGV4dFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmJvcmRlcikge1xuICAgICAgICBjbGFzc2VzW1widi1hbGVydC0tYm9yZGVyLVwiICsgdGhpcy5ib3JkZXJdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgfSxcbiAgICBjb21wdXRlZENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZENvbG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sb3IgfHwgdGhpcy50eXBlO1xuICAgIH0sXG4gICAgY29tcHV0ZWRJY29uOiBmdW5jdGlvbiBjb21wdXRlZEljb24oKSB7XG4gICAgICBpZiAodGhpcy5pY29uID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmljb24gPT09ICdzdHJpbmcnICYmIHRoaXMuaWNvbikgcmV0dXJuIHRoaXMuaWNvbjtcbiAgICAgIGlmICghWydlcnJvcicsICdpbmZvJywgJ3N1Y2Nlc3MnLCAnd2FybmluZyddLmluY2x1ZGVzKHRoaXMudHlwZSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBcIiRcIiArIHRoaXMudHlwZTtcbiAgICB9LFxuICAgIGhhc0NvbG9yZWRJY29uOiBmdW5jdGlvbiBoYXNDb2xvcmVkSWNvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc1RleHQgfHwgQm9vbGVhbih0aGlzLmJvcmRlcikgJiYgdGhpcy5jb2xvcmVkQm9yZGVyO1xuICAgIH0sXG4gICAgaGFzVGV4dDogZnVuY3Rpb24gaGFzVGV4dCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQgfHwgdGhpcy5vdXRsaW5lZDtcbiAgICB9LFxuICAgIGljb25Db2xvcjogZnVuY3Rpb24gaWNvbkNvbG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQ29sb3JlZEljb24gPyB0aGlzLmNvbXB1dGVkQ29sb3IgOiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Rhcms6IGZ1bmN0aW9uIGlzRGFyaygpIHtcbiAgICAgIGlmICh0aGlzLnR5cGUgJiYgIXRoaXMuY29sb3JlZEJvcmRlciAmJiAhdGhpcy5vdXRsaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5pc0RhcmsuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkoJ291dGxpbmUnKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImJyZWFraW5nXCJdKSgnb3V0bGluZScsICdvdXRsaW5lZCcsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbldyYXBwZXI6IGZ1bmN0aW9uIGdlbldyYXBwZXIoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy4kc2xvdHMucHJlcGVuZCB8fCB0aGlzLl9fY2FjaGVkSWNvbiwgdGhpcy5nZW5Db250ZW50KCksIHRoaXMuX19jYWNoZWRCb3JkZXIsIHRoaXMuJHNsb3RzLmFwcGVuZCwgdGhpcy4kc2NvcGVkU2xvdHMuY2xvc2UgPyB0aGlzLiRzY29wZWRTbG90cy5jbG9zZSh7XG4gICAgICAgIHRvZ2dsZTogdGhpcy50b2dnbGVcbiAgICAgIH0pIDogdGhpcy5fX2NhY2hlZERpc21pc3NpYmxlXTtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtYWxlcnRfX3dyYXBwZXInXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGRhdGEsIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIGdlbkNvbnRlbnQ6IGZ1bmN0aW9uIGdlbkNvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtYWxlcnRfX2NvbnRlbnQnXG4gICAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgICB9LFxuICAgIGdlbkFsZXJ0OiBmdW5jdGlvbiBnZW5BbGVydCgpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtYWxlcnQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHJvbGU6ICdhbGVydCdcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzLFxuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICdzaG93JyxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5pc0FjdGl2ZVxuICAgICAgICB9XVxuICAgICAgfTtcblxuICAgICAgaWYgKCF0aGlzLmNvbG9yZWRCb3JkZXIpIHtcbiAgICAgICAgdmFyIHNldENvbG9yID0gdGhpcy5oYXNUZXh0ID8gdGhpcy5zZXRUZXh0Q29sb3IgOiB0aGlzLnNldEJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgZGF0YSA9IHNldENvbG9yKHRoaXMuY29tcHV0ZWRDb2xvciwgZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCBkYXRhLCBbdGhpcy5nZW5XcmFwcGVyKCldKTtcbiAgICB9LFxuXG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSAhdGhpcy5pc0FjdGl2ZTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgcmVuZGVyID0gdGhpcy5nZW5BbGVydCgpO1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uKSByZXR1cm4gcmVuZGVyO1xuICAgIHJldHVybiBoKCd0cmFuc2l0aW9uJywge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZTogdGhpcy50cmFuc2l0aW9uLFxuICAgICAgICBvcmlnaW46IHRoaXMub3JpZ2luLFxuICAgICAgICBtb2RlOiB0aGlzLm1vZGVcbiAgICAgIH1cbiAgICB9LCBbcmVuZGVyXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQWxlcnQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQWxlcnQvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkFsZXJ0LCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQWxlcnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkFsZXJ0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQWxlcnQvVkFsZXJ0LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkFsZXJ0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZBbGVydF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WQWxlcnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHAvVkFwcC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQXBwL1ZBcHAuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHAvVkFwcC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBcHAvVkFwcC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXBwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkFwcC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwL1ZBcHAuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFwcF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZBcHBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIE1peGluc1xuXG4gLy8gVXRpbGl0aWVzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtYXBwJyxcbiAgcHJvcHM6IHtcbiAgICBkYXJrOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfSxcbiAgICBpZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2FwcCdcbiAgICB9LFxuICAgIGxpZ2h0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGlzRGFyazogZnVuY3Rpb24gaXNEYXJrKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyaztcbiAgICB9XG4gIH0sXG4gIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge1xuICAgIGlmICghdGhpcy4kdnVldGlmeSB8fCB0aGlzLiR2dWV0aWZ5ID09PSB0aGlzLiRyb290KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Z1ZXRpZnkgaXMgbm90IHByb3Blcmx5IGluaXRpYWxpemVkLCBzZWUgaHR0cHM6Ly92dWV0aWZ5anMuY29tL2dldHRpbmctc3RhcnRlZC9xdWljay1zdGFydCNib290c3RyYXBwaW5nLXRoZS12dWV0aWZ5LW9iamVjdCcpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciB3cmFwcGVyID0gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWFwcGxpY2F0aW9uLS13cmFwJ1xuICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtYXBwbGljYXRpb24nLFxuICAgICAgY2xhc3M6IF9fYXNzaWduKHtcbiAgICAgICAgJ3YtYXBwbGljYXRpb24tLWlzLXJ0bCc6IHRoaXMuJHZ1ZXRpZnkucnRsLFxuICAgICAgICAndi1hcHBsaWNhdGlvbi0taXMtbHRyJzogIXRoaXMuJHZ1ZXRpZnkucnRsXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcyksXG4gICAgICBhdHRyczoge1xuICAgICAgICAnZGF0YS1hcHAnOiB0cnVlXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgaWQ6IHRoaXMuaWRcbiAgICAgIH1cbiAgICB9LCBbd3JhcHBlcl0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkFwcC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQXBwL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQXBwLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXBwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBcHAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHAvVkFwcC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZBcHBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkFwcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WQXBwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwQmFyL1ZBcHBCYXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkFwcEJhci9WQXBwQmFyLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwQmFyL1ZBcHBCYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQXBwQmFyL1ZBcHBCYXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFwcEJhcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBcHBCYXIuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkFwcEJhci9WQXBwQmFyLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBcHBCYXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQXBwQmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUb29sYmFyX1ZUb29sYmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WVG9vbGJhci9WVG9vbGJhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2xiYXIvVlRvb2xiYXIudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfc2Nyb2xsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3Njcm9sbCAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvc2Nyb2xsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYXBwbGljYXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYXBwbGljYXRpb25hYmxlICovIFwiLi9zcmMvbWl4aW5zL2FwcGxpY2F0aW9uYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Njcm9sbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zY3JvbGxhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Njcm9sbGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19zc3JfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zc3ItYm9vdGFibGUgKi8gXCIuL3NyYy9taXhpbnMvc3NyLWJvb3RhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RvZ2dsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdG9nZ2xlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIE1peGluc1xuXG5cblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0pKF9WVG9vbGJhcl9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19zY3JvbGxhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3Nzcl9ib290YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLCBPYmplY3QoX21peGluc19hcHBsaWNhdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKCd0b3AnLCBbJ2NsaXBwZWRMZWZ0JywgJ2NsaXBwZWRSaWdodCcsICdjb21wdXRlZEhlaWdodCcsICdpbnZlcnRlZFNjcm9sbCcsICdpc0V4dGVuZGVkJywgJ2lzUHJvbWluZW50JywgJ3ZhbHVlJ10pKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoe1xuICBuYW1lOiAndi1hcHAtYmFyJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIFNjcm9sbDogX2RpcmVjdGl2ZXNfc2Nyb2xsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgY2xpcHBlZExlZnQ6IEJvb2xlYW4sXG4gICAgY2xpcHBlZFJpZ2h0OiBCb29sZWFuLFxuICAgIGNvbGxhcHNlT25TY3JvbGw6IEJvb2xlYW4sXG4gICAgZWxldmF0ZU9uU2Nyb2xsOiBCb29sZWFuLFxuICAgIGZhZGVJbWdPblNjcm9sbDogQm9vbGVhbixcbiAgICBoaWRlT25TY3JvbGw6IEJvb2xlYW4sXG4gICAgaW52ZXJ0ZWRTY3JvbGw6IEJvb2xlYW4sXG4gICAgc2Nyb2xsT2ZmU2NyZWVuOiBCb29sZWFuLFxuICAgIHNocmlua09uU2Nyb2xsOiBCb29sZWFuLFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBY3RpdmU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGFwcGxpY2F0aW9uUHJvcGVydHk6IGZ1bmN0aW9uIGFwcGxpY2F0aW9uUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuYm90dG9tID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgICB9LFxuICAgIGNhblNjcm9sbDogZnVuY3Rpb24gY2FuU2Nyb2xsKCkge1xuICAgICAgcmV0dXJuIF9taXhpbnNfc2Nyb2xsYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNhblNjcm9sbC5jYWxsKHRoaXMpICYmICh0aGlzLmludmVydGVkU2Nyb2xsIHx8IHRoaXMuZWxldmF0ZU9uU2Nyb2xsIHx8IHRoaXMuaGlkZU9uU2Nyb2xsIHx8IHRoaXMuY29sbGFwc2VPblNjcm9sbCB8fCB0aGlzLmlzQm9vdGVkIHx8IC8vIElmIGZhbHNleSwgdXNlciBoYXMgcHJvdmlkZWQgYW5cbiAgICAgIC8vIGV4cGxpY2l0IHZhbHVlIHdoaWNoIHNob3VsZFxuICAgICAgLy8gb3ZlcndyaXRlIGFueXRoaW5nIHdlIGRvXG4gICAgICAhdGhpcy52YWx1ZSk7XG4gICAgfSxcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVlRvb2xiYXJfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtdG9vbGJhci0tY29sbGFwc2UnOiB0aGlzLmNvbGxhcHNlIHx8IHRoaXMuY29sbGFwc2VPblNjcm9sbCxcbiAgICAgICAgJ3YtYXBwLWJhcic6IHRydWUsXG4gICAgICAgICd2LWFwcC1iYXItLWNsaXBwZWQnOiB0aGlzLmNsaXBwZWRMZWZ0IHx8IHRoaXMuY2xpcHBlZFJpZ2h0LFxuICAgICAgICAndi1hcHAtYmFyLS1mYWRlLWltZy1vbi1zY3JvbGwnOiB0aGlzLmZhZGVJbWdPblNjcm9sbCxcbiAgICAgICAgJ3YtYXBwLWJhci0tZWxldmF0ZS1vbi1zY3JvbGwnOiB0aGlzLmVsZXZhdGVPblNjcm9sbCxcbiAgICAgICAgJ3YtYXBwLWJhci0tZml4ZWQnOiAhdGhpcy5hYnNvbHV0ZSAmJiAodGhpcy5hcHAgfHwgdGhpcy5maXhlZCksXG4gICAgICAgICd2LWFwcC1iYXItLWhpZGUtc2hhZG93JzogdGhpcy5oaWRlU2hhZG93LFxuICAgICAgICAndi1hcHAtYmFyLS1pcy1zY3JvbGxlZCc6IHRoaXMuY3VycmVudFNjcm9sbCA+IDAsXG4gICAgICAgICd2LWFwcC1iYXItLXNocmluay1vbi1zY3JvbGwnOiB0aGlzLnNocmlua09uU2Nyb2xsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNvbXB1dGVkQ29udGVudEhlaWdodDogZnVuY3Rpb24gY29tcHV0ZWRDb250ZW50SGVpZ2h0KCkge1xuICAgICAgaWYgKCF0aGlzLnNocmlua09uU2Nyb2xsKSByZXR1cm4gX1ZUb29sYmFyX1ZUb29sYmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY29tcHV0ZWRDb250ZW50SGVpZ2h0LmNhbGwodGhpcyk7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jb21wdXRlZE9yaWdpbmFsSGVpZ2h0O1xuICAgICAgdmFyIG1pbiA9IHRoaXMuZGVuc2UgPyA0OCA6IDU2O1xuICAgICAgdmFyIG1heCA9IGhlaWdodDtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gbWF4IC0gbWluO1xuICAgICAgdmFyIGl0ZXJhdGlvbiA9IGRpZmZlcmVuY2UgLyB0aGlzLmNvbXB1dGVkU2Nyb2xsVGhyZXNob2xkO1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY3VycmVudFNjcm9sbCAqIGl0ZXJhdGlvbjtcbiAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIG1heCAtIG9mZnNldCk7XG4gICAgfSxcbiAgICBjb21wdXRlZEZvbnRTaXplOiBmdW5jdGlvbiBjb21wdXRlZEZvbnRTaXplKCkge1xuICAgICAgaWYgKCF0aGlzLmlzUHJvbWluZW50KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgdmFyIG1heCA9IHRoaXMuZGVuc2UgPyA5NiA6IDEyODtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gbWF4IC0gdGhpcy5jb21wdXRlZENvbnRlbnRIZWlnaHQ7XG4gICAgICB2YXIgaW5jcmVtZW50ID0gMC4wMDM0NzsgLy8gMS41cmVtIHRvIGEgbWluaW11bSBvZiAxLjI1cmVtXG5cbiAgICAgIHJldHVybiBOdW1iZXIoKDEuNTAgLSBkaWZmZXJlbmNlICogaW5jcmVtZW50KS50b0ZpeGVkKDIpKTtcbiAgICB9LFxuICAgIGNvbXB1dGVkTGVmdDogZnVuY3Rpb24gY29tcHV0ZWRMZWZ0KCkge1xuICAgICAgaWYgKCF0aGlzLmFwcCB8fCB0aGlzLmNsaXBwZWRMZWZ0KSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLmxlZnQ7XG4gICAgfSxcbiAgICBjb21wdXRlZE1hcmdpblRvcDogZnVuY3Rpb24gY29tcHV0ZWRNYXJnaW5Ub3AoKSB7XG4gICAgICBpZiAoIXRoaXMuYXBwKSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLmJhcjtcbiAgICB9LFxuICAgIGNvbXB1dGVkT3BhY2l0eTogZnVuY3Rpb24gY29tcHV0ZWRPcGFjaXR5KCkge1xuICAgICAgaWYgKCF0aGlzLmZhZGVJbWdPblNjcm9sbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHZhciBvcGFjaXR5ID0gTWF0aC5tYXgoKHRoaXMuY29tcHV0ZWRTY3JvbGxUaHJlc2hvbGQgLSB0aGlzLmN1cnJlbnRTY3JvbGwpIC8gdGhpcy5jb21wdXRlZFNjcm9sbFRocmVzaG9sZCwgMCk7XG4gICAgICByZXR1cm4gTnVtYmVyKHBhcnNlRmxvYXQob3BhY2l0eSkudG9GaXhlZCgyKSk7XG4gICAgfSxcbiAgICBjb21wdXRlZE9yaWdpbmFsSGVpZ2h0OiBmdW5jdGlvbiBjb21wdXRlZE9yaWdpbmFsSGVpZ2h0KCkge1xuICAgICAgdmFyIGhlaWdodCA9IF9WVG9vbGJhcl9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNvbXB1dGVkQ29udGVudEhlaWdodC5jYWxsKHRoaXMpO1xuICAgICAgaWYgKHRoaXMuaXNFeHRlbmRlZCkgaGVpZ2h0ICs9IHBhcnNlSW50KHRoaXMuZXh0ZW5zaW9uSGVpZ2h0KTtcbiAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfSxcbiAgICBjb21wdXRlZFJpZ2h0OiBmdW5jdGlvbiBjb21wdXRlZFJpZ2h0KCkge1xuICAgICAgaWYgKCF0aGlzLmFwcCB8fCB0aGlzLmNsaXBwZWRSaWdodCkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbi5yaWdodDtcbiAgICB9LFxuICAgIGNvbXB1dGVkU2Nyb2xsVGhyZXNob2xkOiBmdW5jdGlvbiBjb21wdXRlZFNjcm9sbFRocmVzaG9sZCgpIHtcbiAgICAgIGlmICh0aGlzLnNjcm9sbFRocmVzaG9sZCkgcmV0dXJuIE51bWJlcih0aGlzLnNjcm9sbFRocmVzaG9sZCk7XG4gICAgICByZXR1cm4gdGhpcy5jb21wdXRlZE9yaWdpbmFsSGVpZ2h0IC0gKHRoaXMuZGVuc2UgPyA0OCA6IDU2KTtcbiAgICB9LFxuICAgIGNvbXB1dGVkVHJhbnNmb3JtOiBmdW5jdGlvbiBjb21wdXRlZFRyYW5zZm9ybSgpIHtcbiAgICAgIGlmICghdGhpcy5jYW5TY3JvbGwgfHwgdGhpcy5lbGV2YXRlT25TY3JvbGwgJiYgdGhpcy5jdXJyZW50U2Nyb2xsID09PSAwICYmIHRoaXMuaXNBY3RpdmUpIHJldHVybiAwO1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHJldHVybiAwO1xuICAgICAgdmFyIHNjcm9sbE9mZlNjcmVlbiA9IHRoaXMuc2Nyb2xsT2ZmU2NyZWVuID8gdGhpcy5jb21wdXRlZEhlaWdodCA6IHRoaXMuY29tcHV0ZWRDb250ZW50SGVpZ2h0O1xuICAgICAgcmV0dXJuIHRoaXMuYm90dG9tID8gc2Nyb2xsT2ZmU2NyZWVuIDogLXNjcm9sbE9mZlNjcmVlbjtcbiAgICB9LFxuICAgIGhpZGVTaGFkb3c6IGZ1bmN0aW9uIGhpZGVTaGFkb3coKSB7XG4gICAgICBpZiAodGhpcy5lbGV2YXRlT25TY3JvbGwgJiYgdGhpcy5pc0V4dGVuZGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTY3JvbGwgPCB0aGlzLmNvbXB1dGVkU2Nyb2xsVGhyZXNob2xkO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbGV2YXRlT25TY3JvbGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNjcm9sbCA9PT0gMCB8fCB0aGlzLmNvbXB1dGVkVHJhbnNmb3JtIDwgMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICghdGhpcy5pc0V4dGVuZGVkIHx8IHRoaXMuc2Nyb2xsT2ZmU2NyZWVuKSAmJiB0aGlzLmNvbXB1dGVkVHJhbnNmb3JtICE9PSAwO1xuICAgIH0sXG4gICAgaXNDb2xsYXBzZWQ6IGZ1bmN0aW9uIGlzQ29sbGFwc2VkKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlT25TY3JvbGwpIHtcbiAgICAgICAgcmV0dXJuIF9WVG9vbGJhcl9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmlzQ29sbGFwc2VkLmNhbGwodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTY3JvbGwgPiAwO1xuICAgIH0sXG4gICAgaXNQcm9taW5lbnQ6IGZ1bmN0aW9uIGlzUHJvbWluZW50KCkge1xuICAgICAgcmV0dXJuIF9WVG9vbGJhcl9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmlzUHJvbWluZW50LmNhbGwodGhpcykgfHwgdGhpcy5zaHJpbmtPblNjcm9sbDtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVlRvb2xiYXJfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5zdHlsZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICBmb250U2l6ZTogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRGb250U2l6ZSwgJ3JlbScpLFxuICAgICAgICBtYXJnaW5Ub3A6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkTWFyZ2luVG9wKSxcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoXCIgKyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jb21wdXRlZFRyYW5zZm9ybSkgKyBcIilcIixcbiAgICAgICAgbGVmdDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRMZWZ0KSxcbiAgICAgICAgcmlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkUmlnaHQpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgY2FuU2Nyb2xsOiAnb25TY3JvbGwnLFxuICAgIGNvbXB1dGVkVHJhbnNmb3JtOiBmdW5jdGlvbiBjb21wdXRlZFRyYW5zZm9ybSgpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGRvIG5vdCB3YW50IHRoZSB2LWFwcC1iYXJcbiAgICAgIC8vIHRvIHVwZGF0ZSB0aGUgYXBwbGljYXRpb24gdG9wIHZhbHVlXG4gICAgICAvLyB0byBhdm9pZCBzY3JlZW4ganVtcC4gSG93ZXZlciwgaW5cbiAgICAgIC8vIHRoaXMgc2l0dWF0aW9uLCB3ZSBtdXN0IHNvIHRoYXRcbiAgICAgIC8vIHRoZSBjbGlwcGVkIGRyYXdlciBjYW4gdXBkYXRlXG4gICAgICAvLyBpdHMgdG9wIHZhbHVlIHdoZW4gc2Nyb2xsZWRcbiAgICAgIGlmICghdGhpcy5jYW5TY3JvbGwgfHwgIXRoaXMuY2xpcHBlZExlZnQgJiYgIXRoaXMuY2xpcHBlZFJpZ2h0KSByZXR1cm47XG4gICAgICB0aGlzLmNhbGxVcGRhdGUoKTtcbiAgICB9LFxuICAgIGludmVydGVkU2Nyb2xsOiBmdW5jdGlvbiBpbnZlcnRlZFNjcm9sbCh2YWwpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSAhdmFsO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICBpZiAodGhpcy5pbnZlcnRlZFNjcm9sbCkgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuQmFja2dyb3VuZDogZnVuY3Rpb24gZ2VuQmFja2dyb3VuZCgpIHtcbiAgICAgIHZhciByZW5kZXIgPSBfVlRvb2xiYXJfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkJhY2tncm91bmQuY2FsbCh0aGlzKTtcbiAgICAgIHJlbmRlci5kYXRhID0gdGhpcy5fYihyZW5kZXIuZGF0YSB8fCB7fSwgcmVuZGVyLnRhZywge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IHRoaXMuY29tcHV0ZWRPcGFjaXR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9LFxuICAgIHVwZGF0ZUFwcGxpY2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVBcHBsaWNhdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmVydGVkU2Nyb2xsID8gMCA6IHRoaXMuY29tcHV0ZWRIZWlnaHQgKyB0aGlzLmNvbXB1dGVkVHJhbnNmb3JtO1xuICAgIH0sXG4gICAgdGhyZXNob2xkTWV0OiBmdW5jdGlvbiB0aHJlc2hvbGRNZXQoKSB7XG4gICAgICBpZiAodGhpcy5pbnZlcnRlZFNjcm9sbCkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdGhpcy5jdXJyZW50U2Nyb2xsID4gdGhpcy5jb21wdXRlZFNjcm9sbFRocmVzaG9sZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50VGhyZXNob2xkIDwgdGhpcy5jb21wdXRlZFNjcm9sbFRocmVzaG9sZCkgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5oaWRlT25TY3JvbGwpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRoaXMuaXNTY3JvbGxpbmdVcDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zYXZlZFNjcm9sbCA9IHRoaXMuY3VycmVudFNjcm9sbDtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgcmVuZGVyID0gX1ZUb29sYmFyX1ZUb29sYmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMucmVuZGVyLmNhbGwodGhpcywgaCk7XG4gICAgcmVuZGVyLmRhdGEgPSByZW5kZXIuZGF0YSB8fCB7fTtcblxuICAgIGlmICh0aGlzLmNhblNjcm9sbCkge1xuICAgICAgcmVuZGVyLmRhdGEuZGlyZWN0aXZlcyA9IHJlbmRlci5kYXRhLmRpcmVjdGl2ZXMgfHwgW107XG4gICAgICByZW5kZXIuZGF0YS5kaXJlY3RpdmVzLnB1c2goe1xuICAgICAgICBhcmc6IHRoaXMuc2Nyb2xsVGFyZ2V0LFxuICAgICAgICBuYW1lOiAnc2Nyb2xsJyxcbiAgICAgICAgdmFsdWU6IHRoaXMub25TY3JvbGxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwQmFyL1ZBcHBCYXJOYXZJY29uLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBcHBCYXIvVkFwcEJhck5hdkljb24udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkJ0bi9WQnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL1ZCdG4udHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gQ29tcG9uZW50c1xuXG5cblxuIC8vIFR5cGVzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtYXBwLWJhci1uYXYtaWNvbicsXG4gIGZ1bmN0aW9uYWw6IHRydWUsXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9hKSB7XG4gICAgdmFyIHNsb3RzID0gX2Euc2xvdHMsXG4gICAgICAgIGxpc3RlbmVycyA9IF9hLmxpc3RlbmVycyxcbiAgICAgICAgcHJvcHMgPSBfYS5wcm9wcyxcbiAgICAgICAgZGF0YSA9IF9hLmRhdGE7XG4gICAgdmFyIGQgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAoXCJ2LWFwcC1iYXJfX25hdi1pY29uIFwiICsgKGRhdGEuc3RhdGljQ2xhc3MgfHwgJycpKS50cmltKCksXG4gICAgICBwcm9wczogX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgIGljb246IHRydWVcbiAgICAgIH0pLFxuICAgICAgb246IGxpc3RlbmVyc1xuICAgIH0pO1xuICAgIHZhciBkZWZhdWx0U2xvdCA9IHNsb3RzKCkuZGVmYXVsdDtcbiAgICByZXR1cm4gaChfVkJ0bl9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBkLCBkZWZhdWx0U2xvdCB8fCBbaChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sICckbWVudScpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwQmFyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBcHBCYXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZBcHBCYXIsIFZBcHBCYXJOYXZJY29uLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXBwQmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBcHBCYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHBCYXIvVkFwcEJhci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZBcHBCYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkFwcEJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFwcEJhck5hdkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkFwcEJhck5hdkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHBCYXIvVkFwcEJhck5hdkljb24udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQXBwQmFyTmF2SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQXBwQmFyTmF2SWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZBcHBCYXI6IF9WQXBwQmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZBcHBCYXJOYXZJY29uOiBfVkFwcEJhck5hdkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBdXRvY29tcGxldGUvVkF1dG9jb21wbGV0ZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdXRvY29tcGxldGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQXV0b2NvbXBsZXRlLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBdXRvY29tcGxldGUvVkF1dG9jb21wbGV0ZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXV0b2NvbXBsZXRlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkF1dG9jb21wbGV0ZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTZWxlY3QvVlNlbGVjdCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9WU2VsZWN0LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGV4dEZpZWxkX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZUZXh0RmllbGQvVlRleHRGaWVsZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9WVGV4dEZpZWxkLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxudmFyIGRlZmF1bHRNZW51UHJvcHMgPSBfX2Fzc2lnbih7fSwgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdE1lbnVQcm9wc1wiXSwge1xuICBvZmZzZXRZOiB0cnVlLFxuICBvZmZzZXRPdmVyZmxvdzogdHJ1ZSxcbiAgdHJhbnNpdGlvbjogZmFsc2Vcbn0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtYXV0b2NvbXBsZXRlJyxcbiAgcHJvcHM6IHtcbiAgICBhbGxvd092ZXJmbG93OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgYXV0b1NlbGVjdEZpcnN0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGZpbHRlcjoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdChpdGVtLCBxdWVyeVRleHQsIGl0ZW1UZXh0KSB7XG4gICAgICAgIHJldHVybiBpdGVtVGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlUZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgICB9XG4gICAgfSxcbiAgICBoaWRlTm9EYXRhOiBCb29sZWFuLFxuICAgIG1lbnVQcm9wczoge1xuICAgICAgdHlwZTogX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLnByb3BzLm1lbnVQcm9wcy50eXBlLFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TWVudVByb3BzO1xuICAgICAgfVxuICAgIH0sXG4gICAgbm9GaWx0ZXI6IEJvb2xlYW4sXG4gICAgc2VhcmNoSW5wdXQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eVNlYXJjaDogdGhpcy5zZWFyY2hJbnB1dFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi1hdXRvY29tcGxldGUnOiB0cnVlLFxuICAgICAgICAndi1hdXRvY29tcGxldGUtLWlzLXNlbGVjdGluZy1pbmRleCc6IHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNvbXB1dGVkSXRlbXM6IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEl0ZW1zO1xuICAgIH0sXG4gICAgc2VsZWN0ZWRWYWx1ZXM6IGZ1bmN0aW9uIHNlbGVjdGVkVmFsdWVzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldFZhbHVlKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYXNEaXNwbGF5ZWRJdGVtczogZnVuY3Rpb24gaGFzRGlzcGxheWVkSXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5oaWRlU2VsZWN0ZWQgPyB0aGlzLmZpbHRlcmVkSXRlbXMuc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gIV90aGlzLmhhc0l0ZW0oaXRlbSk7XG4gICAgICB9KSA6IHRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGggPiAwO1xuICAgIH0sXG4gICAgY3VycmVudFJhbmdlOiBmdW5jdGlvbiBjdXJyZW50UmFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW0gPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gU3RyaW5nKHRoaXMuZ2V0VGV4dCh0aGlzLnNlbGVjdGVkSXRlbSkpLmxlbmd0aDtcbiAgICB9LFxuICAgIGZpbHRlcmVkSXRlbXM6IGZ1bmN0aW9uIGZpbHRlcmVkSXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcgfHwgdGhpcy5ub0ZpbHRlciB8fCB0aGlzLmludGVybmFsU2VhcmNoID09IG51bGwpIHJldHVybiB0aGlzLmFsbEl0ZW1zO1xuICAgICAgcmV0dXJuIHRoaXMuYWxsSXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5maWx0ZXIoaXRlbSwgU3RyaW5nKF90aGlzLmludGVybmFsU2VhcmNoKSwgU3RyaW5nKF90aGlzLmdldFRleHQoaXRlbSkpKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW50ZXJuYWxTZWFyY2g6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXp5U2VhcmNoO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgICB0aGlzLmxhenlTZWFyY2ggPSB2YWw7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWFyY2gtaW5wdXQnLCB2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNBbnlWYWx1ZUFsbG93ZWQ6IGZ1bmN0aW9uIGlzQW55VmFsdWVBbGxvd2VkKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgaXNEaXJ0eTogZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBpc1NlYXJjaGluZzogZnVuY3Rpb24gaXNTZWFyY2hpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSAmJiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWFyY2hJc0RpcnR5ICYmIHRoaXMuaW50ZXJuYWxTZWFyY2ggIT09IHRoaXMuZ2V0VGV4dCh0aGlzLnNlbGVjdGVkSXRlbSk7XG4gICAgfSxcbiAgICBtZW51Q2FuU2hvdzogZnVuY3Rpb24gbWVudUNhblNob3coKSB7XG4gICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5oYXNEaXNwbGF5ZWRJdGVtcyB8fCAhdGhpcy5oaWRlTm9EYXRhO1xuICAgIH0sXG4gICAgJF9tZW51UHJvcHM6IGZ1bmN0aW9uICRfbWVudVByb3BzKCkge1xuICAgICAgdmFyIHByb3BzID0gX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLiRfbWVudVByb3BzLmNhbGwodGhpcyk7XG4gICAgICBwcm9wcy5jb250ZW50Q2xhc3MgPSAoXCJ2LWF1dG9jb21wbGV0ZV9fY29udGVudCBcIiArIChwcm9wcy5jb250ZW50Q2xhc3MgfHwgJycpKS50cmltKCk7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIGRlZmF1bHRNZW51UHJvcHMsIHByb3BzKTtcbiAgICB9LFxuICAgIHNlYXJjaElzRGlydHk6IGZ1bmN0aW9uIHNlYXJjaElzRGlydHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFNlYXJjaCAhPSBudWxsICYmIHRoaXMuaW50ZXJuYWxTZWFyY2ggIT09ICcnO1xuICAgIH0sXG4gICAgc2VsZWN0ZWRJdGVtOiBmdW5jdGlvbiBzZWxlY3RlZEl0ZW0oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlQ29tcGFyYXRvcihfdGhpcy5nZXRWYWx1ZShpKSwgX3RoaXMuZ2V0VmFsdWUoX3RoaXMuaW50ZXJuYWxWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEoKSB7XG4gICAgICB2YXIgZGF0YSA9IF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5saXN0RGF0YS5jYWxsKHRoaXMpO1xuICAgICAgZGF0YS5wcm9wcyA9IF9fYXNzaWduKHt9LCBkYXRhLnByb3BzLCB7XG4gICAgICAgIGl0ZW1zOiB0aGlzLnZpcnR1YWxpemVkSXRlbXMsXG4gICAgICAgIG5vRmlsdGVyOiB0aGlzLm5vRmlsdGVyIHx8ICF0aGlzLmlzU2VhcmNoaW5nIHx8ICF0aGlzLmZpbHRlcmVkSXRlbXMubGVuZ3RoLFxuICAgICAgICBzZWFyY2hJbnB1dDogdGhpcy5pbnRlcm5hbFNlYXJjaFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZmlsdGVyZWRJdGVtczogJ29uRmlsdGVyZWRJdGVtc0NoYW5nZWQnLFxuICAgIGludGVybmFsVmFsdWU6ICdzZXRTZWFyY2gnLFxuICAgIGlzRm9jdXNlZDogZnVuY3Rpb24gaXNGb2N1c2VkKHZhbCkge1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpO1xuICAgICAgICB0aGlzLiRyZWZzLmlucHV0ICYmIHRoaXMuJHJlZnMuaW5wdXQuc2VsZWN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNlbGYoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzTWVudUFjdGl2ZTogZnVuY3Rpb24gaXNNZW51QWN0aXZlKHZhbCkge1xuICAgICAgaWYgKHZhbCB8fCAhdGhpcy5oYXNTbG90KSByZXR1cm47XG4gICAgICB0aGlzLmxhenlTZWFyY2ggPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXModmFsLCBvbGRWYWwpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBmb2N1c2VkLCB0aGUgbWVudVxuICAgICAgLy8gaXMgbm90IGFjdGl2ZSwgaGlkZSBubyBkYXRhIGlzIGVuYWJsZWQsXG4gICAgICAvLyBhbmQgaXRlbXMgY2hhbmdlXG4gICAgICAvLyBVc2VyIGlzIHByb2JhYmx5IGFzeW5jIGxvYWRpbmdcbiAgICAgIC8vIGl0ZW1zLCB0cnkgdG8gYWN0aXZhdGUgdGhlIG1lbnVcbiAgICAgIGlmICghKG9sZFZhbCAmJiBvbGRWYWwubGVuZ3RoKSAmJiB0aGlzLmhpZGVOb0RhdGEgJiYgdGhpcy5pc0ZvY3VzZWQgJiYgIXRoaXMuaXNNZW51QWN0aXZlICYmIHZhbC5sZW5ndGgpIHRoaXMuYWN0aXZhdGVNZW51KCk7XG4gICAgfSxcbiAgICBzZWFyY2hJbnB1dDogZnVuY3Rpb24gc2VhcmNoSW5wdXQodmFsKSB7XG4gICAgICB0aGlzLmxhenlTZWFyY2ggPSB2YWw7XG4gICAgfSxcbiAgICBpbnRlcm5hbFNlYXJjaDogJ29uSW50ZXJuYWxTZWFyY2hDaGFuZ2VkJyxcbiAgICBpdGVtVGV4dDogJ3VwZGF0ZVNlbGYnXG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5zZXRTZWFyY2goKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uRmlsdGVyZWRJdGVtc0NoYW5nZWQ6IGZ1bmN0aW9uIG9uRmlsdGVyZWRJdGVtc0NoYW5nZWQodmFsLCBvbGRWYWwpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIFRPRE86IEhvdyBpcyB0aGUgd2F0Y2hlciB0cmlnZ2VyZWRcbiAgICAgIC8vIGZvciBkdXBsaWNhdGUgaXRlbXM/IG5vIGlkZWFcblxuXG4gICAgICBpZiAodmFsID09PSBvbGRWYWwpIHJldHVybjtcbiAgICAgIHRoaXMuc2V0TWVudUluZGV4KC0xKTtcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5pbnRlcm5hbFNlYXJjaCB8fCB2YWwubGVuZ3RoICE9PSAxICYmICFfdGhpcy5hdXRvU2VsZWN0Rmlyc3QpIHJldHVybjtcblxuICAgICAgICBfdGhpcy4kcmVmcy5tZW51LmdldFRpbGVzKCk7XG5cbiAgICAgICAgX3RoaXMuc2V0TWVudUluZGV4KDApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkludGVybmFsU2VhcmNoQ2hhbmdlZDogZnVuY3Rpb24gb25JbnRlcm5hbFNlYXJjaENoYW5nZWQoKSB7XG4gICAgICB0aGlzLnVwZGF0ZU1lbnVEaW1lbnNpb25zKCk7XG4gICAgfSxcbiAgICB1cGRhdGVNZW51RGltZW5zaW9uczogZnVuY3Rpb24gdXBkYXRlTWVudURpbWVuc2lvbnMoKSB7XG4gICAgICAvLyBUeXBlIGZyb20gbWVudWFibGUgaXMgbm90IG1ha2luZyBpdCB0aHJvdWdoXG4gICAgICB0aGlzLmlzTWVudUFjdGl2ZSAmJiB0aGlzLiRyZWZzLm1lbnUgJiYgdGhpcy4kcmVmcy5tZW51LnVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICB9LFxuICAgIGNoYW5nZVNlbGVjdGVkSW5kZXg6IGZ1bmN0aW9uIGNoYW5nZVNlbGVjdGVkSW5kZXgoa2V5Q29kZSkge1xuICAgICAgLy8gRG8gbm90IGFsbG93IGNoYW5naW5nIG9mIHNlbGVjdGVkSW5kZXhcbiAgICAgIC8vIHdoZW4gc2VhcmNoIGlzIGRpcnR5XG4gICAgICBpZiAodGhpcy5zZWFyY2hJc0RpcnR5IHx8ICF0aGlzLm11bHRpcGxlKSByZXR1cm47XG4gICAgICBpZiAoIVtfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJrZXlDb2Rlc1wiXS5iYWNrc3BhY2UsIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLmxlZnQsIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLnJpZ2h0LCBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJrZXlDb2Rlc1wiXS5kZWxldGVdLmluY2x1ZGVzKGtleUNvZGUpKSByZXR1cm47XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gMTtcblxuICAgICAgaWYgKGtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLmxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJrZXlDb2Rlc1wiXS5yaWdodCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID49IGluZGV4KSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudEl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbXNbdGhpcy5zZWxlY3RlZEluZGV4XTtcblxuICAgICAgaWYgKFtfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJrZXlDb2Rlc1wiXS5iYWNrc3BhY2UsIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLmRlbGV0ZV0uaW5jbHVkZXMoa2V5Q29kZSkgJiYgIXRoaXMuZ2V0RGlzYWJsZWQoY3VycmVudEl0ZW0pICYmICF0aGlzLnJlYWRvbmx5KSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXggPyB0aGlzLnNlbGVjdGVkSW5kZXggLSAxIDogdGhpcy5zZWxlY3RlZEl0ZW1zW3RoaXMuc2VsZWN0ZWRJbmRleCArIDFdID8gdGhpcy5zZWxlY3RlZEluZGV4IDogLTE7XG5cbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5tdWx0aXBsZSA/IFtdIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oY3VycmVudEl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gbmV3SW5kZXg7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhcmFibGVDYWxsYmFjazogZnVuY3Rpb24gY2xlYXJhYmxlQ2FsbGJhY2soKSB7XG4gICAgICB0aGlzLmludGVybmFsU2VhcmNoID0gdW5kZWZpbmVkO1xuICAgICAgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuY2xlYXJhYmxlQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICB9LFxuICAgIGdlbklucHV0OiBmdW5jdGlvbiBnZW5JbnB1dCgpIHtcbiAgICAgIHZhciBpbnB1dCA9IF9WVGV4dEZpZWxkX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbklucHV0LmNhbGwodGhpcyk7XG4gICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YSB8fCB7fTtcbiAgICAgIGlucHV0LmRhdGEuYXR0cnMgPSBpbnB1dC5kYXRhLmF0dHJzIHx8IHt9O1xuICAgICAgaW5wdXQuZGF0YS5hdHRycy5hdXRvY29tcGxldGUgPSBpbnB1dC5kYXRhLmF0dHJzLmF1dG9jb21wbGV0ZSB8fCAnZGlzYWJsZWQnO1xuICAgICAgaW5wdXQuZGF0YS5kb21Qcm9wcyA9IGlucHV0LmRhdGEuZG9tUHJvcHMgfHwge307XG4gICAgICBpbnB1dC5kYXRhLmRvbVByb3BzLnZhbHVlID0gdGhpcy5pbnRlcm5hbFNlYXJjaDtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9LFxuICAgIGdlbklucHV0U2xvdDogZnVuY3Rpb24gZ2VuSW5wdXRTbG90KCkge1xuICAgICAgdmFyIHNsb3QgPSBfVlNlbGVjdF9WU2VsZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5JbnB1dFNsb3QuY2FsbCh0aGlzKTtcbiAgICAgIHNsb3QuZGF0YS5hdHRycy5yb2xlID0gJ2NvbWJvYm94JztcbiAgICAgIHJldHVybiBzbG90O1xuICAgIH0sXG4gICAgZ2VuU2VsZWN0aW9uczogZnVuY3Rpb24gZ2VuU2VsZWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc1Nsb3QgfHwgdGhpcy5tdWx0aXBsZSA/IF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlblNlbGVjdGlvbnMuY2FsbCh0aGlzKSA6IFtdO1xuICAgIH0sXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xID8gdGhpcy5zZWxlY3RlZEluZGV4ID0gLTEgOiB0aGlzLm9uRm9jdXMoKTtcbiAgICAgIHRoaXMuYWN0aXZhdGVNZW51KCk7XG4gICAgfSxcbiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGUpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPiAtMSB8fCAhZS50YXJnZXQpIHJldHVybjtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZSA9IHRhcmdldC52YWx1ZTsgLy8gSWYgdHlwaW5nIGFuZCBtZW51IGlzIG5vdCBjdXJyZW50bHkgYWN0aXZlXG5cbiAgICAgIGlmICh0YXJnZXQudmFsdWUpIHRoaXMuYWN0aXZhdGVNZW51KCk7XG4gICAgICB0aGlzLmludGVybmFsU2VhcmNoID0gdmFsdWU7XG4gICAgICB0aGlzLmJhZElucHV0ID0gdGFyZ2V0LnZhbGlkaXR5ICYmIHRhcmdldC52YWxpZGl0eS5iYWRJbnB1dDtcbiAgICB9LFxuICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgICAgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMub25LZXlEb3duLmNhbGwodGhpcywgZSk7IC8vIFRoZSBvcmRlcmluZyBpcyBpbXBvcnRhbnQgaGVyZVxuICAgICAgLy8gYWxsb3dzIG5ldyB2YWx1ZSB0byBiZSB1cGRhdGVkXG4gICAgICAvLyBhbmQgdGhlbiBtb3ZlcyB0aGUgaW5kZXggdG8gdGhlXG4gICAgICAvLyBwcm9wZXIgbG9jYXRpb25cblxuICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RlZEluZGV4KGtleUNvZGUpO1xuICAgIH0sXG4gICAgb25TcGFjZURvd246IGZ1bmN0aW9uIG9uU3BhY2VEb3duKGUpIHt9LFxuICAgIG9uVGFiRG93bjogZnVuY3Rpb24gb25UYWJEb3duKGUpIHtcbiAgICAgIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLm9uVGFiRG93bi5jYWxsKHRoaXMsIGUpO1xuICAgICAgdGhpcy51cGRhdGVTZWxmKCk7XG4gICAgfSxcbiAgICBvblVwRG93bjogZnVuY3Rpb24gb25VcERvd24oKSB7XG4gICAgICAvLyBGb3IgYXV0b2NvbXBsZXRlIC8gY29tYm9ib3gsIGN5Y2xpbmdcbiAgICAgIC8vIGludGVyZmVycyB3aXRoIG5hdGl2ZSB1cC9kb3duIGJlaGF2aW9yXG4gICAgICAvLyBpbnN0ZWFkIGFjdGl2YXRlIHRoZSBtZW51XG4gICAgICB0aGlzLmFjdGl2YXRlTWVudSgpO1xuICAgIH0sXG4gICAgc2VsZWN0SXRlbTogZnVuY3Rpb24gc2VsZWN0SXRlbShpdGVtKSB7XG4gICAgICBfVlNlbGVjdF9WU2VsZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5zZWxlY3RJdGVtLmNhbGwodGhpcywgaXRlbSk7XG4gICAgICB0aGlzLnNldFNlYXJjaCgpO1xuICAgIH0sXG4gICAgc2V0U2VsZWN0ZWRJdGVtczogZnVuY3Rpb24gc2V0U2VsZWN0ZWRJdGVtcygpIHtcbiAgICAgIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLnNldFNlbGVjdGVkSXRlbXMuY2FsbCh0aGlzKTsgLy8gIzQyNzMgRG9uJ3QgcmVwbGFjZSBpZiBzZWFyY2hpbmdcbiAgICAgIC8vICM0NDAzIERvbid0IHJlcGxhY2UgaWYgZm9jdXNlZFxuXG4gICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSB0aGlzLnNldFNlYXJjaCgpO1xuICAgIH0sXG4gICAgc2V0U2VhcmNoOiBmdW5jdGlvbiBzZXRTZWFyY2goKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBXYWl0IGZvciBuZXh0VGljayBzbyBzZWxlY3RlZEl0ZW1cbiAgICAgIC8vIGhhcyBoYWQgdGltZSB0byB1cGRhdGVcblxuXG4gICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMubXVsdGlwbGUgfHwgIV90aGlzLmludGVybmFsU2VhcmNoIHx8ICFfdGhpcy5pc01lbnVBY3RpdmUpIHtcbiAgICAgICAgICBfdGhpcy5pbnRlcm5hbFNlYXJjaCA9ICFfdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCBfdGhpcy5tdWx0aXBsZSB8fCBfdGhpcy5oYXNTbG90ID8gbnVsbCA6IF90aGlzLmdldFRleHQoX3RoaXMuc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVTZWxmOiBmdW5jdGlvbiB1cGRhdGVTZWxmKCkge1xuICAgICAgaWYgKCF0aGlzLnNlYXJjaElzRGlydHkgJiYgIXRoaXMuaW50ZXJuYWxWYWx1ZSkgcmV0dXJuO1xuXG4gICAgICBpZiAoIXRoaXMudmFsdWVDb21wYXJhdG9yKHRoaXMuaW50ZXJuYWxTZWFyY2gsIHRoaXMuZ2V0VmFsdWUodGhpcy5pbnRlcm5hbFZhbHVlKSkpIHtcbiAgICAgICAgdGhpcy5zZXRTZWFyY2goKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhc0l0ZW06IGZ1bmN0aW9uIGhhc0l0ZW0oaXRlbSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih0aGlzLmdldFZhbHVlKGl0ZW0pKSA+IC0xO1xuICAgIH0sXG4gICAgb25Db3B5OiBmdW5jdGlvbiBvbkNvcHkoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICB2YXIgY3VycmVudEl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbXNbdGhpcy5zZWxlY3RlZEluZGV4XTtcbiAgICAgIHZhciBjdXJyZW50SXRlbVRleHQgPSB0aGlzLmdldFRleHQoY3VycmVudEl0ZW0pO1xuICAgICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgY3VycmVudEl0ZW1UZXh0KTtcbiAgICAgIGV2ZW50LmNsaXBib2FyZERhdGEuc2V0RGF0YSgndGV4dC92bmQudnVldGlmeS5hdXRvY29tcGxldGUuaXRlbStwbGFpbicsIGN1cnJlbnRJdGVtVGV4dCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBdXRvY29tcGxldGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkF1dG9jb21wbGV0ZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkF1dG9jb21wbGV0ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQXV0b2NvbXBsZXRlICovIFwiLi9zcmMvY29tcG9uZW50cy9WQXV0b2NvbXBsZXRlL1ZBdXRvY29tcGxldGUudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQXV0b2NvbXBsZXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZBdXRvY29tcGxldGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkF1dG9jb21wbGV0ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9WQXZhdGFyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBdmF0YXIvVkF2YXRhci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9WQXZhdGFyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9WQXZhdGFyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdmF0YXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQXZhdGFyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBdmF0YXIvVkF2YXRhci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXZhdGFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkF2YXRhcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX21lYXN1cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9tZWFzdXJhYmxlICovIFwiLi9zcmMvbWl4aW5zL21lYXN1cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbiAvLyBNaXhpbnNcblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX21lYXN1cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWF2YXRhcicsXG4gIHByb3BzOiB7XG4gICAgbGVmdDogQm9vbGVhbixcbiAgICByaWdodDogQm9vbGVhbixcbiAgICBzaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNDhcbiAgICB9LFxuICAgIHRpbGU6IEJvb2xlYW5cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3YtYXZhdGFyLS1sZWZ0JzogdGhpcy5sZWZ0LFxuICAgICAgICAndi1hdmF0YXItLXJpZ2h0JzogdGhpcy5yaWdodCxcbiAgICAgICAgJ3YtYXZhdGFyLS10aWxlJzogdGhpcy50aWxlXG4gICAgICB9O1xuICAgIH0sXG4gICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLnNpemUpLFxuICAgICAgICBtaW5XaWR0aDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuc2l6ZSksXG4gICAgICAgIHdpZHRoOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5zaXplKVxuICAgICAgfSwgdGhpcy5tZWFzdXJhYmxlU3R5bGVzKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1hdmF0YXInLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnNcbiAgICB9O1xuICAgIHJldHVybiBoKCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCBkYXRhKSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQXZhdGFyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZBdmF0YXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZBdmF0YXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkF2YXRhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9WQXZhdGFyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkF2YXRhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQXZhdGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCYWRnZS9WQmFkZ2Uuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCYWRnZS9WQmFkZ2Uuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQmFkZ2UvVkJhZGdlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCYWRnZS9WQmFkZ2UudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCYWRnZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCYWRnZS5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQmFkZ2UvVkJhZGdlLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCYWRnZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZCYWRnZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19wb3NpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9wb3NpdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcG9zaXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdHJhbnNpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90cmFuc2l0aW9uYWJsZSAqLyBcIi4vc3JjL21peGlucy90cmFuc2l0aW9uYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vLyBTdHlsZXNcbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgT2JqZWN0KF9taXhpbnNfcG9zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJmYWN0b3J5XCJdKShbJ2xlZnQnLCAnYm90dG9tJ10pLCBfbWl4aW5zX3RyYW5zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi1iYWRnZScsXG4gIHByb3BzOiB7XG4gICAgY29sb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdwcmltYXJ5J1xuICAgIH0sXG4gICAgb3ZlcmxhcDogQm9vbGVhbixcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZmFiLXRyYW5zaXRpb24nXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3YtYmFkZ2UtLWJvdHRvbSc6IHRoaXMuYm90dG9tLFxuICAgICAgICAndi1iYWRnZS0tbGVmdCc6IHRoaXMubGVmdCxcbiAgICAgICAgJ3YtYmFkZ2UtLW92ZXJsYXAnOiB0aGlzLm92ZXJsYXBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGJhZGdlID0gdGhpcy4kc2xvdHMuYmFkZ2UgJiYgW2goJ3NwYW4nLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtYmFkZ2VfX2JhZGdlJyxcbiAgICAgIGF0dHJzOiB0aGlzLiRhdHRycyxcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6ICdzaG93JyxcbiAgICAgICAgdmFsdWU6IHRoaXMuaXNBY3RpdmVcbiAgICAgIH1dXG4gICAgfSksIHRoaXMuJHNsb3RzLmJhZGdlKV07XG4gICAgcmV0dXJuIGgoJ3NwYW4nLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtYmFkZ2UnLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3Nlc1xuICAgIH0sIFt0aGlzLiRzbG90cy5kZWZhdWx0LCB0aGlzLnRyYW5zaXRpb24gPyBoKCd0cmFuc2l0aW9uJywge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZTogdGhpcy50cmFuc2l0aW9uLFxuICAgICAgICBvcmlnaW46IHRoaXMub3JpZ2luLFxuICAgICAgICBtb2RlOiB0aGlzLm1vZGVcbiAgICAgIH1cbiAgICB9LCBiYWRnZSkgOiBiYWRnZV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJhZGdlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJhZGdlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZCYWRnZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJhZGdlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCYWRnZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJhZGdlL1ZCYWRnZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCYWRnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQmFkZ2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkJhZGdlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQmFubmVyL1ZCYW5uZXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJhbm5lci9WQmFubmVyLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQmFubmVyL1ZCYW5uZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQmFubmVyL1ZCYW5uZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJhbm5lcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCYW5uZXIuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJhbm5lci9WQmFubmVyLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCYW5uZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQmFubmVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNoZWV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZBdmF0YXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBdmF0YXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc2l0aW9ucyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdG9nZ2xlYWJsZSAqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBDb21wb25lbnRzXG5cblxuXG4gLy8gTWl4aW5zXG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pKF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtYmFubmVyJyxcbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgcHJvcHM6IHtcbiAgICBpY29uOiBTdHJpbmcsXG4gICAgaWNvbkNvbG9yOiBTdHJpbmcsXG4gICAgbW9iaWxlQnJlYWtQb2ludDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDk2MFxuICAgIH0sXG4gICAgc2luZ2xlTGluZTogQm9vbGVhbixcbiAgICBzdGlja3k6IEJvb2xlYW4sXG4gICAgdGlsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWJhbm5lci0taGFzLWljb24nOiB0aGlzLmhhc0ljb24sXG4gICAgICAgICd2LWJhbm5lci0taXMtbW9iaWxlJzogdGhpcy5pc01vYmlsZSxcbiAgICAgICAgJ3YtYmFubmVyLS1zaW5nbGUtbGluZSc6IHRoaXMuc2luZ2xlTGluZSxcbiAgICAgICAgJ3YtYmFubmVyLS1zdGlja3knOiB0aGlzLnN0aWNreVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYXNBY3Rpb25zOiBmdW5jdGlvbiBoYXNBY3Rpb25zKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy4kc2xvdHMuYWN0aW9ucyB8fCB0aGlzLiRzY29wZWRTbG90cy5hY3Rpb25zKTtcbiAgICB9LFxuICAgIGhhc0ljb246IGZ1bmN0aW9uIGhhc0ljb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmljb24gfHwgdGhpcy4kc2xvdHMuaWNvbik7XG4gICAgfSxcbiAgICBpc01vYmlsZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kdnVldGlmeS5icmVha3BvaW50LndpZHRoIDwgTnVtYmVyKHRoaXMubW9iaWxlQnJlYWtQb2ludCk7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHZhciBzdHlsZXMgPSBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuc3R5bGVzLmNhbGwodGhpcyk7XG4gICAgICBpZiAoIXRoaXMuc3RpY2t5KSByZXR1cm4gc3R5bGVzO1xuICAgICAgdmFyIF9hID0gdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbixcbiAgICAgICAgICBiYXIgPSBfYS5iYXIsXG4gICAgICAgICAgdG9wID0gX2EudG9wO1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdHlsZXMsIHtcbiAgICAgICAgcG9zaXRpb246ICdzdGlja3knLFxuICAgICAgICB0b3A6IGJhciArIHRvcCArIFwicHhcIixcbiAgICAgICAgekluZGV4OiAxXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgdGhpcy5pc0FjdGl2ZSA9ICF0aGlzLmlzQWN0aXZlO1xuICAgIH0sXG4gICAgaWNvbkNsaWNrOiBmdW5jdGlvbiBpY29uQ2xpY2soZSkge1xuICAgICAgdGhpcy4kZW1pdCgnY2xpY2s6aWNvbicsIGUpO1xuICAgIH0sXG4gICAgZ2VuSWNvbjogZnVuY3Rpb24gZ2VuSWNvbigpIHtcbiAgICAgIGlmICghdGhpcy5oYXNJY29uKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgdmFyIGNvbnRlbnQ7XG5cbiAgICAgIGlmICh0aGlzLmljb24pIHtcbiAgICAgICAgY29udGVudCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmljb25Db2xvcixcbiAgICAgICAgICAgIHNpemU6IDI4XG4gICAgICAgICAgfVxuICAgICAgICB9LCBbdGhpcy5pY29uXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gdGhpcy4kc2xvdHMuaWNvbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWJhbm5lcl9faWNvbicsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgc2l6ZTogNDBcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogdGhpcy5pY29uQ2xpY2tcbiAgICAgICAgfVxuICAgICAgfSwgW2NvbnRlbnRdKTtcbiAgICB9LFxuICAgIGdlblRleHQ6IGZ1bmN0aW9uIGdlblRleHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtYmFubmVyX190ZXh0J1xuICAgICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgfSxcbiAgICBnZW5BY3Rpb25zOiBmdW5jdGlvbiBnZW5BY3Rpb25zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmhhc0FjdGlvbnMpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLiRzY29wZWRTbG90cy5hY3Rpb25zID8gdGhpcy4kc2NvcGVkU2xvdHMuYWN0aW9ucyh7XG4gICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIGRpc21pc3MoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pIDogdGhpcy4kc2xvdHMuYWN0aW9ucztcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1iYW5uZXJfX2FjdGlvbnMnXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWJhbm5lcl9fY29udGVudCdcbiAgICAgIH0sIFt0aGlzLmdlbkljb24oKSwgdGhpcy5nZW5UZXh0KCldKTtcbiAgICB9LFxuICAgIGdlbldyYXBwZXI6IGZ1bmN0aW9uIGdlbldyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtYmFubmVyX193cmFwcGVyJ1xuICAgICAgfSwgW3RoaXMuZ2VuQ29udGVudCgpLCB0aGlzLmdlbkFjdGlvbnMoKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiVkV4cGFuZFRyYW5zaXRpb25cIl0sIFtoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtYmFubmVyJyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBzdHlsZTogdGhpcy5zdHlsZXMsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgIHZhbHVlOiB0aGlzLmlzQWN0aXZlXG4gICAgICB9XVxuICAgIH0sIFt0aGlzLmdlbldyYXBwZXIoKV0pXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQmFubmVyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCYW5uZXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZCYW5uZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCYW5uZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJhbm5lciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJhbm5lci9WQmFubmVyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJhbm5lclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQmFubmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZCYW5uZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21OYXZpZ2F0aW9uL1ZCb3R0b21OYXZpZ2F0aW9uLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbU5hdmlnYXRpb24vVkJvdHRvbU5hdmlnYXRpb24uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbU5hdmlnYXRpb24vVkJvdHRvbU5hdmlnYXRpb24udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21OYXZpZ2F0aW9uL1ZCb3R0b21OYXZpZ2F0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJvdHRvbU5hdmlnYXRpb25fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQm90dG9tTmF2aWdhdGlvbi5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQm90dG9tTmF2aWdhdGlvbi9WQm90dG9tTmF2aWdhdGlvbi5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQm90dG9tTmF2aWdhdGlvbl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZCb3R0b21OYXZpZ2F0aW9uX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19hcHBsaWNhdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9hcHBsaWNhdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvYXBwbGljYXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYnV0dG9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYnV0dG9uLWdyb3VwICovIFwiLi9zcmMvbWl4aW5zL2J1dHRvbi1ncm91cC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19tZWFzdXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbWVhc3VyYWJsZSAqLyBcIi4vc3JjL21peGlucy9tZWFzdXJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcHJveHlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcHJveHlhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Byb3h5YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Njcm9sbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zY3JvbGxhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Njcm9sbGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RvZ2dsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdG9nZ2xlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0pKE9iamVjdChfbWl4aW5zX2FwcGxpY2F0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoJ2JvdHRvbScsIFsnaGVpZ2h0JywgJ2lucHV0VmFsdWUnXSksIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX21lYXN1cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImZhY3RvcnlcIl0pKCdpbnB1dFZhbHVlJyksIF9taXhpbnNfcHJveHlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3Njcm9sbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi1ib3R0b20tbmF2aWdhdGlvbicsXG4gIHByb3BzOiB7XG4gICAgYWN0aXZlQ2xhc3M6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICd2LWJ0bi0tYWN0aXZlJ1xuICAgIH0sXG4gICAgYmFja2dyb3VuZENvbG9yOiBTdHJpbmcsXG4gICAgZ3JvdzogQm9vbGVhbixcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiA1NlxuICAgIH0sXG4gICAgaGlkZU9uU2Nyb2xsOiBCb29sZWFuLFxuICAgIGhvcml6b250YWw6IEJvb2xlYW4sXG4gICAgaW5wdXRWYWx1ZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIG1hbmRhdG9yeTogQm9vbGVhbixcbiAgICBzaGlmdDogQm9vbGVhblxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZTogdGhpcy5pbnB1dFZhbHVlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjYW5TY3JvbGw6IGZ1bmN0aW9uIGNhblNjcm9sbCgpIHtcbiAgICAgIHJldHVybiBfbWl4aW5zX3Njcm9sbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jYW5TY3JvbGwuY2FsbCh0aGlzKSAmJiAodGhpcy5oaWRlT25TY3JvbGwgfHwgIXRoaXMuaW5wdXRWYWx1ZSk7XG4gICAgfSxcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3YtYm90dG9tLW5hdmlnYXRpb24tLWFic29sdXRlJzogdGhpcy5hYnNvbHV0ZSxcbiAgICAgICAgJ3YtYm90dG9tLW5hdmlnYXRpb24tLWdyb3cnOiB0aGlzLmdyb3csXG4gICAgICAgICd2LWJvdHRvbS1uYXZpZ2F0aW9uLS1maXhlZCc6ICF0aGlzLmFic29sdXRlICYmICh0aGlzLmFwcCB8fCB0aGlzLmZpeGVkKSxcbiAgICAgICAgJ3YtYm90dG9tLW5hdmlnYXRpb24tLWhvcml6b250YWwnOiB0aGlzLmhvcml6b250YWwsXG4gICAgICAgICd2LWJvdHRvbS1uYXZpZ2F0aW9uLS1zaGlmdCc6IHRoaXMuc2hpZnRcbiAgICAgIH07XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5tZWFzdXJhYmxlU3R5bGVzLCB7XG4gICAgICAgIHRyYW5zZm9ybTogdGhpcy5pc0FjdGl2ZSA/ICdub25lJyA6ICd0cmFuc2xhdGVZKDEwMCUpJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KCdhY3RpdmUnKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJicmVha2luZ1wiXSkoJ2FjdGl2ZS5zeW5jJywgJ3ZhbHVlIG9yIHYtbW9kZWwnLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICB0aHJlc2hvbGRNZXQ6IGZ1bmN0aW9uIHRocmVzaG9sZE1ldCgpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSAhdGhpcy5pc1Njcm9sbGluZ1VwO1xuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmlucHV0LXZhbHVlJywgdGhpcy5pc0FjdGl2ZSk7XG4gICAgfSxcbiAgICB1cGRhdGVBcHBsaWNhdGlvbjogZnVuY3Rpb24gdXBkYXRlQXBwbGljYXRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZWwgPyB0aGlzLiRlbC5jbGllbnRIZWlnaHQgOiAwO1xuICAgIH0sXG4gICAgdXBkYXRlVmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKHZhbCkge1xuICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtYm90dG9tLW5hdmlnYXRpb24nLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGFjdGl2ZUNsYXNzOiB0aGlzLmFjdGl2ZUNsYXNzLFxuICAgICAgICBtYW5kYXRvcnk6IEJvb2xlYW4odGhpcy5tYW5kYXRvcnkgfHwgdGhpcy52YWx1ZSAhPT0gdW5kZWZpbmVkKSxcbiAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxWYWx1ZVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIGNoYW5nZTogdGhpcy51cGRhdGVWYWx1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuY2FuU2Nyb2xsKSB7XG4gICAgICBkYXRhLmRpcmVjdGl2ZXMgPSBkYXRhLmRpcmVjdGl2ZXMgfHwgW107XG4gICAgICBkYXRhLmRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIGFyZzogdGhpcy5zY3JvbGxUYXJnZXQsXG4gICAgICAgIG5hbWU6ICdzY3JvbGwnLFxuICAgICAgICB2YWx1ZTogdGhpcy5vblNjcm9sbFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgoX21peGluc19idXR0b25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHRoaXMuc2V0VGV4dENvbG9yKHRoaXMuY29sb3IsIGRhdGEpLCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21OYXZpZ2F0aW9uL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQm90dG9tTmF2aWdhdGlvbi9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZCb3R0b21OYXZpZ2F0aW9uLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQm90dG9tTmF2aWdhdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQm90dG9tTmF2aWdhdGlvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbU5hdmlnYXRpb24vVkJvdHRvbU5hdmlnYXRpb24udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQm90dG9tTmF2aWdhdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQm90dG9tTmF2aWdhdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WQm90dG9tTmF2aWdhdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbVNoZWV0L1ZCb3R0b21TaGVldC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbVNoZWV0L1ZCb3R0b21TaGVldC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21TaGVldC9WQm90dG9tU2hlZXQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbVNoZWV0L1ZCb3R0b21TaGVldC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJvdHRvbVNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJvdHRvbVNoZWV0LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21TaGVldC9WQm90dG9tU2hlZXQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJvdHRvbVNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkJvdHRvbVNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEaWFsb2dfVkRpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkRpYWxvZy9WRGlhbG9nICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGlhbG9nL1ZEaWFsb2cudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4gLy8gRXh0ZW5zaW9uc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZEaWFsb2dfVkRpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1ib3R0b20tc2hlZXQnLFxuICBwcm9wczoge1xuICAgIGluc2V0OiBCb29sZWFuLFxuICAgIG1heFdpZHRoOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogJ2F1dG8nXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnYm90dG9tLXNoZWV0LXRyYW5zaXRpb24nXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WRGlhbG9nX1ZEaWFsb2dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtYm90dG9tLXNoZWV0JzogdHJ1ZSxcbiAgICAgICAgJ3YtYm90dG9tLXNoZWV0LS1pbnNldCc6IHRoaXMuaW5zZXRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21TaGVldC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21TaGVldC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQm90dG9tU2hlZXQsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCb3R0b21TaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQm90dG9tU2hlZXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCb3R0b21TaGVldC9WQm90dG9tU2hlZXQudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQm90dG9tU2hlZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkJvdHRvbVNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZCb3R0b21TaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1icy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1icy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCcmVhZGNydW1icy9WQnJlYWRjcnVtYnMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1icy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJyZWFkY3J1bWJzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJyZWFkY3J1bWJzLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCcmVhZGNydW1icy9WQnJlYWRjcnVtYnMuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJyZWFkY3J1bWJzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkJyZWFkY3J1bWJzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gQ29tcG9uZW50c1xuXG4gLy8gTWl4aW5zXG5cbiAvLyBVdGlsc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWJyZWFkY3J1bWJzJyxcbiAgcHJvcHM6IHtcbiAgICBkaXZpZGVyOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnLydcbiAgICB9LFxuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICBsYXJnZTogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1icmVhZGNydW1icy0tbGFyZ2UnOiB0aGlzLmxhcmdlXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3Nlcyk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuRGl2aWRlcjogZnVuY3Rpb24gZ2VuRGl2aWRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlZCcmVhZGNydW1ic0RpdmlkZXJcIl0sIHRoaXMuJHNsb3RzLmRpdmlkZXIgPyB0aGlzLiRzbG90cy5kaXZpZGVyIDogdGhpcy5kaXZpZGVyKTtcbiAgICB9LFxuICAgIGdlbkl0ZW1zOiBmdW5jdGlvbiBnZW5JdGVtcygpIHtcbiAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgdmFyIGhhc1Nsb3QgPSAhIXRoaXMuJHNjb3BlZFNsb3RzLml0ZW07XG4gICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICBrZXlzLnB1c2goaXRlbS50ZXh0KTtcbiAgICAgICAgaWYgKGhhc1Nsb3QpIGl0ZW1zLnB1c2godGhpcy4kc2NvcGVkU2xvdHMuaXRlbSh7XG4gICAgICAgICAgaXRlbTogaXRlbVxuICAgICAgICB9KSk7ZWxzZSBpdGVtcy5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVkJyZWFkY3J1bWJzSXRlbVwiXSwge1xuICAgICAgICAgIGtleToga2V5cy5qb2luKCcuJyksXG4gICAgICAgICAgcHJvcHM6IGl0ZW1cbiAgICAgICAgfSwgW2l0ZW0udGV4dF0pKTtcbiAgICAgICAgaWYgKGkgPCB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpIGl0ZW1zLnB1c2godGhpcy5nZW5EaXZpZGVyKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCB0aGlzLmdlbkl0ZW1zKCk7XG4gICAgcmV0dXJuIGgoJ3VsJywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWJyZWFkY3J1bWJzJyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXNcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQnJlYWRjcnVtYnMvVkJyZWFkY3J1bWJzSXRlbS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1ic0l0ZW0udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yb3V0YWJsZSAqLyBcIi4vc3JjL21peGlucy9yb3V0YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1icmVhZGNydW1icy1pdGVtJyxcbiAgcHJvcHM6IHtcbiAgICAvLyBJbiBhIGJyZWFkY3J1bWIsIHRoZSBjdXJyZW50bHlcbiAgICAvLyBhY3RpdmUgaXRlbSBzaG91bGQgYmUgZGltbWVkXG4gICAgYWN0aXZlQ2xhc3M6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICd2LWJyZWFkY3J1bWJzX19pdGVtLS1kaXNhYmxlZCdcbiAgICB9LFxuICAgIHJpcHBsZToge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gX2EgPSB7XG4gICAgICAgICd2LWJyZWFkY3J1bWJzX19pdGVtJzogdHJ1ZVxuICAgICAgfSwgX2FbdGhpcy5hY3RpdmVDbGFzc10gPSB0aGlzLmRpc2FibGVkLCBfYTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLmdlbmVyYXRlUm91dGVMaW5rKCksXG4gICAgICAgIHRhZyA9IF9hLnRhZyxcbiAgICAgICAgZGF0YSA9IF9hLmRhdGE7XG5cbiAgICByZXR1cm4gaCgnbGknLCBbaCh0YWcsIF9fYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgICBhdHRyczogX19hc3NpZ24oe30sIGRhdGEuYXR0cnMsIHtcbiAgICAgICAgJ2FyaWEtY3VycmVudCc6IHRoaXMuaXNBY3RpdmUgJiYgdGhpcy5pc0xpbmsgPyAncGFnZScgOiB1bmRlZmluZWRcbiAgICAgIH0pXG4gICAgfSksIHRoaXMuJHNsb3RzLmRlZmF1bHQpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQnJlYWRjcnVtYnMvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQnJlYWRjcnVtYnMvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkJyZWFkY3J1bWJzLCBWQnJlYWRjcnVtYnNJdGVtLCBWQnJlYWRjcnVtYnNEaXZpZGVyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCcmVhZGNydW1ic0RpdmlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWQnJlYWRjcnVtYnNEaXZpZGVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJyZWFkY3J1bWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCcmVhZGNydW1icyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1icy50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCcmVhZGNydW1ic1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQnJlYWRjcnVtYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCcmVhZGNydW1ic0l0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJyZWFkY3J1bWJzSXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJyZWFkY3J1bWJzL1ZCcmVhZGNydW1ic0l0ZW0udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQnJlYWRjcnVtYnNJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCcmVhZGNydW1ic0l0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuXG5cblxudmFyIFZCcmVhZGNydW1ic0RpdmlkZXIgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY3JlYXRlU2ltcGxlRnVuY3Rpb25hbFwiXSkoJ3YtYnJlYWRjcnVtYnNfX2RpdmlkZXInLCAnbGknKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkJyZWFkY3J1bWJzOiBfVkJyZWFkY3J1bWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZCcmVhZGNydW1ic0l0ZW06IF9WQnJlYWRjcnVtYnNJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICAgIFZCcmVhZGNydW1ic0RpdmlkZXI6IFZCcmVhZGNydW1ic0RpdmlkZXJcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0bi9WQnRuLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCdG4vVkJ0bi5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0bi9WQnRuLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkJ0bi9WQnRuLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQnRuLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vVkJ0bi5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkJ0bl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTaGVldCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlByb2dyZXNzQ2lyY3VsYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZ3JvdXBhYmxlICovIFwiLi9zcmMvbWl4aW5zL2dyb3VwYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19wb3NpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9wb3NpdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcG9zaXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yb3V0YWJsZSAqLyBcIi4vc3JjL21peGlucy9yb3V0YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3NpemVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvc2l6ZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvc2l6ZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIENvbXBvbmVudHNcblxuIC8vIE1peGluc1xuXG5cblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSkoX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19yb3V0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSwgX21peGluc19wb3NpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfc2l6ZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZmFjdG9yeVwiXSkoJ2J0blRvZ2dsZScpLCBPYmplY3QoX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJmYWN0b3J5XCJdKSgnaW5wdXRWYWx1ZScpXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAndi1idG4nLFxuICBwcm9wczoge1xuICAgIGFjdGl2ZUNsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ0blRvZ2dsZSkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5idG5Ub2dnbGUuYWN0aXZlQ2xhc3M7XG4gICAgICB9XG4gICAgfSxcbiAgICBibG9jazogQm9vbGVhbixcbiAgICBkZXByZXNzZWQ6IEJvb2xlYW4sXG4gICAgZmFiOiBCb29sZWFuLFxuICAgIGljb246IEJvb2xlYW4sXG4gICAgbG9hZGluZzogQm9vbGVhbixcbiAgICBvdXRsaW5lZDogQm9vbGVhbixcbiAgICByZXRhaW5Gb2N1c09uQ2xpY2s6IEJvb2xlYW4sXG4gICAgcm91bmRlZDogQm9vbGVhbixcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdidXR0b24nXG4gICAgfSxcbiAgICB0ZXh0OiBCb29sZWFuLFxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdidXR0b24nXG4gICAgfSxcbiAgICB2YWx1ZTogbnVsbFxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm94eUNsYXNzOiAndi1idG4tLWFjdGl2ZSdcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1idG4nOiB0cnVlXG4gICAgICB9LCBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWJ0bi0tYWJzb2x1dGUnOiB0aGlzLmFic29sdXRlLFxuICAgICAgICAndi1idG4tLWJsb2NrJzogdGhpcy5ibG9jayxcbiAgICAgICAgJ3YtYnRuLS1ib3R0b20nOiB0aGlzLmJvdHRvbSxcbiAgICAgICAgJ3YtYnRuLS1jb250YWluZWQnOiB0aGlzLmNvbnRhaW5lZCxcbiAgICAgICAgJ3YtYnRuLS1kZXByZXNzZWQnOiB0aGlzLmRlcHJlc3NlZCB8fCB0aGlzLm91dGxpbmVkLFxuICAgICAgICAndi1idG4tLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgJ3YtYnRuLS1mYWInOiB0aGlzLmZhYixcbiAgICAgICAgJ3YtYnRuLS1maXhlZCc6IHRoaXMuZml4ZWQsXG4gICAgICAgICd2LWJ0bi0tZmxhdCc6IHRoaXMuaXNGbGF0LFxuICAgICAgICAndi1idG4tLWljb24nOiB0aGlzLmljb24sXG4gICAgICAgICd2LWJ0bi0tbGVmdCc6IHRoaXMubGVmdCxcbiAgICAgICAgJ3YtYnRuLS1sb2FkaW5nJzogdGhpcy5sb2FkaW5nLFxuICAgICAgICAndi1idG4tLW91dGxpbmVkJzogdGhpcy5vdXRsaW5lZCxcbiAgICAgICAgJ3YtYnRuLS1yaWdodCc6IHRoaXMucmlnaHQsXG4gICAgICAgICd2LWJ0bi0tcm91bmQnOiB0aGlzLmlzUm91bmQsXG4gICAgICAgICd2LWJ0bi0tcm91bmRlZCc6IHRoaXMucm91bmRlZCxcbiAgICAgICAgJ3YtYnRuLS1yb3V0ZXInOiB0aGlzLnRvLFxuICAgICAgICAndi1idG4tLXRleHQnOiB0aGlzLnRleHQsXG4gICAgICAgICd2LWJ0bi0tdGlsZSc6IHRoaXMudGlsZSxcbiAgICAgICAgJ3YtYnRuLS10b3AnOiB0aGlzLnRvcFxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMsIHRoaXMuZ3JvdXBDbGFzc2VzLCB0aGlzLmVsZXZhdGlvbkNsYXNzZXMsIHRoaXMuc2l6ZWFibGVDbGFzc2VzKTtcbiAgICB9LFxuICAgIGNvbnRhaW5lZDogZnVuY3Rpb24gY29udGFpbmVkKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oIXRoaXMuaXNGbGF0ICYmICF0aGlzLmRlcHJlc3NlZCAmJiAvLyBDb250YWluZWQgY2xhc3Mgb25seSBhZGRzIGVsZXZhdGlvblxuICAgICAgLy8gaXMgbm90IG5lZWRlZCBpZiB1c2VyIHByb3ZpZGVzIHZhbHVlXG4gICAgICAhdGhpcy5lbGV2YXRpb24pO1xuICAgIH0sXG4gICAgY29tcHV0ZWRSaXBwbGU6IGZ1bmN0aW9uIGNvbXB1dGVkUmlwcGxlKCkge1xuICAgICAgdmFyIGRlZmF1bHRSaXBwbGUgPSB0aGlzLmljb24gfHwgdGhpcy5mYWIgPyB7XG4gICAgICAgIGNpcmNsZTogdHJ1ZVxuICAgICAgfSA6IHRydWU7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuIGZhbHNlO2Vsc2UgcmV0dXJuIHRoaXMucmlwcGxlICE9IG51bGwgPyB0aGlzLnJpcHBsZSA6IGRlZmF1bHRSaXBwbGU7XG4gICAgfSxcbiAgICBpc0ZsYXQ6IGZ1bmN0aW9uIGlzRmxhdCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuaWNvbiB8fCB0aGlzLnRleHQgfHwgdGhpcy5vdXRsaW5lZCk7XG4gICAgfSxcbiAgICBpc1JvdW5kOiBmdW5jdGlvbiBpc1JvdW5kKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5pY29uIHx8IHRoaXMuZmFiKTtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCB0aGlzLm1lYXN1cmFibGVTdHlsZXMpO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGJyZWFraW5nUHJvcHMgPSBbWydmbGF0JywgJ3RleHQnXSwgWydvdXRsaW5lJywgJ291dGxpbmVkJ10sIFsncm91bmQnLCAncm91bmRlZCddXTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gICAgYnJlYWtpbmdQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSxcbiAgICAgICAgICBvcmlnaW5hbCA9IF9iWzBdLFxuICAgICAgICAgIHJlcGxhY2VtZW50ID0gX2JbMV07XG5cbiAgICAgIGlmIChfdGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkob3JpZ2luYWwpKSBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiYnJlYWtpbmdcIl0pKG9yaWdpbmFsLCByZXBsYWNlbWVudCwgX3RoaXMpO1xuICAgIH0pO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHtcbiAgICAgICF0aGlzLnJldGFpbkZvY3VzT25DbGljayAmJiAhdGhpcy5mYWIgJiYgZS5kZXRhaWwgJiYgdGhpcy4kZWwuYmx1cigpO1xuICAgICAgdGhpcy4kZW1pdCgnY2xpY2snLCBlKTtcbiAgICAgIHRoaXMuYnRuVG9nZ2xlICYmIHRoaXMudG9nZ2xlKCk7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1idG5fX2NvbnRlbnQnXG4gICAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgICB9LFxuICAgIGdlbkxvYWRlcjogZnVuY3Rpb24gZ2VuTG9hZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIGNsYXNzOiAndi1idG5fX2xvYWRlcidcbiAgICAgIH0sIHRoaXMuJHNsb3RzLmxvYWRlciB8fCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVlByb2dyZXNzQ2lyY3VsYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBpbmRldGVybWluYXRlOiB0cnVlLFxuICAgICAgICAgIHNpemU6IDIzLFxuICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuZ2VuQ29udGVudCgpLCB0aGlzLmxvYWRpbmcgJiYgdGhpcy5nZW5Mb2FkZXIoKV07XG4gICAgdmFyIHNldENvbG9yID0gIXRoaXMuaXNGbGF0ID8gdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IgOiB0aGlzLnNldFRleHRDb2xvcjtcblxuICAgIHZhciBfYSA9IHRoaXMuZ2VuZXJhdGVSb3V0ZUxpbmsoKSxcbiAgICAgICAgdGFnID0gX2EudGFnLFxuICAgICAgICBkYXRhID0gX2EuZGF0YTtcblxuICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICBkYXRhLmF0dHJzLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICBkYXRhLmF0dHJzLmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICB9XG5cbiAgICBkYXRhLmF0dHJzLnZhbHVlID0gWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5jbHVkZXMoX3R5cGVvZih0aGlzLnZhbHVlKSkgPyB0aGlzLnZhbHVlIDogSlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSk7XG4gICAgcmV0dXJuIGgodGFnLCB0aGlzLmRpc2FibGVkID8gZGF0YSA6IHNldENvbG9yKHRoaXMuY29sb3IsIGRhdGEpLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZCdG4sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJ0biAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0bi9WQnRuLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJ0blwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG5Ub2dnbGUvVkJ0blRvZ2dsZS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQnRuVG9nZ2xlL1ZCdG5Ub2dnbGUuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG5Ub2dnbGUvVkJ0blRvZ2dsZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCdG5Ub2dnbGUvVkJ0blRvZ2dsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuVG9nZ2xlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJ0blRvZ2dsZS5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuVG9nZ2xlL1ZCdG5Ub2dnbGUuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJ0blRvZ2dsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZCdG5Ub2dnbGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2J1dHRvbl9ncm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2J1dHRvbi1ncm91cCAqLyBcIi4vc3JjL21peGlucy9idXR0b24tZ3JvdXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2J1dHRvbl9ncm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWJ0bi10b2dnbGUnLFxuICBwcm9wczoge1xuICAgIGJhY2tncm91bmRDb2xvcjogU3RyaW5nLFxuICAgIGJvcmRlcmxlc3M6IEJvb2xlYW4sXG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgZ3JvdXA6IEJvb2xlYW4sXG4gICAgcm91bmRlZDogQm9vbGVhbixcbiAgICBzaGFwZWQ6IEJvb2xlYW4sXG4gICAgdGlsZTogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9taXhpbnNfYnV0dG9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWJ0bi10b2dnbGUnOiB0cnVlLFxuICAgICAgICAndi1idG4tdG9nZ2xlLS1ib3JkZXJsZXNzJzogdGhpcy5ib3JkZXJsZXNzLFxuICAgICAgICAndi1idG4tdG9nZ2xlLS1kZW5zZSc6IHRoaXMuZGVuc2UsXG4gICAgICAgICd2LWJ0bi10b2dnbGUtLWdyb3VwJzogdGhpcy5ncm91cCxcbiAgICAgICAgJ3YtYnRuLXRvZ2dsZS0tcm91bmRlZCc6IHRoaXMucm91bmRlZCxcbiAgICAgICAgJ3YtYnRuLXRvZ2dsZS0tc2hhcGVkJzogdGhpcy5zaGFwZWQsXG4gICAgICAgICd2LWJ0bi10b2dnbGUtLXRpbGUnOiB0aGlzLnRpbGVcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5EYXRhOiBmdW5jdGlvbiBnZW5EYXRhKCkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLnNldFRleHRDb2xvcih0aGlzLmNvbG9yLCBfX2Fzc2lnbih7fSwgX21peGluc19idXR0b25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkRhdGEuY2FsbCh0aGlzKSkpO1xuICAgICAgaWYgKHRoaXMuZ3JvdXApIHJldHVybiBkYXRhO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yLCBkYXRhKTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuVG9nZ2xlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZCdG5Ub2dnbGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZCdG5Ub2dnbGUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5Ub2dnbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJ0blRvZ2dsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0blRvZ2dsZS9WQnRuVG9nZ2xlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJ0blRvZ2dsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQnRuVG9nZ2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZCdG5Ub2dnbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9WQ2FsZW5kYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NhbGVuZGFyX3dpdGhfZXZlbnRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21peGlucy9jYWxlbmRhci13aXRoLWV2ZW50cyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci13aXRoLWV2ZW50cy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsL3Byb3BzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9wcm9wcy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbC90aW1lc3RhbXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci91dGlsL3RpbWVzdGFtcC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyTW9udGhseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2FsZW5kYXJNb250aGx5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyTW9udGhseS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyRGFpbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyRGFpbHkgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9WQ2FsZW5kYXJEYWlseS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyV2Vla2x5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDYWxlbmRhcldlZWtseSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhcldlZWtseS50c1wiKTtcbi8vIFN0eWxlc1xuLy8gaW1wb3J0ICcuLi8uLi9zdHlsdXMvY29tcG9uZW50cy9fY2FsZW5kYXItZGFpbHkuc3R5bCdcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIE1peGluc1xuXG5cbiAvLyBVdGlsXG5cblxuIC8vIENhbGVuZGFyc1xuXG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9taXhpbnNfY2FsZW5kYXJfd2l0aF9ldmVudHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtY2FsZW5kYXInLFxuICBwcm9wczogX19hc3NpZ24oe30sIF91dGlsX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmNhbGVuZGFyLCBfdXRpbF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS53ZWVrcywgX3V0aWxfcHJvcHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uaW50ZXJ2YWxzKSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdFN0YXJ0OiBudWxsLFxuICAgICAgbGFzdEVuZDogbnVsbFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgcGFyc2VkVmFsdWU6IGZ1bmN0aW9uIHBhcnNlZFZhbHVlKCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInZhbGlkYXRlVGltZXN0YW1wXCJdKSh0aGlzLnZhbHVlKSA/IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInBhcnNlVGltZXN0YW1wXCJdKSh0aGlzLnZhbHVlKSA6IHRoaXMucGFyc2VkU3RhcnQgfHwgdGhpcy50aW1lcy50b2RheTtcbiAgICB9LFxuICAgIHJlbmRlclByb3BzOiBmdW5jdGlvbiByZW5kZXJQcm9wcygpIHtcbiAgICAgIHZhciBhcm91bmQgPSB0aGlzLnBhcnNlZFZhbHVlO1xuICAgICAgdmFyIGNvbXBvbmVudCA9IG51bGw7XG4gICAgICB2YXIgbWF4RGF5cyA9IHRoaXMubWF4RGF5cztcbiAgICAgIHZhciBzdGFydCA9IGFyb3VuZDtcbiAgICAgIHZhciBlbmQgPSBhcm91bmQ7XG5cbiAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICBjb21wb25lbnQgPSBfVkNhbGVuZGFyTW9udGhseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICBzdGFydCA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImdldFN0YXJ0T2ZNb250aFwiXSkoYXJvdW5kKTtcbiAgICAgICAgICBlbmQgPSBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRFbmRPZk1vbnRoXCJdKShhcm91bmQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgIGNvbXBvbmVudCA9IF9WQ2FsZW5kYXJEYWlseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICBzdGFydCA9IHRoaXMuZ2V0U3RhcnRPZldlZWsoYXJvdW5kKTtcbiAgICAgICAgICBlbmQgPSB0aGlzLmdldEVuZE9mV2Vlayhhcm91bmQpO1xuICAgICAgICAgIG1heERheXMgPSA3O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgY29tcG9uZW50ID0gX1ZDYWxlbmRhckRhaWx5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdO1xuICAgICAgICAgIG1heERheXMgPSAxO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJzRkYXknOlxuICAgICAgICAgIGNvbXBvbmVudCA9IF9WQ2FsZW5kYXJEYWlseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICBlbmQgPSBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJyZWxhdGl2ZURheXNcIl0pKE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvcHlUaW1lc3RhbXBcIl0pKGVuZCksIF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wibmV4dERheVwiXSwgNCk7XG4gICAgICAgICAgT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1widXBkYXRlRm9ybWF0dGVkXCJdKShlbmQpO1xuICAgICAgICAgIG1heERheXMgPSA0O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2N1c3RvbS13ZWVrbHknOlxuICAgICAgICAgIGNvbXBvbmVudCA9IF9WQ2FsZW5kYXJXZWVrbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl07XG4gICAgICAgICAgc3RhcnQgPSB0aGlzLnBhcnNlZFN0YXJ0IHx8IGFyb3VuZDtcbiAgICAgICAgICBlbmQgPSB0aGlzLnBhcnNlZEVuZDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjdXN0b20tZGFpbHknOlxuICAgICAgICAgIGNvbXBvbmVudCA9IF9WQ2FsZW5kYXJEYWlseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICBzdGFydCA9IHRoaXMucGFyc2VkU3RhcnQgfHwgYXJvdW5kO1xuICAgICAgICAgIGVuZCA9IHRoaXMucGFyc2VkRW5kO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZSArICcgaXMgbm90IGEgdmFsaWQgQ2FsZW5kYXIgdHlwZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgbWF4RGF5czogbWF4RGF5c1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgcmVuZGVyUHJvcHM6ICdjaGVja0NoYW5nZSdcbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLnVwZGF0ZUV2ZW50VmlzaWJpbGl0eSgpO1xuICB9LFxuICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge1xuICAgIHRoaXMudXBkYXRlRXZlbnRWaXNpYmlsaXR5KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjaGVja0NoYW5nZTogZnVuY3Rpb24gY2hlY2tDaGFuZ2UoKSB7XG4gICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlclByb3BzLFxuICAgICAgICAgIHN0YXJ0ID0gX2Euc3RhcnQsXG4gICAgICAgICAgZW5kID0gX2EuZW5kO1xuXG4gICAgICBpZiAoc3RhcnQgIT09IHRoaXMubGFzdFN0YXJ0IHx8IGVuZCAhPT0gdGhpcy5sYXN0RW5kKSB7XG4gICAgICAgIHRoaXMubGFzdFN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMubGFzdEVuZCA9IGVuZDtcbiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICBlbmQ6IGVuZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoYW1vdW50KSB7XG4gICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgYW1vdW50ID0gMTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1vdmVkID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29weVRpbWVzdGFtcFwiXSkodGhpcy5wYXJzZWRWYWx1ZSk7XG4gICAgICB2YXIgZm9yd2FyZCA9IGFtb3VudCA+IDA7XG4gICAgICB2YXIgbW92ZXIgPSBmb3J3YXJkID8gX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJuZXh0RGF5XCJdIDogX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJwcmV2RGF5XCJdO1xuICAgICAgdmFyIGxpbWl0ID0gZm9yd2FyZCA/IF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiREFZU19JTl9NT05USF9NQVhcIl0gOiBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkRBWV9NSU5cIl07XG4gICAgICB2YXIgdGltZXMgPSBmb3J3YXJkID8gYW1vdW50IDogLWFtb3VudDtcblxuICAgICAgd2hpbGUgKC0tdGltZXMgPj0gMCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIG1vdmVkLmRheSA9IGxpbWl0O1xuICAgICAgICAgICAgbW92ZXIobW92ZWQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInJlbGF0aXZlRGF5c1wiXSkobW92ZWQsIG1vdmVyLCBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkRBWVNfSU5fV0VFS1wiXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBtb3ZlZC53ZWVrZGF5O1xuICAgICAgICAgICAgdmFyIGRheXMgPSBmb3J3YXJkID8gdGhpcy53ZWVrZGF5U2tpcHNbaW5kZXhdIDogdGhpcy53ZWVrZGF5U2tpcHNSZXZlcnNlW2luZGV4XTtcbiAgICAgICAgICAgIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInJlbGF0aXZlRGF5c1wiXSkobW92ZWQsIG1vdmVyLCBkYXlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnNGRheSc6XG4gICAgICAgICAgICBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJyZWxhdGl2ZURheXNcIl0pKG1vdmVkLCBtb3ZlciwgNCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJ1cGRhdGVXZWVrZGF5XCJdKShtb3ZlZCk7XG4gICAgICBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJ1cGRhdGVGb3JtYXR0ZWRcIl0pKG1vdmVkKTtcbiAgICAgIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInVwZGF0ZVJlbGF0aXZlXCJdKShtb3ZlZCwgdGhpcy50aW1lcy5ub3cpO1xuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBtb3ZlZC5kYXRlKTtcbiAgICAgIHRoaXMuJGVtaXQoJ21vdmVkJywgbW92ZWQpO1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dChhbW91bnQpIHtcbiAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkge1xuICAgICAgICBhbW91bnQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1vdmUoYW1vdW50KTtcbiAgICB9LFxuICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoYW1vdW50KSB7XG4gICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgYW1vdW50ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tb3ZlKC1hbW91bnQpO1xuICAgIH0sXG4gICAgdGltZVRvWTogZnVuY3Rpb24gdGltZVRvWSh0aW1lLCBjbGFtcCkge1xuICAgICAgaWYgKGNsYW1wID09PSB2b2lkIDApIHtcbiAgICAgICAgY2xhbXAgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYyA9IHRoaXMuJGNoaWxkcmVuWzBdO1xuXG4gICAgICBpZiAoYyAmJiBjLnRpbWVUb1kpIHtcbiAgICAgICAgcmV0dXJuIGMudGltZVRvWSh0aW1lLCBjbGFtcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBtaW51dGVzVG9QaXhlbHM6IGZ1bmN0aW9uIG1pbnV0ZXNUb1BpeGVscyhtaW51dGVzKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuJGNoaWxkcmVuWzBdO1xuXG4gICAgICBpZiAoYyAmJiBjLm1pbnV0ZXNUb1BpeGVscykge1xuICAgICAgICByZXR1cm4gYy5taW51dGVzVG9QaXhlbHMobWludXRlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSxcbiAgICBzY3JvbGxUb1RpbWU6IGZ1bmN0aW9uIHNjcm9sbFRvVGltZSh0aW1lKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuJGNoaWxkcmVuWzBdO1xuXG4gICAgICBpZiAoYyAmJiBjLnNjcm9sbFRvVGltZSkge1xuICAgICAgICByZXR1cm4gYy5zY3JvbGxUb1RpbWUodGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfYSA9IHRoaXMucmVuZGVyUHJvcHMsXG4gICAgICAgIHN0YXJ0ID0gX2Euc3RhcnQsXG4gICAgICAgIGVuZCA9IF9hLmVuZCxcbiAgICAgICAgbWF4RGF5cyA9IF9hLm1heERheXMsXG4gICAgICAgIGNvbXBvbmVudCA9IF9hLmNvbXBvbmVudDtcbiAgICByZXR1cm4gaChjb21wb25lbnQsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhcicsXG4gICAgICBjbGFzczoge1xuICAgICAgICAndi1jYWxlbmRhci1ldmVudHMnOiAhdGhpcy5ub0V2ZW50c1xuICAgICAgfSxcbiAgICAgIHByb3BzOiBfX2Fzc2lnbih7fSwgdGhpcy4kcHJvcHMsIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LmRhdGUsXG4gICAgICAgIGVuZDogZW5kLmRhdGUsXG4gICAgICAgIG1heERheXM6IG1heERheXNcbiAgICAgIH0pLFxuICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgbW9kaWZpZXJzOiB7XG4gICAgICAgICAgcXVpZXQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgIHZhbHVlOiB0aGlzLnVwZGF0ZUV2ZW50VmlzaWJpbGl0eVxuICAgICAgfV0sXG4gICAgICBvbjogX19hc3NpZ24oe30sIHRoaXMuJGxpc3RlbmVycywge1xuICAgICAgICAnY2xpY2s6ZGF0ZSc6IGZ1bmN0aW9uIGNsaWNrRGF0ZShkYXkpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuJGxpc3RlbmVyc1snaW5wdXQnXSkge1xuICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2lucHV0JywgZGF5LmRhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfdGhpcy4kbGlzdGVuZXJzWydjbGljazpkYXRlJ10pIHtcbiAgICAgICAgICAgIF90aGlzLiRlbWl0KCdjbGljazpkYXRlJywgZGF5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgc2NvcGVkU2xvdHM6IHRoaXMuZ2V0U2NvcGVkU2xvdHMoKVxuICAgIH0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhckRhaWx5LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9WQ2FsZW5kYXJEYWlseS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhckRhaWx5LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhckRhaWx5LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYWxlbmRhckRhaWx5X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyRGFpbHkuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhckRhaWx5LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYWxlbmRhckRhaWx5X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkNhbGVuZGFyRGFpbHlfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvcmVzaXplICovIFwiLi9zcmMvZGlyZWN0aXZlcy9yZXNpemUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jYWxlbmRhcl93aXRoX2ludGVydmFsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9taXhpbnMvY2FsZW5kYXItd2l0aC1pbnRlcnZhbHMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1pbnRlcnZhbHMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gQ29tcG9uZW50c1xuXG4gLy8gTWl4aW5zXG5cbiAvLyBVdGlsXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfbWl4aW5zX2NhbGVuZGFyX3dpdGhfaW50ZXJ2YWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNhbGVuZGFyLWRhaWx5JyxcbiAgZGlyZWN0aXZlczoge1xuICAgIFJlc2l6ZTogX2RpcmVjdGl2ZXNfcmVzaXplX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbFB1c2g6IDBcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1jYWxlbmRhci1kYWlseSc6IHRydWVcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5vblJlc2l6ZSk7XG4gICAgfSxcbiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB0aGlzLnNjcm9sbFB1c2ggPSB0aGlzLmdldFNjcm9sbFB1c2goKTtcbiAgICB9LFxuICAgIGdldFNjcm9sbFB1c2g6IGZ1bmN0aW9uIGdldFNjcm9sbFB1c2goKSB7XG4gICAgICB2YXIgYXJlYSA9IHRoaXMuJHJlZnMuc2Nyb2xsQXJlYTtcbiAgICAgIHZhciBwYW5lID0gdGhpcy4kcmVmcy5wYW5lO1xuICAgICAgcmV0dXJuIGFyZWEgJiYgcGFuZSA/IGFyZWEub2Zmc2V0V2lkdGggLSBwYW5lLm9mZnNldFdpZHRoIDogMDtcbiAgICB9LFxuICAgIGdlbkhlYWQ6IGZ1bmN0aW9uIGdlbkhlYWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2FsZW5kYXItZGFpbHlfX2hlYWQnLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLnNjcm9sbFB1c2ggKyAncHgnXG4gICAgICAgIH1cbiAgICAgIH0sIF9fc3ByZWFkKFt0aGlzLmdlbkhlYWRJbnRlcnZhbHMoKV0sIHRoaXMuZ2VuSGVhZERheXMoKSkpO1xuICAgIH0sXG4gICAgZ2VuSGVhZEludGVydmFsczogZnVuY3Rpb24gZ2VuSGVhZEludGVydmFscygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhci1kYWlseV9faW50ZXJ2YWxzLWhlYWQnXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkhlYWREYXlzOiBmdW5jdGlvbiBnZW5IZWFkRGF5cygpIHtcbiAgICAgIHJldHVybiB0aGlzLmRheXMubWFwKHRoaXMuZ2VuSGVhZERheSk7XG4gICAgfSxcbiAgICBnZW5IZWFkRGF5OiBmdW5jdGlvbiBnZW5IZWFkRGF5KGRheSwgaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBzbG90ID0gdGhpcy4kc2NvcGVkU2xvdHNbJ2RheS1oZWFkZXInXTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGtleTogZGF5LmRhdGUsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhci1kYWlseV9oZWFkLWRheScsXG4gICAgICAgIGNsYXNzOiB0aGlzLmdldFJlbGF0aXZlQ2xhc3NlcyhkYXkpLFxuICAgICAgICBvbjogdGhpcy5nZXREZWZhdWx0TW91c2VFdmVudEhhbmRsZXJzKCc6ZGF5JywgZnVuY3Rpb24gKF9lKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmdldFNsb3RTY29wZShkYXkpO1xuICAgICAgICB9KVxuICAgICAgfSwgW3RoaXMuZ2VuSGVhZFdlZWtkYXkoZGF5KSwgdGhpcy5nZW5IZWFkRGF5TGFiZWwoZGF5KSwgc2xvdCA/IHNsb3QoX19hc3NpZ24oe30sIGRheSwge1xuICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgIH0pKSA6ICcnXSk7XG4gICAgfSxcbiAgICBnZW5IZWFkV2Vla2RheTogZnVuY3Rpb24gZ2VuSGVhZFdlZWtkYXkoZGF5KSB7XG4gICAgICB2YXIgY29sb3IgPSBkYXkucHJlc2VudCA/IHRoaXMuY29sb3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IoY29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X2hlYWQtd2Vla2RheSdcbiAgICAgIH0pLCB0aGlzLndlZWtkYXlGb3JtYXR0ZXIoZGF5LCB0aGlzLnNob3J0V2Vla2RheXMpKTtcbiAgICB9LFxuICAgIGdlbkhlYWREYXlMYWJlbDogZnVuY3Rpb24gZ2VuSGVhZERheUxhYmVsKGRheSkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X2hlYWQtZGF5LWxhYmVsJ1xuICAgICAgfSwgW3RoaXMuZ2VuSGVhZERheUJ1dHRvbihkYXkpXSk7XG4gICAgfSxcbiAgICBnZW5IZWFkRGF5QnV0dG9uOiBmdW5jdGlvbiBnZW5IZWFkRGF5QnV0dG9uKGRheSkge1xuICAgICAgdmFyIGNvbG9yID0gZGF5LnByZXNlbnQgPyB0aGlzLmNvbG9yIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgIGZhYjogdHJ1ZSxcbiAgICAgICAgICBkZXByZXNzZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IHRoaXMuZ2V0TW91c2VFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgICAnY2xpY2s6ZGF0ZSc6IHtcbiAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snLFxuICAgICAgICAgICAgc3RvcDogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2NvbnRleHRtZW51OmRhdGUnOiB7XG4gICAgICAgICAgICBldmVudDogJ2NvbnRleHRtZW51JyxcbiAgICAgICAgICAgIHN0b3A6IHRydWUsXG4gICAgICAgICAgICBwcmV2ZW50OiB0cnVlLFxuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKF9lKSB7XG4gICAgICAgICAgcmV0dXJuIGRheTtcbiAgICAgICAgfSlcbiAgICAgIH0sIHRoaXMuZGF5Rm9ybWF0dGVyKGRheSwgZmFsc2UpKTtcbiAgICB9LFxuICAgIGdlbkJvZHk6IGZ1bmN0aW9uIGdlbkJvZHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2FsZW5kYXItZGFpbHlfX2JvZHknXG4gICAgICB9LCBbdGhpcy5nZW5TY3JvbGxBcmVhKCldKTtcbiAgICB9LFxuICAgIGdlblNjcm9sbEFyZWE6IGZ1bmN0aW9uIGdlblNjcm9sbEFyZWEoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICByZWY6ICdzY3JvbGxBcmVhJyxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X19zY3JvbGwtYXJlYSdcbiAgICAgIH0sIFt0aGlzLmdlblBhbmUoKV0pO1xuICAgIH0sXG4gICAgZ2VuUGFuZTogZnVuY3Rpb24gZ2VuUGFuZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHJlZjogJ3BhbmUnLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2FsZW5kYXItZGFpbHlfX3BhbmUnLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuYm9keUhlaWdodClcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuZ2VuRGF5Q29udGFpbmVyKCldKTtcbiAgICB9LFxuICAgIGdlbkRheUNvbnRhaW5lcjogZnVuY3Rpb24gZ2VuRGF5Q29udGFpbmVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X19kYXktY29udGFpbmVyJ1xuICAgICAgfSwgX19zcHJlYWQoW3RoaXMuZ2VuQm9keUludGVydmFscygpXSwgdGhpcy5nZW5EYXlzKCkpKTtcbiAgICB9LFxuICAgIGdlbkRheXM6IGZ1bmN0aW9uIGdlbkRheXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXlzLm1hcCh0aGlzLmdlbkRheSk7XG4gICAgfSxcbiAgICBnZW5EYXk6IGZ1bmN0aW9uIGdlbkRheShkYXksIGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc2xvdCA9IHRoaXMuJHNjb3BlZFNsb3RzWydkYXktYm9keSddO1xuICAgICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTbG90U2NvcGUoZGF5KTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGtleTogZGF5LmRhdGUsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhci1kYWlseV9fZGF5JyxcbiAgICAgICAgY2xhc3M6IHRoaXMuZ2V0UmVsYXRpdmVDbGFzc2VzKGRheSksXG4gICAgICAgIG9uOiB0aGlzLmdldERlZmF1bHRNb3VzZUV2ZW50SGFuZGxlcnMoJzp0aW1lJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U2xvdFNjb3BlKF90aGlzLmdldFRpbWVzdGFtcEF0RXZlbnQoZSwgZGF5KSk7XG4gICAgICAgIH0pXG4gICAgICB9LCBfX3NwcmVhZCh0aGlzLmdlbkRheUludGVydmFscyhpbmRleCksIFtzbG90ID8gc2xvdChzY29wZSkgOiAnJ10pKTtcbiAgICB9LFxuICAgIGdlbkRheUludGVydmFsczogZnVuY3Rpb24gZ2VuRGF5SW50ZXJ2YWxzKGluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHNbaW5kZXhdLm1hcCh0aGlzLmdlbkRheUludGVydmFsKTtcbiAgICB9LFxuICAgIGdlbkRheUludGVydmFsOiBmdW5jdGlvbiBnZW5EYXlJbnRlcnZhbChpbnRlcnZhbCkge1xuICAgICAgdmFyIGhlaWdodCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmludGVydmFsSGVpZ2h0KTtcbiAgICAgIHZhciBzdHlsZXIgPSB0aGlzLmludGVydmFsU3R5bGUgfHwgdGhpcy5pbnRlcnZhbFN0eWxlRGVmYXVsdDtcbiAgICAgIHZhciBzbG90ID0gdGhpcy4kc2NvcGVkU2xvdHMuaW50ZXJ2YWw7XG4gICAgICB2YXIgc2NvcGUgPSB0aGlzLmdldFNsb3RTY29wZShpbnRlcnZhbCk7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAga2V5OiBpbnRlcnZhbC50aW1lLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2FsZW5kYXItZGFpbHlfX2RheS1pbnRlcnZhbCcsXG4gICAgICAgIHN0eWxlOiBfX2Fzc2lnbih7XG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSwgc3R5bGVyKGludGVydmFsKSlcbiAgICAgIH07XG4gICAgICB2YXIgY2hpbGRyZW4gPSBzbG90ID8gc2xvdChzY29wZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgZGF0YSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuQm9keUludGVydmFsczogZnVuY3Rpb24gZ2VuQm9keUludGVydmFscygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2FsZW5kYXItZGFpbHlfX2ludGVydmFscy1ib2R5JyxcbiAgICAgICAgb246IHRoaXMuZ2V0RGVmYXVsdE1vdXNlRXZlbnRIYW5kbGVycygnOmludGVydmFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VGltZXN0YW1wQXRFdmVudChlLCBfdGhpcy5wYXJzZWRTdGFydCk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGRhdGEsIHRoaXMuZ2VuSW50ZXJ2YWxMYWJlbHMoKSk7XG4gICAgfSxcbiAgICBnZW5JbnRlcnZhbExhYmVsczogZnVuY3Rpb24gZ2VuSW50ZXJ2YWxMYWJlbHMoKSB7XG4gICAgICBpZiAoIXRoaXMuaW50ZXJ2YWxzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHNbMF0ubWFwKHRoaXMuZ2VuSW50ZXJ2YWxMYWJlbCk7XG4gICAgfSxcbiAgICBnZW5JbnRlcnZhbExhYmVsOiBmdW5jdGlvbiBnZW5JbnRlcnZhbExhYmVsKGludGVydmFsKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaW50ZXJ2YWxIZWlnaHQpO1xuICAgICAgdmFyIHNob3J0ID0gdGhpcy5zaG9ydEludGVydmFscztcbiAgICAgIHZhciBzaG93ZXIgPSB0aGlzLnNob3dJbnRlcnZhbExhYmVsIHx8IHRoaXMuc2hvd0ludGVydmFsTGFiZWxEZWZhdWx0O1xuICAgICAgdmFyIHNob3cgPSBzaG93ZXIoaW50ZXJ2YWwpO1xuICAgICAgdmFyIGxhYmVsID0gc2hvdyA/IHRoaXMuaW50ZXJ2YWxGb3JtYXR0ZXIoaW50ZXJ2YWwsIHNob3J0KSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGtleTogaW50ZXJ2YWwudGltZSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X19pbnRlcnZhbCcsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLWRhaWx5X19pbnRlcnZhbC10ZXh0J1xuICAgICAgfSwgbGFiZWwpXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBuYXRpdmVPbjoge1xuICAgICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uIGRyYWdzdGFydChlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgbW9kaWZpZXJzOiB7XG4gICAgICAgICAgcXVpZXQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgIHZhbHVlOiB0aGlzLm9uUmVzaXplXG4gICAgICB9XVxuICAgIH0sIFshdGhpcy5oaWRlSGVhZGVyID8gdGhpcy5nZW5IZWFkKCkgOiAnJywgdGhpcy5nZW5Cb2R5KCldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9WQ2FsZW5kYXJNb250aGx5LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyTW9udGhseS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYWxlbmRhcldlZWtseV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDYWxlbmRhcldlZWtseS5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYWxlbmRhcldlZWtseV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDYWxlbmRhcldlZWtseV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FsZW5kYXJXZWVrbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyV2Vla2x5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsL3RpbWVzdGFtcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL3V0aWwvdGltZXN0YW1wLnRzXCIpO1xuLy8gU3R5bGVzXG4gLy8gTWl4aW5zXG5cbiAvLyBVdGlsXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkNhbGVuZGFyV2Vla2x5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNhbGVuZGFyLW1vbnRobHknLFxuICBjb21wdXRlZDoge1xuICAgIHN0YXRpY0NsYXNzOiBmdW5jdGlvbiBzdGF0aWNDbGFzcygpIHtcbiAgICAgIHJldHVybiAndi1jYWxlbmRhci1tb250aGx5IHYtY2FsZW5kYXItd2Vla2x5JztcbiAgICB9LFxuICAgIHBhcnNlZFN0YXJ0OiBmdW5jdGlvbiBwYXJzZWRTdGFydCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRTdGFydE9mTW9udGhcIl0pKE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInBhcnNlVGltZXN0YW1wXCJdKSh0aGlzLnN0YXJ0KSk7XG4gICAgfSxcbiAgICBwYXJzZWRFbmQ6IGZ1bmN0aW9uIHBhcnNlZEVuZCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRFbmRPZk1vbnRoXCJdKShPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJwYXJzZVRpbWVzdGFtcFwiXSkodGhpcy5lbmQpKTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhcldlZWtseS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FsZW5kYXJXZWVrbHlfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2FsZW5kYXJXZWVrbHkuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL1ZDYWxlbmRhcldlZWtseS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FsZW5kYXJXZWVrbHlfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ2FsZW5kYXJXZWVrbHlfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkJ0biAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0bi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NhbGVuZGFyX2Jhc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWl4aW5zL2NhbGVuZGFyLWJhc2UgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItYmFzZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsL3Byb3BzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9wcm9wcy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbC90aW1lc3RhbXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci91dGlsL3RpbWVzdGFtcC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIENvbXBvbmVudHNcblxuIC8vIE1peGluc1xuXG4gLy8gVXRpbFxuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfbWl4aW5zX2NhbGVuZGFyX2Jhc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtY2FsZW5kYXItd2Vla2x5JyxcbiAgcHJvcHM6IF91dGlsX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLndlZWtzLFxuICBjb21wdXRlZDoge1xuICAgIHN0YXRpY0NsYXNzOiBmdW5jdGlvbiBzdGF0aWNDbGFzcygpIHtcbiAgICAgIHJldHVybiAndi1jYWxlbmRhci13ZWVrbHknO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW1lQ2xhc3NlcztcbiAgICB9LFxuICAgIHBhcnNlZE1pbldlZWtzOiBmdW5jdGlvbiBwYXJzZWRNaW5XZWVrcygpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLm1pbldlZWtzKTtcbiAgICB9LFxuICAgIGRheXM6IGZ1bmN0aW9uIGRheXMoKSB7XG4gICAgICB2YXIgbWluRGF5cyA9IHRoaXMucGFyc2VkTWluV2Vla3MgKiB0aGlzLndlZWtkYXlzLmxlbmd0aDtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMuZ2V0U3RhcnRPZldlZWsodGhpcy5wYXJzZWRTdGFydCk7XG4gICAgICB2YXIgZW5kID0gdGhpcy5nZXRFbmRPZldlZWsodGhpcy5wYXJzZWRFbmQpO1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNyZWF0ZURheUxpc3RcIl0pKHN0YXJ0LCBlbmQsIHRoaXMudGltZXMudG9kYXksIHRoaXMud2Vla2RheVNraXBzLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwgbWluRGF5cyk7XG4gICAgfSxcbiAgICB0b2RheVdlZWs6IGZ1bmN0aW9uIHRvZGF5V2VlaygpIHtcbiAgICAgIHZhciB0b2RheSA9IHRoaXMudGltZXMudG9kYXk7XG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLmdldFN0YXJ0T2ZXZWVrKHRvZGF5KTtcbiAgICAgIHZhciBlbmQgPSB0aGlzLmdldEVuZE9mV2Vlayh0b2RheSk7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY3JlYXRlRGF5TGlzdFwiXSkoc3RhcnQsIGVuZCwgdG9kYXksIHRoaXMud2Vla2RheVNraXBzLCB0aGlzLndlZWtkYXlzLmxlbmd0aCwgdGhpcy53ZWVrZGF5cy5sZW5ndGgpO1xuICAgIH0sXG4gICAgbW9udGhGb3JtYXR0ZXI6IGZ1bmN0aW9uIG1vbnRoRm9ybWF0dGVyKCkge1xuICAgICAgaWYgKHRoaXMubW9udGhGb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhGb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb25nT3B0aW9ucyA9IHtcbiAgICAgICAgdGltZVpvbmU6ICdVVEMnLFxuICAgICAgICBtb250aDogJ2xvbmcnXG4gICAgICB9O1xuICAgICAgdmFyIHNob3J0T3B0aW9ucyA9IHtcbiAgICAgICAgdGltZVpvbmU6ICdVVEMnLFxuICAgICAgICBtb250aDogJ3Nob3J0J1xuICAgICAgfTtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJcIl0pKHRoaXMuY3VycmVudExvY2FsZSwgZnVuY3Rpb24gKF90bXMsIHNob3J0KSB7XG4gICAgICAgIHJldHVybiBzaG9ydCA/IHNob3J0T3B0aW9ucyA6IGxvbmdPcHRpb25zO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgaXNPdXRzaWRlOiBmdW5jdGlvbiBpc091dHNpZGUoZGF5KSB7XG4gICAgICB2YXIgZGF5SWRlbnRpZmllciA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldERheUlkZW50aWZpZXJcIl0pKGRheSk7XG4gICAgICByZXR1cm4gZGF5SWRlbnRpZmllciA8IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldERheUlkZW50aWZpZXJcIl0pKHRoaXMucGFyc2VkU3RhcnQpIHx8IGRheUlkZW50aWZpZXIgPiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZXREYXlJZGVudGlmaWVyXCJdKSh0aGlzLnBhcnNlZEVuZCk7XG4gICAgfSxcbiAgICBnZW5IZWFkOiBmdW5jdGlvbiBnZW5IZWFkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLXdlZWtseV9faGVhZCdcbiAgICAgIH0sIHRoaXMuZ2VuSGVhZERheXMoKSk7XG4gICAgfSxcbiAgICBnZW5IZWFkRGF5czogZnVuY3Rpb24gZ2VuSGVhZERheXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2RheVdlZWsubWFwKHRoaXMuZ2VuSGVhZERheSk7XG4gICAgfSxcbiAgICBnZW5IZWFkRGF5OiBmdW5jdGlvbiBnZW5IZWFkRGF5KGRheSwgaW5kZXgpIHtcbiAgICAgIHZhciBvdXRzaWRlID0gdGhpcy5pc091dHNpZGUodGhpcy5kYXlzW2luZGV4XSk7XG4gICAgICB2YXIgY29sb3IgPSBkYXkucHJlc2VudCA/IHRoaXMuY29sb3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IoY29sb3IsIHtcbiAgICAgICAga2V5OiBkYXkuZGF0ZSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLXdlZWtseV9faGVhZC13ZWVrZGF5JyxcbiAgICAgICAgY2xhc3M6IHRoaXMuZ2V0UmVsYXRpdmVDbGFzc2VzKGRheSwgb3V0c2lkZSlcbiAgICAgIH0pLCB0aGlzLndlZWtkYXlGb3JtYXR0ZXIoZGF5LCB0aGlzLnNob3J0V2Vla2RheXMpKTtcbiAgICB9LFxuICAgIGdlbldlZWtzOiBmdW5jdGlvbiBnZW5XZWVrcygpIHtcbiAgICAgIHZhciBkYXlzID0gdGhpcy5kYXlzO1xuICAgICAgdmFyIHdlZWtEYXlzID0gdGhpcy53ZWVrZGF5cy5sZW5ndGg7XG4gICAgICB2YXIgd2Vla3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXlzLmxlbmd0aDsgaSArPSB3ZWVrRGF5cykge1xuICAgICAgICB3ZWVrcy5wdXNoKHRoaXMuZ2VuV2VlayhkYXlzLnNsaWNlKGksIGkgKyB3ZWVrRGF5cykpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdlZWtzO1xuICAgIH0sXG4gICAgZ2VuV2VlazogZnVuY3Rpb24gZ2VuV2Vlayh3ZWVrKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBrZXk6IHdlZWtbMF0uZGF0ZSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLXdlZWtseV9fd2VlaydcbiAgICAgIH0sIHdlZWsubWFwKHRoaXMuZ2VuRGF5KSk7XG4gICAgfSxcbiAgICBnZW5EYXk6IGZ1bmN0aW9uIGdlbkRheShkYXksIGluZGV4KSB7XG4gICAgICB2YXIgb3V0c2lkZSA9IHRoaXMuaXNPdXRzaWRlKGRheSk7XG4gICAgICB2YXIgc2xvdCA9IHRoaXMuJHNjb3BlZFNsb3RzLmRheTtcblxuICAgICAgdmFyIHNjb3BlID0gX19hc3NpZ24oe1xuICAgICAgICBvdXRzaWRlOiBvdXRzaWRlLFxuICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgIH0sIGRheSk7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGtleTogZGF5LmRhdGUsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhci13ZWVrbHlfX2RheScsXG4gICAgICAgIGNsYXNzOiB0aGlzLmdldFJlbGF0aXZlQ2xhc3NlcyhkYXksIG91dHNpZGUpLFxuICAgICAgICBvbjogdGhpcy5nZXREZWZhdWx0TW91c2VFdmVudEhhbmRsZXJzKCc6ZGF5JywgZnVuY3Rpb24gKF9lKSB7XG4gICAgICAgICAgcmV0dXJuIGRheTtcbiAgICAgICAgfSlcbiAgICAgIH0sIFt0aGlzLmdlbkRheUxhYmVsKGRheSksIHNsb3QgPyBzbG90KHNjb3BlKSA6ICcnXSk7XG4gICAgfSxcbiAgICBnZW5EYXlMYWJlbDogZnVuY3Rpb24gZ2VuRGF5TGFiZWwoZGF5KSB7XG4gICAgICB2YXIgc2xvdCA9IHRoaXMuJHNjb3BlZFNsb3RzWydkYXktbGFiZWwnXTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYWxlbmRhci13ZWVrbHlfX2RheS1sYWJlbCdcbiAgICAgIH0sIFtzbG90ID8gc2xvdChkYXkpIDogdGhpcy5nZW5EYXlMYWJlbEJ1dHRvbihkYXkpXSk7XG4gICAgfSxcbiAgICBnZW5EYXlMYWJlbEJ1dHRvbjogZnVuY3Rpb24gZ2VuRGF5TGFiZWxCdXR0b24oZGF5KSB7XG4gICAgICB2YXIgY29sb3IgPSBkYXkucHJlc2VudCA/IHRoaXMuY29sb3IgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgdmFyIGhhc01vbnRoID0gZGF5LmRheSA9PT0gMSAmJiB0aGlzLnNob3dNb250aE9uRmlyc3Q7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICBmYWI6IHRydWUsXG4gICAgICAgICAgZGVwcmVzc2VkOiB0cnVlLFxuICAgICAgICAgIHNtYWxsOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB0aGlzLmdldE1vdXNlRXZlbnRIYW5kbGVycyh7XG4gICAgICAgICAgJ2NsaWNrOmRhdGUnOiB7XG4gICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcbiAgICAgICAgICAgIHN0b3A6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgICdjb250ZXh0bWVudTpkYXRlJzoge1xuICAgICAgICAgICAgZXZlbnQ6ICdjb250ZXh0bWVudScsXG4gICAgICAgICAgICBzdG9wOiB0cnVlLFxuICAgICAgICAgICAgcHJldmVudDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3VsdDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChfZSkge1xuICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH0pXG4gICAgICB9LCBoYXNNb250aCA/IHRoaXMubW9udGhGb3JtYXR0ZXIoZGF5LCB0aGlzLnNob3J0TW9udGhzKSArICcgJyArIHRoaXMuZGF5Rm9ybWF0dGVyKGRheSwgZmFsc2UpIDogdGhpcy5kYXlGb3JtYXR0ZXIoZGF5LCBmYWxzZSkpO1xuICAgIH0sXG4gICAgZ2VuRGF5TW9udGg6IGZ1bmN0aW9uIGdlbkRheU1vbnRoKGRheSkge1xuICAgICAgdmFyIGNvbG9yID0gZGF5LnByZXNlbnQgPyB0aGlzLmNvbG9yIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHNsb3QgPSB0aGlzLiRzY29wZWRTbG90c1snZGF5LW1vbnRoJ107XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IoY29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhbGVuZGFyLXdlZWtseV9fZGF5LW1vbnRoJ1xuICAgICAgfSksIHNsb3QgPyBzbG90KGRheSkgOiB0aGlzLm1vbnRoRm9ybWF0dGVyKGRheSwgdGhpcy5zaG9ydE1vbnRocykpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogdGhpcy5zdGF0aWNDbGFzcyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBuYXRpdmVPbjoge1xuICAgICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uIGRyYWdzdGFydChlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX19zcHJlYWQoWyF0aGlzLmhpZGVIZWFkZXIgPyB0aGlzLmdlbkhlYWQoKSA6ICcnXSwgdGhpcy5nZW5XZWVrcygpKSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkNhbGVuZGFyLCBWQ2FsZW5kYXJEYWlseSwgVkNhbGVuZGFyV2Vla2x5LCBWQ2FsZW5kYXJNb250aGx5LCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FsZW5kYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhbGVuZGFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYWxlbmRhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyRGFpbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyRGFpbHkgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9WQ2FsZW5kYXJEYWlseS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYWxlbmRhckRhaWx5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYWxlbmRhckRhaWx5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FsZW5kYXJXZWVrbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyV2Vla2x5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyV2Vla2x5LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhbGVuZGFyV2Vla2x5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYWxlbmRhcldlZWtseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyTW9udGhseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2FsZW5kYXJNb250aGx5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvVkNhbGVuZGFyTW9udGhseS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYWxlbmRhck1vbnRobHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhbGVuZGFyTW9udGhseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWQ2FsZW5kYXI6IF9WQ2FsZW5kYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVkNhbGVuZGFyRGFpbHk6IF9WQ2FsZW5kYXJEYWlseV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgICBWQ2FsZW5kYXJXZWVrbHk6IF9WQ2FsZW5kYXJXZWVrbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sXG4gICAgVkNhbGVuZGFyTW9udGhseTogX1ZDYWxlbmRhck1vbnRobHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci1iYXNlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci1iYXNlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2xvY2FsYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vLi4vbWl4aW5zL2xvY2FsYWJsZSAqLyBcIi4vc3JjL21peGlucy9sb2NhbGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21vdXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21vdXNlICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL21vdXNlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdGltZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdGltZXMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvdGltZXMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfcmVzaXplX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9kaXJlY3RpdmVzL3Jlc2l6ZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL3Byb3BzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9wcm9wcy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvdGltZXN0YW1wICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC90aW1lc3RhbXAudHNcIik7XG4vLyBNaXhpbnNcblxuXG5cblxuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gVXRpbFxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19sb2NhbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9tb3VzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF90aW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ2NhbGVuZGFyLWJhc2UnLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgUmVzaXplOiBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IF91dGlsX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLmJhc2UsXG4gIGNvbXB1dGVkOiB7XG4gICAgd2Vla2RheVNraXBzOiBmdW5jdGlvbiB3ZWVrZGF5U2tpcHMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZ2V0V2Vla2RheVNraXBzXCJdKSh0aGlzLndlZWtkYXlzKTtcbiAgICB9LFxuICAgIHdlZWtkYXlTa2lwc1JldmVyc2U6IGZ1bmN0aW9uIHdlZWtkYXlTa2lwc1JldmVyc2UoKSB7XG4gICAgICB2YXIgcmV2ZXJzZWQgPSB0aGlzLndlZWtkYXlTa2lwcy5zbGljZSgpO1xuICAgICAgcmV2ZXJzZWQucmV2ZXJzZSgpO1xuICAgICAgcmV0dXJuIHJldmVyc2VkO1xuICAgIH0sXG4gICAgcGFyc2VkU3RhcnQ6IGZ1bmN0aW9uIHBhcnNlZFN0YXJ0KCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcInBhcnNlVGltZXN0YW1wXCJdKSh0aGlzLnN0YXJ0KTtcbiAgICB9LFxuICAgIHBhcnNlZEVuZDogZnVuY3Rpb24gcGFyc2VkRW5kKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5kID8gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wicGFyc2VUaW1lc3RhbXBcIl0pKHRoaXMuZW5kKSA6IHRoaXMucGFyc2VkU3RhcnQ7XG4gICAgfSxcbiAgICBkYXlzOiBmdW5jdGlvbiBkYXlzKCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImNyZWF0ZURheUxpc3RcIl0pKHRoaXMucGFyc2VkU3RhcnQsIHRoaXMucGFyc2VkRW5kLCB0aGlzLnRpbWVzLnRvZGF5LCB0aGlzLndlZWtkYXlTa2lwcyk7XG4gICAgfSxcbiAgICBkYXlGb3JtYXR0ZXI6IGZ1bmN0aW9uIGRheUZvcm1hdHRlcigpIHtcbiAgICAgIGlmICh0aGlzLmRheUZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXlGb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICB0aW1lWm9uZTogJ1VUQycsXG4gICAgICAgIGRheTogJ251bWVyaWMnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCBmdW5jdGlvbiAoX3RtcywgX3Nob3J0KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB3ZWVrZGF5Rm9ybWF0dGVyOiBmdW5jdGlvbiB3ZWVrZGF5Rm9ybWF0dGVyKCkge1xuICAgICAgaWYgKHRoaXMud2Vla2RheUZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWVrZGF5Rm9ybWF0O1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9uZ09wdGlvbnMgPSB7XG4gICAgICAgIHRpbWVab25lOiAnVVRDJyxcbiAgICAgICAgd2Vla2RheTogJ2xvbmcnXG4gICAgICB9O1xuICAgICAgdmFyIHNob3J0T3B0aW9ucyA9IHtcbiAgICAgICAgdGltZVpvbmU6ICdVVEMnLFxuICAgICAgICB3ZWVrZGF5OiAnc2hvcnQnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCBmdW5jdGlvbiAoX3Rtcywgc2hvcnQpIHtcbiAgICAgICAgcmV0dXJuIHNob3J0ID8gc2hvcnRPcHRpb25zIDogbG9uZ09wdGlvbnM7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRSZWxhdGl2ZUNsYXNzZXM6IGZ1bmN0aW9uIGdldFJlbGF0aXZlQ2xhc3Nlcyh0aW1lc3RhbXAsIG91dHNpZGUpIHtcbiAgICAgIGlmIChvdXRzaWRlID09PSB2b2lkIDApIHtcbiAgICAgICAgb3V0c2lkZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAndi1wcmVzZW50JzogdGltZXN0YW1wLnByZXNlbnQsXG4gICAgICAgICd2LXBhc3QnOiB0aW1lc3RhbXAucGFzdCxcbiAgICAgICAgJ3YtZnV0dXJlJzogdGltZXN0YW1wLmZ1dHVyZSxcbiAgICAgICAgJ3Ytb3V0c2lkZSc6IG91dHNpZGVcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRTdGFydE9mV2VlazogZnVuY3Rpb24gZ2V0U3RhcnRPZldlZWsodGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZ2V0U3RhcnRPZldlZWtcIl0pKHRpbWVzdGFtcCwgdGhpcy53ZWVrZGF5cywgdGhpcy50aW1lcy50b2RheSk7XG4gICAgfSxcbiAgICBnZXRFbmRPZldlZWs6IGZ1bmN0aW9uIGdldEVuZE9mV2Vlayh0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJnZXRFbmRPZldlZWtcIl0pKHRpbWVzdGFtcCwgdGhpcy53ZWVrZGF5cywgdGhpcy50aW1lcy50b2RheSk7XG4gICAgfSxcbiAgICBnZXRGb3JtYXR0ZXI6IGZ1bmN0aW9uIGdldEZvcm1hdHRlcihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyXCJdKSh0aGlzLmxvY2FsZSwgZnVuY3Rpb24gKF90bXMsIF9zaG9ydCkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1ldmVudHMuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1ldmVudHMuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL2NhbGVuZGFyLXdpdGgtZXZlbnRzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1ldmVudHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NhbGVuZGFyX3dpdGhfZXZlbnRzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2FsZW5kYXItd2l0aC1ldmVudHMuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci13aXRoLWV2ZW50cy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jYWxlbmRhcl93aXRoX2V2ZW50c19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX2NhbGVuZGFyX3dpdGhfZXZlbnRzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9kaXJlY3RpdmVzL3JpcHBsZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmlwcGxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jYWxlbmRhcl9iYXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NhbGVuZGFyLWJhc2UgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItYmFzZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfcHJvcHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvcHJvcHMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci91dGlsL3Byb3BzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbC90aW1lc3RhbXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci91dGlsL3RpbWVzdGFtcC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9ldmVudHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvZXZlbnRzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9ldmVudHMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gTWl4aW5zXG5cbiAvLyBIZWxwZXJzXG5cbiAvLyBVdGlsXG5cblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX2NhbGVuZGFyX2Jhc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ2NhbGVuZGFyLXdpdGgtZXZlbnRzJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIHJpcHBsZTogX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiBfdXRpbF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXS5ldmVudHMsXG4gIGNvbXB1dGVkOiB7XG4gICAgbm9FdmVudHM6IGZ1bmN0aW9uIG5vRXZlbnRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aCA9PT0gMDtcbiAgICB9LFxuICAgIHBhcnNlZEV2ZW50czogZnVuY3Rpb24gcGFyc2VkRXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm1hcChmdW5jdGlvbiAoaW5wdXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfZXZlbnRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJwYXJzZUV2ZW50XCJdKShpbnB1dCwgaW5kZXgsIF90aGlzLmV2ZW50U3RhcnQsIF90aGlzLmV2ZW50RW5kKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZXZlbnRDb2xvckZ1bmN0aW9uOiBmdW5jdGlvbiBldmVudENvbG9yRnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRDb2xvciA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRDb2xvciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmV2ZW50Q29sb3I7XG4gICAgICB9O1xuICAgIH0sXG4gICAgZXZlbnRUZXh0Q29sb3JGdW5jdGlvbjogZnVuY3Rpb24gZXZlbnRUZXh0Q29sb3JGdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudFRleHRDb2xvciA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRUZXh0Q29sb3IgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5ldmVudFRleHRDb2xvcjtcbiAgICAgIH07XG4gICAgfSxcbiAgICBldmVudE5hbWVGdW5jdGlvbjogZnVuY3Rpb24gZXZlbnROYW1lRnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnROYW1lID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudE5hbWUgOiBmdW5jdGlvbiAoZXZlbnQsIHRpbWVkRXZlbnQpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZXNjYXBlSFRNTFwiXSkoZXZlbnQuaW5wdXRbX3RoaXMuZXZlbnROYW1lXSk7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0YXJ0Lmhhc1RpbWUpIHtcbiAgICAgICAgICBpZiAodGltZWRFdmVudCkge1xuICAgICAgICAgICAgdmFyIHNob3dTdGFydCA9IGV2ZW50LnN0YXJ0LmhvdXIgPCAxMiAmJiBldmVudC5lbmQuaG91ciA+PSAxMjtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gX3RoaXMuZm9ybWF0VGltZShldmVudC5zdGFydCwgc2hvd1N0YXJ0KTtcblxuICAgICAgICAgICAgdmFyIGVuZCA9IF90aGlzLmZvcm1hdFRpbWUoZXZlbnQuZW5kLCB0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIFwiPHN0cm9uZz5cIiArIG5hbWUgKyBcIjwvc3Ryb25nPjxicj5cIiArIHN0YXJ0ICsgXCIgLSBcIiArIGVuZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRpbWUgPSBfdGhpcy5mb3JtYXRUaW1lKGV2ZW50LnN0YXJ0LCB0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIFwiPHN0cm9uZz5cIiArIHRpbWUgKyBcIjwvc3Ryb25nPiBcIiArIG5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uIGZvcm1hdFRpbWUod2l0aFRpbWUsIGFtcG0pIHtcbiAgICAgIHZhciBzdWZmaXggPSBhbXBtID8gd2l0aFRpbWUuaG91ciA8IDEyID8gJ2EnIDogJ3AnIDogJyc7XG4gICAgICB2YXIgaG91ciA9IHdpdGhUaW1lLmhvdXIgJSAxMiB8fCAxMjtcbiAgICAgIHZhciBtaW51dGUgPSB3aXRoVGltZS5taW51dGU7XG4gICAgICByZXR1cm4gbWludXRlID4gMCA/IG1pbnV0ZSA8IDEwID8gaG91ciArIFwiOjBcIiArIG1pbnV0ZSArIHN1ZmZpeCA6IGhvdXIgKyBcIjpcIiArIG1pbnV0ZSArIHN1ZmZpeCA6IFwiXCIgKyBob3VyICsgc3VmZml4O1xuICAgIH0sXG4gICAgdXBkYXRlRXZlbnRWaXNpYmlsaXR5OiBmdW5jdGlvbiB1cGRhdGVFdmVudFZpc2liaWxpdHkoKSB7XG4gICAgICBpZiAodGhpcy5ub0V2ZW50cyB8fCAhdGhpcy5ldmVudE1vcmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXZlbnRIZWlnaHQgPSB0aGlzLmV2ZW50SGVpZ2h0O1xuICAgICAgdmFyIGV2ZW50c01hcCA9IHRoaXMuZ2V0RXZlbnRzTWFwKCk7XG5cbiAgICAgIGZvciAodmFyIGRhdGUgaW4gZXZlbnRzTWFwKSB7XG4gICAgICAgIHZhciBfYSA9IGV2ZW50c01hcFtkYXRlXSxcbiAgICAgICAgICAgIHBhcmVudCA9IF9hLnBhcmVudCxcbiAgICAgICAgICAgIGV2ZW50cyA9IF9hLmV2ZW50cyxcbiAgICAgICAgICAgIG1vcmUgPSBfYS5tb3JlO1xuXG4gICAgICAgIGlmICghbW9yZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcmVudEJvdW5kcyA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGxhc3QgPSBldmVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGhpZGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhpZGRlbiA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGFzdDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFoaWRlKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRCb3VuZHMgPSBldmVudHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBoaWRlID0gZXZlbnRCb3VuZHMuYm90dG9tICsgZXZlbnRIZWlnaHQgPiBwYXJlbnRCb3VuZHMuYm90dG9tICYmIGkgIT09IGxhc3QgfHwgZXZlbnRzW2ldLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgdmFyIGlkID0gZXZlbnRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1ldmVudCcpO1xuICAgICAgICAgICAgdGhpcy5oaWRlRXZlbnRzKGlkKTtcbiAgICAgICAgICAgIGhpZGRlbisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgbW9yZS5pbm5lckhUTUwgPSB0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLmV2ZW50TW9yZVRleHQsIGhpZGRlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoaWRlRXZlbnRzOiBmdW5jdGlvbiBoaWRlRXZlbnRzKGlkKSB7XG4gICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLiRyZWZzLmV2ZW50cztcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXZlbnQnKSA9PT0gaWQpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEV2ZW50c01hcDogZnVuY3Rpb24gZ2V0RXZlbnRzTWFwKCkge1xuICAgICAgdmFyIGV2ZW50c01hcCA9IHt9O1xuICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy4kcmVmcy5ldmVudHM7XG5cbiAgICAgIGlmICghZWxlbWVudHMgfHwgIWVsZW1lbnRzLmZvckVhY2gpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50c01hcDtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScpO1xuXG4gICAgICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ICYmIGRhdGUpIHtcbiAgICAgICAgICBpZiAoIShkYXRlIGluIGV2ZW50c01hcCkpIHtcbiAgICAgICAgICAgIGV2ZW50c01hcFtkYXRlXSA9IHtcbiAgICAgICAgICAgICAgcGFyZW50OiBlbC5wYXJlbnRFbGVtZW50LFxuICAgICAgICAgICAgICBtb3JlOiBudWxsLFxuICAgICAgICAgICAgICBldmVudHM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9yZScpKSB7XG4gICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0ubW9yZSA9IGVsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0uZXZlbnRzLnB1c2goZWwpO1xuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZXZlbnRzTWFwO1xuICAgIH0sXG4gICAgZ2VuRGF5RXZlbnQ6IGZ1bmN0aW9uIGdlbkRheUV2ZW50KF9hLCBpbmRleCwgZGF5KSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gX2Eub2Zmc2V0LFxuICAgICAgICAgIGV2ZW50ID0gX2EuZXZlbnQ7XG4gICAgICB2YXIgZXZlbnRIZWlnaHQgPSB0aGlzLmV2ZW50SGVpZ2h0O1xuICAgICAgdmFyIGV2ZW50TWFyZ2luQm90dG9tID0gdGhpcy5ldmVudE1hcmdpbkJvdHRvbTtcbiAgICAgIHZhciByZWxhdGl2ZU9mZnNldCA9IChvZmZzZXQgLSBpbmRleCkgKiAoZXZlbnRIZWlnaHQgKyBldmVudE1hcmdpbkJvdHRvbSk7IC8vIDEgPSBtYXJnaW4gYm90dG9tXG5cbiAgICAgIHZhciBkYXlJZGVudGlmaWVyID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0RGF5SWRlbnRpZmllclwiXSkoZGF5KTtcbiAgICAgIHZhciBzdGFydCA9IGRheUlkZW50aWZpZXIgPT09IGV2ZW50LnN0YXJ0SWRlbnRpZmllcjtcbiAgICAgIHZhciBlbmQgPSBkYXlJZGVudGlmaWVyID09PSBldmVudC5lbmRJZGVudGlmaWVyO1xuICAgICAgdmFyIHNjb3BlID0ge1xuICAgICAgICBldmVudDogZXZlbnQuaW5wdXQsXG4gICAgICAgIGRheTogZGF5LFxuICAgICAgICBvdXRzaWRlOiBkYXkub3V0c2lkZSxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgdGltZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuRXZlbnQoZXZlbnQsIHNjb3BlLCBzdGFydCB8fCBkYXkuaW5kZXggPT09IDAsIGZhbHNlLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1ldmVudCcsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtZXZlbnQtc3RhcnQnOiBzdGFydCxcbiAgICAgICAgICAndi1ldmVudC1lbmQnOiBlbmRcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IGV2ZW50SGVpZ2h0ICsgXCJweFwiLFxuICAgICAgICAgIHRvcDogcmVsYXRpdmVPZmZzZXQgKyBcInB4XCIsXG4gICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiBldmVudE1hcmdpbkJvdHRvbSArIFwicHhcIlxuICAgICAgICB9LFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICdkYXRhLWRhdGUnOiBkYXkuZGF0ZSxcbiAgICAgICAgICAnZGF0YS1ldmVudCc6IGV2ZW50LmluZGV4XG4gICAgICAgIH0sXG4gICAgICAgIGtleTogZXZlbnQuaW5kZXgsXG4gICAgICAgIHJlZjogJ2V2ZW50cycsXG4gICAgICAgIHJlZkluRm9yOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlblRpbWVkRXZlbnQ6IGZ1bmN0aW9uIGdlblRpbWVkRXZlbnQoX2EsIGluZGV4LCBkYXkpIHtcbiAgICAgIHZhciBvZmZzZXQgPSBfYS5vZmZzZXQsXG4gICAgICAgICAgZXZlbnQgPSBfYS5ldmVudCxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF9hLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGNvbHVtbiA9IF9hLmNvbHVtbjtcbiAgICAgIHZhciBkYXlJZGVudGlmaWVyID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0RGF5SWRlbnRpZmllclwiXSkoZGF5KTtcbiAgICAgIHZhciBzdGFydCA9IGV2ZW50LnN0YXJ0SWRlbnRpZmllciA+PSBkYXlJZGVudGlmaWVyO1xuICAgICAgdmFyIGVuZCA9IGV2ZW50LmVuZElkZW50aWZpZXIgPiBkYXlJZGVudGlmaWVyO1xuICAgICAgdmFyIHRvcCA9IHN0YXJ0ID8gZGF5LnRpbWVUb1koZXZlbnQuc3RhcnQpIDogMDtcbiAgICAgIHZhciBib3R0b20gPSBlbmQgPyBkYXkudGltZVRvWSgxNDQwKSA6IGRheS50aW1lVG9ZKGV2ZW50LmVuZCk7XG4gICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5ldmVudEhlaWdodCwgYm90dG9tIC0gdG9wKTtcbiAgICAgIHZhciBsZWZ0ID0gY29sdW1uQ291bnQgPT09IC0xID8gb2Zmc2V0ICogNSA6IGNvbHVtbiAqIDEwMCAvIGNvbHVtbkNvdW50O1xuICAgICAgdmFyIHJpZ2h0ID0gY29sdW1uQ291bnQgPT09IC0xID8gMCA6IE1hdGgubWF4KDAsIChjb2x1bW5Db3VudCAtIGNvbHVtbiAtIDIpICogMTAwIC8gY29sdW1uQ291bnQgKyAxMCk7XG4gICAgICB2YXIgc2NvcGUgPSB7XG4gICAgICAgIGV2ZW50OiBldmVudC5pbnB1dCxcbiAgICAgICAgZGF5OiBkYXksXG4gICAgICAgIG91dHNpZGU6IGRheS5vdXRzaWRlLFxuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kLFxuICAgICAgICB0aW1lZDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLmdlbkV2ZW50KGV2ZW50LCBzY29wZSwgdHJ1ZSwgdHJ1ZSwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQnLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHRvcDogdG9wICsgXCJweFwiLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgXCJweFwiLFxuICAgICAgICAgIGxlZnQ6IGxlZnQgKyBcIiVcIixcbiAgICAgICAgICByaWdodDogcmlnaHQgKyBcIiVcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkV2ZW50OiBmdW5jdGlvbiBnZW5FdmVudChldmVudCwgc2NvcGUsIHNob3dOYW1lLCB0aW1lZEV2ZW50LCBkYXRhKSB7XG4gICAgICB2YXIgc2xvdCA9IHRoaXMuJHNjb3BlZFNsb3RzLmV2ZW50O1xuICAgICAgdmFyIHRleHQgPSB0aGlzLmV2ZW50VGV4dENvbG9yRnVuY3Rpb24oZXZlbnQuaW5wdXQpO1xuICAgICAgdmFyIGJhY2tncm91bmQgPSB0aGlzLmV2ZW50Q29sb3JGdW5jdGlvbihldmVudC5pbnB1dCk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGV4dCwgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoYmFja2dyb3VuZCwgX19hc3NpZ24oe1xuICAgICAgICBvbjogdGhpcy5nZXREZWZhdWx0TW91c2VFdmVudEhhbmRsZXJzKCc6ZXZlbnQnLCBmdW5jdGlvbiAobmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHNjb3BlLCB7XG4gICAgICAgICAgICBuYXRpdmVFdmVudDogbmF0aXZlRXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3JpcHBsZScsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuZXZlbnRSaXBwbGUgIT0gbnVsbCA/IHRoaXMuZXZlbnRSaXBwbGUgOiB0cnVlXG4gICAgICAgIH1dXG4gICAgICB9LCBkYXRhKSkpLCBzbG90ID8gc2xvdChzY29wZSkgOiBzaG93TmFtZSA/IFt0aGlzLmdlbk5hbWUoZXZlbnQsIHRpbWVkRXZlbnQpXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBnZW5OYW1lOiBmdW5jdGlvbiBnZW5OYW1lKGV2ZW50LCB0aW1lZEV2ZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3BsLTEnLFxuICAgICAgICBkb21Qcm9wczoge1xuICAgICAgICAgIGlubmVySFRNTDogdGhpcy5ldmVudE5hbWVGdW5jdGlvbihldmVudCwgdGltZWRFdmVudClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5Nb3JlOiBmdW5jdGlvbiBnZW5Nb3JlKGRheSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWV2ZW50LW1vcmUgcGwtMScsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ2RhdGEtZGF0ZSc6IGRheS5kYXRlLFxuICAgICAgICAgICdkYXRhLW1vcmUnOiAxXG4gICAgICAgIH0sXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3JpcHBsZScsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuZXZlbnRSaXBwbGUgIT0gbnVsbCA/IHRoaXMuZXZlbnRSaXBwbGUgOiB0cnVlXG4gICAgICAgIH1dLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgnY2xpY2s6bW9yZScsIGRheSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICByZWY6ICdldmVudHMnLFxuICAgICAgICByZWZJbkZvcjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRFdmVudHNGb3JEYXk6IGZ1bmN0aW9uIGdldEV2ZW50c0ZvckRheShkYXkpIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0RGF5SWRlbnRpZmllclwiXSkoZGF5KTtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfZXZlbnRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc0V2ZW50T25cIl0pKGV2ZW50LCBpZGVudGlmaWVyKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0RXZlbnRzRm9yRGF5QWxsOiBmdW5jdGlvbiBnZXRFdmVudHNGb3JEYXlBbGwoZGF5KSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImdldERheUlkZW50aWZpZXJcIl0pKGRheSk7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQuYWxsRGF5ICYmIE9iamVjdChfdXRpbF9ldmVudHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImlzRXZlbnRPblwiXSkoZXZlbnQsIGlkZW50aWZpZXIpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRFdmVudHNGb3JEYXlUaW1lZDogZnVuY3Rpb24gZ2V0RXZlbnRzRm9yRGF5VGltZWQoZGF5KSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImdldERheUlkZW50aWZpZXJcIl0pKGRheSk7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gIWV2ZW50LmFsbERheSAmJiBPYmplY3QoX3V0aWxfZXZlbnRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc0V2ZW50T25cIl0pKGV2ZW50LCBpZGVudGlmaWVyKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaXNTYW1lQ29sdW1uOiBmdW5jdGlvbiBpc1NhbWVDb2x1bW4oYSwgYikge1xuICAgICAgdmFyIGFzdGFydCA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcInBhcnNlVGltZVwiXSkoYS5ldmVudC5zdGFydCk7XG4gICAgICB2YXIgYnN0YXJ0ID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wicGFyc2VUaW1lXCJdKShiLmV2ZW50LnN0YXJ0KTtcbiAgICAgIHZhciBkaWZmID0gYXN0YXJ0IC0gYnN0YXJ0O1xuICAgICAgdmFyIGFicyA9IGRpZmYgPCAwID8gLWRpZmYgOiBkaWZmO1xuICAgICAgcmV0dXJuIGFicyA8IHRoaXMuZXZlbnRPdmVybGFwVGhyZXNob2xkO1xuICAgIH0sXG4gICAgaXNPdmVybGFwcGluZzogZnVuY3Rpb24gaXNPdmVybGFwcGluZyhhLCBiKSB7XG4gICAgICB2YXIgYXN0YXJ0ID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wicGFyc2VUaW1lXCJdKShhLmV2ZW50LnN0YXJ0KTtcbiAgICAgIHZhciBic3RhcnQgPSBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJwYXJzZVRpbWVcIl0pKGIuZXZlbnQuc3RhcnQpO1xuXG4gICAgICBpZiAoYS5vZmZzZXQgPCBiLm9mZnNldCAmJiBic3RhcnQgPCBhc3RhcnQpIHtcbiAgICAgICAgdmFyIGFlbmQgPSBhc3RhcnQgKyB0aGlzLmV2ZW50T3ZlcmxhcFRocmVzaG9sZDtcbiAgICAgICAgdmFyIGJlbmQgPSBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJwYXJzZVRpbWVcIl0pKGIuZXZlbnQuZW5kKTtcbiAgICAgICAgcmV0dXJuICEoYXN0YXJ0ID49IGJlbmQgfHwgYWVuZCA8PSBic3RhcnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnZXRTY29wZWRTbG90czogZnVuY3Rpb24gZ2V0U2NvcGVkU2xvdHMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5ub0V2ZW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHM7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIE92ZXIgdGhlIHNwYW4gb2YgYSB3ZWVrIChmb3IgZXhhbXBsZSkgd2Ugd2FudCB0byBtYWludGFpbiBhbiBldmVudCBpbiB0aGUgc2FtZSByb3cgKGZvciB3ZWVrbHkgYW5kIG1vbnRobHkgdmlld3MpLlxuICAgICAgICogV2Uga2VlcCB0cmFjayBvZiB0aG9zZSByb3dzIGJ5IGluZGV4VG9PZmZzZXQuIElmIHRoZSB2YWx1ZSBpbiB0aGF0IGFycmF5IGlzIC0xLCB0aGVuIHdlIGNhbiBwbGFjZSBhbiBldmVudCBhdCB0aGF0IHNwb3QuXG4gICAgICAgKiBGb3IgYSBkYWlseSB2aWV3IHdpdGggdGltZWQgZXZlbnRzIHdlIGFycmFuZ2UgdGhlbSBiYXNlZCBvbiBjb2x1bW5zIGFuZCBvZmZzZXRzLiBJZiB0d28gb3IgbW9yZSBldmVudHMgc3RhcnQgYXQgYXJvdW5kIHRoZVxuICAgICAgICogc2FtZSB0aW1lIChldmVudE92ZXJsYXBUaHJlc2hvbGQpIHRoZXkgZ28gaW50byBjb2x1bW5zLiBJZiBvbmUgZXZlbnQgc3RhcnRzIGluc2lkZSBhbm90aGVyIGl0IGlzIGluZGVudGVkIHRoZSBhcHByb3ByaWF0ZSBhbW91bnQuXG4gICAgICAgKiBJZiBvbmUgZXZlbnQgb3ZlcmxhcHMgYW5vdGhlciBhZnRlciB0aG9zZSBhZGp1c3RtZW50cyBhcmUgbWFkZSB0aG9zZSBldmVudHMgYXJlIHBsYWNlZCBpbiBjb2x1bW5zIHRvZ2V0aGVyIGluc3RlYWQgb2YgYW55IGRlZmluZWRcbiAgICAgICAqIGluZGVudHMuXG4gICAgICAgKi9cblxuXG4gICAgICB2YXIgcGFyc2VkRXZlbnRzID0gdGhpcy5wYXJzZWRFdmVudHM7XG4gICAgICB2YXIgaW5kZXhUb09mZnNldCA9IHBhcnNlZEV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlc2V0T25XZWVrZGF5ID0gdGhpcy53ZWVrZGF5c1swXTtcblxuICAgICAgdmFyIGNoZWNrUmVzZXQgPSBmdW5jdGlvbiBjaGVja1Jlc2V0KGRheSkge1xuICAgICAgICBpZiAoZGF5LndlZWtkYXkgPT09IHJlc2V0T25XZWVrZGF5KSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRleFRvT2Zmc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbmRleFRvT2Zmc2V0W2ldID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gZ2V0T2Zmc2V0KHZpc3VhbCwgdmlzdWFscykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gaW5kZXhUb09mZnNldFt2aXN1YWwuZXZlbnQuaW5kZXhdO1xuXG4gICAgICAgIGlmIChvZmZzZXQgPT09IC0xKSB7XG4gICAgICAgICAgdmFyIG1pbl8xID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgICAgdmFyIG1heF8xID0gLTE7XG4gICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAgICAgdmFyIG90aGVyT2Zmc2V0ID0gaW5kZXhUb09mZnNldFtvdGhlci5ldmVudC5pbmRleF07XG5cbiAgICAgICAgICAgIGlmIChvdGhlck9mZnNldCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgbWluXzEgPSBNYXRoLm1pbihtaW5fMSwgb3RoZXJPZmZzZXQpO1xuICAgICAgICAgICAgICBtYXhfMSA9IE1hdGgubWF4KG1heF8xLCBvdGhlck9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2Zmc2V0ID0gbWluXzEgPiAwICYmIG1heF8xICE9PSAtMSA/IG1pbl8xIC0gMSA6IG1heF8xICsgMTtcbiAgICAgICAgICBpbmRleFRvT2Zmc2V0W3Zpc3VhbC5ldmVudC5pbmRleF0gPSBvZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgfTtcblxuICAgICAgdmFyIGdldFZpc3VhbHMgPSBmdW5jdGlvbiBnZXRWaXN1YWxzKGV2ZW50cywgdGltZWQpIHtcbiAgICAgICAgdmFyIHZpc3VhbHMgPSBldmVudHMubWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICBjb2x1bW5Db3VudDogLTEsXG4gICAgICAgICAgICBjb2x1bW46IC0xXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7IC8vIHNvcnQgZXZlbnRzIGJ5IHN0YXJ0IGRhdGUvdGltZVxuXG4gICAgICAgIHZpc3VhbHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiBhLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllciAtIGIuZXZlbnQuc3RhcnRUaW1lc3RhbXBJZGVudGlmaWVyO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGltZWQpIHtcbiAgICAgICAgICAvLyB0aW1lZCBldmVudHMgY2FuIGJlIG9yZ2FuaXplZCBpbnRvIGNvbHVtbnNcbiAgICAgICAgICB2aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKHZpc3VhbCkge1xuICAgICAgICAgICAgaWYgKHZpc3VhbC5jb2x1bW5Db3VudCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IFtdO1xuICAgICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAgICAgICBpZiAob3RoZXIuY29sdW1uQ291bnQgPT09IC0xICYmIF90aGlzLmlzU2FtZUNvbHVtbih2aXN1YWwsIG90aGVyKSkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaChvdGhlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAodmlzdWFsLCB2aXN1YWxJbmRleCkge1xuICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW4gPSB2aXN1YWxJbmRleDtcbiAgICAgICAgICAgICAgICB2aXN1YWwuY29sdW1uQ291bnQgPSBjb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7IC8vIGZvciBhbnkgbm90IG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMsIGlmIHRoZXkgb3ZlcmxhcCBhbm90aGVyIGV2ZW50XG4gICAgICAgICAgLy8gbm90IGluIGEgY29sdW1uIHRoZXkgYXJlIG9mZnNldFxuXG4gICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uICh2aXN1YWwpIHtcbiAgICAgICAgICAgIGlmICh2aXN1YWwuY29sdW1uQ291bnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaChmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJPZmZzZXQgPSBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmIChvdGhlck9mZnNldCAhPT0gLTEgJiYgb3RoZXIuZXZlbnQuZW5kVGltZXN0YW1wSWRlbnRpZmllciA8PSB2aXN1YWwuZXZlbnQuc3RhcnRUaW1lc3RhbXBJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHZpc3VhbC5vZmZzZXQgPSBnZXRPZmZzZXQodmlzdWFsLCB2aXN1YWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTsgLy8gZm9yIGFueSBub3Qgb3JnYW5pemVkIGludG8gY29sdW1ucywgaWYgYSBwcmV2aW91cyBldmVudCBvdmVybGFwcyB0aGlzIGV2ZW50XG4gICAgICAgICAgLy8gam9pbiB0aGVtIGludG8gdGhlIGNvbHVtbnNcblxuICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaChmdW5jdGlvbiAodmlzdWFsKSB7XG4gICAgICAgICAgICBpZiAodmlzdWFsLmNvbHVtbkNvdW50ID09PSAtMSkge1xuICAgICAgICAgICAgICB2YXIgY29sdW1uc18xID0gW3Zpc3VhbF07XG4gICAgICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaChmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgIT09IHZpc3VhbCAmJiBvdGhlci5jb2x1bW5Db3VudCA9PT0gLTEgJiYgX3RoaXMuaXNPdmVybGFwcGluZyh2aXN1YWwsIG90aGVyKSkge1xuICAgICAgICAgICAgICAgICAgY29sdW1uc18xLnB1c2gob3RoZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgaWYgKGNvbHVtbnNfMS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uc18xLmZvckVhY2goZnVuY3Rpb24gKHZpc3VhbCwgdmlzdWFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW4gPSB2aXN1YWxJbmRleDtcbiAgICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW5Db3VudCA9IGNvbHVtbnNfMS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKHZpc3VhbCkge1xuICAgICAgICAgICAgdmlzdWFsLm9mZnNldCA9IGdldE9mZnNldCh2aXN1YWwsIHZpc3VhbHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlzdWFscy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGEub2Zmc2V0IC0gYi5vZmZzZXQgfHwgYS5jb2x1bW4gLSBiLmNvbHVtbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2aXN1YWxzO1xuICAgICAgfTtcblxuICAgICAgdmFyIGdldFNsb3RDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldFNsb3RDaGlsZHJlbihkYXksIGdldHRlciwgbWFwcGVyLCB0aW1lZCkge1xuICAgICAgICBjaGVja1Jlc2V0KGRheSk7XG4gICAgICAgIHZhciBldmVudHMgPSBnZXR0ZXIoZGF5KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiBnZXRWaXN1YWxzKGV2ZW50cywgdGltZWQpLm1hcChmdW5jdGlvbiAodmlzdWFsLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBtYXBwZXIodmlzdWFsLCBpbmRleCwgZGF5KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIHRoaXMuJHNjb3BlZFNsb3RzLCB7XG4gICAgICAgIGRheTogZnVuY3Rpb24gZGF5KF9kYXkpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBnZXRTbG90Q2hpbGRyZW4oX2RheSwgX3RoaXMuZ2V0RXZlbnRzRm9yRGF5LCBfdGhpcy5nZW5EYXlFdmVudCwgZmFsc2UpO1xuXG4gICAgICAgICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgX3RoaXMuZXZlbnRNb3JlKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKF90aGlzLmdlbk1vcmUoX2RheSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgJ2RheS1oZWFkZXInOiBmdW5jdGlvbiBkYXlIZWFkZXIoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIGdldFNsb3RDaGlsZHJlbihkYXksIF90aGlzLmdldEV2ZW50c0ZvckRheUFsbCwgX3RoaXMuZ2VuRGF5RXZlbnQsIGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2RheS1ib2R5JzogZnVuY3Rpb24gZGF5Qm9keShkYXkpIHtcbiAgICAgICAgICByZXR1cm4gW190aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQtY29udGFpbmVyJ1xuICAgICAgICAgIH0sIGdldFNsb3RDaGlsZHJlbihkYXksIF90aGlzLmdldEV2ZW50c0ZvckRheVRpbWVkLCBfdGhpcy5nZW5UaW1lZEV2ZW50LCB0cnVlKSldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL2NhbGVuZGFyLXdpdGgtaW50ZXJ2YWxzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1pbnRlcnZhbHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NhbGVuZGFyX2Jhc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2FsZW5kYXItYmFzZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci1iYXNlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL3Byb3BzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9wcm9wcy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvdGltZXN0YW1wICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC90aW1lc3RhbXAudHNcIik7XG4vLyBNaXhpbnNcbiAvLyBVdGlsXG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9jYWxlbmRhcl9iYXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICdjYWxlbmRhci13aXRoLWludGVydmFscycsXG4gIHByb3BzOiBfdXRpbF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5pbnRlcnZhbHMsXG4gIGNvbXB1dGVkOiB7XG4gICAgcGFyc2VkRmlyc3RJbnRlcnZhbDogZnVuY3Rpb24gcGFyc2VkRmlyc3RJbnRlcnZhbCgpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmZpcnN0SW50ZXJ2YWwpO1xuICAgIH0sXG4gICAgcGFyc2VkSW50ZXJ2YWxNaW51dGVzOiBmdW5jdGlvbiBwYXJzZWRJbnRlcnZhbE1pbnV0ZXMoKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5pbnRlcnZhbE1pbnV0ZXMpO1xuICAgIH0sXG4gICAgcGFyc2VkSW50ZXJ2YWxDb3VudDogZnVuY3Rpb24gcGFyc2VkSW50ZXJ2YWxDb3VudCgpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmludGVydmFsQ291bnQpO1xuICAgIH0sXG4gICAgcGFyc2VkSW50ZXJ2YWxIZWlnaHQ6IGZ1bmN0aW9uIHBhcnNlZEludGVydmFsSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5pbnRlcnZhbEhlaWdodCk7XG4gICAgfSxcbiAgICBmaXJzdE1pbnV0ZTogZnVuY3Rpb24gZmlyc3RNaW51dGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZWRGaXJzdEludGVydmFsICogdGhpcy5wYXJzZWRJbnRlcnZhbE1pbnV0ZXM7XG4gICAgfSxcbiAgICBib2R5SGVpZ2h0OiBmdW5jdGlvbiBib2R5SGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2VkSW50ZXJ2YWxDb3VudCAqIHRoaXMucGFyc2VkSW50ZXJ2YWxIZWlnaHQ7XG4gICAgfSxcbiAgICBkYXlzOiBmdW5jdGlvbiBkYXlzKCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNyZWF0ZURheUxpc3RcIl0pKHRoaXMucGFyc2VkU3RhcnQsIHRoaXMucGFyc2VkRW5kLCB0aGlzLnRpbWVzLnRvZGF5LCB0aGlzLndlZWtkYXlTa2lwcywgdGhpcy5tYXhEYXlzKTtcbiAgICB9LFxuICAgIGludGVydmFsczogZnVuY3Rpb24gaW50ZXJ2YWxzKCkge1xuICAgICAgdmFyIGRheXMgPSB0aGlzLmRheXM7XG4gICAgICB2YXIgZmlyc3QgPSB0aGlzLnBhcnNlZEZpcnN0SW50ZXJ2YWw7XG4gICAgICB2YXIgbWludXRlcyA9IHRoaXMucGFyc2VkSW50ZXJ2YWxNaW51dGVzO1xuICAgICAgdmFyIGNvdW50ID0gdGhpcy5wYXJzZWRJbnRlcnZhbENvdW50O1xuICAgICAgdmFyIG5vdyA9IHRoaXMudGltZXMubm93O1xuICAgICAgcmV0dXJuIGRheXMubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjcmVhdGVJbnRlcnZhbExpc3RcIl0pKGQsIGZpcnN0LCBtaW51dGVzLCBjb3VudCwgbm93KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW50ZXJ2YWxGb3JtYXR0ZXI6IGZ1bmN0aW9uIGludGVydmFsRm9ybWF0dGVyKCkge1xuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxGb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxGb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb25nT3B0aW9ucyA9IHtcbiAgICAgICAgdGltZVpvbmU6ICdVVEMnLFxuICAgICAgICBob3VyMTI6IHRydWUsXG4gICAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgICAgbWludXRlOiAnMi1kaWdpdCdcbiAgICAgIH07XG4gICAgICB2YXIgc2hvcnRPcHRpb25zID0ge1xuICAgICAgICB0aW1lWm9uZTogJ1VUQycsXG4gICAgICAgIGhvdXIxMjogdHJ1ZSxcbiAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgfTtcbiAgICAgIHZhciBzaG9ydEhvdXJPcHRpb25zID0ge1xuICAgICAgICB0aW1lWm9uZTogJ1VUQycsXG4gICAgICAgIGhvdXIxMjogdHJ1ZSxcbiAgICAgICAgaG91cjogJ251bWVyaWMnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCBmdW5jdGlvbiAodG1zLCBzaG9ydCkge1xuICAgICAgICByZXR1cm4gc2hvcnQgPyB0bXMubWludXRlID09PSAwID8gc2hvcnRIb3VyT3B0aW9ucyA6IHNob3J0T3B0aW9ucyA6IGxvbmdPcHRpb25zO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2hvd0ludGVydmFsTGFiZWxEZWZhdWx0OiBmdW5jdGlvbiBzaG93SW50ZXJ2YWxMYWJlbERlZmF1bHQoaW50ZXJ2YWwpIHtcbiAgICAgIHZhciBmaXJzdCA9IHRoaXMuaW50ZXJ2YWxzWzBdWzBdO1xuICAgICAgdmFyIGlzRmlyc3QgPSBmaXJzdC5ob3VyID09PSBpbnRlcnZhbC5ob3VyICYmIGZpcnN0Lm1pbnV0ZSA9PT0gaW50ZXJ2YWwubWludXRlO1xuICAgICAgcmV0dXJuICFpc0ZpcnN0ICYmIGludGVydmFsLm1pbnV0ZSA9PT0gMDtcbiAgICB9LFxuICAgIGludGVydmFsU3R5bGVEZWZhdWx0OiBmdW5jdGlvbiBpbnRlcnZhbFN0eWxlRGVmYXVsdChfaW50ZXJ2YWwpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRUaW1lc3RhbXBBdEV2ZW50OiBmdW5jdGlvbiBnZXRUaW1lc3RhbXBBdEV2ZW50KGUsIGRheSkge1xuICAgICAgdmFyIHRpbWVzdGFtcCA9IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvcHlUaW1lc3RhbXBcIl0pKGRheSk7XG4gICAgICB2YXIgYm91bmRzID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGJhc2VNaW51dGVzID0gdGhpcy5maXJzdE1pbnV0ZTtcbiAgICAgIHZhciB0b3VjaEV2ZW50ID0gZTtcbiAgICAgIHZhciBtb3VzZUV2ZW50ID0gZTtcbiAgICAgIHZhciB0b3VjaGVzID0gdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlcyB8fCB0b3VjaEV2ZW50LnRvdWNoZXM7XG4gICAgICB2YXIgY2xpZW50WSA9IHRvdWNoZXMgJiYgdG91Y2hlc1swXSA/IHRvdWNoZXNbMF0uY2xpZW50WSA6IG1vdXNlRXZlbnQuY2xpZW50WTtcbiAgICAgIHZhciBhZGRJbnRlcnZhbHMgPSAoY2xpZW50WSAtIGJvdW5kcy50b3ApIC8gdGhpcy5wYXJzZWRJbnRlcnZhbEhlaWdodDtcbiAgICAgIHZhciBhZGRNaW51dGVzID0gTWF0aC5mbG9vcihhZGRJbnRlcnZhbHMgKiB0aGlzLnBhcnNlZEludGVydmFsTWludXRlcyk7XG4gICAgICB2YXIgbWludXRlcyA9IGJhc2VNaW51dGVzICsgYWRkTWludXRlcztcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJ1cGRhdGVNaW51dGVzXCJdKSh0aW1lc3RhbXAsIG1pbnV0ZXMsIHRoaXMudGltZXMubm93KTtcbiAgICB9LFxuICAgIGdldFNsb3RTY29wZTogZnVuY3Rpb24gZ2V0U2xvdFNjb3BlKHRpbWVzdGFtcCkge1xuICAgICAgdmFyIHNjb3BlID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29weVRpbWVzdGFtcFwiXSkodGltZXN0YW1wKTtcbiAgICAgIHNjb3BlLnRpbWVUb1kgPSB0aGlzLnRpbWVUb1k7XG4gICAgICBzY29wZS5taW51dGVzVG9QaXhlbHMgPSB0aGlzLm1pbnV0ZXNUb1BpeGVscztcbiAgICAgIHJldHVybiBzY29wZTtcbiAgICB9LFxuICAgIHNjcm9sbFRvVGltZTogZnVuY3Rpb24gc2Nyb2xsVG9UaW1lKHRpbWUpIHtcbiAgICAgIHZhciB5ID0gdGhpcy50aW1lVG9ZKHRpbWUpO1xuICAgICAgdmFyIHBhbmUgPSB0aGlzLiRyZWZzLnNjcm9sbEFyZWE7XG5cbiAgICAgIGlmICh5ID09PSBmYWxzZSB8fCAhcGFuZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHBhbmUuc2Nyb2xsVG9wID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgbWludXRlc1RvUGl4ZWxzOiBmdW5jdGlvbiBtaW51dGVzVG9QaXhlbHMobWludXRlcykge1xuICAgICAgcmV0dXJuIG1pbnV0ZXMgLyB0aGlzLnBhcnNlZEludGVydmFsTWludXRlcyAqIHRoaXMucGFyc2VkSW50ZXJ2YWxIZWlnaHQ7XG4gICAgfSxcbiAgICB0aW1lVG9ZOiBmdW5jdGlvbiB0aW1lVG9ZKHRpbWUsIGNsYW1wKSB7XG4gICAgICBpZiAoY2xhbXAgPT09IHZvaWQgMCkge1xuICAgICAgICBjbGFtcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBtaW51dGVzID0gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicGFyc2VUaW1lXCJdKSh0aW1lKTtcblxuICAgICAgaWYgKG1pbnV0ZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1pbiA9IHRoaXMuZmlyc3RNaW51dGU7XG4gICAgICB2YXIgZ2FwID0gdGhpcy5wYXJzZWRJbnRlcnZhbENvdW50ICogdGhpcy5wYXJzZWRJbnRlcnZhbE1pbnV0ZXM7XG4gICAgICB2YXIgZGVsdGEgPSAobWludXRlcyAtIG1pbikgLyBnYXA7XG4gICAgICB2YXIgeSA9IGRlbHRhICogdGhpcy5ib2R5SGVpZ2h0O1xuXG4gICAgICBpZiAoY2xhbXApIHtcbiAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgeSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSA+IHRoaXMuYm9keUhlaWdodCkge1xuICAgICAgICAgIHkgPSB0aGlzLmJvZHlIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9tb3VzZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL21vdXNlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ21vdXNlJyxcbiAgbWV0aG9kczoge1xuICAgIGdldERlZmF1bHRNb3VzZUV2ZW50SGFuZGxlcnM6IGZ1bmN0aW9uIGdldERlZmF1bHRNb3VzZUV2ZW50SGFuZGxlcnMoc3VmZml4LCBnZXRFdmVudCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gdGhpcy5nZXRNb3VzZUV2ZW50SGFuZGxlcnMoKF9hID0ge30sIF9hWydjbGljaycgKyBzdWZmaXhdID0ge1xuICAgICAgICBldmVudDogJ2NsaWNrJ1xuICAgICAgfSwgX2FbJ2NvbnRleHRtZW51JyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAnY29udGV4dG1lbnUnLFxuICAgICAgICBwcmV2ZW50OiB0cnVlLFxuICAgICAgICByZXN1bHQ6IGZhbHNlXG4gICAgICB9LCBfYVsnbW91c2Vkb3duJyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAnbW91c2Vkb3duJ1xuICAgICAgfSwgX2FbJ21vdXNlbW92ZScgKyBzdWZmaXhdID0ge1xuICAgICAgICBldmVudDogJ21vdXNlbW92ZSdcbiAgICAgIH0sIF9hWydtb3VzZXVwJyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAnbW91c2V1cCdcbiAgICAgIH0sIF9hWydtb3VzZWVudGVyJyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAnbW91c2VlbnRlcidcbiAgICAgIH0sIF9hWydtb3VzZWxlYXZlJyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAnbW91c2VsZWF2ZSdcbiAgICAgIH0sIF9hWyd0b3VjaHN0YXJ0JyArIHN1ZmZpeF0gPSB7XG4gICAgICAgIGV2ZW50OiAndG91Y2hzdGFydCdcbiAgICAgIH0sIF9hWyd0b3VjaG1vdmUnICsgc3VmZml4XSA9IHtcbiAgICAgICAgZXZlbnQ6ICd0b3VjaG1vdmUnXG4gICAgICB9LCBfYVsndG91Y2hlbmQnICsgc3VmZml4XSA9IHtcbiAgICAgICAgZXZlbnQ6ICd0b3VjaGVuZCdcbiAgICAgIH0sIF9hKSwgZ2V0RXZlbnQpO1xuICAgIH0sXG4gICAgZ2V0TW91c2VFdmVudEhhbmRsZXJzOiBmdW5jdGlvbiBnZXRNb3VzZUV2ZW50SGFuZGxlcnMoZXZlbnRzLCBnZXRFdmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIG9uID0ge307XG5cbiAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gX2xvb3BfMShldmVudCkge1xuICAgICAgICB2YXIgZXZlbnRPcHRpb25zID0gZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKCF0aGlzXzEuJGxpc3RlbmVyc1tldmVudF0pIHJldHVybiBcImNvbnRpbnVlXCI7IC8vIFRPRE8gc29tZWhvdyBwdWxsIGluIG1vZGlmaWVyc1xuXG4gICAgICAgIHZhciBwcmVmaXggPSBldmVudE9wdGlvbnMucGFzc2l2ZSA/ICcmJyA6IChldmVudE9wdGlvbnMub25jZSA/ICd+JyA6ICcnKSArIChldmVudE9wdGlvbnMuY2FwdHVyZSA/ICchJyA6ICcnKTtcbiAgICAgICAgdmFyIGtleSA9IHByZWZpeCArIGV2ZW50T3B0aW9ucy5ldmVudDtcblxuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZSkge1xuICAgICAgICAgIHZhciBtb3VzZUV2ZW50ID0gZTtcblxuICAgICAgICAgIGlmIChldmVudE9wdGlvbnMuYnV0dG9uID09PSB1bmRlZmluZWQgfHwgbW91c2VFdmVudC5idXR0b25zID4gMCAmJiBtb3VzZUV2ZW50LmJ1dHRvbiA9PT0gZXZlbnRPcHRpb25zLmJ1dHRvbikge1xuICAgICAgICAgICAgaWYgKGV2ZW50T3B0aW9ucy5wcmV2ZW50KSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50T3B0aW9ucy5zdG9wKSB7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLiRlbWl0KGV2ZW50LCBnZXRFdmVudChlKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGV2ZW50T3B0aW9ucy5yZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGtleSBpbiBvbikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob25ba2V5XSkpIHtcbiAgICAgICAgICAgIG9uW2tleV0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25ba2V5XSA9IFtvbltrZXldLCBoYW5kbGVyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25ba2V5XSA9IGhhbmRsZXI7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuXG4gICAgICBmb3IgKHZhciBldmVudCBpbiBldmVudHMpIHtcbiAgICAgICAgX2xvb3BfMShldmVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbjtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL3RpbWVzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvdGltZXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbC90aW1lc3RhbXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci91dGlsL3RpbWVzdGFtcC50c1wiKTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndGltZXMnLFxuICBwcm9wczoge1xuICAgIG5vdzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdmFsaWRhdG9yOiBfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInZhbGlkYXRlVGltZXN0YW1wXCJdXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aW1lczoge1xuICAgICAgICBub3c6IE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhcnNlVGltZXN0YW1wXCJdKSgnMDAwMC0wMC0wMCAwMDowMCcpLFxuICAgICAgICB0b2RheTogT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicGFyc2VUaW1lc3RhbXBcIl0pKCcwMDAwLTAwLTAwJylcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHBhcnNlZE5vdzogZnVuY3Rpb24gcGFyc2VkTm93KCkge1xuICAgICAgcmV0dXJuIHRoaXMubm93ID8gT2JqZWN0KF91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicGFyc2VUaW1lc3RhbXBcIl0pKHRoaXMubm93KSA6IG51bGw7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIHBhcnNlZE5vdzogJ3VwZGF0ZVRpbWVzJ1xuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIHRoaXMudXBkYXRlVGltZXMoKTtcbiAgICB0aGlzLnNldFByZXNlbnQoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldFByZXNlbnQ6IGZ1bmN0aW9uIHNldFByZXNlbnQoKSB7XG4gICAgICB0aGlzLnRpbWVzLm5vdy5wcmVzZW50ID0gdGhpcy50aW1lcy50b2RheS5wcmVzZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMudGltZXMubm93LnBhc3QgPSB0aGlzLnRpbWVzLnRvZGF5LnBhc3QgPSBmYWxzZTtcbiAgICAgIHRoaXMudGltZXMubm93LmZ1dHVyZSA9IHRoaXMudGltZXMudG9kYXkuZnV0dXJlID0gZmFsc2U7XG4gICAgfSxcbiAgICB1cGRhdGVUaW1lczogZnVuY3Rpb24gdXBkYXRlVGltZXMoKSB7XG4gICAgICB2YXIgbm93ID0gdGhpcy5wYXJzZWROb3cgfHwgdGhpcy5nZXROb3coKTtcbiAgICAgIHRoaXMudXBkYXRlRGF5KG5vdywgdGhpcy50aW1lcy5ub3cpO1xuICAgICAgdGhpcy51cGRhdGVUaW1lKG5vdywgdGhpcy50aW1lcy5ub3cpO1xuICAgICAgdGhpcy51cGRhdGVEYXkobm93LCB0aGlzLnRpbWVzLnRvZGF5KTtcbiAgICB9LFxuICAgIGdldE5vdzogZnVuY3Rpb24gZ2V0Tm93KCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhcnNlRGF0ZVwiXSkobmV3IERhdGUoKSk7XG4gICAgfSxcbiAgICB1cGRhdGVEYXk6IGZ1bmN0aW9uIHVwZGF0ZURheShub3csIHRhcmdldCkge1xuICAgICAgaWYgKG5vdy5kYXRlICE9PSB0YXJnZXQuZGF0ZSkge1xuICAgICAgICB0YXJnZXQueWVhciA9IG5vdy55ZWFyO1xuICAgICAgICB0YXJnZXQubW9udGggPSBub3cubW9udGg7XG4gICAgICAgIHRhcmdldC5kYXkgPSBub3cuZGF5O1xuICAgICAgICB0YXJnZXQud2Vla2RheSA9IG5vdy53ZWVrZGF5O1xuICAgICAgICB0YXJnZXQuZGF0ZSA9IG5vdy5kYXRlO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlVGltZTogZnVuY3Rpb24gdXBkYXRlVGltZShub3csIHRhcmdldCkge1xuICAgICAgaWYgKG5vdy50aW1lICE9PSB0YXJnZXQudGltZSkge1xuICAgICAgICB0YXJnZXQuaG91ciA9IG5vdy5ob3VyO1xuICAgICAgICB0YXJnZXQubWludXRlID0gbm93Lm1pbnV0ZTtcbiAgICAgICAgdGFyZ2V0LnRpbWUgPSBub3cudGltZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9ldmVudHMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9ldmVudHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcGFyc2VFdmVudCwgaXNFdmVudE9uLCBpc0V2ZW50T3ZlcmxhcHBpbmcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFyc2VFdmVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBhcnNlRXZlbnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRXZlbnRPblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGlzRXZlbnRPbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNFdmVudE92ZXJsYXBwaW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNFdmVudE92ZXJsYXBwaW5nOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RpbWVzdGFtcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL3V0aWwvdGltZXN0YW1wLnRzXCIpO1xuXG5mdW5jdGlvbiBwYXJzZUV2ZW50KGlucHV0LCBpbmRleCwgc3RhcnRQcm9wZXJ0eSwgZW5kUHJvcGVydHkpIHtcbiAgaWYgKCEoc3RhcnRQcm9wZXJ0eSBpbiBpbnB1dCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSAnICsgc3RhcnRQcm9wZXJ0eSArICcgcHJvcGVydHkgaXMgcmVxdWlyZWQgb24gYWxsIGV2ZW50cyB0byBiZSBhIHZhbGlkIHRpbWVzdGFtcCBpbiB0aGUgZm9ybWF0IFlZWVktTU0tREQgb3IgWVlZWS1NTS1ERCBoaDptbScpO1xuICB9XG5cbiAgdmFyIHN0YXJ0ID0gT2JqZWN0KF90aW1lc3RhbXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInBhcnNlVGltZXN0YW1wXCJdKShpbnB1dFtzdGFydFByb3BlcnR5XSk7XG4gIHZhciBlbmQgPSBpbnB1dFtlbmRQcm9wZXJ0eV0gPyBPYmplY3QoX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicGFyc2VUaW1lc3RhbXBcIl0pKGlucHV0W2VuZFByb3BlcnR5XSkgOiBzdGFydDtcbiAgdmFyIHN0YXJ0SWRlbnRpZmllciA9IE9iamVjdChfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXREYXlJZGVudGlmaWVyXCJdKShzdGFydCk7XG4gIHZhciBzdGFydFRpbWVzdGFtcElkZW50aWZpZXIgPSBPYmplY3QoX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VGltZXN0YW1wSWRlbnRpZmllclwiXSkoc3RhcnQpO1xuICB2YXIgZW5kSWRlbnRpZmllciA9IE9iamVjdChfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXREYXlJZGVudGlmaWVyXCJdKShlbmQpO1xuICB2YXIgZW5kVGltZXN0YW1wSWRlbnRpZmllciA9IE9iamVjdChfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRUaW1lc3RhbXBJZGVudGlmaWVyXCJdKShlbmQpO1xuICB2YXIgYWxsRGF5ID0gIXN0YXJ0Lmhhc1RpbWU7XG4gIHJldHVybiB7XG4gICAgaW5wdXQ6IGlucHV0LFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBzdGFydElkZW50aWZpZXI6IHN0YXJ0SWRlbnRpZmllcixcbiAgICBzdGFydFRpbWVzdGFtcElkZW50aWZpZXI6IHN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcixcbiAgICBlbmQ6IGVuZCxcbiAgICBlbmRJZGVudGlmaWVyOiBlbmRJZGVudGlmaWVyLFxuICAgIGVuZFRpbWVzdGFtcElkZW50aWZpZXI6IGVuZFRpbWVzdGFtcElkZW50aWZpZXIsXG4gICAgYWxsRGF5OiBhbGxEYXksXG4gICAgaW5kZXg6IGluZGV4XG4gIH07XG59XG5mdW5jdGlvbiBpc0V2ZW50T24oZXZlbnQsIGRheUlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGRheUlkZW50aWZpZXIgPj0gZXZlbnQuc3RhcnRJZGVudGlmaWVyICYmIGRheUlkZW50aWZpZXIgPD0gZXZlbnQuZW5kSWRlbnRpZmllcjtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRPdmVybGFwcGluZyhldmVudCwgc3RhcnRJZGVudGlmaWVyLCBlbmRJZGVudGlmaWVyKSB7XG4gIHJldHVybiBzdGFydElkZW50aWZpZXIgPD0gZXZlbnQuZW5kSWRlbnRpZmllciAmJiBlbmRJZGVudGlmaWVyID49IGV2ZW50LnN0YXJ0SWRlbnRpZmllcjtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC9wcm9wcy50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL3V0aWwvcHJvcHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0LCB2YWxpZGF0ZU51bWJlciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ2YWxpZGF0ZU51bWJlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZhbGlkYXRlTnVtYmVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RpbWVzdGFtcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL3V0aWwvdGltZXN0YW1wLnRzXCIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgYmFzZToge1xuICAgIHN0YXJ0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB2YWxpZGF0ZTogX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widmFsaWRhdGVUaW1lc3RhbXBcIl0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJwYXJzZURhdGVcIl0pKG5ldyBEYXRlKCkpLmRhdGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHZhbGlkYXRlOiBfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ2YWxpZGF0ZVRpbWVzdGFtcFwiXVxuICAgIH0sXG4gICAgd2Vla2RheXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbMCwgMSwgMiwgMywgNCwgNSwgNl07XG4gICAgICB9XG4gICAgfSxcbiAgICBoaWRlSGVhZGVyOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIHNob3J0V2Vla2RheXM6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB3ZWVrZGF5Rm9ybWF0OiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGRheUZvcm1hdDoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuICBpbnRlcnZhbHM6IHtcbiAgICBtYXhEYXlzOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiA3XG4gICAgfSxcbiAgICBzaG9ydEludGVydmFsczoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGludGVydmFsSGVpZ2h0OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNDAsXG4gICAgICB2YWxpZGF0ZTogdmFsaWRhdGVOdW1iZXJcbiAgICB9LFxuICAgIGludGVydmFsTWludXRlczoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDYwLFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlTnVtYmVyXG4gICAgfSxcbiAgICBmaXJzdEludGVydmFsOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZU51bWJlclxuICAgIH0sXG4gICAgaW50ZXJ2YWxDb3VudDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDI0LFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlTnVtYmVyXG4gICAgfSxcbiAgICBpbnRlcnZhbEZvcm1hdDoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBpbnRlcnZhbFN0eWxlOiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIHNob3dJbnRlcnZhbExhYmVsOiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9XG4gIH0sXG4gIHdlZWtzOiB7XG4gICAgbWluV2Vla3M6IHtcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZU51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHNob3J0TW9udGhzOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgc2hvd01vbnRoT25GaXJzdDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIG1vbnRoRm9ybWF0OiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9XG4gIH0sXG4gIGNhbGVuZGFyOiB7XG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ21vbnRoJ1xuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHZhbGlkYXRlOiBfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ2YWxpZGF0ZVRpbWVzdGFtcFwiXVxuICAgIH1cbiAgfSxcbiAgZXZlbnRzOiB7XG4gICAgZXZlbnRzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudFN0YXJ0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnc3RhcnQnXG4gICAgfSxcbiAgICBldmVudEVuZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2VuZCdcbiAgICB9LFxuICAgIGV2ZW50SGVpZ2h0OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAyMFxuICAgIH0sXG4gICAgZXZlbnRDb2xvcjoge1xuICAgICAgdHlwZTogW1N0cmluZywgRnVuY3Rpb25dLFxuICAgICAgZGVmYXVsdDogJ3NlY29uZGFyeSdcbiAgICB9LFxuICAgIGV2ZW50VGV4dENvbG9yOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBGdW5jdGlvbl0sXG4gICAgICBkZWZhdWx0OiAnd2hpdGUnXG4gICAgfSxcbiAgICBldmVudE5hbWU6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEZ1bmN0aW9uXSxcbiAgICAgIGRlZmF1bHQ6ICduYW1lJ1xuICAgIH0sXG4gICAgZXZlbnRPdmVybGFwVGhyZXNob2xkOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiA2MFxuICAgIH0sXG4gICAgZXZlbnRNb3JlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgZXZlbnRNb3JlVGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5LmNhbGVuZGFyLm1vcmVFdmVudHMnXG4gICAgfSxcbiAgICBldmVudFJpcHBsZToge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBldmVudE1hcmdpbkJvdHRvbToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH1cbiAgfVxufSk7XG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlcihpbnB1dCkge1xuICByZXR1cm4gaXNGaW5pdGUocGFyc2VJbnQoaW5wdXQpKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC90aW1lc3RhbXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC90aW1lc3RhbXAudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogUEFSU0VfUkVHRVgsIFBBUlNFX1RJTUUsIERBWVNfSU5fTU9OVEgsIERBWVNfSU5fTU9OVEhfTEVBUCwgREFZU19JTl9NT05USF9NSU4sIERBWVNfSU5fTU9OVEhfTUFYLCBNT05USF9NQVgsIE1PTlRIX01JTiwgREFZX01JTiwgREFZU19JTl9XRUVLLCBNSU5VVEVTX0lOX0hPVVIsIEhPVVJTX0lOX0RBWSwgRklSU1RfSE9VUiwgZ2V0U3RhcnRPZldlZWssIGdldEVuZE9mV2VlaywgZ2V0U3RhcnRPZk1vbnRoLCBnZXRFbmRPZk1vbnRoLCBwYXJzZVRpbWUsIHZhbGlkYXRlVGltZXN0YW1wLCBwYXJzZVRpbWVzdGFtcCwgcGFyc2VEYXRlLCBnZXREYXlJZGVudGlmaWVyLCBnZXRUaW1lSWRlbnRpZmllciwgZ2V0VGltZXN0YW1wSWRlbnRpZmllciwgdXBkYXRlUmVsYXRpdmUsIHVwZGF0ZU1pbnV0ZXMsIHVwZGF0ZVdlZWtkYXksIHVwZGF0ZUZvcm1hdHRlZCwgZ2V0V2Vla2RheSwgaXNMZWFwWWVhciwgZGF5c0luTW9udGgsIGNvcHlUaW1lc3RhbXAsIHBhZE51bWJlciwgZ2V0RGF0ZSwgZ2V0VGltZSwgbmV4dE1pbnV0ZXMsIG5leHREYXksIHByZXZEYXksIHJlbGF0aXZlRGF5cywgZmluZFdlZWtkYXksIGdldFdlZWtkYXlTa2lwcywgY3JlYXRlRGF5TGlzdCwgY3JlYXRlSW50ZXJ2YWxMaXN0LCBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUEFSU0VfUkVHRVhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQQVJTRV9SRUdFWDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUEFSU0VfVElNRVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFBBUlNFX1RJTUU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRBWVNfSU5fTU9OVEhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEQVlTX0lOX01PTlRIOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEQVlTX0lOX01PTlRIX0xFQVBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEQVlTX0lOX01PTlRIX0xFQVA7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRBWVNfSU5fTU9OVEhfTUlOXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gREFZU19JTl9NT05USF9NSU47IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRBWVNfSU5fTU9OVEhfTUFYXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gREFZU19JTl9NT05USF9NQVg7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1PTlRIX01BWFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1PTlRIX01BWDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTU9OVEhfTUlOXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTU9OVEhfTUlOOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEQVlfTUlOXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gREFZX01JTjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiREFZU19JTl9XRUVLXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gREFZU19JTl9XRUVLOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJNSU5VVEVTX0lOX0hPVVJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNSU5VVEVTX0lOX0hPVVI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkhPVVJTX0lOX0RBWVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhPVVJTX0lOX0RBWTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRklSU1RfSE9VUlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEZJUlNUX0hPVVI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFN0YXJ0T2ZXZWVrXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0U3RhcnRPZldlZWs7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEVuZE9mV2Vla1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEVuZE9mV2VlazsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0U3RhcnRPZk1vbnRoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0U3RhcnRPZk1vbnRoOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRFbmRPZk1vbnRoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0RW5kT2ZNb250aDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFyc2VUaW1lXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcGFyc2VUaW1lOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ2YWxpZGF0ZVRpbWVzdGFtcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZhbGlkYXRlVGltZXN0YW1wOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYXJzZVRpbWVzdGFtcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBhcnNlVGltZXN0YW1wOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYXJzZURhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwYXJzZURhdGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldERheUlkZW50aWZpZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXREYXlJZGVudGlmaWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRUaW1lSWRlbnRpZmllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFRpbWVJZGVudGlmaWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRUaW1lc3RhbXBJZGVudGlmaWVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0VGltZXN0YW1wSWRlbnRpZmllcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidXBkYXRlUmVsYXRpdmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1cGRhdGVSZWxhdGl2ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidXBkYXRlTWludXRlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHVwZGF0ZU1pbnV0ZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVwZGF0ZVdlZWtkYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1cGRhdGVXZWVrZGF5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1cGRhdGVGb3JtYXR0ZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1cGRhdGVGb3JtYXR0ZWQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFdlZWtkYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRXZWVrZGF5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0xlYXBZZWFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNMZWFwWWVhcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGF5c0luTW9udGhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkYXlzSW5Nb250aDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29weVRpbWVzdGFtcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHlUaW1lc3RhbXA7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhZE51bWJlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBhZE51bWJlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0RGF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldERhdGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFRpbWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRUaW1lOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJuZXh0TWludXRlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG5leHRNaW51dGVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJuZXh0RGF5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV4dERheTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicHJldkRheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHByZXZEYXk7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbGF0aXZlRGF5c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbGF0aXZlRGF5czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmluZFdlZWtkYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmaW5kV2Vla2RheTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0V2Vla2RheVNraXBzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0V2Vla2RheVNraXBzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVEYXlMaXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlRGF5TGlzdDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlSW50ZXJ2YWxMaXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlSW50ZXJ2YWxMaXN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXI7IH0pO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIFBBUlNFX1JFR0VYID0gL14oXFxkezR9KS0oXFxkezEsMn0pKC0oXFxkezEsMn0pKT8oW15cXGRdKyhcXGR7MSwyfSkpPyg6KFxcZHsxLDJ9KSk/KDooXFxkezEsMn0pKT8kLztcbnZhciBQQVJTRV9USU1FID0gLyhcXGRcXGQ/KSg6KFxcZFxcZD8pfCkoOihcXGRcXGQ/KXwpLztcbnZhciBEQVlTX0lOX01PTlRIID0gWzAsIDMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xudmFyIERBWVNfSU5fTU9OVEhfTEVBUCA9IFswLCAzMSwgMjksIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbnZhciBEQVlTX0lOX01PTlRIX01JTiA9IDI4O1xudmFyIERBWVNfSU5fTU9OVEhfTUFYID0gMzE7XG52YXIgTU9OVEhfTUFYID0gMTI7XG52YXIgTU9OVEhfTUlOID0gMTtcbnZhciBEQVlfTUlOID0gMTtcbnZhciBEQVlTX0lOX1dFRUsgPSA3O1xudmFyIE1JTlVURVNfSU5fSE9VUiA9IDYwO1xudmFyIEhPVVJTX0lOX0RBWSA9IDI0O1xudmFyIEZJUlNUX0hPVVIgPSAwO1xuZnVuY3Rpb24gZ2V0U3RhcnRPZldlZWsodGltZXN0YW1wLCB3ZWVrZGF5cywgdG9kYXkpIHtcbiAgdmFyIHN0YXJ0ID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApO1xuICBmaW5kV2Vla2RheShzdGFydCwgd2Vla2RheXNbMF0sIHByZXZEYXkpO1xuICB1cGRhdGVGb3JtYXR0ZWQoc3RhcnQpO1xuXG4gIGlmICh0b2RheSkge1xuICAgIHVwZGF0ZVJlbGF0aXZlKHN0YXJ0LCB0b2RheSwgc3RhcnQuaGFzVGltZSk7XG4gIH1cblxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBnZXRFbmRPZldlZWsodGltZXN0YW1wLCB3ZWVrZGF5cywgdG9kYXkpIHtcbiAgdmFyIGVuZCA9IGNvcHlUaW1lc3RhbXAodGltZXN0YW1wKTtcbiAgZmluZFdlZWtkYXkoZW5kLCB3ZWVrZGF5c1t3ZWVrZGF5cy5sZW5ndGggLSAxXSk7XG4gIHVwZGF0ZUZvcm1hdHRlZChlbmQpO1xuXG4gIGlmICh0b2RheSkge1xuICAgIHVwZGF0ZVJlbGF0aXZlKGVuZCwgdG9kYXksIGVuZC5oYXNUaW1lKTtcbiAgfVxuXG4gIHJldHVybiBlbmQ7XG59XG5mdW5jdGlvbiBnZXRTdGFydE9mTW9udGgodGltZXN0YW1wKSB7XG4gIHZhciBzdGFydCA9IGNvcHlUaW1lc3RhbXAodGltZXN0YW1wKTtcbiAgc3RhcnQuZGF5ID0gREFZX01JTjtcbiAgdXBkYXRlV2Vla2RheShzdGFydCk7XG4gIHVwZGF0ZUZvcm1hdHRlZChzdGFydCk7XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIGdldEVuZE9mTW9udGgodGltZXN0YW1wKSB7XG4gIHZhciBlbmQgPSBjb3B5VGltZXN0YW1wKHRpbWVzdGFtcCk7XG4gIGVuZC5kYXkgPSBkYXlzSW5Nb250aChlbmQueWVhciwgZW5kLm1vbnRoKTtcbiAgdXBkYXRlV2Vla2RheShlbmQpO1xuICB1cGRhdGVGb3JtYXR0ZWQoZW5kKTtcbiAgcmV0dXJuIGVuZDtcbn1cbmZ1bmN0aW9uIHBhcnNlVGltZShpbnB1dCkge1xuICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgIC8vIHdoZW4gYSBudW1iZXIgaXMgZ2l2ZW4sIGl0J3MgbWludXRlcyBzaW5jZSAxMjowMGFtXG4gICAgcmV0dXJuIGlucHV0O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyB3aGVuIGEgc3RyaW5nIGlzIGdpdmVuLCBpdCdzIGEgaGg6bW06c3MgZm9ybWF0IHdoZXJlIHNlY29uZHMgYXJlIG9wdGlvbmFsXG4gICAgdmFyIHBhcnRzID0gUEFSU0VfVElNRS5leGVjKGlucHV0KTtcblxuICAgIGlmICghcGFydHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQocGFydHNbMV0pICogNjAgKyBwYXJzZUludChwYXJ0c1szXSB8fCAwKTtcbiAgfSBlbHNlIGlmIChfdHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyB3aGVuIGFuIG9iamVjdCBpcyBnaXZlbiwgaXQgbXVzdCBoYXZlIGhvdXIgYW5kIG1pbnV0ZVxuICAgIGlmICh0eXBlb2YgaW5wdXQuaG91ciAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0Lm1pbnV0ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5wdXQuaG91ciAqIDYwICsgaW5wdXQubWludXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIHVuc3VwcG9ydGVkIHR5cGVcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlVGltZXN0YW1wKGlucHV0KSB7XG4gIHJldHVybiAhIVBBUlNFX1JFR0VYLmV4ZWMoaW5wdXQpO1xufVxuZnVuY3Rpb24gcGFyc2VUaW1lc3RhbXAoaW5wdXQsIG5vdykge1xuICAvLyBZWVlZLU1NLUREIGhoOm1tOnNzXG4gIHZhciBwYXJ0cyA9IFBBUlNFX1JFR0VYLmV4ZWMoaW5wdXQpO1xuICBpZiAoIXBhcnRzKSByZXR1cm4gbnVsbDtcbiAgdmFyIHRpbWVzdGFtcCA9IHtcbiAgICBkYXRlOiBpbnB1dCxcbiAgICB0aW1lOiAnJyxcbiAgICB5ZWFyOiBwYXJzZUludChwYXJ0c1sxXSksXG4gICAgbW9udGg6IHBhcnNlSW50KHBhcnRzWzJdKSxcbiAgICBkYXk6IHBhcnNlSW50KHBhcnRzWzRdKSB8fCAxLFxuICAgIGhvdXI6IHBhcnNlSW50KHBhcnRzWzZdKSB8fCAwLFxuICAgIG1pbnV0ZTogcGFyc2VJbnQocGFydHNbOF0pIHx8IDAsXG4gICAgd2Vla2RheTogMCxcbiAgICBoYXNEYXk6ICEhcGFydHNbNF0sXG4gICAgaGFzVGltZTogISEocGFydHNbNl0gJiYgcGFydHNbOF0pLFxuICAgIHBhc3Q6IGZhbHNlLFxuICAgIHByZXNlbnQ6IGZhbHNlLFxuICAgIGZ1dHVyZTogZmFsc2VcbiAgfTtcbiAgdXBkYXRlV2Vla2RheSh0aW1lc3RhbXApO1xuICB1cGRhdGVGb3JtYXR0ZWQodGltZXN0YW1wKTtcblxuICBpZiAobm93KSB7XG4gICAgdXBkYXRlUmVsYXRpdmUodGltZXN0YW1wLCBub3csIHRpbWVzdGFtcC5oYXNUaW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aW1lc3RhbXA7XG59XG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZSkge1xuICByZXR1cm4gdXBkYXRlRm9ybWF0dGVkKHtcbiAgICBkYXRlOiAnJyxcbiAgICB0aW1lOiAnJyxcbiAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSArIDEsXG4gICAgZGF5OiBkYXRlLmdldERhdGUoKSxcbiAgICB3ZWVrZGF5OiBkYXRlLmdldERheSgpLFxuICAgIGhvdXI6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICBtaW51dGU6IGRhdGUuZ2V0TWludXRlcygpLFxuICAgIGhhc0RheTogdHJ1ZSxcbiAgICBoYXNUaW1lOiB0cnVlLFxuICAgIHBhc3Q6IGZhbHNlLFxuICAgIHByZXNlbnQ6IHRydWUsXG4gICAgZnV0dXJlOiBmYWxzZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldERheUlkZW50aWZpZXIodGltZXN0YW1wKSB7XG4gIHJldHVybiB0aW1lc3RhbXAueWVhciAqIDEwMDAwICsgdGltZXN0YW1wLm1vbnRoICogMTAwICsgdGltZXN0YW1wLmRheTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVJZGVudGlmaWVyKHRpbWVzdGFtcCkge1xuICByZXR1cm4gdGltZXN0YW1wLmhvdXIgKiAxMDAgKyB0aW1lc3RhbXAubWludXRlO1xufVxuZnVuY3Rpb24gZ2V0VGltZXN0YW1wSWRlbnRpZmllcih0aW1lc3RhbXApIHtcbiAgcmV0dXJuIGdldERheUlkZW50aWZpZXIodGltZXN0YW1wKSAqIDEwMDAwICsgZ2V0VGltZUlkZW50aWZpZXIodGltZXN0YW1wKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJlbGF0aXZlKHRpbWVzdGFtcCwgbm93LCB0aW1lKSB7XG4gIGlmICh0aW1lID09PSB2b2lkIDApIHtcbiAgICB0aW1lID0gZmFsc2U7XG4gIH1cblxuICB2YXIgYSA9IGdldERheUlkZW50aWZpZXIobm93KTtcbiAgdmFyIGIgPSBnZXREYXlJZGVudGlmaWVyKHRpbWVzdGFtcCk7XG4gIHZhciBwcmVzZW50ID0gYSA9PT0gYjtcblxuICBpZiAodGltZXN0YW1wLmhhc1RpbWUgJiYgdGltZSAmJiBwcmVzZW50KSB7XG4gICAgYSA9IGdldFRpbWVJZGVudGlmaWVyKG5vdyk7XG4gICAgYiA9IGdldFRpbWVJZGVudGlmaWVyKHRpbWVzdGFtcCk7XG4gICAgcHJlc2VudCA9IGEgPT09IGI7XG4gIH1cblxuICB0aW1lc3RhbXAucGFzdCA9IGIgPCBhO1xuICB0aW1lc3RhbXAucHJlc2VudCA9IHByZXNlbnQ7XG4gIHRpbWVzdGFtcC5mdXR1cmUgPSBiID4gYTtcbiAgcmV0dXJuIHRpbWVzdGFtcDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1pbnV0ZXModGltZXN0YW1wLCBtaW51dGVzLCBub3cpIHtcbiAgdGltZXN0YW1wLmhhc1RpbWUgPSB0cnVlO1xuICB0aW1lc3RhbXAuaG91ciA9IE1hdGguZmxvb3IobWludXRlcyAvIE1JTlVURVNfSU5fSE9VUik7XG4gIHRpbWVzdGFtcC5taW51dGUgPSBtaW51dGVzICUgTUlOVVRFU19JTl9IT1VSO1xuICB0aW1lc3RhbXAudGltZSA9IGdldFRpbWUodGltZXN0YW1wKTtcblxuICBpZiAobm93KSB7XG4gICAgdXBkYXRlUmVsYXRpdmUodGltZXN0YW1wLCBub3csIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVzdGFtcDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVdlZWtkYXkodGltZXN0YW1wKSB7XG4gIHRpbWVzdGFtcC53ZWVrZGF5ID0gZ2V0V2Vla2RheSh0aW1lc3RhbXApO1xuICByZXR1cm4gdGltZXN0YW1wO1xufVxuZnVuY3Rpb24gdXBkYXRlRm9ybWF0dGVkKHRpbWVzdGFtcCkge1xuICB0aW1lc3RhbXAudGltZSA9IGdldFRpbWUodGltZXN0YW1wKTtcbiAgdGltZXN0YW1wLmRhdGUgPSBnZXREYXRlKHRpbWVzdGFtcCk7XG4gIHJldHVybiB0aW1lc3RhbXA7XG59XG5mdW5jdGlvbiBnZXRXZWVrZGF5KHRpbWVzdGFtcCkge1xuICBpZiAodGltZXN0YW1wLmhhc0RheSkge1xuICAgIHZhciBfID0gTWF0aC5mbG9vcjtcbiAgICB2YXIgayA9IHRpbWVzdGFtcC5kYXk7XG4gICAgdmFyIG0gPSAodGltZXN0YW1wLm1vbnRoICsgOSkgJSBNT05USF9NQVggKyAxO1xuXG4gICAgdmFyIEMgPSBfKHRpbWVzdGFtcC55ZWFyIC8gMTAwKTtcblxuICAgIHZhciBZID0gdGltZXN0YW1wLnllYXIgJSAxMDAgLSAodGltZXN0YW1wLm1vbnRoIDw9IDIgPyAxIDogMCk7XG4gICAgcmV0dXJuICgoayArIF8oMi42ICogbSAtIDAuMikgLSAyICogQyArIFkgKyBfKFkgLyA0KSArIF8oQyAvIDQpKSAlIDcgKyA3KSAlIDc7XG4gIH1cblxuICByZXR1cm4gdGltZXN0YW1wLndlZWtkYXk7XG59XG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMDtcbn1cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gREFZU19JTl9NT05USF9MRUFQW21vbnRoXSA6IERBWVNfSU5fTU9OVEhbbW9udGhdO1xufVxuZnVuY3Rpb24gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApIHtcbiAgdmFyIGRhdGUgPSB0aW1lc3RhbXAuZGF0ZSxcbiAgICAgIHRpbWUgPSB0aW1lc3RhbXAudGltZSxcbiAgICAgIHllYXIgPSB0aW1lc3RhbXAueWVhcixcbiAgICAgIG1vbnRoID0gdGltZXN0YW1wLm1vbnRoLFxuICAgICAgZGF5ID0gdGltZXN0YW1wLmRheSxcbiAgICAgIHdlZWtkYXkgPSB0aW1lc3RhbXAud2Vla2RheSxcbiAgICAgIGhvdXIgPSB0aW1lc3RhbXAuaG91cixcbiAgICAgIG1pbnV0ZSA9IHRpbWVzdGFtcC5taW51dGUsXG4gICAgICBoYXNEYXkgPSB0aW1lc3RhbXAuaGFzRGF5LFxuICAgICAgaGFzVGltZSA9IHRpbWVzdGFtcC5oYXNUaW1lLFxuICAgICAgcGFzdCA9IHRpbWVzdGFtcC5wYXN0LFxuICAgICAgcHJlc2VudCA9IHRpbWVzdGFtcC5wcmVzZW50LFxuICAgICAgZnV0dXJlID0gdGltZXN0YW1wLmZ1dHVyZTtcbiAgcmV0dXJuIHtcbiAgICBkYXRlOiBkYXRlLFxuICAgIHRpbWU6IHRpbWUsXG4gICAgeWVhcjogeWVhcixcbiAgICBtb250aDogbW9udGgsXG4gICAgZGF5OiBkYXksXG4gICAgd2Vla2RheTogd2Vla2RheSxcbiAgICBob3VyOiBob3VyLFxuICAgIG1pbnV0ZTogbWludXRlLFxuICAgIGhhc0RheTogaGFzRGF5LFxuICAgIGhhc1RpbWU6IGhhc1RpbWUsXG4gICAgcGFzdDogcGFzdCxcbiAgICBwcmVzZW50OiBwcmVzZW50LFxuICAgIGZ1dHVyZTogZnV0dXJlXG4gIH07XG59XG5mdW5jdGlvbiBwYWROdW1iZXIoeCwgbGVuZ3RoKSB7XG4gIHZhciBwYWRkZWQgPSBTdHJpbmcoeCk7XG5cbiAgd2hpbGUgKHBhZGRlZC5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICBwYWRkZWQgPSAnMCcgKyBwYWRkZWQ7XG4gIH1cblxuICByZXR1cm4gcGFkZGVkO1xufVxuZnVuY3Rpb24gZ2V0RGF0ZSh0aW1lc3RhbXApIHtcbiAgdmFyIHN0ciA9IHBhZE51bWJlcih0aW1lc3RhbXAueWVhciwgNCkgKyBcIi1cIiArIHBhZE51bWJlcih0aW1lc3RhbXAubW9udGgsIDIpO1xuICBpZiAodGltZXN0YW1wLmhhc0RheSkgc3RyICs9IFwiLVwiICsgcGFkTnVtYmVyKHRpbWVzdGFtcC5kYXksIDIpO1xuICByZXR1cm4gc3RyO1xufVxuZnVuY3Rpb24gZ2V0VGltZSh0aW1lc3RhbXApIHtcbiAgaWYgKCF0aW1lc3RhbXAuaGFzVGltZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJldHVybiBwYWROdW1iZXIodGltZXN0YW1wLmhvdXIsIDIpICsgXCI6XCIgKyBwYWROdW1iZXIodGltZXN0YW1wLm1pbnV0ZSwgMik7XG59XG5mdW5jdGlvbiBuZXh0TWludXRlcyh0aW1lc3RhbXAsIG1pbnV0ZXMpIHtcbiAgdGltZXN0YW1wLm1pbnV0ZSArPSBtaW51dGVzO1xuXG4gIHdoaWxlICh0aW1lc3RhbXAubWludXRlID4gTUlOVVRFU19JTl9IT1VSKSB7XG4gICAgdGltZXN0YW1wLm1pbnV0ZSAtPSBNSU5VVEVTX0lOX0hPVVI7XG4gICAgdGltZXN0YW1wLmhvdXIrKztcblxuICAgIGlmICh0aW1lc3RhbXAuaG91ciA+PSBIT1VSU19JTl9EQVkpIHtcbiAgICAgIG5leHREYXkodGltZXN0YW1wKTtcbiAgICAgIHRpbWVzdGFtcC5ob3VyID0gRklSU1RfSE9VUjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGltZXN0YW1wO1xufVxuZnVuY3Rpb24gbmV4dERheSh0aW1lc3RhbXApIHtcbiAgdGltZXN0YW1wLmRheSsrO1xuICB0aW1lc3RhbXAud2Vla2RheSA9ICh0aW1lc3RhbXAud2Vla2RheSArIDEpICUgREFZU19JTl9XRUVLO1xuXG4gIGlmICh0aW1lc3RhbXAuZGF5ID4gREFZU19JTl9NT05USF9NSU4gJiYgdGltZXN0YW1wLmRheSA+IGRheXNJbk1vbnRoKHRpbWVzdGFtcC55ZWFyLCB0aW1lc3RhbXAubW9udGgpKSB7XG4gICAgdGltZXN0YW1wLmRheSA9IERBWV9NSU47XG4gICAgdGltZXN0YW1wLm1vbnRoKys7XG5cbiAgICBpZiAodGltZXN0YW1wLm1vbnRoID4gTU9OVEhfTUFYKSB7XG4gICAgICB0aW1lc3RhbXAubW9udGggPSBNT05USF9NSU47XG4gICAgICB0aW1lc3RhbXAueWVhcisrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aW1lc3RhbXA7XG59XG5mdW5jdGlvbiBwcmV2RGF5KHRpbWVzdGFtcCkge1xuICB0aW1lc3RhbXAuZGF5LS07XG4gIHRpbWVzdGFtcC53ZWVrZGF5ID0gKHRpbWVzdGFtcC53ZWVrZGF5ICsgNikgJSBEQVlTX0lOX1dFRUs7XG5cbiAgaWYgKHRpbWVzdGFtcC5kYXkgPCBEQVlfTUlOKSB7XG4gICAgdGltZXN0YW1wLm1vbnRoLS07XG5cbiAgICBpZiAodGltZXN0YW1wLm1vbnRoIDwgTU9OVEhfTUlOKSB7XG4gICAgICB0aW1lc3RhbXAueWVhci0tO1xuICAgICAgdGltZXN0YW1wLm1vbnRoID0gTU9OVEhfTUFYO1xuICAgIH1cblxuICAgIHRpbWVzdGFtcC5kYXkgPSBkYXlzSW5Nb250aCh0aW1lc3RhbXAueWVhciwgdGltZXN0YW1wLm1vbnRoKTtcbiAgfVxuXG4gIHJldHVybiB0aW1lc3RhbXA7XG59XG5mdW5jdGlvbiByZWxhdGl2ZURheXModGltZXN0YW1wLCBtb3ZlciwgZGF5cykge1xuICBpZiAobW92ZXIgPT09IHZvaWQgMCkge1xuICAgIG1vdmVyID0gbmV4dERheTtcbiAgfVxuXG4gIGlmIChkYXlzID09PSB2b2lkIDApIHtcbiAgICBkYXlzID0gMTtcbiAgfVxuXG4gIHdoaWxlICgtLWRheXMgPj0gMCkge1xuICAgIG1vdmVyKHRpbWVzdGFtcCk7XG4gIH1cblxuICByZXR1cm4gdGltZXN0YW1wO1xufVxuZnVuY3Rpb24gZmluZFdlZWtkYXkodGltZXN0YW1wLCB3ZWVrZGF5LCBtb3ZlciwgbWF4RGF5cykge1xuICBpZiAobW92ZXIgPT09IHZvaWQgMCkge1xuICAgIG1vdmVyID0gbmV4dERheTtcbiAgfVxuXG4gIGlmIChtYXhEYXlzID09PSB2b2lkIDApIHtcbiAgICBtYXhEYXlzID0gNjtcbiAgfVxuXG4gIHdoaWxlICh0aW1lc3RhbXAud2Vla2RheSAhPT0gd2Vla2RheSAmJiAtLW1heERheXMgPj0gMCkge1xuICAgIG1vdmVyKHRpbWVzdGFtcCk7XG4gIH1cblxuICByZXR1cm4gdGltZXN0YW1wO1xufVxuZnVuY3Rpb24gZ2V0V2Vla2RheVNraXBzKHdlZWtkYXlzKSB7XG4gIHZhciBza2lwcyA9IFsxLCAxLCAxLCAxLCAxLCAxLCAxXTtcbiAgdmFyIGZpbGxlZCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdlZWtkYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgZmlsbGVkW3dlZWtkYXlzW2ldXSA9IDE7XG4gIH1cblxuICBmb3IgKHZhciBrID0gMDsgayA8IERBWVNfSU5fV0VFSzsgaysrKSB7XG4gICAgdmFyIHNraXAgPSAxO1xuXG4gICAgZm9yICh2YXIgaiA9IDE7IGogPCBEQVlTX0lOX1dFRUs7IGorKykge1xuICAgICAgdmFyIG5leHQgPSAoayArIGopICUgREFZU19JTl9XRUVLO1xuXG4gICAgICBpZiAoZmlsbGVkW25leHRdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBza2lwKys7XG4gICAgfVxuXG4gICAgc2tpcHNba10gPSBmaWxsZWRba10gKiBza2lwO1xuICB9XG5cbiAgcmV0dXJuIHNraXBzO1xufVxuZnVuY3Rpb24gY3JlYXRlRGF5TGlzdChzdGFydCwgZW5kLCBub3csIHdlZWtkYXlTa2lwcywgbWF4LCBtaW4pIHtcbiAgaWYgKG1heCA9PT0gdm9pZCAwKSB7XG4gICAgbWF4ID0gNDI7XG4gIH1cblxuICBpZiAobWluID09PSB2b2lkIDApIHtcbiAgICBtaW4gPSAwO1xuICB9XG5cbiAgdmFyIHN0b3AgPSBnZXREYXlJZGVudGlmaWVyKGVuZCk7XG4gIHZhciBkYXlzID0gW107XG4gIHZhciBjdXJyZW50ID0gY29weVRpbWVzdGFtcChzdGFydCk7XG4gIHZhciBjdXJyZW50SWRlbnRpZmllciA9IDA7XG4gIHZhciBzdG9wcGVkID0gY3VycmVudElkZW50aWZpZXIgPT09IHN0b3A7XG5cbiAgaWYgKHN0b3AgPCBnZXREYXlJZGVudGlmaWVyKHN0YXJ0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRW5kIGRhdGUgaXMgZWFybGllciB0aGFuIHN0YXJ0IGRhdGUuJyk7XG4gIH1cblxuICB3aGlsZSAoKCFzdG9wcGVkIHx8IGRheXMubGVuZ3RoIDwgbWluKSAmJiBkYXlzLmxlbmd0aCA8IG1heCkge1xuICAgIGN1cnJlbnRJZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihjdXJyZW50KTtcbiAgICBzdG9wcGVkID0gc3RvcHBlZCB8fCBjdXJyZW50SWRlbnRpZmllciA9PT0gc3RvcDtcblxuICAgIGlmICh3ZWVrZGF5U2tpcHNbY3VycmVudC53ZWVrZGF5XSA9PT0gMCkge1xuICAgICAgY3VycmVudCA9IG5leHREYXkoY3VycmVudCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgZGF5ID0gY29weVRpbWVzdGFtcChjdXJyZW50KTtcbiAgICB1cGRhdGVGb3JtYXR0ZWQoZGF5KTtcbiAgICB1cGRhdGVSZWxhdGl2ZShkYXksIG5vdyk7XG4gICAgZGF5cy5wdXNoKGRheSk7XG4gICAgY3VycmVudCA9IHJlbGF0aXZlRGF5cyhjdXJyZW50LCBuZXh0RGF5LCB3ZWVrZGF5U2tpcHNbY3VycmVudC53ZWVrZGF5XSk7XG4gIH1cblxuICBpZiAoIWRheXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGRhdGVzIGZvdW5kIHVzaW5nIHNwZWNpZmllZCBzdGFydCBkYXRlLCBlbmQgZGF0ZSwgYW5kIHdlZWtkYXlzLicpO1xuICByZXR1cm4gZGF5cztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUludGVydmFsTGlzdCh0aW1lc3RhbXAsIGZpcnN0LCBtaW51dGVzLCBjb3VudCwgbm93KSB7XG4gIHZhciBpbnRlcnZhbHMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICB2YXIgbWlucyA9IChmaXJzdCArIGkpICogbWludXRlcztcbiAgICB2YXIgaW50ID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApO1xuICAgIGludGVydmFscy5wdXNoKHVwZGF0ZU1pbnV0ZXMoaW50LCBtaW5zLCBub3cpKTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcnZhbHM7XG59XG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIobG9jYWxlLCBnZXRPcHRpb25zKSB7XG4gIHZhciBlbXB0eUZvcm1hdHRlciA9IGZ1bmN0aW9uIGVtcHR5Rm9ybWF0dGVyKF90LCBfcykge1xuICAgIHJldHVybiAnJztcbiAgfTtcblxuICBpZiAodHlwZW9mIEludGwgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBJbnRsLkRhdGVUaW1lRm9ybWF0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBlbXB0eUZvcm1hdHRlcjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAodGltZXN0YW1wLCBzaG9ydCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgaW50bEZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSB8fCB1bmRlZmluZWQsIGdldE9wdGlvbnModGltZXN0YW1wLCBzaG9ydCkpO1xuICAgICAgdmFyIHRpbWUgPSBwYWROdW1iZXIodGltZXN0YW1wLmhvdXIsIDIpICsgXCI6XCIgKyBwYWROdW1iZXIodGltZXN0YW1wLm1pbnV0ZSwgMik7XG4gICAgICB2YXIgZGF0ZSA9IHRpbWVzdGFtcC5kYXRlO1xuICAgICAgcmV0dXJuIGludGxGb3JtYXR0ZXIuZm9ybWF0KG5ldyBEYXRlKGRhdGUgKyBcIlRcIiArIHRpbWUgKyBcIjowMCswMDowMFwiKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FyZC9WQ2FyZC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYXJkL1ZDYXJkLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYXJkL1ZDYXJkLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2FyZC9WQ2FyZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhcmQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhcmQvVkNhcmQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhcmRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ2FyZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTaGVldCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfbG9hZGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9sb2FkYWJsZSAqLyBcIi4vc3JjL21peGlucy9sb2FkYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcm91dGFibGUgKi8gXCIuL3NyYy9taXhpbnMvcm91dGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIE1peGluc1xuXG5cbiAvLyBIZWxwZXJzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2xvYWRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1jYXJkJyxcbiAgcHJvcHM6IHtcbiAgICBmbGF0OiBCb29sZWFuLFxuICAgIGhvdmVyOiBCb29sZWFuLFxuICAgIGltZzogU3RyaW5nLFxuICAgIGxpbms6IEJvb2xlYW4sXG4gICAgbG9hZGVySGVpZ2h0OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNFxuICAgIH0sXG4gICAgb3V0bGluZWQ6IEJvb2xlYW4sXG4gICAgcmFpc2VkOiBCb29sZWFuLFxuICAgIHNoYXBlZDogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1jYXJkJzogdHJ1ZVxuICAgICAgfSwgX21peGluc19yb3V0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi1jYXJkLS1mbGF0JzogdGhpcy5mbGF0LFxuICAgICAgICAndi1jYXJkLS1ob3Zlcic6IHRoaXMuaG92ZXIsXG4gICAgICAgICd2LWNhcmQtLWxpbmsnOiB0aGlzLmlzQ2xpY2thYmxlLFxuICAgICAgICAndi1jYXJkLS1sb2FkaW5nJzogdGhpcy5sb2FkaW5nLFxuICAgICAgICAndi1jYXJkLS1kaXNhYmxlZCc6IHRoaXMubG9hZGluZyB8fCB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndi1jYXJkLS1vdXRsaW5lZCc6IHRoaXMub3V0bGluZWQsXG4gICAgICAgICd2LWNhcmQtLXJhaXNlZCc6IHRoaXMucmFpc2VkLFxuICAgICAgICAndi1jYXJkLS1zaGFwZWQnOiB0aGlzLnNoYXBlZFxuICAgICAgfSwgX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSk7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHZhciBzdHlsZSA9IF9fYXNzaWduKHt9LCBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuc3R5bGVzLmNhbGwodGhpcykpO1xuXG4gICAgICBpZiAodGhpcy5pbWcpIHtcbiAgICAgICAgc3R5bGUuYmFja2dyb3VuZCA9IFwidXJsKFxcXCJcIiArIHRoaXMuaW1nICsgXCJcXFwiKSBjZW50ZXIgY2VudGVyIC8gY292ZXIgbm8tcmVwZWF0XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Qcm9ncmVzczogZnVuY3Rpb24gZ2VuUHJvZ3Jlc3MoKSB7XG4gICAgICB2YXIgcmVuZGVyID0gX21peGluc19sb2FkYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuUHJvZ3Jlc3MuY2FsbCh0aGlzKTtcbiAgICAgIGlmICghcmVuZGVyKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYXJkX19wcm9ncmVzcydcbiAgICAgIH0sIFtyZW5kZXJdKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLmdlbmVyYXRlUm91dGVMaW5rKCksXG4gICAgICAgIHRhZyA9IF9hLnRhZyxcbiAgICAgICAgZGF0YSA9IF9hLmRhdGE7XG5cbiAgICBkYXRhLnN0eWxlID0gdGhpcy5zdHlsZXM7XG5cbiAgICBpZiAodGhpcy5pc0NsaWNrYWJsZSkge1xuICAgICAgZGF0YS5hdHRycyA9IGRhdGEuYXR0cnMgfHwge307XG4gICAgICBkYXRhLmF0dHJzLnRhYmluZGV4ID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIGRhdGEpLCBbdGhpcy5nZW5Qcm9ncmVzcygpLCB0aGlzLiRzbG90cy5kZWZhdWx0XSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FyZC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhcmQvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQ2FyZCwgVkNhcmRBY3Rpb25zLCBWQ2FyZFN1YnRpdGxlLCBWQ2FyZFRleHQsIFZDYXJkVGl0bGUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcmRBY3Rpb25zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkNhcmRBY3Rpb25zOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2FyZFN1YnRpdGxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkNhcmRTdWJ0aXRsZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcmRUZXh0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkNhcmRUZXh0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2FyZFRpdGxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkNhcmRUaXRsZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDYXJkICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FyZC9WQ2FyZC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYXJkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcblxuXG52YXIgVkNhcmRBY3Rpb25zID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LWNhcmRfX2FjdGlvbnMnKTtcbnZhciBWQ2FyZFN1YnRpdGxlID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LWNhcmRfX3N1YnRpdGxlJyk7XG52YXIgVkNhcmRUZXh0ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LWNhcmRfX3RleHQnKTtcbnZhciBWQ2FyZFRpdGxlID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LWNhcmRfX3RpdGxlJyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZDYXJkOiBfVkNhcmRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVkNhcmRBY3Rpb25zOiBWQ2FyZEFjdGlvbnMsXG4gICAgVkNhcmRTdWJ0aXRsZTogVkNhcmRTdWJ0aXRsZSxcbiAgICBWQ2FyZFRleHQ6IFZDYXJkVGV4dCxcbiAgICBWQ2FyZFRpdGxlOiBWQ2FyZFRpdGxlXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYXJvdXNlbC9WQ2Fyb3VzZWwuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYXJvdXNlbC9WQ2Fyb3VzZWwuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2Fyb3VzZWwvVkNhcm91c2VsLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDYXJvdXNlbC9WQ2Fyb3VzZWwudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJvdXNlbF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDYXJvdXNlbC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2Fyb3VzZWwvVkNhcm91c2VsLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJvdXNlbF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDYXJvdXNlbF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WV2luZG93X1ZXaW5kb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZXaW5kb3cvVldpbmRvdyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZQcm9ncmVzc0xpbmVhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYnV0dG9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYnV0dG9uLWdyb3VwICovIFwiLi9zcmMvbWl4aW5zL2J1dHRvbi1ncm91cC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIENvbXBvbmVudHNcblxuXG5cbiAvLyBNaXhpbnNcbi8vIFRPRE86IE1vdmUgdGhpcyBpbnRvIGNvcmUgY29tcG9uZW50cyB2Mi4wXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZXaW5kb3dfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1jYXJvdXNlbCcsXG4gIHByb3BzOiB7XG4gICAgY29udGludW91czoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGN5Y2xlOiBCb29sZWFuLFxuICAgIGRlbGltaXRlckljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZGVsaW1pdGVyJ1xuICAgIH0sXG4gICAgaGVpZ2h0OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNTAwXG4gICAgfSxcbiAgICBoaWRlRGVsaW1pdGVyczogQm9vbGVhbixcbiAgICBoaWRlRGVsaW1pdGVyQmFja2dyb3VuZDogQm9vbGVhbixcbiAgICBpbnRlcnZhbDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDYwMDAsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPiAwO1xuICAgICAgfVxuICAgIH0sXG4gICAgbWFuZGF0b3J5OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgcHJvZ3Jlc3M6IEJvb2xlYW4sXG4gICAgcHJvZ3Jlc3NDb2xvcjogU3RyaW5nLFxuICAgIHNob3dBcnJvd3M6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB2ZXJ0aWNhbERlbGltaXRlcnM6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZXJuYWxIZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgc2xpZGVUaW1lb3V0OiB1bmRlZmluZWRcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WV2luZG93X1ZXaW5kb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtY2Fyb3VzZWwnOiB0cnVlLFxuICAgICAgICAndi1jYXJvdXNlbC0taGlkZS1kZWxpbWl0ZXItYmFja2dyb3VuZCc6IHRoaXMuaGlkZURlbGltaXRlckJhY2tncm91bmQsXG4gICAgICAgICd2LWNhcm91c2VsLS12ZXJ0aWNhbC1kZWxpbWl0ZXJzJzogdGhpcy5pc1ZlcnRpY2FsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlzRGFyazogZnVuY3Rpb24gaXNEYXJrKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGFyayB8fCAhdGhpcy5saWdodDtcbiAgICB9LFxuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIGlzVmVydGljYWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbERlbGltaXRlcnMgIT0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaW50ZXJuYWxWYWx1ZTogJ3Jlc3RhcnRUaW1lb3V0JyxcbiAgICBpbnRlcnZhbDogJ3Jlc3RhcnRUaW1lb3V0JyxcbiAgICBoZWlnaHQ6IGZ1bmN0aW9uIGhlaWdodCh2YWwsIG9sZFZhbCkge1xuICAgICAgaWYgKHZhbCA9PT0gb2xkVmFsIHx8ICF2YWwpIHJldHVybjtcbiAgICAgIHRoaXMuaW50ZXJuYWxIZWlnaHQgPSB2YWw7XG4gICAgfSxcbiAgICBjeWNsZTogZnVuY3Rpb24gY3ljbGUodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVvdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNsaWRlVGltZW91dCk7XG4gICAgICAgIHRoaXMuc2xpZGVUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnaGlkZS1jb250cm9scycpKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiYnJlYWtpbmdcIl0pKCdoaWRlLWNvbnRyb2xzJywgJzpzaG93LWFycm93cz1cImZhbHNlXCInLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zdGFydFRpbWVvdXQoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkNvbnRyb2xJY29uczogZnVuY3Rpb24gZ2VuQ29udHJvbEljb25zKCkge1xuICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gX1ZXaW5kb3dfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuQ29udHJvbEljb25zLmNhbGwodGhpcyk7XG4gICAgfSxcbiAgICBnZW5EZWxpbWl0ZXJzOiBmdW5jdGlvbiBnZW5EZWxpbWl0ZXJzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhcm91c2VsX19jb250cm9scycsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbGVmdDogdGhpcy52ZXJ0aWNhbERlbGltaXRlcnMgPT09ICdsZWZ0JyAmJiB0aGlzLmlzVmVydGljYWwgPyAwIDogJ2F1dG8nLFxuICAgICAgICAgIHJpZ2h0OiB0aGlzLnZlcnRpY2FsRGVsaW1pdGVycyA9PT0gJ3JpZ2h0JyA/IDAgOiAnYXV0bydcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuZ2VuSXRlbXMoKV0pO1xuICAgIH0sXG4gICAgZ2VuSXRlbXM6IGZ1bmN0aW9uIGdlbkl0ZW1zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1jYXJvdXNlbF9fY29udHJvbHNfX2l0ZW0nLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMuJHZ1ZXRpZnkubGFuZy50KCckdnVldGlmeS5jYXJvdXNlbC5hcmlhTGFiZWwuZGVsaW1pdGVyJywgaSArIDEsIGxlbmd0aClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBpY29uOiB0cnVlLFxuICAgICAgICAgICAgc21hbGw6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRWYWx1ZSh0aGlzLml0ZW1zW2ldLCBpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIHNpemU6IDE4XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmRlbGltaXRlckljb24pXSk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfbWl4aW5zX2J1dHRvbl9ncm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHZhbHVlOiB0aGlzLmludGVybmFsVmFsdWUsXG4gICAgICAgICAgbWFuZGF0b3J5OiB0aGlzLm1hbmRhdG9yeVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKHZhbCkge1xuICAgICAgICAgICAgX3RoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIGdlblByb2dyZXNzOiBmdW5jdGlvbiBnZW5Qcm9ncmVzcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNhcm91c2VsX19wcm9ncmVzcycsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMucHJvZ3Jlc3NDb2xvcixcbiAgICAgICAgICB2YWx1ZTogKHRoaXMuaW50ZXJuYWxJbmRleCArIDEpIC8gdGhpcy5pdGVtcy5sZW5ndGggKiAxMDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICByZXN0YXJ0VGltZW91dDogZnVuY3Rpb24gcmVzdGFydFRpbWVvdXQoKSB7XG4gICAgICB0aGlzLnNsaWRlVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5zbGlkZVRpbWVvdXQpO1xuICAgICAgdGhpcy5zbGlkZVRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRUaW1lb3V0KTtcbiAgICB9LFxuICAgIHN0YXJ0VGltZW91dDogZnVuY3Rpb24gc3RhcnRUaW1lb3V0KCkge1xuICAgICAgaWYgKCF0aGlzLmN5Y2xlKSByZXR1cm47XG4gICAgICB0aGlzLnNsaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubmV4dCwgK3RoaXMuaW50ZXJ2YWwgPiAwID8gK3RoaXMuaW50ZXJ2YWwgOiA2MDAwKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgcmVuZGVyID0gX1ZXaW5kb3dfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLnJlbmRlci5jYWxsKHRoaXMsIGgpO1xuICAgIHJlbmRlci5kYXRhLnN0eWxlID0gXCJoZWlnaHQ6IFwiICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KSArIFwiO1wiO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICBpZiAoIXRoaXMuaGlkZURlbGltaXRlcnMpIHtcbiAgICAgIHJlbmRlci5jaGlsZHJlbi5wdXNoKHRoaXMuZ2VuRGVsaW1pdGVycygpKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuXG4gICAgaWYgKHRoaXMucHJvZ3Jlc3MgfHwgdGhpcy5wcm9ncmVzc0NvbG9yKSB7XG4gICAgICByZW5kZXIuY2hpbGRyZW4ucHVzaCh0aGlzLmdlblByb2dyZXNzKCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2Fyb3VzZWwvVkNhcm91c2VsSXRlbS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhcm91c2VsL1ZDYXJvdXNlbEl0ZW0udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WV2luZG93X1ZXaW5kb3dJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WV2luZG93L1ZXaW5kb3dJdGVtICovIFwiLi9zcmMvY29tcG9uZW50cy9WV2luZG93L1ZXaW5kb3dJdGVtLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW1nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSW1nICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW1nL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcm91dGFibGUgKi8gXCIuL3NyYy9taXhpbnMvcm91dGFibGUvaW5kZXgudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBFeHRlbnNpb25zXG5cblxuIC8vIENvbXBvbmVudHNcblxuIC8vIFV0aWxpdGllc1xuXG5cbiAvLyBUeXBlc1xuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKF9WV2luZG93X1ZXaW5kb3dJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoe1xuICBuYW1lOiAndi1jYXJvdXNlbC1pdGVtJyxcbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkRlZmF1bHRTbG90OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2xvdCgpIHtcbiAgICAgIHJldHVybiBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVkltZ1wiXSwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2Fyb3VzZWxfX2l0ZW0nLFxuICAgICAgICBwcm9wczogX19hc3NpZ24oe30sIHRoaXMuJGF0dHJzLCB7XG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLndpbmRvd0dyb3VwLmludGVybmFsSGVpZ2h0XG4gICAgICAgIH0pLFxuICAgICAgICBvbjogdGhpcy4kbGlzdGVuZXJzXG4gICAgICB9LCBbdGhpcy4kc2xvdHMuZGVmYXVsdCwgdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7XG4gICAgICAgIHNsb3Q6ICdwbGFjZWhvbGRlcidcbiAgICAgIH0sIHRoaXMuJHNsb3RzLnBsYWNlaG9sZGVyKV0pXTtcbiAgICB9LFxuICAgIGdlbldpbmRvd0l0ZW06IGZ1bmN0aW9uIGdlbldpbmRvd0l0ZW0oKSB7XG4gICAgICB2YXIgX2EgPSB0aGlzLmdlbmVyYXRlUm91dGVMaW5rKCksXG4gICAgICAgICAgdGFnID0gX2EudGFnLFxuICAgICAgICAgIGRhdGEgPSBfYS5kYXRhO1xuXG4gICAgICBkYXRhLnN0YXRpY0NsYXNzID0gJ3Ytd2luZG93LWl0ZW0nO1xuICAgICAgZGF0YS5kaXJlY3RpdmVzLnB1c2goe1xuICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgIHZhbHVlOiB0aGlzLmlzQWN0aXZlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KHRhZywgZGF0YSwgdGhpcy5zaG93TGF6eUNvbnRlbnQodGhpcy5nZW5EZWZhdWx0U2xvdCgpKSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhcm91c2VsL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNhcm91c2VsL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZDYXJvdXNlbCwgVkNhcm91c2VsSXRlbSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhcm91c2VsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDYXJvdXNlbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhcm91c2VsL1ZDYXJvdXNlbC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJvdXNlbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2Fyb3VzZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJvdXNlbEl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhcm91c2VsSXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhcm91c2VsL1ZDYXJvdXNlbEl0ZW0udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2Fyb3VzZWxJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYXJvdXNlbEl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWQ2Fyb3VzZWw6IF9WQ2Fyb3VzZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVkNhcm91c2VsSXRlbTogX1ZDYXJvdXNlbEl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoZWNrYm94L1ZDaGVja2JveC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNoZWNrYm94L1ZDaGVja2JveC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WQ2hlY2tib3gudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNoZWNrYm94L1ZDaGVja2JveC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNoZWNrYm94X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNoZWNrYm94LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WQ2hlY2tib3guc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNoZWNrYm94X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkNoZWNrYm94X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zdHlsZXMvY29tcG9uZW50cy9fc2VsZWN0aW9uLWNvbnRyb2xzLnNhc3MgKi8gXCIuL3NyYy9zdHlsZXMvY29tcG9uZW50cy9fc2VsZWN0aW9uLWNvbnRyb2xzLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJbnB1dCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVklucHV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfc2VsZWN0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3NlbGVjdGFibGUgKi8gXCIuL3NyYy9taXhpbnMvc2VsZWN0YWJsZS9pbmRleC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cblxuIC8vIENvbXBvbmVudHNcblxuXG4gLy8gTWl4aW5zXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfbWl4aW5zX3NlbGVjdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtY2hlY2tib3gnLFxuICBwcm9wczoge1xuICAgIGluZGV0ZXJtaW5hdGU6IEJvb2xlYW4sXG4gICAgaW5kZXRlcm1pbmF0ZUljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckY2hlY2tib3hJbmRldGVybWluYXRlJ1xuICAgIH0sXG4gICAgb2ZmSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRjaGVja2JveE9mZidcbiAgICB9LFxuICAgIG9uSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRjaGVja2JveE9uJ1xuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRJbmRldGVybWluYXRlOiB0aGlzLmluZGV0ZXJtaW5hdGVcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtaW5wdXQtLXNlbGVjdGlvbi1jb250cm9scyc6IHRydWUsXG4gICAgICAgICd2LWlucHV0LS1jaGVja2JveCc6IHRydWUsXG4gICAgICAgICd2LWlucHV0LS1pbmRldGVybWluYXRlJzogdGhpcy5pbnB1dEluZGV0ZXJtaW5hdGVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY29tcHV0ZWRJY29uOiBmdW5jdGlvbiBjb21wdXRlZEljb24oKSB7XG4gICAgICBpZiAodGhpcy5pbnB1dEluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZUljb247XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25JY29uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2ZmSWNvbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIERvIG5vdCByZXR1cm4gdW5kZWZpbmVkIGlmIGRpc2FibGVkLFxuICAgIC8vIGFjY29yZGluZyB0byBzcGVjLCBzaG91bGQgc3RpbGwgc2hvd1xuICAgIC8vIGEgY29sb3Igd2hlbiBkaXNhYmxlZCBhbmQgYWN0aXZlXG4gICAgdmFsaWRhdGlvblN0YXRlOiBmdW5jdGlvbiB2YWxpZGF0aW9uU3RhdGUoKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5pbnB1dEluZGV0ZXJtaW5hdGUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBpZiAodGhpcy5oYXNFcnJvciAmJiB0aGlzLnNob3VsZFZhbGlkYXRlKSByZXR1cm4gJ2Vycm9yJztcbiAgICAgIGlmICh0aGlzLmhhc1N1Y2Nlc3MpIHJldHVybiAnc3VjY2Vzcyc7XG4gICAgICBpZiAodGhpcy5oYXNDb2xvciAhPT0gbnVsbCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRDb2xvcjtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGluZGV0ZXJtaW5hdGU6IGZ1bmN0aW9uIGluZGV0ZXJtaW5hdGUodmFsKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvaXNzdWVzLzgyNzBcblxuXG4gICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pbnB1dEluZGV0ZXJtaW5hdGUgPSB2YWw7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlucHV0SW5kZXRlcm1pbmF0ZTogZnVuY3Rpb24gaW5wdXRJbmRldGVybWluYXRlKHZhbCkge1xuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmluZGV0ZXJtaW5hdGUnLCB2YWwpO1xuICAgIH0sXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgaWYgKCF0aGlzLmluZGV0ZXJtaW5hdGUpIHJldHVybjtcbiAgICAgIHRoaXMuaW5wdXRJbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuQ2hlY2tib3g6IGZ1bmN0aW9uIGdlbkNoZWNrYm94KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0LS1zZWxlY3Rpb24tY29udHJvbHNfX2lucHV0J1xuICAgICAgfSwgW3RoaXMuZ2VuSW5wdXQoJ2NoZWNrYm94JywgX19hc3NpZ24oe30sIHRoaXMuYXR0cnMkLCB7XG4gICAgICAgICdhcmlhLWNoZWNrZWQnOiB0aGlzLmlucHV0SW5kZXRlcm1pbmF0ZSA/ICdtaXhlZCcgOiB0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKClcbiAgICAgIH0pKSwgdGhpcy5nZW5SaXBwbGUodGhpcy5zZXRUZXh0Q29sb3IodGhpcy52YWxpZGF0aW9uU3RhdGUpKSwgdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHRoaXMuc2V0VGV4dENvbG9yKHRoaXMudmFsaWRhdGlvblN0YXRlLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgZGVuc2U6IHRoaXMuZGVuc2UsXG4gICAgICAgICAgZGFyazogdGhpcy5kYXJrLFxuICAgICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0XG4gICAgICAgIH1cbiAgICAgIH0pLCB0aGlzLmNvbXB1dGVkSWNvbildKTtcbiAgICB9LFxuICAgIGdlbkRlZmF1bHRTbG90OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2xvdCgpIHtcbiAgICAgIHJldHVybiBbdGhpcy5nZW5DaGVja2JveCgpLCB0aGlzLmdlbkxhYmVsKCldO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3guc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3guc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3gudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaW1wbGVDaGVja2JveF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTaW1wbGVDaGVja2JveC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaW1wbGVDaGVja2JveF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTaW1wbGVDaGVja2JveF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXNpbXBsZS1jaGVja2JveCcsXG4gIGZ1bmN0aW9uYWw6IHRydWUsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICByaXBwbGU6IF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczogX19hc3NpZ24oe30sIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMucHJvcHMsIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMucHJvcHMsIHtcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICByaXBwbGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB2YWx1ZTogQm9vbGVhbixcbiAgICBpbmRldGVybWluYXRlOiBCb29sZWFuLFxuICAgIGluZGV0ZXJtaW5hdGVJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGNoZWNrYm94SW5kZXRlcm1pbmF0ZSdcbiAgICB9LFxuICAgIG9uSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRjaGVja2JveE9uJ1xuICAgIH0sXG4gICAgb2ZmSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRjaGVja2JveE9mZidcbiAgICB9XG4gIH0pLFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgIHZhciBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICBkYXRhID0gX2EuZGF0YTtcbiAgICB2YXIgY2hpbGRyZW4gPSBbXTtcblxuICAgIGlmIChwcm9wcy5yaXBwbGUgJiYgIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICB2YXIgcmlwcGxlXzEgPSBoKCdkaXYnLCBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuc2V0VGV4dENvbG9yKHByb3BzLmNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1pbnB1dC0tc2VsZWN0aW9uLWNvbnRyb2xzX19yaXBwbGUnLFxuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICdyaXBwbGUnLFxuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBjZW50ZXI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgICB9KSk7XG4gICAgICBjaGlsZHJlbi5wdXNoKHJpcHBsZV8xKTtcbiAgICB9XG5cbiAgICB2YXIgaWNvbiA9IHByb3BzLm9mZkljb247XG4gICAgaWYgKHByb3BzLmluZGV0ZXJtaW5hdGUpIGljb24gPSBwcm9wcy5pbmRldGVybWluYXRlSWNvbjtlbHNlIGlmIChwcm9wcy52YWx1ZSkgaWNvbiA9IHByb3BzLm9uSWNvbjtcbiAgICBjaGlsZHJlbi5wdXNoKGgoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJWSWNvblwiXSwgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLnNldFRleHRDb2xvcihwcm9wcy52YWx1ZSAmJiBwcm9wcy5jb2xvciwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBkYXJrOiBwcm9wcy5kYXJrLFxuICAgICAgICBsaWdodDogcHJvcHMubGlnaHRcbiAgICAgIH1cbiAgICB9KSwgaWNvbikpO1xuICAgIHZhciBjbGFzc2VzID0ge1xuICAgICAgJ3Ytc2ltcGxlLWNoZWNrYm94JzogdHJ1ZSxcbiAgICAgICd2LXNpbXBsZS1jaGVja2JveC0tZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICAgIH07XG4gICAgcmV0dXJuIGgoJ2RpdicsIF9fYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgICBjbGFzczogY2xhc3NlcyxcbiAgICAgIG9uOiB7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChkYXRhLm9uICYmIGRhdGEub24uaW5wdXQgJiYgIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wid3JhcEluQXJyYXlcIl0pKGRhdGEub24uaW5wdXQpLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGYoIXByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkNoZWNrYm94LCBWU2ltcGxlQ2hlY2tib3gsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2hlY2tib3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WQ2hlY2tib3gudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2hlY2tib3hcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNoZWNrYm94X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2ltcGxlQ2hlY2tib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNpbXBsZUNoZWNrYm94ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNpbXBsZUNoZWNrYm94XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTaW1wbGVDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZDaGVja2JveDogX1ZDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgICBWU2ltcGxlQ2hlY2tib3g6IF9WU2ltcGxlQ2hlY2tib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXAvVkNoaXAuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2hpcC9WQ2hpcC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcC9WQ2hpcC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNoaXAvVkNoaXAudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hpcF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDaGlwLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGlwL1ZDaGlwLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkNoaXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc2l0aW9ucyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZ3JvdXBhYmxlICovIFwiLi9zcmMvbWl4aW5zL2dyb3VwYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdG9nZ2xlYWJsZSAqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yb3V0YWJsZSAqLyBcIi4vc3JjL21peGlucy9yb3V0YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3NpemVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvc2l6ZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvc2l6ZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTsgLy8gU3R5bGVzXG5cblxuXG4gLy8gQ29tcG9uZW50c1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3NpemVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSwgT2JqZWN0KF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJmYWN0b3J5XCJdKSgnY2hpcEdyb3VwJyksIE9iamVjdChfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImZhY3RvcnlcIl0pKCdpbnB1dFZhbHVlJykpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNoaXAnLFxuICBwcm9wczoge1xuICAgIGFjdGl2ZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGFjdGl2ZUNsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoaXBHcm91cCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlwR3JvdXAuYWN0aXZlQ2xhc3M7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9zZTogQm9vbGVhbixcbiAgICBjbG9zZUljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZGVsZXRlJ1xuICAgIH0sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZHJhZ2dhYmxlOiBCb29sZWFuLFxuICAgIGZpbHRlcjogQm9vbGVhbixcbiAgICBmaWx0ZXJJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGNvbXBsZXRlJ1xuICAgIH0sXG4gICAgbGFiZWw6IEJvb2xlYW4sXG4gICAgbGluazogQm9vbGVhbixcbiAgICBvdXRsaW5lZDogQm9vbGVhbixcbiAgICBwaWxsOiBCb29sZWFuLFxuICAgIHRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3NwYW4nXG4gICAgfSxcbiAgICB0ZXh0Q29sb3I6IFN0cmluZyxcbiAgICB2YWx1ZTogbnVsbFxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm94eUNsYXNzOiAndi1jaGlwLS1hY3RpdmUnXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtY2hpcCc6IHRydWVcbiAgICAgIH0sIF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtY2hpcC0tY2xpY2thYmxlJzogdGhpcy5pc0NsaWNrYWJsZSxcbiAgICAgICAgJ3YtY2hpcC0tZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndi1jaGlwLS1kcmFnZ2FibGUnOiB0aGlzLmRyYWdnYWJsZSxcbiAgICAgICAgJ3YtY2hpcC0tbGFiZWwnOiB0aGlzLmxhYmVsLFxuICAgICAgICAndi1jaGlwLS1saW5rJzogdGhpcy5pc0xpbmssXG4gICAgICAgICd2LWNoaXAtLW5vLWNvbG9yJzogIXRoaXMuY29sb3IsXG4gICAgICAgICd2LWNoaXAtLW91dGxpbmVkJzogdGhpcy5vdXRsaW5lZCxcbiAgICAgICAgJ3YtY2hpcC0tcGlsbCc6IHRoaXMucGlsbCxcbiAgICAgICAgJ3YtY2hpcC0tcmVtb3ZhYmxlJzogdGhpcy5oYXNDbG9zZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMsIHRoaXMuc2l6ZWFibGVDbGFzc2VzLCB0aGlzLmdyb3VwQ2xhc3Nlcyk7XG4gICAgfSxcbiAgICBoYXNDbG9zZTogZnVuY3Rpb24gaGFzQ2xvc2UoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmNsb3NlKTtcbiAgICB9LFxuICAgIGlzQ2xpY2thYmxlOiBmdW5jdGlvbiBpc0NsaWNrYWJsZSgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5pc0NsaWNrYWJsZS5jYWxsKHRoaXMpIHx8IHRoaXMuY2hpcEdyb3VwKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBicmVha2luZ1Byb3BzID0gW1snb3V0bGluZScsICdvdXRsaW5lZCddLCBbJ3NlbGVjdGVkJywgJ2lucHV0LXZhbHVlJ10sIFsndmFsdWUnLCAnYWN0aXZlJ10sIFsnQGlucHV0JywgJ0BhY3RpdmUuc3luYyddXTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gICAgYnJlYWtpbmdQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSxcbiAgICAgICAgICBvcmlnaW5hbCA9IF9iWzBdLFxuICAgICAgICAgIHJlcGxhY2VtZW50ID0gX2JbMV07XG5cbiAgICAgIGlmIChfdGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkob3JpZ2luYWwpKSBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImJyZWFraW5nXCJdKShvcmlnaW5hbCwgcmVwbGFjZW1lbnQsIF90aGlzKTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpO1xuICAgICAgdGhpcy5jaGlwR3JvdXAgJiYgdGhpcy50b2dnbGUoKTtcbiAgICB9LFxuICAgIGdlbkZpbHRlcjogZnVuY3Rpb24gZ2VuRmlsdGVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2hpcF9fZmlsdGVyJyxcbiAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgbGVmdDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5maWx0ZXJJY29uKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiVkV4cGFuZFhUcmFuc2l0aW9uXCJdLCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5DbG9zZTogZnVuY3Rpb24gZ2VuQ2xvc2UoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNoaXBfX2Nsb3NlJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICByaWdodDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBfdGhpcy4kZW1pdCgnY2xpY2s6Y2xvc2UnKTtcblxuICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZTphY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzLmNsb3NlSWNvbik7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1jaGlwX19jb250ZW50J1xuICAgICAgfSwgW3RoaXMuZmlsdGVyICYmIHRoaXMuZ2VuRmlsdGVyKCksIHRoaXMuJHNsb3RzLmRlZmF1bHQsIHRoaXMuaGFzQ2xvc2UgJiYgdGhpcy5nZW5DbG9zZSgpXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuZ2VuQ29udGVudCgpXTtcblxuICAgIHZhciBfYSA9IHRoaXMuZ2VuZXJhdGVSb3V0ZUxpbmsoKSxcbiAgICAgICAgdGFnID0gX2EudGFnLFxuICAgICAgICBkYXRhID0gX2EuZGF0YTtcblxuICAgIGRhdGEuYXR0cnMgPSBfX2Fzc2lnbih7fSwgZGF0YS5hdHRycywge1xuICAgICAgZHJhZ2dhYmxlOiB0aGlzLmRyYWdnYWJsZSA/ICd0cnVlJyA6IHVuZGVmaW5lZCxcbiAgICAgIHRhYmluZGV4OiB0aGlzLmNoaXBHcm91cCAmJiAhdGhpcy5kaXNhYmxlZCA/IDAgOiBkYXRhLmF0dHJzLnRhYmluZGV4XG4gICAgfSk7XG4gICAgZGF0YS5kaXJlY3RpdmVzLnB1c2goe1xuICAgICAgbmFtZTogJ3Nob3cnLFxuICAgICAgdmFsdWU6IHRoaXMuYWN0aXZlXG4gICAgfSk7XG4gICAgZGF0YSA9IHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIGRhdGEpO1xuICAgIHZhciBjb2xvciA9IHRoaXMudGV4dENvbG9yIHx8IHRoaXMub3V0bGluZWQgJiYgdGhpcy5jb2xvcjtcbiAgICByZXR1cm4gaCh0YWcsIHRoaXMuc2V0VGV4dENvbG9yKGNvbG9yLCBkYXRhKSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXAvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDaGlwL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkNoaXAsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDaGlwICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcC9WQ2hpcC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDaGlwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDaGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZDaGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcEdyb3VwL1ZDaGlwR3JvdXAuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNoaXBHcm91cC9WQ2hpcEdyb3VwLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcEdyb3VwL1ZDaGlwR3JvdXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ2hpcEdyb3VwL1ZDaGlwR3JvdXAudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNoaXBHcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDaGlwR3JvdXAuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXBHcm91cC9WQ2hpcEdyb3VwLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwR3JvdXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ2hpcEdyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZUdyb3VwX1ZTbGlkZUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WU2xpZGVHcm91cC9WU2xpZGVHcm91cCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlR3JvdXAvVlNsaWRlR3JvdXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBNaXhpbnNcblxuIC8vIFV0aWxpdGllc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX1ZTbGlkZUdyb3VwX1ZTbGlkZUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJCYXNlU2xpZGVHcm91cFwiXSwgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNoaXAtZ3JvdXAnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGlwR3JvdXA6IHRoaXNcbiAgICB9O1xuICB9LFxuICBwcm9wczoge1xuICAgIGNvbHVtbjogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WU2xpZGVHcm91cF9WU2xpZGVHcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQmFzZVNsaWRlR3JvdXBcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtY2hpcC1ncm91cCc6IHRydWUsXG4gICAgICAgICd2LWNoaXAtZ3JvdXAtLWNvbHVtbic6IHRoaXMuY29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgY29sdW1uOiBmdW5jdGlvbiBjb2x1bW4odmFsKSB7XG4gICAgICBpZiAodmFsKSB0aGlzLnNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB0aGlzLiRuZXh0VGljayh0aGlzLm9uUmVzaXplKTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5EYXRhOiBmdW5jdGlvbiBnZW5EYXRhKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0VGV4dENvbG9yKHRoaXMuY29sb3IsIF9fYXNzaWduKHt9LCBfVlNsaWRlR3JvdXBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkJhc2VTbGlkZUdyb3VwXCJdLm9wdGlvbnMubWV0aG9kcy5nZW5EYXRhLmNhbGwodGhpcykpKTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcEdyb3VwL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDaGlwR3JvdXAvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZDaGlwR3JvdXAsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNoaXBHcm91cCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXBHcm91cC9WQ2hpcEdyb3VwLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNoaXBHcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2hpcEdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZDaGlwR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb2xvclBpY2tlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDb2xvclBpY2tlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2hlZXRfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WU2hlZXQvVlNoZWV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvVlNoZWV0LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29sb3JQaWNrZXJQcmV2aWV3X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb2xvclBpY2tlclByZXZpZXcgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJQcmV2aWV3LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29sb3JQaWNrZXJDYW52YXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNvbG9yUGlja2VyQ2FudmFzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyQ2FudmFzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29sb3JQaWNrZXJFZGl0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb2xvclBpY2tlckVkaXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJFZGl0LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29sb3JQaWNrZXJTd2F0Y2hlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXJTd2F0Y2hlcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlclN3YXRjaGVzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci91dGlsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gQ29tcG9uZW50c1xuXG5cblxuXG5cbiAvLyBIZWxwZXJzXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSkoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNvbG9yLXBpY2tlcicsXG4gIHByb3BzOiB7XG4gICAgY2FudmFzSGVpZ2h0OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMTUwXG4gICAgfSxcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBkb3RTaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMTBcbiAgICB9LFxuICAgIGZsYXQ6IEJvb2xlYW4sXG4gICAgaGlkZUNhbnZhczogQm9vbGVhbixcbiAgICBoaWRlSW5wdXRzOiBCb29sZWFuLFxuICAgIGhpZGVNb2RlU3dpdGNoOiBCb29sZWFuLFxuICAgIG1vZGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdyZ2JhJyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHYpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKF9WQ29sb3JQaWNrZXJFZGl0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJtb2Rlc1wiXSkuaW5jbHVkZXModik7XG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93U3dhdGNoZXM6IEJvb2xlYW4sXG4gICAgc3dhdGNoZXM6IEFycmF5LFxuICAgIHN3YXRjaGVzTWF4SGVpZ2h0OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMTUwXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogW09iamVjdCwgU3RyaW5nXVxuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAzMDBcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGludGVybmFsVmFsdWU6IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZnJvbVJHQkFcIl0pKHtcbiAgICAgICAgcjogMjU1LFxuICAgICAgICBnOiAwLFxuICAgICAgICBiOiAwLFxuICAgICAgICBhOiAxXG4gICAgICB9KVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaGlkZUFscGhhOiBmdW5jdGlvbiBoaWRlQWxwaGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiAhT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJoYXNBbHBoYVwiXSkodGhpcy52YWx1ZSk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIHZhbHVlOiB7XG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKGNvbG9yKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29sb3IoT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJwYXJzZUNvbG9yXCJdKShjb2xvciwgdGhpcy5pbnRlcm5hbFZhbHVlKSk7XG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgdXBkYXRlQ29sb3I6IGZ1bmN0aW9uIHVwZGF0ZUNvbG9yKGNvbG9yKSB7XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSBjb2xvcjtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZXh0cmFjdENvbG9yXCJdKSh0aGlzLmludGVybmFsVmFsdWUsIHRoaXMudmFsdWUpO1xuXG4gICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpjb2xvcicsIHRoaXMuaW50ZXJuYWxWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZW5DYW52YXM6IGZ1bmN0aW9uIGdlbkNhbnZhcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQ29sb3JQaWNrZXJDYW52YXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy5pbnRlcm5hbFZhbHVlLFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgIGRvdFNpemU6IHRoaXMuZG90U2l6ZSxcbiAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FudmFzSGVpZ2h0XG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgJ3VwZGF0ZTpjb2xvcic6IHRoaXMudXBkYXRlQ29sb3JcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5Db250cm9sczogZnVuY3Rpb24gZ2VuQ29udHJvbHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19jb250cm9scydcbiAgICAgIH0sIFt0aGlzLmdlblByZXZpZXcoKSwgIXRoaXMuaGlkZUlucHV0cyAmJiB0aGlzLmdlbkVkaXQoKV0pO1xuICAgIH0sXG4gICAgZ2VuRWRpdDogZnVuY3Rpb24gZ2VuRWRpdCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQ29sb3JQaWNrZXJFZGl0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMuaW50ZXJuYWxWYWx1ZSxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICBoaWRlQWxwaGE6IHRoaXMuaGlkZUFscGhhLFxuICAgICAgICAgIGhpZGVNb2RlU3dpdGNoOiB0aGlzLmhpZGVNb2RlU3dpdGNoLFxuICAgICAgICAgIG1vZGU6IHRoaXMubW9kZVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgICd1cGRhdGU6Y29sb3InOiB0aGlzLnVwZGF0ZUNvbG9yLFxuICAgICAgICAgICd1cGRhdGU6bW9kZSc6IGZ1bmN0aW9uIHVwZGF0ZU1vZGUodikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCd1cGRhdGU6bW9kZScsIHYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5QcmV2aWV3OiBmdW5jdGlvbiBnZW5QcmV2aWV3KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZDb2xvclBpY2tlclByZXZpZXdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy5pbnRlcm5hbFZhbHVlLFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgIGhpZGVBbHBoYTogdGhpcy5oaWRlQWxwaGFcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAndXBkYXRlOmNvbG9yJzogdGhpcy51cGRhdGVDb2xvclxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlblN3YXRjaGVzOiBmdW5jdGlvbiBnZW5Td2F0Y2hlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQ29sb3JQaWNrZXJTd2F0Y2hlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodCxcbiAgICAgICAgICBzd2F0Y2hlczogdGhpcy5zd2F0Y2hlcyxcbiAgICAgICAgICBjb2xvcjogdGhpcy5pbnRlcm5hbFZhbHVlLFxuICAgICAgICAgIG1heEhlaWdodDogdGhpcy5zd2F0Y2hlc01heEhlaWdodFxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgICd1cGRhdGU6Y29sb3InOiB0aGlzLnVwZGF0ZUNvbG9yXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKF9WU2hlZXRfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyJyxcbiAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICd2LWNvbG9yLXBpY2tlci0tZmxhdCc6IHRoaXMuZmxhdFxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbWF4V2lkdGg6IHRoaXMud2lkdGhcbiAgICAgIH1cbiAgICB9LCBbIXRoaXMuaGlkZUNhbnZhcyAmJiB0aGlzLmdlbkNhbnZhcygpLCB0aGlzLmdlbkNvbnRyb2xzKCksIHRoaXMuc2hvd1N3YXRjaGVzICYmIHRoaXMuZ2VuU3dhdGNoZXMoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckNhbnZhcy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckNhbnZhcy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJDYW52YXMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckNhbnZhcy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyQ2FudmFzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNvbG9yUGlja2VyQ2FudmFzLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJDYW52YXMuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyQ2FudmFzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkNvbG9yUGlja2VyQ2FudmFzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci91dGlsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbi8vIFN0eWxlc1xuIC8vIEhlbHBlcnNcblxuXG4gLy8gVHlwZXNcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndi1jb2xvci1waWNrZXItY2FudmFzJyxcbiAgcHJvcHM6IHtcbiAgICBjb2xvcjoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImZyb21SR0JBXCJdKSh7XG4gICAgICAgICAgcjogMjU1LFxuICAgICAgICAgIGc6IDAsXG4gICAgICAgICAgYjogMCxcbiAgICAgICAgICBhOiAxXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZG90U2l6ZToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDEwXG4gICAgfSxcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAxNTBcbiAgICB9LFxuICAgIHdpZHRoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMzAwXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBib3VuZGluZ1JlY3Q6IHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBkb3Q6IGZ1bmN0aW9uIGRvdCgpIHtcbiAgICAgIGlmICghdGhpcy5jb2xvcikgcmV0dXJuIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHRoaXMuY29sb3IuaHN2YS5zICogcGFyc2VJbnQodGhpcy53aWR0aCwgMTApLFxuICAgICAgICB5OiAoMSAtIHRoaXMuY29sb3IuaHN2YS52KSAqIHBhcnNlSW50KHRoaXMuaGVpZ2h0LCAxMClcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgICdjb2xvci5odWUnOiAndXBkYXRlQ2FudmFzJ1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMudXBkYXRlQ2FudmFzKCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBlbWl0Q29sb3I6IGZ1bmN0aW9uIGVtaXRDb2xvcih4LCB5KSB7XG4gICAgICB2YXIgX2EgPSB0aGlzLmJvdW5kaW5nUmVjdCxcbiAgICAgICAgICBsZWZ0ID0gX2EubGVmdCxcbiAgICAgICAgICB0b3AgPSBfYS50b3AsXG4gICAgICAgICAgd2lkdGggPSBfYS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y29sb3InLCBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImZyb21IU1ZBXCJdKSh7XG4gICAgICAgIGg6IHRoaXMuY29sb3IuaHVlLFxuICAgICAgICBzOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY2xhbXBcIl0pKHggLSBsZWZ0LCAwLCB3aWR0aCkgLyB3aWR0aCxcbiAgICAgICAgdjogMSAtIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjbGFtcFwiXSkoeSAtIHRvcCwgMCwgaGVpZ2h0KSAvIGhlaWdodCxcbiAgICAgICAgYTogdGhpcy5jb2xvci5hbHBoYVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgdXBkYXRlQ2FudmFzOiBmdW5jdGlvbiB1cGRhdGVDYW52YXMoKSB7XG4gICAgICBpZiAoIXRoaXMuY29sb3IpIHJldHVybjtcbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhcztcbiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGlmICghY3R4KSByZXR1cm47XG4gICAgICB2YXIgc2F0dXJhdGlvbkdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIGNhbnZhcy53aWR0aCwgMCk7XG4gICAgICBzYXR1cmF0aW9uR3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdoc2xhKDAsIDAlLCAxMDAlLCAxKScpOyAvLyB3aGl0ZVxuXG4gICAgICBzYXR1cmF0aW9uR3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIFwiaHNsYShcIiArIHRoaXMuY29sb3IuaHVlICsgXCIsIDEwMCUsIDUwJSwgMSlcIik7XG4gICAgICBjdHguZmlsbFN0eWxlID0gc2F0dXJhdGlvbkdyYWRpZW50O1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB2YXIgdmFsdWVHcmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIHZhbHVlR3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdoc2xhKDAsIDAlLCAxMDAlLCAwKScpOyAvLyB0cmFuc3BhcmVudFxuXG4gICAgICB2YWx1ZUdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnaHNsYSgwLCAwJSwgMCUsIDEpJyk7IC8vIGJsYWNrXG5cbiAgICAgIGN0eC5maWxsU3R5bGUgPSB2YWx1ZUdyYWRpZW50O1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgfSxcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgIHRoaXMuYm91bmRpbmdSZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLmVtaXRDb2xvcihlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihlKSB7XG4gICAgICAvLyBUbyBwcmV2ZW50IHNlbGVjdGlvbiB3aGlsZSBtb3ZpbmcgY3Vyc29yXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5ib3VuZGluZ1JlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5lbWl0Q29sb3IoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgIH0sXG4gICAgaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgfSxcbiAgICBnZW5DYW52YXM6IGZ1bmN0aW9uIGdlbkNhbnZhcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdjYW52YXMnLCB7XG4gICAgICAgIHJlZjogJ2NhbnZhcycsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkRvdDogZnVuY3Rpb24gZ2VuRG90KCkge1xuICAgICAgdmFyIHJhZGl1cyA9IHBhcnNlSW50KHRoaXMuZG90U2l6ZSwgMTApIC8gMjtcbiAgICAgIHZhciB4ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuZG90LnggLSByYWRpdXMpO1xuICAgICAgdmFyIHkgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5kb3QueSAtIHJhZGl1cyk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19jYW52YXMtZG90JyxcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAndi1jb2xvci1waWNrZXJfX2NhbnZhcy1kb3QtLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHdpZHRoOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5kb3RTaXplKSxcbiAgICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmRvdFNpemUpLFxuICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIgKyB4ICsgXCIsIFwiICsgeSArIFwiKVwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19jYW52YXMnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLndpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5oZWlnaHQpXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgY2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICAgIG1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25cbiAgICAgIH1cbiAgICB9LCBbdGhpcy5nZW5DYW52YXMoKSwgdGhpcy5nZW5Eb3QoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckVkaXQuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyRWRpdC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyRWRpdC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckVkaXQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBtb2RlcywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtb2Rlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG1vZGVzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyRWRpdF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb2xvclBpY2tlckVkaXQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckVkaXQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyRWRpdF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDb2xvclBpY2tlckVkaXRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkJ0biAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0bi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJY29uICovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbG9yVXRpbHMgKi8gXCIuL3NyYy91dGlsL2NvbG9yVXRpbHMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci91dGlsL2luZGV4LnRzXCIpO1xudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gQ29tcG9uZW50c1xuXG5cbiAvLyBIZWxwZXJzXG5cbiAvLyBUeXBlc1xuXG5cblxudmFyIG1vZGVzID0ge1xuICByZ2JhOiB7XG4gICAgaW5wdXRzOiBbWydyJywgMjU1LCAnaW50J10sIFsnZycsIDI1NSwgJ2ludCddLCBbJ2InLCAyNTUsICdpbnQnXSwgWydhJywgMSwgJ2Zsb2F0J11dLFxuICAgIGZyb206IF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJmcm9tUkdCQVwiXVxuICB9LFxuICBoc2xhOiB7XG4gICAgaW5wdXRzOiBbWydoJywgMzYwLCAnaW50J10sIFsncycsIDEsICdmbG9hdCddLCBbJ2wnLCAxLCAnZmxvYXQnXSwgWydhJywgMSwgJ2Zsb2F0J11dLFxuICAgIGZyb206IF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJmcm9tSFNMQVwiXVxuICB9LFxuICBoZXhhOiB7XG4gICAgZnJvbTogX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImZyb21IZXhhXCJdXG4gIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndi1jb2xvci1waWNrZXItZWRpdCcsXG4gIHByb3BzOiB7XG4gICAgY29sb3I6IE9iamVjdCxcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBoaWRlQWxwaGE6IEJvb2xlYW4sXG4gICAgaGlkZU1vZGVTd2l0Y2g6IEJvb2xlYW4sXG4gICAgbW9kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3JnYmEnLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Iodikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobW9kZXMpLmluY2x1ZGVzKHYpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9kZXM6IG1vZGVzLFxuICAgICAgaW50ZXJuYWxNb2RlOiB0aGlzLm1vZGVcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGN1cnJlbnRNb2RlOiBmdW5jdGlvbiBjdXJyZW50TW9kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVzW3RoaXMuaW50ZXJuYWxNb2RlXTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgbW9kZTogZnVuY3Rpb24gbW9kZShfbW9kZSkge1xuICAgICAgdGhpcy5pbnRlcm5hbE1vZGUgPSBfbW9kZTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5pbnRlcm5hbE1vZGUgPSB0aGlzLm1vZGU7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUodiwgdHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09ICdmbG9hdCcpIHJldHVybiBNYXRoLnJvdW5kKHYgKiAxMDApIC8gMTAwO2Vsc2UgaWYgKHR5cGUgPT09ICdpbnQnKSByZXR1cm4gTWF0aC5yb3VuZCh2KTtlbHNlIHJldHVybiAwO1xuICAgIH0sXG4gICAgcGFyc2VWYWx1ZTogZnVuY3Rpb24gcGFyc2VWYWx1ZSh2LCB0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2Zsb2F0JykgcmV0dXJuIHBhcnNlRmxvYXQodik7ZWxzZSBpZiAodHlwZSA9PT0gJ2ludCcpIHJldHVybiBwYXJzZUludCh2LCAxMCkgfHwgMDtlbHNlIHJldHVybiAwO1xuICAgIH0sXG4gICAgY2hhbmdlTW9kZTogZnVuY3Rpb24gY2hhbmdlTW9kZSgpIHtcbiAgICAgIHZhciBtb2RlcyA9IE9iamVjdC5rZXlzKHRoaXMubW9kZXMpO1xuICAgICAgdmFyIGluZGV4ID0gbW9kZXMuaW5kZXhPZih0aGlzLmludGVybmFsTW9kZSk7XG4gICAgICB2YXIgbmV3TW9kZSA9IG1vZGVzWyhpbmRleCArIDEpICUgbW9kZXMubGVuZ3RoXTtcbiAgICAgIHRoaXMuaW50ZXJuYWxNb2RlID0gbmV3TW9kZTtcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTptb2RlJywgbmV3TW9kZSk7XG4gICAgfSxcbiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQodGFyZ2V0LCBhdHRycywgdmFsdWUsIG9uKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19pbnB1dCdcbiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAga2V5OiB0YXJnZXQsXG4gICAgICAgIGF0dHJzOiBhdHRycyxcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IG9uXG4gICAgICB9KSwgdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIHRhcmdldC50b1VwcGVyQ2FzZSgpKV0pO1xuICAgIH0sXG4gICAgZ2VuSW5wdXRzOiBmdW5jdGlvbiBnZW5JbnB1dHMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBzd2l0Y2ggKHRoaXMuaW50ZXJuYWxNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2hleGEnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBoZXggPSB0aGlzLmNvbG9yLmhleGE7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmhpZGVBbHBoYSAmJiBoZXguZW5kc1dpdGgoJ0ZGJykgPyBoZXguc3Vic3RyKDAsIDcpIDogaGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuSW5wdXQoJ2hleCcsIHtcbiAgICAgICAgICAgICAgbWF4bGVuZ3RoOiB0aGlzLmhpZGVBbHBoYSA/IDcgOiA5LFxuICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZFxuICAgICAgICAgICAgfSwgdmFsdWUsIHtcbiAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZTpjb2xvcicsIF90aGlzLmN1cnJlbnRNb2RlLmZyb20oT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcInBhcnNlSGV4XCJdKShlbC52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlucHV0cyA9IHRoaXMuaGlkZUFscGhhID8gdGhpcy5jdXJyZW50TW9kZS5pbnB1dHMuc2xpY2UoMCwgLTEpIDogdGhpcy5jdXJyZW50TW9kZS5pbnB1dHM7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRzLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAzKSxcbiAgICAgICAgICAgICAgICAgIHRhcmdldCA9IF9iWzBdLFxuICAgICAgICAgICAgICAgICAgbWF4ID0gX2JbMV0sXG4gICAgICAgICAgICAgICAgICB0eXBlID0gX2JbMl07XG5cbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuY29sb3JbX3RoaXMuaW50ZXJuYWxNb2RlXTtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdlbklucHV0KHRhcmdldCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICAgICAgICBzdGVwOiB0eXBlID09PSAnZmxvYXQnID8gJzAuMDEnIDogdHlwZSA9PT0gJ2ludCcgPyAnMScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF90aGlzLmRpc2FibGVkXG4gICAgICAgICAgICAgIH0sIF90aGlzLmdldFZhbHVlKHZhbHVlW3RhcmdldF0sIHR5cGUpLCB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgICAgICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWwgPSBfdGhpcy5wYXJzZVZhbHVlKGVsLnZhbHVlIHx8ICcwJywgdHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGRhdGU6Y29sb3InLCBfdGhpcy5jdXJyZW50TW9kZS5mcm9tKE9iamVjdC5hc3NpZ24oe30sIHZhbHVlLCAoX2EgPSB7fSwgX2FbdGFyZ2V0XSA9IG5ld1ZhbCwgX2EpKSwgX3RoaXMuY29sb3IuYWxwaGEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZ2VuU3dpdGNoOiBmdW5jdGlvbiBnZW5Td2l0Y2goKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHNtYWxsOiB0cnVlLFxuICAgICAgICAgIGljb246IHRydWUsXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWRcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogdGhpcy5jaGFuZ2VNb2RlXG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgJyR1bmZvbGQnKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19lZGl0J1xuICAgIH0sIFt0aGlzLmdlbklucHV0cygpLCAhdGhpcy5oaWRlTW9kZVN3aXRjaCAmJiB0aGlzLmdlblN3aXRjaCgpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyUHJldmlldy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJQcmV2aWV3LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJQcmV2aWV3LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyUHJldmlldy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlclByZXZpZXdfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXJQcmV2aWV3LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJQcmV2aWV3LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlclByZXZpZXdfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ29sb3JQaWNrZXJQcmV2aWV3X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZXJfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNsaWRlci9WU2xpZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2xpZGVyL1ZTbGlkZXIudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb2xvclV0aWxzICovIFwiLi9zcmMvdXRpbC9jb2xvclV0aWxzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBVdGlsaXRpZXNcblxuIC8vIFR5cGVzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndi1jb2xvci1waWNrZXItcHJldmlldycsXG4gIHByb3BzOiB7XG4gICAgY29sb3I6IE9iamVjdCxcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBoaWRlQWxwaGE6IEJvb2xlYW5cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkFscGhhOiBmdW5jdGlvbiBnZW5BbHBoYSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmdlblRyYWNrKHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbG9yLXBpY2tlcl9fYWxwaGEnLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHRodW1iQ29sb3I6ICdncmV5IGxpZ2h0ZW4tMicsXG4gICAgICAgICAgaGlkZURldGFpbHM6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuY29sb3IuYWxwaGEsXG4gICAgICAgICAgc3RlcDogMCxcbiAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgbWF4OiAxXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAhdGhpcy5kaXNhYmxlZCA/IFwibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB0cmFuc3BhcmVudCwgXCIgKyBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiUkdCdG9DU1NcIl0pKHRoaXMuY29sb3IucmdiYSkgKyBcIilcIiA6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb2xvci5hbHBoYSAhPT0gdmFsICYmIF90aGlzLiRlbWl0KCd1cGRhdGU6Y29sb3InLCBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImZyb21IU1ZBXCJdKShfX2Fzc2lnbih7fSwgX3RoaXMuY29sb3IuaHN2YSwge1xuICAgICAgICAgICAgICBhOiB2YWxcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlblNsaWRlcnM6IGZ1bmN0aW9uIGdlblNsaWRlcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19zbGlkZXJzJ1xuICAgICAgfSwgW3RoaXMuZ2VuSHVlKCksICF0aGlzLmhpZGVBbHBoYSAmJiB0aGlzLmdlbkFscGhhKCldKTtcbiAgICB9LFxuICAgIGdlbkRvdDogZnVuY3Rpb24gZ2VuRG90KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbG9yLXBpY2tlcl9fZG90J1xuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiUkdCQXRvQ1NTXCJdKSh0aGlzLmNvbG9yLnJnYmEpXG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICBnZW5IdWU6IGZ1bmN0aW9uIGdlbkh1ZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmdlblRyYWNrKHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbG9yLXBpY2tlcl9faHVlJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICB0aHVtYkNvbG9yOiAnZ3JleSBsaWdodGVuLTInLFxuICAgICAgICAgIGhpZGVEZXRhaWxzOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmNvbG9yLmh1ZSxcbiAgICAgICAgICBzdGVwOiAwLFxuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICBtYXg6IDM2MFxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb2xvci5odWUgIT09IHZhbCAmJiBfdGhpcy4kZW1pdCgndXBkYXRlOmNvbG9yJywgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJmcm9tSFNWQVwiXSkoX19hc3NpZ24oe30sIF90aGlzLmNvbG9yLmhzdmEsIHtcbiAgICAgICAgICAgICAgaDogdmFsXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5UcmFjazogZnVuY3Rpb24gZ2VuVHJhY2sob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZTbGlkZXJfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oe1xuICAgICAgICBjbGFzczogJ3YtY29sb3ItcGlja2VyX190cmFjaydcbiAgICAgIH0sIG9wdGlvbnMsIHtcbiAgICAgICAgcHJvcHM6IF9fYXNzaWduKHtcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZFxuICAgICAgICB9LCBvcHRpb25zLnByb3BzKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19wcmV2aWV3JyxcbiAgICAgIGNsYXNzOiB7XG4gICAgICAgICd2LWNvbG9yLXBpY2tlcl9fcHJldmlldy0taGlkZS1hbHBoYSc6IHRoaXMuaGlkZUFscGhhXG4gICAgICB9XG4gICAgfSwgW3RoaXMuZ2VuRG90KCksIHRoaXMuZ2VuU2xpZGVycygpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyU3dhdGNoZXMuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlclN3YXRjaGVzLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyU3dhdGNoZXMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyU3dhdGNoZXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyU3dhdGNoZXNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXJTd2F0Y2hlcy5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvVkNvbG9yUGlja2VyU3dhdGNoZXMuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyU3dhdGNoZXNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ29sb3JQaWNrZXJTd2F0Y2hlc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbG9yc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb2xvcnMgKi8gXCIuL3NyYy91dGlsL2NvbG9ycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbG9yVXRpbHMgKi8gXCIuL3NyYy91dGlsL2NvbG9yVXRpbHMudHNcIik7XG4vLyBTdHlsZXNcbiAvLyBDb21wb25lbnRzXG5cbiAvLyBIZWxwZXJzXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gcGFyc2VEZWZhdWx0Q29sb3JzKGNvbG9ycykge1xuICByZXR1cm4gT2JqZWN0LmtleXMoY29sb3JzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBjb2xvciA9IGNvbG9yc1trZXldO1xuICAgIHJldHVybiBjb2xvci5iYXNlID8gW2NvbG9yLmJhc2UsIGNvbG9yLmRhcmtlbjQsIGNvbG9yLmRhcmtlbjMsIGNvbG9yLmRhcmtlbjIsIGNvbG9yLmRhcmtlbjEsIGNvbG9yLmxpZ2h0ZW4xLCBjb2xvci5saWdodGVuMiwgY29sb3IubGlnaHRlbjMsIGNvbG9yLmxpZ2h0ZW40LCBjb2xvci5saWdodGVuNV0gOiBbY29sb3IuYmxhY2ssIGNvbG9yLndoaXRlLCBjb2xvci50cmFuc3BhcmVudF07XG4gIH0pO1xufVxuXG52YXIgd2hpdGUgPSBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImZyb21IZXhcIl0pKCcjRkZGRkZGJykucmdiYTtcbnZhciBibGFjayA9IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZnJvbUhleFwiXSkoJyMwMDAwMDAnKS5yZ2JhO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtY29sb3ItcGlja2VyLXN3YXRjaGVzJyxcbiAgcHJvcHM6IHtcbiAgICBzd2F0Y2hlczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGVmYXVsdENvbG9ycyhfdXRpbF9jb2xvcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29sb3I6IE9iamVjdCxcbiAgICBtYXhXaWR0aDogW051bWJlciwgU3RyaW5nXSxcbiAgICBtYXhIZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ11cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkNvbG9yOiBmdW5jdGlvbiBnZW5Db2xvcihjb2xvcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmFja2dyb3VuZDogY29sb3JcbiAgICAgICAgfVxuICAgICAgfSwgW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWVwRXF1YWxcIl0pKHRoaXMuY29sb3IsIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wicGFyc2VDb2xvclwiXSkoY29sb3IsIG51bGwpKSAmJiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHNtYWxsOiB0cnVlLFxuICAgICAgICAgIGRhcms6IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJjb250cmFzdFJhdGlvXCJdKSh0aGlzLmNvbG9yLnJnYmEsIHdoaXRlKSA+IDIgJiYgdGhpcy5jb2xvci5hbHBoYSA+IDAuNSxcbiAgICAgICAgICBsaWdodDogT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImNvbnRyYXN0UmF0aW9cIl0pKHRoaXMuY29sb3IucmdiYSwgYmxhY2spID4gMiAmJiB0aGlzLmNvbG9yLmFscGhhID4gMC41XG4gICAgICAgIH1cbiAgICAgIH0sICckc3VjY2VzcycpXSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19jb2xvcicsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgLy8gVE9ETzogTGVzcyBoYWNreSB3YXkgb2YgY2F0Y2hpbmcgdHJhbnNwYXJlbnRcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpjb2xvcicsIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZnJvbUhleFwiXSkoY29sb3IgPT09ICd0cmFuc3BhcmVudCcgPyAnIzAwMDAwMDAwJyA6IGNvbG9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBbY29udGVudF0pO1xuICAgIH0sXG4gICAgZ2VuU3dhdGNoZXM6IGZ1bmN0aW9uIGdlblN3YXRjaGVzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuc3dhdGNoZXMubWFwKGZ1bmN0aW9uIChzd2F0Y2gpIHtcbiAgICAgICAgdmFyIGNvbG9ycyA9IHN3YXRjaC5tYXAoX3RoaXMuZ2VuQ29sb3IpO1xuICAgICAgICByZXR1cm4gX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtY29sb3ItcGlja2VyX19zd2F0Y2gnXG4gICAgICAgIH0sIGNvbG9ycyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbG9yLXBpY2tlcl9fc3dhdGNoZXMnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbWF4V2lkdGg6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLm1heFdpZHRoKSxcbiAgICAgICAgbWF4SGVpZ2h0OiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5tYXhIZWlnaHQpXG4gICAgICB9XG4gICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuZ2VuU3dhdGNoZXMoKSldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQ29sb3JQaWNrZXIsIFZDb2xvclBpY2tlclN3YXRjaGVzLCBWQ29sb3JQaWNrZXJDYW52YXMsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29sb3JQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNvbG9yUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29sb3JQaWNrZXJTd2F0Y2hlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXJTd2F0Y2hlcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlclN3YXRjaGVzLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNvbG9yUGlja2VyU3dhdGNoZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNvbG9yUGlja2VyU3dhdGNoZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xvclBpY2tlckNhbnZhc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXJDYW52YXMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9WQ29sb3JQaWNrZXJDYW52YXMudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29sb3JQaWNrZXJDYW52YXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNvbG9yUGlja2VyQ2FudmFzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WQ29sb3JQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci91dGlsL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ29sb3JQaWNrZXIvdXRpbC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGZyb21IU1ZBLCBmcm9tSFNMQSwgZnJvbVJHQkEsIGZyb21IZXhhLCBmcm9tSGV4LCBwYXJzZUNvbG9yLCBleHRyYWN0Q29sb3IsIGhhc0FscGhhICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZyb21IU1ZBXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJvbUhTVkE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZyb21IU0xBXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJvbUhTTEE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZyb21SR0JBXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJvbVJHQkE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZyb21IZXhhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJvbUhleGE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZyb21IZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmcm9tSGV4OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYXJzZUNvbG9yXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcGFyc2VDb2xvcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXh0cmFjdENvbG9yXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZXh0cmFjdENvbG9yOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJoYXNBbHBoYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGhhc0FscGhhOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi91dGlsL2NvbG9yVXRpbHMgKi8gXCIuL3NyYy91dGlsL2NvbG9yVXRpbHMudHNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBVdGlsaXRpZXNcblxuXG5cbmZ1bmN0aW9uIGZyb21IU1ZBKGhzdmEpIHtcbiAgaHN2YSA9IF9fYXNzaWduKHt9LCBoc3ZhKTtcbiAgdmFyIGhleGEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiSFNWQXRvSGV4XCJdKShoc3ZhKTtcbiAgdmFyIGhzbGEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiSFNWQXRvSFNMQVwiXSkoaHN2YSk7XG4gIHZhciByZ2JhID0gT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkhTVkF0b1JHQkFcIl0pKGhzdmEpO1xuICByZXR1cm4ge1xuICAgIGFscGhhOiBoc3ZhLmEsXG4gICAgaGV4OiBoZXhhLnN1YnN0cigwLCA3KSxcbiAgICBoZXhhOiBoZXhhLFxuICAgIGhzbGE6IGhzbGEsXG4gICAgaHN2YTogaHN2YSxcbiAgICBodWU6IGhzdmEuaCxcbiAgICByZ2JhOiByZ2JhXG4gIH07XG59XG5mdW5jdGlvbiBmcm9tSFNMQShoc2xhKSB7XG4gIHZhciBoc3ZhID0gT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkhTTEF0b0hTVkFcIl0pKGhzbGEpO1xuICB2YXIgaGV4YSA9IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJIU1ZBdG9IZXhcIl0pKGhzdmEpO1xuICB2YXIgcmdiYSA9IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJIU1ZBdG9SR0JBXCJdKShoc3ZhKTtcbiAgcmV0dXJuIHtcbiAgICBhbHBoYTogaHN2YS5hLFxuICAgIGhleDogaGV4YS5zdWJzdHIoMCwgNyksXG4gICAgaGV4YTogaGV4YSxcbiAgICBoc2xhOiBoc2xhLFxuICAgIGhzdmE6IGhzdmEsXG4gICAgaHVlOiBoc3ZhLmgsXG4gICAgcmdiYTogcmdiYVxuICB9O1xufVxuZnVuY3Rpb24gZnJvbVJHQkEocmdiYSkge1xuICB2YXIgaHN2YSA9IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJSR0JBdG9IU1ZBXCJdKShyZ2JhKTtcbiAgdmFyIGhleGEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiUkdCQXRvSGV4XCJdKShyZ2JhKTtcbiAgdmFyIGhzbGEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiSFNWQXRvSFNMQVwiXSkoaHN2YSk7XG4gIHJldHVybiB7XG4gICAgYWxwaGE6IGhzdmEuYSxcbiAgICBoZXg6IGhleGEuc3Vic3RyKDAsIDcpLFxuICAgIGhleGE6IGhleGEsXG4gICAgaHNsYTogaHNsYSxcbiAgICBoc3ZhOiBoc3ZhLFxuICAgIGh1ZTogaHN2YS5oLFxuICAgIHJnYmE6IHJnYmFcbiAgfTtcbn1cbmZ1bmN0aW9uIGZyb21IZXhhKGhleGEpIHtcbiAgdmFyIGhzdmEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiSGV4VG9IU1ZBXCJdKShoZXhhKTtcbiAgdmFyIGhzbGEgPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiSFNWQXRvSFNMQVwiXSkoaHN2YSk7XG4gIHZhciByZ2JhID0gT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkhTVkF0b1JHQkFcIl0pKGhzdmEpO1xuICByZXR1cm4ge1xuICAgIGFscGhhOiBoc3ZhLmEsXG4gICAgaGV4OiBoZXhhLnN1YnN0cigwLCA3KSxcbiAgICBoZXhhOiBoZXhhLFxuICAgIGhzbGE6IGhzbGEsXG4gICAgaHN2YTogaHN2YSxcbiAgICBodWU6IGhzdmEuaCxcbiAgICByZ2JhOiByZ2JhXG4gIH07XG59XG5mdW5jdGlvbiBmcm9tSGV4KGhleCkge1xuICByZXR1cm4gZnJvbUhleGEoT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInBhcnNlSGV4XCJdKShoZXgpKTtcbn1cblxuZnVuY3Rpb24gaGFzKG9iaiwga2V5KSB7XG4gIHJldHVybiBrZXkuZXZlcnkoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KGspO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvciwgb2xkQ29sb3IpIHtcbiAgaWYgKCFjb2xvcikgcmV0dXJuIGZyb21SR0JBKHtcbiAgICByOiAyNTUsXG4gICAgZzogMCxcbiAgICBiOiAwLFxuICAgIGE6IDFcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBmcm9tSGV4YSgnIzAwMDAwMDAwJyk7XG4gICAgdmFyIGhleCA9IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJwYXJzZUhleFwiXSkoY29sb3IpO1xuICAgIGlmIChvbGRDb2xvciAmJiBoZXggPT09IG9sZENvbG9yLmhleGEpIHJldHVybiBvbGRDb2xvcjtlbHNlIHJldHVybiBmcm9tSGV4YShoZXgpO1xuICB9XG5cbiAgaWYgKF90eXBlb2YoY29sb3IpID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChjb2xvci5oYXNPd25Qcm9wZXJ0eSgnYWxwaGEnKSkgcmV0dXJuIGNvbG9yO1xuICAgIHZhciBhID0gY29sb3IuaGFzT3duUHJvcGVydHkoJ2EnKSA/IHBhcnNlRmxvYXQoY29sb3IuYSkgOiAxO1xuXG4gICAgaWYgKGhhcyhjb2xvciwgWydyJywgJ2cnLCAnYiddKSkge1xuICAgICAgaWYgKG9sZENvbG9yICYmIGNvbG9yID09PSBvbGRDb2xvci5yZ2JhKSByZXR1cm4gb2xkQ29sb3I7ZWxzZSByZXR1cm4gZnJvbVJHQkEoX19hc3NpZ24oe30sIGNvbG9yLCB7XG4gICAgICAgIGE6IGFcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKGhhcyhjb2xvciwgWydoJywgJ3MnLCAnbCddKSkge1xuICAgICAgaWYgKG9sZENvbG9yICYmIGNvbG9yID09PSBvbGRDb2xvci5oc2xhKSByZXR1cm4gb2xkQ29sb3I7ZWxzZSByZXR1cm4gZnJvbUhTTEEoX19hc3NpZ24oe30sIGNvbG9yLCB7XG4gICAgICAgIGE6IGFcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKGhhcyhjb2xvciwgWydoJywgJ3MnLCAndiddKSkge1xuICAgICAgaWYgKG9sZENvbG9yICYmIGNvbG9yID09PSBvbGRDb2xvci5oc3ZhKSByZXR1cm4gb2xkQ29sb3I7ZWxzZSByZXR1cm4gZnJvbUhTVkEoX19hc3NpZ24oe30sIGNvbG9yLCB7XG4gICAgICAgIGE6IGFcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnJvbVJHQkEoe1xuICAgIHI6IDI1NSxcbiAgICBnOiAwLFxuICAgIGI6IDAsXG4gICAgYTogMVxuICB9KTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RDb2xvcihjb2xvciwgaW5wdXQpIHtcbiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBjb2xvcjtcblxuICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBpbnB1dC5sZW5ndGggPT09IDcgPyBjb2xvci5oZXggOiBjb2xvci5oZXhhO1xuICB9XG5cbiAgaWYgKF90eXBlb2YoaW5wdXQpID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChoYXMoaW5wdXQsIFsncicsICdnJywgJ2InXSkpIHJldHVybiBjb2xvci5yZ2JhO2Vsc2UgaWYgKGhhcyhpbnB1dCwgWydoJywgJ3MnLCAnbCddKSkgcmV0dXJuIGNvbG9yLmhzbGE7ZWxzZSBpZiAoaGFzKGlucHV0LCBbJ2gnLCAncycsICd2J10pKSByZXR1cm4gY29sb3IuaHN2YTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcjtcbn1cbmZ1bmN0aW9uIGhhc0FscGhhKGNvbG9yKSB7XG4gIGlmICghY29sb3IpIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjb2xvci5sZW5ndGggPiA3O1xuICB9XG5cbiAgaWYgKF90eXBlb2YoY29sb3IpID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBoYXMoY29sb3IsIFsnYSddKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29tYm9ib3gvVkNvbWJvYm94LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb21ib2JveC9WQ29tYm9ib3gudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdXRvY29tcGxldGVfVkF1dG9jb21wbGV0ZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQXV0b2NvbXBsZXRlL1ZBdXRvY29tcGxldGUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdXRvY29tcGxldGVfVkF1dG9jb21wbGV0ZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZBdXRvY29tcGxldGVfVkF1dG9jb21wbGV0ZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTZWxlY3QvVlNlbGVjdCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9WU2VsZWN0LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXV0b2NvbXBsZXRlX1ZBdXRvY29tcGxldGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZBdXRvY29tcGxldGUvVkF1dG9jb21wbGV0ZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cblxuIC8vIFV0aWxzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkF1dG9jb21wbGV0ZV9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNvbWJvYm94JyxcbiAgcHJvcHM6IHtcbiAgICBkZWxpbWl0ZXJzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICByZXR1cm5PYmplY3Q6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0aW5nSW5kZXg6IC0xXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb3VudGVyVmFsdWU6IGZ1bmN0aW9uIGNvdW50ZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlID8gdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA6ICh0aGlzLmludGVybmFsU2VhcmNoIHx8ICcnKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB9LFxuICAgIGhhc1Nsb3Q6IGZ1bmN0aW9uIGhhc1Nsb3QoKSB7XG4gICAgICByZXR1cm4gX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmhhc1Nsb3QuY2FsbCh0aGlzKSB8fCB0aGlzLm11bHRpcGxlO1xuICAgIH0sXG4gICAgaXNBbnlWYWx1ZUFsbG93ZWQ6IGZ1bmN0aW9uIGlzQW55VmFsdWVBbGxvd2VkKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBtZW51Q2FuU2hvdzogZnVuY3Rpb24gbWVudUNhblNob3coKSB7XG4gICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5oYXNEaXNwbGF5ZWRJdGVtcyB8fCAhIXRoaXMuJHNsb3RzWyduby1kYXRhJ10gJiYgIXRoaXMuaGlkZU5vRGF0YTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvbkludGVybmFsU2VhcmNoQ2hhbmdlZDogZnVuY3Rpb24gb25JbnRlcm5hbFNlYXJjaENoYW5nZWQodmFsKSB7XG4gICAgICBpZiAodmFsICYmIHRoaXMubXVsdGlwbGUgJiYgdGhpcy5kZWxpbWl0ZXJzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZGVsaW1pdGVyID0gdGhpcy5kZWxpbWl0ZXJzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICByZXR1cm4gdmFsLmVuZHNXaXRoKGQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGVsaW1pdGVyICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmludGVybmFsU2VhcmNoID0gdmFsLnNsaWNlKDAsIHZhbC5sZW5ndGggLSBkZWxpbWl0ZXIubGVuZ3RoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVRhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZU1lbnVEaW1lbnNpb25zKCk7XG4gICAgfSxcbiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoKSB7XG4gICAgICB2YXIgaW5wdXQgPSBfVkF1dG9jb21wbGV0ZV9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5JbnB1dC5jYWxsKHRoaXMpO1xuICAgICAgaW5wdXQuZGF0YS5vbi5wYXN0ZSA9IHRoaXMub25QYXN0ZTtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9LFxuICAgIGdlbkNoaXBTZWxlY3Rpb246IGZ1bmN0aW9uIGdlbkNoaXBTZWxlY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlwID0gX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuQ2hpcFNlbGVjdGlvbi5jYWxsKHRoaXMsIGl0ZW0sIGluZGV4KTsgLy8gQWxsb3cgdXNlciB0byB1cGRhdGUgYW4gZXhpc3RpbmcgdmFsdWVcblxuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgY2hpcC5jb21wb25lbnRPcHRpb25zLmxpc3RlbmVycyA9IF9fYXNzaWduKHt9LCBjaGlwLmNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzLCB7XG4gICAgICAgICAgZGJsY2xpY2s6IGZ1bmN0aW9uIGRibGNsaWNrKCkge1xuICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0luZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICBfdGhpcy5pbnRlcm5hbFNlYXJjaCA9IF90aGlzLmdldFRleHQoaXRlbSk7XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaXA7XG4gICAgfSxcbiAgICBvbkNoaXBJbnB1dDogZnVuY3Rpb24gb25DaGlwSW5wdXQoaXRlbSkge1xuICAgICAgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMub25DaGlwSW5wdXQuY2FsbCh0aGlzLCBpdGVtKTtcbiAgICAgIHRoaXMuZWRpdGluZ0luZGV4ID0gLTE7XG4gICAgfSxcbiAgICAvLyBSZXF1aXJlcyBhIG1hbnVhbCBkZWZpbml0aW9uXG4gICAgLy8gdG8gb3ZlcndyaXRlIHJlbW92YWwgaW4gdi1hdXRvY29tcGxldGVcbiAgICBvbkVudGVyRG93bjogZnVuY3Rpb24gb25FbnRlckRvd24oZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJZiBoYXMgbWVudSBpbmRleCwgbGV0IHYtc2VsZWN0LWxpc3QgaGFuZGxlXG4gICAgICAgIGlmIChfdGhpcy5nZXRNZW51SW5kZXgoKSA+IC0xKSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMudXBkYXRlU2VsZigpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkOiBmdW5jdGlvbiBvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkKHZhbCwgb2xkVmFsKSB7XG4gICAgICBpZiAoIXRoaXMuYXV0b1NlbGVjdEZpcnN0KSByZXR1cm47XG4gICAgICBfVkF1dG9jb21wbGV0ZV9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vbkZpbHRlcmVkSXRlbXNDaGFuZ2VkLmNhbGwodGhpcywgdmFsLCBvbGRWYWwpO1xuICAgIH0sXG4gICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICBfVlNlbGVjdF9WU2VsZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vbktleURvd24uY2FsbCh0aGlzLCBlKTsgLy8gSWYgdXNlciBpcyBhdCBzZWxlY3Rpb24gaW5kZXggb2YgMFxuICAgICAgLy8gY3JlYXRlIGEgbmV3IHRhZ1xuXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiBrZXlDb2RlID09PSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJrZXlDb2Rlc1wiXS5sZWZ0ICYmIHRoaXMuJHJlZnMuaW5wdXQuc2VsZWN0aW9uU3RhcnQgPT09IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVTZWxmKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLmVudGVyKSB7XG4gICAgICAgIHRoaXMub25FbnRlckRvd24oZSk7XG4gICAgICB9IC8vIFRoZSBvcmRlcmluZyBpcyBpbXBvcnRhbnQgaGVyZVxuICAgICAgLy8gYWxsb3dzIG5ldyB2YWx1ZSB0byBiZSB1cGRhdGVkXG4gICAgICAvLyBhbmQgdGhlbiBtb3ZlcyB0aGUgaW5kZXggdG8gdGhlXG4gICAgICAvLyBwcm9wZXIgbG9jYXRpb25cblxuXG4gICAgICB0aGlzLmNoYW5nZVNlbGVjdGVkSW5kZXgoa2V5Q29kZSk7XG4gICAgfSxcbiAgICBvblRhYkRvd246IGZ1bmN0aW9uIG9uVGFiRG93bihlKSB7XG4gICAgICAvLyBXaGVuIGFkZGluZyB0YWdzLCBpZiBzZWFyY2hpbmcgYW5kXG4gICAgICAvLyB0aGVyZSBpcyBub3QgYSBmaWx0ZXJlZCBvcHRpb25zLFxuICAgICAgLy8gYWRkIHRoZSB2YWx1ZSB0byB0aGUgdGFncyBsaXN0XG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiB0aGlzLmludGVybmFsU2VhcmNoICYmIHRoaXMuZ2V0TWVudUluZGV4KCkgPT09IC0xKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVGFncygpO1xuICAgICAgfVxuXG4gICAgICBfVkF1dG9jb21wbGV0ZV9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vblRhYkRvd24uY2FsbCh0aGlzLCBlKTtcbiAgICB9LFxuICAgIHNlbGVjdEl0ZW06IGZ1bmN0aW9uIHNlbGVjdEl0ZW0oaXRlbSkge1xuICAgICAgLy8gQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgaXRlbXM6PHN0cmluZ1tdPlxuICAgICAgaWYgKHRoaXMuZWRpdGluZ0luZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0aW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfVkF1dG9jb21wbGV0ZV9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5zZWxlY3RJdGVtLmNhbGwodGhpcywgaXRlbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRTZWxlY3RlZEl0ZW1zOiBmdW5jdGlvbiBzZXRTZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgaWYgKHRoaXMuaW50ZXJuYWxWYWx1ZSA9PSBudWxsIHx8IHRoaXMuaW50ZXJuYWxWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSB0aGlzLm11bHRpcGxlID8gdGhpcy5pbnRlcm5hbFZhbHVlIDogW3RoaXMuaW50ZXJuYWxWYWx1ZV07XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLnNldFZhbHVlLmNhbGwodGhpcywgdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogdGhpcy5pbnRlcm5hbFNlYXJjaCk7XG4gICAgfSxcbiAgICB1cGRhdGVFZGl0aW5nOiBmdW5jdGlvbiB1cGRhdGVFZGl0aW5nKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5pbnRlcm5hbFZhbHVlLnNsaWNlKCk7XG4gICAgICB2YWx1ZVt0aGlzLmVkaXRpbmdJbmRleF0gPSB0aGlzLmludGVybmFsU2VhcmNoO1xuICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IC0xO1xuICAgIH0sXG4gICAgdXBkYXRlQ29tYm9ib3g6IGZ1bmN0aW9uIHVwZGF0ZUNvbWJvYm94KCkge1xuICAgICAgdmFyIGlzVXNpbmdTbG90ID0gQm9vbGVhbih0aGlzLiRzY29wZWRTbG90cy5zZWxlY3Rpb24pIHx8IHRoaXMuaGFzQ2hpcHM7IC8vIElmIHNlYXJjaCBpcyBub3QgZGlydHkgYW5kIGlzXG4gICAgICAvLyB1c2luZyBzbG90LCBkbyBub3RoaW5nXG5cbiAgICAgIGlmIChpc1VzaW5nU2xvdCAmJiAhdGhpcy5zZWFyY2hJc0RpcnR5KSByZXR1cm47IC8vIFRoZSBpbnRlcm5hbCBzZWFyY2ggaXMgbm90IG1hdGNoaW5nXG4gICAgICAvLyB0aGUgaW50ZXJuYWwgdmFsdWUsIHVwZGF0ZSB0aGUgaW5wdXRcblxuICAgICAgaWYgKHRoaXMuaW50ZXJuYWxTZWFyY2ggIT09IHRoaXMuZ2V0VGV4dCh0aGlzLmludGVybmFsVmFsdWUpKSB0aGlzLnNldFZhbHVlKCk7IC8vIFJlc2V0IHNlYXJjaCBpZiB1c2luZyBzbG90XG4gICAgICAvLyB0byBhdm9pZCBhIGRvdWJsZSBpbnB1dFxuXG4gICAgICBpZiAoaXNVc2luZ1Nsb3QpIHRoaXMuaW50ZXJuYWxTZWFyY2ggPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVTZWxmOiBmdW5jdGlvbiB1cGRhdGVTZWxmKCkge1xuICAgICAgdGhpcy5tdWx0aXBsZSA/IHRoaXMudXBkYXRlVGFncygpIDogdGhpcy51cGRhdGVDb21ib2JveCgpO1xuICAgIH0sXG4gICAgdXBkYXRlVGFnczogZnVuY3Rpb24gdXBkYXRlVGFncygpIHtcbiAgICAgIHZhciBtZW51SW5kZXggPSB0aGlzLmdldE1lbnVJbmRleCgpOyAvLyBJZiB0aGUgdXNlciBpcyBub3Qgc2VhcmNoaW5nXG4gICAgICAvLyBhbmQgbm8gbWVudSBpdGVtIGlzIHNlbGVjdGVkXG4gICAgICAvLyBkbyBub3RoaW5nXG5cbiAgICAgIGlmIChtZW51SW5kZXggPCAwICYmICF0aGlzLnNlYXJjaElzRGlydHkpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMuZWRpdGluZ0luZGV4ID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlRWRpdGluZygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdGVkSXRlbXMuaW5kZXhPZih0aGlzLmludGVybmFsU2VhcmNoKTsgLy8gSWYgaXQgYWxyZWFkeSBleGlzdHMsIGRvIG5vdGhpbmdcbiAgICAgIC8vIHRoaXMgbWlnaHQgbmVlZCB0byBjaGFuZ2UgdG8gYnJpbmdcbiAgICAgIC8vIHRoZSBkdXBsaWNhdGVkIGl0ZW0gdG8gdGhlIGxhc3QgZW50ZXJlZFxuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICB2YXIgaW50ZXJuYWxWYWx1ZSA9IHRoaXMuaW50ZXJuYWxWYWx1ZS5zbGljZSgpO1xuICAgICAgICBpbnRlcm5hbFZhbHVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUoaW50ZXJuYWxWYWx1ZSk7XG4gICAgICB9IC8vIElmIG1lbnUgaW5kZXggaXMgZ3JlYXRlciB0aGFuIDFcbiAgICAgIC8vIHRoZSBzZWxlY3Rpb24gaXMgaGFuZGxlZCBlbHNld2hlcmVcbiAgICAgIC8vIFRPRE86IGZpbmQgb3V0IHdoZXJlXG5cblxuICAgICAgaWYgKG1lbnVJbmRleCA+IC0xKSByZXR1cm4gdGhpcy5pbnRlcm5hbFNlYXJjaCA9IG51bGw7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5pbnRlcm5hbFNlYXJjaCk7XG4gICAgICB0aGlzLmludGVybmFsU2VhcmNoID0gbnVsbDtcbiAgICB9LFxuICAgIG9uUGFzdGU6IGZ1bmN0aW9uIG9uUGFzdGUoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5tdWx0aXBsZSB8fCB0aGlzLnNlYXJjaElzRGlydHkpIHJldHVybjtcbiAgICAgIHZhciBwYXN0ZWRJdGVtVGV4dCA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC92bmQudnVldGlmeS5hdXRvY29tcGxldGUuaXRlbStwbGFpbicpO1xuXG4gICAgICBpZiAocGFzdGVkSXRlbVRleHQgJiYgdGhpcy5maW5kRXhpc3RpbmdJbmRleChwYXN0ZWRJdGVtVGV4dCkgPT09IC0xKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLnNlbGVjdEl0ZW0uY2FsbCh0aGlzLCBwYXN0ZWRJdGVtVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbWJvYm94L2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbWJvYm94L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZDb21ib2JveCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbWJvYm94X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb21ib2JveCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbWJvYm94L1ZDb21ib2JveC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb21ib2JveFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ29tYm9ib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkNvbWJvYm94X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29udGVudC9WQ29udGVudC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb250ZW50L1ZDb250ZW50LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb250ZW50L1ZDb250ZW50LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WQ29udGVudC9WQ29udGVudC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb250ZW50X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNvbnRlbnQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbnRlbnQvVkNvbnRlbnQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbnRlbnRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ29udGVudF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfc3NyX2Jvb3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvc3NyLWJvb3RhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Nzci1ib290YWJsZS9pbmRleC50c1wiKTtcbi8vIFN0eWxlc1xuIC8vIE1peGluc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX21peGluc19zc3JfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtY29udGVudCcsXG4gIHByb3BzOiB7XG4gICAgdGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnbWFpbidcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7XG4gICAgICB2YXIgX2EgPSB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLFxuICAgICAgICAgIGJhciA9IF9hLmJhcixcbiAgICAgICAgICB0b3AgPSBfYS50b3AsXG4gICAgICAgICAgcmlnaHQgPSBfYS5yaWdodCxcbiAgICAgICAgICBmb290ZXIgPSBfYS5mb290ZXIsXG4gICAgICAgICAgaW5zZXRGb290ZXIgPSBfYS5pbnNldEZvb3RlcixcbiAgICAgICAgICBib3R0b20gPSBfYS5ib3R0b20sXG4gICAgICAgICAgbGVmdCA9IF9hLmxlZnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWRkaW5nVG9wOiB0b3AgKyBiYXIgKyBcInB4XCIsXG4gICAgICAgIHBhZGRpbmdSaWdodDogcmlnaHQgKyBcInB4XCIsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IGZvb3RlciArIGluc2V0Rm9vdGVyICsgYm90dG9tICsgXCJweFwiLFxuICAgICAgICBwYWRkaW5nTGVmdDogbGVmdCArIFwicHhcIlxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1jb250ZW50JyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIHJlZjogJ2NvbnRlbnQnXG4gICAgfTtcbiAgICByZXR1cm4gaCh0aGlzLnRhZywgZGF0YSwgW2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1jb250ZW50X193cmFwJ1xuICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WQ29udGVudC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvbnRlbnQvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQ29udGVudCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNvbnRlbnQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb250ZW50L1ZDb250ZW50LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNvbnRlbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkNvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb3VudGVyL1ZDb3VudGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkNvdW50ZXIvVkNvdW50ZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvdW50ZXIvVkNvdW50ZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb3VudGVyL1ZDb3VudGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvdW50ZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ291bnRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ291bnRlci9WQ291bnRlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ291bnRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDb3VudGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNvdW50ZXInLFxuICBmdW5jdGlvbmFsOiB0cnVlLFxuICBwcm9wczoge1xuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIG1heDogW051bWJlciwgU3RyaW5nXVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBjdHgpIHtcbiAgICB2YXIgcHJvcHMgPSBjdHgucHJvcHM7XG4gICAgdmFyIG1heCA9IHBhcnNlSW50KHByb3BzLm1heCwgMTApO1xuICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KHByb3BzLnZhbHVlLCAxMCk7XG4gICAgdmFyIGNvbnRlbnQgPSBtYXggPyB2YWx1ZSArIFwiIC8gXCIgKyBtYXggOiBTdHJpbmcocHJvcHMudmFsdWUpO1xuICAgIHZhciBpc0dyZWF0ZXIgPSBtYXggJiYgdmFsdWUgPiBtYXg7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1jb3VudGVyJyxcbiAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICdlcnJvci0tdGV4dCc6IGlzR3JlYXRlclxuICAgICAgfSwgT2JqZWN0KF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJmdW5jdGlvbmFsVGhlbWVDbGFzc2VzXCJdKShjdHgpKVxuICAgIH0sIGNvbnRlbnQpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvdW50ZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZDb3VudGVyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkNvdW50ZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb3VudGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ291bnRlci9WQ291bnRlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb3VudGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YS9WRGF0YS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGEvVkRhdGEudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBIZWxwZXJzXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWRhdGEnLFxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICBwcm9wczoge1xuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH0sXG4gICAgc29ydEJ5OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgc29ydERlc2M6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3VzdG9tU29ydDoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJzb3J0SXRlbXNcIl1cbiAgICB9LFxuICAgIG11c3RTb3J0OiBCb29sZWFuLFxuICAgIG11bHRpU29ydDogQm9vbGVhbixcbiAgICBwYWdlOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICBpdGVtc1BlclBhZ2U6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDEwXG4gICAgfSxcbiAgICBncm91cEJ5OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ3JvdXBEZXNjOiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgQXJyYXldLFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxvY2FsZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2VuLVVTJ1xuICAgIH0sXG4gICAgZGlzYWJsZVNvcnQ6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVBhZ2luYXRpb246IEJvb2xlYW4sXG4gICAgZGlzYWJsZUZpbHRlcmluZzogQm9vbGVhbixcbiAgICBzZWFyY2g6IFN0cmluZyxcbiAgICBjdXN0b21GaWx0ZXI6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgZGVmYXVsdDogX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wic2VhcmNoSXRlbXNcIl1cbiAgICB9LFxuICAgIHNlcnZlckl0ZW1zTGVuZ3RoOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAtMVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICB2YXIgaW50ZXJuYWxPcHRpb25zID0ge1xuICAgICAgcGFnZTogdGhpcy5wYWdlLFxuICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLml0ZW1zUGVyUGFnZSxcbiAgICAgIHNvcnRCeTogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndyYXBJbkFycmF5XCJdKSh0aGlzLnNvcnRCeSksXG4gICAgICBzb3J0RGVzYzogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndyYXBJbkFycmF5XCJdKSh0aGlzLnNvcnREZXNjKSxcbiAgICAgIGdyb3VwQnk6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3cmFwSW5BcnJheVwiXSkodGhpcy5ncm91cEJ5KSxcbiAgICAgIGdyb3VwRGVzYzogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndyYXBJbkFycmF5XCJdKSh0aGlzLmdyb3VwRGVzYyksXG4gICAgICBtdXN0U29ydDogdGhpcy5tdXN0U29ydCxcbiAgICAgIG11bHRpU29ydDogdGhpcy5tdWx0aVNvcnRcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucykge1xuICAgICAgaW50ZXJuYWxPcHRpb25zID0gT2JqZWN0LmFzc2lnbihpbnRlcm5hbE9wdGlvbnMsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludGVybmFsT3B0aW9uczogaW50ZXJuYWxPcHRpb25zXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpdGVtc0xlbmd0aDogZnVuY3Rpb24gaXRlbXNMZW5ndGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA+PSAwID8gdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA6IHRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGg7XG4gICAgfSxcbiAgICBwYWdlQ291bnQ6IGZ1bmN0aW9uIHBhZ2VDb3VudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsT3B0aW9ucy5pdGVtc1BlclBhZ2UgPT09IC0xID8gMSA6IE1hdGguY2VpbCh0aGlzLml0ZW1zTGVuZ3RoIC8gdGhpcy5pbnRlcm5hbE9wdGlvbnMuaXRlbXNQZXJQYWdlKTsgLy8gVE9ETzogY2FuJ3QgdXNlIGl0ZW1zLmxlbmd0aCBoZXJlXG4gICAgfSxcbiAgICBwYWdlU3RhcnQ6IGZ1bmN0aW9uIHBhZ2VTdGFydCgpIHtcbiAgICAgIGlmICh0aGlzLmludGVybmFsT3B0aW9ucy5pdGVtc1BlclBhZ2UgPT09IC0xIHx8ICF0aGlzLml0ZW1zLmxlbmd0aCkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gKHRoaXMuaW50ZXJuYWxPcHRpb25zLnBhZ2UgLSAxKSAqIHRoaXMuaW50ZXJuYWxPcHRpb25zLml0ZW1zUGVyUGFnZTtcbiAgICB9LFxuICAgIHBhZ2VTdG9wOiBmdW5jdGlvbiBwYWdlU3RvcCgpIHtcbiAgICAgIGlmICh0aGlzLmludGVybmFsT3B0aW9ucy5pdGVtc1BlclBhZ2UgPT09IC0xKSByZXR1cm4gdGhpcy5pdGVtc0xlbmd0aDtcbiAgICAgIGlmICghdGhpcy5pdGVtcy5sZW5ndGgpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuaXRlbXNMZW5ndGgsIHRoaXMuaW50ZXJuYWxPcHRpb25zLnBhZ2UgKiB0aGlzLmludGVybmFsT3B0aW9ucy5pdGVtc1BlclBhZ2UpO1xuICAgIH0sXG4gICAgaXNHcm91cGVkOiBmdW5jdGlvbiBpc0dyb3VwZWQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmludGVybmFsT3B0aW9ucy5ncm91cEJ5Lmxlbmd0aDtcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IGZ1bmN0aW9uIHBhZ2luYXRpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWdlOiB0aGlzLmludGVybmFsT3B0aW9ucy5wYWdlLFxuICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMuaW50ZXJuYWxPcHRpb25zLml0ZW1zUGVyUGFnZSxcbiAgICAgICAgcGFnZVN0YXJ0OiB0aGlzLnBhZ2VTdGFydCxcbiAgICAgICAgcGFnZVN0b3A6IHRoaXMucGFnZVN0b3AsXG4gICAgICAgIHBhZ2VDb3VudDogdGhpcy5wYWdlQ291bnQsXG4gICAgICAgIGl0ZW1zTGVuZ3RoOiB0aGlzLml0ZW1zTGVuZ3RoXG4gICAgICB9O1xuICAgIH0sXG4gICAgZmlsdGVyZWRJdGVtczogZnVuY3Rpb24gZmlsdGVyZWRJdGVtcygpIHtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoKTtcblxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVGaWx0ZXJpbmcgJiYgdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA8PSAwKSB7XG4gICAgICAgIGl0ZW1zID0gdGhpcy5jdXN0b21GaWx0ZXIoaXRlbXMsIHRoaXMuc2VhcmNoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH0sXG4gICAgY29tcHV0ZWRJdGVtczogZnVuY3Rpb24gY29tcHV0ZWRJdGVtcygpIHtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuZmlsdGVyZWRJdGVtcy5zbGljZSgpO1xuXG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZVNvcnQgJiYgdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA8PSAwKSB7XG4gICAgICAgIGl0ZW1zID0gdGhpcy5zb3J0SXRlbXMoaXRlbXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZVBhZ2luYXRpb24gJiYgdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA8PSAwKSB7XG4gICAgICAgIGl0ZW1zID0gdGhpcy5wYWdpbmF0ZUl0ZW1zKGl0ZW1zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH0sXG4gICAgZ3JvdXBlZEl0ZW1zOiBmdW5jdGlvbiBncm91cGVkSXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0dyb3VwZWQgPyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ3JvdXBCeVByb3BlcnR5XCJdKSh0aGlzLmNvbXB1dGVkSXRlbXMsIHRoaXMuaW50ZXJuYWxPcHRpb25zLmdyb3VwQnlbMF0pIDogbnVsbDtcbiAgICB9LFxuICAgIHNjb3BlZFByb3BzOiBmdW5jdGlvbiBzY29wZWRQcm9wcygpIHtcbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgc29ydDogdGhpcy5zb3J0LFxuICAgICAgICBzb3J0QXJyYXk6IHRoaXMuc29ydEFycmF5LFxuICAgICAgICBncm91cDogdGhpcy5ncm91cCxcbiAgICAgICAgaXRlbXM6IHRoaXMuY29tcHV0ZWRJdGVtcyxcbiAgICAgICAgb3B0aW9uczogdGhpcy5pbnRlcm5hbE9wdGlvbnMsXG4gICAgICAgIHVwZGF0ZU9wdGlvbnM6IHRoaXMudXBkYXRlT3B0aW9ucyxcbiAgICAgICAgcGFnaW5hdGlvbjogdGhpcy5wYWdpbmF0aW9uLFxuICAgICAgICBncm91cGVkSXRlbXM6IHRoaXMuZ3JvdXBlZEl0ZW1zLFxuICAgICAgICBvcmlnaW5hbEl0ZW1zTGVuZ3RoOiB0aGlzLml0ZW1zLmxlbmd0aFxuICAgICAgfTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9LFxuICAgIGNvbXB1dGVkT3B0aW9uczogZnVuY3Rpb24gY29tcHV0ZWRPcHRpb25zKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBjb21wdXRlZE9wdGlvbnM6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIob3B0aW9ucywgb2xkKSB7XG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShvcHRpb25zLCBvbGQpKSByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBkZWVwOiB0cnVlLFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfSxcbiAgICBpbnRlcm5hbE9wdGlvbnM6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIob3B0aW9ucywgb2xkKSB7XG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShvcHRpb25zLCBvbGQpKSByZXR1cm47XG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpvcHRpb25zJywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3BhZ2luYXRpb24nLCB0aGlzLnBhZ2luYXRpb24pO1xuICAgICAgfSxcbiAgICAgIGRlZXA6IHRydWUsXG4gICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICB9LFxuICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2UoX3BhZ2UpIHtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHBhZ2U6IF9wYWdlXG4gICAgICB9KTtcbiAgICB9LFxuICAgICdpbnRlcm5hbE9wdGlvbnMucGFnZSc6IGZ1bmN0aW9uIGludGVybmFsT3B0aW9uc1BhZ2UocGFnZSkge1xuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnBhZ2UnLCBwYWdlKTtcbiAgICB9LFxuICAgIGl0ZW1zUGVyUGFnZTogZnVuY3Rpb24gaXRlbXNQZXJQYWdlKF9pdGVtc1BlclBhZ2UpIHtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIGl0ZW1zUGVyUGFnZTogX2l0ZW1zUGVyUGFnZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAnaW50ZXJuYWxPcHRpb25zLml0ZW1zUGVyUGFnZSc6IGZ1bmN0aW9uIGludGVybmFsT3B0aW9uc0l0ZW1zUGVyUGFnZShpdGVtc1BlclBhZ2UpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTppdGVtcy1wZXItcGFnZScsIGl0ZW1zUGVyUGFnZSk7XG4gICAgfSxcbiAgICBzb3J0Qnk6IGZ1bmN0aW9uIHNvcnRCeShfc29ydEJ5KSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzb3J0Qnk6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3cmFwSW5BcnJheVwiXSkoX3NvcnRCeSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ2ludGVybmFsT3B0aW9ucy5zb3J0QnknOiBmdW5jdGlvbiBpbnRlcm5hbE9wdGlvbnNTb3J0Qnkoc29ydEJ5LCBvbGQpIHtcbiAgICAgICFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShzb3J0QnksIG9sZCkgJiYgdGhpcy4kZW1pdCgndXBkYXRlOnNvcnQtYnknLCBBcnJheS5pc0FycmF5KHRoaXMuc29ydEJ5KSA/IHNvcnRCeSA6IHNvcnRCeVswXSk7XG4gICAgfSxcbiAgICBzb3J0RGVzYzogZnVuY3Rpb24gc29ydERlc2MoX3NvcnREZXNjKSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzb3J0RGVzYzogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndyYXBJbkFycmF5XCJdKShfc29ydERlc2MpXG4gICAgICB9KTtcbiAgICB9LFxuICAgICdpbnRlcm5hbE9wdGlvbnMuc29ydERlc2MnOiBmdW5jdGlvbiBpbnRlcm5hbE9wdGlvbnNTb3J0RGVzYyhzb3J0RGVzYywgb2xkKSB7XG4gICAgICAhT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZXBFcXVhbFwiXSkoc29ydERlc2MsIG9sZCkgJiYgdGhpcy4kZW1pdCgndXBkYXRlOnNvcnQtZGVzYycsIEFycmF5LmlzQXJyYXkodGhpcy5zb3J0RGVzYykgPyBzb3J0RGVzYyA6IHNvcnREZXNjWzBdKTtcbiAgICB9LFxuICAgIGdyb3VwQnk6IGZ1bmN0aW9uIGdyb3VwQnkoX2dyb3VwQnkpIHtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIGdyb3VwQnk6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3cmFwSW5BcnJheVwiXSkoX2dyb3VwQnkpXG4gICAgICB9KTtcbiAgICB9LFxuICAgICdpbnRlcm5hbE9wdGlvbnMuZ3JvdXBCeSc6IGZ1bmN0aW9uIGludGVybmFsT3B0aW9uc0dyb3VwQnkoZ3JvdXBCeSwgb2xkKSB7XG4gICAgICAhT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZXBFcXVhbFwiXSkoZ3JvdXBCeSwgb2xkKSAmJiB0aGlzLiRlbWl0KCd1cGRhdGU6Z3JvdXAtYnknLCBBcnJheS5pc0FycmF5KHRoaXMuZ3JvdXBCeSkgPyBncm91cEJ5IDogZ3JvdXBCeVswXSk7XG4gICAgfSxcbiAgICBncm91cERlc2M6IGZ1bmN0aW9uIGdyb3VwRGVzYyhfZ3JvdXBEZXNjKSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBncm91cERlc2M6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3cmFwSW5BcnJheVwiXSkoX2dyb3VwRGVzYylcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ2ludGVybmFsT3B0aW9ucy5ncm91cERlc2MnOiBmdW5jdGlvbiBpbnRlcm5hbE9wdGlvbnNHcm91cERlc2MoZ3JvdXBEZXNjLCBvbGQpIHtcbiAgICAgICFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShncm91cERlc2MsIG9sZCkgJiYgdGhpcy4kZW1pdCgndXBkYXRlOmdyb3VwLWRlc2MnLCBBcnJheS5pc0FycmF5KHRoaXMuZ3JvdXBEZXNjKSA/IGdyb3VwRGVzYyA6IGdyb3VwRGVzY1swXSk7XG4gICAgfSxcbiAgICBtdWx0aVNvcnQ6IGZ1bmN0aW9uIG11bHRpU29ydChfbXVsdGlTb3J0KSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBtdWx0aVNvcnQ6IF9tdWx0aVNvcnRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ2ludGVybmFsT3B0aW9ucy5tdWx0aVNvcnQnOiBmdW5jdGlvbiBpbnRlcm5hbE9wdGlvbnNNdWx0aVNvcnQobXVsdGlTb3J0KSB7XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6bXVsdGktc29ydCcsIG11bHRpU29ydCk7XG4gICAgfSxcbiAgICBtdXN0U29ydDogZnVuY3Rpb24gbXVzdFNvcnQoX211c3RTb3J0KSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBtdXN0U29ydDogX211c3RTb3J0XG4gICAgICB9KTtcbiAgICB9LFxuICAgICdpbnRlcm5hbE9wdGlvbnMubXVzdFNvcnQnOiBmdW5jdGlvbiBpbnRlcm5hbE9wdGlvbnNNdXN0U29ydChtdXN0U29ydCkge1xuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOm11c3Qtc29ydCcsIG11c3RTb3J0KTtcbiAgICB9LFxuICAgIHBhZ2VDb3VudDoge1xuICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihwYWdlQ291bnQpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgncGFnZS1jb3VudCcsIHBhZ2VDb3VudCk7XG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfSxcbiAgICBjb21wdXRlZEl0ZW1zOiB7XG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKGNvbXB1dGVkSXRlbXMpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnY3VycmVudC1pdGVtcycsIGNvbXB1dGVkSXRlbXMpO1xuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGtleSwgb2xkQnksIG9sZERlc2MsIHBhZ2UsIG11c3RTb3J0LCBtdWx0aVNvcnQpIHtcbiAgICAgIHZhciBieSA9IG9sZEJ5LnNsaWNlKCk7XG4gICAgICB2YXIgZGVzYyA9IG9sZERlc2Muc2xpY2UoKTtcbiAgICAgIHZhciBieUluZGV4ID0gYnkuZmluZEluZGV4KGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBrID09PSBrZXk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGJ5SW5kZXggPCAwKSB7XG4gICAgICAgIGlmICghbXVsdGlTb3J0KSB7XG4gICAgICAgICAgYnkgPSBbXTtcbiAgICAgICAgICBkZXNjID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBieS5wdXNoKGtleSk7XG4gICAgICAgIGRlc2MucHVzaChmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGJ5SW5kZXggPj0gMCAmJiAhZGVzY1tieUluZGV4XSkge1xuICAgICAgICBkZXNjW2J5SW5kZXhdID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIW11c3RTb3J0KSB7XG4gICAgICAgIGJ5LnNwbGljZShieUluZGV4LCAxKTtcbiAgICAgICAgZGVzYy5zcGxpY2UoYnlJbmRleCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXNjW2J5SW5kZXhdID0gZmFsc2U7XG4gICAgICB9IC8vIFJlc2V0IHBhZ2UgdG8gMSBpZiBzb3J0Qnkgb3Igc29ydERlc2MgaGF2ZSBjaGFuZ2VkXG5cblxuICAgICAgaWYgKCFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShieSwgb2xkQnkpIHx8ICFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEVxdWFsXCJdKShkZXNjLCBvbGREZXNjKSkge1xuICAgICAgICBwYWdlID0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnk6IGJ5LFxuICAgICAgICBkZXNjOiBkZXNjLFxuICAgICAgICBwYWdlOiBwYWdlXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ3JvdXA6IGZ1bmN0aW9uIGdyb3VwKGtleSkge1xuICAgICAgdmFyIF9hID0gdGhpcy50b2dnbGUoa2V5LCB0aGlzLmludGVybmFsT3B0aW9ucy5ncm91cEJ5LCB0aGlzLmludGVybmFsT3B0aW9ucy5ncm91cERlc2MsIHRoaXMuaW50ZXJuYWxPcHRpb25zLnBhZ2UsIHRydWUsIGZhbHNlKSxcbiAgICAgICAgICBncm91cEJ5ID0gX2EuYnksXG4gICAgICAgICAgZ3JvdXBEZXNjID0gX2EuZGVzYyxcbiAgICAgICAgICBwYWdlID0gX2EucGFnZTtcblxuICAgICAgdGhpcy51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgZ3JvdXBCeTogZ3JvdXBCeSxcbiAgICAgICAgZ3JvdXBEZXNjOiBncm91cERlc2MsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc29ydDogZnVuY3Rpb24gc29ydChrZXkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHJldHVybiB0aGlzLnNvcnRBcnJheShrZXkpO1xuXG4gICAgICB2YXIgX2EgPSB0aGlzLnRvZ2dsZShrZXksIHRoaXMuaW50ZXJuYWxPcHRpb25zLnNvcnRCeSwgdGhpcy5pbnRlcm5hbE9wdGlvbnMuc29ydERlc2MsIHRoaXMuaW50ZXJuYWxPcHRpb25zLnBhZ2UsIHRoaXMubXVzdFNvcnQsIHRoaXMubXVsdGlTb3J0KSxcbiAgICAgICAgICBzb3J0QnkgPSBfYS5ieSxcbiAgICAgICAgICBzb3J0RGVzYyA9IF9hLmRlc2MsXG4gICAgICAgICAgcGFnZSA9IF9hLnBhZ2U7XG5cbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNvcnRCeTogc29ydEJ5LFxuICAgICAgICBzb3J0RGVzYzogc29ydERlc2MsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc29ydEFycmF5OiBmdW5jdGlvbiBzb3J0QXJyYXkoc29ydEJ5KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc29ydERlc2MgPSBzb3J0QnkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhciBpID0gX3RoaXMuaW50ZXJuYWxPcHRpb25zLnNvcnRCeS5maW5kSW5kZXgoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gayA9PT0gcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGkgPiAtMSA/IF90aGlzLmludGVybmFsT3B0aW9ucy5zb3J0RGVzY1tpXSA6IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICAgICAgc29ydERlc2M6IHNvcnREZXNjXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVwZGF0ZU9wdGlvbnM6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgdGhpcy5pbnRlcm5hbE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgdGhpcy5pbnRlcm5hbE9wdGlvbnMsIG9wdGlvbnMsIHtcbiAgICAgICAgcGFnZTogdGhpcy5zZXJ2ZXJJdGVtc0xlbmd0aCA8IDAgPyBNYXRoLm1heCgxLCBNYXRoLm1pbihvcHRpb25zLnBhZ2UgfHwgdGhpcy5pbnRlcm5hbE9wdGlvbnMucGFnZSwgdGhpcy5wYWdlQ291bnQpKSA6IG9wdGlvbnMucGFnZSB8fCB0aGlzLmludGVybmFsT3B0aW9ucy5wYWdlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNvcnRJdGVtczogZnVuY3Rpb24gc29ydEl0ZW1zKGl0ZW1zKSB7XG4gICAgICB2YXIgc29ydEJ5ID0gdGhpcy5pbnRlcm5hbE9wdGlvbnMuZ3JvdXBCeS5jb25jYXQodGhpcy5pbnRlcm5hbE9wdGlvbnMuc29ydEJ5KTtcbiAgICAgIHZhciBzb3J0RGVzYyA9IHRoaXMuaW50ZXJuYWxPcHRpb25zLmdyb3VwRGVzYy5jb25jYXQodGhpcy5pbnRlcm5hbE9wdGlvbnMuc29ydERlc2MpO1xuICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tU29ydChpdGVtcywgc29ydEJ5LCBzb3J0RGVzYywgdGhpcy5sb2NhbGUpO1xuICAgIH0sXG4gICAgcGFnaW5hdGVJdGVtczogZnVuY3Rpb24gcGFnaW5hdGVJdGVtcyhpdGVtcykge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIGRvbid0IHRyeSB0byBkaXNwbGF5IG5vbi1leGlzdGFudCBwYWdlIGlmIGl0ZW1zIHN1ZGRlbmx5IGNoYW5nZVxuICAgICAgLy8gVE9ETzogQ291bGQgcG9zc2libHkgbW92ZSB0aGlzIHRvIHBhZ2VTdGFydC9wYWdlU3RvcD9cbiAgICAgIGlmICh0aGlzLnNlcnZlckl0ZW1zTGVuZ3RoID09PSAtMSAmJiBpdGVtcy5sZW5ndGggPD0gdGhpcy5wYWdlU3RhcnQpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbE9wdGlvbnMucGFnZSA9IE1hdGgubWF4KDEsIHRoaXMuaW50ZXJuYWxPcHRpb25zLnBhZ2UgLSAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW1zLnNsaWNlKHRoaXMucGFnZVN0YXJ0LCB0aGlzLnBhZ2VTdG9wKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90cy5kZWZhdWx0ICYmIHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQodGhpcy5zY29wZWRQcm9wcyk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGEvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWRGF0YSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGEgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhL1ZEYXRhLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkRhdGFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvVkRhdGFGb290ZXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvVkRhdGFGb290ZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YUl0ZXJhdG9yL1ZEYXRhRm9vdGVyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvVkRhdGFGb290ZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhRm9vdGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFGb290ZXIuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFJdGVyYXRvci9WRGF0YUZvb3Rlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0YUZvb3Rlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZEYXRhRm9vdGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNlbGVjdC9WU2VsZWN0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3QudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18pO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuIC8vIENvbXBvbmVudHNcblxuXG5cbiAvLyBUeXBlc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWRhdGEtZm9vdGVyJyxcbiAgcHJvcHM6IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGl0ZW1zUGVyUGFnZU9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbNSwgMTAsIDE1LCAtMV07XG4gICAgICB9XG4gICAgfSxcbiAgICBwcmV2SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRwcmV2J1xuICAgIH0sXG4gICAgbmV4dEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckbmV4dCdcbiAgICB9LFxuICAgIGZpcnN0SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRmaXJzdCdcbiAgICB9LFxuICAgIGxhc3RJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGxhc3QnXG4gICAgfSxcbiAgICBpdGVtc1BlclBhZ2VUZXh0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJHZ1ZXRpZnkuZGF0YUZvb3Rlci5pdGVtc1BlclBhZ2VUZXh0J1xuICAgIH0sXG4gICAgaXRlbXNQZXJQYWdlQWxsVGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5LmRhdGFGb290ZXIuaXRlbXNQZXJQYWdlQWxsJ1xuICAgIH0sXG4gICAgc2hvd0ZpcnN0TGFzdFBhZ2U6IEJvb2xlYW4sXG4gICAgc2hvd0N1cnJlbnRQYWdlOiBCb29sZWFuLFxuICAgIGRpc2FibGVQYWdpbmF0aW9uOiBCb29sZWFuLFxuICAgIGRpc2FibGVJdGVtc1BlclBhZ2U6IEJvb2xlYW4sXG4gICAgcGFnZVRleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5kYXRhRm9vdGVyLnBhZ2VUZXh0J1xuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBkaXNhYmxlTmV4dFBhZ2VJY29uOiBmdW5jdGlvbiBkaXNhYmxlTmV4dFBhZ2VJY29uKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UgPCAwIHx8IHRoaXMub3B0aW9ucy5wYWdlICogdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZSA+PSB0aGlzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGggfHwgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTdG9wIDwgMDtcbiAgICB9LFxuICAgIGNvbXB1dGVkSXRlbXNQZXJQYWdlT3B0aW9uczogZnVuY3Rpb24gY29tcHV0ZWRJdGVtc1BlclBhZ2VPcHRpb25zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXNQZXJQYWdlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICBpZiAoX3R5cGVvZihvcHRpb24pID09PSAnb2JqZWN0JykgcmV0dXJuIG9wdGlvbjtlbHNlIHJldHVybiBfdGhpcy5nZW5JdGVtc1BlclBhZ2VPcHRpb24ob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHVwZGF0ZU9wdGlvbnM6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMob2JqKSB7XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6b3B0aW9ucycsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgb2JqKSk7XG4gICAgfSxcbiAgICBvbkZpcnN0UGFnZTogZnVuY3Rpb24gb25GaXJzdFBhZ2UoKSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBwYWdlOiAxXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uUHJldmlvdXNQYWdlOiBmdW5jdGlvbiBvblByZXZpb3VzUGFnZSgpIHtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHBhZ2U6IHRoaXMub3B0aW9ucy5wYWdlIC0gMVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbk5leHRQYWdlOiBmdW5jdGlvbiBvbk5leHRQYWdlKCkge1xuICAgICAgdGhpcy51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgcGFnZTogdGhpcy5vcHRpb25zLnBhZ2UgKyAxXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTGFzdFBhZ2U6IGZ1bmN0aW9uIG9uTGFzdFBhZ2UoKSB7XG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBwYWdlOiB0aGlzLnBhZ2luYXRpb24ucGFnZUNvdW50XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlSXRlbXNQZXJQYWdlOiBmdW5jdGlvbiBvbkNoYW5nZUl0ZW1zUGVyUGFnZShpdGVtc1BlclBhZ2UpIHtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIGl0ZW1zUGVyUGFnZTogaXRlbXNQZXJQYWdlLFxuICAgICAgICBwYWdlOiAxXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkl0ZW1zUGVyUGFnZU9wdGlvbjogZnVuY3Rpb24gZ2VuSXRlbXNQZXJQYWdlT3B0aW9uKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogb3B0aW9uID09PSAtMSA/IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMuaXRlbXNQZXJQYWdlQWxsVGV4dCkgOiBTdHJpbmcob3B0aW9uKSxcbiAgICAgICAgdmFsdWU6IG9wdGlvblxuICAgICAgfTtcbiAgICB9LFxuICAgIGdlbkl0ZW1zUGVyUGFnZVNlbGVjdDogZnVuY3Rpb24gZ2VuSXRlbXNQZXJQYWdlU2VsZWN0KCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZTtcbiAgICAgIHZhciBjb21wdXRlZElQUE8gPSB0aGlzLmNvbXB1dGVkSXRlbXNQZXJQYWdlT3B0aW9ucztcbiAgICAgIGlmIChjb21wdXRlZElQUE8ubGVuZ3RoIDw9IDEpIHJldHVybiBudWxsO1xuICAgICAgaWYgKCFjb21wdXRlZElQUE8uZmluZChmdW5jdGlvbiAoaXBwbykge1xuICAgICAgICByZXR1cm4gaXBwby52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICB9KSkgdmFsdWUgPSBjb21wdXRlZElQUE9bMF07XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS1mb290ZXJfX3NlbGVjdCdcbiAgICAgIH0sIFt0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLml0ZW1zUGVyUGFnZVRleHQpLCB0aGlzLiRjcmVhdGVFbGVtZW50KF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMuaXRlbXNQZXJQYWdlVGV4dFxuICAgICAgICB9LFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVJdGVtc1BlclBhZ2UsXG4gICAgICAgICAgaXRlbXM6IGNvbXB1dGVkSVBQTyxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgaGlkZURldGFpbHM6IHRydWUsXG4gICAgICAgICAgYXV0bzogdHJ1ZSxcbiAgICAgICAgICBtaW5XaWR0aDogJzc1cHgnXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgaW5wdXQ6IHRoaXMub25DaGFuZ2VJdGVtc1BlclBhZ2VcbiAgICAgICAgfVxuICAgICAgfSldKTtcbiAgICB9LFxuICAgIGdlblBhZ2luYXRpb25JbmZvOiBmdW5jdGlvbiBnZW5QYWdpbmF0aW9uSW5mbygpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFsn4oCTJ107XG5cbiAgICAgIGlmICh0aGlzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGgpIHtcbiAgICAgICAgdmFyIGl0ZW1zTGVuZ3RoID0gdGhpcy5wYWdpbmF0aW9uLml0ZW1zTGVuZ3RoO1xuICAgICAgICB2YXIgcGFnZVN0YXJ0ID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTdGFydCArIDE7XG4gICAgICAgIHZhciBwYWdlU3RvcCA9IGl0ZW1zTGVuZ3RoIDwgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTdG9wIHx8IHRoaXMucGFnaW5hdGlvbi5wYWdlU3RvcCA8IDAgPyBpdGVtc0xlbmd0aCA6IHRoaXMucGFnaW5hdGlvbi5wYWdlU3RvcDtcbiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLiRzY29wZWRTbG90c1sncGFnZS10ZXh0J10gPyBbdGhpcy4kc2NvcGVkU2xvdHNbJ3BhZ2UtdGV4dCddKHtcbiAgICAgICAgICBwYWdlU3RhcnQ6IHBhZ2VTdGFydCxcbiAgICAgICAgICBwYWdlU3RvcDogcGFnZVN0b3AsXG4gICAgICAgICAgaXRlbXNMZW5ndGg6IGl0ZW1zTGVuZ3RoXG4gICAgICAgIH0pXSA6IFt0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLnBhZ2VUZXh0LCBwYWdlU3RhcnQsIHBhZ2VTdG9wLCBpdGVtc0xlbmd0aCldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBjbGFzczogJ3YtZGF0YS1mb290ZXJfX3BhZ2luYXRpb24nXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5JY29uOiBmdW5jdGlvbiBnZW5JY29uKGNsaWNrLCBkaXNhYmxlZCwgbGFiZWwsIGljb24pIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHRoaXMuZGlzYWJsZVBhZ2luYXRpb24sXG4gICAgICAgICAgaWNvbjogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGNsaWNrXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbFxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIGljb24pXSk7XG4gICAgfSxcbiAgICBnZW5JY29uczogZnVuY3Rpb24gZ2VuSWNvbnMoKSB7XG4gICAgICB2YXIgYmVmb3JlID0gW107XG4gICAgICB2YXIgYWZ0ZXIgPSBbXTtcbiAgICAgIGJlZm9yZS5wdXNoKHRoaXMuZ2VuSWNvbih0aGlzLm9uUHJldmlvdXNQYWdlLCB0aGlzLm9wdGlvbnMucGFnZSA9PT0gMSwgdGhpcy4kdnVldGlmeS5sYW5nLnQoJyR2dWV0aWZ5LmRhdGFGb290ZXIucHJldlBhZ2UnKSwgdGhpcy4kdnVldGlmeS5ydGwgPyB0aGlzLm5leHRJY29uIDogdGhpcy5wcmV2SWNvbikpO1xuICAgICAgYWZ0ZXIucHVzaCh0aGlzLmdlbkljb24odGhpcy5vbk5leHRQYWdlLCB0aGlzLmRpc2FibGVOZXh0UGFnZUljb24sIHRoaXMuJHZ1ZXRpZnkubGFuZy50KCckdnVldGlmeS5kYXRhRm9vdGVyLm5leHRQYWdlJyksIHRoaXMuJHZ1ZXRpZnkucnRsID8gdGhpcy5wcmV2SWNvbiA6IHRoaXMubmV4dEljb24pKTtcblxuICAgICAgaWYgKHRoaXMuc2hvd0ZpcnN0TGFzdFBhZ2UpIHtcbiAgICAgICAgYmVmb3JlLnVuc2hpZnQodGhpcy5nZW5JY29uKHRoaXMub25GaXJzdFBhZ2UsIHRoaXMub3B0aW9ucy5wYWdlID09PSAxLCB0aGlzLiR2dWV0aWZ5LmxhbmcudCgnJHZ1ZXRpZnkuZGF0YUZvb3Rlci5maXJzdFBhZ2UnKSwgdGhpcy4kdnVldGlmeS5ydGwgPyB0aGlzLmxhc3RJY29uIDogdGhpcy5maXJzdEljb24pKTtcbiAgICAgICAgYWZ0ZXIucHVzaCh0aGlzLmdlbkljb24odGhpcy5vbkxhc3RQYWdlLCB0aGlzLm9wdGlvbnMucGFnZSA+PSB0aGlzLnBhZ2luYXRpb24ucGFnZUNvdW50IHx8IHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UgPT09IC0xLCB0aGlzLiR2dWV0aWZ5LmxhbmcudCgnJHZ1ZXRpZnkuZGF0YUZvb3Rlci5sYXN0UGFnZScpLCB0aGlzLiR2dWV0aWZ5LnJ0bCA/IHRoaXMuZmlyc3RJY29uIDogdGhpcy5sYXN0SWNvbikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtZm9vdGVyX19pY29ucy1iZWZvcmUnXG4gICAgICB9LCBiZWZvcmUpLCB0aGlzLnNob3dDdXJyZW50UGFnZSAmJiB0aGlzLiRjcmVhdGVFbGVtZW50KCdzcGFuJywgW3RoaXMub3B0aW9ucy5wYWdlLnRvU3RyaW5nKCldKSwgdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS1mb290ZXJfX2ljb25zLWFmdGVyJ1xuICAgICAgfSwgYWZ0ZXIpXTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS1mb290ZXInXG4gICAgfSwgW3RoaXMuZ2VuSXRlbXNQZXJQYWdlU2VsZWN0KCksIHRoaXMuZ2VuUGFnaW5hdGlvbkluZm8oKSwgdGhpcy5nZW5JY29ucygpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YUl0ZXJhdG9yL1ZEYXRhSXRlcmF0b3IudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YUl0ZXJhdG9yL1ZEYXRhSXRlcmF0b3IudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZEYXRhICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFGb290ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFGb290ZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvVkRhdGFGb290ZXIudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07IC8vIENvbXBvbmVudHNcblxuXG5cbiAvLyBNaXhpbnNcblxuIC8vIEhlbHBlcnNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0YS1pdGVyYXRvcicsXG4gIHByb3BzOiBfX2Fzc2lnbih7fSwgX1ZEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJWRGF0YVwiXS5vcHRpb25zLnByb3BzLCB7XG4gICAgaXRlbUtleToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2lkJ1xuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNpbmdsZVNlbGVjdDogQm9vbGVhbixcbiAgICBleHBhbmRlZDoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2luZ2xlRXhwYW5kOiBCb29sZWFuLFxuICAgIGxvYWRpbmc6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgIG5vUmVzdWx0c1RleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5kYXRhSXRlcmF0b3Iubm9SZXN1bHRzVGV4dCdcbiAgICB9LFxuICAgIG5vRGF0YVRleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5ub0RhdGFUZXh0J1xuICAgIH0sXG4gICAgbG9hZGluZ1RleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5kYXRhSXRlcmF0b3IubG9hZGluZ1RleHQnXG4gICAgfSxcbiAgICBoaWRlRGVmYXVsdEZvb3RlcjogQm9vbGVhbixcbiAgICBmb290ZXJQcm9wczogT2JqZWN0XG4gIH0pLFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3Rpb246IHt9LFxuICAgICAgZXhwYW5zaW9uOiB7fSxcbiAgICAgIGludGVybmFsQ3VycmVudEl0ZW1zOiBbXVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZXZlcnlJdGVtOiBmdW5jdGlvbiBldmVyeUl0ZW0oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gISF0aGlzLmludGVybmFsQ3VycmVudEl0ZW1zLmxlbmd0aCAmJiB0aGlzLmludGVybmFsQ3VycmVudEl0ZW1zLmV2ZXJ5KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pc1NlbGVjdGVkKGkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBzb21lSXRlbXM6IGZ1bmN0aW9uIHNvbWVJdGVtcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsQ3VycmVudEl0ZW1zLnNvbWUoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmlzU2VsZWN0ZWQoaSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNhbml0aXplZEZvb3RlclByb3BzOiBmdW5jdGlvbiBzYW5pdGl6ZWRGb290ZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY2FtZWxpemVPYmplY3RLZXlzXCJdKSh0aGlzLmZvb3RlclByb3BzKTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHZhbHVlLnJlZHVjZShmdW5jdGlvbiAoc2VsZWN0aW9uLCBpdGVtKSB7XG4gICAgICAgICAgc2VsZWN0aW9uW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgX3RoaXMuaXRlbUtleSldID0gaXRlbTtcbiAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfSxcbiAgICBzZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdGlvbih2YWx1ZSwgb2xkKSB7XG4gICAgICBpZiAoT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZXBFcXVhbFwiXSkoT2JqZWN0LmtleXModmFsdWUpLCBPYmplY3Qua2V5cyhvbGQpKSkgcmV0dXJuO1xuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBPYmplY3QudmFsdWVzKHZhbHVlKSk7XG4gICAgfSxcbiAgICBleHBhbmRlZDoge1xuICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuZXhwYW5zaW9uID0gdmFsdWUucmVkdWNlKGZ1bmN0aW9uIChleHBhbnNpb24sIGl0ZW0pIHtcbiAgICAgICAgICBleHBhbnNpb25bT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCBfdGhpcy5pdGVtS2V5KV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBleHBhbnNpb247XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICB9LFxuICAgIGV4cGFuc2lvbjogZnVuY3Rpb24gZXhwYW5zaW9uKHZhbHVlLCBvbGQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVlcEVxdWFsXCJdKSh2YWx1ZSwgb2xkKSkgcmV0dXJuO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVtrXTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGV4cGFuZGVkID0gIWtleXMubGVuZ3RoID8gW10gOiB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4ga2V5cy5pbmNsdWRlcyhTdHJpbmcoT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpLCBfdGhpcy5pdGVtS2V5KSkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwYW5kZWQnLCBleHBhbmRlZCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgYnJlYWtpbmdQcm9wcyA9IFtbJ2Rpc2FibGUtaW5pdGlhbC1zb3J0JywgJ3NvcnQtYnknXSwgWydmaWx0ZXInLCAnY3VzdG9tLWZpbHRlciddLCBbJ3BhZ2luYXRpb24nLCAnb3B0aW9ucyddLCBbJ3RvdGFsLWl0ZW1zJywgJ3NlcnZlci1pdGVtcy1sZW5ndGgnXSwgWydoaWRlLWFjdGlvbnMnLCAnaGlkZS1kZWZhdWx0LWZvb3RlciddLCBbJ3Jvd3MtcGVyLXBhZ2UtaXRlbXMnLCAnZm9vdGVyLXByb3BzLml0ZW1zLXBlci1wYWdlLW9wdGlvbnMnXSwgWydyb3dzLXBlci1wYWdlLXRleHQnLCAnZm9vdGVyLXByb3BzLml0ZW1zLXBlci1wYWdlLXRleHQnXSwgWydwcmV2LWljb24nLCAnZm9vdGVyLXByb3BzLnByZXYtaWNvbiddLCBbJ25leHQtaWNvbicsICdmb290ZXItcHJvcHMubmV4dC1pY29uJ11dO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbiAgICBicmVha2luZ1Byb3BzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLFxuICAgICAgICAgIG9yaWdpbmFsID0gX2JbMF0sXG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBfYlsxXTtcblxuICAgICAgaWYgKF90aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eShvcmlnaW5hbCkpIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJicmVha2luZ1wiXSkob3JpZ2luYWwsIHJlcGxhY2VtZW50LCBfdGhpcyk7XG4gICAgfSk7XG4gICAgdmFyIHJlbW92ZWRQcm9wcyA9IFsnZXhwYW5kJywgJ2NvbnRlbnQtY2xhc3MnLCAnY29udGVudC1wcm9wcycsICdjb250ZW50LXRhZyddO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbiAgICByZW1vdmVkUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKF90aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcInJlbW92ZWRcIl0pKHByb3ApO1xuICAgIH0pO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgdG9nZ2xlU2VsZWN0QWxsOiBmdW5jdGlvbiB0b2dnbGVTZWxlY3RBbGwodmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBzZWxlY3Rpb24gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGlvbik7XG4gICAgICB0aGlzLmludGVybmFsQ3VycmVudEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGtleSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgX3RoaXMuaXRlbUtleSk7XG4gICAgICAgIGlmICh2YWx1ZSkgc2VsZWN0aW9uW2tleV0gPSBpdGVtO2Vsc2UgZGVsZXRlIHNlbGVjdGlvbltrZXldO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgIHRoaXMuJGVtaXQoJ3RvZ2dsZS1zZWxlY3QtYWxsJywge1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaXNTZWxlY3RlZDogZnVuY3Rpb24gaXNTZWxlY3RlZChpdGVtKSB7XG4gICAgICByZXR1cm4gISF0aGlzLnNlbGVjdGlvbltPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKGl0ZW0sIHRoaXMuaXRlbUtleSldIHx8IGZhbHNlO1xuICAgIH0sXG4gICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoaXRlbSwgdmFsdWUsIGVtaXQpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVtaXQgPT09IHZvaWQgMCkge1xuICAgICAgICBlbWl0ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2luZ2xlU2VsZWN0ID8ge30gOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGlvbik7XG4gICAgICB2YXIga2V5ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCB0aGlzLml0ZW1LZXkpO1xuICAgICAgaWYgKHZhbHVlKSBzZWxlY3Rpb25ba2V5XSA9IGl0ZW07ZWxzZSBkZWxldGUgc2VsZWN0aW9uW2tleV07XG4gICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgIGVtaXQgJiYgdGhpcy4kZW1pdCgnaXRlbS1zZWxlY3RlZCcsIHtcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlzRXhwYW5kZWQ6IGZ1bmN0aW9uIGlzRXhwYW5kZWQoaXRlbSkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgdGhpcy5pdGVtS2V5KV0gfHwgZmFsc2U7XG4gICAgfSxcbiAgICBleHBhbmQ6IGZ1bmN0aW9uIGV4cGFuZChpdGVtLCB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXhwYW5zaW9uID0gdGhpcy5zaW5nbGVFeHBhbmQgPyB7fSA6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZXhwYW5zaW9uKTtcbiAgICAgIHZhciBrZXkgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKGl0ZW0sIHRoaXMuaXRlbUtleSk7XG4gICAgICBpZiAodmFsdWUpIGV4cGFuc2lvbltrZXldID0gdHJ1ZTtlbHNlIGRlbGV0ZSBleHBhbnNpb25ba2V5XTtcbiAgICAgIHRoaXMuZXhwYW5zaW9uID0gZXhwYW5zaW9uO1xuICAgICAgdGhpcy4kZW1pdCgnaXRlbS1leHBhbmRlZCcsIHtcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZUl0ZW1Qcm9wczogZnVuY3Rpb24gY3JlYXRlSXRlbVByb3BzKGl0ZW0pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3Qodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5zZWxlY3QoaXRlbSwgdik7XG4gICAgICAgIH0sXG4gICAgICAgIGlzU2VsZWN0ZWQ6IHRoaXMuaXNTZWxlY3RlZChpdGVtKSxcbiAgICAgICAgZXhwYW5kOiBmdW5jdGlvbiBleHBhbmQodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5leHBhbmQoaXRlbSwgdik7XG4gICAgICAgIH0sXG4gICAgICAgIGlzRXhwYW5kZWQ6IHRoaXMuaXNFeHBhbmRlZChpdGVtKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9LFxuICAgIGdlbkVtcHR5V3JhcHBlcjogZnVuY3Rpb24gZ2VuRW1wdHlXcmFwcGVyKGNvbnRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCBjb250ZW50KTtcbiAgICB9LFxuICAgIGdlbkVtcHR5OiBmdW5jdGlvbiBnZW5FbXB0eShvcmlnaW5hbEl0ZW1zTGVuZ3RoLCBmaWx0ZXJlZEl0ZW1zTGVuZ3RoKSB7XG4gICAgICBpZiAob3JpZ2luYWxJdGVtc0xlbmd0aCA9PT0gMCAmJiB0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLiRzbG90c1snbG9hZGluZyddIHx8IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMubG9hZGluZ1RleHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5FbXB0eVdyYXBwZXIobG9hZGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsSXRlbXNMZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIG5vRGF0YSA9IHRoaXMuJHNsb3RzWyduby1kYXRhJ10gfHwgdGhpcy4kdnVldGlmeS5sYW5nLnQodGhpcy5ub0RhdGFUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuRW1wdHlXcmFwcGVyKG5vRGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXNMZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIG5vUmVzdWx0cyA9IHRoaXMuJHNsb3RzWyduby1yZXN1bHRzJ10gfHwgdGhpcy4kdnVldGlmeS5sYW5nLnQodGhpcy5ub1Jlc3VsdHNUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuRW1wdHlXcmFwcGVyKG5vUmVzdWx0cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZ2VuSXRlbXM6IGZ1bmN0aW9uIGdlbkl0ZW1zKHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZW1wdHkgPSB0aGlzLmdlbkVtcHR5KHByb3BzLm9yaWdpbmFsSXRlbXNMZW5ndGgsIHByb3BzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGgpO1xuICAgICAgaWYgKGVtcHR5KSByZXR1cm4gW2VtcHR5XTtcblxuICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgaXNTZWxlY3RlZDogdGhpcy5pc1NlbGVjdGVkLFxuICAgICAgICAgIHNlbGVjdDogdGhpcy5zZWxlY3QsXG4gICAgICAgICAgaXNFeHBhbmRlZDogdGhpcy5pc0V4cGFuZGVkLFxuICAgICAgICAgIGV4cGFuZDogdGhpcy5leHBhbmRcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuaXRlbSkge1xuICAgICAgICByZXR1cm4gcHJvcHMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRzY29wZWRTbG90cy5pdGVtKF90aGlzLmNyZWF0ZUl0ZW1Qcm9wcyhpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBnZW5Gb290ZXI6IGZ1bmN0aW9uIGdlbkZvb3Rlcihwcm9wcykge1xuICAgICAgaWYgKHRoaXMuaGlkZURlZmF1bHRGb290ZXIpIHJldHVybiBudWxsO1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHByb3BzOiBfX2Fzc2lnbih7fSwgdGhpcy5zYW5pdGl6ZWRGb290ZXJQcm9wcywge1xuICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXG4gICAgICAgICAgcGFnaW5hdGlvbjogcHJvcHMucGFnaW5hdGlvblxuICAgICAgICB9KSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAndXBkYXRlOm9wdGlvbnMnOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMudXBkYXRlT3B0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIHNjb3BlZFNsb3RzID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFByZWZpeGVkU2NvcGVkU2xvdHNcIl0pKCdmb290ZXIuJywgdGhpcy4kc2NvcGVkU2xvdHMpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZEYXRhRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfX2Fzc2lnbih7XG4gICAgICAgIHNjb3BlZFNsb3RzOiBzY29wZWRTbG90c1xuICAgICAgfSwgZGF0YSkpO1xuICAgIH0sXG4gICAgZ2VuRGVmYXVsdFNjb3BlZFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTY29wZWRTbG90KHByb3BzKSB7XG4gICAgICB2YXIgb3V0ZXJQcm9wcyA9IF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICBzb21lSXRlbXM6IHRoaXMuc29tZUl0ZW1zLFxuICAgICAgICBldmVyeUl0ZW06IHRoaXMuZXZlcnlJdGVtLFxuICAgICAgICB0b2dnbGVTZWxlY3RBbGw6IHRoaXMudG9nZ2xlU2VsZWN0QWxsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtaXRlcmF0b3InXG4gICAgICB9LCBbT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFNsb3RcIl0pKHRoaXMsICdoZWFkZXInLCBvdXRlclByb3BzLCB0cnVlKSwgdGhpcy5nZW5JdGVtcyhwcm9wcyksIHRoaXMuZ2VuRm9vdGVyKHByb3BzKSwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFNsb3RcIl0pKHRoaXMsICdmb290ZXInLCBvdXRlclByb3BzLCB0cnVlKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WRGF0YV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiVkRhdGFcIl0sIHtcbiAgICAgIHByb3BzOiB0aGlzLiRwcm9wcyxcbiAgICAgIG9uOiB7XG4gICAgICAgICd1cGRhdGU6b3B0aW9ucyc6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnModiwgb2xkKSB7XG4gICAgICAgICAgcmV0dXJuICFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVlcEVxdWFsXCJdKSh2LCBvbGQpICYmIF90aGlzLiRlbWl0KCd1cGRhdGU6b3B0aW9ucycsIHYpO1xuICAgICAgICB9LFxuICAgICAgICAndXBkYXRlOnBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVQYWdlKHYpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpwYWdlJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6aXRlbXMtcGVyLXBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVJdGVtc1BlclBhZ2Uodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgndXBkYXRlOml0ZW1zLXBlci1wYWdlJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6c29ydC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZVNvcnRCeSh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCd1cGRhdGU6c29ydC1ieScsIHYpO1xuICAgICAgICB9LFxuICAgICAgICAndXBkYXRlOnNvcnQtZGVzYyc6IGZ1bmN0aW9uIHVwZGF0ZVNvcnREZXNjKHYpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0LWRlc2MnLCB2KTtcbiAgICAgICAgfSxcbiAgICAgICAgJ3VwZGF0ZTpncm91cC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwQnkodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgndXBkYXRlOmdyb3VwLWJ5Jywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6Z3JvdXAtZGVzYyc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwRGVzYyh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCd1cGRhdGU6Z3JvdXAtZGVzYycsIHYpO1xuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiBmdW5jdGlvbiBwYWdpbmF0aW9uKHYsIG9sZCkge1xuICAgICAgICAgIHJldHVybiAhT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZXBFcXVhbFwiXSkodiwgb2xkKSAmJiBfdGhpcy4kZW1pdCgncGFnaW5hdGlvbicsIHYpO1xuICAgICAgICB9LFxuICAgICAgICAnY3VycmVudC1pdGVtcyc6IGZ1bmN0aW9uIGN1cnJlbnRJdGVtcyh2KSB7XG4gICAgICAgICAgX3RoaXMuaW50ZXJuYWxDdXJyZW50SXRlbXMgPSB2O1xuXG4gICAgICAgICAgX3RoaXMuJGVtaXQoJ2N1cnJlbnQtaXRlbXMnLCB2KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNjb3BlZFNsb3RzOiB7XG4gICAgICAgIGRlZmF1bHQ6IHRoaXMuZ2VuRGVmYXVsdFNjb3BlZFNsb3RcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGFJdGVyYXRvci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkRhdGFJdGVyYXRvciwgVkRhdGFGb290ZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhSXRlcmF0b3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFJdGVyYXRvciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFJdGVyYXRvci9WRGF0YUl0ZXJhdG9yLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGFJdGVyYXRvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YUl0ZXJhdG9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0YUZvb3Rlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0YUZvb3RlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFJdGVyYXRvci9WRGF0YUZvb3Rlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRhRm9vdGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRhRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkRhdGFJdGVyYXRvcjogX1ZEYXRhSXRlcmF0b3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVkRhdGFGb290ZXI6IF9WRGF0YUZvb3Rlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL01vYmlsZVJvdy50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9Nb2JpbGVSb3cudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3JvdycsXG4gIGZ1bmN0aW9uYWw6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaGVhZGVyczogQXJyYXksXG4gICAgaXRlbTogT2JqZWN0LFxuICAgIHJ0bDogQm9vbGVhblxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgIHZhciBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICBzbG90cyA9IF9hLnNsb3RzLFxuICAgICAgICBkYXRhID0gX2EuZGF0YTtcbiAgICB2YXIgY29tcHV0ZWRTbG90cyA9IHNsb3RzKCk7XG4gICAgdmFyIGNvbHVtbnMgPSBwcm9wcy5oZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IHtcbiAgICAgICAgJ3YtZGF0YS10YWJsZV9fbW9iaWxlLXJvdyc6IHRydWVcbiAgICAgIH07XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkocHJvcHMuaXRlbSwgaGVhZGVyLnZhbHVlKTtcbiAgICAgIHZhciBzbG90TmFtZSA9IGhlYWRlci52YWx1ZTtcbiAgICAgIHZhciBzY29wZWRTbG90ID0gZGF0YS5zY29wZWRTbG90cyAmJiBkYXRhLnNjb3BlZFNsb3RzW3Nsb3ROYW1lXTtcbiAgICAgIHZhciByZWd1bGFyU2xvdCA9IGNvbXB1dGVkU2xvdHNbc2xvdE5hbWVdO1xuXG4gICAgICBpZiAoc2NvcGVkU2xvdCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHNjb3BlZFNsb3Qoe1xuICAgICAgICAgIGl0ZW06IHByb3BzLml0ZW0sXG4gICAgICAgICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAocmVndWxhclNsb3QpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChyZWd1bGFyU2xvdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbW9iaWxlUm93Q2hpbGRyZW4gPSBbaCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fbW9iaWxlLXJvd19fY2VsbCdcbiAgICAgIH0sIGNoaWxkcmVuKV07XG5cbiAgICAgIGlmIChoZWFkZXIudmFsdWUgIT09ICdkYXRhVGFibGVTZWxlY3QnKSB7XG4gICAgICAgIG1vYmlsZVJvd0NoaWxkcmVuLnVuc2hpZnQoaCgnZGl2Jywge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1kYXRhLXRhYmxlX19tb2JpbGUtcm93X19oZWFkZXInXG4gICAgICAgIH0sIFtoZWFkZXIudGV4dF0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGgoJ3RkJywge1xuICAgICAgICBjbGFzczogY2xhc3Nlc1xuICAgICAgfSwgbW9iaWxlUm93Q2hpbGRyZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBoKCd0cicsIGRhdGEsIGNvbHVtbnMpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9Sb3cudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvUm93LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLy8gVHlwZXNcbiAvLyBVdGlsc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdyb3cnLFxuICBmdW5jdGlvbmFsOiB0cnVlLFxuICBwcm9wczoge1xuICAgIGhlYWRlcnM6IEFycmF5LFxuICAgIGl0ZW06IE9iamVjdCxcbiAgICBydGw6IEJvb2xlYW5cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX2EpIHtcbiAgICB2YXIgcHJvcHMgPSBfYS5wcm9wcyxcbiAgICAgICAgc2xvdHMgPSBfYS5zbG90cyxcbiAgICAgICAgZGF0YSA9IF9hLmRhdGE7XG4gICAgdmFyIGNvbXB1dGVkU2xvdHMgPSBzbG90cygpO1xuICAgIHZhciBjb2x1bW5zID0gcHJvcHMuaGVhZGVycy5tYXAoZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkocHJvcHMuaXRlbSwgaGVhZGVyLnZhbHVlKTtcbiAgICAgIHZhciBzbG90TmFtZSA9IGhlYWRlci52YWx1ZTtcbiAgICAgIHZhciBzY29wZWRTbG90ID0gZGF0YS5zY29wZWRTbG90cyAmJiBkYXRhLnNjb3BlZFNsb3RzW3Nsb3ROYW1lXTtcbiAgICAgIHZhciByZWd1bGFyU2xvdCA9IGNvbXB1dGVkU2xvdHNbc2xvdE5hbWVdO1xuXG4gICAgICBpZiAoc2NvcGVkU2xvdCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHNjb3BlZFNsb3Qoe1xuICAgICAgICAgIGl0ZW06IHByb3BzLml0ZW0sXG4gICAgICAgICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAocmVndWxhclNsb3QpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChyZWd1bGFyU2xvdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGV4dEFsaWduID0gXCJ0ZXh0LVwiICsgKGhlYWRlci5hbGlnbiB8fCAnc3RhcnQnKTtcbiAgICAgIHJldHVybiBoKCd0ZCcsIHtcbiAgICAgICAgY2xhc3M6IChfYSA9IHt9LCBfYVt0ZXh0QWxpZ25dID0gdHJ1ZSwgX2FbJ3YtZGF0YS10YWJsZV9fZGl2aWRlciddID0gaGVhZGVyLmRpdmlkZXIsIF9hKVxuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBoKCd0cicsIGRhdGEsIGNvbHVtbnMpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9Sb3dHcm91cC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1Jvd0dyb3VwLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAncm93LWdyb3VwJyxcbiAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGhlYWRlckNsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAndi1yb3ctZ3JvdXBfX2hlYWRlcidcbiAgICB9LFxuICAgIGNvbnRlbnRDbGFzczogU3RyaW5nLFxuICAgIHN1bW1hcnlDbGFzczoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3Ytcm93LWdyb3VwX19zdW1tYXJ5J1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX2EpIHtcbiAgICB2YXIgc2xvdHMgPSBfYS5zbG90cyxcbiAgICAgICAgcHJvcHMgPSBfYS5wcm9wcztcbiAgICB2YXIgY29tcHV0ZWRTbG90cyA9IHNsb3RzKCk7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICBpZiAoY29tcHV0ZWRTbG90c1snY29sdW1uLmhlYWRlciddKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKGgoJ3RyJywge1xuICAgICAgICBzdGF0aWNDbGFzczogcHJvcHMuaGVhZGVyQ2xhc3NcbiAgICAgIH0sIGNvbXB1dGVkU2xvdHNbJ2NvbHVtbi5oZWFkZXInXSkpO1xuICAgIH0gZWxzZSBpZiAoY29tcHV0ZWRTbG90c1sncm93LmhlYWRlciddKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoLmFwcGx5KGNoaWxkcmVuLCBfX3NwcmVhZChjb21wdXRlZFNsb3RzWydyb3cuaGVhZGVyJ10pKTtcbiAgICB9XG5cbiAgICBpZiAoY29tcHV0ZWRTbG90c1sncm93LmNvbnRlbnQnXSAmJiBwcm9wcy52YWx1ZSkgY2hpbGRyZW4ucHVzaC5hcHBseShjaGlsZHJlbiwgX19zcHJlYWQoY29tcHV0ZWRTbG90c1sncm93LmNvbnRlbnQnXSkpO1xuXG4gICAgaWYgKGNvbXB1dGVkU2xvdHNbJ2NvbHVtbi5zdW1tYXJ5J10pIHtcbiAgICAgIGNoaWxkcmVuLnB1c2goaCgndHInLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBwcm9wcy5zdW1tYXJ5Q2xhc3NcbiAgICAgIH0sIGNvbXB1dGVkU2xvdHNbJ2NvbHVtbi5zdW1tYXJ5J10pKTtcbiAgICB9IGVsc2UgaWYgKGNvbXB1dGVkU2xvdHNbJ3Jvdy5zdW1tYXJ5J10pIHtcbiAgICAgIGNoaWxkcmVuLnB1c2guYXBwbHkoY2hpbGRyZW4sIF9fc3ByZWFkKGNvbXB1dGVkU2xvdHNbJ3Jvdy5zdW1tYXJ5J10pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGUuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRGF0YVRhYmxlLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGUudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFUYWJsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEYXRhVGFibGUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRGF0YVRhYmxlLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhVGFibGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WRGF0YVRhYmxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WRGF0YSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGEvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhSXRlcmF0b3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZEYXRhSXRlcmF0b3IgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhSXRlcmF0b3IvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhVGFibGVIZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFUYWJsZUhlYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRGF0YVRhYmxlSGVhZGVyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZQcm9ncmVzc0xpbmVhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Sb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUm93ICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1Jvdy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUm93R3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUm93R3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvUm93R3JvdXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGVja2JveF9WU2ltcGxlQ2hlY2tib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3gudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaW1wbGVUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNpbXBsZVRhYmxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZTaW1wbGVUYWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTW9iaWxlUm93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Nb2JpbGVSb3cgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvTW9iaWxlUm93LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvcmlwcGxlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG4gLy8gQ29tcG9uZW50c1xuXG5cblxuXG4gLy8gaW1wb3J0IFZWaXJ0dWFsVGFibGUgZnJvbSAnLi9WVmlydHVhbFRhYmxlJ1xuXG5cblxuXG5cblxuXG5cbiAvLyBIZWxwZXJzXG5cblxuXG5cbmZ1bmN0aW9uIGZpbHRlckZuKGl0ZW0sIHNlYXJjaCwgZmlsdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgdmFyIHZhbHVlID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgaGVhZGVyLnZhbHVlKTtcbiAgICByZXR1cm4gaGVhZGVyLmZpbHRlciA/IGhlYWRlci5maWx0ZXIodmFsdWUsIHNlYXJjaCwgaXRlbSkgOiBmaWx0ZXIodmFsdWUsIHNlYXJjaCwgaXRlbSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNlYXJjaFRhYmxlSXRlbXMoaXRlbXMsIHNlYXJjaCwgaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLCBoZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnMsIGN1c3RvbUZpbHRlcikge1xuICB2YXIgZmlsdGVyZWQgPSBpdGVtcztcbiAgc2VhcmNoID0gdHlwZW9mIHNlYXJjaCA9PT0gJ3N0cmluZycgPyBzZWFyY2gudHJpbSgpIDogbnVsbDtcblxuICBpZiAoc2VhcmNoICYmIGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycy5sZW5ndGgpIHtcbiAgICBmaWx0ZXJlZCA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycy5zb21lKGZpbHRlckZuKGl0ZW0sIHNlYXJjaCwgY3VzdG9tRmlsdGVyKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLmxlbmd0aCkge1xuICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLmV2ZXJ5KGZpbHRlckZuKGl0ZW0sIHNlYXJjaCwgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRGaWx0ZXJcIl0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJlZDtcbn1cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkRhdGFJdGVyYXRvcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiVkRhdGFJdGVyYXRvclwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1kYXRhLXRhYmxlJyxcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvNjg3MlxuICBkaXJlY3RpdmVzOiB7XG4gICAgcmlwcGxlOiBfZGlyZWN0aXZlc19yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgaGVhZGVyczoge1xuICAgICAgdHlwZTogQXJyYXlcbiAgICB9LFxuICAgIHNob3dTZWxlY3Q6IEJvb2xlYW4sXG4gICAgc2hvd0V4cGFuZDogQm9vbGVhbixcbiAgICBzaG93R3JvdXBCeTogQm9vbGVhbixcbiAgICAvLyBUT0RPOiBGaXhcbiAgICAvLyB2aXJ0dWFsUm93czogQm9vbGVhbixcbiAgICBtb2JpbGVCcmVha3BvaW50OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiA2MDBcbiAgICB9LFxuICAgIGhlaWdodDogW051bWJlciwgU3RyaW5nXSxcbiAgICBoaWRlRGVmYXVsdEhlYWRlcjogQm9vbGVhbixcbiAgICBjYXB0aW9uOiBTdHJpbmcsXG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgaGVhZGVyUHJvcHM6IE9iamVjdCxcbiAgICBjYWxjdWxhdGVXaWR0aHM6IEJvb2xlYW4sXG4gICAgZml4ZWRIZWFkZXI6IEJvb2xlYW4sXG4gICAgaGVhZGVyc0xlbmd0aDogTnVtYmVyLFxuICAgIGV4cGFuZEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZXhwYW5kJ1xuICAgIH0sXG4gICAgY3VzdG9tRmlsdGVyOiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJkZWZhdWx0RmlsdGVyXCJdXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnRlcm5hbEdyb3VwQnk6IFtdLFxuICAgICAgb3BlbkNhY2hlOiB7fSxcbiAgICAgIHdpZHRoczogW11cbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkSGVhZGVyczogZnVuY3Rpb24gY29tcHV0ZWRIZWFkZXJzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMpIHJldHVybiBbXTtcbiAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICByZXR1cm4gaC52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8ICFfdGhpcy5pbnRlcm5hbEdyb3VwQnkuZmluZChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2ID09PSBoLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGRlZmF1bHRIZWFkZXIgPSB7XG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICBzb3J0YWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnMXB4J1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuc2hvd1NlbGVjdCkge1xuICAgICAgICB2YXIgaW5kZXggPSBoZWFkZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIHJldHVybiBoLnZhbHVlID09PSAnZGF0YS10YWJsZS1zZWxlY3QnO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkgaGVhZGVycy51bnNoaWZ0KF9fYXNzaWduKHt9LCBkZWZhdWx0SGVhZGVyLCB7XG4gICAgICAgICAgdmFsdWU6ICdkYXRhLXRhYmxlLXNlbGVjdCdcbiAgICAgICAgfSkpO2Vsc2UgaGVhZGVycy5zcGxpY2UoaW5kZXgsIDEsIF9fYXNzaWduKHt9LCBkZWZhdWx0SGVhZGVyLCBoZWFkZXJzW2luZGV4XSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zaG93RXhwYW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGhlYWRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgcmV0dXJuIGgudmFsdWUgPT09ICdkYXRhLXRhYmxlLWV4cGFuZCc7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSBoZWFkZXJzLnVuc2hpZnQoX19hc3NpZ24oe30sIGRlZmF1bHRIZWFkZXIsIHtcbiAgICAgICAgICB2YWx1ZTogJ2RhdGEtdGFibGUtZXhwYW5kJ1xuICAgICAgICB9KSk7ZWxzZSBoZWFkZXJzLnNwbGljZShpbmRleCwgMSwgX19hc3NpZ24oe30sIGRlZmF1bHRIZWFkZXIsIGhlYWRlcnNbaW5kZXhdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH0sXG4gICAgY29sc3BhbkF0dHJzOiBmdW5jdGlvbiBjb2xzcGFuQXR0cnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IHtcbiAgICAgICAgY29sc3BhbjogdGhpcy5oZWFkZXJzTGVuZ3RoIHx8IHRoaXMuY29tcHV0ZWRIZWFkZXJzLmxlbmd0aFxuICAgICAgfTtcbiAgICB9LFxuICAgIGlzTW9iaWxlOiBmdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgICAgIC8vIEd1YXJkIGFnYWluc3QgU1NSIHJlbmRlclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZXRpZnlqcy92dWV0aWZ5L2lzc3Vlcy83NDEwXG4gICAgICBpZiAodGhpcy4kdnVldGlmeS5icmVha3BvaW50LndpZHRoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy4kdnVldGlmeS5icmVha3BvaW50LndpZHRoIDwgdGhpcy5tb2JpbGVCcmVha3BvaW50O1xuICAgIH0sXG4gICAgY29sdW1uU29ydGVyczogZnVuY3Rpb24gY29sdW1uU29ydGVycygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkSGVhZGVycy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaGVhZGVyKSB7XG4gICAgICAgIGlmIChoZWFkZXIuc29ydCkgYWNjW2hlYWRlci52YWx1ZV0gPSBoZWFkZXIuc29ydDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICB9LFxuICAgIGhlYWRlcnNXaXRoQ3VzdG9tRmlsdGVyczogZnVuY3Rpb24gaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZWRIZWFkZXJzLmZpbHRlcihmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXIuZmlsdGVyICYmICghaGVhZGVyLmhhc093blByb3BlcnR5KCdmaWx0ZXJhYmxlJykgfHwgaGVhZGVyLmZpbHRlcmFibGUgPT09IHRydWUpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnM6IGZ1bmN0aW9uIGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkSGVhZGVycy5maWx0ZXIoZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gIWhlYWRlci5maWx0ZXIgJiYgKCFoZWFkZXIuaGFzT3duUHJvcGVydHkoJ2ZpbHRlcmFibGUnKSB8fCBoZWFkZXIuZmlsdGVyYWJsZSA9PT0gdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNhbml0aXplZEhlYWRlclByb3BzOiBmdW5jdGlvbiBzYW5pdGl6ZWRIZWFkZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImNhbWVsaXplT2JqZWN0S2V5c1wiXSkodGhpcy5oZWFkZXJQcm9wcyk7XG4gICAgfSxcbiAgICBjb21wdXRlZEl0ZW1zUGVyUGFnZTogZnVuY3Rpb24gY29tcHV0ZWRJdGVtc1BlclBhZ2UoKSB7XG4gICAgICB2YXIgaXRlbXNQZXJQYWdlID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UgPyB0aGlzLm9wdGlvbnMuaXRlbXNQZXJQYWdlIDogdGhpcy5pdGVtc1BlclBhZ2U7XG4gICAgICB2YXIgaXRlbXNQZXJQYWdlT3B0aW9ucyA9IHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMuaXRlbXNQZXJQYWdlT3B0aW9ucztcblxuICAgICAgaWYgKGl0ZW1zUGVyUGFnZU9wdGlvbnMgJiYgIWl0ZW1zUGVyUGFnZU9wdGlvbnMuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09ICdudW1iZXInID8gaXRlbSA9PT0gaXRlbXNQZXJQYWdlIDogaXRlbS52YWx1ZSA9PT0gaXRlbXNQZXJQYWdlO1xuICAgICAgfSkpIHtcbiAgICAgICAgdmFyIGZpcnN0T3B0aW9uID0gaXRlbXNQZXJQYWdlT3B0aW9uc1swXTtcbiAgICAgICAgcmV0dXJuIF90eXBlb2YoZmlyc3RPcHRpb24pID09PSAnb2JqZWN0JyA/IGZpcnN0T3B0aW9uLnZhbHVlIDogZmlyc3RPcHRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpdGVtc1BlclBhZ2U7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgYnJlYWtpbmdQcm9wcyA9IFtbJ3NvcnQtaWNvbicsICdoZWFkZXItcHJvcHMuc29ydC1pY29uJ10sIFsnaGlkZS1oZWFkZXJzJywgJ2hpZGUtZGVmYXVsdC1oZWFkZXInXSwgWydzZWxlY3QtYWxsJywgJ3Nob3ctc2VsZWN0J11dO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbiAgICBicmVha2luZ1Byb3BzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLFxuICAgICAgICAgIG9yaWdpbmFsID0gX2JbMF0sXG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBfYlsxXTtcblxuICAgICAgaWYgKF90aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eShvcmlnaW5hbCkpIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiYnJlYWtpbmdcIl0pKG9yaWdpbmFsLCByZXBsYWNlbWVudCwgX3RoaXMpO1xuICAgIH0pO1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIC8vIGlmICgoIXRoaXMuc29ydEJ5IHx8ICF0aGlzLnNvcnRCeS5sZW5ndGgpICYmICghdGhpcy5vcHRpb25zLnNvcnRCeSB8fCAhdGhpcy5vcHRpb25zLnNvcnRCeS5sZW5ndGgpKSB7XG4gICAgLy8gICBjb25zdCBmaXJzdFNvcnRhYmxlID0gdGhpcy5oZWFkZXJzLmZpbmQoaCA9PiAhKCdzb3J0YWJsZScgaW4gaCkgfHwgISFoLnNvcnRhYmxlKVxuICAgIC8vICAgaWYgKGZpcnN0U29ydGFibGUpIHRoaXMudXBkYXRlT3B0aW9ucyh7IHNvcnRCeTogW2ZpcnN0U29ydGFibGUudmFsdWVdLCBzb3J0RGVzYzogW2ZhbHNlXSB9KVxuICAgIC8vIH1cbiAgICBpZiAodGhpcy5jYWxjdWxhdGVXaWR0aHMpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmNhbGNXaWR0aHMpO1xuICAgICAgdGhpcy5jYWxjV2lkdGhzKCk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmNhbGN1bGF0ZVdpZHRocykge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY2FsY1dpZHRocyk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY2FsY1dpZHRoczogZnVuY3Rpb24gY2FsY1dpZHRocygpIHtcbiAgICAgIHRoaXMud2lkdGhzID0gQXJyYXkuZnJvbSh0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuY2xpZW50V2lkdGg7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGN1c3RvbUZpbHRlcldpdGhDb2x1bW5zOiBmdW5jdGlvbiBjdXN0b21GaWx0ZXJXaXRoQ29sdW1ucyhpdGVtcywgc2VhcmNoKSB7XG4gICAgICByZXR1cm4gc2VhcmNoVGFibGVJdGVtcyhpdGVtcywgc2VhcmNoLCB0aGlzLmhlYWRlcnNXaXRoQ3VzdG9tRmlsdGVycywgdGhpcy5oZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnMsIHRoaXMuY3VzdG9tRmlsdGVyKTtcbiAgICB9LFxuICAgIGN1c3RvbVNvcnRXaXRoSGVhZGVyczogZnVuY3Rpb24gY3VzdG9tU29ydFdpdGhIZWFkZXJzKGl0ZW1zLCBzb3J0QnksIHNvcnREZXNjLCBsb2NhbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1c3RvbVNvcnQoaXRlbXMsIHNvcnRCeSwgc29ydERlc2MsIGxvY2FsZSwgdGhpcy5jb2x1bW5Tb3J0ZXJzKTtcbiAgICB9LFxuICAgIGNyZWF0ZUl0ZW1Qcm9wczogZnVuY3Rpb24gY3JlYXRlSXRlbVByb3BzKGl0ZW0pIHtcbiAgICAgIHZhciBwcm9wcyA9IF9WRGF0YUl0ZXJhdG9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJWRGF0YUl0ZXJhdG9yXCJdLm9wdGlvbnMubWV0aG9kcy5jcmVhdGVJdGVtUHJvcHMuY2FsbCh0aGlzLCBpdGVtKTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BzLCB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkNhcHRpb246IGZ1bmN0aW9uIGdlbkNhcHRpb24ocHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLmNhcHRpb24pIHJldHVybiBbdGhpcy4kY3JlYXRlRWxlbWVudCgnY2FwdGlvbicsIFt0aGlzLmNhcHRpb25dKV07XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJnZXRTbG90XCJdKSh0aGlzLCAnY2FwdGlvbicsIHByb3BzLCB0cnVlKTtcbiAgICB9LFxuICAgIGdlbkNvbGdyb3VwOiBmdW5jdGlvbiBnZW5Db2xncm91cChwcm9wcykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2NvbGdyb3VwJywgdGhpcy5jb21wdXRlZEhlYWRlcnMubWFwKGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KCdjb2wnLCB7XG4gICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgIGRpdmlkZXI6IGhlYWRlci5kaXZpZGVyXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGdlbkxvYWRpbmc6IGZ1bmN0aW9uIGdlbkxvYWRpbmcoKSB7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLiRzbG90c1sncHJvZ3Jlc3MnXSA/IHRoaXMuJHNsb3RzLnByb2dyZXNzIDogdGhpcy4kY3JlYXRlRWxlbWVudChfVlByb2dyZXNzTGluZWFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMubG9hZGluZyA9PT0gdHJ1ZSA/ICdwcmltYXJ5JyA6IHRoaXMubG9hZGluZyxcbiAgICAgICAgICBoZWlnaHQ6IDIsXG4gICAgICAgICAgaW5kZXRlcm1pbmF0ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciB0aCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RoJywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ2NvbHVtbicsXG4gICAgICAgIGF0dHJzOiB0aGlzLmNvbHNwYW5BdHRyc1xuICAgICAgfSwgW3Byb2dyZXNzXSk7XG4gICAgICB2YXIgdHIgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX3Byb2dyZXNzJ1xuICAgICAgfSwgW3RoXSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGhlYWQnLCBbdHJdKTtcbiAgICB9LFxuICAgIGdlbkhlYWRlcnM6IGZ1bmN0aW9uIGdlbkhlYWRlcnMocHJvcHMpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwcm9wczogX19hc3NpZ24oe30sIHRoaXMuc2FuaXRpemVkSGVhZGVyUHJvcHMsIHtcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycyxcbiAgICAgICAgICBvcHRpb25zOiBwcm9wcy5vcHRpb25zLFxuICAgICAgICAgIG1vYmlsZTogdGhpcy5pc01vYmlsZSxcbiAgICAgICAgICBzaG93R3JvdXBCeTogdGhpcy5zaG93R3JvdXBCeSxcbiAgICAgICAgICBzb21lSXRlbXM6IHRoaXMuc29tZUl0ZW1zLFxuICAgICAgICAgIGV2ZXJ5SXRlbTogdGhpcy5ldmVyeUl0ZW0sXG4gICAgICAgICAgc2luZ2xlU2VsZWN0OiB0aGlzLnNpbmdsZVNlbGVjdCxcbiAgICAgICAgICBkaXNhYmxlU29ydDogdGhpcy5kaXNhYmxlU29ydFxuICAgICAgICB9KSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBzb3J0OiBwcm9wcy5zb3J0LFxuICAgICAgICAgIGdyb3VwOiBwcm9wcy5ncm91cCxcbiAgICAgICAgICAndG9nZ2xlLXNlbGVjdC1hbGwnOiB0aGlzLnRvZ2dsZVNlbGVjdEFsbFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoaWxkcmVuID0gW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ2hlYWRlcicsIGRhdGEpXTtcblxuICAgICAgaWYgKCF0aGlzLmhpZGVEZWZhdWx0SGVhZGVyKSB7XG4gICAgICAgIHZhciBzY29wZWRTbG90cyA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0UHJlZml4ZWRTY29wZWRTbG90c1wiXSkoJ2hlYWRlci4nLCB0aGlzLiRzY29wZWRTbG90cyk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudChfVkRhdGFUYWJsZUhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oe30sIGRhdGEsIHtcbiAgICAgICAgICBzY29wZWRTbG90czogc2NvcGVkU2xvdHNcbiAgICAgICAgfSkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubG9hZGluZykgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkxvYWRpbmcoKSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfSxcbiAgICBnZW5FbXB0eVdyYXBwZXI6IGZ1bmN0aW9uIGdlbkVtcHR5V3JhcHBlcihjb250ZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHInLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1kYXRhLXRhYmxlX19lbXB0eS13cmFwcGVyJ1xuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICBhdHRyczogdGhpcy5jb2xzcGFuQXR0cnNcbiAgICAgIH0sIGNvbnRlbnQpXSk7XG4gICAgfSxcbiAgICBnZW5JdGVtczogZnVuY3Rpb24gZ2VuSXRlbXMoaXRlbXMsIHByb3BzKSB7XG4gICAgICB2YXIgZW1wdHkgPSB0aGlzLmdlbkVtcHR5KHByb3BzLm9yaWdpbmFsSXRlbXNMZW5ndGgsIHByb3BzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGgpO1xuICAgICAgaWYgKGVtcHR5KSByZXR1cm4gW2VtcHR5XTtcbiAgICAgIHJldHVybiBwcm9wcy5ncm91cGVkSXRlbXMgPyB0aGlzLmdlbkdyb3VwZWRSb3dzKHByb3BzLmdyb3VwZWRJdGVtcywgcHJvcHMpIDogdGhpcy5nZW5Sb3dzKGl0ZW1zLCBwcm9wcyk7XG4gICAgfSxcbiAgICBnZW5Hcm91cGVkUm93czogZnVuY3Rpb24gZ2VuR3JvdXBlZFJvd3MoZ3JvdXBlZEl0ZW1zLCBwcm9wcykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGdyb3VwcyA9IE9iamVjdC5rZXlzKGdyb3VwZWRJdGVtcyB8fCB7fSk7XG4gICAgICByZXR1cm4gZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgaWYgKCFfdGhpcy5vcGVuQ2FjaGUuaGFzT3duUHJvcGVydHkoZ3JvdXApKSBfdGhpcy4kc2V0KF90aGlzLm9wZW5DYWNoZSwgZ3JvdXAsIHRydWUpO1xuXG4gICAgICAgIGlmIChfdGhpcy4kc2NvcGVkU2xvdHMuZ3JvdXApIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJHNjb3BlZFNsb3RzLmdyb3VwKHtcbiAgICAgICAgICAgIGdyb3VwOiBncm91cCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXG4gICAgICAgICAgICBpdGVtczogZ3JvdXBlZEl0ZW1zW2dyb3VwXSxcbiAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzLmNvbXB1dGVkSGVhZGVyc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5nZW5EZWZhdWx0R3JvdXBlZFJvdyhncm91cCwgZ3JvdXBlZEl0ZW1zW2dyb3VwXSwgcHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkRlZmF1bHRHcm91cGVkUm93OiBmdW5jdGlvbiBnZW5EZWZhdWx0R3JvdXBlZFJvdyhncm91cCwgaXRlbXMsIHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaXNPcGVuID0gISF0aGlzLm9wZW5DYWNoZVtncm91cF07XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7XG4gICAgICAgIHNsb3Q6ICdyb3cuY29udGVudCdcbiAgICAgIH0sIHRoaXMuZ2VuRGVmYXVsdFJvd3MoaXRlbXMsIHByb3BzKSldO1xuXG4gICAgICB2YXIgdG9nZ2xlRm4gPSBmdW5jdGlvbiB0b2dnbGVGbigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRzZXQoX3RoaXMub3BlbkNhY2hlLCBncm91cCwgIV90aGlzLm9wZW5DYWNoZVtncm91cF0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlbW92ZUZuID0gZnVuY3Rpb24gcmVtb3ZlRm4oKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICBncm91cEJ5OiBbXSxcbiAgICAgICAgICBncm91cERlc2M6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydncm91cC5oZWFkZXInXSkge1xuICAgICAgICBjaGlsZHJlbi51bnNoaWZ0KHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywge1xuICAgICAgICAgIHNsb3Q6ICdjb2x1bW4uaGVhZGVyJ1xuICAgICAgICB9LCBbdGhpcy4kc2NvcGVkU2xvdHNbJ2dyb3VwLmhlYWRlciddKHtcbiAgICAgICAgICBncm91cDogZ3JvdXAsXG4gICAgICAgICAgZ3JvdXBCeTogcHJvcHMub3B0aW9ucy5ncm91cEJ5LFxuICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycyxcbiAgICAgICAgICB0b2dnbGU6IHRvZ2dsZUZuLFxuICAgICAgICAgIHJlbW92ZTogcmVtb3ZlRm5cbiAgICAgICAgfSldKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG9nZ2xlID0gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiAnbWEtMCcsXG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGljb246IHRydWUsXG4gICAgICAgICAgICBzbWFsbDogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGNsaWNrOiB0b2dnbGVGblxuICAgICAgICAgIH1cbiAgICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBbaXNPcGVuID8gJyRtaW51cycgOiAnJHBsdXMnXSldKTtcbiAgICAgICAgdmFyIHJlbW92ZSA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ21hLTAnLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBpY29uOiB0cnVlLFxuICAgICAgICAgICAgc21hbGw6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBjbGljazogcmVtb3ZlRm5cbiAgICAgICAgICB9XG4gICAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgWyckY2xvc2UnXSldKTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiAndGV4dC1zdGFydCcsXG4gICAgICAgICAgYXR0cnM6IHRoaXMuY29sc3BhbkF0dHJzXG4gICAgICAgIH0sIFt0b2dnbGUsIHByb3BzLm9wdGlvbnMuZ3JvdXBCeVswXSArIFwiOiBcIiArIGdyb3VwLCByZW1vdmVdKTtcbiAgICAgICAgY2hpbGRyZW4udW5zaGlmdCh0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHtcbiAgICAgICAgICBzbG90OiAnY29sdW1uLmhlYWRlcidcbiAgICAgICAgfSwgW2NvbHVtbl0pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydncm91cC5zdW1tYXJ5J10pIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHtcbiAgICAgICAgICBzbG90OiAnY29sdW1uLnN1bW1hcnknXG4gICAgICAgIH0sIFt0aGlzLiRzY29wZWRTbG90c1snZ3JvdXAuc3VtbWFyeSddKHtcbiAgICAgICAgICBncm91cDogZ3JvdXAsXG4gICAgICAgICAgZ3JvdXBCeTogcHJvcHMub3B0aW9ucy5ncm91cEJ5LFxuICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVyc1xuICAgICAgICB9KV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1Jvd0dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGtleTogZ3JvdXAsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IGlzT3BlblxuICAgICAgICB9XG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5Sb3dzOiBmdW5jdGlvbiBnZW5Sb3dzKGl0ZW1zLCBwcm9wcykge1xuICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0gPyB0aGlzLmdlblNjb3BlZFJvd3MoaXRlbXMsIHByb3BzKSA6IHRoaXMuZ2VuRGVmYXVsdFJvd3MoaXRlbXMsIHByb3BzKTtcbiAgICB9LFxuICAgIGdlblNjb3BlZFJvd3M6IGZ1bmN0aW9uIGdlblNjb3BlZFJvd3MoaXRlbXMsIHByb3BzKSB7XG4gICAgICB2YXIgcm93cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIHJvd3MucHVzaCh0aGlzLiRzY29wZWRTbG90cy5pdGVtKF9fYXNzaWduKHt9LCB0aGlzLmNyZWF0ZUl0ZW1Qcm9wcyhpdGVtKSwge1xuICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgIH0pKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNFeHBhbmRlZChpdGVtKSkge1xuICAgICAgICAgIHJvd3MucHVzaCh0aGlzLiRzY29wZWRTbG90c1snZXhwYW5kZWQtaXRlbSddKHtcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVyc1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm93cztcbiAgICB9LFxuICAgIGdlbkRlZmF1bHRSb3dzOiBmdW5jdGlvbiBnZW5EZWZhdWx0Um93cyhpdGVtcywgcHJvcHMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90c1snZXhwYW5kZWQtaXRlbSddID8gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5nZW5EZWZhdWx0RXhwYW5kZWRSb3coaXRlbSk7XG4gICAgICB9KSA6IGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZ2VuRGVmYXVsdFNpbXBsZVJvdyhpdGVtKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuRGVmYXVsdEV4cGFuZGVkUm93OiBmdW5jdGlvbiBnZW5EZWZhdWx0RXhwYW5kZWRSb3coaXRlbSkge1xuICAgICAgdmFyIGlzRXhwYW5kZWQgPSB0aGlzLmlzRXhwYW5kZWQoaXRlbSk7XG4gICAgICB2YXIgY2xhc3NlcyA9IHtcbiAgICAgICAgJ3YtZGF0YS10YWJsZV9fZXhwYW5kZWQgdi1kYXRhLXRhYmxlX19leHBhbmRlZF9fcm93JzogaXNFeHBhbmRlZFxuICAgICAgfTtcbiAgICAgIHZhciBoZWFkZXJSb3cgPSB0aGlzLmdlbkRlZmF1bHRTaW1wbGVSb3coaXRlbSwgY2xhc3Nlcyk7XG4gICAgICB2YXIgZXhwYW5kZWRSb3cgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2V4cGFuZGVkIHYtZGF0YS10YWJsZV9fZXhwYW5kZWRfX2NvbnRlbnQnXG4gICAgICB9LCBbdGhpcy4kc2NvcGVkU2xvdHNbJ2V4cGFuZGVkLWl0ZW0nXSh7XG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzXG4gICAgICB9KV0pO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1Jvd0dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IGlzRXhwYW5kZWRcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywge1xuICAgICAgICBzbG90OiAncm93LmhlYWRlcidcbiAgICAgIH0sIFtoZWFkZXJSb3ddKSwgdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7XG4gICAgICAgIHNsb3Q6ICdyb3cuY29udGVudCdcbiAgICAgIH0sIFtleHBhbmRlZFJvd10pXSk7XG4gICAgfSxcbiAgICBnZW5EZWZhdWx0U2ltcGxlUm93OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2ltcGxlUm93KGl0ZW0sIGNsYXNzZXMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICAgICAgY2xhc3NlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgc2NvcGVkU2xvdHMgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImdldFByZWZpeGVkU2NvcGVkU2xvdHNcIl0pKCdpdGVtLicsIHRoaXMuJHNjb3BlZFNsb3RzKTtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5jcmVhdGVJdGVtUHJvcHMoaXRlbSk7XG5cbiAgICAgIGlmICh0aGlzLnNob3dTZWxlY3QpIHtcbiAgICAgICAgdmFyIHNsb3RfMSA9IHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddO1xuICAgICAgICBzY29wZWRTbG90c1snZGF0YS10YWJsZS1zZWxlY3QnXSA9IHNsb3RfMSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2xvdF8xKGRhdGEpO1xuICAgICAgICB9IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kY3JlYXRlRWxlbWVudChfVkNoZWNrYm94X1ZTaW1wbGVDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2NoZWNrYm94JyxcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBkYXRhLmlzU2VsZWN0ZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gaW5wdXQodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc2VsZWN0KHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hvd0V4cGFuZCkge1xuICAgICAgICB2YXIgc2xvdF8yID0gc2NvcGVkU2xvdHNbJ2RhdGEtdGFibGUtZXhwYW5kJ107XG4gICAgICAgIHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLWV4cGFuZCddID0gc2xvdF8yID8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzbG90XzIoZGF0YSk7XG4gICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2V4cGFuZC1pY29uJyxcbiAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICd2LWRhdGEtdGFibGVfX2V4cGFuZC1pY29uLS1hY3RpdmUnOiBkYXRhLmlzRXhwYW5kZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZGF0YS5leHBhbmQoIWRhdGEuaXNFeHBhbmRlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBbX3RoaXMuZXhwYW5kSWNvbl0pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCh0aGlzLmlzTW9iaWxlID8gX01vYmlsZVJvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0gOiBfUm93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGtleTogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgdGhpcy5pdGVtS2V5KSxcbiAgICAgICAgY2xhc3M6IF9fYXNzaWduKHt9LCBjbGFzc2VzLCB7XG4gICAgICAgICAgJ3YtZGF0YS10YWJsZV9fc2VsZWN0ZWQnOiBkYXRhLmlzU2VsZWN0ZWRcbiAgICAgICAgfSksXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsXG4gICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICBydGw6IHRoaXMuJHZ1ZXRpZnkucnRsXG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlZFNsb3RzOiBzY29wZWRTbG90cyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2NsaWNrOnJvdycsIGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5Cb2R5OiBmdW5jdGlvbiBnZW5Cb2R5KHByb3BzKSB7XG4gICAgICB2YXIgZGF0YSA9IF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICBpc01vYmlsZTogdGhpcy5pc01vYmlsZSxcbiAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuYm9keSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMuYm9keShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3Rib2R5JywgW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ2JvZHkucHJlcGVuZCcsIGRhdGEsIHRydWUpLCB0aGlzLmdlbkl0ZW1zKHByb3BzLml0ZW1zLCBwcm9wcyksIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ2JvZHkuYXBwZW5kJywgZGF0YSwgdHJ1ZSldKTtcbiAgICB9LFxuICAgIGdlbkZvb3RlcnM6IGZ1bmN0aW9uIGdlbkZvb3RlcnMocHJvcHMpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwcm9wczogX19hc3NpZ24oe1xuICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXG4gICAgICAgICAgcGFnaW5hdGlvbjogcHJvcHMucGFnaW5hdGlvbixcbiAgICAgICAgICBpdGVtc1BlclBhZ2VUZXh0OiAnJHZ1ZXRpZnkuZGF0YVRhYmxlLml0ZW1zUGVyUGFnZVRleHQnXG4gICAgICAgIH0sIHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMpLFxuICAgICAgICBvbjoge1xuICAgICAgICAgICd1cGRhdGU6b3B0aW9ucyc6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnModmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy51cGRhdGVPcHRpb25zKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHdpZHRoczogdGhpcy53aWR0aHMsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzXG4gICAgICB9O1xuICAgICAgdmFyIGNoaWxkcmVuID0gW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ2Zvb3RlcicsIGRhdGEsIHRydWUpXTtcblxuICAgICAgaWYgKCF0aGlzLmhpZGVEZWZhdWx0Rm9vdGVyKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudChfVkRhdGFJdGVyYXRvcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiVkRhdGFGb290ZXJcIl0sIF9fYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgICAgICAgc2NvcGVkU2xvdHM6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0UHJlZml4ZWRTY29wZWRTbG90c1wiXSkoJ2Zvb3Rlci4nLCB0aGlzLiRzY29wZWRTbG90cylcbiAgICAgICAgfSkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH0sXG4gICAgZ2VuRGVmYXVsdFNjb3BlZFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTY29wZWRTbG90KHByb3BzKSB7XG4gICAgICB2YXIgc2ltcGxlUHJvcHMgPSB7XG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIGZpeGVkSGVhZGVyOiB0aGlzLmZpeGVkSGVhZGVyLFxuICAgICAgICBkZW5zZTogdGhpcy5kZW5zZVxuICAgICAgfTsgLy8gaWYgKHRoaXMudmlydHVhbFJvd3MpIHtcbiAgICAgIC8vICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoVlZpcnR1YWxUYWJsZSwge1xuICAgICAgLy8gICAgIHByb3BzOiBPYmplY3QuYXNzaWduKHNpbXBsZVByb3BzLCB7XG4gICAgICAvLyAgICAgICBpdGVtczogcHJvcHMuaXRlbXMsXG4gICAgICAvLyAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgLy8gICAgICAgcm93SGVpZ2h0OiB0aGlzLmRlbnNlID8gMjQgOiA0OCxcbiAgICAgIC8vICAgICAgIGhlYWRlckhlaWdodDogdGhpcy5kZW5zZSA/IDMyIDogNDgsXG4gICAgICAvLyAgICAgICAvLyBUT0RPOiBleHBvc2UgcmVzdCBvZiBwcm9wcyBmcm9tIHZpcnR1YWwgdGFibGU/XG4gICAgICAvLyAgICAgfSksXG4gICAgICAvLyAgICAgc2NvcGVkU2xvdHM6IHtcbiAgICAgIC8vICAgICAgIGl0ZW1zOiAoeyBpdGVtcyB9KSA9PiB0aGlzLmdlbkl0ZW1zKGl0ZW1zLCBwcm9wcykgYXMgYW55LFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIH0sIFtcbiAgICAgIC8vICAgICB0aGlzLnByb3h5U2xvdCgnYm9keS5iZWZvcmUnLCBbdGhpcy5nZW5DYXB0aW9uKHByb3BzKSwgdGhpcy5nZW5IZWFkZXJzKHByb3BzKV0pLFxuICAgICAgLy8gICAgIHRoaXMucHJveHlTbG90KCdib3R0b20nLCB0aGlzLmdlbkZvb3RlcnMocHJvcHMpKSxcbiAgICAgIC8vICAgXSlcbiAgICAgIC8vIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZTaW1wbGVUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHNpbXBsZVByb3BzXG4gICAgICB9LCBbdGhpcy5wcm94eVNsb3QoJ3RvcCcsIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ3RvcCcsIHByb3BzLCB0cnVlKSksIHRoaXMuZ2VuQ2FwdGlvbihwcm9wcyksIHRoaXMuZ2VuQ29sZ3JvdXAocHJvcHMpLCB0aGlzLmdlbkhlYWRlcnMocHJvcHMpLCB0aGlzLmdlbkJvZHkocHJvcHMpLCB0aGlzLnByb3h5U2xvdCgnYm90dG9tJywgdGhpcy5nZW5Gb290ZXJzKHByb3BzKSldKTtcbiAgICB9LFxuICAgIHByb3h5U2xvdDogZnVuY3Rpb24gcHJveHlTbG90KHNsb3QsIGNvbnRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHtcbiAgICAgICAgc2xvdDogc2xvdFxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJWRGF0YVwiXSwge1xuICAgICAgcHJvcHM6IF9fYXNzaWduKHt9LCB0aGlzLiRwcm9wcywge1xuICAgICAgICBjdXN0b21GaWx0ZXI6IHRoaXMuY3VzdG9tRmlsdGVyV2l0aENvbHVtbnMsXG4gICAgICAgIGN1c3RvbVNvcnQ6IHRoaXMuY3VzdG9tU29ydFdpdGhIZWFkZXJzLFxuICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMuY29tcHV0ZWRJdGVtc1BlclBhZ2VcbiAgICAgIH0pLFxuICAgICAgb246IHtcbiAgICAgICAgJ3VwZGF0ZTpvcHRpb25zJzogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyh2LCBvbGQpIHtcbiAgICAgICAgICBfdGhpcy5pbnRlcm5hbEdyb3VwQnkgPSB2Lmdyb3VwQnkgfHwgW107XG4gICAgICAgICAgIU9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZGVlcEVxdWFsXCJdKSh2LCBvbGQpICYmIF90aGlzLiRlbWl0KCd1cGRhdGU6b3B0aW9ucycsIHYpO1xuICAgICAgICB9LFxuICAgICAgICAndXBkYXRlOnBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVQYWdlKHYpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpwYWdlJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6aXRlbXMtcGVyLXBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVJdGVtc1BlclBhZ2Uodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgndXBkYXRlOml0ZW1zLXBlci1wYWdlJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6c29ydC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZVNvcnRCeSh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCd1cGRhdGU6c29ydC1ieScsIHYpO1xuICAgICAgICB9LFxuICAgICAgICAndXBkYXRlOnNvcnQtZGVzYyc6IGZ1bmN0aW9uIHVwZGF0ZVNvcnREZXNjKHYpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0LWRlc2MnLCB2KTtcbiAgICAgICAgfSxcbiAgICAgICAgJ3VwZGF0ZTpncm91cC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwQnkodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgndXBkYXRlOmdyb3VwLWJ5Jywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGU6Z3JvdXAtZGVzYyc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwRGVzYyh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCd1cGRhdGU6Z3JvdXAtZGVzYycsIHYpO1xuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiBmdW5jdGlvbiBwYWdpbmF0aW9uKHYsIG9sZCkge1xuICAgICAgICAgIHJldHVybiAhT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJkZWVwRXF1YWxcIl0pKHYsIG9sZCkgJiYgX3RoaXMuJGVtaXQoJ3BhZ2luYXRpb24nLCB2KTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2N1cnJlbnQtaXRlbXMnOiBmdW5jdGlvbiBjdXJyZW50SXRlbXModikge1xuICAgICAgICAgIF90aGlzLmludGVybmFsQ3VycmVudEl0ZW1zID0gdjtcblxuICAgICAgICAgIF90aGlzLiRlbWl0KCdjdXJyZW50LWl0ZW1zJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgICdwYWdlLWNvdW50JzogZnVuY3Rpb24gcGFnZUNvdW50KHYpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3BhZ2UtY291bnQnLCB2KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNjb3BlZFNsb3RzOiB7XG4gICAgICAgIGRlZmF1bHQ6IHRoaXMuZ2VuRGVmYXVsdFNjb3BlZFNsb3RcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZUhlYWRlci5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZUhlYWRlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZUhlYWRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0YVRhYmxlSGVhZGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFUYWJsZUhlYWRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXIuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFUYWJsZUhlYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZEYXRhVGFibGVIZWFkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfZGVkdXBlTW9kZWxMaXN0ZW5lcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvZGVkdXBlTW9kZWxMaXN0ZW5lcnMgKi8gXCIuL3NyYy91dGlsL2RlZHVwZU1vZGVsTGlzdGVuZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX3JlYnVpbGRGdW5jdGlvbmFsU2xvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvcmVidWlsZEZ1bmN0aW9uYWxTbG90cyAqLyBcIi4vc3JjL3V0aWwvcmVidWlsZEZ1bmN0aW9uYWxTbG90cy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFUYWJsZUhlYWRlck1vYmlsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0YVRhYmxlSGVhZGVyTW9iaWxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXJNb2JpbGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhVGFibGVIZWFkZXJEZXNrdG9wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEYXRhVGFibGVIZWFkZXJEZXNrdG9wICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXJEZXNrdG9wLnRzXCIpO1xuXG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0YS10YWJsZS1oZWFkZXInLFxuICBmdW5jdGlvbmFsOiB0cnVlLFxuICBwcm9wczoge1xuICAgIG1vYmlsZTogQm9vbGVhblxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgIHZhciBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgc2xvdHMgPSBfYS5zbG90cztcbiAgICBPYmplY3QoX3V0aWxfZGVkdXBlTW9kZWxMaXN0ZW5lcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGRhdGEpO1xuICAgIHZhciBjaGlsZHJlbiA9IE9iamVjdChfdXRpbF9yZWJ1aWxkRnVuY3Rpb25hbFNsb3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShzbG90cygpLCBoKTtcblxuICAgIGlmIChwcm9wcy5tb2JpbGUpIHtcbiAgICAgIHJldHVybiBoKF9WRGF0YVRhYmxlSGVhZGVyTW9iaWxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBkYXRhLCBjaGlsZHJlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoKF9WRGF0YVRhYmxlSGVhZGVyRGVza3RvcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgZGF0YSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZUhlYWRlckRlc2t0b3AudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRGF0YVRhYmxlSGVhZGVyRGVza3RvcC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19oZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWl4aW5zL2hlYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9taXhpbnMvaGVhZGVyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2hlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0YS10YWJsZS1oZWFkZXItZGVza3RvcCcsXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Hcm91cEJ5VG9nZ2xlOiBmdW5jdGlvbiBnZW5Hcm91cEJ5VG9nZ2xlKGhlYWRlcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdncm91cCcsIGhlYWRlci52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBbJ2dyb3VwJ10pO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzXG4gICAgZ2VuSGVhZGVyOiBmdW5jdGlvbiBnZW5IZWFkZXIoaGVhZGVyKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgbGlzdGVuZXJzID0ge307XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZhciBhdHRycyA9IHtcbiAgICAgICAgcm9sZTogJ2NvbHVtbmhlYWRlcicsXG4gICAgICAgIHNjb3BlOiAnY29sJyxcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBoZWFkZXIudGV4dCB8fCAnJyxcbiAgICAgICAgJ2FyaWEtc29ydCc6ICdub25lJ1xuICAgICAgfTtcbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHdpZHRoOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29udmVydFRvVW5pdFwiXSkoaGVhZGVyLndpZHRoKSxcbiAgICAgICAgbWluV2lkdGg6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb252ZXJ0VG9Vbml0XCJdKShoZWFkZXIud2lkdGgpXG4gICAgICB9O1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IF9fc3ByZWFkKFtcInRleHQtXCIgKyAoaGVhZGVyLmFsaWduIHx8ICdzdGFydCcpXSwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIndyYXBJbkFycmF5XCJdKShoZWFkZXIuY2xhc3MpLCBbaGVhZGVyLmRpdmlkZXIgJiYgJ3YtZGF0YS10YWJsZV9fZGl2aWRlciddKTtcblxuICAgICAgaWYgKGhlYWRlci52YWx1ZSA9PT0gJ2RhdGEtdGFibGUtc2VsZWN0JyAmJiAhdGhpcy5zaW5nbGVTZWxlY3QpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblNlbGVjdEFsbCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kc2NvcGVkU2xvdHNbaGVhZGVyLnZhbHVlXSA/IHRoaXMuJHNjb3BlZFNsb3RzW2hlYWRlci52YWx1ZV0oe1xuICAgICAgICAgIGhlYWRlcjogaGVhZGVyXG4gICAgICAgIH0pIDogdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIFtoZWFkZXIudGV4dF0pKTtcblxuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZVNvcnQgJiYgKGhlYWRlci5zb3J0YWJsZSB8fCAhaGVhZGVyLmhhc093blByb3BlcnR5KCdzb3J0YWJsZScpKSkge1xuICAgICAgICAgIGxpc3RlbmVyc1snY2xpY2snXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgnc29ydCcsIGhlYWRlci52YWx1ZSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzb3J0SW5kZXggPSB0aGlzLm9wdGlvbnMuc29ydEJ5LmZpbmRJbmRleChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgcmV0dXJuIGsgPT09IGhlYWRlci52YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYmVpbmdTb3J0ZWQgPSBzb3J0SW5kZXggPj0gMDtcbiAgICAgICAgICB2YXIgaXNEZXNjID0gdGhpcy5vcHRpb25zLnNvcnREZXNjW3NvcnRJbmRleF07XG4gICAgICAgICAgY2xhc3Nlcy5wdXNoKCdzb3J0YWJsZScpO1xuXG4gICAgICAgICAgaWYgKGJlaW5nU29ydGVkKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2FjdGl2ZScpO1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGlzRGVzYyA/ICdkZXNjJyA6ICdhc2MnKTtcbiAgICAgICAgICAgIGF0dHJzWydhcmlhLXNvcnQnXSA9IGlzRGVzYyA/ICdkZXNjZW5kaW5nJyA6ICdhc2NlbmRpbmcnO1xuICAgICAgICAgICAgYXR0cnNbJ2FyaWEtbGFiZWwnXSArPSBpc0Rlc2MgPyB0aGlzLiR2dWV0aWZ5LmxhbmcudCgnJHZ1ZXRpZnkuZGF0YVRhYmxlLmFyaWFMYWJlbC5zb3J0RGVzY2VuZGluZycpIDogdGhpcy4kdnVldGlmeS5sYW5nLnQoJyR2dWV0aWZ5LmRhdGFUYWJsZS5hcmlhTGFiZWwuc29ydEFzY2VuZGluZycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdHRyc1snYXJpYS1sYWJlbCddICs9IHRoaXMuJHZ1ZXRpZnkubGFuZy50KCckdnVldGlmeS5kYXRhVGFibGUuYXJpYUxhYmVsLnNvcnROb25lJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGhlYWRlci5hbGlnbiA9PT0gJ2VuZCcpIGNoaWxkcmVuLnVuc2hpZnQodGhpcy5nZW5Tb3J0SWNvbigpKTtlbHNlIGNoaWxkcmVuLnB1c2godGhpcy5nZW5Tb3J0SWNvbigpKTtcblxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlTb3J0ICYmIGJlaW5nU29ydGVkKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiAndi1kYXRhLXRhYmxlLWhlYWRlcl9fc29ydC1iYWRnZSdcbiAgICAgICAgICAgIH0sIFtTdHJpbmcoc29ydEluZGV4ICsgMSldKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0dyb3VwQnkpIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuR3JvdXBCeVRvZ2dsZShoZWFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGgnLCB7XG4gICAgICAgIGF0dHJzOiBhdHRycyxcbiAgICAgICAgY2xhc3M6IGNsYXNzZXMsXG4gICAgICAgIHN0eWxlOiBzdHlsZXMsXG4gICAgICAgIG9uOiBsaXN0ZW5lcnNcbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGhlYWQnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZS1oZWFkZXInXG4gICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyJywgdGhpcy5oZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ2VuSGVhZGVyKGhlYWRlcik7XG4gICAgfSkpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXJNb2JpbGUudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGVIZWFkZXJNb2JpbGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTZWxlY3RfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNlbGVjdC9WU2VsZWN0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3QudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQ2hpcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19oZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWl4aW5zL2hlYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9taXhpbnMvaGVhZGVyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19oZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWRhdGEtdGFibGUtaGVhZGVyLW1vYmlsZScsXG4gIHByb3BzOiB7XG4gICAgc29ydEJ5VGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5LmRhdGFUYWJsZS5zb3J0QnknXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuU29ydENoaXA6IGZ1bmN0aW9uIGdlblNvcnRDaGlwKHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBbcHJvcHMuaXRlbS50ZXh0XTtcbiAgICAgIHZhciBzb3J0SW5kZXggPSB0aGlzLm9wdGlvbnMuc29ydEJ5LmZpbmRJbmRleChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayA9PT0gcHJvcHMuaXRlbS52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGJlaW5nU29ydGVkID0gc29ydEluZGV4ID49IDA7XG4gICAgICB2YXIgaXNEZXNjID0gdGhpcy5vcHRpb25zLnNvcnREZXNjW3NvcnRJbmRleF07XG4gICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNoaXBfX2Nsb3NlJyxcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBhY3RpdmU6IGJlaW5nU29ydGVkLFxuICAgICAgICAgIGFzYzogYmVpbmdTb3J0ZWQgJiYgIWlzRGVzYyxcbiAgICAgICAgICBkZXNjOiBiZWluZ1NvcnRlZCAmJiBpc0Rlc2NcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuZ2VuU29ydEljb24oKV0pKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQ2hpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3NvcnRhYmxlJyxcbiAgICAgICAgbmF0aXZlT246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3NvcnQnLCBwcm9wcy5pdGVtLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIGdlblNvcnRTZWxlY3Q6IGZ1bmN0aW9uIGdlblNvcnRTZWxlY3QoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc29ydEhlYWRlcnMgPSB0aGlzLmhlYWRlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIHJldHVybiBoLnNvcnRhYmxlICE9PSBmYWxzZSAmJiBoLnZhbHVlICE9PSAnZGF0YS10YWJsZS1zZWxlY3QnO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVlNlbGVjdF9WU2VsZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMuc29ydEJ5VGV4dCksXG4gICAgICAgICAgaXRlbXM6IHNvcnRIZWFkZXJzLFxuICAgICAgICAgIGhpZGVEZXRhaWxzOiB0cnVlLFxuICAgICAgICAgIG11bHRpcGxlOiB0aGlzLm9wdGlvbnMubXVsdGlTb3J0LFxuICAgICAgICAgIHZhbHVlOiB0aGlzLm9wdGlvbnMubXVsdGlTb3J0ID8gdGhpcy5vcHRpb25zLnNvcnRCeSA6IHRoaXMub3B0aW9ucy5zb3J0QnlbMF0sXG4gICAgICAgICAgZGlzYWJsZWQ6IHNvcnRIZWFkZXJzLmxlbmd0aCA9PT0gMCB8fCB0aGlzLmRpc2FibGVTb3J0XG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2Uodikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdzb3J0Jywgdik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzY29wZWRTbG90czoge1xuICAgICAgICAgIHNlbGVjdGlvbjogZnVuY3Rpb24gc2VsZWN0aW9uKHByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2VuU29ydENoaXAocHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgdmFyIGhlYWRlciA9IHRoaXMuaGVhZGVycy5maW5kKGZ1bmN0aW9uIChoKSB7XG4gICAgICByZXR1cm4gaC52YWx1ZSA9PT0gJ2RhdGEtdGFibGUtc2VsZWN0JztcbiAgICB9KTtcblxuICAgIGlmIChoZWFkZXIgJiYgIXRoaXMuc2luZ2xlU2VsZWN0KSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6IF9fc3ByZWFkKFsndi1kYXRhLXRhYmxlLWhlYWRlci1tb2JpbGVfX3NlbGVjdCddLCBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wid3JhcEluQXJyYXlcIl0pKGhlYWRlci5jbGFzcykpLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHdpZHRoOiBoZWFkZXIud2lkdGhcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuZ2VuU2VsZWN0QWxsKCldKSk7XG4gICAgfVxuXG4gICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblNvcnRTZWxlY3QoKSk7XG4gICAgdmFyIHRoID0gaCgndGgnLCBbaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGUtaGVhZGVyLW1vYmlsZV9fd3JhcHBlcidcbiAgICB9LCBjaGlsZHJlbildKTtcbiAgICB2YXIgdHIgPSBoKCd0cicsIFt0aF0pO1xuICAgIHJldHVybiBoKCd0aGVhZCcsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1kYXRhLXRhYmxlLWhlYWRlciB2LWRhdGEtdGFibGUtaGVhZGVyLW1vYmlsZSdcbiAgICB9LCBbdHJdKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkVkaXREaWFsb2cuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkVkaXREaWFsb2cuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZFZGl0RGlhbG9nLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkVkaXREaWFsb2cudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZFZGl0RGlhbG9nX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkVkaXREaWFsb2cuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRWRpdERpYWxvZy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRWRpdERpYWxvZ19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZFZGl0RGlhbG9nX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZXR1cm5hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmV0dXJuYWJsZSAqLyBcIi4vc3JjL21peGlucy9yZXR1cm5hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WTWVudSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lbnUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gU3R5bGVzXG4gLy8gTWl4aW5zXG5cblxuIC8vIFV0aWxzXG5cbiAvLyBDb21wb25lbnRcblxuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3JldHVybmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1lZGl0LWRpYWxvZycsXG4gIHByb3BzOiB7XG4gICAgY2FuY2VsVGV4dDoge1xuICAgICAgZGVmYXVsdDogJ0NhbmNlbCdcbiAgICB9LFxuICAgIGxhcmdlOiBCb29sZWFuLFxuICAgIGVhZ2VyOiBCb29sZWFuLFxuICAgIHBlcnNpc3RlbnQ6IEJvb2xlYW4sXG4gICAgc2F2ZVRleHQ6IHtcbiAgICAgIGRlZmF1bHQ6ICdTYXZlJ1xuICAgIH0sXG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3NsaWRlLXgtcmV2ZXJzZS10cmFuc2l0aW9uJ1xuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBY3RpdmU6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ29wZW4nKTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmZvY3VzLCA1MCk7IC8vIEdpdmUgRE9NIHRpbWUgdG8gcGFpbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnKTtcbiAgICB9LFxuICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMuJHJlZnMuY29udGVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgaW5wdXQgJiYgaW5wdXQuZm9jdXMoKTtcbiAgICB9LFxuICAgIGdlbkJ1dHRvbjogZnVuY3Rpb24gZ2VuQnV0dG9uKGZuLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHRleHQ6IHRydWUsXG4gICAgICAgICAgY29sb3I6ICdwcmltYXJ5JyxcbiAgICAgICAgICBsaWdodDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmblxuICAgICAgICB9XG4gICAgICB9LCB0ZXh0KTtcbiAgICB9LFxuICAgIGdlbkFjdGlvbnM6IGZ1bmN0aW9uIGdlbkFjdGlvbnMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBjbGFzczogJ3Ytc21hbGwtZGlhbG9nX19hY3Rpb25zJ1xuICAgICAgfSwgW3RoaXMuZ2VuQnV0dG9uKHRoaXMuY2FuY2VsLCB0aGlzLmNhbmNlbFRleHQpLCB0aGlzLmdlbkJ1dHRvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNhdmUoX3RoaXMucmV0dXJuVmFsdWUpO1xuXG4gICAgICAgIF90aGlzLiRlbWl0KCdzYXZlJyk7XG4gICAgICB9LCB0aGlzLnNhdmVUZXh0KV0pO1xuICAgIH0sXG4gICAgZ2VuQ29udGVudDogZnVuY3Rpb24gZ2VuQ29udGVudCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbWFsbC1kaWFsb2dfX2NvbnRlbnQnLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uIGtleWRvd24oZSkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gX3RoaXMuJHJlZnMuY29udGVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImtleUNvZGVzXCJdLmVzYyAmJiBfdGhpcy5jYW5jZWwoKTtcblxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wia2V5Q29kZXNcIl0uZW50ZXIgJiYgaW5wdXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2F2ZShpbnB1dC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3NhdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogJ2NvbnRlbnQnXG4gICAgICB9LCBbdGhpcy4kc2xvdHMuaW5wdXRdKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGgoX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3Ytc21hbGwtZGlhbG9nJyxcbiAgICAgIGNsYXNzOiB0aGlzLnRoZW1lQ2xhc3NlcyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGNvbnRlbnRDbGFzczogJ3Ytc21hbGwtZGlhbG9nX19tZW51LWNvbnRlbnQnLFxuICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnRyYW5zaXRpb24sXG4gICAgICAgIG9yaWdpbjogJ3RvcCByaWdodCcsXG4gICAgICAgIHJpZ2h0OiB0cnVlLFxuICAgICAgICB2YWx1ZTogdGhpcy5pc0FjdGl2ZSxcbiAgICAgICAgY2xvc2VPbkNsaWNrOiAhdGhpcy5wZXJzaXN0ZW50LFxuICAgICAgICBjbG9zZU9uQ29udGVudENsaWNrOiBmYWxzZSxcbiAgICAgICAgZWFnZXI6IHRoaXMuZWFnZXIsXG4gICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICBkYXJrOiB0aGlzLmRhcmtcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBpbnB1dDogZnVuY3Rpb24gaW5wdXQodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzQWN0aXZlID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2NvcGVkU2xvdHM6IHtcbiAgICAgICAgYWN0aXZhdG9yOiBmdW5jdGlvbiBhY3RpdmF0b3IoX2EpIHtcbiAgICAgICAgICB2YXIgb24gPSBfYS5vbjtcbiAgICAgICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNtYWxsLWRpYWxvZ19fYWN0aXZhdG9yJyxcbiAgICAgICAgICAgIG9uOiBvblxuICAgICAgICAgIH0sIFtoKCdzcGFuJywge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNtYWxsLWRpYWxvZ19fYWN0aXZhdG9yX19jb250ZW50J1xuICAgICAgICAgIH0sIF90aGlzLiRzbG90cy5kZWZhdWx0KV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW3RoaXMuZ2VuQ29udGVudCgpLCB0aGlzLmxhcmdlID8gdGhpcy5nZW5BY3Rpb25zKCkgOiBudWxsXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZTaW1wbGVUYWJsZS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVlNpbXBsZVRhYmxlLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVlNpbXBsZVRhYmxlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZTaW1wbGVUYWJsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaW1wbGVUYWJsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTaW1wbGVUYWJsZS5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZTaW1wbGVUYWJsZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2ltcGxlVGFibGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WU2ltcGxlVGFibGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc2ltcGxlLXRhYmxlJyxcbiAgcHJvcHM6IHtcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICBmaXhlZEhlYWRlcjogQm9vbGVhbixcbiAgICBoZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ11cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtZGF0YS10YWJsZS0tZGVuc2UnOiB0aGlzLmRlbnNlLFxuICAgICAgICAndi1kYXRhLXRhYmxlLS1maXhlZC1oZWlnaHQnOiAhIXRoaXMuaGVpZ2h0ICYmICF0aGlzLmZpeGVkSGVhZGVyLFxuICAgICAgICAndi1kYXRhLXRhYmxlLS1maXhlZC1oZWFkZXInOiB0aGlzLmZpeGVkSGVhZGVyXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3Nlcyk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuV3JhcHBlcjogZnVuY3Rpb24gZ2VuV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRzbG90cy53cmFwcGVyIHx8IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX3dyYXBwZXInLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KVxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgndGFibGUnLCB0aGlzLiRzbG90cy5kZWZhdWx0KV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZScsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSwgW3RoaXMuJHNsb3RzLnRvcCwgdGhpcy5nZW5XcmFwcGVyKCksIHRoaXMuJHNsb3RzLmJvdHRvbV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WVmlydHVhbFRhYmxlLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVlZpcnR1YWxUYWJsZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WVmlydHVhbFRhYmxlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WVmlydHVhbFRhYmxlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZWaXJ0dWFsVGFibGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVmlydHVhbFRhYmxlLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVlZpcnR1YWxUYWJsZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVmlydHVhbFRhYmxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlZpcnR1YWxUYWJsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2ltcGxlVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNpbXBsZVRhYmxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZTaW1wbGVUYWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuIC8vIENvbXBvbmVudHNcblxuXG4gLy8gVXRpbHRpaWVzXG5cbiAvLyBUeXBlc1xuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKF9WU2ltcGxlVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXZpcnR1YWwtdGFibGUnLFxuICBwcm9wczoge1xuICAgIGNodW5rU2l6ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMjVcbiAgICB9LFxuICAgIGhlYWRlckhlaWdodDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogNDhcbiAgICB9LFxuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICByb3dIZWlnaHQ6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDQ4XG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICBvbGRDaHVuazogMCxcbiAgICAgIHNjcm9sbERlYm91bmNlOiBudWxsLFxuICAgICAgaW52YWxpZGF0ZUNhY2hlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaXRlbXNMZW5ndGg6IGZ1bmN0aW9uIGl0ZW1zTGVuZ3RoKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgIH0sXG4gICAgdG90YWxIZWlnaHQ6IGZ1bmN0aW9uIHRvdGFsSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXRlbXNMZW5ndGggKiB0aGlzLnJvd0hlaWdodCArIHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgIH0sXG4gICAgdG9wSW5kZXg6IGZ1bmN0aW9uIHRvcEluZGV4KCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5zY3JvbGxUb3AgLyB0aGlzLnJvd0hlaWdodCk7XG4gICAgfSxcbiAgICBjaHVua0luZGV4OiBmdW5jdGlvbiBjaHVua0luZGV4KCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy50b3BJbmRleCAvIHRoaXMuY2h1bmtTaXplKTtcbiAgICB9LFxuICAgIHN0YXJ0SW5kZXg6IGZ1bmN0aW9uIHN0YXJ0SW5kZXgoKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgdGhpcy5jaHVua0luZGV4ICogdGhpcy5jaHVua1NpemUgLSB0aGlzLmNodW5rU2l6ZSk7XG4gICAgfSxcbiAgICBvZmZzZXRUb3A6IGZ1bmN0aW9uIG9mZnNldFRvcCgpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCB0aGlzLnN0YXJ0SW5kZXggKiB0aGlzLnJvd0hlaWdodCk7XG4gICAgfSxcbiAgICBzdG9wSW5kZXg6IGZ1bmN0aW9uIHN0b3BJbmRleCgpIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0SW5kZXggKyB0aGlzLmNodW5rU2l6ZSAqIDMsIHRoaXMuaXRlbXNMZW5ndGgpO1xuICAgIH0sXG4gICAgb2Zmc2V0Qm90dG9tOiBmdW5jdGlvbiBvZmZzZXRCb3R0b20oKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgKHRoaXMuaXRlbXNMZW5ndGggLSB0aGlzLnN0b3BJbmRleCAtIHRoaXMuc3RhcnRJbmRleCkgKiB0aGlzLnJvd0hlaWdodCk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGNodW5rSW5kZXg6IGZ1bmN0aW9uIGNodW5rSW5kZXgobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICB0aGlzLm9sZENodW5rID0gb2xkVmFsdWU7XG4gICAgfSxcbiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoKSB7XG4gICAgICB0aGlzLmNhY2hlZEl0ZW1zID0gbnVsbDtcbiAgICAgIHRoaXMuJHJlZnMudGFibGUuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5jYWNoZWRJdGVtcyA9IG51bGw7XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zY3JvbGxEZWJvdW5jZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWJvdW5jZVwiXSkodGhpcy5vblNjcm9sbCwgNTApO1xuICAgIHRoaXMuJHJlZnMudGFibGUuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxEZWJvdW5jZSwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMuJHJlZnMudGFibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxEZWJvdW5jZSk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjcmVhdGVTdHlsZUhlaWdodDogZnVuY3Rpb24gY3JlYXRlU3R5bGVIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCArIFwicHhcIlxuICAgICAgfTtcbiAgICB9LFxuICAgIGdlbkJvZHk6IGZ1bmN0aW9uIGdlbkJvZHkoKSB7XG4gICAgICBpZiAodGhpcy5jYWNoZWRJdGVtcyA9PT0gbnVsbCB8fCB0aGlzLmNodW5rSW5kZXggIT09IHRoaXMub2xkQ2h1bmspIHtcbiAgICAgICAgdGhpcy5jYWNoZWRJdGVtcyA9IHRoaXMuZ2VuSXRlbXMoKTtcbiAgICAgICAgdGhpcy5vbGRDaHVuayA9IHRoaXMuY2h1bmtJbmRleDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3Rib2R5JywgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyJywge1xuICAgICAgICBzdHlsZTogdGhpcy5jcmVhdGVTdHlsZUhlaWdodCh0aGlzLm9mZnNldFRvcClcbiAgICAgIH0pLCB0aGlzLmNhY2hlZEl0ZW1zLCB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cicsIHtcbiAgICAgICAgc3R5bGU6IHRoaXMuY3JlYXRlU3R5bGVIZWlnaHQodGhpcy5vZmZzZXRCb3R0b20pXG4gICAgICB9KV0pO1xuICAgIH0sXG4gICAgZ2VuSXRlbXM6IGZ1bmN0aW9uIGdlbkl0ZW1zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLml0ZW1zKHtcbiAgICAgICAgaXRlbXM6IHRoaXMuaXRlbXMuc2xpY2UodGhpcy5zdGFydEluZGV4LCB0aGlzLnN0b3BJbmRleClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHRoaXMuc2Nyb2xsVG9wID0gdGFyZ2V0LnNjcm9sbFRvcDtcbiAgICB9LFxuICAgIGdlblRhYmxlOiBmdW5jdGlvbiBnZW5UYWJsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHJlZjogJ3RhYmxlJyxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXZpcnR1YWwtdGFibGVfX3RhYmxlJ1xuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RhYmxlJywgW3RoaXMuJHNsb3RzWydib2R5LmJlZm9yZSddLCB0aGlzLmdlbkJvZHkoKSwgdGhpcy4kc2xvdHNbJ2JvZHkuYWZ0ZXInXV0pXSk7XG4gICAgfSxcbiAgICBnZW5XcmFwcGVyOiBmdW5jdGlvbiBnZW5XcmFwcGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXZpcnR1YWwtdGFibGVfX3dyYXBwZXInLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KVxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy5nZW5UYWJsZSgpXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1kYXRhLXRhYmxlIHYtdmlydHVhbC10YWJsZScsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSwgW3RoaXMuJHNsb3RzLnRvcCwgdGhpcy5nZW5XcmFwcGVyKCksIHRoaXMuJHNsb3RzLmJvdHRvbV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWRGF0YVRhYmxlLCBWRWRpdERpYWxvZywgVlRhYmxlT3ZlcmZsb3csIFZEYXRhVGFibGVIZWFkZXIsIFZTaW1wbGVUYWJsZSwgVlZpcnR1YWxUYWJsZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFibGVPdmVyZmxvd1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZUYWJsZU92ZXJmbG93OyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFUYWJsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WRGF0YVRhYmxlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGFUYWJsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0YVRhYmxlSGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEYXRhVGFibGVIZWFkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZUhlYWRlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRhVGFibGVIZWFkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGFUYWJsZUhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkVkaXREaWFsb2dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkVkaXREaWFsb2cgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkVkaXREaWFsb2cudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRWRpdERpYWxvZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRWRpdERpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNpbXBsZVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTaW1wbGVUYWJsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9WU2ltcGxlVGFibGUudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2ltcGxlVGFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNpbXBsZVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVmlydHVhbFRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZWaXJ0dWFsVGFibGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVlZpcnR1YWxUYWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZWaXJ0dWFsVGFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlZpcnR1YWxUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuXG5cbnZhciBWVGFibGVPdmVyZmxvdyA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVGdW5jdGlvbmFsXCJdKSgndi10YWJsZV9fb3ZlcmZsb3cnKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkRhdGFUYWJsZTogX1ZEYXRhVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sXG4gICAgVkRhdGFUYWJsZUhlYWRlcjogX1ZEYXRhVGFibGVIZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sXG4gICAgVkVkaXREaWFsb2c6IF9WRWRpdERpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSxcbiAgICBWVGFibGVPdmVyZmxvdzogVlRhYmxlT3ZlcmZsb3csXG4gICAgVlNpbXBsZVRhYmxlOiBfVlNpbXBsZVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLFxuICAgIFZWaXJ0dWFsVGFibGU6IF9WVmlydHVhbFRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvbWl4aW5zL2hlYWRlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvbWl4aW5zL2hlYWRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hlY2tib3hfVlNpbXBsZUNoZWNrYm94X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoKS5leHRlbmQoe1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy82ODcyXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICByaXBwbGU6IF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgICAgICAgICBzb3J0Qnk6IFtdLFxuICAgICAgICAgIHNvcnREZXNjOiBbXSxcbiAgICAgICAgICBncm91cEJ5OiBbXSxcbiAgICAgICAgICBncm91cERlc2M6IFtdLFxuICAgICAgICAgIG11bHRpU29ydDogZmFsc2UsXG4gICAgICAgICAgbXVzdFNvcnQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBzb3J0SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRzb3J0J1xuICAgIH0sXG4gICAgZXZlcnlJdGVtOiBCb29sZWFuLFxuICAgIHNvbWVJdGVtczogQm9vbGVhbixcbiAgICBzaG93R3JvdXBCeTogQm9vbGVhbixcbiAgICBzaW5nbGVTZWxlY3Q6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVNvcnQ6IEJvb2xlYW5cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlblNlbGVjdEFsbDogZnVuY3Rpb24gZ2VuU2VsZWN0QWxsKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuZXZlcnlJdGVtLFxuICAgICAgICAgIGluZGV0ZXJtaW5hdGU6ICF0aGlzLmV2ZXJ5SXRlbSAmJiB0aGlzLnNvbWVJdGVtc1xuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3RvZ2dsZS1zZWxlY3QtYWxsJywgdik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHNbJ2RhdGEtdGFibGUtc2VsZWN0J10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkNoZWNrYm94X1ZTaW1wbGVDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oe1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fY2hlY2tib3gnXG4gICAgICB9LCBkYXRhKSk7XG4gICAgfSxcbiAgICBnZW5Tb3J0SWNvbjogZnVuY3Rpb24gZ2VuU29ydEljb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGUtaGVhZGVyX19pY29uJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBzaXplOiAxOFxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy5zb3J0SWNvbl0pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRlUGlja2VyVGl0bGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGVQaWNrZXJUaXRsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUaXRsZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJIZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGVQaWNrZXJIZWFkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VySGVhZGVyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlckRhdGVUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlckRhdGVUYWJsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJEYXRlVGFibGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRlUGlja2VyTW9udGhUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlck1vbnRoVGFibGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyTW9udGhUYWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJZZWFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlclllYXJzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlclllYXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfbG9jYWxhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbG9jYWxhYmxlICovIFwiLi9zcmMvbWl4aW5zL2xvY2FsYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3BpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3BpY2tlciAqLyBcIi4vc3JjL21peGlucy9waWNrZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9pc0RhdGVBbGxvd2VkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwvaXNEYXRlQWxsb3dlZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pc0RhdGVBbGxvd2VkLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhbGVuZGFyX3V0aWxfdGltZXN0YW1wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkNhbGVuZGFyL3V0aWwvdGltZXN0YW1wICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvdXRpbC90aW1lc3RhbXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTsgLy8gQ29tcG9uZW50c1xuXG5cblxuXG5cblxuIC8vIE1peGluc1xuXG5cbiAvLyBVdGlsc1xuXG5cblxuXG5cbiAvLyBBZGRzIGxlYWRpbmcgemVybyB0byBtb250aC9kYXkgaWYgbmVjZXNzYXJ5LCByZXR1cm5zICdZWVlZJyBpZiB0eXBlID0gJ3llYXInLFxuLy8gJ1lZWVktTU0nIGlmICdtb250aCcgYW5kICdZWVlZLU1NLUREJyBpZiAnZGF0ZSdcblxuZnVuY3Rpb24gc2FuaXRpemVEYXRlU3RyaW5nKGRhdGVTdHJpbmcsIHR5cGUpIHtcbiAgdmFyIF9hID0gX19yZWFkKGRhdGVTdHJpbmcuc3BsaXQoJy0nKSwgMyksXG4gICAgICB5ZWFyID0gX2FbMF0sXG4gICAgICBfYiA9IF9hWzFdLFxuICAgICAgbW9udGggPSBfYiA9PT0gdm9pZCAwID8gMSA6IF9iLFxuICAgICAgX2MgPSBfYVsyXSxcbiAgICAgIGRhdGUgPSBfYyA9PT0gdm9pZCAwID8gMSA6IF9jO1xuXG4gIHJldHVybiAoeWVhciArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKG1vbnRoKSArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKGRhdGUpKS5zdWJzdHIoMCwge1xuICAgIGRhdGU6IDEwLFxuICAgIG1vbnRoOiA3LFxuICAgIHllYXI6IDRcbiAgfVt0eXBlXSk7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfbG9jYWxhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3BpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0ZS1waWNrZXInLFxuICBwcm9wczoge1xuICAgIGFsbG93ZWREYXRlczogRnVuY3Rpb24sXG4gICAgLy8gRnVuY3Rpb24gZm9ybWF0dGluZyB0aGUgZGF5IGluIGRhdGUgcGlja2VyIHRhYmxlXG4gICAgZGF5Rm9ybWF0OiBGdW5jdGlvbixcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBldmVudHM6IHtcbiAgICAgIHR5cGU6IFtBcnJheSwgRnVuY3Rpb24sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudENvbG9yOiB7XG4gICAgICB0eXBlOiBbQXJyYXksIEZ1bmN0aW9uLCBPYmplY3QsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuICd3YXJuaW5nJztcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpcnN0RGF5T2ZXZWVrOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgLy8gRnVuY3Rpb24gZm9ybWF0dGluZyB0aGUgdGFibGVEYXRlIGluIHRoZSBkYXkvbW9udGggdGFibGUgaGVhZGVyXG4gICAgaGVhZGVyRGF0ZUZvcm1hdDogRnVuY3Rpb24sXG4gICAgbWF4OiBTdHJpbmcsXG4gICAgbWluOiBTdHJpbmcsXG4gICAgLy8gRnVuY3Rpb24gZm9ybWF0dGluZyBtb250aCBpbiB0aGUgbW9udGhzIHRhYmxlXG4gICAgbW9udGhGb3JtYXQ6IEZ1bmN0aW9uLFxuICAgIG11bHRpcGxlOiBCb29sZWFuLFxuICAgIG5leHRJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJG5leHQnXG4gICAgfSxcbiAgICBwaWNrZXJEYXRlOiBTdHJpbmcsXG4gICAgcHJldkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcHJldidcbiAgICB9LFxuICAgIHJhbmdlOiBCb29sZWFuLFxuICAgIHJlYWN0aXZlOiBCb29sZWFuLFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHNjcm9sbGFibGU6IEJvb2xlYW4sXG4gICAgc2hvd0N1cnJlbnQ6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgc2VsZWN0ZWRJdGVtc1RleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5kYXRlUGlja2VyLml0ZW1zU2VsZWN0ZWQnXG4gICAgfSxcbiAgICBzaG93V2VlazogQm9vbGVhbixcbiAgICAvLyBGdW5jdGlvbiBmb3JtYXR0aW5nIGN1cnJlbnRseSBzZWxlY3RlZCBkYXRlIGluIHRoZSBwaWNrZXIgdGl0bGVcbiAgICB0aXRsZURhdGVGb3JtYXQ6IEZ1bmN0aW9uLFxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkYXRlJyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFsnZGF0ZScsICdtb250aCddLmluY2x1ZGVzKHR5cGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdmFsdWU6IFtBcnJheSwgU3RyaW5nXSxcbiAgICB3ZWVrZGF5Rm9ybWF0OiBGdW5jdGlvbixcbiAgICAvLyBGdW5jdGlvbiBmb3JtYXR0aW5nIHRoZSB5ZWFyIGluIHRhYmxlIGhlYWRlciBhbmQgcGlja3VwIHRpdGxlXG4gICAgeWVhckZvcm1hdDogRnVuY3Rpb24sXG4gICAgeWVhckljb246IFN0cmluZ1xuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlUGlja2VyOiB0aGlzLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgIGlucHV0RGF5OiBudWxsLFxuICAgICAgaW5wdXRNb250aDogbnVsbCxcbiAgICAgIGlucHV0WWVhcjogbnVsbCxcbiAgICAgIGlzUmV2ZXJzaW5nOiBmYWxzZSxcbiAgICAgIG5vdzogbm93LFxuICAgICAgLy8gdGFibGVEYXRlIGlzIGEgc3RyaW5nIGluICdZWVlZJyAvICdZWVlZLU0nIGZvcm1hdCAobGVhZGluZyB6ZXJvIGZvciBtb250aCBpcyBub3QgcmVxdWlyZWQpXG4gICAgICB0YWJsZURhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLnBpY2tlckRhdGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucGlja2VyRGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRlID0gKF90aGlzLm11bHRpcGxlIHx8IF90aGlzLnJhbmdlID8gX3RoaXMudmFsdWVbX3RoaXMudmFsdWUubGVuZ3RoIC0gMV0gOiBfdGhpcy52YWx1ZSkgfHwgbm93LmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArIChub3cuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICByZXR1cm4gc2FuaXRpemVEYXRlU3RyaW5nKGRhdGUsIF90aGlzLnR5cGUgPT09ICdkYXRlJyA/ICdtb250aCcgOiAneWVhcicpO1xuICAgICAgfSgpXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpc011bHRpcGxlOiBmdW5jdGlvbiBpc011bHRpcGxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgfHwgdGhpcy5yYW5nZTtcbiAgICB9LFxuICAgIGxhc3RWYWx1ZTogZnVuY3Rpb24gbGFzdFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNNdWx0aXBsZSA/IHRoaXMudmFsdWVbdGhpcy52YWx1ZS5sZW5ndGggLSAxXSA6IHRoaXMudmFsdWU7XG4gICAgfSxcbiAgICBzZWxlY3RlZE1vbnRoczogZnVuY3Rpb24gc2VsZWN0ZWRNb250aHMoKSB7XG4gICAgICBpZiAoIXRoaXMudmFsdWUgfHwgIXRoaXMudmFsdWUubGVuZ3RoIHx8IHRoaXMudHlwZSA9PT0gJ21vbnRoJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbC5zdWJzdHIoMCwgNyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyKDAsIDcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3VycmVudDogZnVuY3Rpb24gY3VycmVudCgpIHtcbiAgICAgIGlmICh0aGlzLnNob3dDdXJyZW50ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZURhdGVTdHJpbmcodGhpcy5ub3cuZ2V0RnVsbFllYXIoKSArIFwiLVwiICsgKHRoaXMubm93LmdldE1vbnRoKCkgKyAxKSArIFwiLVwiICsgdGhpcy5ub3cuZ2V0RGF0ZSgpLCB0aGlzLnR5cGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zaG93Q3VycmVudCB8fCBudWxsO1xuICAgIH0sXG4gICAgaW5wdXREYXRlOiBmdW5jdGlvbiBpbnB1dERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlID09PSAnZGF0ZScgPyB0aGlzLmlucHV0WWVhciArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKHRoaXMuaW5wdXRNb250aCArIDEpICsgXCItXCIgKyBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcInBhZFwiXSkodGhpcy5pbnB1dERheSkgOiB0aGlzLmlucHV0WWVhciArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKHRoaXMuaW5wdXRNb250aCArIDEpO1xuICAgIH0sXG4gICAgdGFibGVNb250aDogZnVuY3Rpb24gdGFibGVNb250aCgpIHtcbiAgICAgIHJldHVybiBOdW1iZXIoKHRoaXMucGlja2VyRGF0ZSB8fCB0aGlzLnRhYmxlRGF0ZSkuc3BsaXQoJy0nKVsxXSkgLSAxO1xuICAgIH0sXG4gICAgdGFibGVZZWFyOiBmdW5jdGlvbiB0YWJsZVllYXIoKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKCh0aGlzLnBpY2tlckRhdGUgfHwgdGhpcy50YWJsZURhdGUpLnNwbGl0KCctJylbMF0pO1xuICAgIH0sXG4gICAgbWluTW9udGg6IGZ1bmN0aW9uIG1pbk1vbnRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWluID8gc2FuaXRpemVEYXRlU3RyaW5nKHRoaXMubWluLCAnbW9udGgnKSA6IG51bGw7XG4gICAgfSxcbiAgICBtYXhNb250aDogZnVuY3Rpb24gbWF4TW9udGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXggPyBzYW5pdGl6ZURhdGVTdHJpbmcodGhpcy5tYXgsICdtb250aCcpIDogbnVsbDtcbiAgICB9LFxuICAgIG1pblllYXI6IGZ1bmN0aW9uIG1pblllYXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5taW4gPyBzYW5pdGl6ZURhdGVTdHJpbmcodGhpcy5taW4sICd5ZWFyJykgOiBudWxsO1xuICAgIH0sXG4gICAgbWF4WWVhcjogZnVuY3Rpb24gbWF4WWVhcigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1heCA/IHNhbml0aXplRGF0ZVN0cmluZyh0aGlzLm1heCwgJ3llYXInKSA6IG51bGw7XG4gICAgfSxcbiAgICBmb3JtYXR0ZXJzOiBmdW5jdGlvbiBmb3JtYXR0ZXJzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcjogdGhpcy55ZWFyRm9ybWF0IHx8IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyXCJdKSh0aGlzLmN1cnJlbnRMb2NhbGUsIHtcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgdGltZVpvbmU6ICdVVEMnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBsZW5ndGg6IDRcbiAgICAgICAgfSksXG4gICAgICAgIHRpdGxlRGF0ZTogdGhpcy50aXRsZURhdGVGb3JtYXQgfHwgKHRoaXMuaXNNdWx0aXBsZSA/IHRoaXMuZGVmYXVsdFRpdGxlTXVsdGlwbGVEYXRlRm9ybWF0dGVyIDogdGhpcy5kZWZhdWx0VGl0bGVEYXRlRm9ybWF0dGVyKVxuICAgICAgfTtcbiAgICB9LFxuICAgIGRlZmF1bHRUaXRsZU11bHRpcGxlRGF0ZUZvcm1hdHRlcjogZnVuY3Rpb24gZGVmYXVsdFRpdGxlTXVsdGlwbGVEYXRlRm9ybWF0dGVyKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRlcykge1xuICAgICAgICBpZiAoIWRhdGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiAnLSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmRlZmF1bHRUaXRsZURhdGVGb3JtYXR0ZXIoZGF0ZXNbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLiR2dWV0aWZ5LmxhbmcudChfdGhpcy5zZWxlY3RlZEl0ZW1zVGV4dCwgZGF0ZXMubGVuZ3RoKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBkZWZhdWx0VGl0bGVEYXRlRm9ybWF0dGVyOiBmdW5jdGlvbiBkZWZhdWx0VGl0bGVEYXRlRm9ybWF0dGVyKCkge1xuICAgICAgdmFyIHRpdGxlRm9ybWF0cyA9IHtcbiAgICAgICAgeWVhcjoge1xuICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICB0aW1lWm9uZTogJ1VUQydcbiAgICAgICAgfSxcbiAgICAgICAgbW9udGg6IHtcbiAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgIHRpbWVab25lOiAnVVRDJ1xuICAgICAgICB9LFxuICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICB0aW1lWm9uZTogJ1VUQydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciB0aXRsZURhdGVGb3JtYXR0ZXIgPSBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCB0aXRsZUZvcm1hdHNbdGhpcy50eXBlXSwge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgbGVuZ3RoOiB7XG4gICAgICAgICAgZGF0ZTogMTAsXG4gICAgICAgICAgbW9udGg6IDcsXG4gICAgICAgICAgeWVhcjogNFxuICAgICAgICB9W3RoaXMudHlwZV1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbGFuZHNjYXBlRm9ybWF0dGVyID0gZnVuY3Rpb24gbGFuZHNjYXBlRm9ybWF0dGVyKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlRGF0ZUZvcm1hdHRlcihkYXRlKS5yZXBsYWNlKC8oW15cXGRcXHNdKShbXFxkXSkvZywgZnVuY3Rpb24gKG1hdGNoLCBub25EaWdpdCwgZGlnaXQpIHtcbiAgICAgICAgICByZXR1cm4gbm9uRGlnaXQgKyBcIiBcIiArIGRpZ2l0O1xuICAgICAgICB9KS5yZXBsYWNlKCcsICcsICcsPGJyPicpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXMubGFuZHNjYXBlID8gbGFuZHNjYXBlRm9ybWF0dGVyIDogdGl0bGVEYXRlRm9ybWF0dGVyO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB0YWJsZURhdGU6IGZ1bmN0aW9uIHRhYmxlRGF0ZSh2YWwsIHByZXYpIHtcbiAgICAgIC8vIE1ha2UgYSBJU08gODYwMSBzdHJpbmdzIGZyb20gdmFsIGFuZCBwcmV2IGZvciBjb21wYXJpc2lvbiwgb3RoZXJ3aXNlIGl0IHdpbGwgaW5jb3JyZWN0bHlcbiAgICAgIC8vIGNvbXBhcmUgZm9yIGV4YW1wbGUgJzIwMDAtOScgYW5kICcyMDAwLTEwJ1xuICAgICAgdmFyIHNhbml0aXplVHlwZSA9IHRoaXMudHlwZSA9PT0gJ21vbnRoJyA/ICd5ZWFyJyA6ICdtb250aCc7XG4gICAgICB0aGlzLmlzUmV2ZXJzaW5nID0gc2FuaXRpemVEYXRlU3RyaW5nKHZhbCwgc2FuaXRpemVUeXBlKSA8IHNhbml0aXplRGF0ZVN0cmluZyhwcmV2LCBzYW5pdGl6ZVR5cGUpO1xuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnBpY2tlci1kYXRlJywgdmFsKTtcbiAgICB9LFxuICAgIHBpY2tlckRhdGU6IGZ1bmN0aW9uIHBpY2tlckRhdGUodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIHRoaXMudGFibGVEYXRlID0gdmFsO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxhc3RWYWx1ZSAmJiB0aGlzLnR5cGUgPT09ICdkYXRlJykge1xuICAgICAgICB0aGlzLnRhYmxlRGF0ZSA9IHNhbml0aXplRGF0ZVN0cmluZyh0aGlzLmxhc3RWYWx1ZSwgJ21vbnRoJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubGFzdFZhbHVlICYmIHRoaXMudHlwZSA9PT0gJ21vbnRoJykge1xuICAgICAgICB0aGlzLnRhYmxlRGF0ZSA9IHNhbml0aXplRGF0ZVN0cmluZyh0aGlzLmxhc3RWYWx1ZSwgJ3llYXInKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIHRoaXMuY2hlY2tNdWx0aXBsZVByb3AoKTtcbiAgICAgIHRoaXMuc2V0SW5wdXREYXRlKCk7XG5cbiAgICAgIGlmICghdGhpcy5pc011bHRpcGxlICYmIHRoaXMudmFsdWUgJiYgIXRoaXMucGlja2VyRGF0ZSkge1xuICAgICAgICB0aGlzLnRhYmxlRGF0ZSA9IHNhbml0aXplRGF0ZVN0cmluZyh0aGlzLmlucHV0RGF0ZSwgdGhpcy50eXBlID09PSAnbW9udGgnID8gJ3llYXInIDogJ21vbnRoJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNNdWx0aXBsZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCAmJiAhb2xkVmFsdWUubGVuZ3RoICYmICF0aGlzLnBpY2tlckRhdGUpIHtcbiAgICAgICAgdGhpcy50YWJsZURhdGUgPSBzYW5pdGl6ZURhdGVTdHJpbmcodGhpcy5pbnB1dERhdGUsIHRoaXMudHlwZSA9PT0gJ21vbnRoJyA/ICd5ZWFyJyA6ICdtb250aCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdHlwZTogZnVuY3Rpb24gdHlwZShfdHlwZSkge1xuICAgICAgdGhpcy5hY3RpdmVQaWNrZXIgPSBfdHlwZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gKHRoaXMuaXNNdWx0aXBsZSA/IHRoaXMudmFsdWUgOiBbdGhpcy52YWx1ZV0pLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHNhbml0aXplRGF0ZVN0cmluZyh2YWwsIF90eXBlKTtcbiAgICAgICAgfSkuZmlsdGVyKHRoaXMuaXNEYXRlQWxsb3dlZCk7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5pc011bHRpcGxlID8gb3V0cHV0IDogb3V0cHV0WzBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5jaGVja011bHRpcGxlUHJvcCgpO1xuXG4gICAgaWYgKHRoaXMucGlja2VyRGF0ZSAhPT0gdGhpcy50YWJsZURhdGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpwaWNrZXItZGF0ZScsIHRoaXMudGFibGVEYXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldElucHV0RGF0ZSgpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZW1pdElucHV0OiBmdW5jdGlvbiBlbWl0SW5wdXQobmV3SW5wdXQpIHtcbiAgICAgIGlmICh0aGlzLnJhbmdlICYmIHRoaXMudmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZS5sZW5ndGggPT09IDIgPyB0aGlzLiRlbWl0KCdpbnB1dCcsIFtuZXdJbnB1dF0pIDogdGhpcy4kZW1pdCgnaW5wdXQnLCBfX3NwcmVhZCh0aGlzLnZhbHVlLCBbbmV3SW5wdXRdKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dHB1dCA9IHRoaXMubXVsdGlwbGUgPyB0aGlzLnZhbHVlLmluZGV4T2YobmV3SW5wdXQpID09PSAtMSA/IHRoaXMudmFsdWUuY29uY2F0KFtuZXdJbnB1dF0pIDogdGhpcy52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHggIT09IG5ld0lucHV0O1xuICAgICAgfSkgOiBuZXdJbnB1dDtcbiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0Jywgb3V0cHV0KTtcbiAgICAgIHRoaXMubXVsdGlwbGUgfHwgdGhpcy4kZW1pdCgnY2hhbmdlJywgbmV3SW5wdXQpO1xuICAgIH0sXG4gICAgY2hlY2tNdWx0aXBsZVByb3A6IGZ1bmN0aW9uIGNoZWNrTXVsdGlwbGVQcm9wKCkge1xuICAgICAgaWYgKHRoaXMudmFsdWUgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgdmFyIHZhbHVlVHlwZSA9IHRoaXMudmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgIHZhciBleHBlY3RlZCA9IHRoaXMuaXNNdWx0aXBsZSA/ICdBcnJheScgOiAnU3RyaW5nJztcblxuICAgICAgaWYgKHZhbHVlVHlwZSAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImNvbnNvbGVXYXJuXCJdKShcIlZhbHVlIG11c3QgYmUgXCIgKyAodGhpcy5pc011bHRpcGxlID8gJ2FuJyA6ICdhJykgKyBcIiBcIiArIGV4cGVjdGVkICsgXCIsIGdvdCBcIiArIHZhbHVlVHlwZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0RhdGVBbGxvd2VkOiBmdW5jdGlvbiBpc0RhdGVBbGxvd2VkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2lzRGF0ZUFsbG93ZWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0pKHZhbHVlLCB0aGlzLm1pbiwgdGhpcy5tYXgsIHRoaXMuYWxsb3dlZERhdGVzKTtcbiAgICB9LFxuICAgIHllYXJDbGljazogZnVuY3Rpb24geWVhckNsaWNrKHZhbHVlKSB7XG4gICAgICB0aGlzLmlucHV0WWVhciA9IHZhbHVlO1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgIHRoaXMudGFibGVEYXRlID0gXCJcIiArIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50YWJsZURhdGUgPSB2YWx1ZSArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKCh0aGlzLnRhYmxlTW9udGggfHwgMCkgKyAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVQaWNrZXIgPSAnTU9OVEgnO1xuXG4gICAgICBpZiAodGhpcy5yZWFjdGl2ZSAmJiAhdGhpcy5yZWFkb25seSAmJiAhdGhpcy5pc011bHRpcGxlICYmIHRoaXMuaXNEYXRlQWxsb3dlZCh0aGlzLmlucHV0RGF0ZSkpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmlucHV0RGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb250aENsaWNrOiBmdW5jdGlvbiBtb250aENsaWNrKHZhbHVlKSB7XG4gICAgICB0aGlzLmlucHV0WWVhciA9IHBhcnNlSW50KHZhbHVlLnNwbGl0KCctJylbMF0sIDEwKTtcbiAgICAgIHRoaXMuaW5wdXRNb250aCA9IHBhcnNlSW50KHZhbHVlLnNwbGl0KCctJylbMV0sIDEwKSAtIDE7XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlJykge1xuICAgICAgICBpZiAodGhpcy5pbnB1dERheSkge1xuICAgICAgICAgIHRoaXMuaW5wdXREYXkgPSBNYXRoLm1pbih0aGlzLmlucHV0RGF5LCBPYmplY3QoX1ZDYWxlbmRhcl91dGlsX3RpbWVzdGFtcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRheXNJbk1vbnRoXCJdKSh0aGlzLmlucHV0WWVhciwgdGhpcy5pbnB1dE1vbnRoICsgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWJsZURhdGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5hY3RpdmVQaWNrZXIgPSAnREFURSc7XG5cbiAgICAgICAgaWYgKHRoaXMucmVhY3RpdmUgJiYgIXRoaXMucmVhZG9ubHkgJiYgIXRoaXMuaXNNdWx0aXBsZSAmJiB0aGlzLmlzRGF0ZUFsbG93ZWQodGhpcy5pbnB1dERhdGUpKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmlucHV0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdElucHV0KHRoaXMuaW5wdXREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGVDbGljazogZnVuY3Rpb24gZGF0ZUNsaWNrKHZhbHVlKSB7XG4gICAgICB0aGlzLmlucHV0WWVhciA9IHBhcnNlSW50KHZhbHVlLnNwbGl0KCctJylbMF0sIDEwKTtcbiAgICAgIHRoaXMuaW5wdXRNb250aCA9IHBhcnNlSW50KHZhbHVlLnNwbGl0KCctJylbMV0sIDEwKSAtIDE7XG4gICAgICB0aGlzLmlucHV0RGF5ID0gcGFyc2VJbnQodmFsdWUuc3BsaXQoJy0nKVsyXSwgMTApO1xuICAgICAgdGhpcy5lbWl0SW5wdXQodGhpcy5pbnB1dERhdGUpO1xuICAgIH0sXG4gICAgZ2VuUGlja2VyVGl0bGU6IGZ1bmN0aW9uIGdlblBpY2tlclRpdGxlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZEYXRlUGlja2VyVGl0bGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBkYXRlOiB0aGlzLnZhbHVlID8gdGhpcy5mb3JtYXR0ZXJzLnRpdGxlRGF0ZSh0aGlzLnZhbHVlKSA6ICcnLFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgIHJlYWRvbmx5OiB0aGlzLnJlYWRvbmx5LFxuICAgICAgICAgIHNlbGVjdGluZ1llYXI6IHRoaXMuYWN0aXZlUGlja2VyID09PSAnWUVBUicsXG4gICAgICAgICAgeWVhcjogdGhpcy5mb3JtYXR0ZXJzLnllYXIodGhpcy52YWx1ZSA/IFwiXCIgKyB0aGlzLmlucHV0WWVhciA6IHRoaXMudGFibGVEYXRlKSxcbiAgICAgICAgICB5ZWFySWNvbjogdGhpcy55ZWFySWNvbixcbiAgICAgICAgICB2YWx1ZTogdGhpcy5pc011bHRpcGxlID8gdGhpcy52YWx1ZVswXSA6IHRoaXMudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgc2xvdDogJ3RpdGxlJyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAndXBkYXRlOnNlbGVjdGluZy15ZWFyJzogZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW5nWWVhcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2ZVBpY2tlciA9IHZhbHVlID8gJ1lFQVInIDogX3RoaXMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5UYWJsZUhlYWRlcjogZnVuY3Rpb24gZ2VuVGFibGVIZWFkZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkRhdGVQaWNrZXJIZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuZXh0SWNvbjogdGhpcy5uZXh0SWNvbixcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICBkYXJrOiB0aGlzLmRhcmssXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgZm9ybWF0OiB0aGlzLmhlYWRlckRhdGVGb3JtYXQsXG4gICAgICAgICAgbGlnaHQ6IHRoaXMubGlnaHQsXG4gICAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZSxcbiAgICAgICAgICBtaW46IHRoaXMuYWN0aXZlUGlja2VyID09PSAnREFURScgPyB0aGlzLm1pbk1vbnRoIDogdGhpcy5taW5ZZWFyLFxuICAgICAgICAgIG1heDogdGhpcy5hY3RpdmVQaWNrZXIgPT09ICdEQVRFJyA/IHRoaXMubWF4TW9udGggOiB0aGlzLm1heFllYXIsXG4gICAgICAgICAgcHJldkljb246IHRoaXMucHJldkljb24sXG4gICAgICAgICAgcmVhZG9ubHk6IHRoaXMucmVhZG9ubHksXG4gICAgICAgICAgdmFsdWU6IHRoaXMuYWN0aXZlUGlja2VyID09PSAnREFURScgPyBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcInBhZFwiXSkodGhpcy50YWJsZVllYXIsIDQpICsgXCItXCIgKyBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcInBhZFwiXSkodGhpcy50YWJsZU1vbnRoICsgMSkgOiBcIlwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKHRoaXMudGFibGVZZWFyLCA0KVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2ZVBpY2tlciA9IF90aGlzLmFjdGl2ZVBpY2tlciA9PT0gJ0RBVEUnID8gJ01PTlRIJyA6ICdZRUFSJztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRhYmxlRGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5EYXRlVGFibGU6IGZ1bmN0aW9uIGdlbkRhdGVUYWJsZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WRGF0ZVBpY2tlckRhdGVUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGFsbG93ZWREYXRlczogdGhpcy5hbGxvd2VkRGF0ZXMsXG4gICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50LFxuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICBldmVudHM6IHRoaXMuZXZlbnRzLFxuICAgICAgICAgIGV2ZW50Q29sb3I6IHRoaXMuZXZlbnRDb2xvcixcbiAgICAgICAgICBmaXJzdERheU9mV2VlazogdGhpcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMuZGF5Rm9ybWF0LFxuICAgICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICAgICAgbWluOiB0aGlzLm1pbixcbiAgICAgICAgICBtYXg6IHRoaXMubWF4LFxuICAgICAgICAgIHJhbmdlOiB0aGlzLnJhbmdlLFxuICAgICAgICAgIHJlYWRvbmx5OiB0aGlzLnJlYWRvbmx5LFxuICAgICAgICAgIHNjcm9sbGFibGU6IHRoaXMuc2Nyb2xsYWJsZSxcbiAgICAgICAgICBzaG93V2VlazogdGhpcy5zaG93V2VlayxcbiAgICAgICAgICB0YWJsZURhdGU6IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wicGFkXCJdKSh0aGlzLnRhYmxlWWVhciwgNCkgKyBcIi1cIiArIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wicGFkXCJdKSh0aGlzLnRhYmxlTW9udGggKyAxKSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICB3ZWVrZGF5Rm9ybWF0OiB0aGlzLndlZWtkYXlGb3JtYXRcbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiAndGFibGUnLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGlucHV0OiB0aGlzLmRhdGVDbGljayxcbiAgICAgICAgICAndXBkYXRlOnRhYmxlLWRhdGUnOiBmdW5jdGlvbiB1cGRhdGVUYWJsZURhdGUodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50YWJsZURhdGUgPSB2YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgICdjbGljazpkYXRlJzogZnVuY3Rpb24gY2xpY2tEYXRlKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2NsaWNrOmRhdGUnLCB2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAnZGJsY2xpY2s6ZGF0ZSc6IGZ1bmN0aW9uIGRibGNsaWNrRGF0ZSh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdkYmxjbGljazpkYXRlJywgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5Nb250aFRhYmxlOiBmdW5jdGlvbiBnZW5Nb250aFRhYmxlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZEYXRlUGlja2VyTW9udGhUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGFsbG93ZWREYXRlczogdGhpcy50eXBlID09PSAnbW9udGgnID8gdGhpcy5hbGxvd2VkRGF0ZXMgOiBudWxsLFxuICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgIGN1cnJlbnQ6IHRoaXMuY3VycmVudCA/IHNhbml0aXplRGF0ZVN0cmluZyh0aGlzLmN1cnJlbnQsICdtb250aCcpIDogbnVsbCxcbiAgICAgICAgICBkYXJrOiB0aGlzLmRhcmssXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgZXZlbnRzOiB0aGlzLnR5cGUgPT09ICdtb250aCcgPyB0aGlzLmV2ZW50cyA6IG51bGwsXG4gICAgICAgICAgZXZlbnRDb2xvcjogdGhpcy50eXBlID09PSAnbW9udGgnID8gdGhpcy5ldmVudENvbG9yIDogbnVsbCxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMubW9udGhGb3JtYXQsXG4gICAgICAgICAgbGlnaHQ6IHRoaXMubGlnaHQsXG4gICAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZSxcbiAgICAgICAgICBtaW46IHRoaXMubWluTW9udGgsXG4gICAgICAgICAgbWF4OiB0aGlzLm1heE1vbnRoLFxuICAgICAgICAgIHJlYWRvbmx5OiB0aGlzLnJlYWRvbmx5ICYmIHRoaXMudHlwZSA9PT0gJ21vbnRoJyxcbiAgICAgICAgICBzY3JvbGxhYmxlOiB0aGlzLnNjcm9sbGFibGUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0ZWRNb250aHMsXG4gICAgICAgICAgdGFibGVEYXRlOiBcIlwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJwYWRcIl0pKHRoaXMudGFibGVZZWFyLCA0KVxuICAgICAgICB9LFxuICAgICAgICByZWY6ICd0YWJsZScsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgaW5wdXQ6IHRoaXMubW9udGhDbGljayxcbiAgICAgICAgICAndXBkYXRlOnRhYmxlLWRhdGUnOiBmdW5jdGlvbiB1cGRhdGVUYWJsZURhdGUodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50YWJsZURhdGUgPSB2YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgICdjbGljazptb250aCc6IGZ1bmN0aW9uIGNsaWNrTW9udGgodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgnY2xpY2s6bW9udGgnLCB2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAnZGJsY2xpY2s6bW9udGgnOiBmdW5jdGlvbiBkYmxjbGlja01vbnRoKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2RibGNsaWNrOm1vbnRoJywgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5ZZWFyczogZnVuY3Rpb24gZ2VuWWVhcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkRhdGVQaWNrZXJZZWFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgIGZvcm1hdDogdGhpcy55ZWFyRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICAgICAgbWluOiB0aGlzLm1pblllYXIsXG4gICAgICAgICAgbWF4OiB0aGlzLm1heFllYXIsXG4gICAgICAgICAgdmFsdWU6IHRoaXMudGFibGVZZWFyXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgaW5wdXQ6IHRoaXMueWVhckNsaWNrXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuUGlja2VyQm9keTogZnVuY3Rpb24gZ2VuUGlja2VyQm9keSgpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuYWN0aXZlUGlja2VyID09PSAnWUVBUicgPyBbdGhpcy5nZW5ZZWFycygpXSA6IFt0aGlzLmdlblRhYmxlSGVhZGVyKCksIHRoaXMuYWN0aXZlUGlja2VyID09PSAnREFURScgPyB0aGlzLmdlbkRhdGVUYWJsZSgpIDogdGhpcy5nZW5Nb250aFRhYmxlKCldO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAga2V5OiB0aGlzLmFjdGl2ZVBpY2tlclxuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgc2V0SW5wdXREYXRlOiBmdW5jdGlvbiBzZXRJbnB1dERhdGUoKSB7XG4gICAgICBpZiAodGhpcy5sYXN0VmFsdWUpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5sYXN0VmFsdWUuc3BsaXQoJy0nKTtcbiAgICAgICAgdGhpcy5pbnB1dFllYXIgPSBwYXJzZUludChhcnJheVswXSwgMTApO1xuICAgICAgICB0aGlzLmlucHV0TW9udGggPSBwYXJzZUludChhcnJheVsxXSwgMTApIC0gMTtcblxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnZGF0ZScpIHtcbiAgICAgICAgICB0aGlzLmlucHV0RGF5ID0gcGFyc2VJbnQoYXJyYXlbMl0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnB1dFllYXIgPSB0aGlzLmlucHV0WWVhciB8fCB0aGlzLm5vdy5nZXRGdWxsWWVhcigpO1xuICAgICAgICB0aGlzLmlucHV0TW9udGggPSB0aGlzLmlucHV0TW9udGggPT0gbnVsbCA/IHRoaXMuaW5wdXRNb250aCA6IHRoaXMubm93LmdldE1vbnRoKCk7XG4gICAgICAgIHRoaXMuaW5wdXREYXkgPSB0aGlzLmlucHV0RGF5IHx8IHRoaXMubm93LmdldERhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmdlblBpY2tlcigndi1waWNrZXItLWRhdGUnKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyRGF0ZVRhYmxlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlckRhdGVUYWJsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19kYXRlX3BpY2tlcl90YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9taXhpbnMvZGF0ZS1waWNrZXItdGFibGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL21peGlucy9kYXRlLXBpY2tlci10YWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci91dGlsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vLyBNaXhpbnNcbiAvLyBVdGlsc1xuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfZGF0ZV9waWNrZXJfdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWRhdGUtcGlja2VyLWRhdGUtdGFibGUnLFxuICBwcm9wczoge1xuICAgIGZpcnN0RGF5T2ZXZWVrOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgc2hvd1dlZWs6IEJvb2xlYW4sXG4gICAgd2Vla2RheUZvcm1hdDogRnVuY3Rpb25cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdCB8fCBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCB7XG4gICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICB0aW1lWm9uZTogJ1VUQydcbiAgICAgIH0sIHtcbiAgICAgICAgc3RhcnQ6IDgsXG4gICAgICAgIGxlbmd0aDogMlxuICAgICAgfSk7XG4gICAgfSxcbiAgICB3ZWVrZGF5Rm9ybWF0dGVyOiBmdW5jdGlvbiB3ZWVrZGF5Rm9ybWF0dGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMud2Vla2RheUZvcm1hdCB8fCBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiXSkodGhpcy5jdXJyZW50TG9jYWxlLCB7XG4gICAgICAgIHdlZWtkYXk6ICduYXJyb3cnLFxuICAgICAgICB0aW1lWm9uZTogJ1VUQydcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgd2Vla0RheXM6IGZ1bmN0aW9uIHdlZWtEYXlzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGZpcnN0ID0gcGFyc2VJbnQodGhpcy5maXJzdERheU9mV2VlaywgMTApO1xuICAgICAgcmV0dXJuIHRoaXMud2Vla2RheUZvcm1hdHRlciA/IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjcmVhdGVSYW5nZVwiXSkoNykubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy53ZWVrZGF5Rm9ybWF0dGVyKFwiMjAxNy0wMS1cIiArIChmaXJzdCArIGkgKyAxNSkpO1xuICAgICAgfSkgLy8gMjAxNy0wMS0xNSBpcyBTdW5kYXlcbiAgICAgIDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNyZWF0ZVJhbmdlXCJdKSg3KS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddWyhpICsgZmlyc3QpICUgN107XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjYWxjdWxhdGVUYWJsZURhdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVRhYmxlRGF0ZShkZWx0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wibW9udGhDaGFuZ2VcIl0pKHRoaXMudGFibGVEYXRlLCBNYXRoLnNpZ24oZGVsdGEgfHwgMSkpO1xuICAgIH0sXG4gICAgZ2VuVEhlYWQ6IGZ1bmN0aW9uIGdlblRIZWFkKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGRheXMgPSB0aGlzLndlZWtEYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy4kY3JlYXRlRWxlbWVudCgndGgnLCBkYXkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNob3dXZWVrICYmIGRheXMudW5zaGlmdCh0aGlzLiRjcmVhdGVFbGVtZW50KCd0aCcpKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0aGVhZCcsIHRoaXMuZ2VuVFIoZGF5cykpO1xuICAgIH0sXG4gICAgLy8gUmV0dXJucyBudW1iZXIgb2YgdGhlIGRheXMgZnJvbSB0aGUgZmlyc3REYXlPZldlZWsgdG8gdGhlIGZpcnN0IGRheSBvZiB0aGUgY3VycmVudCBtb250aFxuICAgIHdlZWtEYXlzQmVmb3JlRmlyc3REYXlPZlRoZU1vbnRoOiBmdW5jdGlvbiB3ZWVrRGF5c0JlZm9yZUZpcnN0RGF5T2ZUaGVNb250aCgpIHtcbiAgICAgIHZhciBmaXJzdERheU9mVGhlTW9udGggPSBuZXcgRGF0ZSh0aGlzLmRpc3BsYXllZFllYXIgKyBcIi1cIiArIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicGFkXCJdKSh0aGlzLmRpc3BsYXllZE1vbnRoICsgMSkgKyBcIi0wMVQwMDowMDowMCswMDowMFwiKTtcbiAgICAgIHZhciB3ZWVrRGF5ID0gZmlyc3REYXlPZlRoZU1vbnRoLmdldFVUQ0RheSgpO1xuICAgICAgcmV0dXJuICh3ZWVrRGF5IC0gcGFyc2VJbnQodGhpcy5maXJzdERheU9mV2VlaykgKyA3KSAlIDc7XG4gICAgfSxcbiAgICBnZXRXZWVrTnVtYmVyOiBmdW5jdGlvbiBnZXRXZWVrTnVtYmVyKCkge1xuICAgICAgdmFyIGRheU9mWWVhciA9IFswLCAzMSwgNTksIDkwLCAxMjAsIDE1MSwgMTgxLCAyMTIsIDI0MywgMjczLCAzMDQsIDMzNF1bdGhpcy5kaXNwbGF5ZWRNb250aF07XG5cbiAgICAgIGlmICh0aGlzLmRpc3BsYXllZE1vbnRoID4gMSAmJiAodGhpcy5kaXNwbGF5ZWRZZWFyICUgNCA9PT0gMCAmJiB0aGlzLmRpc3BsYXllZFllYXIgJSAxMDAgIT09IDAgfHwgdGhpcy5kaXNwbGF5ZWRZZWFyICUgNDAwID09PSAwKSkge1xuICAgICAgICBkYXlPZlllYXIrKztcbiAgICAgIH1cblxuICAgICAgdmFyIG9mZnNldCA9ICh0aGlzLmRpc3BsYXllZFllYXIgKyAodGhpcy5kaXNwbGF5ZWRZZWFyIC0gMSA+PiAyKSAtIE1hdGguZmxvb3IoKHRoaXMuZGlzcGxheWVkWWVhciAtIDEpIC8gMTAwKSArIE1hdGguZmxvb3IoKHRoaXMuZGlzcGxheWVkWWVhciAtIDEpIC8gNDAwKSAtIE51bWJlcih0aGlzLmZpcnN0RGF5T2ZXZWVrKSkgJSA3OyAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9aZWxsZXIlMjdzX2NvbmdydWVuY2VcblxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGRheU9mWWVhciArIG9mZnNldCkgLyA3KSArIDE7XG4gICAgfSxcbiAgICBnZW5XZWVrTnVtYmVyOiBmdW5jdGlvbiBnZW5XZWVrTnVtYmVyKHdlZWtOdW1iZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcsIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdzbWFsbCcsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGUtcGlja2VyLXRhYmxlLS1kYXRlX193ZWVrJ1xuICAgICAgfSwgU3RyaW5nKHdlZWtOdW1iZXIpLnBhZFN0YXJ0KDIsICcwJykpXSk7XG4gICAgfSxcbiAgICBnZW5UQm9keTogZnVuY3Rpb24gZ2VuVEJvZHkoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZhciBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKHRoaXMuZGlzcGxheWVkWWVhciwgdGhpcy5kaXNwbGF5ZWRNb250aCArIDEsIDApLmdldERhdGUoKTtcbiAgICAgIHZhciByb3dzID0gW107XG4gICAgICB2YXIgZGF5ID0gdGhpcy53ZWVrRGF5c0JlZm9yZUZpcnN0RGF5T2ZUaGVNb250aCgpO1xuICAgICAgdmFyIHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoKTtcbiAgICAgIHRoaXMuc2hvd1dlZWsgJiYgcm93cy5wdXNoKHRoaXMuZ2VuV2Vla051bWJlcih3ZWVrTnVtYmVyKyspKTtcblxuICAgICAgd2hpbGUgKGRheS0tKSB7XG4gICAgICAgIHJvd3MucHVzaCh0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcpKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChkYXkgPSAxOyBkYXkgPD0gZGF5c0luTW9udGg7IGRheSsrKSB7XG4gICAgICAgIHZhciBkYXRlID0gdGhpcy5kaXNwbGF5ZWRZZWFyICsgXCItXCIgKyBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhZFwiXSkodGhpcy5kaXNwbGF5ZWRNb250aCArIDEpICsgXCItXCIgKyBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhZFwiXSkoZGF5KTtcbiAgICAgICAgcm93cy5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RkJywgW3RoaXMuZ2VuQnV0dG9uKGRhdGUsIHRydWUsICdkYXRlJywgdGhpcy5mb3JtYXR0ZXIpXSkpO1xuXG4gICAgICAgIGlmIChyb3dzLmxlbmd0aCAlICh0aGlzLnNob3dXZWVrID8gOCA6IDcpID09PSAwKSB7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblRSKHJvd3MpKTtcbiAgICAgICAgICByb3dzID0gW107XG4gICAgICAgICAgZGF5IDwgZGF5c0luTW9udGggJiYgdGhpcy5zaG93V2VlayAmJiByb3dzLnB1c2godGhpcy5nZW5XZWVrTnVtYmVyKHdlZWtOdW1iZXIrKykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuVFIocm93cykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGJvZHknLCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5UUjogZnVuY3Rpb24gZ2VuVFIoY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBbdGhpcy4kY3JlYXRlRWxlbWVudCgndHInLCBjaGlsZHJlbildO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuVGFibGUoJ3YtZGF0ZS1waWNrZXItdGFibGUgdi1kYXRlLXBpY2tlci10YWJsZS0tZGF0ZScsIFt0aGlzLmdlblRIZWFkKCksIHRoaXMuZ2VuVEJvZHkoKV0sIHRoaXMuY2FsY3VsYXRlVGFibGVEYXRlKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VySGVhZGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJIZWFkZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJIZWFkZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VySGVhZGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJIZWFkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlckhlYWRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlckhlYWRlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlckhlYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZEYXRlUGlja2VySGVhZGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfbG9jYWxhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbG9jYWxhYmxlICovIFwiLi9zcmMvbWl4aW5zL2xvY2FsYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbiAvLyBDb21wb25lbnRzXG5cblxuIC8vIE1peGluc1xuXG5cblxuIC8vIFV0aWxzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2xvY2FsYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWRhdGUtcGlja2VyLWhlYWRlcicsXG4gIHByb3BzOiB7XG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZm9ybWF0OiBGdW5jdGlvbixcbiAgICBtaW46IFN0cmluZyxcbiAgICBtYXg6IFN0cmluZyxcbiAgICBuZXh0SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRuZXh0J1xuICAgIH0sXG4gICAgcHJldkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcHJldidcbiAgICB9LFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzUmV2ZXJzaW5nOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoKSB7XG4gICAgICBpZiAodGhpcy5mb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0O1xuICAgICAgfSBlbHNlIGlmIChTdHJpbmcodGhpcy52YWx1ZSkuc3BsaXQoJy0nKVsxXSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJcIl0pKHRoaXMuY3VycmVudExvY2FsZSwge1xuICAgICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgIHRpbWVab25lOiAnVVRDJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgbGVuZ3RoOiA3XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyXCJdKSh0aGlzLmN1cnJlbnRMb2NhbGUsIHtcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgdGltZVpvbmU6ICdVVEMnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBsZW5ndGg6IDRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgdGhpcy5pc1JldmVyc2luZyA9IG5ld1ZhbCA8IG9sZFZhbDtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5CdG46IGZ1bmN0aW9uIGdlbkJ0bihjaGFuZ2UpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBkaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQgfHwgY2hhbmdlIDwgMCAmJiB0aGlzLm1pbiAmJiB0aGlzLmNhbGN1bGF0ZUNoYW5nZShjaGFuZ2UpIDwgdGhpcy5taW4gfHwgY2hhbmdlID4gMCAmJiB0aGlzLm1heCAmJiB0aGlzLmNhbGN1bGF0ZUNoYW5nZShjaGFuZ2UpID4gdGhpcy5tYXg7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkJ0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgaWNvbjogdHJ1ZSxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodFxuICAgICAgICB9LFxuICAgICAgICBuYXRpdmVPbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCBfdGhpcy5jYWxjdWxhdGVDaGFuZ2UoY2hhbmdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIGNoYW5nZSA8IDAgPT09ICF0aGlzLiR2dWV0aWZ5LnJ0bCA/IHRoaXMucHJldkljb24gOiB0aGlzLm5leHRJY29uKV0pO1xuICAgIH0sXG4gICAgY2FsY3VsYXRlQ2hhbmdlOiBmdW5jdGlvbiBjYWxjdWxhdGVDaGFuZ2Uoc2lnbikge1xuICAgICAgdmFyIF9hID0gX19yZWFkKFN0cmluZyh0aGlzLnZhbHVlKS5zcGxpdCgnLScpLm1hcChOdW1iZXIpLCAyKSxcbiAgICAgICAgICB5ZWFyID0gX2FbMF0sXG4gICAgICAgICAgbW9udGggPSBfYVsxXTtcblxuICAgICAgaWYgKG1vbnRoID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyAoeWVhciArIHNpZ24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wibW9udGhDaGFuZ2VcIl0pKFN0cmluZyh0aGlzLnZhbHVlKSwgc2lnbik7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZW5IZWFkZXI6IGZ1bmN0aW9uIGdlbkhlYWRlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjb2xvciA9ICF0aGlzLmRpc2FibGVkICYmICh0aGlzLmNvbG9yIHx8ICdhY2NlbnQnKTtcbiAgICAgIHZhciBoZWFkZXIgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldFRleHRDb2xvcihjb2xvciwge1xuICAgICAgICBrZXk6IFN0cmluZyh0aGlzLnZhbHVlKVxuICAgICAgfSksIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ3RvZ2dsZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuJHNsb3RzLmRlZmF1bHQgfHwgdGhpcy5mb3JtYXR0ZXIoU3RyaW5nKHRoaXMudmFsdWUpKV0pXSk7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyYW5zaXRpb24nLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgbmFtZTogdGhpcy5pc1JldmVyc2luZyA9PT0gIXRoaXMuJHZ1ZXRpZnkucnRsID8gJ3RhYi1yZXZlcnNlLXRyYW5zaXRpb24nIDogJ3RhYi10cmFuc2l0aW9uJ1xuICAgICAgICB9XG4gICAgICB9LCBbaGVhZGVyXSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0ZS1waWNrZXItaGVhZGVyX192YWx1ZScsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtZGF0ZS1waWNrZXItaGVhZGVyX192YWx1ZS0tZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIH0sIFt0cmFuc2l0aW9uXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGUtcGlja2VyLWhlYWRlcicsXG4gICAgICBjbGFzczogX19hc3NpZ24oe1xuICAgICAgICAndi1kYXRlLXBpY2tlci1oZWFkZXItLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZFxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpXG4gICAgfSwgW3RoaXMuZ2VuQnRuKC0xKSwgdGhpcy5nZW5IZWFkZXIoKSwgdGhpcy5nZW5CdG4oKzEpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlck1vbnRoVGFibGUudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlck1vbnRoVGFibGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RhdGVfcGlja2VyX3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21peGlucy9kYXRlLXBpY2tlci10YWJsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvbWl4aW5zL2RhdGUtcGlja2VyLXRhYmxlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gTWl4aW5zXG4gLy8gVXRpbHNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX21peGluc19kYXRlX3BpY2tlcl90YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0ZS1waWNrZXItbW9udGgtdGFibGUnLFxuICBjb21wdXRlZDoge1xuICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0IHx8IE9iamVjdChfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyXCJdKSh0aGlzLmN1cnJlbnRMb2NhbGUsIHtcbiAgICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICAgIHRpbWVab25lOiAnVVRDJ1xuICAgICAgfSwge1xuICAgICAgICBzdGFydDogNSxcbiAgICAgICAgbGVuZ3RoOiAyXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjYWxjdWxhdGVUYWJsZURhdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVRhYmxlRGF0ZShkZWx0YSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyAocGFyc2VJbnQodGhpcy50YWJsZURhdGUsIDEwKSArIE1hdGguc2lnbihkZWx0YSB8fCAxKSk7XG4gICAgfSxcbiAgICBnZW5UQm9keTogZnVuY3Rpb24gZ2VuVEJvZHkoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZhciBjb2xzID0gQXJyYXkoMykuZmlsbChudWxsKTtcbiAgICAgIHZhciByb3dzID0gMTIgLyBjb2xzLmxlbmd0aDtcblxuICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiBfbG9vcF8xKHJvdykge1xuICAgICAgICB2YXIgdGRzID0gY29scy5tYXAoZnVuY3Rpb24gKF8sIGNvbCkge1xuICAgICAgICAgIHZhciBtb250aCA9IHJvdyAqIGNvbHMubGVuZ3RoICsgY29sO1xuICAgICAgICAgIHZhciBkYXRlID0gX3RoaXMuZGlzcGxheWVkWWVhciArIFwiLVwiICsgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJwYWRcIl0pKG1vbnRoICsgMSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgIGtleTogbW9udGhcbiAgICAgICAgICB9LCBbX3RoaXMuZ2VuQnV0dG9uKGRhdGUsIGZhbHNlLCAnbW9udGgnLCBfdGhpcy5mb3JtYXR0ZXIpXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXNfMS4kY3JlYXRlRWxlbWVudCgndHInLCB7XG4gICAgICAgICAga2V5OiByb3dcbiAgICAgICAgfSwgdGRzKSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgdGhpc18xID0gdGhpcztcblxuICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgX2xvb3BfMShyb3cpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGJvZHknLCBjaGlsZHJlbik7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZW5UYWJsZSgndi1kYXRlLXBpY2tlci10YWJsZSB2LWRhdGUtcGlja2VyLXRhYmxlLS1tb250aCcsIFt0aGlzLmdlblRCb2R5KCldLCB0aGlzLmNhbGN1bGF0ZVRhYmxlRGF0ZSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlclRhYmxlLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlclRhYmxlLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUaXRsZS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUaXRsZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyVGl0bGUudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUaXRsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJUaXRsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEYXRlUGlja2VyVGl0bGUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUaXRsZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlclRpdGxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkRhdGVQaWNrZXJUaXRsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcGlja2VyX2J1dHRvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3BpY2tlci1idXR0b24gKi8gXCIuL3NyYy9taXhpbnMvcGlja2VyLWJ1dHRvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4gLy8gQ29tcG9uZW50c1xuXG4gLy8gTWl4aW5zXG5cbiAvLyBVdGlsc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX21peGluc19waWNrZXJfYnV0dG9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi1kYXRlLXBpY2tlci10aXRsZScsXG4gIHByb3BzOiB7XG4gICAgZGF0ZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHNlbGVjdGluZ1llYXI6IEJvb2xlYW4sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgeWVhcjoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICB5ZWFySWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1JldmVyc2luZzogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkVHJhbnNpdGlvbjogZnVuY3Rpb24gY29tcHV0ZWRUcmFuc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNSZXZlcnNpbmcgPyAncGlja2VyLXJldmVyc2UtdHJhbnNpdGlvbicgOiAncGlja2VyLXRyYW5zaXRpb24nO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsLCBwcmV2KSB7XG4gICAgICB0aGlzLmlzUmV2ZXJzaW5nID0gdmFsIDwgcHJldjtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5ZZWFySWNvbjogZnVuY3Rpb24gZ2VuWWVhckljb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBkYXJrOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMueWVhckljb24pO1xuICAgIH0sXG4gICAgZ2V0WWVhckJ0bjogZnVuY3Rpb24gZ2V0WWVhckJ0bigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlblBpY2tlckJ1dHRvbignc2VsZWN0aW5nWWVhcicsIHRydWUsIFtTdHJpbmcodGhpcy55ZWFyKSwgdGhpcy55ZWFySWNvbiA/IHRoaXMuZ2VuWWVhckljb24oKSA6IG51bGxdLCBmYWxzZSwgJ3YtZGF0ZS1waWNrZXItdGl0bGVfX3llYXInKTtcbiAgICB9LFxuICAgIGdlblRpdGxlVGV4dDogZnVuY3Rpb24gZ2VuVGl0bGVUZXh0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyYW5zaXRpb24nLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgbmFtZTogdGhpcy5jb21wdXRlZFRyYW5zaXRpb25cbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICBpbm5lckhUTUw6IHRoaXMuZGF0ZSB8fCAnJm5ic3A7J1xuICAgICAgICB9LFxuICAgICAgICBrZXk6IHRoaXMudmFsdWVcbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICBnZW5UaXRsZURhdGU6IGZ1bmN0aW9uIGdlblRpdGxlRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlblBpY2tlckJ1dHRvbignc2VsZWN0aW5nWWVhcicsIGZhbHNlLCBbdGhpcy5nZW5UaXRsZVRleHQoKV0sIGZhbHNlLCAndi1kYXRlLXBpY2tlci10aXRsZV9fZGF0ZScpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZGF0ZS1waWNrZXItdGl0bGUnLFxuICAgICAgY2xhc3M6IHtcbiAgICAgICAgJ3YtZGF0ZS1waWNrZXItdGl0bGUtLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZFxuICAgICAgfVxuICAgIH0sIFt0aGlzLmdldFllYXJCdG4oKSwgdGhpcy5nZW5UaXRsZURhdGUoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJZZWFycy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJZZWFycy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyWWVhcnMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJZZWFycy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJZZWFyc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEYXRlUGlja2VyWWVhcnMuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJZZWFycy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlclllYXJzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkRhdGVQaWNrZXJZZWFyc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2xvY2FsYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2xvY2FsYWJsZSAqLyBcIi4vc3JjL21peGlucy9sb2NhbGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4gLy8gTWl4aW5zXG5cblxuIC8vIFV0aWxzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2xvY2FsYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGF0ZS1waWNrZXIteWVhcnMnLFxuICBwcm9wczoge1xuICAgIGZvcm1hdDogRnVuY3Rpb24sXG4gICAgbWluOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgIG1heDogW051bWJlciwgU3RyaW5nXSxcbiAgICByZWFkb25seTogQm9vbGVhbixcbiAgICB2YWx1ZTogW051bWJlciwgU3RyaW5nXVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkZWZhdWx0Q29sb3I6ICdwcmltYXJ5J1xuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXQgfHwgT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJcIl0pKHRoaXMuY3VycmVudExvY2FsZSwge1xuICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgIHRpbWVab25lOiAnVVRDJ1xuICAgICAgfSwge1xuICAgICAgICBsZW5ndGg6IDRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlSXRlbSA9IF90aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcblxuICAgICAgaWYgKGFjdGl2ZUl0ZW0pIHtcbiAgICAgICAgX3RoaXMuJGVsLnNjcm9sbFRvcCA9IGFjdGl2ZUl0ZW0ub2Zmc2V0VG9wIC0gX3RoaXMuJGVsLm9mZnNldEhlaWdodCAvIDIgKyBhY3RpdmVJdGVtLm9mZnNldEhlaWdodCAvIDI7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLm1pbiAmJiAhX3RoaXMubWF4KSB7XG4gICAgICAgIF90aGlzLiRlbC5zY3JvbGxUb3AgPSBfdGhpcy4kZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmICghX3RoaXMubWluICYmIF90aGlzLm1heCkge1xuICAgICAgICBfdGhpcy4kZWwuc2Nyb2xsVG9wID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLiRlbC5zY3JvbGxUb3AgPSBfdGhpcy4kZWwuc2Nyb2xsSGVpZ2h0IC8gMiAtIF90aGlzLiRlbC5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuWWVhckl0ZW06IGZ1bmN0aW9uIGdlblllYXJJdGVtKHllYXIpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdHRlcihcIlwiICsgeWVhcik7XG4gICAgICB2YXIgYWN0aXZlID0gcGFyc2VJbnQodGhpcy52YWx1ZSwgMTApID09PSB5ZWFyO1xuICAgICAgdmFyIGNvbG9yID0gYWN0aXZlICYmICh0aGlzLmNvbG9yIHx8ICdwcmltYXJ5Jyk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnbGknLCB0aGlzLnNldFRleHRDb2xvcihjb2xvciwge1xuICAgICAgICBrZXk6IHllYXIsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgYWN0aXZlOiBhY3RpdmVcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2lucHV0JywgeWVhcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSwgZm9ybWF0dGVkKTtcbiAgICB9LFxuICAgIGdlblllYXJJdGVtczogZnVuY3Rpb24gZ2VuWWVhckl0ZW1zKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgICB2YXIgc2VsZWN0ZWRZZWFyID0gdGhpcy52YWx1ZSA/IHBhcnNlSW50KHRoaXMudmFsdWUsIDEwKSA6IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHZhciBtYXhZZWFyID0gdGhpcy5tYXggPyBwYXJzZUludCh0aGlzLm1heCwgMTApIDogc2VsZWN0ZWRZZWFyICsgMTAwO1xuICAgICAgdmFyIG1pblllYXIgPSBNYXRoLm1pbihtYXhZZWFyLCB0aGlzLm1pbiA/IHBhcnNlSW50KHRoaXMubWluLCAxMCkgOiBzZWxlY3RlZFllYXIgLSAxMDApO1xuXG4gICAgICBmb3IgKHZhciB5ZWFyID0gbWF4WWVhcjsgeWVhciA+PSBtaW5ZZWFyOyB5ZWFyLS0pIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblllYXJJdGVtKHllYXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3VsJywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGUtcGlja2VyLXllYXJzJyxcbiAgICAgIHJlZjogJ3llYXJzJ1xuICAgIH0sIHRoaXMuZ2VuWWVhckl0ZW1zKCkpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkRhdGVQaWNrZXIsIFZEYXRlUGlja2VyVGl0bGUsIFZEYXRlUGlja2VySGVhZGVyLCBWRGF0ZVBpY2tlckRhdGVUYWJsZSwgVkRhdGVQaWNrZXJNb250aFRhYmxlLCBWRGF0ZVBpY2tlclllYXJzLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0ZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0ZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJUaXRsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlclRpdGxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9WRGF0ZVBpY2tlclRpdGxlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGVQaWNrZXJUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0ZVBpY2tlclRpdGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlckhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlckhlYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJIZWFkZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0ZVBpY2tlckhlYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0ZVBpY2tlckhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJEYXRlVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGVQaWNrZXJEYXRlVGFibGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyRGF0ZVRhYmxlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGVQaWNrZXJEYXRlVGFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJEYXRlVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRlUGlja2VyTW9udGhUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0ZVBpY2tlck1vbnRoVGFibGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL1ZEYXRlUGlja2VyTW9udGhUYWJsZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRlUGlja2VyTW9udGhUYWJsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0ZVBpY2tlck1vbnRoVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRlUGlja2VyWWVhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGVQaWNrZXJZZWFycyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJZZWFycy50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRlUGlja2VyWWVhcnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJZZWFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkRhdGVQaWNrZXI6IF9WRGF0ZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgICBWRGF0ZVBpY2tlclRpdGxlOiBfVkRhdGVQaWNrZXJUaXRsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgICBWRGF0ZVBpY2tlckhlYWRlcjogX1ZEYXRlUGlja2VySGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICAgIFZEYXRlUGlja2VyRGF0ZVRhYmxlOiBfVkRhdGVQaWNrZXJEYXRlVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sXG4gICAgVkRhdGVQaWNrZXJNb250aFRhYmxlOiBfVkRhdGVQaWNrZXJNb250aFRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLFxuICAgIFZEYXRlUGlja2VyWWVhcnM6IF9WRGF0ZVBpY2tlclllYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL21peGlucy9kYXRlLXBpY2tlci10YWJsZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL21peGlucy9kYXRlLXBpY2tlci10YWJsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlclRhYmxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZEYXRlUGlja2VyVGFibGUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvVkRhdGVQaWNrZXJUYWJsZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlclRhYmxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkRhdGVQaWNrZXJUYWJsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9kaXJlY3RpdmVzL3RvdWNoICovIFwiLi9zcmMvZGlyZWN0aXZlcy90b3VjaC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19sb2NhbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uLy4uL21peGlucy9sb2NhbGFibGUgKi8gXCIuL3NyYy9taXhpbnMvbG9jYWxhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9pc0RhdGVBbGxvd2VkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL2lzRGF0ZUFsbG93ZWQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvaXNEYXRlQWxsb3dlZC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgX21peGluc19sb2NhbGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBkaXJlY3RpdmVzOiB7XG4gICAgVG91Y2g6IF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgYWxsb3dlZERhdGVzOiBGdW5jdGlvbixcbiAgICBjdXJyZW50OiBTdHJpbmcsXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZm9ybWF0OiBGdW5jdGlvbixcbiAgICBldmVudHM6IHtcbiAgICAgIHR5cGU6IFtBcnJheSwgRnVuY3Rpb24sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudENvbG9yOiB7XG4gICAgICB0eXBlOiBbQXJyYXksIEZ1bmN0aW9uLCBPYmplY3QsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuICd3YXJuaW5nJztcbiAgICAgIH1cbiAgICB9LFxuICAgIG1pbjogU3RyaW5nLFxuICAgIG1heDogU3RyaW5nLFxuICAgIHJhbmdlOiBCb29sZWFuLFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHNjcm9sbGFibGU6IEJvb2xlYW4sXG4gICAgdGFibGVEYXRlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgdmFsdWU6IFtTdHJpbmcsIEFycmF5XVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1JldmVyc2luZzogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkVHJhbnNpdGlvbjogZnVuY3Rpb24gY29tcHV0ZWRUcmFuc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNSZXZlcnNpbmcgPT09ICF0aGlzLiR2dWV0aWZ5LnJ0bCA/ICd0YWItcmV2ZXJzZS10cmFuc2l0aW9uJyA6ICd0YWItdHJhbnNpdGlvbic7XG4gICAgfSxcbiAgICBkaXNwbGF5ZWRNb250aDogZnVuY3Rpb24gZGlzcGxheWVkTW9udGgoKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMudGFibGVEYXRlLnNwbGl0KCctJylbMV0pIC0gMTtcbiAgICB9LFxuICAgIGRpc3BsYXllZFllYXI6IGZ1bmN0aW9uIGRpc3BsYXllZFllYXIoKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMudGFibGVEYXRlLnNwbGl0KCctJylbMF0pO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB0YWJsZURhdGU6IGZ1bmN0aW9uIHRhYmxlRGF0ZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgdGhpcy5pc1JldmVyc2luZyA9IG5ld1ZhbCA8IG9sZFZhbDtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5CdXR0b25DbGFzc2VzOiBmdW5jdGlvbiBnZW5CdXR0b25DbGFzc2VzKGlzQWxsb3dlZCwgaXNGbG9hdGluZywgaXNTZWxlY3RlZCwgaXNDdXJyZW50KSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1zaXplLS1kZWZhdWx0JzogIWlzRmxvYXRpbmcsXG4gICAgICAgICd2LWJ0bi0tYWN0aXZlJzogaXNTZWxlY3RlZCxcbiAgICAgICAgJ3YtYnRuLS1mbGF0JzogIWlzQWxsb3dlZCB8fCB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndi1idG4tLXRleHQnOiBpc1NlbGVjdGVkID09PSBpc0N1cnJlbnQsXG4gICAgICAgICd2LWJ0bi0tcm91bmRlZCc6IGlzRmxvYXRpbmcsXG4gICAgICAgICd2LWJ0bi0tZGlzYWJsZWQnOiAhaXNBbGxvd2VkIHx8IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICd2LWJ0bi0tb3V0bGluZWQnOiBpc0N1cnJlbnQgJiYgIWlzU2VsZWN0ZWRcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9LFxuICAgIGdlbkJ1dHRvbkV2ZW50czogZnVuY3Rpb24gZ2VuQnV0dG9uRXZlbnRzKHZhbHVlLCBpc0FsbG93ZWQsIG1vdXNlRXZlbnRUeXBlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICBpc0FsbG93ZWQgJiYgIV90aGlzLnJlYWRvbmx5ICYmIF90aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlKTtcblxuICAgICAgICAgIF90aGlzLiRlbWl0KFwiY2xpY2s6XCIgKyBtb3VzZUV2ZW50VHlwZSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBkYmxjbGljazogZnVuY3Rpb24gZGJsY2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KFwiZGJsY2xpY2s6XCIgKyBtb3VzZUV2ZW50VHlwZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2VuQnV0dG9uOiBmdW5jdGlvbiBnZW5CdXR0b24odmFsdWUsIGlzRmxvYXRpbmcsIG1vdXNlRXZlbnRUeXBlLCBmb3JtYXR0ZXIpIHtcbiAgICAgIHZhciBpc0FsbG93ZWQgPSBPYmplY3QoX3V0aWxfaXNEYXRlQWxsb3dlZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkodmFsdWUsIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5hbGxvd2VkRGF0ZXMpO1xuICAgICAgdmFyIGlzU2VsZWN0ZWQgPSB0aGlzLmlzU2VsZWN0ZWQodmFsdWUpO1xuICAgICAgdmFyIGlzQ3VycmVudCA9IHZhbHVlID09PSB0aGlzLmN1cnJlbnQ7XG4gICAgICB2YXIgc2V0Q29sb3IgPSBpc1NlbGVjdGVkID8gdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IgOiB0aGlzLnNldFRleHRDb2xvcjtcbiAgICAgIHZhciBjb2xvciA9IChpc1NlbGVjdGVkIHx8IGlzQ3VycmVudCkgJiYgKHRoaXMuY29sb3IgfHwgJ2FjY2VudCcpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHNldENvbG9yKGNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1idG4nLFxuICAgICAgICBjbGFzczogdGhpcy5nZW5CdXR0b25DbGFzc2VzKGlzQWxsb3dlZCwgaXNGbG9hdGluZywgaXNTZWxlY3RlZCwgaXNDdXJyZW50KSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgICAgICB9LFxuICAgICAgICBkb21Qcm9wczoge1xuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkIHx8ICFpc0FsbG93ZWRcbiAgICAgICAgfSxcbiAgICAgICAgb246IHRoaXMuZ2VuQnV0dG9uRXZlbnRzKHZhbHVlLCBpc0FsbG93ZWQsIG1vdXNlRXZlbnRUeXBlKVxuICAgICAgfSksIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1idG5fX2NvbnRlbnQnXG4gICAgICB9LCBbZm9ybWF0dGVyKHZhbHVlKV0pLCB0aGlzLmdlbkV2ZW50cyh2YWx1ZSldKTtcbiAgICB9LFxuICAgIGdldEV2ZW50Q29sb3JzOiBmdW5jdGlvbiBnZXRFdmVudENvbG9ycyhkYXRlKSB7XG4gICAgICB2YXIgYXJyYXlpemUgPSBmdW5jdGlvbiBhcnJheWl6ZSh2KSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBldmVudERhdGE7XG4gICAgICB2YXIgZXZlbnRDb2xvcnMgPSBbXTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5ldmVudHMpKSB7XG4gICAgICAgIGV2ZW50RGF0YSA9IHRoaXMuZXZlbnRzLmluY2x1ZGVzKGRhdGUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIGV2ZW50RGF0YSA9IHRoaXMuZXZlbnRzKGRhdGUpIHx8IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cykge1xuICAgICAgICBldmVudERhdGEgPSB0aGlzLmV2ZW50c1tkYXRlXSB8fCBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50RGF0YSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV2ZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50RGF0YSAhPT0gdHJ1ZSkge1xuICAgICAgICBldmVudENvbG9ycyA9IGFycmF5aXplKGV2ZW50RGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmV2ZW50Q29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGV2ZW50Q29sb3JzID0gW3RoaXMuZXZlbnRDb2xvcl07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmV2ZW50Q29sb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnRDb2xvcnMgPSBhcnJheWl6ZSh0aGlzLmV2ZW50Q29sb3IoZGF0ZSkpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZXZlbnRDb2xvcikpIHtcbiAgICAgICAgZXZlbnRDb2xvcnMgPSB0aGlzLmV2ZW50Q29sb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudENvbG9ycyA9IGFycmF5aXplKHRoaXMuZXZlbnRDb2xvcltkYXRlXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudENvbG9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkV2ZW50czogZnVuY3Rpb24gZ2VuRXZlbnRzKGRhdGUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBldmVudENvbG9ycyA9IHRoaXMuZ2V0RXZlbnRDb2xvcnMoZGF0ZSk7XG4gICAgICByZXR1cm4gZXZlbnRDb2xvcnMubGVuZ3RoID8gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0ZS1waWNrZXItdGFibGVfX2V2ZW50cydcbiAgICAgIH0sIGV2ZW50Q29sb3JzLm1hcChmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCBfdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IpKTtcbiAgICAgIH0pKSA6IG51bGw7XG4gICAgfSxcbiAgICB3aGVlbDogZnVuY3Rpb24gd2hlZWwoZSwgY2FsY3VsYXRlVGFibGVEYXRlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dGFibGUtZGF0ZScsIGNhbGN1bGF0ZVRhYmxlRGF0ZShlLmRlbHRhWSkpO1xuICAgIH0sXG4gICAgdG91Y2g6IGZ1bmN0aW9uIHRvdWNoKHZhbHVlLCBjYWxjdWxhdGVUYWJsZURhdGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp0YWJsZS1kYXRlJywgY2FsY3VsYXRlVGFibGVEYXRlKHZhbHVlKSk7XG4gICAgfSxcbiAgICBnZW5UYWJsZTogZnVuY3Rpb24gZ2VuVGFibGUoc3RhdGljQ2xhc3MsIGNoaWxkcmVuLCBjYWxjdWxhdGVUYWJsZURhdGUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uID0gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmNvbXB1dGVkVHJhbnNpdGlvblxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgndGFibGUnLCB7XG4gICAgICAgIGtleTogdGhpcy50YWJsZURhdGVcbiAgICAgIH0sIGNoaWxkcmVuKV0pO1xuICAgICAgdmFyIHRvdWNoRGlyZWN0aXZlID0ge1xuICAgICAgICBuYW1lOiAndG91Y2gnLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGxlZnQ6IGZ1bmN0aW9uIGxlZnQoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUub2Zmc2V0WCA8IC0xNSAmJiBfdGhpcy50b3VjaCgxLCBjYWxjdWxhdGVUYWJsZURhdGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uIHJpZ2h0KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLm9mZnNldFggPiAxNSAmJiBfdGhpcy50b3VjaCgtMSwgY2FsY3VsYXRlVGFibGVEYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogc3RhdGljQ2xhc3MsXG4gICAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICAgJ3YtZGF0ZS1waWNrZXItdGFibGUtLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZFxuICAgICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcyksXG4gICAgICAgIG9uOiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLnNjcm9sbGFibGUgPyB7XG4gICAgICAgICAgd2hlZWw6IGZ1bmN0aW9uIHdoZWVsKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy53aGVlbChlLCBjYWxjdWxhdGVUYWJsZURhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlyZWN0aXZlczogW3RvdWNoRGlyZWN0aXZlXVxuICAgICAgfSwgW3RyYW5zaXRpb25dKTtcbiAgICB9LFxuICAgIGlzU2VsZWN0ZWQ6IGZ1bmN0aW9uIGlzU2VsZWN0ZWQodmFsdWUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlICYmIHRoaXMudmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdmFyIF9hID0gX19yZWFkKF9fc3ByZWFkKHRoaXMudmFsdWUpLnNvcnQoKSwgMiksXG4gICAgICAgICAgICAgIGZyb20gPSBfYVswXSxcbiAgICAgICAgICAgICAgdG8gPSBfYVsxXTtcblxuICAgICAgICAgIHJldHVybiBmcm9tIDw9IHZhbHVlICYmIHZhbHVlIDw9IHRvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRoaXMudmFsdWU7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcGFkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BhZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9wYWQudHNcIik7XG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxuXG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIobG9jYWxlLCBvcHRpb25zLCBzdWJzdHJPcHRpb25zKSB7XG4gIGlmIChzdWJzdHJPcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBzdWJzdHJPcHRpb25zID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBsZW5ndGg6IDBcbiAgICB9O1xuICB9XG5cbiAgdmFyIG1ha2VJc29TdHJpbmcgPSBmdW5jdGlvbiBtYWtlSXNvU3RyaW5nKGRhdGVTdHJpbmcpIHtcbiAgICB2YXIgX2EgPSBfX3JlYWQoZGF0ZVN0cmluZy50cmltKCkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLScpLCAzKSxcbiAgICAgICAgeWVhciA9IF9hWzBdLFxuICAgICAgICBtb250aCA9IF9hWzFdLFxuICAgICAgICBkYXRlID0gX2FbMl07XG5cbiAgICByZXR1cm4gW09iamVjdChfcGFkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSh5ZWFyLCA0KSwgT2JqZWN0KF9wYWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKG1vbnRoIHx8IDEpLCBPYmplY3QoX3BhZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoZGF0ZSB8fCAxKV0uam9pbignLScpO1xuICB9O1xuXG4gIHRyeSB7XG4gICAgdmFyIGludGxGb3JtYXR0ZXJfMSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSB8fCB1bmRlZmluZWQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZVN0cmluZykge1xuICAgICAgcmV0dXJuIGludGxGb3JtYXR0ZXJfMS5mb3JtYXQobmV3IERhdGUobWFrZUlzb1N0cmluZyhkYXRlU3RyaW5nKSArIFwiVDAwOjAwOjAwKzAwOjAwXCIpKTtcbiAgICB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHN1YnN0ck9wdGlvbnMuc3RhcnQgfHwgc3Vic3RyT3B0aW9ucy5sZW5ndGggPyBmdW5jdGlvbiAoZGF0ZVN0cmluZykge1xuICAgICAgcmV0dXJuIG1ha2VJc29TdHJpbmcoZGF0ZVN0cmluZykuc3Vic3RyKHN1YnN0ck9wdGlvbnMuc3RhcnQgfHwgMCwgc3Vic3RyT3B0aW9ucy5sZW5ndGgpO1xuICAgIH0gOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLCBtb250aENoYW5nZSwgcGFkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci91dGlsL2NyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21vbnRoQ2hhbmdlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21vbnRoQ2hhbmdlICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci91dGlsL21vbnRoQ2hhbmdlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibW9udGhDaGFuZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfbW9udGhDaGFuZ2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3BhZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wYWQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvcGFkLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3BhZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvaXNEYXRlQWxsb3dlZC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvaXNEYXRlQWxsb3dlZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc0RhdGVBbGxvd2VkOyB9KTtcbmZ1bmN0aW9uIGlzRGF0ZUFsbG93ZWQoZGF0ZSwgbWluLCBtYXgsIGFsbG93ZWRGbikge1xuICByZXR1cm4gKCFhbGxvd2VkRm4gfHwgYWxsb3dlZEZuKGRhdGUpKSAmJiAoIW1pbiB8fCBkYXRlID49IG1pbi5zdWJzdHIoMCwgMTApKSAmJiAoIW1heCB8fCBkYXRlIDw9IG1heCk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9tb250aENoYW5nZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci91dGlsL21vbnRoQ2hhbmdlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wYWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGFkICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci91dGlsL3BhZC50c1wiKTtcbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBZWVlZLU1NIGZvcm1hdFxuICogQHBhcmFtIHtOdW1iZXJ9IHNpZ24gLTEgb3IgKzFcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICh2YWx1ZSwgc2lnbikge1xuICB2YXIgX2EgPSBfX3JlYWQodmFsdWUuc3BsaXQoJy0nKS5tYXAoTnVtYmVyKSwgMiksXG4gICAgICB5ZWFyID0gX2FbMF0sXG4gICAgICBtb250aCA9IF9hWzFdO1xuXG4gIGlmIChtb250aCArIHNpZ24gPT09IDApIHtcbiAgICByZXR1cm4geWVhciAtIDEgKyBcIi0xMlwiO1xuICB9IGVsc2UgaWYgKG1vbnRoICsgc2lnbiA9PT0gMTMpIHtcbiAgICByZXR1cm4geWVhciArIDEgKyBcIi0wMVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB5ZWFyICsgXCItXCIgKyBPYmplY3QoX3BhZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkobW9udGggKyBzaWduKTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9wYWQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL3V0aWwvcGFkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbnZhciBwYWRTdGFydCA9IGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgdGFyZ2V0TGVuZ3RoLCBwYWRTdHJpbmcpIHtcbiAgdGFyZ2V0TGVuZ3RoID0gdGFyZ2V0TGVuZ3RoID4+IDA7XG4gIHN0cmluZyA9IFN0cmluZyhzdHJpbmcpO1xuICBwYWRTdHJpbmcgPSBTdHJpbmcocGFkU3RyaW5nKTtcblxuICBpZiAoc3RyaW5nLmxlbmd0aCA+IHRhcmdldExlbmd0aCkge1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKTtcbiAgfVxuXG4gIHRhcmdldExlbmd0aCA9IHRhcmdldExlbmd0aCAtIHN0cmluZy5sZW5ndGg7XG5cbiAgaWYgKHRhcmdldExlbmd0aCA+IHBhZFN0cmluZy5sZW5ndGgpIHtcbiAgICBwYWRTdHJpbmcgKz0gcGFkU3RyaW5nLnJlcGVhdCh0YXJnZXRMZW5ndGggLyBwYWRTdHJpbmcubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiBwYWRTdHJpbmcuc2xpY2UoMCwgdGFyZ2V0TGVuZ3RoKSArIFN0cmluZyhzdHJpbmcpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAobiwgbGVuZ3RoKSB7XG4gIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgIGxlbmd0aCA9IDI7XG4gIH1cblxuICByZXR1cm4gcGFkU3RhcnQobiwgbGVuZ3RoLCAnMCcpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpYWxvZy9WRGlhbG9nLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEaWFsb2cvVkRpYWxvZy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpYWxvZy9WRGlhbG9nLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRpYWxvZy9WRGlhbG9nLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEaWFsb2dfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGlhbG9nLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEaWFsb2cvVkRpYWxvZy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGlhbG9nX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkRpYWxvZ19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYWN0aXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9hY3RpdmF0YWJsZSAqLyBcIi4vc3JjL21peGlucy9hY3RpdmF0YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RlcGVuZGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RlcGVuZGVudCAqLyBcIi4vc3JjL21peGlucy9kZXBlbmRlbnQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19kZXRhY2hhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZGV0YWNoYWJsZSAqLyBcIi4vc3JjL21peGlucy9kZXRhY2hhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfb3ZlcmxheWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9vdmVybGF5YWJsZSAqLyBcIi4vc3JjL21peGlucy9vdmVybGF5YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JldHVybmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yZXR1cm5hYmxlICovIFwiLi9zcmMvbWl4aW5zL3JldHVybmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19zdGFja2FibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zdGFja2FibGUgKi8gXCIuL3NyYy9taXhpbnMvc3RhY2thYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RvZ2dsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdG9nZ2xlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19jbGlja19vdXRzaWRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX1RoZW1lUHJvdmlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL1RoZW1lUHJvdmlkZXIgKi8gXCIuL3NyYy91dGlsL1RoZW1lUHJvdmlkZXIudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuIC8vIE1peGluc1xuXG5cblxuXG5cblxuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gSGVscGVyc1xuXG5cblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYWN0aXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfZGVwZW5kZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2RldGFjaGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfb3ZlcmxheWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfcmV0dXJuYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19zdGFja2FibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSk7XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGlhbG9nJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrT3V0c2lkZTogX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGRhcms6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZnVsbHNjcmVlbjogQm9vbGVhbixcbiAgICBsaWdodDogQm9vbGVhbixcbiAgICBtYXhXaWR0aDoge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6ICdub25lJ1xuICAgIH0sXG4gICAgbm9DbGlja0FuaW1hdGlvbjogQm9vbGVhbixcbiAgICBvcmlnaW46IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdjZW50ZXIgY2VudGVyJ1xuICAgIH0sXG4gICAgcGVyc2lzdGVudDogQm9vbGVhbixcbiAgICByZXRhaW5Gb2N1czoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHNjcm9sbGFibGU6IEJvb2xlYW4sXG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgdHlwZTogW1N0cmluZywgQm9vbGVhbl0sXG4gICAgICBkZWZhdWx0OiAnZGlhbG9nLXRyYW5zaXRpb24nXG4gICAgfSxcbiAgICB3aWR0aDoge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZhdGVkQnk6IG51bGwsXG4gICAgICBhbmltYXRlOiBmYWxzZSxcbiAgICAgIGFuaW1hdGVUaW1lb3V0OiAtMSxcbiAgICAgIGlzQWN0aXZlOiAhIXRoaXMudmFsdWUsXG4gICAgICBzdGFja01pblpJbmRleDogMjAwXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gX2EgPSB7fSwgX2FbKFwidi1kaWFsb2cgXCIgKyB0aGlzLmNvbnRlbnRDbGFzcykudHJpbSgpXSA9IHRydWUsIF9hWyd2LWRpYWxvZy0tYWN0aXZlJ10gPSB0aGlzLmlzQWN0aXZlLCBfYVsndi1kaWFsb2ctLXBlcnNpc3RlbnQnXSA9IHRoaXMucGVyc2lzdGVudCwgX2FbJ3YtZGlhbG9nLS1mdWxsc2NyZWVuJ10gPSB0aGlzLmZ1bGxzY3JlZW4sIF9hWyd2LWRpYWxvZy0tc2Nyb2xsYWJsZSddID0gdGhpcy5zY3JvbGxhYmxlLCBfYVsndi1kaWFsb2ctLWFuaW1hdGVkJ10gPSB0aGlzLmFuaW1hdGUsIF9hO1xuICAgIH0sXG4gICAgY29udGVudENsYXNzZXM6IGZ1bmN0aW9uIGNvbnRlbnRDbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3YtZGlhbG9nX19jb250ZW50JzogdHJ1ZSxcbiAgICAgICAgJ3YtZGlhbG9nX19jb250ZW50LS1hY3RpdmUnOiB0aGlzLmlzQWN0aXZlXG4gICAgICB9O1xuICAgIH0sXG4gICAgaGFzQWN0aXZhdG9yOiBmdW5jdGlvbiBoYXNBY3RpdmF0b3IoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbighIXRoaXMuJHNsb3RzLmFjdGl2YXRvciB8fCAhIXRoaXMuJHNjb3BlZFNsb3RzLmFjdGl2YXRvcik7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIHRoaXMuaGlkZVNjcm9sbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPdmVybGF5KCk7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBmdWxsc2NyZWVuOiBmdW5jdGlvbiBmdWxsc2NyZWVuKHZhbCkge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm47XG5cbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy5oaWRlU2Nyb2xsKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlT3ZlcmxheShmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dTY3JvbGwoKTtcbiAgICAgICAgdGhpcy5nZW5PdmVybGF5KCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KCdmdWxsLXdpZHRoJykpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wicmVtb3ZlZFwiXSkoJ2Z1bGwtd2lkdGgnLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuaXNCb290ZWQgPSBfdGhpcy5pc0FjdGl2ZTtcbiAgICAgIF90aGlzLmlzQWN0aXZlICYmIF90aGlzLnNob3coKTtcbiAgICB9KTtcbiAgfSxcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHRoaXMudW5iaW5kKCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBhbmltYXRlQ2xpY2s6IGZ1bmN0aW9uIGFuaW1hdGVDbGljaygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuYW5pbWF0ZSA9IGZhbHNlOyAvLyBOZWVkZWQgZm9yIHdoZW4gY2xpY2tpbmcgdmVyeSBmYXN0XG4gICAgICAvLyBvdXRzaWRlIG9mIHRoZSBkaWFsb2dcblxuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChfdGhpcy5hbmltYXRlVGltZW91dCk7XG4gICAgICAgIF90aGlzLmFuaW1hdGVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hbmltYXRlID0gZmFsc2U7XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsb3NlQ29uZGl0aW9uYWw6IGZ1bmN0aW9uIGNsb3NlQ29uZGl0aW9uYWwoZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0OyAvLyBJZ25vcmUgdGhlIGNsaWNrIGlmIHRoZSBkaWFsb2cgaXMgY2xvc2VkIG9yIGRlc3Ryb3llZCxcbiAgICAgIC8vIGlmIGl0IHdhcyBvbiBhbiBlbGVtZW50IGluc2lkZSB0aGUgY29udGVudCwgb3JcbiAgICAgIC8vIGlmIGl0IHdhcyBkcmFnZ2VkIG9udG8gdGhlIG92ZXJsYXkgKCM2OTY5KVxuXG4gICAgICByZXR1cm4gISh0aGlzLl9pc0Rlc3Ryb3llZCB8fCAhdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLiRyZWZzLmNvbnRlbnQuY29udGFpbnModGFyZ2V0KSB8fCB0aGlzLm92ZXJsYXkgJiYgdGFyZ2V0ICYmICF0aGlzLm92ZXJsYXkuJGVsLmNvbnRhaW5zKHRhcmdldCkpO1xuICAgIH0sXG4gICAgaGlkZVNjcm9sbDogZnVuY3Rpb24gaGlkZVNjcm9sbCgpIHtcbiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LXktaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfbWl4aW5zX292ZXJsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5oaWRlU2Nyb2xsLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgIXRoaXMuZnVsbHNjcmVlbiAmJiAhdGhpcy5oaWRlT3ZlcmxheSAmJiB0aGlzLmdlbk92ZXJsYXkoKTtcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuJHJlZnMuY29udGVudC5mb2N1cygpO1xuXG4gICAgICAgIF90aGlzLmJpbmQoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYmluZDogZnVuY3Rpb24gYmluZCgpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5vbkZvY3VzaW4pO1xuICAgIH0sXG4gICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMub25Gb2N1c2luKTtcbiAgICB9LFxuICAgIG9uQ2xpY2tPdXRzaWRlOiBmdW5jdGlvbiBvbkNsaWNrT3V0c2lkZShlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljazpvdXRzaWRlJywgZSk7XG5cbiAgICAgIGlmICh0aGlzLnBlcnNpc3RlbnQpIHtcbiAgICAgICAgdGhpcy5ub0NsaWNrQW5pbWF0aW9uIHx8IHRoaXMuYW5pbWF0ZUNsaWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlWkluZGV4ID49IHRoaXMuZ2V0TWF4WkluZGV4KCkpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25LZXlkb3duOiBmdW5jdGlvbiBvbktleWRvd24oZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wia2V5Q29kZXNcIl0uZXNjICYmICF0aGlzLmdldE9wZW5EZXBlbmRlbnRzKCkubGVuZ3RoKSB7XG4gICAgICAgIGlmICghdGhpcy5wZXJzaXN0ZW50KSB7XG4gICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIHZhciBhY3RpdmF0b3JfMSA9IHRoaXMuZ2V0QWN0aXZhdG9yKCk7XG4gICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGl2YXRvcl8xICYmIGFjdGl2YXRvcl8xLmZvY3VzKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMubm9DbGlja0FuaW1hdGlvbikge1xuICAgICAgICAgIHRoaXMuYW5pbWF0ZUNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy4kZW1pdCgna2V5ZG93bicsIGUpO1xuICAgIH0sXG4gICAgLy8gT24gZm9jdXMgY2hhbmdlLCB3cmFwIGZvY3VzIHRvIHN0YXkgaW5zaWRlIHRoZSBkaWFsb2dcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvaXNzdWVzLzY4OTJcbiAgICBvbkZvY3VzaW46IGZ1bmN0aW9uIG9uRm9jdXNpbihlKSB7XG4gICAgICBpZiAoIWUgfHwgIXRoaXMucmV0YWluRm9jdXMpIHJldHVybjtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgaWYgKCEhdGFyZ2V0ICYmIC8vIEl0IGlzbid0IHRoZSBkb2N1bWVudCBvciB0aGUgZGlhbG9nIGJvZHlcbiAgICAgICFbZG9jdW1lbnQsIHRoaXMuJHJlZnMuY29udGVudF0uaW5jbHVkZXModGFyZ2V0KSAmJiAvLyBJdCBpc24ndCBpbnNpZGUgdGhlIGRpYWxvZyBib2R5XG4gICAgICAhdGhpcy4kcmVmcy5jb250ZW50LmNvbnRhaW5zKHRhcmdldCkgJiYgLy8gV2UncmUgdGhlIHRvcG1vc3QgZGlhbG9nXG4gICAgICB0aGlzLmFjdGl2ZVpJbmRleCA+PSB0aGlzLmdldE1heFpJbmRleCgpICYmIC8vIEl0IGlzbid0IGluc2lkZSBhIGRlcGVuZGVudCBlbGVtZW50IChsaWtlIGEgbWVudSlcbiAgICAgICF0aGlzLmdldE9wZW5EZXBlbmRlbnRFbGVtZW50cygpLnNvbWUoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5jb250YWlucyh0YXJnZXQpO1xuICAgICAgfSkgLy8gU28gd2UgbXVzdCBoYXZlIGZvY3VzZWQgc29tZXRoaW5nIG91dHNpZGUgdGhlIGRpYWxvZyBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICApIHtcbiAgICAgICAgICAvLyBGaW5kIGFuZCBmb2N1cyB0aGUgZmlyc3QgYXZhaWxhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBkaWFsb2dcbiAgICAgICAgICB2YXIgZm9jdXNhYmxlID0gdGhpcy4kcmVmcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbiwgW2hyZWZdLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyk7XG4gICAgICAgICAgZm9jdXNhYmxlLmxlbmd0aCAmJiBmb2N1c2FibGVbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHJlZjogJ2RpYWxvZycsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAnY2xpY2stb3V0c2lkZScsXG4gICAgICAgIHZhbHVlOiB0aGlzLm9uQ2xpY2tPdXRzaWRlLFxuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgY2xvc2VDb25kaXRpb25hbDogdGhpcy5jbG9zZUNvbmRpdGlvbmFsLFxuICAgICAgICAgIGluY2x1ZGU6IHRoaXMuZ2V0T3BlbkRlcGVuZGVudEVsZW1lbnRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3Nob3cnLFxuICAgICAgICB2YWx1ZTogdGhpcy5pc0FjdGl2ZVxuICAgICAgfV0sXG4gICAgICBvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdHlsZToge31cbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLmZ1bGxzY3JlZW4pIHtcbiAgICAgIGRhdGEuc3R5bGUgPSB7XG4gICAgICAgIG1heFdpZHRoOiB0aGlzLm1heFdpZHRoID09PSAnbm9uZScgPyB1bmRlZmluZWQgOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5tYXhXaWR0aCksXG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoID09PSAnYXV0bycgPyB1bmRlZmluZWQgOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy53aWR0aClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkFjdGl2YXRvcigpKTtcbiAgICB2YXIgZGlhbG9nID0gaCgnZGl2JywgZGF0YSwgdGhpcy5zaG93TGF6eUNvbnRlbnQodGhpcy5nZXRDb250ZW50U2xvdCgpKSk7XG5cbiAgICBpZiAodGhpcy50cmFuc2l0aW9uKSB7XG4gICAgICBkaWFsb2cgPSBoKCd0cmFuc2l0aW9uJywge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIG5hbWU6IHRoaXMudHJhbnNpdGlvbixcbiAgICAgICAgICBvcmlnaW46IHRoaXMub3JpZ2luXG4gICAgICAgIH1cbiAgICAgIH0sIFtkaWFsb2ddKTtcbiAgICB9XG5cbiAgICBjaGlsZHJlbi5wdXNoKGgoJ2RpdicsIHtcbiAgICAgIGNsYXNzOiB0aGlzLmNvbnRlbnRDbGFzc2VzLFxuICAgICAgYXR0cnM6IF9fYXNzaWduKHtcbiAgICAgICAgcm9sZTogJ2RvY3VtZW50JyxcbiAgICAgICAgdGFiaW5kZXg6IHRoaXMuaXNBY3RpdmUgPyAwIDogdW5kZWZpbmVkXG4gICAgICB9LCB0aGlzLmdldFNjb3BlSWRBdHRycygpKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIGtleWRvd246IHRoaXMub25LZXlkb3duXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiB0aGlzLmFjdGl2ZVpJbmRleFxuICAgICAgfSxcbiAgICAgIHJlZjogJ2NvbnRlbnQnXG4gICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX3V0aWxfVGhlbWVQcm92aWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHJvb3Q6IHRydWUsXG4gICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICBkYXJrOiB0aGlzLmRhcmtcbiAgICAgIH1cbiAgICB9LCBbZGlhbG9nXSldKSk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1kaWFsb2dfX2NvbnRhaW5lcicsXG4gICAgICBjbGFzczoge1xuICAgICAgICAndi1kaWFsb2dfX2NvbnRhaW5lci0tYXR0YWNoZWQnOiB0aGlzLmF0dGFjaCA9PT0gJycgfHwgdGhpcy5hdHRhY2ggPT09IHRydWUgfHwgdGhpcy5hdHRhY2ggPT09ICdhdHRhY2gnXG4gICAgICB9LFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgcm9sZTogJ2RpYWxvZydcbiAgICAgIH1cbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRGlhbG9nL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEaWFsb2cvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZEaWFsb2csIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEaWFsb2dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRpYWxvZyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpYWxvZy9WRGlhbG9nLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRpYWxvZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGlhbG9nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZEaWFsb2dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEaXZpZGVyL1ZEaXZpZGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkRpdmlkZXIvVkRpdmlkZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpdmlkZXIvVkRpdmlkZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEaXZpZGVyL1ZEaXZpZGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRpdmlkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGl2aWRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGl2aWRlci9WRGl2aWRlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGl2aWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZEaXZpZGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIE1peGluc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZGl2aWRlcicsXG4gIHByb3BzOiB7XG4gICAgaW5zZXQ6IEJvb2xlYW4sXG4gICAgdmVydGljYWw6IEJvb2xlYW5cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIC8vIFdBSS1BUklBIGF0dHJpYnV0ZXNcbiAgICB2YXIgb3JpZW50YXRpb247XG5cbiAgICBpZiAoIXRoaXMuJGF0dHJzLnJvbGUgfHwgdGhpcy4kYXR0cnMucm9sZSA9PT0gJ3NlcGFyYXRvcicpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gdGhpcy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgoJ2hyJywge1xuICAgICAgY2xhc3M6IF9fYXNzaWduKHtcbiAgICAgICAgJ3YtZGl2aWRlcic6IHRydWUsXG4gICAgICAgICd2LWRpdmlkZXItLWluc2V0JzogdGhpcy5pbnNldCxcbiAgICAgICAgJ3YtZGl2aWRlci0tdmVydGljYWwnOiB0aGlzLnZlcnRpY2FsXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcyksXG4gICAgICBhdHRyczogX19hc3NpZ24oe1xuICAgICAgICByb2xlOiAnc2VwYXJhdG9yJyxcbiAgICAgICAgJ2FyaWEtb3JpZW50YXRpb24nOiBvcmllbnRhdGlvblxuICAgICAgfSwgdGhpcy4kYXR0cnMpLFxuICAgICAgb246IHRoaXMuJGxpc3RlbmVyc1xuICAgIH0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpdmlkZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZEaXZpZGVyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkRpdmlkZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEaXZpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZEaXZpZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGl2aWRlci9WRGl2aWRlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEaXZpZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEaXZpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZEaXZpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVsLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVsLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVsLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZ3JvdXBhYmxlICovIFwiLi9zcmMvbWl4aW5zL2dyb3VwYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmVnaXN0cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIE1peGluc1xuXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShPYmplY3QoX21peGluc19ncm91cGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImZhY3RvcnlcIl0pKCdleHBhbnNpb25QYW5lbHMnLCAndi1leHBhbnNpb24tcGFuZWwnLCAndi1leHBhbnNpb24tcGFuZWxzJyksIE9iamVjdChfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJwcm92aWRlXCJdKSgnZXhwYW5zaW9uUGFuZWwnLCB0cnVlKVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZXhwYW5zaW9uLXBhbmVsJyxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICByZWFkb25seTogQm9vbGVhblxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250ZW50OiBudWxsLFxuICAgICAgaGVhZGVyOiBudWxsLFxuICAgICAgbmV4dElzQWN0aXZlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LWV4cGFuc2lvbi1wYW5lbC0tYWN0aXZlJzogdGhpcy5pc0FjdGl2ZSxcbiAgICAgICAgJ3YtZXhwYW5zaW9uLXBhbmVsLS1uZXh0LWFjdGl2ZSc6IHRoaXMubmV4dElzQWN0aXZlLFxuICAgICAgICAndi1leHBhbnNpb24tcGFuZWwtLWRpc2FibGVkJzogdGhpcy5pc0Rpc2FibGVkXG4gICAgICB9LCB0aGlzLmdyb3VwQ2xhc3Nlcyk7XG4gICAgfSxcbiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uUGFuZWxzLmRpc2FibGVkIHx8IHRoaXMuZGlzYWJsZWQ7XG4gICAgfSxcbiAgICBpc1JlYWRvbmx5OiBmdW5jdGlvbiBpc1JlYWRvbmx5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uUGFuZWxzLnJlYWRvbmx5IHx8IHRoaXMucmVhZG9ubHk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgcmVnaXN0ZXJDb250ZW50OiBmdW5jdGlvbiByZWdpc3RlckNvbnRlbnQodm0pIHtcbiAgICAgIHRoaXMuY29udGVudCA9IHZtO1xuICAgIH0sXG4gICAgdW5yZWdpc3RlckNvbnRlbnQ6IGZ1bmN0aW9uIHVucmVnaXN0ZXJDb250ZW50KCkge1xuICAgICAgdGhpcy5jb250ZW50ID0gbnVsbDtcbiAgICB9LFxuICAgIHJlZ2lzdGVySGVhZGVyOiBmdW5jdGlvbiByZWdpc3RlckhlYWRlcih2bSkge1xuICAgICAgdGhpcy5oZWFkZXIgPSB2bTtcbiAgICAgIHZtLiRvbignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgIH0sXG4gICAgdW5yZWdpc3RlckhlYWRlcjogZnVuY3Rpb24gdW5yZWdpc3RlckhlYWRlcigpIHtcbiAgICAgIHRoaXMuaGVhZGVyID0gbnVsbDtcbiAgICB9LFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgaWYgKGUuZGV0YWlsKSB0aGlzLmhlYWRlci4kZWwuYmx1cigpO1xuICAgICAgdGhpcy4kZW1pdCgnY2xpY2snLCBlKTtcbiAgICAgIHRoaXMuaXNSZWFkb25seSB8fCB0aGlzLmlzRGlzYWJsZWQgfHwgdGhpcy50b2dnbGUoKTtcbiAgICB9LFxuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cblxuICAgICAgaWYgKHRoaXMuY29udGVudCkgdGhpcy5jb250ZW50LmlzQm9vdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdjaGFuZ2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZXhwYW5zaW9uLXBhbmVsJyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBhdHRyczoge1xuICAgICAgICAnYXJpYS1leHBhbmRlZCc6IFN0cmluZyh0aGlzLmlzQWN0aXZlKVxuICAgICAgfVxuICAgIH0sIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRTbG90XCJdKSh0aGlzKSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVsQ29udGVudC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbENvbnRlbnQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdHJhbnNpdGlvbnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3RyYW5zaXRpb25zL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9ib290YWJsZSAqLyBcIi4vc3JjL21peGlucy9ib290YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmVnaXN0cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbiAvLyBNaXhpbnNcblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJpbmplY3RcIl0pKCdleHBhbnNpb25QYW5lbCcsICd2LWV4cGFuc2lvbi1wYW5lbC1jb250ZW50JywgJ3YtZXhwYW5zaW9uLXBhbmVsJykpO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWV4cGFuc2lvbi1wYW5lbC1jb250ZW50JyxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5leHBhbnNpb25QYW5lbC5pc0FjdGl2ZTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5leHBhbnNpb25QYW5lbC5yZWdpc3RlckNvbnRlbnQodGhpcyk7XG4gIH0sXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7XG4gICAgdGhpcy5leHBhbnNpb25QYW5lbC51bnJlZ2lzdGVyQ29udGVudCgpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJWRXhwYW5kVHJhbnNpdGlvblwiXSwgW2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1leHBhbnNpb24tcGFuZWwtY29udGVudCcsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgIHZhbHVlOiB0aGlzLmlzQWN0aXZlXG4gICAgICB9XVxuICAgIH0sIHRoaXMuc2hvd0xhenlDb250ZW50KFtoKCdkaXYnLCB7XG4gICAgICBjbGFzczogJ3YtZXhwYW5zaW9uLXBhbmVsLWNvbnRlbnRfX3dyYXAnXG4gICAgfSwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFNsb3RcIl0pKHRoaXMpKV0pKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbEhlYWRlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVsSGVhZGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdHJhbnNpdGlvbnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3RyYW5zaXRpb25zL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yZWdpc3RyYWJsZSAqLyBcIi4vc3JjL21peGlucy9yZWdpc3RyYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvcmlwcGxlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIENvbXBvbmVudHNcblxuXG5cbiAvLyBNaXhpbnNcblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFV0aWxpdGllc1xuXG5cblxudmFyIGJhc2VNaXhpbnMgPSBPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKShPYmplY3QoX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiaW5qZWN0XCJdKSgnZXhwYW5zaW9uUGFuZWwnLCAndi1leHBhbnNpb24tcGFuZWwtaGVhZGVyJywgJ3YtZXhwYW5zaW9uLXBhbmVsJykpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXInLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgcmlwcGxlOiBfZGlyZWN0aXZlc19yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlSWNvblJvdGF0ZTogQm9vbGVhbixcbiAgICBleHBhbmRJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGV4cGFuZCdcbiAgICB9LFxuICAgIGhpZGVBY3Rpb25zOiBCb29sZWFuLFxuICAgIHJpcHBsZToge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGFzTW91c2Vkb3duOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICd2LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItLWFjdGl2ZSc6IHRoaXMuaXNBY3RpdmUsXG4gICAgICAgICd2LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItLW1vdXNlZG93bic6IHRoaXMuaGFzTW91c2Vkb3duXG4gICAgICB9O1xuICAgIH0sXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uUGFuZWwuaXNBY3RpdmU7XG4gICAgfSxcbiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uUGFuZWwuaXNEaXNhYmxlZDtcbiAgICB9LFxuICAgIGlzUmVhZG9ubHk6IGZ1bmN0aW9uIGlzUmVhZG9ubHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5leHBhbnNpb25QYW5lbC5pc1JlYWRvbmx5O1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB0aGlzLmV4cGFuc2lvblBhbmVsLnJlZ2lzdGVySGVhZGVyKHRoaXMpO1xuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMuZXhwYW5zaW9uUGFuZWwudW5yZWdpc3RlckhlYWRlcigpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpO1xuICAgIH0sXG4gICAgZ2VuSWNvbjogZnVuY3Rpb24gZ2VuSWNvbigpIHtcbiAgICAgIHZhciBpY29uID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldFNsb3RcIl0pKHRoaXMsICdhY3Rpb25zJykgfHwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB0aGlzLmV4cGFuZEljb24pXTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiVkZhZGVUcmFuc2l0aW9uXCJdLCBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcl9faWNvbicsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcl9faWNvbi0tZGlzYWJsZS1yb3RhdGUnOiB0aGlzLmRpc2FibGVJY29uUm90YXRlXG4gICAgICAgIH0sXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3Nob3cnLFxuICAgICAgICAgIHZhbHVlOiAhdGhpcy5pc0Rpc2FibGVkXG4gICAgICAgIH1dXG4gICAgICB9LCBpY29uKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gaCgnYnV0dG9uJywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXInLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHRhYmluZGV4OiB0aGlzLmlzRGlzYWJsZWQgPyAtMSA6IG51bGwsXG4gICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgbmFtZTogJ3JpcHBsZScsXG4gICAgICAgIHZhbHVlOiB0aGlzLnJpcHBsZVxuICAgICAgfV0sXG4gICAgICBvbjogX19hc3NpZ24oe30sIHRoaXMuJGxpc3RlbmVycywge1xuICAgICAgICBjbGljazogdGhpcy5vbkNsaWNrLFxuICAgICAgICBtb3VzZWRvd246IGZ1bmN0aW9uIG1vdXNlZG93bigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFzTW91c2Vkb3duID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gbW91c2V1cCgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFzTW91c2Vkb3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgW09iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZXRTbG90XCJdKSh0aGlzLCAnZGVmYXVsdCcsIHtcbiAgICAgIG9wZW46IHRoaXMuaXNBY3RpdmVcbiAgICB9LCB0cnVlKSwgdGhpcy5oaWRlQWN0aW9ucyB8fCB0aGlzLmdlbkljb24oKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbHMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZFeHBhbnNpb25QYW5lbC9WRXhwYW5zaW9uUGFuZWxzLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkV4cGFuc2lvblBhbmVsX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkV4cGFuc2lvblBhbmVsLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZFeHBhbnNpb25QYW5lbC9WRXhwYW5zaW9uUGFuZWwuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkV4cGFuc2lvblBhbmVsX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkV4cGFuc2lvblBhbmVsX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkl0ZW1Hcm91cC9WSXRlbUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIENvbXBvbmVudHNcblxuIC8vIFV0aWxpdGllc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQmFzZUl0ZW1Hcm91cFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1leHBhbnNpb24tcGFuZWxzJyxcbiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5zaW9uUGFuZWxzOiB0aGlzXG4gICAgfTtcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhY2NvcmRpb246IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZm9jdXNhYmxlOiBCb29sZWFuLFxuICAgIGluc2V0OiBCb29sZWFuLFxuICAgIHBvcG91dDogQm9vbGVhbixcbiAgICByZWFkb25seTogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WSXRlbUdyb3VwX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkJhc2VJdGVtR3JvdXBcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtZXhwYW5zaW9uLXBhbmVscyc6IHRydWUsXG4gICAgICAgICd2LWV4cGFuc2lvbi1wYW5lbHMtLWFjY29yZGlvbic6IHRoaXMuYWNjb3JkaW9uLFxuICAgICAgICAndi1leHBhbnNpb24tcGFuZWxzLS1mb2N1c2FibGUnOiB0aGlzLmZvY3VzYWJsZSxcbiAgICAgICAgJ3YtZXhwYW5zaW9uLXBhbmVscy0taW5zZXQnOiB0aGlzLmluc2V0LFxuICAgICAgICAndi1leHBhbnNpb24tcGFuZWxzLS1wb3BvdXQnOiB0aGlzLnBvcG91dFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KCdleHBhbmQnKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImJyZWFraW5nXCJdKSgnZXhwYW5kJywgJ211bHRpcGxlJywgdGhpcyk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpICYmIHRoaXMudmFsdWUubGVuZ3RoID4gMCAmJiB0eXBlb2YgdGhpcy52YWx1ZVswXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiYnJlYWtpbmdcIl0pKCc6dmFsdWU9XCJbdHJ1ZSwgZmFsc2UsIHRydWVdXCInLCAnOnZhbHVlPVwiWzAsIDJdXCInLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICB1cGRhdGVJdGVtOiBmdW5jdGlvbiB1cGRhdGVJdGVtKGl0ZW0sIGluZGV4KSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhbHVlKGl0ZW0sIGluZGV4KTtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLmdldFZhbHVlKGl0ZW0sIGluZGV4ICsgMSk7XG4gICAgICBpdGVtLmlzQWN0aXZlID0gdGhpcy50b2dnbGVNZXRob2QodmFsdWUpO1xuICAgICAgaXRlbS5uZXh0SXNBY3RpdmUgPSB0aGlzLnRvZ2dsZU1ldGhvZChuZXh0VmFsdWUpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZFeHBhbnNpb25QYW5lbC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZFeHBhbnNpb25QYW5lbC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWRXhwYW5zaW9uUGFuZWxzLCBWRXhwYW5zaW9uUGFuZWwsIFZFeHBhbnNpb25QYW5lbEhlYWRlciwgVkV4cGFuc2lvblBhbmVsQ29udGVudCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkV4cGFuc2lvblBhbmVsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRXhwYW5zaW9uUGFuZWxzICovIFwiLi9zcmMvY29tcG9uZW50cy9WRXhwYW5zaW9uUGFuZWwvVkV4cGFuc2lvblBhbmVscy50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZFeHBhbnNpb25QYW5lbHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkV4cGFuc2lvblBhbmVsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkV4cGFuc2lvblBhbmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZFeHBhbnNpb25QYW5lbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZFeHBhbnNpb25QYW5lbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRXhwYW5zaW9uUGFuZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZFeHBhbnNpb25QYW5lbENvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkV4cGFuc2lvblBhbmVsQ29udGVudCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL1ZFeHBhbnNpb25QYW5lbENvbnRlbnQudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRXhwYW5zaW9uUGFuZWxDb250ZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZFeHBhbnNpb25QYW5lbENvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZFeHBhbnNpb25QYW5lbEhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRXhwYW5zaW9uUGFuZWxIZWFkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZFeHBhbnNpb25QYW5lbC9WRXhwYW5zaW9uUGFuZWxIZWFkZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRXhwYW5zaW9uUGFuZWxIZWFkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkV4cGFuc2lvblBhbmVsSGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZFeHBhbnNpb25QYW5lbHM6IF9WRXhwYW5zaW9uUGFuZWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZFeHBhbnNpb25QYW5lbDogX1ZFeHBhbnNpb25QYW5lbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgICBWRXhwYW5zaW9uUGFuZWxIZWFkZXI6IF9WRXhwYW5zaW9uUGFuZWxIZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sXG4gICAgVkV4cGFuc2lvblBhbmVsQ29udGVudDogX1ZFeHBhbnNpb25QYW5lbENvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZpbGVJbnB1dC9WRmlsZUlucHV0LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZGaWxlSW5wdXQvVkZpbGVJbnB1dC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZpbGVJbnB1dC9WRmlsZUlucHV0LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkZpbGVJbnB1dC9WRmlsZUlucHV0LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZGaWxlSW5wdXRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRmlsZUlucHV0LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZGaWxlSW5wdXQvVkZpbGVJbnB1dC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRmlsZUlucHV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkZpbGVJbnB1dF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WVGV4dEZpZWxkICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkNoaXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDaGlwL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZmlsZS1pbnB1dCcsXG4gIG1vZGVsOiB7XG4gICAgcHJvcDogJ3ZhbHVlJyxcbiAgICBldmVudDogJ2NoYW5nZSdcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBjaGlwczogQm9vbGVhbixcbiAgICBjbGVhcmFibGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBjb3VudGVyU2l6ZVN0cmluZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5LmZpbGVJbnB1dC5jb3VudGVyU2l6ZSdcbiAgICB9LFxuICAgIGNvdW50ZXJTdHJpbmc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5maWxlSW5wdXQuY291bnRlcidcbiAgICB9LFxuICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgcHJlcGVuZEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZmlsZSdcbiAgICB9LFxuICAgIHJlYWRvbmx5OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIHNob3dTaXplOiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Iodikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdib29sZWFuJyB8fCBbMTAwMCwgMTAyNF0uaW5jbHVkZXModik7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbWFsbENoaXBzOiBCb29sZWFuLFxuICAgIHRydW5jYXRlTGVuZ3RoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMjJcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdmaWxlJ1xuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9LFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiBfdHlwZW9mKHZhbCkgPT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkodmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtZmlsZS1pbnB1dCc6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY291bnRlclZhbHVlOiBmdW5jdGlvbiBjb3VudGVyVmFsdWUoKSB7XG4gICAgICB2YXIgZmlsZUNvdW50ID0gdGhpcy5pc011bHRpcGxlICYmIHRoaXMubGF6eVZhbHVlID8gdGhpcy5sYXp5VmFsdWUubGVuZ3RoIDogdGhpcy5sYXp5VmFsdWUgaW5zdGFuY2VvZiBGaWxlID8gMSA6IDA7XG4gICAgICBpZiAoIXRoaXMuc2hvd1NpemUpIHJldHVybiB0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLmNvdW50ZXJTdHJpbmcsIGZpbGVDb3VudCk7XG4gICAgICB2YXIgYnl0ZXMgPSB0aGlzLmludGVybmFsQXJyYXlWYWx1ZS5yZWR1Y2UoZnVuY3Rpb24gKHNpemUsIGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHNpemUgKyBmaWxlLnNpemU7XG4gICAgICB9LCAwKTtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLmNvdW50ZXJTaXplU3RyaW5nLCBmaWxlQ291bnQsIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJodW1hblJlYWRhYmxlRmlsZVNpemVcIl0pKGJ5dGVzLCB0aGlzLmJhc2UgPT09IDEwMjQpKTtcbiAgICB9LFxuICAgIGludGVybmFsQXJyYXlWYWx1ZTogZnVuY3Rpb24gaW50ZXJuYWxBcnJheVZhbHVlKCkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5pbnRlcm5hbFZhbHVlKSA/IHRoaXMuaW50ZXJuYWxWYWx1ZSA6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJ3cmFwSW5BcnJheVwiXSkodGhpcy5pbnRlcm5hbFZhbHVlKTtcbiAgICB9LFxuICAgIGludGVybmFsVmFsdWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXp5VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgIHRoaXMubGF6eVZhbHVlID0gdmFsO1xuICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmxhenlWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0RpcnR5OiBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxBcnJheVZhbHVlLmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBpc0xhYmVsQWN0aXZlOiBmdW5jdGlvbiBpc0xhYmVsQWN0aXZlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9LFxuICAgIGlzTXVsdGlwbGU6IGZ1bmN0aW9uIGlzTXVsdGlwbGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkoJ211bHRpcGxlJyk7XG4gICAgfSxcbiAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmlzRGlydHkpIHJldHVybiBbdGhpcy5wbGFjZWhvbGRlcl07XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEFycmF5VmFsdWUubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3RoaXMudHJ1bmNhdGVUZXh0KGZpbGUubmFtZSk7XG5cbiAgICAgICAgcmV0dXJuICFfdGhpcy5zaG93U2l6ZSA/IG5hbWUgOiBuYW1lICsgXCIgKFwiICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImh1bWFuUmVhZGFibGVGaWxlU2l6ZVwiXSkoZmlsZS5zaXplLCBfdGhpcy5iYXNlID09PSAxMDI0KSArIFwiKVwiO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBiYXNlOiBmdW5jdGlvbiBiYXNlKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnNob3dTaXplICE9PSAnYm9vbGVhbicgPyB0aGlzLnNob3dTaXplIDogdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgaGFzQ2hpcHM6IGZ1bmN0aW9uIGhhc0NoaXBzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpcHMgfHwgdGhpcy5zbWFsbENoaXBzO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICByZWFkb25seToge1xuICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2KSB7XG4gICAgICAgIGlmICh2ID09PSB0cnVlKSBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY29uc29sZUVycm9yXCJdKSgncmVhZG9ubHkgaXMgbm90IHN1cHBvcnRlZCBvbiA8di1maWxlLWlucHV0PicsIHRoaXMpO1xuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgIH0sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHYpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuaXNNdWx0aXBsZSA/IHYgOiB2ID8gW3ZdIDogW107XG5cbiAgICAgIGlmICghT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZXBFcXVhbFwiXSkodmFsdWUsIHRoaXMuJHJlZnMuaW5wdXQuZmlsZXMpKSB7XG4gICAgICAgIC8vIFdoZW4gdGhlIGlucHV0IHZhbHVlIGlzIGNoYW5nZWQgcHJvZ3JhbWF0aWNhbGx5LCBjbGVhciB0aGVcbiAgICAgICAgLy8gaW50ZXJuYWwgaW5wdXQncyB2YWx1ZSBzbyB0aGF0IHRoZSBgb25JbnB1dGAgaGFuZGxlclxuICAgICAgICAvLyBjYW4gYmUgdHJpZ2dlcmVkIGFnYWluIGlmIHRoZSB1c2VyIHJlLXNlbGVjdHMgdGhlIGV4YWN0XG4gICAgICAgIC8vIHNhbWUgZmlsZShzKS4gSWRlYWxseSwgYGlucHV0LmZpbGVzYCBzaG91bGQgYmVcbiAgICAgICAgLy8gbWFuaXB1bGF0ZWQgZGlyZWN0bHkgYnV0IHRoYXQgcHJvcGVydHkgaXMgcmVhZG9ubHkuXG4gICAgICAgIHRoaXMuJHJlZnMuaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjbGVhcmFibGVDYWxsYmFjazogZnVuY3Rpb24gY2xlYXJhYmxlQ2FsbGJhY2soKSB7XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLmlzTXVsdGlwbGUgPyBbXSA6IG51bGw7XG4gICAgICB0aGlzLiRyZWZzLmlucHV0LnZhbHVlID0gJyc7XG4gICAgfSxcbiAgICBnZW5DaGlwczogZnVuY3Rpb24gZ2VuQ2hpcHMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaXNEaXJ0eSkgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIHRoaXMudGV4dC5tYXAoZnVuY3Rpb24gKHRleHQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy4kY3JlYXRlRWxlbWVudChfVkNoaXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlZDaGlwXCJdLCB7XG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIHNtYWxsOiBfdGhpcy5zbWFsbENoaXBzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgJ2NsaWNrOmNsb3NlJzogZnVuY3Rpb24gY2xpY2tDbG9zZSgpIHtcbiAgICAgICAgICAgICAgdmFyIGludGVybmFsVmFsdWUgPSBfdGhpcy5pbnRlcm5hbFZhbHVlO1xuICAgICAgICAgICAgICBpbnRlcm5hbFZhbHVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgIF90aGlzLmludGVybmFsVmFsdWUgPSBpbnRlcm5hbFZhbHVlOyAvLyBUcmlnZ2VyIHRoZSB3YXRjaGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBbdGV4dF0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoKSB7XG4gICAgICB2YXIgaW5wdXQgPSBfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbCh0aGlzKTsgLy8gV2Ugc2hvdWxkIG5vdCBiZSBzZXR0aW5nIHZhbHVlXG4gICAgICAvLyBwcm9ncmFtbWF0aWNhbGx5IG9uIHRoZSBpbnB1dFxuICAgICAgLy8gd2hlbiBpdCBpcyB1c2luZyB0eXBlPVwiZmlsZVwiXG5cbiAgICAgIGRlbGV0ZSBpbnB1dC5kYXRhLmRvbVByb3BzLnZhbHVlOyAvLyBUaGlzIHNvbHZlcyBhbiBpc3N1ZSBpbiBTYWZhcmkgd2hlcmVcbiAgICAgIC8vIG5vdGhpbmcgaGFwcGVucyB3aGVuIGFkZGluZyBhIGZpbGVcbiAgICAgIC8vIGRvIHRvIHRoZSBpbnB1dCBldmVudCBub3QgZmlyaW5nXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvaXNzdWVzLzc5NDFcblxuICAgICAgZGVsZXRlIGlucHV0LmRhdGEub24uaW5wdXQ7XG4gICAgICBpbnB1dC5kYXRhLm9uLmNoYW5nZSA9IHRoaXMub25JbnB1dDtcbiAgICAgIHJldHVybiBbdGhpcy5nZW5TZWxlY3Rpb25zKCksIGlucHV0XTtcbiAgICB9LFxuICAgIGdlblByZXBlbmRTbG90OiBmdW5jdGlvbiBnZW5QcmVwZW5kU2xvdCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5wcmVwZW5kSWNvbikgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgaWNvbiA9IHRoaXMuZ2VuSWNvbigncHJlcGVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuJHJlZnMuaW5wdXQuY2xpY2soKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuU2xvdCgncHJlcGVuZCcsICdvdXRlcicsIFtpY29uXSk7XG4gICAgfSxcbiAgICBnZW5TZWxlY3Rpb25UZXh0OiBmdW5jdGlvbiBnZW5TZWxlY3Rpb25UZXh0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikgcmV0dXJuIHRoaXMudGV4dDtcbiAgICAgIGlmICh0aGlzLnNob3dTaXplICYmICF0aGlzLmNvdW50ZXIpIHJldHVybiBbdGhpcy5jb3VudGVyVmFsdWVdO1xuICAgICAgcmV0dXJuIFt0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLmNvdW50ZXJTdHJpbmcsIGxlbmd0aCldO1xuICAgIH0sXG4gICAgZ2VuU2VsZWN0aW9uczogZnVuY3Rpb24gZ2VuU2VsZWN0aW9ucygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICBpZiAodGhpcy5pc0RpcnR5ICYmIHRoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGlvbikge1xuICAgICAgICB0aGlzLmludGVybmFsQXJyYXlWYWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlLCBpbmRleCkge1xuICAgICAgICAgIGlmICghX3RoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGlvbikgcmV0dXJuO1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2goX3RoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGlvbih7XG4gICAgICAgICAgICB0ZXh0OiBfdGhpcy50ZXh0W2luZGV4XSxcbiAgICAgICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmhhc0NoaXBzICYmIHRoaXMuaXNEaXJ0eSA/IHRoaXMuZ2VuQ2hpcHMoKSA6IHRoaXMuZ2VuU2VsZWN0aW9uVGV4dCgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWZpbGUtaW5wdXRfX3RleHQnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LWZpbGUtaW5wdXRfX3RleHQtLXBsYWNlaG9sZGVyJzogdGhpcy5wbGFjZWhvbGRlciAmJiAhdGhpcy5pc0RpcnR5LFxuICAgICAgICAgICd2LWZpbGUtaW5wdXRfX3RleHQtLWNoaXBzJzogdGhpcy5oYXNDaGlwcyAmJiAhdGhpcy4kc2NvcGVkU2xvdHMuc2VsZWN0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyZWZzLmlucHV0LmNsaWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGUpIHtcbiAgICAgIHZhciBmaWxlcyA9IF9fc3ByZWFkKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTtcblxuICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdGhpcy5pc011bHRpcGxlID8gZmlsZXMgOiBmaWxlc1swXTsgLy8gU2V0IGluaXRpYWxWYWx1ZSBoZXJlIG90aGVyd2lzZSBpc0ZvY3VzZWRcbiAgICAgIC8vIHdhdGNoZXIgaW4gVlRleHRGaWVsZCB3aWxsIGVtaXQgYSBjaGFuZ2VcbiAgICAgIC8vIGV2ZW50IHdoZW5ldmVyIHRoZSBjb21wb25lbnQgaXMgYmx1cnJlZFxuXG4gICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IHRoaXMuaW50ZXJuYWxWYWx1ZTtcbiAgICB9LFxuICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2tleWRvd24nLCBlKTtcbiAgICB9LFxuICAgIHRydW5jYXRlVGV4dDogZnVuY3Rpb24gdHJ1bmNhdGVUZXh0KHN0cikge1xuICAgICAgaWYgKHN0ci5sZW5ndGggPCBOdW1iZXIodGhpcy50cnVuY2F0ZUxlbmd0aCkpIHJldHVybiBzdHI7XG4gICAgICB2YXIgY2hhcnNLZWVwT25lU2lkZSA9IE1hdGguZmxvb3IoKE51bWJlcih0aGlzLnRydW5jYXRlTGVuZ3RoKSAtIDEpIC8gMik7XG4gICAgICByZXR1cm4gc3RyLnNsaWNlKDAsIGNoYXJzS2VlcE9uZVNpZGUpICsgXCJcXHUyMDI2XCIgKyBzdHIuc2xpY2Uoc3RyLmxlbmd0aCAtIGNoYXJzS2VlcE9uZVNpZGUpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZGaWxlSW5wdXQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkZpbGVJbnB1dC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkZpbGVJbnB1dCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkZpbGVJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRmlsZUlucHV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WRmlsZUlucHV0L1ZGaWxlSW5wdXQudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRmlsZUlucHV0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZGaWxlSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkZpbGVJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZvb3Rlci9WRm9vdGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZGb290ZXIvVkZvb3Rlci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZvb3Rlci9WRm9vdGVyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkZvb3Rlci9WRm9vdGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZGb290ZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRm9vdGVyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZGb290ZXIvVkZvb3Rlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRm9vdGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkZvb3Rlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYXBwbGljYXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYXBwbGljYXRpb25hYmxlICovIFwiLi9zcmMvbWl4aW5zL2FwcGxpY2F0aW9uYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNoZWV0X1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNoZWV0L1ZTaGVldCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L1ZTaGVldC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Nzcl9ib290YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3Nzci1ib290YWJsZSAqLyBcIi4vc3JjL21peGlucy9zc3ItYm9vdGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoX1ZTaGVldF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX2FwcGxpY2F0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoJ2Zvb3RlcicsIFsnaGVpZ2h0JywgJ2luc2V0J10pLCBfbWl4aW5zX3Nzcl9ib290YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZm9vdGVyJyxcbiAgcHJvcHM6IHtcbiAgICBoZWlnaHQ6IHtcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJyxcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ11cbiAgICB9LFxuICAgIGluc2V0OiBCb29sZWFuLFxuICAgIHBhZGxlc3M6IEJvb2xlYW4sXG4gICAgdGlsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgYXBwbGljYXRpb25Qcm9wZXJ0eTogZnVuY3Rpb24gYXBwbGljYXRpb25Qcm9wZXJ0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc2V0ID8gJ2luc2V0Rm9vdGVyJyA6ICdmb290ZXInO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZTaGVldF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtZm9vdGVyLS1hYnNvbHV0ZSc6IHRoaXMuYWJzb2x1dGUsXG4gICAgICAgICd2LWZvb3Rlci0tZml4ZWQnOiAhdGhpcy5hYnNvbHV0ZSAmJiAodGhpcy5hcHAgfHwgdGhpcy5maXhlZCksXG4gICAgICAgICd2LWZvb3Rlci0tcGFkbGVzcyc6IHRoaXMucGFkbGVzcyxcbiAgICAgICAgJ3YtZm9vdGVyLS1pbnNldCc6IHRoaXMuaW5zZXRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY29tcHV0ZWRCb3R0b206IGZ1bmN0aW9uIGNvbXB1dGVkQm90dG9tKCkge1xuICAgICAgaWYgKCF0aGlzLmlzUG9zaXRpb25lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aGlzLmFwcCA/IHRoaXMuJHZ1ZXRpZnkuYXBwbGljYXRpb24uYm90dG9tIDogMDtcbiAgICB9LFxuICAgIGNvbXB1dGVkTGVmdDogZnVuY3Rpb24gY29tcHV0ZWRMZWZ0KCkge1xuICAgICAgaWYgKCF0aGlzLmlzUG9zaXRpb25lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aGlzLmFwcCAmJiB0aGlzLmluc2V0ID8gdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbi5sZWZ0IDogMDtcbiAgICB9LFxuICAgIGNvbXB1dGVkUmlnaHQ6IGZ1bmN0aW9uIGNvbXB1dGVkUmlnaHQoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNQb3NpdGlvbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHRoaXMuYXBwICYmIHRoaXMuaW5zZXQgPyB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLnJpZ2h0IDogMDtcbiAgICB9LFxuICAgIGlzUG9zaXRpb25lZDogZnVuY3Rpb24gaXNQb3NpdGlvbmVkKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5hYnNvbHV0ZSB8fCB0aGlzLmZpeGVkIHx8IHRoaXMuYXBwKTtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgdmFyIGhlaWdodCA9IHBhcnNlSW50KHRoaXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZTaGVldF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5zdHlsZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICBoZWlnaHQ6IGlzTmFOKGhlaWdodCkgPyBoZWlnaHQgOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY29udmVydFRvVW5pdFwiXSkoaGVpZ2h0KSxcbiAgICAgICAgbGVmdDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRMZWZ0KSxcbiAgICAgICAgcmlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkUmlnaHQpLFxuICAgICAgICBib3R0b206IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkQm90dG9tKVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgdXBkYXRlQXBwbGljYXRpb246IGZ1bmN0aW9uIHVwZGF0ZUFwcGxpY2F0aW9uKCkge1xuICAgICAgdmFyIGhlaWdodCA9IHBhcnNlSW50KHRoaXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybiBpc05hTihoZWlnaHQpID8gdGhpcy4kZWwgPyB0aGlzLiRlbC5jbGllbnRIZWlnaHQgOiAwIDogaGVpZ2h0O1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb2xvciwge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LWZvb3RlcicsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzLFxuICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzXG4gICAgfSk7XG4gICAgcmV0dXJuIGgoJ2Zvb3RlcicsIGRhdGEsIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZvb3Rlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WRm9vdGVyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWRm9vdGVyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZGb290ZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZGb290ZXIvVkZvb3Rlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZGb290ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkZvb3Rlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WRm9ybS9WRm9ybS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkZvcm0vVkZvcm0udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2JpbmRzX2F0dHJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYmluZHMtYXR0cnMgKi8gXCIuL3NyYy9taXhpbnMvYmluZHMtYXR0cnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JlZ2lzdHJhYmxlICovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gTWl4aW5zXG5cblxuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2JpbmRzX2F0dHJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBPYmplY3QoX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicHJvdmlkZVwiXSkoJ2Zvcm0nKVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtZm9ybScsXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG4gIHByb3BzOiB7XG4gICAgbGF6eVZhbGlkYXRpb246IEJvb2xlYW4sXG4gICAgdmFsdWU6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRzOiBbXSxcbiAgICAgIHdhdGNoZXJzOiBbXSxcbiAgICAgIGVycm9yQmFnOiB7fVxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZXJyb3JCYWc6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7XG4gICAgICAgIHZhciBlcnJvcnMgPSBPYmplY3QudmFsdWVzKHZhbCkuaW5jbHVkZXModHJ1ZSk7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgIWVycm9ycyk7XG4gICAgICB9LFxuICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHdhdGNoSW5wdXQ6IGZ1bmN0aW9uIHdhdGNoSW5wdXQoaW5wdXQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciB3YXRjaGVyID0gZnVuY3Rpb24gd2F0Y2hlcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQuJHdhdGNoKCdoYXNFcnJvcicsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICBfdGhpcy4kc2V0KF90aGlzLmVycm9yQmFnLCBpbnB1dC5fdWlkLCB2YWwpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIHdhdGNoZXJzID0ge1xuICAgICAgICBfdWlkOiBpbnB1dC5fdWlkLFxuICAgICAgICB2YWxpZDogZnVuY3Rpb24gdmFsaWQoKSB7fSxcbiAgICAgICAgc2hvdWxkVmFsaWRhdGU6IGZ1bmN0aW9uIHNob3VsZFZhbGlkYXRlKCkge31cbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmxhenlWYWxpZGF0aW9uKSB7XG4gICAgICAgIC8vIE9ubHkgc3RhcnQgd2F0Y2hpbmcgaW5wdXRzIGlmIHdlIG5lZWQgdG9cbiAgICAgICAgd2F0Y2hlcnMuc2hvdWxkVmFsaWRhdGUgPSBpbnB1dC4kd2F0Y2goJ3Nob3VsZFZhbGlkYXRlJywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIGlmICghdmFsKSByZXR1cm47IC8vIE9ubHkgd2F0Y2ggaWYgd2UncmUgbm90IGFscmVhZHkgZG9pbmcgaXRcblxuICAgICAgICAgIGlmIChfdGhpcy5lcnJvckJhZy5oYXNPd25Qcm9wZXJ0eShpbnB1dC5fdWlkKSkgcmV0dXJuO1xuICAgICAgICAgIHdhdGNoZXJzLnZhbGlkID0gd2F0Y2hlcihpbnB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2F0Y2hlcnMudmFsaWQgPSB3YXRjaGVyKGlucHV0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdhdGNoZXJzO1xuICAgIH0sXG5cbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlucHV0cy5maWx0ZXIoZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAhaW5wdXQudmFsaWRhdGUodHJ1ZSk7XG4gICAgICB9KS5sZW5ndGggPT09IDA7XG4gICAgfSxcblxuICAgIC8qKiBAcHVibGljICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdGhpcy5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVzZXRFcnJvckJhZygpO1xuICAgIH0sXG4gICAgcmVzZXRFcnJvckJhZzogZnVuY3Rpb24gcmVzZXRFcnJvckJhZygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmxhenlWYWxpZGF0aW9uKSB7XG4gICAgICAgIC8vIEFjY291bnQgZm9yIHRpbWVvdXQgaW4gdmFsaWRhdGFibGVcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuZXJyb3JCYWcgPSB7fTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBAcHVibGljICovXG4gICAgcmVzZXRWYWxpZGF0aW9uOiBmdW5jdGlvbiByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVzZXRFcnJvckJhZygpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGlucHV0KSB7XG4gICAgICB0aGlzLmlucHV0cy5wdXNoKGlucHV0KTtcbiAgICAgIHRoaXMud2F0Y2hlcnMucHVzaCh0aGlzLndhdGNoSW5wdXQoaW5wdXQpKTtcbiAgICB9LFxuICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXIoaW5wdXQpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuaW5wdXRzLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkuX3VpZCA9PT0gaW5wdXQuX3VpZDtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFmb3VuZCkgcmV0dXJuO1xuICAgICAgdmFyIHVud2F0Y2ggPSB0aGlzLndhdGNoZXJzLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkuX3VpZCA9PT0gZm91bmQuX3VpZDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodW53YXRjaCkge1xuICAgICAgICB1bndhdGNoLnZhbGlkKCk7XG4gICAgICAgIHVud2F0Y2guc2hvdWxkVmFsaWRhdGUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53YXRjaGVycyA9IHRoaXMud2F0Y2hlcnMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBpLl91aWQgIT09IGZvdW5kLl91aWQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5wdXRzID0gdGhpcy5pbnB1dHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBpLl91aWQgIT09IGZvdW5kLl91aWQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLmVycm9yQmFnLCBmb3VuZC5fdWlkKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGgoJ2Zvcm0nLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtZm9ybScsXG4gICAgICBhdHRyczogX19hc3NpZ24oe1xuICAgICAgICBub3ZhbGlkYXRlOiB0cnVlXG4gICAgICB9LCB0aGlzLmF0dHJzJCksXG4gICAgICBvbjoge1xuICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdzdWJtaXQnLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkZvcm0vaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZGb3JtL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkZvcm0sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZGb3JtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZGb3JtICovIFwiLi9zcmMvY29tcG9uZW50cy9WRm9ybS9WRm9ybS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZGb3JtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZGb3JtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZGb3JtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WQ29sLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZDb2wudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZHcmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkdyaWQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkdyaWQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkdyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WR3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9tZXJnZURhdGFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWVyZ2VEYXRhICovIFwiLi9zcmMvdXRpbC9tZXJnZURhdGEudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuXG5cblxuIC8vIG5vIHhzXG5cbnZhciBicmVha3BvaW50cyA9IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnXTtcblxudmFyIGJyZWFrcG9pbnRQcm9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGJyZWFrcG9pbnRzLnJlZHVjZShmdW5jdGlvbiAocHJvcHMsIHZhbCkge1xuICAgIHByb3BzW3ZhbF0gPSB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBwcm9wcztcbiAgfSwge30pO1xufSgpO1xuXG52YXIgb2Zmc2V0UHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBicmVha3BvaW50cy5yZWR1Y2UoZnVuY3Rpb24gKHByb3BzLCB2YWwpIHtcbiAgICBwcm9wc1snb2Zmc2V0JyArIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJ1cHBlckZpcnN0XCJdKSh2YWwpXSA9IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfTtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH0sIHt9KTtcbn0oKTtcblxudmFyIG9yZGVyUHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBicmVha3BvaW50cy5yZWR1Y2UoZnVuY3Rpb24gKHByb3BzLCB2YWwpIHtcbiAgICBwcm9wc1snb3JkZXInICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcInVwcGVyRmlyc3RcIl0pKHZhbCldID0ge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBwcm9wcztcbiAgfSwge30pO1xufSgpO1xuXG52YXIgcHJvcE1hcCA9IHtcbiAgY29sOiBPYmplY3Qua2V5cyhicmVha3BvaW50UHJvcHMpLFxuICBvZmZzZXQ6IE9iamVjdC5rZXlzKG9mZnNldFByb3BzKSxcbiAgb3JkZXI6IE9iamVjdC5rZXlzKG9yZGVyUHJvcHMpXG59O1xuXG5mdW5jdGlvbiBicmVha3BvaW50Q2xhc3ModHlwZSwgcHJvcCwgdmFsKSB7XG4gIHZhciBjbGFzc05hbWUgPSB0eXBlO1xuXG4gIGlmICh2YWwgPT0gbnVsbCB8fCB2YWwgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmIChwcm9wKSB7XG4gICAgdmFyIGJyZWFrcG9pbnQgPSBwcm9wLnJlcGxhY2UodHlwZSwgJycpO1xuICAgIGNsYXNzTmFtZSArPSBcIi1cIiArIGJyZWFrcG9pbnQ7XG4gIH0gLy8gSGFuZGxpbmcgdGhlIGJvb2xlYW4gc3R5bGUgcHJvcCB3aGVuIGFjY2VwdGluZyBbQm9vbGVhbiwgU3RyaW5nLCBOdW1iZXJdXG4gIC8vIG1lYW5zIFZ1ZSB3aWxsIG5vdCBjb252ZXJ0IDx2LWNvbCBzbT48L3YtY29sPiB0byBzbTogdHJ1ZSBmb3IgdXMuXG4gIC8vIFNpbmNlIHRoZSBkZWZhdWx0IGlzIGZhbHNlLCBhbiBlbXB0eSBzdHJpbmcgaW5kaWNhdGVzIHRoZSBwcm9wJ3MgcHJlc2VuY2UuXG5cblxuICBpZiAodHlwZSA9PT0gJ2NvbCcgJiYgKHZhbCA9PT0gJycgfHwgdmFsID09PSB0cnVlKSkge1xuICAgIC8vIC5jb2wtbWRcbiAgICByZXR1cm4gY2xhc3NOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIH0gLy8gLm9yZGVyLW1kLTZcblxuXG4gIGNsYXNzTmFtZSArPSBcIi1cIiArIHZhbDtcbiAgcmV0dXJuIGNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO1xufVxuXG52YXIgY2FjaGUgPSBuZXcgTWFwKCk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndi1jb2wnLFxuICBmdW5jdGlvbmFsOiB0cnVlLFxuICBwcm9wczogX19hc3NpZ24oe1xuICAgIGNvbHM6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbiAgfSwgYnJlYWtwb2ludFByb3BzLCB7XG4gICAgb2Zmc2V0OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH1cbiAgfSwgb2Zmc2V0UHJvcHMsIHtcbiAgICBvcmRlcjoge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9XG4gIH0sIG9yZGVyUHJvcHMsIHtcbiAgICBhbGlnblNlbGY6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihzdHIpIHtcbiAgICAgICAgcmV0dXJuIFsnYXV0bycsICdzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2Jhc2VsaW5lJywgJ3N0cmV0Y2gnXS5pbmNsdWRlcyhzdHIpO1xuICAgICAgfVxuICAgIH0sXG4gICAganVzdGlmeVNlbGY6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihzdHIpIHtcbiAgICAgICAgcmV0dXJuIFsnYXV0bycsICdzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2Jhc2VsaW5lJywgJ3N0cmV0Y2gnXS5pbmNsdWRlcyhzdHIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZGl2J1xuICAgIH1cbiAgfSksXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9hKSB7XG4gICAgdmFyIF9iO1xuXG4gICAgdmFyIHByb3BzID0gX2EucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfYS5kYXRhLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBwYXJlbnQgPSBfYS5wYXJlbnQ7IC8vIFN1cGVyLWZhc3QgbWVtb2l6YXRpb24gYmFzZWQgb24gcHJvcHMsIDV4IGZhc3RlciB0aGFuIEpTT04uc3RyaW5naWZ5XG5cbiAgICB2YXIgY2FjaGVLZXkgPSAnJztcblxuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcbiAgICAgIGNhY2hlS2V5ICs9IFN0cmluZyhwcm9wc1twcm9wXSk7XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTGlzdCA9IGNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICBpZiAoIWNsYXNzTGlzdCkge1xuICAgICAgY2xhc3NMaXN0ID0gW107IC8vIExvb3AgdGhyb3VnaCBgY29sYCwgYG9mZnNldGAsIGBvcmRlcmAgYnJlYWtwb2ludCBwcm9wc1xuXG4gICAgICB2YXIgdHlwZV8xO1xuXG4gICAgICBmb3IgKHR5cGVfMSBpbiBwcm9wTWFwKSB7XG4gICAgICAgIHByb3BNYXBbdHlwZV8xXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcF07XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGJyZWFrcG9pbnRDbGFzcyh0eXBlXzEsIHByb3AsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoY2xhc3NOYW1lKSBjbGFzc0xpc3QucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhhc0NvbENsYXNzZXMgPSBjbGFzc0xpc3Quc29tZShmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBjbGFzc05hbWUuc3RhcnRzV2l0aCgnY29sLScpO1xuICAgICAgfSk7XG4gICAgICBjbGFzc0xpc3QucHVzaCgoX2IgPSB7XG4gICAgICAgIC8vIERlZmF1bHQgdG8gLmNvbCBpZiBubyBvdGhlciBjb2wte2JwfS0qIGNsYXNzZXMgZ2VuZXJhdGVkIG5vciBgY29sc2Agc3BlY2lmaWVkLlxuICAgICAgICBjb2w6ICFoYXNDb2xDbGFzc2VzIHx8ICFwcm9wcy5jb2xzXG4gICAgICB9LCBfYltcImNvbC1cIiArIHByb3BzLmNvbHNdID0gcHJvcHMuY29scywgX2JbXCJvZmZzZXQtXCIgKyBwcm9wcy5vZmZzZXRdID0gcHJvcHMub2Zmc2V0LCBfYltcIm9yZGVyLVwiICsgcHJvcHMub3JkZXJdID0gcHJvcHMub3JkZXIsIF9iW1wiYWxpZ24tc2VsZi1cIiArIHByb3BzLmFsaWduU2VsZl0gPSBwcm9wcy5hbGlnblNlbGYsIF9iW1wianVzdGlmeS1zZWxmLVwiICsgcHJvcHMuanVzdGlmeVNlbGZdID0gcHJvcHMuanVzdGlmeVNlbGYsIF9iKSk7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNsYXNzTGlzdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgocHJvcHMudGFnLCBPYmplY3QoX3V0aWxfbWVyZ2VEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShkYXRhLCB7XG4gICAgICBjbGFzczogY2xhc3NMaXN0XG4gICAgfSksIGNoaWxkcmVuKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZDb250YWluZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkNvbnRhaW5lci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19ncmlkLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL19ncmlkLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9ncmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZHcmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkdyaWQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkdyaWQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkdyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WR3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ncmlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dyaWQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL2dyaWQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWVyZ2VEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21lcmdlRGF0YSAqLyBcIi4vc3JjL3V0aWwvbWVyZ2VEYXRhLnRzXCIpO1xuXG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfZ3JpZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoJ2NvbnRhaW5lcicpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWNvbnRhaW5lcicsXG4gIGZ1bmN0aW9uYWw6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgfSxcbiAgICBmbHVpZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgIHZhciBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgY2xhc3NlcztcbiAgICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzO1xuXG4gICAgaWYgKGF0dHJzKSB7XG4gICAgICAvLyByZXNldCBhdHRycyB0byBleHRyYWN0IHV0aWxpdHkgY2xhc2VzIGxpa2UgcGEtM1xuICAgICAgZGF0YS5hdHRycyA9IHt9O1xuICAgICAgY2xhc3NlcyA9IE9iamVjdC5rZXlzKGF0dHJzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSByZXNvbHZlZFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy83ODQxXG4gICAgICAgIGlmIChrZXkgPT09ICdzbG90JykgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgdmFsdWUgPSBhdHRyc1trZXldOyAvLyBhZGQgYmFjayBkYXRhIGF0dHJpYnV0ZXMgbGlrZSBkYXRhLXRlc3Q9XCJmb29cIiBidXQgZG8gbm90XG4gICAgICAgIC8vIGFkZCB0aGVtIGFzIGNsYXNzZXNcblxuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykpIHtcbiAgICAgICAgICBkYXRhLmF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5pZCkge1xuICAgICAgZGF0YS5kb21Qcm9wcyA9IGRhdGEuZG9tUHJvcHMgfHwge307XG4gICAgICBkYXRhLmRvbVByb3BzLmlkID0gcHJvcHMuaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgocHJvcHMudGFnLCBPYmplY3QoX3V0aWxfbWVyZ2VEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShkYXRhLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ2NvbnRhaW5lcicsXG4gICAgICBjbGFzczogQXJyYXkoe1xuICAgICAgICAnY29udGFpbmVyLS1mbHVpZCc6IHByb3BzLmZsdWlkXG4gICAgICB9KS5jb25jYXQoY2xhc3NlcyB8fCBbXSlcbiAgICB9KSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkZsZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZGbGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19ncmlkLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL19ncmlkLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9ncmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dyaWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ3JpZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvZ3JpZC50c1wiKTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfZ3JpZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoJ2ZsZXgnKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkdyaWQuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WR3JpZC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WTGF5b3V0LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZMYXlvdXQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZ3JpZC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9fZ3JpZC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ncmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfZ3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ncmlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dyaWQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL2dyaWQudHNcIik7XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX2dyaWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKCdsYXlvdXQnKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVlJvdy50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WUm93LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WR3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZHcmlkLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZHcmlkLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZHcmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkdyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWVyZ2VEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21lcmdlRGF0YSAqLyBcIi4vc3JjL3V0aWwvbWVyZ2VEYXRhLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG5cblxuIC8vIG5vIHhzXG5cbnZhciBicmVha3BvaW50cyA9IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnXTtcbnZhciBBTElHTk1FTlQgPSBbJ3N0YXJ0JywgJ2VuZCcsICdjZW50ZXInXTtcblxuZnVuY3Rpb24gbWFrZVByb3BzKHByZWZpeCwgZGVmKSB7XG4gIHJldHVybiBicmVha3BvaW50cy5yZWR1Y2UoZnVuY3Rpb24gKHByb3BzLCB2YWwpIHtcbiAgICBwcm9wc1twcmVmaXggKyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1widXBwZXJGaXJzdFwiXSkodmFsKV0gPSBkZWYoKTtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH0sIHt9KTtcbn1cblxudmFyIGFsaWduVmFsaWRhdG9yID0gZnVuY3Rpb24gYWxpZ25WYWxpZGF0b3Ioc3RyKSB7XG4gIHJldHVybiBfX3NwcmVhZChBTElHTk1FTlQsIFsnYmFzZWxpbmUnLCAnc3RyZXRjaCddKS5pbmNsdWRlcyhzdHIpO1xufTtcblxudmFyIGFsaWduUHJvcHMgPSBtYWtlUHJvcHMoJ2FsaWduJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBudWxsLFxuICAgIHZhbGlkYXRvcjogYWxpZ25WYWxpZGF0b3JcbiAgfTtcbn0pO1xuXG52YXIganVzdGlmeVZhbGlkYXRvciA9IGZ1bmN0aW9uIGp1c3RpZnlWYWxpZGF0b3Ioc3RyKSB7XG4gIHJldHVybiBfX3NwcmVhZChBTElHTk1FTlQsIFsnc3BhY2UtYmV0d2VlbicsICdzcGFjZS1hcm91bmQnXSkuaW5jbHVkZXMoc3RyKTtcbn07XG5cbnZhciBqdXN0aWZ5UHJvcHMgPSBtYWtlUHJvcHMoJ2p1c3RpZnknLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgdmFsaWRhdG9yOiBqdXN0aWZ5VmFsaWRhdG9yXG4gIH07XG59KTtcblxudmFyIGFsaWduQ29udGVudFZhbGlkYXRvciA9IGZ1bmN0aW9uIGFsaWduQ29udGVudFZhbGlkYXRvcihzdHIpIHtcbiAgcmV0dXJuIF9fc3ByZWFkKEFMSUdOTUVOVCwgWydzcGFjZS1iZXR3ZWVuJywgJ3NwYWNlLWFyb3VuZCcsICdzdHJldGNoJ10pLmluY2x1ZGVzKHN0cik7XG59O1xuXG52YXIgYWxpZ25Db250ZW50UHJvcHMgPSBtYWtlUHJvcHMoJ2FsaWduQ29udGVudCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbnVsbCxcbiAgICB2YWxpZGF0b3I6IGFsaWduQ29udGVudFZhbGlkYXRvclxuICB9O1xufSk7XG52YXIgcHJvcE1hcCA9IHtcbiAgYWxpZ246IE9iamVjdC5rZXlzKGFsaWduUHJvcHMpLFxuICBqdXN0aWZ5OiBPYmplY3Qua2V5cyhqdXN0aWZ5UHJvcHMpLFxuICBhbGlnbkNvbnRlbnQ6IE9iamVjdC5rZXlzKGFsaWduQ29udGVudFByb3BzKVxufTtcbnZhciBjbGFzc01hcCA9IHtcbiAgYWxpZ246ICdhbGlnbicsXG4gIGp1c3RpZnk6ICdqdXN0aWZ5JyxcbiAgYWxpZ25Db250ZW50OiAnYWxpZ24tY29udGVudCdcbn07XG5cbmZ1bmN0aW9uIGJyZWFrcG9pbnRDbGFzcyh0eXBlLCBwcm9wLCB2YWwpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTWFwW3R5cGVdO1xuXG4gIGlmICh2YWwgPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAocHJvcCkge1xuICAgIC8vIGFsaWduU20gLT4gU21cbiAgICB2YXIgYnJlYWtwb2ludCA9IHByb3AucmVwbGFjZSh0eXBlLCAnJyk7XG4gICAgY2xhc3NOYW1lICs9IFwiLVwiICsgYnJlYWtwb2ludDtcbiAgfSAvLyAuYWxpZ24taXRlbXMtc20tY2VudGVyXG5cblxuICBjbGFzc05hbWUgKz0gXCItXCIgKyB2YWw7XG4gIHJldHVybiBjbGFzc05hbWUudG9Mb3dlckNhc2UoKTtcbn1cblxudmFyIGNhY2hlID0gbmV3IE1hcCgpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytcm93JyxcbiAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgcHJvcHM6IF9fYXNzaWduKHtcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgfSxcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICBub0d1dHRlcnM6IEJvb2xlYW4sXG4gICAgYWxpZ246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB2YWxpZGF0b3I6IGFsaWduVmFsaWRhdG9yXG4gICAgfVxuICB9LCBhbGlnblByb3BzLCB7XG4gICAganVzdGlmeToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIHZhbGlkYXRvcjoganVzdGlmeVZhbGlkYXRvclxuICAgIH1cbiAgfSwganVzdGlmeVByb3BzLCB7XG4gICAgYWxpZ25Db250ZW50OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBhbGlnbkNvbnRlbnRWYWxpZGF0b3JcbiAgICB9XG4gIH0sIGFsaWduQ29udGVudFByb3BzKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX2EpIHtcbiAgICB2YXIgX2I7XG5cbiAgICB2YXIgcHJvcHMgPSBfYS5wcm9wcyxcbiAgICAgICAgZGF0YSA9IF9hLmRhdGEsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47IC8vIFN1cGVyLWZhc3QgbWVtb2l6YXRpb24gYmFzZWQgb24gcHJvcHMsIDV4IGZhc3RlciB0aGFuIEpTT04uc3RyaW5naWZ5XG5cbiAgICB2YXIgY2FjaGVLZXkgPSAnJztcblxuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcbiAgICAgIGNhY2hlS2V5ICs9IFN0cmluZyhwcm9wc1twcm9wXSk7XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTGlzdCA9IGNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICBpZiAoIWNsYXNzTGlzdCkge1xuICAgICAgY2xhc3NMaXN0ID0gW107IC8vIExvb3AgdGhyb3VnaCBgYWxpZ25gLCBganVzdGlmeWAsIGBhbGlnbkNvbnRlbnRgIGJyZWFrcG9pbnQgcHJvcHNcblxuICAgICAgdmFyIHR5cGVfMTtcblxuICAgICAgZm9yICh0eXBlXzEgaW4gcHJvcE1hcCkge1xuICAgICAgICBwcm9wTWFwW3R5cGVfMV0uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBicmVha3BvaW50Q2xhc3ModHlwZV8xLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSkgY2xhc3NMaXN0LnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNsYXNzTGlzdC5wdXNoKChfYiA9IHtcbiAgICAgICAgJ25vLWd1dHRlcnMnOiBwcm9wcy5ub0d1dHRlcnMsXG4gICAgICAgICdyb3ctLWRlbnNlJzogcHJvcHMuZGVuc2VcbiAgICAgIH0sIF9iW1wiYWxpZ24tXCIgKyBwcm9wcy5hbGlnbl0gPSBwcm9wcy5hbGlnbiwgX2JbXCJqdXN0aWZ5LVwiICsgcHJvcHMuanVzdGlmeV0gPSBwcm9wcy5qdXN0aWZ5LCBfYltcImFsaWduLWNvbnRlbnQtXCIgKyBwcm9wcy5hbGlnbkNvbnRlbnRdID0gcHJvcHMuYWxpZ25Db250ZW50LCBfYikpO1xuICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCBjbGFzc0xpc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBoKHByb3BzLnRhZywgT2JqZWN0KF91dGlsX21lcmdlRGF0YV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZGF0YSwge1xuICAgICAgc3RhdGljQ2xhc3M6ICdyb3cnLFxuICAgICAgY2xhc3M6IGNsYXNzTGlzdFxuICAgIH0pLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WU3BhY2VyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZTcGFjZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dyaWRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZ3JpZC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9fZ3JpZC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ncmlkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfZ3JpZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVTaW1wbGVGdW5jdGlvbmFsXCJdKSgnc3BhY2VyJywgJ2RpdicsICd2LXNwYWNlcicpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9fZ3JpZC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZHcmlkL19ncmlkLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL2dyaWQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkdyaWQvZ3JpZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkdyaWQ7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8vIFR5cGVzXG5cbmZ1bmN0aW9uIFZHcmlkKG5hbWUpIHtcbiAgLyogQHZ1ZS9jb21wb25lbnQgKi9cbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG5hbWU6IFwidi1cIiArIG5hbWUsXG4gICAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgICBwcm9wczoge1xuICAgICAgaWQ6IFN0cmluZyxcbiAgICAgIHRhZzoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgICB9XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgICAgdmFyIHByb3BzID0gX2EucHJvcHMsXG4gICAgICAgICAgZGF0YSA9IF9hLmRhdGEsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICAgIGRhdGEuc3RhdGljQ2xhc3MgPSAobmFtZSArIFwiIFwiICsgKGRhdGEuc3RhdGljQ2xhc3MgfHwgJycpKS50cmltKCk7XG4gICAgICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzO1xuXG4gICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgLy8gcmVzZXQgYXR0cnMgdG8gZXh0cmFjdCB1dGlsaXR5IGNsYXNlcyBsaWtlIHBhLTNcbiAgICAgICAgZGF0YS5hdHRycyA9IHt9O1xuICAgICAgICB2YXIgY2xhc3NlcyA9IE9iamVjdC5rZXlzKGF0dHJzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBvbmNlIHJlc29sdmVkXG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvNzg0MVxuICAgICAgICAgIGlmIChrZXkgPT09ICdzbG90JykgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGF0dHJzW2tleV07IC8vIGFkZCBiYWNrIGRhdGEgYXR0cmlidXRlcyBsaWtlIGRhdGEtdGVzdD1cImZvb1wiIGJ1dCBkbyBub3RcbiAgICAgICAgICAvLyBhZGQgdGhlbSBhcyBjbGFzc2VzXG5cbiAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykpIHtcbiAgICAgICAgICAgIGRhdGEuYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNsYXNzZXMubGVuZ3RoKSBkYXRhLnN0YXRpY0NsYXNzICs9IFwiIFwiICsgY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5pZCkge1xuICAgICAgICBkYXRhLmRvbVByb3BzID0gZGF0YS5kb21Qcm9wcyB8fCB7fTtcbiAgICAgICAgZGF0YS5kb21Qcm9wcy5pZCA9IHByb3BzLmlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaChwcm9wcy50YWcsIGRhdGEsIGNoaWxkcmVuKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WR3JpZC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZDb250YWluZXIsIFZDb2wsIFZSb3csIFZTcGFjZXIsIFZMYXlvdXQsIFZGbGV4LCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29udGFpbmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb250YWluZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZDb250YWluZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29udGFpbmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDb250YWluZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb2xfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNvbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkNvbC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb2xcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNvbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUm93ICovIFwiLi9zcmMvY29tcG9uZW50cy9WR3JpZC9WUm93LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlJvd1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUm93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3BhY2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTcGFjZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZTcGFjZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3BhY2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTcGFjZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMYXlvdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxheW91dCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvVkxheW91dC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMYXlvdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxheW91dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkZsZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkZsZXggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZHcmlkL1ZGbGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZsZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkZsZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZDb250YWluZXI6IF9WQ29udGFpbmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZDb2w6IF9WQ29sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICAgIFZSb3c6IF9WUm93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICAgIFZTcGFjZXI6IF9WU3BhY2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLFxuICAgIFZMYXlvdXQ6IF9WTGF5b3V0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLFxuICAgIFZGbGV4OiBfVkZsZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkhvdmVyL1ZIb3Zlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSG92ZXIvVkhvdmVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZGVsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZGVsYXlhYmxlICovIFwiLi9zcmMvbWl4aW5zL2RlbGF5YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8vIE1peGluc1xuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfZGVsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWhvdmVyJyxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgICAgdGhpcy5ydW5EZWxheSgnb3BlbicpO1xuICAgIH0sXG4gICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLnJ1bkRlbGF5KCdjbG9zZScpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLiRzY29wZWRTbG90cy5kZWZhdWx0ICYmIHRoaXMudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnNvbGVXYXJuXCJdKSgndi1ob3ZlciBpcyBtaXNzaW5nIGEgZGVmYXVsdCBzY29wZWRTbG90IG9yIGJvdW5kIHZhbHVlJywgdGhpcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXG4gICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLiRzY29wZWRTbG90cy5kZWZhdWx0KHtcbiAgICAgICAgaG92ZXI6IHRoaXMuaXNBY3RpdmVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpICYmIGVsZW1lbnQubGVuZ3RoID09PSAxKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICB9XG5cbiAgICBpZiAoIWVsZW1lbnQgfHwgQXJyYXkuaXNBcnJheShlbGVtZW50KSB8fCAhZWxlbWVudC50YWcpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25zb2xlV2FyblwiXSkoJ3YtaG92ZXIgc2hvdWxkIG9ubHkgY29udGFpbiBhIHNpbmdsZSBlbGVtZW50JywgdGhpcyk7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGVsZW1lbnQuZGF0YSA9IGVsZW1lbnQuZGF0YSB8fCB7fTtcblxuICAgICAgdGhpcy5fZyhlbGVtZW50LmRhdGEsIHtcbiAgICAgICAgbW91c2VlbnRlcjogdGhpcy5vbk1vdXNlRW50ZXIsXG4gICAgICAgIG1vdXNlbGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZIb3Zlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZIb3Zlci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWSG92ZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZIb3Zlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSG92ZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZIb3Zlci9WSG92ZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSG92ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkhvdmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZIb3Zlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vVkljb24uc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSWNvbi9WSWNvbi5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9WSWNvbi50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkljb24vVkljb24udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZJY29uLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL1ZJY29uLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkljb25fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2JpbmRzX2F0dHJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYmluZHMtYXR0cnMgKi8gXCIuL3NyYy9taXhpbnMvYmluZHMtYXR0cnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfc2l6ZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zaXplYWJsZSAqLyBcIi4vc3JjL21peGlucy9zaXplYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4gLy8gTWl4aW5zXG5cblxuXG5cbiAvLyBVdGlsXG5cbiAvLyBUeXBlc1xuXG5cblxudmFyIFNJWkVfTUFQO1xuXG4oZnVuY3Rpb24gKFNJWkVfTUFQKSB7XG4gIFNJWkVfTUFQW1wieFNtYWxsXCJdID0gXCIxMnB4XCI7XG4gIFNJWkVfTUFQW1wic21hbGxcIl0gPSBcIjE2cHhcIjtcbiAgU0laRV9NQVBbXCJkZWZhdWx0XCJdID0gXCIyNHB4XCI7XG4gIFNJWkVfTUFQW1wibWVkaXVtXCJdID0gXCIyOHB4XCI7XG4gIFNJWkVfTUFQW1wibGFyZ2VcIl0gPSBcIjM2cHhcIjtcbiAgU0laRV9NQVBbXCJ4TGFyZ2VcIl0gPSBcIjQwcHhcIjtcbn0pKFNJWkVfTUFQIHx8IChTSVpFX01BUCA9IHt9KSk7XG5cbmZ1bmN0aW9uIGlzRm9udEF3ZXNvbWU1KGljb25UeXBlKSB7XG4gIHJldHVybiBbJ2ZhcycsICdmYXInLCAnZmFsJywgJ2ZhYiddLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBpY29uVHlwZS5pbmNsdWRlcyh2YWwpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNTdmdQYXRoKGljb24pIHtcbiAgcmV0dXJuIC9eW216bGh2Y3NxdGFdXFxzKlstKy4wLTldW15tbGh2emNzcXRhXSsvaS50ZXN0KGljb24pICYmIC9bXFxkel0kL2kudGVzdChpY29uKSAmJiBpY29uLmxlbmd0aCA+IDQ7XG59XG5cbnZhciBWSWNvbiA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYmluZHNfYXR0cnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3NpemVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtaWNvbicsXG4gIHByb3BzOiB7XG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgbGVmdDogQm9vbGVhbixcbiAgICByaWdodDogQm9vbGVhbixcbiAgICBzaXplOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgIHRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgZGVmYXVsdDogJ2knXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIG1lZGl1bTogZnVuY3Rpb24gbWVkaXVtKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldEljb246IGZ1bmN0aW9uIGdldEljb24oKSB7XG4gICAgICB2YXIgaWNvbk5hbWUgPSAnJztcbiAgICAgIGlmICh0aGlzLiRzbG90cy5kZWZhdWx0KSBpY29uTmFtZSA9IHRoaXMuJHNsb3RzLmRlZmF1bHRbMF0udGV4dC50cmltKCk7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcInJlbWFwSW50ZXJuYWxJY29uXCJdKSh0aGlzLCBpY29uTmFtZSk7XG4gICAgfSxcbiAgICBnZXRTaXplOiBmdW5jdGlvbiBnZXRTaXplKCkge1xuICAgICAgdmFyIHNpemVzID0ge1xuICAgICAgICB4U21hbGw6IHRoaXMueFNtYWxsLFxuICAgICAgICBzbWFsbDogdGhpcy5zbWFsbCxcbiAgICAgICAgbWVkaXVtOiB0aGlzLm1lZGl1bSxcbiAgICAgICAgbGFyZ2U6IHRoaXMubGFyZ2UsXG4gICAgICAgIHhMYXJnZTogdGhpcy54TGFyZ2VcbiAgICAgIH07XG4gICAgICB2YXIgZXhwbGljaXRTaXplID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImtleXNcIl0pKHNpemVzKS5maW5kKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNpemVzW2tleV07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBleHBsaWNpdFNpemUgJiYgU0laRV9NQVBbZXhwbGljaXRTaXplXSB8fCBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5zaXplKTtcbiAgICB9LFxuICAgIC8vIENvbXBvbmVudCBkYXRhIGZvciBib3RoIGZvbnQgYW5kIHN2ZyBpY29uLlxuICAgIGdldERlZmF1bHREYXRhOiBmdW5jdGlvbiBnZXREZWZhdWx0RGF0YSgpIHtcbiAgICAgIHZhciBoYXNDbGlja0xpc3RlbmVyID0gQm9vbGVhbih0aGlzLmxpc3RlbmVycyQuY2xpY2sgfHwgdGhpcy5saXN0ZW5lcnMkWychY2xpY2snXSk7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWljb24gbm90cmFuc2xhdGUnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LWljb24tLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICAndi1pY29uLS1sZWZ0JzogdGhpcy5sZWZ0LFxuICAgICAgICAgICd2LWljb24tLWxpbmsnOiBoYXNDbGlja0xpc3RlbmVyLFxuICAgICAgICAgICd2LWljb24tLXJpZ2h0JzogdGhpcy5yaWdodCxcbiAgICAgICAgICAndi1pY29uLS1kZW5zZSc6IHRoaXMuZGVuc2VcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IF9fYXNzaWduKHtcbiAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAhaGFzQ2xpY2tMaXN0ZW5lcixcbiAgICAgICAgICByb2xlOiBoYXNDbGlja0xpc3RlbmVyID8gJ2J1dHRvbicgOiBudWxsXG4gICAgICAgIH0sIHRoaXMuYXR0cnMkKSxcbiAgICAgICAgb246IHRoaXMubGlzdGVuZXJzJFxuICAgICAgfTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgYXBwbHlDb2xvcnM6IGZ1bmN0aW9uIGFwcGx5Q29sb3JzKGRhdGEpIHtcbiAgICAgIGRhdGEuY2xhc3MgPSBfX2Fzc2lnbih7fSwgZGF0YS5jbGFzcywgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgICAgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb2xvciwgZGF0YSk7XG4gICAgfSxcbiAgICByZW5kZXJGb250SWNvbjogZnVuY3Rpb24gcmVuZGVyRm9udEljb24oaWNvbiwgaCkge1xuICAgICAgdmFyIG5ld0NoaWxkcmVuID0gW107XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RGVmYXVsdERhdGEoKTtcbiAgICAgIHZhciBpY29uVHlwZSA9ICdtYXRlcmlhbC1pY29ucyc7IC8vIE1hdGVyaWFsIEljb24gZGVsaW1pdGVyIGlzIF9cbiAgICAgIC8vIGh0dHBzOi8vbWF0ZXJpYWwuaW8vaWNvbnMvXG5cbiAgICAgIHZhciBkZWxpbWl0ZXJJbmRleCA9IGljb24uaW5kZXhPZignLScpO1xuICAgICAgdmFyIGlzTWF0ZXJpYWxJY29uID0gZGVsaW1pdGVySW5kZXggPD0gLTE7XG5cbiAgICAgIGlmIChpc01hdGVyaWFsSWNvbikge1xuICAgICAgICAvLyBNYXRlcmlhbCBpY29uIHVzZXMgbGlnYXR1cmVzLlxuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKGljb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWNvblR5cGUgPSBpY29uLnNsaWNlKDAsIGRlbGltaXRlckluZGV4KTtcbiAgICAgICAgaWYgKGlzRm9udEF3ZXNvbWU1KGljb25UeXBlKSkgaWNvblR5cGUgPSAnJztcbiAgICAgIH1cblxuICAgICAgZGF0YS5jbGFzc1tpY29uVHlwZV0gPSB0cnVlO1xuICAgICAgZGF0YS5jbGFzc1tpY29uXSA9ICFpc01hdGVyaWFsSWNvbjtcbiAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgaWYgKGZvbnRTaXplKSBkYXRhLnN0eWxlID0ge1xuICAgICAgICBmb250U2l6ZTogZm9udFNpemVcbiAgICAgIH07XG4gICAgICB0aGlzLmFwcGx5Q29sb3JzKGRhdGEpO1xuICAgICAgcmV0dXJuIGgodGhpcy50YWcsIGRhdGEsIG5ld0NoaWxkcmVuKTtcbiAgICB9LFxuICAgIHJlbmRlclN2Z0ljb246IGZ1bmN0aW9uIHJlbmRlclN2Z0ljb24oaWNvbiwgaCkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldERlZmF1bHREYXRhKCk7XG4gICAgICBkYXRhLmNsYXNzWyd2LWljb24tLXN2ZyddID0gdHJ1ZTtcbiAgICAgIGRhdGEuYXR0cnMgPSB7XG4gICAgICAgIHhtbG5zOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDI0IDI0JyxcbiAgICAgICAgaGVpZ2h0OiAnMjQnLFxuICAgICAgICB3aWR0aDogJzI0JyxcbiAgICAgICAgcm9sZTogJ2ltZycsXG4gICAgICAgICdhcmlhLWhpZGRlbic6ICF0aGlzLmF0dHJzJFsnYXJpYS1sYWJlbCddLFxuICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMuYXR0cnMkWydhcmlhLWxhYmVsJ11cbiAgICAgIH07XG4gICAgICB2YXIgZm9udFNpemUgPSB0aGlzLmdldFNpemUoKTtcblxuICAgICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICAgIGRhdGEuc3R5bGUgPSB7XG4gICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplLFxuICAgICAgICAgIGhlaWdodDogZm9udFNpemUsXG4gICAgICAgICAgd2lkdGg6IGZvbnRTaXplXG4gICAgICAgIH07XG4gICAgICAgIGRhdGEuYXR0cnMuaGVpZ2h0ID0gZm9udFNpemU7XG4gICAgICAgIGRhdGEuYXR0cnMud2lkdGggPSBmb250U2l6ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hcHBseUNvbG9ycyhkYXRhKTtcbiAgICAgIHJldHVybiBoKCdzdmcnLCBkYXRhLCBbaCgncGF0aCcsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBkOiBpY29uXG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICByZW5kZXJTdmdJY29uQ29tcG9uZW50OiBmdW5jdGlvbiByZW5kZXJTdmdJY29uQ29tcG9uZW50KGljb24sIGgpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5nZXREZWZhdWx0RGF0YSgpO1xuICAgICAgZGF0YS5jbGFzc1sndi1pY29uLS1pcy1jb21wb25lbnQnXSA9IHRydWU7XG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuXG4gICAgICBpZiAoc2l6ZSkge1xuICAgICAgICBkYXRhLnN0eWxlID0ge1xuICAgICAgICAgIGZvbnRTaXplOiBzaXplLFxuICAgICAgICAgIGhlaWdodDogc2l6ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFwcGx5Q29sb3JzKGRhdGEpO1xuICAgICAgdmFyIGNvbXBvbmVudCA9IGljb24uY29tcG9uZW50O1xuICAgICAgZGF0YS5wcm9wcyA9IGljb24ucHJvcHM7XG4gICAgICBkYXRhLm5hdGl2ZU9uID0gZGF0YS5vbjtcbiAgICAgIHJldHVybiBoKGNvbXBvbmVudCwgZGF0YSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGljb24gPSB0aGlzLmdldEljb24oKTtcblxuICAgIGlmICh0eXBlb2YgaWNvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChpc1N2Z1BhdGgoaWNvbikpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU3ZnSWNvbihpY29uLCBoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRm9udEljb24oaWNvbiwgaCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyU3ZnSWNvbkNvbXBvbmVudChpY29uLCBoKTtcbiAgfVxufSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAndi1pY29uJyxcbiAgJF93cmFwcGVyRm9yOiBWSWNvbixcbiAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX2EpIHtcbiAgICB2YXIgZGF0YSA9IF9hLmRhdGEsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgdmFyIGljb25OYW1lID0gJyc7IC8vIFN1cHBvcnQgdXNhZ2Ugb2Ygdi10ZXh0IGFuZCB2LWh0bWxcblxuICAgIGlmIChkYXRhLmRvbVByb3BzKSB7XG4gICAgICBpY29uTmFtZSA9IGRhdGEuZG9tUHJvcHMudGV4dENvbnRlbnQgfHwgZGF0YS5kb21Qcm9wcy5pbm5lckhUTUwgfHwgaWNvbk5hbWU7IC8vIFJlbW92ZSBub2RlcyBzbyBpdCBkb2Vzbid0XG4gICAgICAvLyBvdmVyd3JpdGUgb3VyIGNoYW5nZXNcblxuICAgICAgZGVsZXRlIGRhdGEuZG9tUHJvcHMudGV4dENvbnRlbnQ7XG4gICAgICBkZWxldGUgZGF0YS5kb21Qcm9wcy5pbm5lckhUTUw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgoVkljb24sIGRhdGEsIGljb25OYW1lID8gW2ljb25OYW1lXSA6IGNoaWxkcmVuKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZJY29uLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vVkljb24udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkltZy9WSW1nLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZJbWcvVkltZy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkltZy9WSW1nLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkltZy9WSW1nLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbWdfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSW1nLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbWcvVkltZy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW1nX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkltZ19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX2ludGVyc2VjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9pbnRlcnNlY3QgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2ludGVyc2VjdC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJlc3BvbnNpdmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZSZXNwb25zaXZlICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmVzcG9uc2l2ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG4vLyBTdHlsZXNcbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBVdGlsc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZSZXNwb25zaXZlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWltZycsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBpbnRlcnNlY3Q6IF9kaXJlY3RpdmVzX2ludGVyc2VjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGFsdDogU3RyaW5nLFxuICAgIGNvbnRhaW46IEJvb2xlYW4sXG4gICAgZWFnZXI6IEJvb2xlYW4sXG4gICAgZ3JhZGllbnQ6IFN0cmluZyxcbiAgICBsYXp5U3JjOiBTdHJpbmcsXG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdHlwZXMsIG5hdmlnYXRlIHRvOlxuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbl9PYnNlcnZlcl9BUElcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvb3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICByb290TWFyZ2luOiB1bmRlZmluZWQsXG4gICAgICAgICAgdGhyZXNob2xkOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBvc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnY2VudGVyIGNlbnRlcidcbiAgICB9LFxuICAgIHNpemVzOiBTdHJpbmcsXG4gICAgc3JjOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIHNyY3NldDogU3RyaW5nLFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogJ2ZhZGUtdHJhbnNpdGlvbidcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRTcmM6ICcnLFxuICAgICAgaW1hZ2U6IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBjYWxjdWxhdGVkQXNwZWN0UmF0aW86IHVuZGVmaW5lZCxcbiAgICAgIG5hdHVyYWxXaWR0aDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb21wdXRlZEFzcGVjdFJhdGlvOiBmdW5jdGlvbiBjb21wdXRlZEFzcGVjdFJhdGlvKCkge1xuICAgICAgcmV0dXJuIE51bWJlcih0aGlzLm5vcm1hbGlzZWRTcmMuYXNwZWN0IHx8IHRoaXMuY2FsY3VsYXRlZEFzcGVjdFJhdGlvKTtcbiAgICB9LFxuICAgIGhhc0ludGVyc2VjdDogZnVuY3Rpb24gaGFzSW50ZXJzZWN0KCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdJbnRlcnNlY3Rpb25PYnNlcnZlcicgaW4gd2luZG93O1xuICAgIH0sXG4gICAgbm9ybWFsaXNlZFNyYzogZnVuY3Rpb24gbm9ybWFsaXNlZFNyYygpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zcmMgPT09ICdzdHJpbmcnID8ge1xuICAgICAgICBzcmM6IHRoaXMuc3JjLFxuICAgICAgICBzcmNzZXQ6IHRoaXMuc3Jjc2V0LFxuICAgICAgICBsYXp5U3JjOiB0aGlzLmxhenlTcmMsXG4gICAgICAgIGFzcGVjdDogTnVtYmVyKHRoaXMuYXNwZWN0UmF0aW8pXG4gICAgICB9IDoge1xuICAgICAgICBzcmM6IHRoaXMuc3JjLnNyYyxcbiAgICAgICAgc3Jjc2V0OiB0aGlzLnNyY3NldCB8fCB0aGlzLnNyYy5zcmNzZXQsXG4gICAgICAgIGxhenlTcmM6IHRoaXMubGF6eVNyYyB8fCB0aGlzLnNyYy5sYXp5U3JjLFxuICAgICAgICBhc3BlY3Q6IE51bWJlcih0aGlzLmFzcGVjdFJhdGlvIHx8IHRoaXMuc3JjLmFzcGVjdClcbiAgICAgIH07XG4gICAgfSxcbiAgICBfX2NhY2hlZEltYWdlOiBmdW5jdGlvbiBfX2NhY2hlZEltYWdlKCkge1xuICAgICAgaWYgKCEodGhpcy5ub3JtYWxpc2VkU3JjLnNyYyB8fCB0aGlzLm5vcm1hbGlzZWRTcmMubGF6eVNyYykpIHJldHVybiBbXTtcbiAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSBbXTtcbiAgICAgIHZhciBzcmMgPSB0aGlzLmlzTG9hZGluZyA/IHRoaXMubm9ybWFsaXNlZFNyYy5sYXp5U3JjIDogdGhpcy5jdXJyZW50U3JjO1xuICAgICAgaWYgKHRoaXMuZ3JhZGllbnQpIGJhY2tncm91bmRJbWFnZS5wdXNoKFwibGluZWFyLWdyYWRpZW50KFwiICsgdGhpcy5ncmFkaWVudCArIFwiKVwiKTtcbiAgICAgIGlmIChzcmMpIGJhY2tncm91bmRJbWFnZS5wdXNoKFwidXJsKFxcXCJcIiArIHNyYyArIFwiXFxcIilcIik7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1pbWFnZV9faW1hZ2UnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LWltYWdlX19pbWFnZS0tcHJlbG9hZCc6IHRoaXMuaXNMb2FkaW5nLFxuICAgICAgICAgICd2LWltYWdlX19pbWFnZS0tY29udGFpbic6IHRoaXMuY29udGFpbixcbiAgICAgICAgICAndi1pbWFnZV9faW1hZ2UtLWNvdmVyJzogIXRoaXMuY29udGFpblxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYmFja2dyb3VuZEltYWdlLmpvaW4oJywgJyksXG4gICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIGtleTogK3RoaXMuaXNMb2FkaW5nXG4gICAgICB9KTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXG4gICAgICBpZiAoIXRoaXMudHJhbnNpdGlvbikgcmV0dXJuIGltYWdlO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyYW5zaXRpb24nLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgbmFtZTogdGhpcy50cmFuc2l0aW9uLFxuICAgICAgICAgIG1vZGU6ICdpbi1vdXQnXG4gICAgICAgIH1cbiAgICAgIH0sIFtpbWFnZV0pO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBzcmM6IGZ1bmN0aW9uIHNyYygpIHtcbiAgICAgIC8vIEZvcmNlIHJlLWluaXQgd2hlbiBzcmMgY2hhbmdlc1xuICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgdGhpcy5pbml0KHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTtlbHNlIHRoaXMubG9hZEltYWdlKCk7XG4gICAgfSxcbiAgICAnJHZ1ZXRpZnkuYnJlYWtwb2ludC53aWR0aCc6ICdnZXRTcmMnXG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGVudHJpZXMsIG9ic2VydmVyLCBpc0ludGVyc2VjdGluZykge1xuICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyB0aGUgaW50ZXJzZWN0aW9uXG4gICAgICAvLyBvYnNlcnZlciBhcGksIHRoZSBpbWFnZSBpcyBub3Qgb2JzZXJ2YWJsZSwgYW5kXG4gICAgICAvLyB0aGUgZWFnZXIgcHJvcCBpc24ndCBiZWluZyB1c2VkLCBkbyBub3QgbG9hZFxuICAgICAgaWYgKHRoaXMuaGFzSW50ZXJzZWN0ICYmICFpc0ludGVyc2VjdGluZyAmJiAhdGhpcy5lYWdlcikgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5ub3JtYWxpc2VkU3JjLmxhenlTcmMpIHtcbiAgICAgICAgdmFyIGxhenlJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgbGF6eUltZy5zcmMgPSB0aGlzLm5vcm1hbGlzZWRTcmMubGF6eVNyYztcbiAgICAgICAgdGhpcy5wb2xsRm9yU2l6ZShsYXp5SW1nLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cblxuICAgICAgaWYgKHRoaXMubm9ybWFsaXNlZFNyYy5zcmMpIHRoaXMubG9hZEltYWdlKCk7XG4gICAgfSxcbiAgICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZCgpIHtcbiAgICAgIHRoaXMuZ2V0U3JjKCk7XG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy4kZW1pdCgnbG9hZCcsIHRoaXMuc3JjKTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29uc29sZUVycm9yXCJdKShcIkltYWdlIGxvYWQgZmFpbGVkXFxuXFxuXCIgKyAoXCJzcmM6IFwiICsgdGhpcy5ub3JtYWxpc2VkU3JjLnNyYyksIHRoaXMpO1xuICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCB0aGlzLnNyYyk7XG4gICAgfSxcbiAgICBnZXRTcmM6IGZ1bmN0aW9uIGdldFNyYygpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAodGhpcy5pbWFnZSkgdGhpcy5jdXJyZW50U3JjID0gdGhpcy5pbWFnZS5jdXJyZW50U3JjIHx8IHRoaXMuaW1hZ2Uuc3JjO1xuICAgIH0sXG4gICAgbG9hZEltYWdlOiBmdW5jdGlvbiBsb2FkSW1hZ2UoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcblxuICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGltYWdlLmRlY29kZSkge1xuICAgICAgICAgIGltYWdlLmRlY29kZSgpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25zb2xlV2FyblwiXSkoXCJGYWlsZWQgdG8gZGVjb2RlIGltYWdlLCB0cnlpbmcgdG8gcmVuZGVyIGFueXdheVxcblxcblwiICsgKFwic3JjOiBcIiArIF90aGlzLm5vcm1hbGlzZWRTcmMuc3JjKSArIChlcnIubWVzc2FnZSA/IFwiXFxuT3JpZ2luYWwgZXJyb3I6IFwiICsgZXJyLm1lc3NhZ2UgOiAnJyksIF90aGlzKTtcbiAgICAgICAgICB9KS50aGVuKF90aGlzLm9uTG9hZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMub25Mb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGltYWdlLm9uZXJyb3IgPSB0aGlzLm9uRXJyb3I7XG4gICAgICBpbWFnZS5zcmMgPSB0aGlzLm5vcm1hbGlzZWRTcmMuc3JjO1xuICAgICAgdGhpcy5zaXplcyAmJiAoaW1hZ2Uuc2l6ZXMgPSB0aGlzLnNpemVzKTtcbiAgICAgIHRoaXMubm9ybWFsaXNlZFNyYy5zcmNzZXQgJiYgKGltYWdlLnNyY3NldCA9IHRoaXMubm9ybWFsaXNlZFNyYy5zcmNzZXQpO1xuICAgICAgdGhpcy5hc3BlY3RSYXRpbyB8fCB0aGlzLnBvbGxGb3JTaXplKGltYWdlKTtcbiAgICAgIHRoaXMuZ2V0U3JjKCk7XG4gICAgfSxcbiAgICBwb2xsRm9yU2l6ZTogZnVuY3Rpb24gcG9sbEZvclNpemUoaW1nLCB0aW1lb3V0KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSAxMDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2xsID0gZnVuY3Rpb24gcG9sbCgpIHtcbiAgICAgICAgdmFyIG5hdHVyYWxIZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgIG5hdHVyYWxXaWR0aCA9IGltZy5uYXR1cmFsV2lkdGg7XG5cbiAgICAgICAgaWYgKG5hdHVyYWxIZWlnaHQgfHwgbmF0dXJhbFdpZHRoKSB7XG4gICAgICAgICAgX3RoaXMubmF0dXJhbFdpZHRoID0gbmF0dXJhbFdpZHRoO1xuICAgICAgICAgIF90aGlzLmNhbGN1bGF0ZWRBc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGltZW91dCAhPSBudWxsICYmIHNldFRpbWVvdXQocG9sbCwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBvbGwoKTtcbiAgICB9LFxuICAgIGdlbkNvbnRlbnQ6IGZ1bmN0aW9uIGdlbkNvbnRlbnQoKSB7XG4gICAgICB2YXIgY29udGVudCA9IF9WUmVzcG9uc2l2ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuQ29udGVudC5jYWxsKHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5uYXR1cmFsV2lkdGgpIHtcbiAgICAgICAgdGhpcy5fYihjb250ZW50LmRhdGEsICdkaXYnLCB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLm5hdHVyYWxXaWR0aCArIFwicHhcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0sXG4gICAgX19nZW5QbGFjZWhvbGRlcjogZnVuY3Rpb24gX19nZW5QbGFjZWhvbGRlcigpIHtcbiAgICAgIGlmICh0aGlzLiRzbG90cy5wbGFjZWhvbGRlcikge1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLmlzTG9hZGluZyA/IFt0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWltYWdlX19wbGFjZWhvbGRlcidcbiAgICAgICAgfSwgdGhpcy4kc2xvdHMucGxhY2Vob2xkZXIpXSA6IFtdO1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNpdGlvbikgcmV0dXJuIHBsYWNlaG9sZGVyWzBdO1xuICAgICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgYXBwZWFyOiB0cnVlLFxuICAgICAgICAgICAgbmFtZTogdGhpcy50cmFuc2l0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9LCBwbGFjZWhvbGRlcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIG5vZGUgPSBfVlJlc3BvbnNpdmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5yZW5kZXIuY2FsbCh0aGlzLCBoKTtcbiAgICBub2RlLmRhdGEuc3RhdGljQ2xhc3MgKz0gJyB2LWltYWdlJzsgLy8gT25seSBsb2FkIGludGVyc2VjdCBkaXJlY3RpdmUgaWYgaXRcbiAgICAvLyB3aWxsIHdvcmsgaW4gdGhlIGN1cnJlbnQgYnJvd3Nlci5cblxuICAgIG5vZGUuZGF0YS5kaXJlY3RpdmVzID0gdGhpcy5oYXNJbnRlcnNlY3QgPyBbe1xuICAgICAgbmFtZTogJ2ludGVyc2VjdCcsXG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHZhbHVlOiB0aGlzLmluaXRcbiAgICB9XSA6IFtdO1xuICAgIG5vZGUuZGF0YS5hdHRycyA9IHtcbiAgICAgIHJvbGU6IHRoaXMuYWx0ID8gJ2ltZycgOiB1bmRlZmluZWQsXG4gICAgICAnYXJpYS1sYWJlbCc6IHRoaXMuYWx0XG4gICAgfTtcbiAgICBub2RlLmNoaWxkcmVuID0gW3RoaXMuX19jYWNoZWRTaXplciwgdGhpcy5fX2NhY2hlZEltYWdlLCB0aGlzLl9fZ2VuUGxhY2Vob2xkZXIoKSwgdGhpcy5nZW5Db250ZW50KCldO1xuICAgIHJldHVybiBoKG5vZGUudGFnLCBub2RlLmRhdGEsIG5vZGUuY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkltZy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSW1nL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWSW1nLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW1nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZJbWcgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbWcvVkltZy50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZJbWdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WSW1nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvVklucHV0LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvVklucHV0LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVklucHV0L1ZJbnB1dC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvVklucHV0LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW5wdXRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSW5wdXQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVklucHV0L1ZJbnB1dC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW5wdXRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WSW5wdXRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJY29uICovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxhYmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WTGFiZWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMYWJlbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk1lc3NhZ2VzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WTWVzc2FnZXMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZNZXNzYWdlcy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2JpbmRzX2F0dHJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYmluZHMtYXR0cnMgKi8gXCIuL3NyYy9taXhpbnMvYmluZHMtYXR0cnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc192YWxpZGF0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3ZhbGlkYXRhYmxlICovIFwiLi9zcmMvbWl4aW5zL3ZhbGlkYXRhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gQ29tcG9uZW50c1xuXG5cblxuIC8vIE1peGluc1xuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSkoX21peGluc19iaW5kc19hdHRyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc192YWxpZGF0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSk7XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtaW5wdXQnLFxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICBwcm9wczoge1xuICAgIGFwcGVuZEljb246IFN0cmluZyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICBoZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgaGlkZURldGFpbHM6IEJvb2xlYW4sXG4gICAgaGludDogU3RyaW5nLFxuICAgIGlkOiBTdHJpbmcsXG4gICAgbGFiZWw6IFN0cmluZyxcbiAgICBsb2FkaW5nOiBCb29sZWFuLFxuICAgIHBlcnNpc3RlbnRIaW50OiBCb29sZWFuLFxuICAgIHByZXBlbmRJY29uOiBTdHJpbmcsXG4gICAgdmFsdWU6IG51bGxcbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eVZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgaGFzTW91c2VEb3duOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LWlucHV0LS1oYXMtc3RhdGUnOiB0aGlzLmhhc1N0YXRlLFxuICAgICAgICAndi1pbnB1dC0taGlkZS1kZXRhaWxzJzogdGhpcy5oaWRlRGV0YWlscyxcbiAgICAgICAgJ3YtaW5wdXQtLWlzLWxhYmVsLWFjdGl2ZSc6IHRoaXMuaXNMYWJlbEFjdGl2ZSxcbiAgICAgICAgJ3YtaW5wdXQtLWlzLWRpcnR5JzogdGhpcy5pc0RpcnR5LFxuICAgICAgICAndi1pbnB1dC0taXMtZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndi1pbnB1dC0taXMtZm9jdXNlZCc6IHRoaXMuaXNGb2N1c2VkLFxuICAgICAgICAndi1pbnB1dC0taXMtbG9hZGluZyc6IHRoaXMubG9hZGluZyAhPT0gZmFsc2UgJiYgdGhpcy5sb2FkaW5nICE9PSB1bmRlZmluZWQsXG4gICAgICAgICd2LWlucHV0LS1pcy1yZWFkb25seSc6IHRoaXMucmVhZG9ubHksXG4gICAgICAgICd2LWlucHV0LS1kZW5zZSc6IHRoaXMuZGVuc2VcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9LFxuICAgIGNvbXB1dGVkSWQ6IGZ1bmN0aW9uIGNvbXB1dGVkSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZCB8fCBcImlucHV0LVwiICsgdGhpcy5fdWlkO1xuICAgIH0sXG4gICAgaGFzSGludDogZnVuY3Rpb24gaGFzSGludCgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5oYXNNZXNzYWdlcyAmJiAhIXRoaXMuaGludCAmJiAodGhpcy5wZXJzaXN0ZW50SGludCB8fCB0aGlzLmlzRm9jdXNlZCk7XG4gICAgfSxcbiAgICBoYXNMYWJlbDogZnVuY3Rpb24gaGFzTGFiZWwoKSB7XG4gICAgICByZXR1cm4gISEodGhpcy4kc2xvdHMubGFiZWwgfHwgdGhpcy5sYWJlbCk7XG4gICAgfSxcbiAgICAvLyBQcm94eSBmb3IgYGxhenlWYWx1ZWBcbiAgICAvLyBUaGlzIGFsbG93cyBhbiBpbnB1dFxuICAgIC8vIHRvIGZ1bmN0aW9uIHdpdGhvdXRcbiAgICAvLyBhIHByb3ZpZGVkIG1vZGVsXG4gICAgaW50ZXJuYWxWYWx1ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhenlWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgICAgdGhpcy5sYXp5VmFsdWUgPSB2YWw7XG4gICAgICAgIHRoaXMuJGVtaXQodGhpcy4kX21vZGVsRXZlbnQsIHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0RpcnR5OiBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5sYXp5VmFsdWU7XG4gICAgfSxcbiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkb25seTtcbiAgICB9LFxuICAgIGlzTGFiZWxBY3RpdmU6IGZ1bmN0aW9uIGlzTGFiZWxBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7XG4gICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbDtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge1xuICAgIC8vIHYtcmFkaW8tZ3JvdXAgbmVlZHMgdG8gZW1pdCBhIGRpZmZlcmVudCBldmVudFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWV0aWZ5anMvdnVldGlmeS9pc3N1ZXMvNDc1MlxuICAgIHRoaXMuJF9tb2RlbEV2ZW50ID0gdGhpcy4kb3B0aW9ucy5tb2RlbCAmJiB0aGlzLiRvcHRpb25zLm1vZGVsLmV2ZW50IHx8ICdpbnB1dCc7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIFt0aGlzLmdlblByZXBlbmRTbG90KCksIHRoaXMuZ2VuQ29udHJvbCgpLCB0aGlzLmdlbkFwcGVuZFNsb3QoKV07XG4gICAgfSxcbiAgICBnZW5Db250cm9sOiBmdW5jdGlvbiBnZW5Db250cm9sKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0X19jb250cm9sJ1xuICAgICAgfSwgW3RoaXMuZ2VuSW5wdXRTbG90KCksIHRoaXMuZ2VuTWVzc2FnZXMoKV0pO1xuICAgIH0sXG4gICAgZ2VuRGVmYXVsdFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTbG90KCkge1xuICAgICAgcmV0dXJuIFt0aGlzLmdlbkxhYmVsKCksIHRoaXMuJHNsb3RzLmRlZmF1bHRdO1xuICAgIH0sXG4gICAgZ2VuSWNvbjogZnVuY3Rpb24gZ2VuSWNvbih0eXBlLCBjYikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGljb24gPSB0aGlzW3R5cGUgKyBcIkljb25cIl07XG4gICAgICB2YXIgZXZlbnROYW1lID0gXCJjbGljazpcIiArIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJrZWJhYkNhc2VcIl0pKHR5cGUpO1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMudmFsaWRhdGlvblN0YXRlLFxuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodFxuICAgICAgICB9LFxuICAgICAgICBvbjogISh0aGlzLmxpc3RlbmVycyRbZXZlbnROYW1lXSB8fCBjYikgPyB1bmRlZmluZWQgOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIF90aGlzLiRlbWl0KGV2ZW50TmFtZSwgZSk7XG5cbiAgICAgICAgICAgIGNiICYmIGNiKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ29udGFpbmVyIGhhcyBnIGV2ZW50IHRoYXQgd2lsbFxuICAgICAgICAgIC8vIHRyaWdnZXIgbWVudSBvcGVuIGlmIGVuY2xvc2VkXG4gICAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gbW91c2V1cChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcInYtaW5wdXRfX2ljb24gdi1pbnB1dF9faWNvbi0tXCIgKyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wia2ViYWJDYXNlXCJdKSh0eXBlKSxcbiAgICAgICAga2V5OiB0eXBlICsgaWNvblxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBkYXRhLCBpY29uKV0pO1xuICAgIH0sXG4gICAgZ2VuSW5wdXRTbG90OiBmdW5jdGlvbiBnZW5JbnB1dFNsb3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5iYWNrZ3JvdW5kQ29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0X19zbG90JyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmhlaWdodClcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogdGhpcy5vbkNsaWNrLFxuICAgICAgICAgIG1vdXNlZG93bjogdGhpcy5vbk1vdXNlRG93bixcbiAgICAgICAgICBtb3VzZXVwOiB0aGlzLm9uTW91c2VVcFxuICAgICAgICB9LFxuICAgICAgICByZWY6ICdpbnB1dC1zbG90J1xuICAgICAgfSksIFt0aGlzLmdlbkRlZmF1bHRTbG90KCldKTtcbiAgICB9LFxuICAgIGdlbkxhYmVsOiBmdW5jdGlvbiBnZW5MYWJlbCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNMYWJlbCkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkxhYmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMudmFsaWRhdGlvblN0YXRlLFxuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBmb2N1c2VkOiB0aGlzLmhhc1N0YXRlLFxuICAgICAgICAgIGZvcjogdGhpcy5jb21wdXRlZElkLFxuICAgICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuJHNsb3RzLmxhYmVsIHx8IHRoaXMubGFiZWwpO1xuICAgIH0sXG4gICAgZ2VuTWVzc2FnZXM6IGZ1bmN0aW9uIGdlbk1lc3NhZ2VzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuaGlkZURldGFpbHMpIHJldHVybiBudWxsO1xuICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5oYXNIaW50ID8gW3RoaXMuaGludF0gOiB0aGlzLnZhbGlkYXRpb25zO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZNZXNzYWdlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmhhc0hpbnQgPyAnJyA6IHRoaXMudmFsaWRhdGlvblN0YXRlLFxuICAgICAgICAgIGRhcms6IHRoaXMuZGFyayxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodCxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5oYXNNZXNzYWdlcyB8fCB0aGlzLmhhc0hpbnQgPyBtZXNzYWdlcyA6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgcm9sZTogdGhpcy5oYXNNZXNzYWdlcyA/ICdhbGVydCcgOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlZFNsb3RzOiB7XG4gICAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQocHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZ2V0U2xvdFwiXSkoX3RoaXMsICdtZXNzYWdlJywgcHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5TbG90OiBmdW5jdGlvbiBnZW5TbG90KHR5cGUsIGxvY2F0aW9uLCBzbG90KSB7XG4gICAgICBpZiAoIXNsb3QubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciByZWYgPSB0eXBlICsgXCItXCIgKyBsb2NhdGlvbjtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcInYtaW5wdXRfX1wiICsgcmVmLFxuICAgICAgICByZWY6IHJlZlxuICAgICAgfSwgc2xvdCk7XG4gICAgfSxcbiAgICBnZW5QcmVwZW5kU2xvdDogZnVuY3Rpb24gZ2VuUHJlcGVuZFNsb3QoKSB7XG4gICAgICB2YXIgc2xvdCA9IFtdO1xuXG4gICAgICBpZiAodGhpcy4kc2xvdHMucHJlcGVuZCkge1xuICAgICAgICBzbG90LnB1c2godGhpcy4kc2xvdHMucHJlcGVuZCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJlcGVuZEljb24pIHtcbiAgICAgICAgc2xvdC5wdXNoKHRoaXMuZ2VuSWNvbigncHJlcGVuZCcpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2VuU2xvdCgncHJlcGVuZCcsICdvdXRlcicsIHNsb3QpO1xuICAgIH0sXG4gICAgZ2VuQXBwZW5kU2xvdDogZnVuY3Rpb24gZ2VuQXBwZW5kU2xvdCgpIHtcbiAgICAgIHZhciBzbG90ID0gW107IC8vIEFwcGVuZCBpY29uIGZvciB0ZXh0IGZpZWxkIHdhcyByZWFsbHlcbiAgICAgIC8vIGFuIGFwcGVuZGVkIGlubmVyIGljb24sIHYtdGV4dC1maWVsZFxuICAgICAgLy8gd2lsbCBvdmVyd3JpdGUgdGhpcyBtZXRob2QgaW4gb3JkZXIgdG8gb2J0YWluXG4gICAgICAvLyBiYWNrd2FyZHMgY29tcGF0XG5cbiAgICAgIGlmICh0aGlzLiRzbG90cy5hcHBlbmQpIHtcbiAgICAgICAgc2xvdC5wdXNoKHRoaXMuJHNsb3RzLmFwcGVuZCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXBwZW5kSWNvbikge1xuICAgICAgICBzbG90LnB1c2godGhpcy5nZW5JY29uKCdhcHBlbmQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdlblNsb3QoJ2FwcGVuZCcsICdvdXRlcicsIHNsb3QpO1xuICAgIH0sXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpO1xuICAgIH0sXG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgIHRoaXMuaGFzTW91c2VEb3duID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGVtaXQoJ21vdXNlZG93bicsIGUpO1xuICAgIH0sXG4gICAgb25Nb3VzZVVwOiBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgdGhpcy5oYXNNb3VzZURvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuJGVtaXQoJ21vdXNldXAnLCBlKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy52YWxpZGF0aW9uU3RhdGUsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1pbnB1dCcsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSksIHRoaXMuZ2VuQ29udGVudCgpKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbnB1dC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZJbnB1dC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWSW5wdXQsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSW5wdXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbnB1dC9WSW5wdXQudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSW5wdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBCYXNlSXRlbSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCYXNlSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEJhc2VJdGVtOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2dyb3VwYWJsZSAqLyBcIi4vc3JjL21peGlucy9ncm91cGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG4vLyBNaXhpbnNcbiAvLyBVdGlsaXRpZXNcblxuXG4gLy8gVHlwZXNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG52YXIgQmFzZUl0ZW0gPSB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgcHJvcHM6IHtcbiAgICBhY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIHZhbHVlOiB7XG4gICAgICByZXF1aXJlZDogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQWN0aXZlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSAhdGhpcy5pc0FjdGl2ZTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfYTtcblxuICAgIGlmICghdGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbnNvbGVXYXJuXCJdKSgndi1pdGVtIGlzIG1pc3NpbmcgYSBkZWZhdWx0IHNjb3BlZFNsb3QnLCB0aGlzKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCkge1xuICAgICAgZWxlbWVudCA9IHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe1xuICAgICAgICBhY3RpdmU6IHRoaXMuaXNBY3RpdmUsXG4gICAgICAgIHRvZ2dsZTogdGhpcy50b2dnbGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpICYmIGVsZW1lbnQubGVuZ3RoID09PSAxKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICB9XG5cbiAgICBpZiAoIWVsZW1lbnQgfHwgQXJyYXkuaXNBcnJheShlbGVtZW50KSB8fCAhZWxlbWVudC50YWcpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25zb2xlV2FyblwiXSkoJ3YtaXRlbSBzaG91bGQgb25seSBjb250YWluIGEgc2luZ2xlIGVsZW1lbnQnLCB0aGlzKTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGVsZW1lbnQuZGF0YSA9IHRoaXMuX2IoZWxlbWVudC5kYXRhIHx8IHt9LCBlbGVtZW50LnRhZywge1xuICAgICAgY2xhc3M6IChfYSA9IHt9LCBfYVt0aGlzLmFjdGl2ZUNsYXNzXSA9IHRoaXMuaXNBY3RpdmUsIF9hKVxuICAgIH0pO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG59KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoQmFzZUl0ZW0sIE9iamVjdChfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZmFjdG9yeVwiXSkoJ2l0ZW1Hcm91cCcsICd2LWl0ZW0nLCAndi1pdGVtLWdyb3VwJykpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWl0ZW0nXG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZJdGVtR3JvdXAvVkl0ZW1Hcm91cC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEJhc2VJdGVtR3JvdXAsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmFzZUl0ZW1Hcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEJhc2VJdGVtR3JvdXA7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSXRlbUdyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkl0ZW1Hcm91cC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkl0ZW1Hcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZJdGVtR3JvdXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Byb3h5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3Byb3h5YWJsZSAqLyBcIi4vc3JjL21peGlucy9wcm94eWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxudmFyIEJhc2VJdGVtR3JvdXAgPSBPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3Byb3h5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICdiYXNlLWl0ZW0tZ3JvdXAnLFxuICBwcm9wczoge1xuICAgIGFjdGl2ZUNsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAndi1pdGVtLS1hY3RpdmUnXG4gICAgfSxcbiAgICBtYW5kYXRvcnk6IEJvb2xlYW4sXG4gICAgbWF4OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgbXVsdGlwbGU6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gQXMgbG9uZyBhcyBhIHZhbHVlIGlzIGRlZmluZWQsIHNob3cgaXRcbiAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaWYgbXVsdGlwbGVcbiAgICAgIC8vIHRvIGRldGVybWluZSB3aGljaCBkZWZhdWx0IHRvIHByb3ZpZGVcbiAgICAgIGludGVybmFsTGF6eVZhbHVlOiB0aGlzLnZhbHVlICE9PSB1bmRlZmluZWQgPyB0aGlzLnZhbHVlIDogdGhpcy5tdWx0aXBsZSA/IFtdIDogdW5kZWZpbmVkLFxuICAgICAgaXRlbXM6IFtdXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtaXRlbS1ncm91cCc6IHRydWVcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkSW5kZXg6IGZ1bmN0aW9uIHNlbGVjdGVkSW5kZXgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW0gJiYgdGhpcy5pdGVtcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWRJdGVtKSB8fCAtMTtcbiAgICB9LFxuICAgIHNlbGVjdGVkSXRlbTogZnVuY3Rpb24gc2VsZWN0ZWRJdGVtKCkge1xuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zWzBdO1xuICAgIH0sXG4gICAgc2VsZWN0ZWRJdGVtczogZnVuY3Rpb24gc2VsZWN0ZWRJdGVtcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnRvZ2dsZU1ldGhvZChfdGhpcy5nZXRWYWx1ZShpdGVtLCBpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZWxlY3RlZFZhbHVlczogZnVuY3Rpb24gc2VsZWN0ZWRWYWx1ZXMoKSB7XG4gICAgICBpZiAodGhpcy5pbnRlcm5hbFZhbHVlID09IG51bGwpIHJldHVybiBbXTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMuaW50ZXJuYWxWYWx1ZSkgPyB0aGlzLmludGVybmFsVmFsdWUgOiBbdGhpcy5pbnRlcm5hbFZhbHVlXTtcbiAgICB9LFxuICAgIHRvZ2dsZU1ldGhvZDogZnVuY3Rpb24gdG9nZ2xlTWV0aG9kKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pbnRlcm5hbFZhbHVlID09PSB2O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgaW50ZXJuYWxWYWx1ZSA9IHRoaXMuaW50ZXJuYWxWYWx1ZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIGludGVybmFsVmFsdWUuaW5jbHVkZXModik7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGludGVybmFsVmFsdWU6IGZ1bmN0aW9uIGludGVybmFsVmFsdWUoKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvaXNzdWVzLzUzNTJcbiAgICAgIHRoaXMuJG5leHRUaWNrKHRoaXMudXBkYXRlSXRlbXNTdGF0ZSk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIGlmICh0aGlzLm11bHRpcGxlICYmICFBcnJheS5pc0FycmF5KHRoaXMuaW50ZXJuYWxWYWx1ZSkpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjb25zb2xlV2FyblwiXSkoJ01vZGVsIG11c3QgYmUgYm91bmQgdG8gYW4gYXJyYXkgaWYgdGhlIG11bHRpcGxlIHByb3BlcnR5IGlzIHRydWUuJywgdGhpcyk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuRGF0YTogZnVuY3Rpb24gZ2VuRGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXNcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoaXRlbSwgaSkge1xuICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT0gbnVsbCB8fCBpdGVtLnZhbHVlID09PSAnJyA/IGkgOiBpdGVtLnZhbHVlO1xuICAgIH0sXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhpdGVtKSB7XG4gICAgICB0aGlzLnVwZGF0ZUludGVybmFsVmFsdWUodGhpcy5nZXRWYWx1ZShpdGVtLCB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkpKTtcbiAgICB9LFxuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihpdGVtKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLnB1c2goaXRlbSkgLSAxO1xuICAgICAgaXRlbS4kb24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm9uQ2xpY2soaXRlbSk7XG4gICAgICB9KTsgLy8gSWYgbm8gdmFsdWUgcHJvdmlkZWQgYW5kIG1hbmRhdG9yeSxcbiAgICAgIC8vIGFzc2lnbiBmaXJzdCByZWdpc3RlcmVkIGl0ZW1cblxuICAgICAgaWYgKHRoaXMubWFuZGF0b3J5ICYmIHRoaXMuaW50ZXJuYWxMYXp5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hbmRhdG9yeSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZUl0ZW0oaXRlbSwgaW5kZXgpO1xuICAgIH0sXG4gICAgdW5yZWdpc3RlcjogZnVuY3Rpb24gdW5yZWdpc3RlcihpdGVtKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoaXRlbSwgaW5kZXgpO1xuICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdmFyIHZhbHVlSW5kZXggPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmluZGV4T2YodmFsdWUpOyAvLyBJdGVtcyBpcyBub3Qgc2VsZWN0ZWQsIGRvIG5vdGhpbmdcblxuICAgICAgaWYgKHZhbHVlSW5kZXggPCAwKSByZXR1cm47IC8vIElmIG5vdCBtYW5kYXRvcnksIHVzZSByZWd1bGFyIHVwZGF0ZSBwcm9jZXNzXG5cbiAgICAgIGlmICghdGhpcy5tYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW50ZXJuYWxWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IC8vIFJlbW92ZSB0aGUgdmFsdWVcblxuXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHRoaXMuaW50ZXJuYWxWYWx1ZSkpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdGhpcy5pbnRlcm5hbFZhbHVlLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2ICE9PSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IC8vIElmIG1hbmRhdG9yeSBhbmQgd2UgaGF2ZSBubyBzZWxlY3Rpb25cbiAgICAgIC8vIGFkZCB0aGUgbGFzdCBpdGVtIGFzIHZhbHVlXG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cblxuICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWFuZGF0b3J5KHRydWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlSXRlbTogZnVuY3Rpb24gdXBkYXRlSXRlbShpdGVtLCBpbmRleCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZShpdGVtLCBpbmRleCk7XG4gICAgICBpdGVtLmlzQWN0aXZlID0gdGhpcy50b2dnbGVNZXRob2QodmFsdWUpO1xuICAgIH0sXG4gICAgdXBkYXRlSXRlbXNTdGF0ZTogZnVuY3Rpb24gdXBkYXRlSXRlbXNTdGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLm1hbmRhdG9yeSAmJiAhdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVNYW5kYXRvcnkoKTtcbiAgICAgIH0gLy8gVE9ETzogTWFrZSB0aGlzIHNtYXJ0ZXIgc28gaXRcbiAgICAgIC8vIGRvZXNuJ3QgaGF2ZSB0byBpdGVyYXRlIGV2ZXJ5XG4gICAgICAvLyBjaGlsZCBpbiBhbiB1cGRhdGVcblxuXG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2godGhpcy51cGRhdGVJdGVtKTtcbiAgICB9LFxuICAgIHVwZGF0ZUludGVybmFsVmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUludGVybmFsVmFsdWUodmFsdWUpIHtcbiAgICAgIHRoaXMubXVsdGlwbGUgPyB0aGlzLnVwZGF0ZU11bHRpcGxlKHZhbHVlKSA6IHRoaXMudXBkYXRlU2luZ2xlKHZhbHVlKTtcbiAgICB9LFxuICAgIHVwZGF0ZU1hbmRhdG9yeTogZnVuY3Rpb24gdXBkYXRlTWFuZGF0b3J5KGxhc3QpIHtcbiAgICAgIGlmICghdGhpcy5pdGVtcy5sZW5ndGgpIHJldHVybjtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoKTtcbiAgICAgIGlmIChsYXN0KSBpdGVtcy5yZXZlcnNlKCk7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICFpdGVtLmRpc2FibGVkO1xuICAgICAgfSk7IC8vIElmIG5vIHRhYnMgYXJlIGF2YWlsYWJsZVxuICAgICAgLy8gYWJvcnRzIG1hbmRhdG9yeSB2YWx1ZVxuXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgIHRoaXMudXBkYXRlSW50ZXJuYWxWYWx1ZSh0aGlzLmdldFZhbHVlKGl0ZW0sIGluZGV4KSk7XG4gICAgfSxcbiAgICB1cGRhdGVNdWx0aXBsZTogZnVuY3Rpb24gdXBkYXRlTXVsdGlwbGUodmFsdWUpIHtcbiAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBBcnJheS5pc0FycmF5KHRoaXMuaW50ZXJuYWxWYWx1ZSkgPyB0aGlzLmludGVybmFsVmFsdWUgOiBbXTtcbiAgICAgIHZhciBpbnRlcm5hbFZhbHVlID0gZGVmYXVsdFZhbHVlLnNsaWNlKCk7XG4gICAgICB2YXIgaW5kZXggPSBpbnRlcm5hbFZhbHVlLmZpbmRJbmRleChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgPT09IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5tYW5kYXRvcnkgJiYgLy8gSXRlbSBhbHJlYWR5IGV4aXN0c1xuICAgICAgaW5kZXggPiAtMSAmJiAvLyB2YWx1ZSB3b3VsZCBiZSByZWR1Y2VkIGJlbG93IG1pblxuICAgICAgaW50ZXJuYWxWYWx1ZS5sZW5ndGggLSAxIDwgMSkgcmV0dXJuO1xuICAgICAgaWYgKCAvLyBNYXggaXMgc2V0XG4gICAgICB0aGlzLm1heCAhPSBudWxsICYmIC8vIEl0ZW0gZG9lc24ndCBleGlzdFxuICAgICAgaW5kZXggPCAwICYmIC8vIHZhbHVlIHdvdWxkIGJlIGluY3JlYXNlZCBhYm92ZSBtYXhcbiAgICAgIGludGVybmFsVmFsdWUubGVuZ3RoICsgMSA+IHRoaXMubWF4KSByZXR1cm47XG4gICAgICBpbmRleCA+IC0xID8gaW50ZXJuYWxWYWx1ZS5zcGxpY2UoaW5kZXgsIDEpIDogaW50ZXJuYWxWYWx1ZS5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IGludGVybmFsVmFsdWU7XG4gICAgfSxcbiAgICB1cGRhdGVTaW5nbGU6IGZ1bmN0aW9uIHVwZGF0ZVNpbmdsZSh2YWx1ZSkge1xuICAgICAgdmFyIGlzU2FtZSA9IHZhbHVlID09PSB0aGlzLmludGVybmFsVmFsdWU7XG4gICAgICBpZiAodGhpcy5tYW5kYXRvcnkgJiYgaXNTYW1lKSByZXR1cm47XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSBpc1NhbWUgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2JywgdGhpcy5nZW5EYXRhKCksIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICB9XG59KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQmFzZUl0ZW1Hcm91cC5leHRlbmQoe1xuICBuYW1lOiAndi1pdGVtLWdyb3VwJyxcbiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXRlbUdyb3VwOiB0aGlzXG4gICAgfTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJdGVtR3JvdXAvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkl0ZW0sIFZJdGVtR3JvdXAsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZJdGVtICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkl0ZW1Hcm91cCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkl0ZW1Hcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkl0ZW06IF9WSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgICBWSXRlbUdyb3VwOiBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTGFiZWwvVkxhYmVsLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTGFiZWwvVkxhYmVsLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxhYmVsL1ZMYWJlbC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTGFiZWwvVkxhYmVsLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGFiZWxfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGFiZWwuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxhYmVsL1ZMYWJlbC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGFiZWxfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WTGFiZWxfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gTWl4aW5zXG5cblxuXG4gLy8gSGVscGVyc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWxhYmVsJyxcbiAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgcHJvcHM6IHtcbiAgICBhYnNvbHV0ZTogQm9vbGVhbixcbiAgICBjb2xvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3ByaW1hcnknXG4gICAgfSxcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBmb2N1c2VkOiBCb29sZWFuLFxuICAgIGZvcjogU3RyaW5nLFxuICAgIGxlZnQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJ1xuICAgIH0sXG4gICAgdmFsdWU6IEJvb2xlYW5cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgY3R4KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gY3R4LmNoaWxkcmVuLFxuICAgICAgICBsaXN0ZW5lcnMgPSBjdHgubGlzdGVuZXJzLFxuICAgICAgICBwcm9wcyA9IGN0eC5wcm9wcztcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1sYWJlbCcsXG4gICAgICBjbGFzczogX19hc3NpZ24oe1xuICAgICAgICAndi1sYWJlbC0tYWN0aXZlJzogcHJvcHMudmFsdWUsXG4gICAgICAgICd2LWxhYmVsLS1pcy1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gICAgICB9LCBPYmplY3QoX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImZ1bmN0aW9uYWxUaGVtZUNsYXNzZXNcIl0pKGN0eCkpLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgZm9yOiBwcm9wcy5mb3IsXG4gICAgICAgICdhcmlhLWhpZGRlbic6ICFwcm9wcy5mb3JcbiAgICAgIH0sXG4gICAgICBvbjogbGlzdGVuZXJzLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbGVmdDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHByb3BzLmxlZnQpLFxuICAgICAgICByaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHByb3BzLnJpZ2h0KSxcbiAgICAgICAgcG9zaXRpb246IHByb3BzLmFic29sdXRlID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZSdcbiAgICAgIH0sXG4gICAgICByZWY6ICdsYWJlbCdcbiAgICB9O1xuICAgIHJldHVybiBoKCdsYWJlbCcsIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5zZXRUZXh0Q29sb3IocHJvcHMuZm9jdXNlZCAmJiBwcm9wcy5jb2xvciwgZGF0YSksIGNoaWxkcmVuKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMYWJlbC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMYWJlbC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWTGFiZWwsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMYWJlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGFiZWwgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMYWJlbC9WTGFiZWwudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGFiZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxhYmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZMYWJlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxhenkvVkxhenkudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMYXp5L1ZMYXp5LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfaW50ZXJzZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL2ludGVyc2VjdCAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvaW50ZXJzZWN0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vLyBNaXhpbnNcbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAnVkxhenknLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgaW50ZXJzZWN0OiBfZGlyZWN0aXZlc19pbnRlcnNlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBtaW5IZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdHlwZXMsIG5hdmlnYXRlIHRvOlxuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbl9PYnNlcnZlcl9BUElcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvb3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICByb290TWFyZ2luOiB1bmRlZmluZWQsXG4gICAgICAgICAgdGhyZXNob2xkOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdmYWRlLXRyYW5zaXRpb24nXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWluSGVpZ2h0OiBwYXJzZUludCh0aGlzLm1pbkhlaWdodCkgPyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5taW5IZWlnaHQpIDogdGhpcy5taW5IZWlnaHRcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuQ29udGVudDogZnVuY3Rpb24gZ2VuQ29udGVudCgpIHtcbiAgICAgIHZhciBzbG90ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFNsb3RcIl0pKHRoaXMpO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cbiAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uKSByZXR1cm4gc2xvdDtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIGNoaWxkcmVuLnB1c2goc2xvdCk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLnRyYW5zaXRpb25cbiAgICAgICAgfVxuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgb25PYnNlcnZlOiBmdW5jdGlvbiBvbk9ic2VydmUoZW50cmllcywgb2JzZXJ2ZXIsIGlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICBpZiAodGhpcy5pc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgdGhpcy5pc0FjdGl2ZSA9IGlzSW50ZXJzZWN0aW5nO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtbGF6eScsXG4gICAgICBhdHRyczogdGhpcy4kYXR0cnMsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAnaW50ZXJzZWN0JyxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uT2JzZXJ2ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgfVxuICAgICAgfV0sXG4gICAgICBvbjogdGhpcy4kbGlzdGVuZXJzLFxuICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzXG4gICAgfSwgW3RoaXMuZ2VuQ29udGVudCgpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTGF6eS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxhenkvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWTGF6eSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxhenlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxhenkgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMYXp5L1ZMYXp5LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkxhenlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxhenlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkxhenlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3Quc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3QudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxpc3Rfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGlzdC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZMaXN0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaGVldF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTaGVldC9WU2hlZXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTaGVldC9WU2hlZXQudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX192YWx1ZXMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fdmFsdWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSxcbiAgICAgIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBvICYmIG9baSsrXSxcbiAgICAgICAgZG9uZTogIW9cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIENvbXBvbmVudHNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WU2hlZXRfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWxpc3QnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0luTGlzdDogdHJ1ZSxcbiAgICAgIGxpc3Q6IHRoaXNcbiAgICB9O1xuICB9LFxuICBpbmplY3Q6IHtcbiAgICBpc0luTWVudToge1xuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGlzSW5OYXY6IHtcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGRlbnNlOiBCb29sZWFuLFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIGV4cGFuZDogQm9vbGVhbixcbiAgICBmbGF0OiBCb29sZWFuLFxuICAgIG5hdjogQm9vbGVhbixcbiAgICByb3VuZGVkOiBCb29sZWFuLFxuICAgIHNoYXBlZDogQm9vbGVhbixcbiAgICBzdWJoZWFkZXI6IEJvb2xlYW4sXG4gICAgdGhyZWVMaW5lOiBCb29sZWFuLFxuICAgIHRpbGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB0d29MaW5lOiBCb29sZWFuXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdyb3VwczogW11cbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WU2hlZXRfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWxpc3QtLWRlbnNlJzogdGhpcy5kZW5zZSxcbiAgICAgICAgJ3YtbGlzdC0tZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndi1saXN0LS1mbGF0JzogdGhpcy5mbGF0LFxuICAgICAgICAndi1saXN0LS1uYXYnOiB0aGlzLm5hdixcbiAgICAgICAgJ3YtbGlzdC0tcm91bmRlZCc6IHRoaXMucm91bmRlZCxcbiAgICAgICAgJ3YtbGlzdC0tc2hhcGVkJzogdGhpcy5zaGFwZWQsXG4gICAgICAgICd2LWxpc3QtLXN1YmhlYWRlcic6IHRoaXMuc3ViaGVhZGVyLFxuICAgICAgICAndi1saXN0LS10d28tbGluZSc6IHRoaXMudHdvTGluZSxcbiAgICAgICAgJ3YtbGlzdC0tdGhyZWUtbGluZSc6IHRoaXMudGhyZWVMaW5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoY29udGVudCkge1xuICAgICAgdGhpcy5ncm91cHMucHVzaChjb250ZW50KTtcbiAgICB9LFxuICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXIoY29udGVudCkge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5ncm91cHMuZmluZEluZGV4KGZ1bmN0aW9uIChnKSB7XG4gICAgICAgIHJldHVybiBnLl91aWQgPT09IGNvbnRlbnQuX3VpZDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSxcbiAgICBsaXN0Q2xpY2s6IGZ1bmN0aW9uIGxpc3RDbGljayh1aWQpIHtcbiAgICAgIHZhciBlXzEsIF9hO1xuXG4gICAgICBpZiAodGhpcy5leHBhbmQpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmdyb3VwcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgZ3JvdXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICBncm91cC50b2dnbGUodWlkKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgZV8xID0ge1xuICAgICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtbGlzdCcsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzLFxuICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzLFxuICAgICAgYXR0cnM6IF9fYXNzaWduKHtcbiAgICAgICAgcm9sZTogdGhpcy5pc0luTmF2IHx8IHRoaXMuaXNJbk1lbnUgPyB1bmRlZmluZWQgOiAnbGlzdCdcbiAgICAgIH0sIHRoaXMuYXR0cnMkKVxuICAgIH07XG4gICAgcmV0dXJuIGgoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIGRhdGEpLCBbdGhpcy4kc2xvdHMuZGVmYXVsdF0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RHcm91cC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RHcm91cC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0R3JvdXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RHcm91cC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxpc3RHcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMaXN0R3JvdXAuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RHcm91cC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEdyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVkxpc3RHcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxpc3RJdGVtICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW0udHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0SXRlbUljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxpc3RJdGVtSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtSWNvbi50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2JpbmRzX2F0dHJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYmluZHMtYXR0cnMgKi8gXCIuL3NyYy9taXhpbnMvYmluZHMtYXR0cnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19ib290YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2Jvb3RhYmxlICovIFwiLi9zcmMvbWl4aW5zL2Jvb3RhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JlZ2lzdHJhYmxlICovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc2l0aW9ucyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cblxuXG4gLy8gTWl4aW5zXG5cblxuXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFRyYW5zaXRpb25zXG5cbiAvLyBVdGlsc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYmluZHNfYXR0cnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLCBPYmplY3QoX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiaW5qZWN0XCJdKSgnbGlzdCcpLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWxpc3QtZ3JvdXAnLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgcmlwcGxlOiBfZGlyZWN0aXZlc19yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhY3RpdmVDbGFzczoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGFwcGVuZEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZXhwYW5kJ1xuICAgIH0sXG4gICAgY29sb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdwcmltYXJ5J1xuICAgIH0sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZ3JvdXA6IFN0cmluZyxcbiAgICBub0FjdGlvbjogQm9vbGVhbixcbiAgICBwcmVwZW5kSWNvbjogU3RyaW5nLFxuICAgIHJpcHBsZToge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBzdWJHcm91cDogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAndi1saXN0LWdyb3VwLS1hY3RpdmUnOiB0aGlzLmlzQWN0aXZlLFxuICAgICAgICAndi1saXN0LWdyb3VwLS1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICd2LWxpc3QtZ3JvdXAtLW5vLWFjdGlvbic6IHRoaXMubm9BY3Rpb24sXG4gICAgICAgICd2LWxpc3QtZ3JvdXAtLXN1Yi1ncm91cCc6IHRoaXMuc3ViR3JvdXBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSh2YWwpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoIXRoaXMuc3ViR3JvdXAgJiYgdmFsKSB7XG4gICAgICAgIHRoaXMubGlzdCAmJiB0aGlzLmxpc3QubGlzdENsaWNrKHRoaXMuX3VpZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAkcm91dGU6ICdvblJvdXRlQ2hhbmdlJ1xuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIHRoaXMubGlzdCAmJiB0aGlzLmxpc3QucmVnaXN0ZXIodGhpcyk7XG5cbiAgICBpZiAodGhpcy5ncm91cCAmJiB0aGlzLiRyb3V0ZSAmJiB0aGlzLnZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0aGlzLm1hdGNoUm91dGUodGhpcy4kcm91dGUucGF0aCk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMubGlzdCAmJiB0aGlzLmxpc3QudW5yZWdpc3Rlcih0aGlzKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5pc0Jvb3RlZCA9IHRydWU7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpO1xuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaXNBY3RpdmUgPSAhX3RoaXMuaXNBY3RpdmU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkljb246IGZ1bmN0aW9uIGdlbkljb24oaWNvbikge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBpY29uKTtcbiAgICB9LFxuICAgIGdlbkFwcGVuZEljb246IGZ1bmN0aW9uIGdlbkFwcGVuZEljb24oKSB7XG4gICAgICB2YXIgaWNvbiA9ICF0aGlzLnN1Ykdyb3VwID8gdGhpcy5hcHBlbmRJY29uIDogZmFsc2U7XG4gICAgICBpZiAoIWljb24gJiYgIXRoaXMuJHNsb3RzLmFwcGVuZEljb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZMaXN0SXRlbUljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWxpc3QtZ3JvdXBfX2hlYWRlcl9fYXBwZW5kLWljb24nXG4gICAgICB9LCBbdGhpcy4kc2xvdHMuYXBwZW5kSWNvbiB8fCB0aGlzLmdlbkljb24oaWNvbildKTtcbiAgICB9LFxuICAgIGdlbkhlYWRlcjogZnVuY3Rpb24gZ2VuSGVhZGVyKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkxpc3RJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1saXN0LWdyb3VwX19oZWFkZXInLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogU3RyaW5nKHRoaXMuaXNBY3RpdmUpLFxuICAgICAgICAgIHJvbGU6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzOiAoX2EgPSB7fSwgX2FbdGhpcy5hY3RpdmVDbGFzc10gPSB0aGlzLmlzQWN0aXZlLCBfYSksXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgaW5wdXRWYWx1ZTogdGhpcy5pc0FjdGl2ZVxuICAgICAgICB9LFxuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICdyaXBwbGUnLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnJpcHBsZVxuICAgICAgICB9XSxcbiAgICAgICAgb246IF9fYXNzaWduKHt9LCB0aGlzLmxpc3RlbmVycyQsIHtcbiAgICAgICAgICBjbGljazogdGhpcy5jbGlja1xuICAgICAgICB9KVxuICAgICAgfSwgW3RoaXMuZ2VuUHJlcGVuZEljb24oKSwgdGhpcy4kc2xvdHMuYWN0aXZhdG9yLCB0aGlzLmdlbkFwcGVuZEljb24oKV0pO1xuICAgIH0sXG4gICAgZ2VuSXRlbXM6IGZ1bmN0aW9uIGdlbkl0ZW1zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWxpc3QtZ3JvdXBfX2l0ZW1zJyxcbiAgICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuaXNBY3RpdmVcbiAgICAgICAgfV1cbiAgICAgIH0sIHRoaXMuc2hvd0xhenlDb250ZW50KFt0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLiRzbG90cy5kZWZhdWx0KV0pKTtcbiAgICB9LFxuICAgIGdlblByZXBlbmRJY29uOiBmdW5jdGlvbiBnZW5QcmVwZW5kSWNvbigpIHtcbiAgICAgIHZhciBpY29uID0gdGhpcy5wcmVwZW5kSWNvbiA/IHRoaXMucHJlcGVuZEljb24gOiB0aGlzLnN1Ykdyb3VwID8gJyRzdWJncm91cCcgOiBmYWxzZTtcbiAgICAgIGlmICghaWNvbiAmJiAhdGhpcy4kc2xvdHMucHJlcGVuZEljb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZMaXN0SXRlbUljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWxpc3QtZ3JvdXBfX2hlYWRlcl9fcHJlcGVuZC1pY29uJ1xuICAgICAgfSwgW3RoaXMuJHNsb3RzLnByZXBlbmRJY29uIHx8IHRoaXMuZ2VuSWNvbihpY29uKV0pO1xuICAgIH0sXG4gICAgb25Sb3V0ZUNoYW5nZTogZnVuY3Rpb24gb25Sb3V0ZUNoYW5nZSh0bykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIXRoaXMuZ3JvdXApIHJldHVybjtcbiAgICAgIHZhciBpc0FjdGl2ZSA9IHRoaXMubWF0Y2hSb3V0ZSh0by5wYXRoKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICAgIGlmIChpc0FjdGl2ZSAmJiB0aGlzLmlzQWN0aXZlICE9PSBpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmxpc3QgJiYgdGhpcy5saXN0Lmxpc3RDbGljayh0aGlzLl91aWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfSxcbiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSh1aWQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBpc0FjdGl2ZSA9IHRoaXMuX3VpZCA9PT0gdWlkO1xuICAgICAgaWYgKGlzQWN0aXZlKSB0aGlzLmlzQm9vdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG1hdGNoUm91dGU6IGZ1bmN0aW9uIG1hdGNoUm91dGUodG8pIHtcbiAgICAgIHJldHVybiB0by5tYXRjaCh0aGlzLmdyb3VwKSAhPT0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5pc0FjdGl2ZSAmJiB0aGlzLmNvbG9yLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtbGlzdC1ncm91cCcsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSksIFt0aGlzLmdlbkhlYWRlcigpLCBoKF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcIlZFeHBhbmRUcmFuc2l0aW9uXCJdLCBbdGhpcy5nZW5JdGVtcygpXSldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW0uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGlzdEl0ZW0uc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0SXRlbV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZMaXN0SXRlbV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcm91dGFibGUgKi8gXCIuL3NyYy9taXhpbnMvcm91dGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19ncm91cGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9ncm91cGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZ3JvdXBhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3JpcHBsZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmlwcGxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gTWl4aW5zXG5cblxuXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFV0aWxpdGllc1xuXG5cbiAvLyBUeXBlc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBPYmplY3QoX21peGluc19ncm91cGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImZhY3RvcnlcIl0pKCdsaXN0SXRlbUdyb3VwJyksIE9iamVjdChfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImZhY3RvcnlcIl0pKCdpbnB1dFZhbHVlJykpO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWxpc3QtaXRlbScsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBSaXBwbGU6IF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICBpbmplY3Q6IHtcbiAgICBpc0luR3JvdXA6IHtcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBpc0luTGlzdDoge1xuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGlzSW5NZW51OiB7XG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgaXNJbk5hdjoge1xuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgYWN0aXZlQ2xhc3M6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICBpZiAoIXRoaXMubGlzdEl0ZW1Hcm91cCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0SXRlbUdyb3VwLmFjdGl2ZUNsYXNzO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgaW5hY3RpdmU6IEJvb2xlYW4sXG4gICAgbGluazogQm9vbGVhbixcbiAgICBzZWxlY3RhYmxlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSxcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgfSxcbiAgICB0aHJlZUxpbmU6IEJvb2xlYW4sXG4gICAgdHdvTGluZTogQm9vbGVhbixcbiAgICB2YWx1ZTogbnVsbFxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm94eUNsYXNzOiAndi1saXN0LWl0ZW0tLWFjdGl2ZSdcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1saXN0LWl0ZW0nOiB0cnVlXG4gICAgICB9LCBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWxpc3QtaXRlbS0tZGVuc2UnOiB0aGlzLmRlbnNlLFxuICAgICAgICAndi1saXN0LWl0ZW0tLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgJ3YtbGlzdC1pdGVtLS1saW5rJzogdGhpcy5pc0NsaWNrYWJsZSAmJiAhdGhpcy5pbmFjdGl2ZSxcbiAgICAgICAgJ3YtbGlzdC1pdGVtLS1zZWxlY3RhYmxlJzogdGhpcy5zZWxlY3RhYmxlLFxuICAgICAgICAndi1saXN0LWl0ZW0tLXRocmVlLWxpbmUnOiB0aGlzLnRocmVlTGluZSxcbiAgICAgICAgJ3YtbGlzdC1pdGVtLS10d28tbGluZSc6IHRoaXMudHdvTGluZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgIH0sXG4gICAgaXNDbGlja2FibGU6IGZ1bmN0aW9uIGlzQ2xpY2thYmxlKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oX21peGluc19yb3V0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmlzQ2xpY2thYmxlLmNhbGwodGhpcykgfHwgdGhpcy5saXN0SXRlbUdyb3VwKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkoJ2F2YXRhcicpKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wicmVtb3ZlZFwiXSkoJ2F2YXRhcicsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICBpZiAoZS5kZXRhaWwpIHRoaXMuJGVsLmJsdXIoKTtcbiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgZSk7XG4gICAgICB0aGlzLnRvIHx8IHRoaXMudG9nZ2xlKCk7XG4gICAgfSxcbiAgICBnZW5BdHRyczogZnVuY3Rpb24gZ2VuQXR0cnMoKSB7XG4gICAgICB2YXIgYXR0cnMgPSBfX2Fzc2lnbih7XG4gICAgICAgICdhcmlhLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICAgIHRhYmluZGV4OiB0aGlzLmlzQ2xpY2thYmxlICYmICF0aGlzLmRpc2FibGVkID8gMCA6IC0xXG4gICAgICB9LCB0aGlzLiRhdHRycyk7XG5cbiAgICAgIGlmICh0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgncm9sZScpKSB7Ly8gZG8gbm90aGluZywgcm9sZSBhbHJlYWR5IHByb3ZpZGVkXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJbk5hdikgey8vIGRvIG5vdGhpbmcsIHJvbGUgaXMgaW5oZXJpdFxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSW5Hcm91cCkge1xuICAgICAgICBhdHRycy5yb2xlID0gJ2xpc3RpdGVtJztcbiAgICAgICAgYXR0cnNbJ2FyaWEtc2VsZWN0ZWQnXSA9IFN0cmluZyh0aGlzLmlzQWN0aXZlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0luTWVudSkge1xuICAgICAgICBhdHRycy5yb2xlID0gdGhpcy5pc0NsaWNrYWJsZSA/ICdtZW51aXRlbScgOiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJbkxpc3QpIHtcbiAgICAgICAgYXR0cnMucm9sZSA9ICdsaXN0aXRlbSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hID0gdGhpcy5nZW5lcmF0ZVJvdXRlTGluaygpLFxuICAgICAgICB0YWcgPSBfYS50YWcsXG4gICAgICAgIGRhdGEgPSBfYS5kYXRhO1xuXG4gICAgZGF0YS5hdHRycyA9IF9fYXNzaWduKHt9LCBkYXRhLmF0dHJzLCB0aGlzLmdlbkF0dHJzKCkpO1xuICAgIGRhdGEub24gPSBfX2Fzc2lnbih7fSwgZGF0YS5vbiwge1xuICAgICAgY2xpY2s6IHRoaXMuY2xpY2ssXG4gICAgICBrZXlkb3duOiBmdW5jdGlvbiBrZXlkb3duKGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wia2V5Q29kZXNcIl0uZW50ZXIpIF90aGlzLmNsaWNrKGUpO1xuXG4gICAgICAgIF90aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCA/IHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe1xuICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlLFxuICAgICAgdG9nZ2xlOiB0aGlzLnRvZ2dsZVxuICAgIH0pIDogdGhpcy4kc2xvdHMuZGVmYXVsdDtcbiAgICB0YWcgPSB0aGlzLmluYWN0aXZlID8gJ2RpdicgOiB0YWc7XG4gICAgcmV0dXJuIGgodGFnLCB0aGlzLnNldFRleHRDb2xvcih0aGlzLmNvbG9yLCBkYXRhKSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtQWN0aW9uLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtQWN0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLy8gVHlwZXNcblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtbGlzdC1pdGVtLWFjdGlvbicsXG4gIGZ1bmN0aW9uYWw6IHRydWUsXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9hKSB7XG4gICAgdmFyIGRhdGEgPSBfYS5kYXRhLFxuICAgICAgICBfYiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBjaGlsZHJlbiA9IF9iID09PSB2b2lkIDAgPyBbXSA6IF9iO1xuICAgIGRhdGEuc3RhdGljQ2xhc3MgPSBkYXRhLnN0YXRpY0NsYXNzID8gXCJ2LWxpc3QtaXRlbV9fYWN0aW9uIFwiICsgZGF0YS5zdGF0aWNDbGFzcyA6ICd2LWxpc3QtaXRlbV9fYWN0aW9uJztcbiAgICB2YXIgZmlsdGVyZWRDaGlsZCA9IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoVk5vZGUpIHtcbiAgICAgIHJldHVybiBWTm9kZS5pc0NvbW1lbnQgPT09IGZhbHNlICYmIFZOb2RlLnRleHQgIT09ICcgJztcbiAgICB9KTtcbiAgICBpZiAoZmlsdGVyZWRDaGlsZC5sZW5ndGggPiAxKSBkYXRhLnN0YXRpY0NsYXNzICs9ICcgdi1saXN0LWl0ZW1fX2FjdGlvbi0tc3RhY2snO1xuICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1BdmF0YXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1BdmF0YXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkF2YXRhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkF2YXRhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9pbmRleC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIENvbXBvbmVudHNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtbGlzdC1pdGVtLWF2YXRhcicsXG4gIHByb3BzOiB7XG4gICAgaG9yaXpvbnRhbDogQm9vbGVhbixcbiAgICBzaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNDBcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LWxpc3QtaXRlbV9fYXZhdGFyLS1ob3Jpem9udGFsJzogdGhpcy5ob3Jpem9udGFsXG4gICAgICB9LCBfVkF2YXRhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi1hdmF0YXItLXRpbGUnOiB0aGlzLnRpbGUgfHwgdGhpcy5ob3Jpem9udGFsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgcmVuZGVyID0gX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5yZW5kZXIuY2FsbCh0aGlzLCBoKTtcbiAgICByZW5kZXIuZGF0YSA9IHJlbmRlci5kYXRhIHx8IHt9O1xuICAgIHJlbmRlci5kYXRhLnN0YXRpY0NsYXNzICs9ICcgdi1saXN0LWl0ZW1fX2F2YXRhcic7XG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbUdyb3VwLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtR3JvdXAuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvVkxpc3RJdGVtR3JvdXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbUdyb3VwLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxpc3RJdGVtR3JvdXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGlzdEl0ZW1Hcm91cC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1Hcm91cC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1Hcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZMaXN0SXRlbUdyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkl0ZW1Hcm91cC9WSXRlbUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBNaXhpbnNcblxuIC8vIFV0aWxpdGllc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQmFzZUl0ZW1Hcm91cFwiXSwgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LWxpc3QtaXRlbS1ncm91cCcsXG4gIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSW5Hcm91cDogdHJ1ZSxcbiAgICAgIGxpc3RJdGVtR3JvdXA6IHRoaXNcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WSXRlbUdyb3VwX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkJhc2VJdGVtR3JvdXBcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtbGlzdC1pdGVtLWdyb3VwJzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuRGF0YTogZnVuY3Rpb24gZ2VuRGF0YSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldFRleHRDb2xvcih0aGlzLmNvbG9yLCBfX2Fzc2lnbih7fSwgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQmFzZUl0ZW1Hcm91cFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuRGF0YS5jYWxsKHRoaXMpLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgcm9sZTogJ2xpc3Rib3gnXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1JY29uLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbUljb24udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLy8gVHlwZXNcblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtbGlzdC1pdGVtLWljb24nLFxuICBmdW5jdGlvbmFsOiB0cnVlLFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfYSkge1xuICAgIHZhciBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICBkYXRhLnN0YXRpY0NsYXNzID0gKFwidi1saXN0LWl0ZW1fX2ljb24gXCIgKyAoZGF0YS5zdGF0aWNDbGFzcyB8fCAnJykpLnRyaW0oKTtcbiAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZMaXN0L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVkxpc3RJdGVtQWN0aW9uVGV4dCwgVkxpc3RJdGVtQ29udGVudCwgVkxpc3RJdGVtVGl0bGUsIFZMaXN0SXRlbVN1YnRpdGxlLCBWTGlzdCwgVkxpc3RHcm91cCwgVkxpc3RJdGVtLCBWTGlzdEl0ZW1BY3Rpb24sIFZMaXN0SXRlbUF2YXRhciwgVkxpc3RJdGVtSWNvbiwgVkxpc3RJdGVtR3JvdXAsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkxpc3RJdGVtQWN0aW9uVGV4dFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZMaXN0SXRlbUFjdGlvblRleHQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbUNvbnRlbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWTGlzdEl0ZW1Db250ZW50OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1UaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZMaXN0SXRlbVRpdGxlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1TdWJ0aXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZMaXN0SXRlbVN1YnRpdGxlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMaXN0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMaXN0R3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0R3JvdXAudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0R3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0SXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGlzdEl0ZW0gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WTGlzdEl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0SXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMaXN0SXRlbUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1Hcm91cC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbUdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0SXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1BY3Rpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxpc3RJdGVtQWN0aW9uICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1BY3Rpb24udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1BY3Rpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RJdGVtQWN0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1BdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkxpc3RJdGVtQXZhdGFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGlzdC9WTGlzdEl0ZW1BdmF0YXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1BdmF0YXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RJdGVtQXZhdGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdEl0ZW1JY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMaXN0SXRlbUljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L1ZMaXN0SXRlbUljb24udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0SXRlbUljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG5cblxuXG5cblxudmFyIFZMaXN0SXRlbUFjdGlvblRleHQgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlRnVuY3Rpb25hbFwiXSkoJ3YtbGlzdC1pdGVtX19hY3Rpb24tdGV4dCcsICdzcGFuJyk7XG52YXIgVkxpc3RJdGVtQ29udGVudCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVGdW5jdGlvbmFsXCJdKSgndi1saXN0LWl0ZW1fX2NvbnRlbnQnLCAnZGl2Jyk7XG52YXIgVkxpc3RJdGVtVGl0bGUgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlRnVuY3Rpb25hbFwiXSkoJ3YtbGlzdC1pdGVtX190aXRsZScsICdkaXYnKTtcbnZhciBWTGlzdEl0ZW1TdWJ0aXRsZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVGdW5jdGlvbmFsXCJdKSgndi1saXN0LWl0ZW1fX3N1YnRpdGxlJywgJ2RpdicpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWTGlzdDogX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICAgIFZMaXN0R3JvdXA6IF9WTGlzdEdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICAgIFZMaXN0SXRlbTogX1ZMaXN0SXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSxcbiAgICBWTGlzdEl0ZW1BY3Rpb246IF9WTGlzdEl0ZW1BY3Rpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sXG4gICAgVkxpc3RJdGVtQWN0aW9uVGV4dDogVkxpc3RJdGVtQWN0aW9uVGV4dCxcbiAgICBWTGlzdEl0ZW1BdmF0YXI6IF9WTGlzdEl0ZW1BdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sXG4gICAgVkxpc3RJdGVtQ29udGVudDogVkxpc3RJdGVtQ29udGVudCxcbiAgICBWTGlzdEl0ZW1Hcm91cDogX1ZMaXN0SXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLFxuICAgIFZMaXN0SXRlbUljb246IF9WTGlzdEl0ZW1JY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLFxuICAgIFZMaXN0SXRlbVN1YnRpdGxlOiBWTGlzdEl0ZW1TdWJ0aXRsZSxcbiAgICBWTGlzdEl0ZW1UaXRsZTogVkxpc3RJdGVtVGl0bGVcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lbnUvVk1lbnUuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTWVudS9WTWVudS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVudS9WTWVudS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVk1lbnUvVk1lbnUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTWVudV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZNZW51LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZNZW51L1ZNZW51LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZNZW51X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVk1lbnVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RlbGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RlbGF5YWJsZSAqLyBcIi4vc3JjL21peGlucy9kZWxheWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19kZXBlbmRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9kZXBlbmRlbnQgKi8gXCIuL3NyYy9taXhpbnMvZGVwZW5kZW50L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZGV0YWNoYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RldGFjaGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZGV0YWNoYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX21lbnVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbWVudWFibGUgKi8gXCIuL3NyYy9taXhpbnMvbWVudWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZXR1cm5hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmV0dXJuYWJsZSAqLyBcIi4vc3JjL21peGlucy9yZXR1cm5hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RvZ2dsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdG9nZ2xlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yZXNpemUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3Jlc2l6ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfVGhlbWVQcm92aWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvVGhlbWVQcm92aWRlciAqLyBcIi4vc3JjL3V0aWwvVGhlbWVQcm92aWRlci50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gTWl4aW5zXG5cblxuXG5cblxuXG5cbiAvLyBEaXJlY3RpdmVzXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfZGVwZW5kZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2RlbGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19kZXRhY2hhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX21lbnVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JldHVybmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCh7XG4gIG5hbWU6ICd2LW1lbnUnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0luTWVudTogdHJ1ZSxcbiAgICAgIC8vIFBhc3MgdGhlbWUgdGhyb3VnaCB0byBkZWZhdWx0IHNsb3RcbiAgICAgIHRoZW1lOiB0aGlzLnRoZW1lXG4gICAgfTtcbiAgfSxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrT3V0c2lkZTogX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSxcbiAgICBSZXNpemU6IF9kaXJlY3RpdmVzX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGF1dG86IEJvb2xlYW4sXG4gICAgY2xvc2VPbkNsaWNrOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgY2xvc2VPbkNvbnRlbnRDbGljazoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIGRpc2FibGVLZXlzOiBCb29sZWFuLFxuICAgIG1heEhlaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJ1xuICAgIH0sXG4gICAgb2Zmc2V0WDogQm9vbGVhbixcbiAgICBvZmZzZXRZOiBCb29sZWFuLFxuICAgIG9wZW5PbkNsaWNrOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgb3Blbk9uSG92ZXI6IEJvb2xlYW4sXG4gICAgb3JpZ2luOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAndG9wIGxlZnQnXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICd2LW1lbnUtdHJhbnNpdGlvbidcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbGN1bGF0ZWRUb3BBdXRvOiAwLFxuICAgICAgZGVmYXVsdE9mZnNldDogOCxcbiAgICAgIGhhc0p1c3RGb2N1c2VkOiBmYWxzZSxcbiAgICAgIGxpc3RJbmRleDogLTEsXG4gICAgICByZXNpemVUaW1lb3V0OiAwLFxuICAgICAgc2VsZWN0ZWRJbmRleDogbnVsbCxcbiAgICAgIHRpbGVzOiBbXVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgYWN0aXZlVGlsZTogZnVuY3Rpb24gYWN0aXZlVGlsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVzW3RoaXMubGlzdEluZGV4XTtcbiAgICB9LFxuICAgIGNhbGN1bGF0ZWRMZWZ0OiBmdW5jdGlvbiBjYWxjdWxhdGVkTGVmdCgpIHtcbiAgICAgIHZhciBtZW51V2lkdGggPSBNYXRoLm1heCh0aGlzLmRpbWVuc2lvbnMuY29udGVudC53aWR0aCwgcGFyc2VGbG9hdCh0aGlzLmNhbGN1bGF0ZWRNaW5XaWR0aCkpO1xuICAgICAgaWYgKCF0aGlzLmF1dG8pIHJldHVybiB0aGlzLmNhbGNMZWZ0KG1lbnVXaWR0aCkgfHwgJzAnO1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jYWxjWE92ZXJmbG93KHRoaXMuY2FsY0xlZnRBdXRvKCksIG1lbnVXaWR0aCkpIHx8ICcwJztcbiAgICB9LFxuICAgIGNhbGN1bGF0ZWRNYXhIZWlnaHQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZWRNYXhIZWlnaHQoKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5hdXRvID8gJzIwMHB4JyA6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5tYXhIZWlnaHQpO1xuICAgICAgcmV0dXJuIGhlaWdodCB8fCAnMCc7XG4gICAgfSxcbiAgICBjYWxjdWxhdGVkTWF4V2lkdGg6IGZ1bmN0aW9uIGNhbGN1bGF0ZWRNYXhXaWR0aCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMubWF4V2lkdGgpIHx8ICcwJztcbiAgICB9LFxuICAgIGNhbGN1bGF0ZWRNaW5XaWR0aDogZnVuY3Rpb24gY2FsY3VsYXRlZE1pbldpZHRoKCkge1xuICAgICAgaWYgKHRoaXMubWluV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5taW5XaWR0aCkgfHwgJzAnO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWluV2lkdGggPSBNYXRoLm1pbih0aGlzLmRpbWVuc2lvbnMuYWN0aXZhdG9yLndpZHRoICsgTnVtYmVyKHRoaXMubnVkZ2VXaWR0aCkgKyAodGhpcy5hdXRvID8gMTYgOiAwKSwgTWF0aC5tYXgodGhpcy5wYWdlV2lkdGggLSAyNCwgMCkpO1xuICAgICAgdmFyIGNhbGN1bGF0ZWRNYXhXaWR0aCA9IGlzTmFOKHBhcnNlSW50KHRoaXMuY2FsY3VsYXRlZE1heFdpZHRoKSkgPyBtaW5XaWR0aCA6IHBhcnNlSW50KHRoaXMuY2FsY3VsYXRlZE1heFdpZHRoKTtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImNvbnZlcnRUb1VuaXRcIl0pKE1hdGgubWluKGNhbGN1bGF0ZWRNYXhXaWR0aCwgbWluV2lkdGgpKSB8fCAnMCc7XG4gICAgfSxcbiAgICBjYWxjdWxhdGVkVG9wOiBmdW5jdGlvbiBjYWxjdWxhdGVkVG9wKCkge1xuICAgICAgdmFyIHRvcCA9ICF0aGlzLmF1dG8gPyB0aGlzLmNhbGNUb3AoKSA6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jYWxjWU92ZXJmbG93KHRoaXMuY2FsY3VsYXRlZFRvcEF1dG8pKTtcbiAgICAgIHJldHVybiB0b3AgfHwgJzAnO1xuICAgIH0sXG4gICAgaGFzQ2xpY2thYmxlVGlsZXM6IGZ1bmN0aW9uIGhhc0NsaWNrYWJsZVRpbGVzKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy50aWxlcy5maW5kKGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICAgIHJldHVybiB0aWxlLnRhYkluZGV4ID4gLTE7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1heEhlaWdodDogdGhpcy5jYWxjdWxhdGVkTWF4SGVpZ2h0LFxuICAgICAgICBtaW5XaWR0aDogdGhpcy5jYWxjdWxhdGVkTWluV2lkdGgsXG4gICAgICAgIG1heFdpZHRoOiB0aGlzLmNhbGN1bGF0ZWRNYXhXaWR0aCxcbiAgICAgICAgdG9wOiB0aGlzLmNhbGN1bGF0ZWRUb3AsXG4gICAgICAgIGxlZnQ6IHRoaXMuY2FsY3VsYXRlZExlZnQsXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogdGhpcy5vcmlnaW4sXG4gICAgICAgIHpJbmRleDogdGhpcy56SW5kZXggfHwgdGhpcy5hY3RpdmVaSW5kZXhcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSh2YWwpIHtcbiAgICAgIGlmICghdmFsKSB0aGlzLmxpc3RJbmRleCA9IC0xO1xuICAgIH0sXG4gICAgaXNDb250ZW50QWN0aXZlOiBmdW5jdGlvbiBpc0NvbnRlbnRBY3RpdmUodmFsKSB7XG4gICAgICB0aGlzLmhhc0p1c3RGb2N1c2VkID0gdmFsO1xuICAgIH0sXG4gICAgbGlzdEluZGV4OiBmdW5jdGlvbiBsaXN0SW5kZXgobmV4dCwgcHJldikge1xuICAgICAgaWYgKG5leHQgaW4gdGhpcy50aWxlcykge1xuICAgICAgICB2YXIgdGlsZSA9IHRoaXMudGlsZXNbbmV4dF07XG4gICAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZCgndi1saXN0LWl0ZW0tLWhpZ2hsaWdodGVkJyk7XG4gICAgICAgIHRoaXMuJHJlZnMuY29udGVudC5zY3JvbGxUb3AgPSB0aWxlLm9mZnNldFRvcCAtIHRpbGUuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBwcmV2IGluIHRoaXMudGlsZXMgJiYgdGhpcy50aWxlc1twcmV2XS5jbGFzc0xpc3QucmVtb3ZlKCd2LWxpc3QtaXRlbS0taGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodGhpcy4kYXR0cnMuaGFzT3duUHJvcGVydHkoJ2Z1bGwtd2lkdGgnKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJyZW1vdmVkXCJdKSgnZnVsbC13aWR0aCcsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLmlzQWN0aXZlICYmIHRoaXMuY2FsbEFjdGl2YXRlKCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBhY3RpdmF0ZTogZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBVcGRhdGUgY29vcmRpbmF0ZXMgYW5kIGRpbWVuc2lvbnMgb2YgbWVudVxuICAgICAgLy8gYW5kIGl0cyBhY3RpdmF0b3JcblxuXG4gICAgICB0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKTsgLy8gU3RhcnQgdGhlIHRyYW5zaXRpb25cblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gT25jZSB0cmFuc2l0aW9uaW5nLCBjYWxjdWxhdGUgc2Nyb2xsIGFuZCB0b3AgcG9zaXRpb25cbiAgICAgICAgX3RoaXMuc3RhcnRUcmFuc2l0aW9uKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzLiRyZWZzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmNhbGN1bGF0ZWRUb3BBdXRvID0gX3RoaXMuY2FsY1RvcEF1dG8oKTtcbiAgICAgICAgICAgIF90aGlzLmF1dG8gJiYgKF90aGlzLiRyZWZzLmNvbnRlbnQuc2Nyb2xsVG9wID0gX3RoaXMuY2FsY1Njcm9sbFBvc2l0aW9uKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNhbGNTY3JvbGxQb3NpdGlvbjogZnVuY3Rpb24gY2FsY1Njcm9sbFBvc2l0aW9uKCkge1xuICAgICAgdmFyICRlbCA9IHRoaXMuJHJlZnMuY29udGVudDtcbiAgICAgIHZhciBhY3RpdmVUaWxlID0gJGVsLnF1ZXJ5U2VsZWN0b3IoJy52LWxpc3QtaXRlbS0tYWN0aXZlJyk7XG4gICAgICB2YXIgbWF4U2Nyb2xsVG9wID0gJGVsLnNjcm9sbEhlaWdodCAtICRlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICByZXR1cm4gYWN0aXZlVGlsZSA/IE1hdGgubWluKG1heFNjcm9sbFRvcCwgTWF0aC5tYXgoMCwgYWN0aXZlVGlsZS5vZmZzZXRUb3AgLSAkZWwub2Zmc2V0SGVpZ2h0IC8gMiArIGFjdGl2ZVRpbGUub2Zmc2V0SGVpZ2h0IC8gMikpIDogJGVsLnNjcm9sbFRvcDtcbiAgICB9LFxuICAgIGNhbGNMZWZ0QXV0bzogZnVuY3Rpb24gY2FsY0xlZnRBdXRvKCkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZGltZW5zaW9ucy5hY3RpdmF0b3IubGVmdCAtIHRoaXMuZGVmYXVsdE9mZnNldCAqIDIpO1xuICAgIH0sXG4gICAgY2FsY1RvcEF1dG86IGZ1bmN0aW9uIGNhbGNUb3BBdXRvKCkge1xuICAgICAgdmFyICRlbCA9IHRoaXMuJHJlZnMuY29udGVudDtcbiAgICAgIHZhciBhY3RpdmVUaWxlID0gJGVsLnF1ZXJ5U2VsZWN0b3IoJy52LWxpc3QtaXRlbS0tYWN0aXZlJyk7XG5cbiAgICAgIGlmICghYWN0aXZlVGlsZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vZmZzZXRZIHx8ICFhY3RpdmVUaWxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkVG9wO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBBcnJheS5mcm9tKHRoaXMudGlsZXMpLmluZGV4T2YoYWN0aXZlVGlsZSk7XG4gICAgICB2YXIgdGlsZURpc3RhbmNlRnJvbU1lbnVUb3AgPSBhY3RpdmVUaWxlLm9mZnNldFRvcCAtIHRoaXMuY2FsY1Njcm9sbFBvc2l0aW9uKCk7XG4gICAgICB2YXIgZmlyc3RUaWxlT2Zmc2V0VG9wID0gJGVsLnF1ZXJ5U2VsZWN0b3IoJy52LWxpc3QtaXRlbScpLm9mZnNldFRvcDtcbiAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkVG9wIC0gdGlsZURpc3RhbmNlRnJvbU1lbnVUb3AgLSBmaXJzdFRpbGVPZmZzZXRUb3AgLSAxO1xuICAgIH0sXG4gICAgY2hhbmdlTGlzdEluZGV4OiBmdW5jdGlvbiBjaGFuZ2VMaXN0SW5kZXgoZSkge1xuICAgICAgLy8gRm9yIGluZmluaXRlIHNjcm9sbCBhbmQgYXV0b2NvbXBsZXRlLCByZS1ldmFsdWF0ZSBjaGlsZHJlblxuICAgICAgdGhpcy5nZXRUaWxlcygpO1xuXG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgIXRoaXMuaGFzQ2xpY2thYmxlVGlsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJrZXlDb2Rlc1wiXS50YWIpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImtleUNvZGVzXCJdLmRvd24pIHtcbiAgICAgICAgdGhpcy5uZXh0VGlsZSgpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJrZXlDb2Rlc1wiXS51cCkge1xuICAgICAgICB0aGlzLnByZXZUaWxlKCk7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImtleUNvZGVzXCJdLmVudGVyICYmIHRoaXMubGlzdEluZGV4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLnRpbGVzW3RoaXMubGlzdEluZGV4XS5jbGljaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBPbmUgb2YgdGhlIGNvbmRpdGlvbnMgd2FzIG1ldCwgcHJldmVudCBkZWZhdWx0IGFjdGlvbiAoIzI5ODgpXG5cblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgY2xvc2VDb25kaXRpb25hbDogZnVuY3Rpb24gY2xvc2VDb25kaXRpb25hbChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICByZXR1cm4gdGhpcy5pc0FjdGl2ZSAmJiAhdGhpcy5faXNEZXN0cm95ZWQgJiYgdGhpcy5jbG9zZU9uQ2xpY2sgJiYgIXRoaXMuJHJlZnMuY29udGVudC5jb250YWlucyh0YXJnZXQpO1xuICAgIH0sXG4gICAgZ2VuQWN0aXZhdG9yTGlzdGVuZXJzOiBmdW5jdGlvbiBnZW5BY3RpdmF0b3JMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzID0gX21peGluc19tZW51YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuQWN0aXZhdG9yTGlzdGVuZXJzLmNhbGwodGhpcyk7XG5cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlS2V5cykge1xuICAgICAgICBsaXN0ZW5lcnMua2V5ZG93biA9IHRoaXMub25LZXlEb3duO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH0sXG4gICAgZ2VuVHJhbnNpdGlvbjogZnVuY3Rpb24gZ2VuVHJhbnNpdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uKSByZXR1cm4gdGhpcy5nZW5Db250ZW50KCk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLnRyYW5zaXRpb25cbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuZ2VuQ29udGVudCgpXSk7XG4gICAgfSxcbiAgICBnZW5EaXJlY3RpdmVzOiBmdW5jdGlvbiBnZW5EaXJlY3RpdmVzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbe1xuICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgIHZhbHVlOiB0aGlzLmlzQ29udGVudEFjdGl2ZVxuICAgICAgfV07IC8vIERvIG5vdCBhZGQgY2xpY2sgb3V0c2lkZSBmb3IgaG92ZXIgbWVudVxuXG4gICAgICBpZiAoIXRoaXMub3Blbk9uSG92ZXIgJiYgdGhpcy5jbG9zZU9uQ2xpY2spIHtcbiAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiAnY2xpY2stb3V0c2lkZScsXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIGNsb3NlQ29uZGl0aW9uYWw6IHRoaXMuY2xvc2VDb25kaXRpb25hbCxcbiAgICAgICAgICAgIGluY2x1ZGU6IGZ1bmN0aW9uIGluY2x1ZGUoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfX3NwcmVhZChbX3RoaXMuJGVsXSwgX3RoaXMuZ2V0T3BlbkRlcGVuZGVudEVsZW1lbnRzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH0sXG4gICAgZ2VuQ29udGVudDogZnVuY3Rpb24gZ2VuQ29udGVudCgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGF0dHJzOiBfX2Fzc2lnbih7fSwgdGhpcy5nZXRTY29wZUlkQXR0cnMoKSwge1xuICAgICAgICAgIHJvbGU6ICdyb2xlJyBpbiB0aGlzLiRhdHRycyA/IHRoaXMuJGF0dHJzLnJvbGUgOiAnbWVudSdcbiAgICAgICAgfSksXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1tZW51X19jb250ZW50JyxcbiAgICAgICAgY2xhc3M6IF9fYXNzaWduKHt9LCB0aGlzLnJvb3RUaGVtZUNsYXNzZXMsIChfYSA9IHtcbiAgICAgICAgICAndi1tZW51X19jb250ZW50LS1hdXRvJzogdGhpcy5hdXRvLFxuICAgICAgICAgICd2LW1lbnVfX2NvbnRlbnQtLWZpeGVkJzogdGhpcy5hY3RpdmF0b3JGaXhlZCxcbiAgICAgICAgICBtZW51YWJsZV9fY29udGVudF9fYWN0aXZlOiB0aGlzLmlzQWN0aXZlXG4gICAgICAgIH0sIF9hW3RoaXMuY29udGVudENsYXNzLnRyaW0oKV0gPSB0cnVlLCBfYSkpLFxuICAgICAgICBzdHlsZTogdGhpcy5zdHlsZXMsXG4gICAgICAgIGRpcmVjdGl2ZXM6IHRoaXMuZ2VuRGlyZWN0aXZlcygpLFxuICAgICAgICByZWY6ICdjb250ZW50JyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoX3RoaXMuY2xvc2VPbkNvbnRlbnRDbGljaykgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleWRvd246IHRoaXMub25LZXlEb3duXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiB0aGlzLm9wZW5PbkhvdmVyKSB7XG4gICAgICAgIG9wdGlvbnMub24gPSBvcHRpb25zLm9uIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm9uLm1vdXNlZW50ZXIgPSB0aGlzLm1vdXNlRW50ZXJIYW5kbGVyO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcGVuT25Ib3Zlcikge1xuICAgICAgICBvcHRpb25zLm9uID0gb3B0aW9ucy5vbiB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vbi5tb3VzZWxlYXZlID0gdGhpcy5tb3VzZUxlYXZlSGFuZGxlcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIG9wdGlvbnMsIHRoaXMuc2hvd0xhenlDb250ZW50KHRoaXMuZ2V0Q29udGVudFNsb3QoKSkpO1xuICAgIH0sXG4gICAgZ2V0VGlsZXM6IGZ1bmN0aW9uIGdldFRpbGVzKCkge1xuICAgICAgdGhpcy50aWxlcyA9IEFycmF5LmZyb20odGhpcy4kcmVmcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52LWxpc3QtaXRlbScpKTtcbiAgICB9LFxuICAgIG1vdXNlRW50ZXJIYW5kbGVyOiBmdW5jdGlvbiBtb3VzZUVudGVySGFuZGxlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucnVuRGVsYXkoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5oYXNKdXN0Rm9jdXNlZCkgcmV0dXJuO1xuICAgICAgICBfdGhpcy5oYXNKdXN0Rm9jdXNlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbW91c2VMZWF2ZUhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlTGVhdmVIYW5kbGVyKGUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIFByZXZlbnQgYWNjaWRlbnRhbCByZS1hY3RpdmF0aW9uXG5cblxuICAgICAgdGhpcy5ydW5EZWxheSgnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy4kcmVmcy5jb250ZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHJldHVybjtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgX3RoaXMuY2FsbERlYWN0aXZhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG5leHRUaWxlOiBmdW5jdGlvbiBuZXh0VGlsZSgpIHtcbiAgICAgIHZhciB0aWxlID0gdGhpcy50aWxlc1t0aGlzLmxpc3RJbmRleCArIDFdO1xuXG4gICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmxpc3RJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLm5leHRUaWxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5saXN0SW5kZXgrKztcbiAgICAgIGlmICh0aWxlLnRhYkluZGV4ID09PSAtMSkgdGhpcy5uZXh0VGlsZSgpO1xuICAgIH0sXG4gICAgcHJldlRpbGU6IGZ1bmN0aW9uIHByZXZUaWxlKCkge1xuICAgICAgdmFyIHRpbGUgPSB0aGlzLnRpbGVzW3RoaXMubGlzdEluZGV4IC0gMV07XG5cbiAgICAgIGlmICghdGlsZSkge1xuICAgICAgICBpZiAoIXRoaXMudGlsZXMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIHRoaXMubGlzdEluZGV4ID0gdGhpcy50aWxlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMucHJldlRpbGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxpc3RJbmRleC0tO1xuICAgICAgaWYgKHRpbGUudGFiSW5kZXggPT09IC0xKSB0aGlzLnByZXZUaWxlKCk7XG4gICAgfSxcbiAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wia2V5Q29kZXNcIl0uZXNjKSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIGRlcGVuZGVudCBlbGVtZW50cyB0byBjbG9zZSBmaXJzdFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGFjdGl2YXRvcl8xID0gdGhpcy5nZXRBY3RpdmF0b3IoKTtcbiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBhY3RpdmF0b3JfMSAmJiBhY3RpdmF0b3JfMS5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNBY3RpdmUgJiYgW191dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJrZXlDb2Rlc1wiXS51cCwgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImtleUNvZGVzXCJdLmRvd25dLmluY2x1ZGVzKGUua2V5Q29kZSkpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICB9IC8vIEFsbG93IGZvciBpc0FjdGl2ZSB3YXRjaGVyIHRvIGdlbmVyYXRlIHRpbGUgbGlzdFxuXG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNoYW5nZUxpc3RJbmRleChlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm47IC8vIEFjY291bnQgZm9yIHNjcmVlbiByZXNpemVcbiAgICAgIC8vIGFuZCBvcmllbnRhdGlvbiBjaGFuZ2VcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblxuICAgICAgdGhpcy4kcmVmcy5jb250ZW50Lm9mZnNldFdpZHRoO1xuICAgICAgdGhpcy51cGRhdGVEaW1lbnNpb25zKCk7IC8vIFdoZW4gcmVzaXppbmcgdG8gYSBzbWFsbGVyIHdpZHRoXG4gICAgICAvLyBjb250ZW50IHdpZHRoIGlzIGV2YWx1YXRlZCBiZWZvcmVcbiAgICAgIC8vIHRoZSBuZXcgYWN0aXZhdG9yIHdpZHRoIGhhcyBiZWVuXG4gICAgICAvLyBzZXQsIGNhdXNpbmcgaXQgdG8gbm90IHNpemUgcHJvcGVybHlcbiAgICAgIC8vIGhhY2t5IGJ1dCB3aWxsIHJldmlzaXQgaW4gdGhlIGZ1dHVyZVxuXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMudXBkYXRlRGltZW5zaW9ucywgMTAwKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1tZW51JyxcbiAgICAgIGNsYXNzOiB7XG4gICAgICAgICd2LW1lbnUtLWF0dGFjaGVkJzogdGhpcy5hdHRhY2ggPT09ICcnIHx8IHRoaXMuYXR0YWNoID09PSB0cnVlIHx8IHRoaXMuYXR0YWNoID09PSAnYXR0YWNoJ1xuICAgICAgfSxcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIGFyZzogJzUwMCcsXG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICB2YWx1ZTogdGhpcy5vblJlc2l6ZVxuICAgICAgfV1cbiAgICB9O1xuICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBbIXRoaXMuYWN0aXZhdG9yICYmIHRoaXMuZ2VuQWN0aXZhdG9yKCksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX3V0aWxfVGhlbWVQcm92aWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHJvb3Q6IHRydWUsXG4gICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICBkYXJrOiB0aGlzLmRhcmtcbiAgICAgIH1cbiAgICB9LCBbdGhpcy5nZW5UcmFuc2l0aW9uKCldKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lbnUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZNZW51L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVk1lbnUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZNZW51ICovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVudS9WTWVudS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZNZW51XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvVk1lc3NhZ2VzLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvVk1lc3NhZ2VzLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lc3NhZ2VzL1ZNZXNzYWdlcy50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvVk1lc3NhZ2VzLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTWVzc2FnZXNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTWVzc2FnZXMuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lc3NhZ2VzL1ZNZXNzYWdlcy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTWVzc2FnZXNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WTWVzc2FnZXNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vLyBTdHlsZXNcbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtbWVzc2FnZXMnLFxuICBwcm9wczoge1xuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuQ2hpbGRyZW46IGZ1bmN0aW9uIGdlbkNoaWxkcmVuKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyYW5zaXRpb24tZ3JvdXAnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1tZXNzYWdlc19fd3JhcHBlcicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgbmFtZTogJ21lc3NhZ2UtdHJhbnNpdGlvbicsXG4gICAgICAgICAgdGFnOiAnZGl2J1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLnZhbHVlLm1hcCh0aGlzLmdlbk1lc3NhZ2UpKTtcbiAgICB9LFxuICAgIGdlbk1lc3NhZ2U6IGZ1bmN0aW9uIGdlbk1lc3NhZ2UobWVzc2FnZSwga2V5KSB7XG4gICAgICB2YXIgc2xvdCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZXRTbG90XCJdKSh0aGlzLCAnZGVmYXVsdCcsIHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0pO1xuICAgICAgdmFyIGVzY2FwZWRIVE1MID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImVzY2FwZUhUTUxcIl0pKG1lc3NhZ2UpO1xuICAgICAgdmFyIGlubmVySFRNTCA9ICFzbG90ID8gZXNjYXBlZEhUTUwgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtbWVzc2FnZXNfX21lc3NhZ2UnLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICBpbm5lckhUTUw6IGlubmVySFRNTFxuICAgICAgICB9XG4gICAgICB9LCBzbG90KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb2xvciwge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LW1lc3NhZ2VzJyxcbiAgICAgIGNsYXNzOiB0aGlzLnRoZW1lQ2xhc3Nlc1xuICAgIH0pLCBbdGhpcy5nZW5DaGlsZHJlbigpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVk1lc3NhZ2VzLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTWVzc2FnZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVk1lc3NhZ2VzICovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVzc2FnZXMvVk1lc3NhZ2VzLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk1lc3NhZ2VzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZNZXNzYWdlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WTWVzc2FnZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZOYXZpZ2F0aW9uRHJhd2VyL1ZOYXZpZ2F0aW9uRHJhd2VyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVk5hdmlnYXRpb25EcmF3ZXIvVk5hdmlnYXRpb25EcmF3ZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk5hdmlnYXRpb25EcmF3ZXIvVk5hdmlnYXRpb25EcmF3ZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZOYXZpZ2F0aW9uRHJhd2VyL1ZOYXZpZ2F0aW9uRHJhd2VyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk5hdmlnYXRpb25EcmF3ZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTmF2aWdhdGlvbkRyYXdlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WTmF2aWdhdGlvbkRyYXdlci9WTmF2aWdhdGlvbkRyYXdlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTmF2aWdhdGlvbkRyYXdlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZOYXZpZ2F0aW9uRHJhd2VyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbWdfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkltZy9WSW1nICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW1nL1ZJbWcudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19hcHBsaWNhdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9hcHBsaWNhdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvYXBwbGljYXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RlcGVuZGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RlcGVuZGVudCAqLyBcIi4vc3JjL21peGlucy9kZXBlbmRlbnQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19vdmVybGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL292ZXJsYXlhYmxlICovIFwiLi9zcmMvbWl4aW5zL292ZXJsYXlhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfc3NyX2Jvb3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvc3NyLWJvb3RhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Nzci1ib290YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yZXNpemUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3Jlc2l6ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc190b3VjaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvdG91Y2ggKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3RvdWNoL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cbiAvLyBEaXJlY3RpdmVzXG5cblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJkZWZhdWx0XCJdKShPYmplY3QoX21peGluc19hcHBsaWNhdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKCdsZWZ0JywgWydpc0FjdGl2ZScsICdpc01vYmlsZScsICdtaW5pVmFyaWFudCcsICdleHBhbmRPbkhvdmVyJywgJ3Blcm1hbmVudCcsICdyaWdodCcsICd0ZW1wb3JhcnknLCAnd2lkdGgnXSksIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2RlcGVuZGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc19vdmVybGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgX21peGluc19zc3JfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoe1xuICBuYW1lOiAndi1uYXZpZ2F0aW9uLWRyYXdlcicsXG4gIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSW5OYXY6IHRoaXMudGFnID09PSAnbmF2J1xuICAgIH07XG4gIH0sXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBDbGlja091dHNpZGU6IF9kaXJlY3RpdmVzX2NsaWNrX291dHNpZGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0sXG4gICAgUmVzaXplOiBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0sXG4gICAgVG91Y2g6IF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGJvdHRvbTogQm9vbGVhbixcbiAgICBjbGlwcGVkOiBCb29sZWFuLFxuICAgIGRpc2FibGVSZXNpemVXYXRjaGVyOiBCb29sZWFuLFxuICAgIGRpc2FibGVSb3V0ZVdhdGNoZXI6IEJvb2xlYW4sXG4gICAgZXhwYW5kT25Ib3ZlcjogQm9vbGVhbixcbiAgICBmbG9hdGluZzogQm9vbGVhbixcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwID8gJzEwMHZoJyA6ICcxMDAlJztcbiAgICAgIH1cbiAgICB9LFxuICAgIG1pbmlWYXJpYW50OiBCb29sZWFuLFxuICAgIG1pbmlWYXJpYW50V2lkdGg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiA4MFxuICAgIH0sXG4gICAgbW9iaWxlQnJlYWtQb2ludDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDEyNjRcbiAgICB9LFxuICAgIHBlcm1hbmVudDogQm9vbGVhbixcbiAgICByaWdodDogQm9vbGVhbixcbiAgICBzcmM6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiAnJ1xuICAgIH0sXG4gICAgc3RhdGVsZXNzOiBCb29sZWFuLFxuICAgIHRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcCA/ICduYXYnIDogJ2FzaWRlJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlbXBvcmFyeTogQm9vbGVhbixcbiAgICB0b3VjaGxlc3M6IEJvb2xlYW4sXG4gICAgd2lkdGg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAyNTZcbiAgICB9LFxuICAgIHZhbHVlOiB7XG4gICAgICByZXF1aXJlZDogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTW91c2VvdmVyOiBmYWxzZSxcbiAgICAgIHRvdWNoQXJlYToge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMFxuICAgICAgfSxcbiAgICAgIHN0YWNrTWluWkluZGV4OiA2XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBzZXR0aW5nIGFuIGFwcCB2YWx1ZSBmcm9tIGEgZHluYW1pY1xuICAgICAqIHByb3BlcnR5LiBDYWxsZWQgZnJvbSBhcHBsaWNhdGlvbmFibGUuanNcbiAgICAgKi9cbiAgICBhcHBsaWNhdGlvblByb3BlcnR5OiBmdW5jdGlvbiBhcHBsaWNhdGlvblByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHQgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LW5hdmlnYXRpb24tZHJhd2VyJzogdHJ1ZSxcbiAgICAgICAgJ3YtbmF2aWdhdGlvbi1kcmF3ZXItLWFic29sdXRlJzogdGhpcy5hYnNvbHV0ZSxcbiAgICAgICAgJ3YtbmF2aWdhdGlvbi1kcmF3ZXItLWJvdHRvbSc6IHRoaXMuYm90dG9tLFxuICAgICAgICAndi1uYXZpZ2F0aW9uLWRyYXdlci0tY2xpcHBlZCc6IHRoaXMuY2xpcHBlZCxcbiAgICAgICAgJ3YtbmF2aWdhdGlvbi1kcmF3ZXItLWNsb3NlJzogIXRoaXMuaXNBY3RpdmUsXG4gICAgICAgICd2LW5hdmlnYXRpb24tZHJhd2VyLS1maXhlZCc6ICF0aGlzLmFic29sdXRlICYmICh0aGlzLmFwcCB8fCB0aGlzLmZpeGVkKSxcbiAgICAgICAgJ3YtbmF2aWdhdGlvbi1kcmF3ZXItLWZsb2F0aW5nJzogdGhpcy5mbG9hdGluZyxcbiAgICAgICAgJ3YtbmF2aWdhdGlvbi1kcmF3ZXItLWlzLW1vYmlsZSc6IHRoaXMuaXNNb2JpbGUsXG4gICAgICAgICd2LW5hdmlnYXRpb24tZHJhd2VyLS1pcy1tb3VzZW92ZXInOiB0aGlzLmlzTW91c2VvdmVyLFxuICAgICAgICAndi1uYXZpZ2F0aW9uLWRyYXdlci0tbWluaS12YXJpYW50JzogdGhpcy5pc01pbmlWYXJpYW50LFxuICAgICAgICAndi1uYXZpZ2F0aW9uLWRyYXdlci0tb3Blbic6IHRoaXMuaXNBY3RpdmUsXG4gICAgICAgICd2LW5hdmlnYXRpb24tZHJhd2VyLS1vcGVuLW9uLWhvdmVyJzogdGhpcy5leHBhbmRPbkhvdmVyLFxuICAgICAgICAndi1uYXZpZ2F0aW9uLWRyYXdlci0tcmlnaHQnOiB0aGlzLnJpZ2h0LFxuICAgICAgICAndi1uYXZpZ2F0aW9uLWRyYXdlci0tdGVtcG9yYXJ5JzogdGhpcy50ZW1wb3JhcnlcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9LFxuICAgIGNvbXB1dGVkTWF4SGVpZ2h0OiBmdW5jdGlvbiBjb21wdXRlZE1heEhlaWdodCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNBcHApIHJldHVybiBudWxsO1xuICAgICAgdmFyIGNvbXB1dGVkTWF4SGVpZ2h0ID0gdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbi5ib3R0b20gKyB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLmZvb3RlciArIHRoaXMuJHZ1ZXRpZnkuYXBwbGljYXRpb24uYmFyO1xuICAgICAgaWYgKCF0aGlzLmNsaXBwZWQpIHJldHVybiBjb21wdXRlZE1heEhlaWdodDtcbiAgICAgIHJldHVybiBjb21wdXRlZE1heEhlaWdodCArIHRoaXMuJHZ1ZXRpZnkuYXBwbGljYXRpb24udG9wO1xuICAgIH0sXG4gICAgY29tcHV0ZWRUb3A6IGZ1bmN0aW9uIGNvbXB1dGVkVG9wKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc0FwcCkgcmV0dXJuIDA7XG4gICAgICB2YXIgY29tcHV0ZWRUb3AgPSB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLmJhcjtcbiAgICAgIGNvbXB1dGVkVG9wICs9IHRoaXMuY2xpcHBlZCA/IHRoaXMuJHZ1ZXRpZnkuYXBwbGljYXRpb24udG9wIDogMDtcbiAgICAgIHJldHVybiBjb21wdXRlZFRvcDtcbiAgICB9LFxuICAgIGNvbXB1dGVkVHJhbnNmb3JtOiBmdW5jdGlvbiBjb21wdXRlZFRyYW5zZm9ybSgpIHtcbiAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSByZXR1cm4gMDtcbiAgICAgIGlmICh0aGlzLmlzQm90dG9tKSByZXR1cm4gMTAwO1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHQgPyAxMDAgOiAtMTAwO1xuICAgIH0sXG4gICAgY29tcHV0ZWRXaWR0aDogZnVuY3Rpb24gY29tcHV0ZWRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzTWluaVZhcmlhbnQgPyB0aGlzLm1pbmlWYXJpYW50V2lkdGggOiB0aGlzLndpZHRoO1xuICAgIH0sXG4gICAgaGFzQXBwOiBmdW5jdGlvbiBoYXNBcHAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHAgJiYgIXRoaXMuaXNNb2JpbGUgJiYgIXRoaXMudGVtcG9yYXJ5O1xuICAgIH0sXG4gICAgaXNCb3R0b206IGZ1bmN0aW9uIGlzQm90dG9tKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYm90dG9tICYmIHRoaXMuaXNNb2JpbGU7XG4gICAgfSxcbiAgICBpc01pbmlWYXJpYW50OiBmdW5jdGlvbiBpc01pbmlWYXJpYW50KCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV4cGFuZE9uSG92ZXIgJiYgdGhpcy5taW5pVmFyaWFudCB8fCB0aGlzLmV4cGFuZE9uSG92ZXIgJiYgIXRoaXMuaXNNb3VzZW92ZXI7XG4gICAgfSxcbiAgICBpc01vYmlsZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuc3RhdGVsZXNzICYmICF0aGlzLnBlcm1hbmVudCAmJiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQud2lkdGggPCBwYXJzZUludCh0aGlzLm1vYmlsZUJyZWFrUG9pbnQsIDEwKTtcbiAgICB9LFxuICAgIHJlYWN0c1RvQ2xpY2s6IGZ1bmN0aW9uIHJlYWN0c1RvQ2xpY2soKSB7XG4gICAgICByZXR1cm4gIXRoaXMuc3RhdGVsZXNzICYmICF0aGlzLnBlcm1hbmVudCAmJiAodGhpcy5pc01vYmlsZSB8fCB0aGlzLnRlbXBvcmFyeSk7XG4gICAgfSxcbiAgICByZWFjdHNUb01vYmlsZTogZnVuY3Rpb24gcmVhY3RzVG9Nb2JpbGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHAgJiYgIXRoaXMuZGlzYWJsZVJlc2l6ZVdhdGNoZXIgJiYgIXRoaXMucGVybWFuZW50ICYmICF0aGlzLnN0YXRlbGVzcyAmJiAhdGhpcy50ZW1wb3Jhcnk7XG4gICAgfSxcbiAgICByZWFjdHNUb1Jlc2l6ZTogZnVuY3Rpb24gcmVhY3RzVG9SZXNpemUoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZGlzYWJsZVJlc2l6ZVdhdGNoZXIgJiYgIXRoaXMuc3RhdGVsZXNzO1xuICAgIH0sXG4gICAgcmVhY3RzVG9Sb3V0ZTogZnVuY3Rpb24gcmVhY3RzVG9Sb3V0ZSgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlUm91dGVXYXRjaGVyICYmICF0aGlzLnN0YXRlbGVzcyAmJiAodGhpcy50ZW1wb3JhcnkgfHwgdGhpcy5pc01vYmlsZSk7XG4gICAgfSxcbiAgICBzaG93T3ZlcmxheTogZnVuY3Rpb24gc2hvd092ZXJsYXkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0FjdGl2ZSAmJiAodGhpcy5pc01vYmlsZSB8fCB0aGlzLnRlbXBvcmFyeSk7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHZhciB0cmFuc2xhdGUgPSB0aGlzLmlzQm90dG9tID8gJ3RyYW5zbGF0ZVknIDogJ3RyYW5zbGF0ZVgnO1xuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgaGVpZ2h0OiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KSxcbiAgICAgICAgdG9wOiAhdGhpcy5pc0JvdHRvbSA/IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jb21wdXRlZFRvcCkgOiAnYXV0bycsXG4gICAgICAgIG1heEhlaWdodDogdGhpcy5jb21wdXRlZE1heEhlaWdodCAhPSBudWxsID8gXCJjYWxjKDEwMCUgLSBcIiArIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jb21wdXRlZE1heEhlaWdodCkgKyBcIilcIiA6IHVuZGVmaW5lZCxcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUgKyBcIihcIiArIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5jb21wdXRlZFRyYW5zZm9ybSwgJyUnKSArIFwiKVwiLFxuICAgICAgICB3aWR0aDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkV2lkdGgpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgJHJvdXRlOiAnb25Sb3V0ZUNoYW5nZScsXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKHZhbCkge1xuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIG1vYmlsZSBjaGFuZ2VzLCBhZGp1c3QgdGhlIGFjdGl2ZSBzdGF0ZVxuICAgICAqIG9ubHkgd2hlbiB0aGVyZSBoYXMgYmVlbiBhIHByZXZpb3VzIHZhbHVlXG4gICAgICovXG4gICAgaXNNb2JpbGU6IGZ1bmN0aW9uIGlzTW9iaWxlKHZhbCwgcHJldikge1xuICAgICAgIXZhbCAmJiB0aGlzLmlzQWN0aXZlICYmICF0aGlzLnRlbXBvcmFyeSAmJiB0aGlzLnJlbW92ZU92ZXJsYXkoKTtcbiAgICAgIGlmIChwcmV2ID09IG51bGwgfHwgIXRoaXMucmVhY3RzVG9SZXNpemUgfHwgIXRoaXMucmVhY3RzVG9Nb2JpbGUpIHJldHVybjtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSAhdmFsO1xuICAgIH0sXG4gICAgcGVybWFuZW50OiBmdW5jdGlvbiBwZXJtYW5lbnQodmFsKSB7XG4gICAgICAvLyBJZiBlbmFibGluZyBwcm9wIGVuYWJsZSB0aGUgZHJhd2VyXG4gICAgICBpZiAodmFsKSB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuICAgIHNob3dPdmVybGF5OiBmdW5jdGlvbiBzaG93T3ZlcmxheSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHRoaXMuZ2VuT3ZlcmxheSgpO2Vsc2UgdGhpcy5yZW1vdmVPdmVybGF5KCk7XG4gICAgfSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7XG4gICAgICBpZiAodGhpcy5wZXJtYW5lbnQpIHJldHVybjtcblxuICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWwgIT09IHRoaXMuaXNBY3RpdmUpIHRoaXMuaXNBY3RpdmUgPSB2YWw7XG4gICAgfSxcbiAgICBleHBhbmRPbkhvdmVyOiAndXBkYXRlTWluaVZhcmlhbnQnLFxuICAgIGlzTW91c2VvdmVyOiBmdW5jdGlvbiBpc01vdXNlb3Zlcih2YWwpIHtcbiAgICAgIHRoaXMudXBkYXRlTWluaVZhcmlhbnQoIXZhbCk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjYWxjdWxhdGVUb3VjaEFyZWE6IGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdWNoQXJlYSgpIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRlbC5wYXJlbnROb2RlO1xuICAgICAgaWYgKCFwYXJlbnQpIHJldHVybjtcbiAgICAgIHZhciBwYXJlbnRSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy50b3VjaEFyZWEgPSB7XG4gICAgICAgIGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIDUwLFxuICAgICAgICByaWdodDogcGFyZW50UmVjdC5yaWdodCAtIDUwXG4gICAgICB9O1xuICAgIH0sXG4gICAgY2xvc2VDb25kaXRpb25hbDogZnVuY3Rpb24gY2xvc2VDb25kaXRpb25hbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQWN0aXZlICYmICF0aGlzLl9pc0Rlc3Ryb3llZCAmJiB0aGlzLnJlYWN0c1RvQ2xpY2s7XG4gICAgfSxcbiAgICBnZW5BcHBlbmQ6IGZ1bmN0aW9uIGdlbkFwcGVuZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlblBvc2l0aW9uKCdhcHBlbmQnKTtcbiAgICB9LFxuICAgIGdlbkJhY2tncm91bmQ6IGZ1bmN0aW9uIGdlbkJhY2tncm91bmQoKSB7XG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBzcmM6IHRoaXMuc3JjXG4gICAgICB9O1xuICAgICAgdmFyIGltYWdlID0gdGhpcy4kc2NvcGVkU2xvdHMuaW1nID8gdGhpcy4kc2NvcGVkU2xvdHMuaW1nKHByb3BzKSA6IHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJbWdfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LW5hdmlnYXRpb24tZHJhd2VyX19pbWFnZSdcbiAgICAgIH0sIFtpbWFnZV0pO1xuICAgIH0sXG4gICAgZ2VuRGlyZWN0aXZlczogZnVuY3Rpb24gZ2VuRGlyZWN0aXZlcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBkaXJlY3RpdmVzID0gW3tcbiAgICAgICAgbmFtZTogJ2NsaWNrLW91dHNpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBjbG9zZUNvbmRpdGlvbmFsOiB0aGlzLmNsb3NlQ29uZGl0aW9uYWwsXG4gICAgICAgICAgaW5jbHVkZTogdGhpcy5nZXRPcGVuRGVwZW5kZW50RWxlbWVudHNcbiAgICAgICAgfVxuICAgICAgfV07XG5cbiAgICAgIGlmICghdGhpcy50b3VjaGxlc3MgJiYgIXRoaXMuc3RhdGVsZXNzKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgICAgbmFtZTogJ3RvdWNoJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgbGVmdDogdGhpcy5zd2lwZUxlZnQsXG4gICAgICAgICAgICByaWdodDogdGhpcy5zd2lwZVJpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gICAgfSxcbiAgICBnZW5MaXN0ZW5lcnM6IGZ1bmN0aW9uIGdlbkxpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBvbiA9IHtcbiAgICAgICAgdHJhbnNpdGlvbmVuZDogZnVuY3Rpb24gdHJhbnNpdGlvbmVuZChlKSB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVybjtcblxuICAgICAgICAgIF90aGlzLiRlbWl0KCd0cmFuc2l0aW9uZW5kJywgZSk7IC8vIElFMTEgZG9lcyBub3Qgc3VwcG9ydCBuZXcgRXZlbnQoJ3Jlc2l6ZScpXG5cblxuICAgICAgICAgIHZhciByZXNpemVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdVSUV2ZW50cycpO1xuICAgICAgICAgIHJlc2l6ZUV2ZW50LmluaXRVSUV2ZW50KCdyZXNpemUnLCB0cnVlLCBmYWxzZSwgd2luZG93LCAwKTtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChyZXNpemVFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1pbmlWYXJpYW50KSB7XG4gICAgICAgIG9uLmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgndXBkYXRlOm1pbmktdmFyaWFudCcsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZXhwYW5kT25Ib3Zlcikge1xuICAgICAgICBvbi5tb3VzZWVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc01vdXNlb3ZlciA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgb24ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNNb3VzZW92ZXIgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uO1xuICAgIH0sXG4gICAgZ2VuUG9zaXRpb246IGZ1bmN0aW9uIGdlblBvc2l0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBzbG90ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJnZXRTbG90XCJdKSh0aGlzLCBuYW1lKTtcbiAgICAgIGlmICghc2xvdCkgcmV0dXJuIHNsb3Q7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJ2LW5hdmlnYXRpb24tZHJhd2VyX19cIiArIG5hbWVcbiAgICAgIH0sIHNsb3QpO1xuICAgIH0sXG4gICAgZ2VuUHJlcGVuZDogZnVuY3Rpb24gZ2VuUHJlcGVuZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlblBvc2l0aW9uKCdwcmVwZW5kJyk7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LW5hdmlnYXRpb24tZHJhd2VyX19jb250ZW50J1xuICAgICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgfSxcbiAgICBnZW5Cb3JkZXI6IGZ1bmN0aW9uIGdlbkJvcmRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1uYXZpZ2F0aW9uLWRyYXdlcl9fYm9yZGVyJ1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgaWYgKHRoaXMucGVybWFuZW50KSB7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlbGVzcyB8fCB0aGlzLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnRlbXBvcmFyeSkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gIXRoaXMuaXNNb2JpbGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblJvdXRlQ2hhbmdlOiBmdW5jdGlvbiBvblJvdXRlQ2hhbmdlKCkge1xuICAgICAgaWYgKHRoaXMucmVhY3RzVG9Sb3V0ZSAmJiB0aGlzLmNsb3NlQ29uZGl0aW9uYWwoKSkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBzd2lwZUxlZnQ6IGZ1bmN0aW9uIHN3aXBlTGVmdChlKSB7XG4gICAgICBpZiAodGhpcy5pc0FjdGl2ZSAmJiB0aGlzLnJpZ2h0KSByZXR1cm47XG4gICAgICB0aGlzLmNhbGN1bGF0ZVRvdWNoQXJlYSgpO1xuICAgICAgaWYgKE1hdGguYWJzKGUudG91Y2hlbmRYIC0gZS50b3VjaHN0YXJ0WCkgPCAxMDApIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnJpZ2h0ICYmIGUudG91Y2hzdGFydFggPj0gdGhpcy50b3VjaEFyZWEucmlnaHQpIHRoaXMuaXNBY3RpdmUgPSB0cnVlO2Vsc2UgaWYgKCF0aGlzLnJpZ2h0ICYmIHRoaXMuaXNBY3RpdmUpIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB9LFxuICAgIHN3aXBlUmlnaHQ6IGZ1bmN0aW9uIHN3aXBlUmlnaHQoZSkge1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgIXRoaXMucmlnaHQpIHJldHVybjtcbiAgICAgIHRoaXMuY2FsY3VsYXRlVG91Y2hBcmVhKCk7XG4gICAgICBpZiAoTWF0aC5hYnMoZS50b3VjaGVuZFggLSBlLnRvdWNoc3RhcnRYKSA8IDEwMCkgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLnJpZ2h0ICYmIGUudG91Y2hzdGFydFggPD0gdGhpcy50b3VjaEFyZWEubGVmdCkgdGhpcy5pc0FjdGl2ZSA9IHRydWU7ZWxzZSBpZiAodGhpcy5yaWdodCAmJiB0aGlzLmlzQWN0aXZlKSB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYXBwbGljYXRpb24gbGF5b3V0XG4gICAgICovXG4gICAgdXBkYXRlQXBwbGljYXRpb246IGZ1bmN0aW9uIHVwZGF0ZUFwcGxpY2F0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGUgfHwgdGhpcy50ZW1wb3JhcnkgfHwgIXRoaXMuJGVsKSByZXR1cm4gMDtcbiAgICAgIHZhciB3aWR0aCA9IE51bWJlcih0aGlzLmNvbXB1dGVkV2lkdGgpO1xuICAgICAgcmV0dXJuIGlzTmFOKHdpZHRoKSA/IHRoaXMuJGVsLmNsaWVudFdpZHRoIDogd2lkdGg7XG4gICAgfSxcbiAgICB1cGRhdGVNaW5pVmFyaWFudDogZnVuY3Rpb24gdXBkYXRlTWluaVZhcmlhbnQodmFsKSB7XG4gICAgICBpZiAodGhpcy5taW5pVmFyaWFudCAhPT0gdmFsKSB0aGlzLiRlbWl0KCd1cGRhdGU6bWluaS12YXJpYW50JywgdmFsKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5nZW5QcmVwZW5kKCksIHRoaXMuZ2VuQ29udGVudCgpLCB0aGlzLmdlbkFwcGVuZCgpLCB0aGlzLmdlbkJvcmRlcigpXTtcbiAgICBpZiAodGhpcy5zcmMgfHwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJnZXRTbG90XCJdKSh0aGlzLCAnaW1nJykpIGNoaWxkcmVuLnVuc2hpZnQodGhpcy5nZW5CYWNrZ3JvdW5kKCkpO1xuICAgIHJldHVybiBoKHRoaXMudGFnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzLFxuICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzLFxuICAgICAgZGlyZWN0aXZlczogdGhpcy5nZW5EaXJlY3RpdmVzKCksXG4gICAgICBvbjogdGhpcy5nZW5MaXN0ZW5lcnMoKVxuICAgIH0pLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WTmF2aWdhdGlvbkRyYXdlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVk5hdmlnYXRpb25EcmF3ZXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWTmF2aWdhdGlvbkRyYXdlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk5hdmlnYXRpb25EcmF3ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVk5hdmlnYXRpb25EcmF3ZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZOYXZpZ2F0aW9uRHJhd2VyL1ZOYXZpZ2F0aW9uRHJhd2VyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk5hdmlnYXRpb25EcmF3ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVk5hdmlnYXRpb25EcmF3ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVk5hdmlnYXRpb25EcmF3ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9WT3ZlcmZsb3dCdG4uc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9WT3ZlcmZsb3dCdG4uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmZsb3dCdG4vVk92ZXJmbG93QnRuLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9WT3ZlcmZsb3dCdG4udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZPdmVyZmxvd0J0bl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZPdmVyZmxvd0J0bi5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmZsb3dCdG4vVk92ZXJmbG93QnRuLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZPdmVyZmxvd0J0bl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZPdmVyZmxvd0J0bl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTZWxlY3QvVlNlbGVjdCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9WU2VsZWN0LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQXV0b2NvbXBsZXRlICovIFwiLi9zcmMvY29tcG9uZW50cy9WQXV0b2NvbXBsZXRlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGV4dEZpZWxkX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZUZXh0RmllbGQvVlRleHRGaWVsZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9WVGV4dEZpZWxkLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cblxuXG4gLy8gQ29tcG9uZW50c1xuXG4gLy8gVXRpbGl0aWVzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVkF1dG9jb21wbGV0ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1vdmVyZmxvdy1idG4nLFxuICBwcm9wczoge1xuICAgIGVkaXRhYmxlOiBCb29sZWFuLFxuICAgIHNlZ21lbnRlZDogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LW92ZXJmbG93LWJ0bic6IHRydWUsXG4gICAgICAgICd2LW92ZXJmbG93LWJ0bi0tc2VnbWVudGVkJzogdGhpcy5zZWdtZW50ZWQsXG4gICAgICAgICd2LW92ZXJmbG93LWJ0bi0tZWRpdGFibGUnOiB0aGlzLmVkaXRhYmxlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlzQW55VmFsdWVBbGxvd2VkOiBmdW5jdGlvbiBpc0FueVZhbHVlQWxsb3dlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRhYmxlIHx8IF9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuaXNBbnlWYWx1ZUFsbG93ZWQuY2FsbCh0aGlzKTtcbiAgICB9LFxuICAgIGlzU2luZ2xlOiBmdW5jdGlvbiBpc1NpbmdsZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgY29tcHV0ZWRJdGVtczogZnVuY3Rpb24gY29tcHV0ZWRJdGVtcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRlZCA/IHRoaXMuYWxsSXRlbXMgOiB0aGlzLmZpbHRlcmVkSXRlbXM7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuU2VsZWN0aW9uczogZnVuY3Rpb24gZ2VuU2VsZWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRhYmxlID8gX1ZBdXRvY29tcGxldGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlblNlbGVjdGlvbnMuY2FsbCh0aGlzKSA6IF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlblNlbGVjdGlvbnMuY2FsbCh0aGlzKTsgLy8gT3ZlcnJpZGUgdi1hdXRvY29tcGxldGUncyBvdmVycmlkZVxuICAgIH0sXG4gICAgZ2VuQ29tbWFTZWxlY3Rpb246IGZ1bmN0aW9uIGdlbkNvbW1hU2VsZWN0aW9uKGl0ZW0sIGluZGV4LCBsYXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWdtZW50ZWQgPyB0aGlzLmdlblNlZ21lbnRlZEJ0bihpdGVtKSA6IF9WU2VsZWN0X1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkNvbW1hU2VsZWN0aW9uLmNhbGwodGhpcywgaXRlbSwgaW5kZXgsIGxhc3QpO1xuICAgIH0sXG4gICAgZ2VuSW5wdXQ6IGZ1bmN0aW9uIGdlbklucHV0KCkge1xuICAgICAgdmFyIGlucHV0ID0gX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbCh0aGlzKTtcbiAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhIHx8IHt9O1xuICAgICAgaW5wdXQuZGF0YS5kb21Qcm9wcy52YWx1ZSA9IHRoaXMuZWRpdGFibGUgPyB0aGlzLmludGVybmFsU2VhcmNoIDogJyc7XG4gICAgICBpbnB1dC5kYXRhLmF0dHJzLnJlYWRvbmx5ID0gIXRoaXMuaXNBbnlWYWx1ZUFsbG93ZWQ7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfSxcbiAgICBnZW5MYWJlbDogZnVuY3Rpb24gZ2VuTGFiZWwoKSB7XG4gICAgICBpZiAodGhpcy5lZGl0YWJsZSAmJiB0aGlzLmlzRm9jdXNlZCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbGFiZWwgPSBfVlRleHRGaWVsZF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5MYWJlbC5jYWxsKHRoaXMpO1xuICAgICAgaWYgKCFsYWJlbCkgcmV0dXJuIGxhYmVsO1xuICAgICAgbGFiZWwuZGF0YSA9IGxhYmVsLmRhdGEgfHwge307IC8vIFJlc2V0IHByZXZpb3VzbHkgc2V0IHN0eWxlcyBmcm9tIHBhcmVudFxuXG4gICAgICBsYWJlbC5kYXRhLnN0eWxlID0ge307XG4gICAgICByZXR1cm4gbGFiZWw7XG4gICAgfSxcbiAgICBnZW5TZWdtZW50ZWRCdG46IGZ1bmN0aW9uIGdlblNlZ21lbnRlZEJ0bihpdGVtKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaXRlbVZhbHVlID0gdGhpcy5nZXRWYWx1ZShpdGVtKTtcbiAgICAgIHZhciBpdGVtT2JqID0gdGhpcy5jb21wdXRlZEl0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldFZhbHVlKGkpID09PSBpdGVtVmFsdWU7XG4gICAgICB9KSB8fCBpdGVtO1xuXG4gICAgICBpZiAoIWl0ZW1PYmoudGV4dCB8fCAhaXRlbU9iai5jYWxsYmFjaykge1xuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY29uc29sZVdhcm5cIl0pKCdXaGVuIHVzaW5nIFxcJ3NlZ21lbnRlZFxcJyBwcm9wIHdpdGhvdXQgYSBzZWxlY3Rpb24gc2xvdCwgaXRlbXMgbXVzdCBjb250YWluIGJvdGggYSB0ZXh0IGFuZCBjYWxsYmFjayBwcm9wZXJ0eScsIHRoaXMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICB0ZXh0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpdGVtT2JqLmNhbGxiYWNrKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgW2l0ZW1PYmoudGV4dF0pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWT3ZlcmZsb3dCdG4sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZPdmVyZmxvd0J0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WT3ZlcmZsb3dCdG4gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVyZmxvd0J0bi9WT3ZlcmZsb3dCdG4udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWT3ZlcmZsb3dCdG5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVk92ZXJmbG93QnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZPdmVyZmxvd0J0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk92ZXJsYXkvVk92ZXJsYXkuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WT3ZlcmxheS9WT3ZlcmxheS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmxheS9WT3ZlcmxheS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVk92ZXJsYXkvVk92ZXJsYXkudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WT3ZlcmxheV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZPdmVybGF5LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVybGF5L1ZPdmVybGF5LnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZPdmVybGF5X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVk92ZXJsYXlfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uL21peGlucy90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIE1peGluc1xuXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LW92ZXJsYXknLFxuICBwcm9wczoge1xuICAgIGFic29sdXRlOiBCb29sZWFuLFxuICAgIGNvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnIzIxMjEyMSdcbiAgICB9LFxuICAgIGRhcms6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBvcGFjaXR5OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMC40NlxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHpJbmRleDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDVcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgX19zY3JpbTogZnVuY3Rpb24gX19zY3JpbSgpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytb3ZlcmxheV9fc2NyaW0nLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IHRoaXMuY29tcHV0ZWRPcGFjaXR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGRhdGEpO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LW92ZXJsYXktLWFic29sdXRlJzogdGhpcy5hYnNvbHV0ZSxcbiAgICAgICAgJ3Ytb3ZlcmxheS0tYWN0aXZlJzogdGhpcy5pc0FjdGl2ZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgIH0sXG4gICAgY29tcHV0ZWRPcGFjaXR5OiBmdW5jdGlvbiBjb21wdXRlZE9wYWNpdHkoKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMuaXNBY3RpdmUgPyB0aGlzLm9wYWNpdHkgOiAwKTtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgekluZGV4OiB0aGlzLnpJbmRleFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LW92ZXJsYXlfX2NvbnRlbnQnXG4gICAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5fX3NjcmltXTtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkNvbnRlbnQoKSk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1vdmVybGF5JyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBzdHlsZTogdGhpcy5zdHlsZXNcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmxheS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVk92ZXJsYXkvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWT3ZlcmxheSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk92ZXJsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVk92ZXJsYXkgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVybGF5L1ZPdmVybGF5LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk92ZXJsYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVk92ZXJsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVk92ZXJsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQYWdpbmF0aW9uL1ZQYWdpbmF0aW9uLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlBhZ2luYXRpb24vVlBhZ2luYXRpb24uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBhZ2luYXRpb24vVlBhZ2luYXRpb24udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQYWdpbmF0aW9uL1ZQYWdpbmF0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlBhZ2luYXRpb25fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUGFnaW5hdGlvbi5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WUGFnaW5hdGlvbi9WUGFnaW5hdGlvbi5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUGFnaW5hdGlvbl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZQYWdpbmF0aW9uX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfcmVzaXplX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3Jlc2l6ZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG5cbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBNaXhpbnNcblxuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXBhZ2luYXRpb24nLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgUmVzaXplOiBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBjaXJjbGU6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgbGVuZ3RoOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgJSAxID09PSAwO1xuICAgICAgfVxuICAgIH0sXG4gICAgbmV4dEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckbmV4dCdcbiAgICB9LFxuICAgIHByZXZJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJHByZXYnXG4gICAgfSxcbiAgICB0b3RhbFZpc2libGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1heEJ1dHRvbnM6IDAsXG4gICAgICBzZWxlY3RlZDogbnVsbFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXBhZ2luYXRpb24nOiB0cnVlLFxuICAgICAgICAndi1wYWdpbmF0aW9uLS1jaXJjbGUnOiB0aGlzLmNpcmNsZSxcbiAgICAgICAgJ3YtcGFnaW5hdGlvbi0tZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3Nlcyk7XG4gICAgfSxcbiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoKSB7XG4gICAgICB2YXIgdG90YWxWaXNpYmxlID0gcGFyc2VJbnQodGhpcy50b3RhbFZpc2libGUsIDEwKTtcbiAgICAgIHZhciBtYXhMZW5ndGggPSBNYXRoLm1pbihNYXRoLm1heCgwLCB0b3RhbFZpc2libGUpIHx8IHRoaXMubGVuZ3RoLCBNYXRoLm1heCgwLCB0aGlzLm1heEJ1dHRvbnMpIHx8IHRoaXMubGVuZ3RoLCB0aGlzLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmxlbmd0aCA8PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UoMSwgdGhpcy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXZlbiA9IG1heExlbmd0aCAlIDIgPT09IDAgPyAxIDogMDtcbiAgICAgIHZhciBsZWZ0ID0gTWF0aC5mbG9vcihtYXhMZW5ndGggLyAyKTtcbiAgICAgIHZhciByaWdodCA9IHRoaXMubGVuZ3RoIC0gbGVmdCArIDEgKyBldmVuO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZSA+IGxlZnQgJiYgdGhpcy52YWx1ZSA8IHJpZ2h0KSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMudmFsdWUgLSBsZWZ0ICsgMjtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMudmFsdWUgKyBsZWZ0IC0gMiAtIGV2ZW47XG4gICAgICAgIHJldHVybiBfX3NwcmVhZChbMSwgJy4uLiddLCB0aGlzLnJhbmdlKHN0YXJ0LCBlbmQpLCBbJy4uLicsIHRoaXMubGVuZ3RoXSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPT09IGxlZnQpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMudmFsdWUgKyBsZWZ0IC0gMSAtIGV2ZW47XG4gICAgICAgIHJldHVybiBfX3NwcmVhZCh0aGlzLnJhbmdlKDEsIGVuZCksIFsnLi4uJywgdGhpcy5sZW5ndGhdKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA9PT0gcmlnaHQpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy52YWx1ZSAtIGxlZnQgKyAxO1xuICAgICAgICByZXR1cm4gX19zcHJlYWQoWzEsICcuLi4nXSwgdGhpcy5yYW5nZShzdGFydCwgdGhpcy5sZW5ndGgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZCh0aGlzLnJhbmdlKDEsIGxlZnQpLCBbJy4uLiddLCB0aGlzLnJhbmdlKHJpZ2h0LCB0aGlzLmxlbmd0aCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG4gICAgICB0aGlzLiRuZXh0VGljayh0aGlzLm9uUmVzaXplKTsgLy8gVE9ETzogQ2hhbmdlIHRoaXMgKGY3NWRlZTNhLCBjYmRmN2NhYSlcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZWxlY3RlZCA9IF90aGlzLnZhbHVlO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuICAgIG9uUmVzaXplOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMuJGVsICYmIHRoaXMuJGVsLnBhcmVudEVsZW1lbnQgPyB0aGlzLiRlbC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoIDogd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLm1heEJ1dHRvbnMgPSBNYXRoLmZsb29yKCh3aWR0aCAtIDk2KSAvIDQyKTtcbiAgICB9LFxuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbHVlICsgMSk7XG4gICAgICB0aGlzLiRlbWl0KCduZXh0Jyk7XG4gICAgfSxcbiAgICBwcmV2aW91czogZnVuY3Rpb24gcHJldmlvdXMoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbHVlIC0gMSk7XG4gICAgICB0aGlzLiRlbWl0KCdwcmV2aW91cycpO1xuICAgIH0sXG4gICAgcmFuZ2U6IGZ1bmN0aW9uIHJhbmdlKGZyb20sIHRvKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIGZyb20gPSBmcm9tID4gMCA/IGZyb20gOiAxO1xuXG4gICAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8PSB0bzsgaSsrKSB7XG4gICAgICAgIHJhbmdlLnB1c2goaSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9LFxuICAgIGdlbkljb246IGZ1bmN0aW9uIGdlbkljb24oaCwgaWNvbiwgZGlzYWJsZWQsIGZuKSB7XG4gICAgICByZXR1cm4gaCgnbGknLCBbaCgnYnV0dG9uJywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtcGFnaW5hdGlvbl9fbmF2aWdhdGlvbicsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtcGFnaW5hdGlvbl9fbmF2aWdhdGlvbi0tZGlzYWJsZWQnOiBkaXNhYmxlZFxuICAgICAgICB9LFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiBkaXNhYmxlZCA/IHt9IDoge1xuICAgICAgICAgIGNsaWNrOiBmblxuICAgICAgICB9XG4gICAgICB9LCBbaChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIFtpY29uXSldKV0pO1xuICAgIH0sXG4gICAgZ2VuSXRlbTogZnVuY3Rpb24gZ2VuSXRlbShoLCBpKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY29sb3IgPSBpID09PSB0aGlzLnZhbHVlICYmICh0aGlzLmNvbG9yIHx8ICdwcmltYXJ5Jyk7XG4gICAgICByZXR1cm4gaCgnYnV0dG9uJywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXBhZ2luYXRpb25fX2l0ZW0nLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXBhZ2luYXRpb25fX2l0ZW0tLWFjdGl2ZSc6IGkgPT09IHRoaXMudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgnaW5wdXQnLCBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLCBbaS50b1N0cmluZygpXSk7XG4gICAgfSxcbiAgICBnZW5JdGVtczogZnVuY3Rpb24gZ2VuSXRlbXMoaCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gaCgnbGknLCB7XG4gICAgICAgICAga2V5OiBpbmRleFxuICAgICAgICB9LCBbaXNOYU4oTnVtYmVyKGkpKSA/IGgoJ3NwYW4nLCB7XG4gICAgICAgICAgY2xhc3M6ICd2LXBhZ2luYXRpb25fX21vcmUnXG4gICAgICAgIH0sIFtpLnRvU3RyaW5nKCldKSA6IF90aGlzLmdlbkl0ZW0oaCwgaSldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLmdlbkljb24oaCwgdGhpcy4kdnVldGlmeS5ydGwgPyB0aGlzLm5leHRJY29uIDogdGhpcy5wcmV2SWNvbiwgdGhpcy52YWx1ZSA8PSAxLCB0aGlzLnByZXZpb3VzKSwgdGhpcy5nZW5JdGVtcyhoKSwgdGhpcy5nZW5JY29uKGgsIHRoaXMuJHZ1ZXRpZnkucnRsID8gdGhpcy5wcmV2SWNvbiA6IHRoaXMubmV4dEljb24sIHRoaXMudmFsdWUgPj0gdGhpcy5sZW5ndGgsIHRoaXMubmV4dCldO1xuICAgIHJldHVybiBoKCd1bCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgIHF1aWV0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICB2YWx1ZTogdGhpcy5vblJlc2l6ZVxuICAgICAgfV0sXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBhZ2luYXRpb24vaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQYWdpbmF0aW9uL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlBhZ2luYXRpb24sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZQYWdpbmF0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZQYWdpbmF0aW9uICovIFwiLi9zcmMvY29tcG9uZW50cy9WUGFnaW5hdGlvbi9WUGFnaW5hdGlvbi50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZQYWdpbmF0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZQYWdpbmF0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZQYWdpbmF0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUGFyYWxsYXgvVlBhcmFsbGF4LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUGFyYWxsYXgvVlBhcmFsbGF4LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBhcmFsbGF4L1ZQYXJhbGxheC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUGFyYWxsYXgvVlBhcmFsbGF4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUGFyYWxsYXhfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUGFyYWxsYXguc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBhcmFsbGF4L1ZQYXJhbGxheC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUGFyYWxsYXhfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WUGFyYWxsYXhfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RyYW5zbGF0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RyYW5zbGF0YWJsZSAqLyBcIi4vc3JjL21peGlucy90cmFuc2xhdGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gU3R5bGVcbiAvLyBNaXhpbnNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX21peGluc190cmFuc2xhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXBhcmFsbGF4JyxcbiAgcHJvcHM6IHtcbiAgICBhbHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiA1MDBcbiAgICB9LFxuICAgIHNyYzogU3RyaW5nXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQm9vdGVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICBvcGFjaXR5OiB0aGlzLmlzQm9vdGVkID8gMSA6IDAsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgXCIgKyB0aGlzLnBhcmFsbGF4ICsgXCJweClcIlxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGltZyA9IHRoaXMuJHJlZnMuaW1nO1xuICAgICAgaWYgKCFpbWcpIHJldHVybjtcblxuICAgICAgaWYgKGltZy5jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLnRyYW5zbGF0ZSgpO1xuICAgICAgICB0aGlzLmxpc3RlbmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMudHJhbnNsYXRlKCk7XG5cbiAgICAgICAgICBfdGhpcy5saXN0ZW5lcnMoKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzQm9vdGVkID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9iakhlaWdodDogZnVuY3Rpb24gb2JqSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJHJlZnMuaW1nLm5hdHVyYWxIZWlnaHQ7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGltZ0RhdGEgPSB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtcGFyYWxsYXhfX2ltYWdlJyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHNyYzogdGhpcy5zcmMsXG4gICAgICAgIGFsdDogdGhpcy5hbHRcbiAgICAgIH0sXG4gICAgICByZWY6ICdpbWcnXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyID0gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXBhcmFsbGF4X19pbWFnZS1jb250YWluZXInXG4gICAgfSwgW2goJ2ltZycsIGltZ0RhdGEpXSk7XG4gICAgdmFyIGNvbnRlbnQgPSBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtcGFyYWxsYXhfX2NvbnRlbnQnXG4gICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1wYXJhbGxheCcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiXG4gICAgICB9LFxuICAgICAgb246IHRoaXMuJGxpc3RlbmVyc1xuICAgIH0sIFtjb250YWluZXIsIGNvbnRlbnRdKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQYXJhbGxheC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQYXJhbGxheC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWUGFyYWxsYXgsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZQYXJhbGxheF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUGFyYWxsYXggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQYXJhbGxheC9WUGFyYWxsYXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUGFyYWxsYXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlBhcmFsbGF4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZQYXJhbGxheF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBpY2tlci9WUGlja2VyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQaWNrZXIvVlBpY2tlci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBpY2tlci9WUGlja2VyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlBpY2tlci9WUGlja2VyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZQaWNrZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUGlja2VyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQaWNrZXIvVlBpY2tlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUGlja2VyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlBpY2tlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FyZF9WQ2FyZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQ2FyZC9WQ2FyZC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FyZC9WQ2FyZC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FyZF9WQ2FyZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZDYXJkX1ZDYXJkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuXG4gLy8gTWl4aW5zXG5cblxuIC8vIEhlbHBlcnNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1waWNrZXInLFxuICBwcm9wczoge1xuICAgIGZ1bGxXaWR0aDogQm9vbGVhbixcbiAgICBsYW5kc2NhcGU6IEJvb2xlYW4sXG4gICAgbm9UaXRsZTogQm9vbGVhbixcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZmFkZS10cmFuc2l0aW9uJ1xuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAyOTBcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY29tcHV0ZWRUaXRsZUNvbG9yOiBmdW5jdGlvbiBjb21wdXRlZFRpdGxlQ29sb3IoKSB7XG4gICAgICB2YXIgZGVmYXVsdFRpdGxlQ29sb3IgPSB0aGlzLmlzRGFyayA/IGZhbHNlIDogdGhpcy5jb2xvciB8fCAncHJpbWFyeSc7XG4gICAgICByZXR1cm4gdGhpcy5jb2xvciB8fCBkZWZhdWx0VGl0bGVDb2xvcjtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5UaXRsZTogZnVuY3Rpb24gZ2VuVGl0bGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb21wdXRlZFRpdGxlQ29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXBpY2tlcl9fdGl0bGUnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXBpY2tlcl9fdGl0bGUtLWxhbmRzY2FwZSc6IHRoaXMubGFuZHNjYXBlXG4gICAgICAgIH1cbiAgICAgIH0pLCB0aGlzLiRzbG90cy50aXRsZSk7XG4gICAgfSxcbiAgICBnZW5Cb2R5VHJhbnNpdGlvbjogZnVuY3Rpb24gZ2VuQm9keVRyYW5zaXRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLnRyYW5zaXRpb25cbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgfSxcbiAgICBnZW5Cb2R5OiBmdW5jdGlvbiBnZW5Cb2R5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXBpY2tlcl9fYm9keScsXG4gICAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICAgJ3YtcGlja2VyX19ib2R5LS1uby10aXRsZSc6IHRoaXMubm9UaXRsZVxuICAgICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcyksXG4gICAgICAgIHN0eWxlOiB0aGlzLmZ1bGxXaWR0aCA/IHVuZGVmaW5lZCA6IHtcbiAgICAgICAgICB3aWR0aDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMud2lkdGgpXG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLmdlbkJvZHlUcmFuc2l0aW9uKCldKTtcbiAgICB9LFxuICAgIGdlbkFjdGlvbnM6IGZ1bmN0aW9uIGdlbkFjdGlvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtcGlja2VyX19hY3Rpb25zIHYtY2FyZF9fYWN0aW9ucycsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtcGlja2VyX19hY3Rpb25zLS1uby10aXRsZSc6IHRoaXMubm9UaXRsZVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzLiRzbG90cy5hY3Rpb25zKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXBpY2tlciB2LWNhcmQnLFxuICAgICAgY2xhc3M6IF9fYXNzaWduKHtcbiAgICAgICAgJ3YtcGlja2VyLS1sYW5kc2NhcGUnOiB0aGlzLmxhbmRzY2FwZSxcbiAgICAgICAgJ3YtcGlja2VyLS1mdWxsLXdpZHRoJzogdGhpcy5mdWxsV2lkdGhcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKVxuICAgIH0sIFt0aGlzLiRzbG90cy50aXRsZSA/IHRoaXMuZ2VuVGl0bGUoKSA6IG51bGwsIHRoaXMuZ2VuQm9keSgpLCB0aGlzLiRzbG90cy5hY3Rpb25zID8gdGhpcy5nZW5BY3Rpb25zKCkgOiBudWxsXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUGlja2VyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQaWNrZXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZQaWNrZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlBpY2tlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBpY2tlci9WUGlja2VyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL1ZQcm9ncmVzc0NpcmN1bGFyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzQ2lyY3VsYXIvVlByb2dyZXNzQ2lyY3VsYXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzQ2lyY3VsYXIvVlByb2dyZXNzQ2lyY3VsYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL1ZQcm9ncmVzc0NpcmN1bGFyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlByb2dyZXNzQ2lyY3VsYXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUHJvZ3Jlc3NDaXJjdWxhci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NDaXJjdWxhci9WUHJvZ3Jlc3NDaXJjdWxhci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NDaXJjdWxhcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZQcm9ncmVzc0NpcmN1bGFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8vIFN0eWxlc1xuIC8vIE1peGluc1xuXG4gLy8gVXRpbHNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXByb2dyZXNzLWNpcmN1bGFyJyxcbiAgcHJvcHM6IHtcbiAgICBidXR0b246IEJvb2xlYW4sXG4gICAgaW5kZXRlcm1pbmF0ZTogQm9vbGVhbixcbiAgICByb3RhdGU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMzJcbiAgICB9LFxuICAgIHdpZHRoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogNFxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICByYWRpdXM6IDIwXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjYWxjdWxhdGVkU2l6ZTogZnVuY3Rpb24gY2FsY3VsYXRlZFNpemUoKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMuc2l6ZSkgKyAodGhpcy5idXR0b24gPyA4IDogMCk7XG4gICAgfSxcbiAgICBjaXJjdW1mZXJlbmNlOiBmdW5jdGlvbiBjaXJjdW1mZXJlbmNlKCkge1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJICogdGhpcy5yYWRpdXM7XG4gICAgfSxcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3YtcHJvZ3Jlc3MtY2lyY3VsYXItLWluZGV0ZXJtaW5hdGUnOiB0aGlzLmluZGV0ZXJtaW5hdGUsXG4gICAgICAgICd2LXByb2dyZXNzLWNpcmN1bGFyLS1idXR0b24nOiB0aGlzLmJ1dHRvblxuICAgICAgfTtcbiAgICB9LFxuICAgIG5vcm1hbGl6ZWRWYWx1ZTogZnVuY3Rpb24gbm9ybWFsaXplZFZhbHVlKCkge1xuICAgICAgaWYgKHRoaXMudmFsdWUgPCAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52YWx1ZSA+IDEwMCkge1xuICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLnZhbHVlKTtcbiAgICB9LFxuICAgIHN0cm9rZURhc2hBcnJheTogZnVuY3Rpb24gc3Ryb2tlRGFzaEFycmF5KCkge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5jaXJjdW1mZXJlbmNlICogMTAwMCkgLyAxMDAwO1xuICAgIH0sXG4gICAgc3Ryb2tlRGFzaE9mZnNldDogZnVuY3Rpb24gc3Ryb2tlRGFzaE9mZnNldCgpIHtcbiAgICAgIHJldHVybiAoMTAwIC0gdGhpcy5ub3JtYWxpemVkVmFsdWUpIC8gMTAwICogdGhpcy5jaXJjdW1mZXJlbmNlICsgJ3B4JztcbiAgICB9LFxuICAgIHN0cm9rZVdpZHRoOiBmdW5jdGlvbiBzdHJva2VXaWR0aCgpIHtcbiAgICAgIHJldHVybiBOdW1iZXIodGhpcy53aWR0aCkgLyArdGhpcy5zaXplICogdGhpcy52aWV3Qm94U2l6ZSAqIDI7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY2FsY3VsYXRlZFNpemUpLFxuICAgICAgICB3aWR0aDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY2FsY3VsYXRlZFNpemUpXG4gICAgICB9O1xuICAgIH0sXG4gICAgc3ZnU3R5bGVzOiBmdW5jdGlvbiBzdmdTdHlsZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKFwiICsgTnVtYmVyKHRoaXMucm90YXRlKSArIFwiZGVnKVwiXG4gICAgICB9O1xuICAgIH0sXG4gICAgdmlld0JveFNpemU6IGZ1bmN0aW9uIHZpZXdCb3hTaXplKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmFkaXVzIC8gKDEgLSBOdW1iZXIodGhpcy53aWR0aCkgLyArdGhpcy5zaXplKTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5DaXJjbGU6IGZ1bmN0aW9uIGdlbkNpcmNsZShuYW1lLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdjaXJjbGUnLCB7XG4gICAgICAgIGNsYXNzOiBcInYtcHJvZ3Jlc3MtY2lyY3VsYXJfX1wiICsgbmFtZSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgIGN4OiAyICogdGhpcy52aWV3Qm94U2l6ZSxcbiAgICAgICAgICBjeTogMiAqIHRoaXMudmlld0JveFNpemUsXG4gICAgICAgICAgcjogdGhpcy5yYWRpdXMsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHRoaXMuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiB0aGlzLnN0cm9rZURhc2hBcnJheSxcbiAgICAgICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiBvZmZzZXRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5Tdmc6IGZ1bmN0aW9uIGdlblN2ZygpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLmluZGV0ZXJtaW5hdGUgfHwgdGhpcy5nZW5DaXJjbGUoJ3VuZGVybGF5JywgMCksIHRoaXMuZ2VuQ2lyY2xlKCdvdmVybGF5JywgdGhpcy5zdHJva2VEYXNoT2Zmc2V0KV07XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnc3ZnJywge1xuICAgICAgICBzdHlsZTogdGhpcy5zdmdTdHlsZXMsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgeG1sbnM6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG4gICAgICAgICAgdmlld0JveDogdGhpcy52aWV3Qm94U2l6ZSArIFwiIFwiICsgdGhpcy52aWV3Qm94U2l6ZSArIFwiIFwiICsgMiAqIHRoaXMudmlld0JveFNpemUgKyBcIiBcIiArIDIgKiB0aGlzLnZpZXdCb3hTaXplXG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIGdlbkluZm86IGZ1bmN0aW9uIGdlbkluZm8oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtcHJvZ3Jlc3MtY2lyY3VsYXJfX2luZm8nXG4gICAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb2xvciwge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXByb2dyZXNzLWNpcmN1bGFyJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHJvbGU6ICdwcm9ncmVzc2JhcicsXG4gICAgICAgICdhcmlhLXZhbHVlbWluJzogMCxcbiAgICAgICAgJ2FyaWEtdmFsdWVtYXgnOiAxMDAsXG4gICAgICAgICdhcmlhLXZhbHVlbm93JzogdGhpcy5pbmRldGVybWluYXRlID8gdW5kZWZpbmVkIDogdGhpcy5ub3JtYWxpemVkVmFsdWVcbiAgICAgIH0sXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzLFxuICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzLFxuICAgICAgb246IHRoaXMuJGxpc3RlbmVyc1xuICAgIH0pLCBbdGhpcy5nZW5TdmcoKSwgdGhpcy5nZW5JbmZvKCldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NDaXJjdWxhci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZQcm9ncmVzc0NpcmN1bGFyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUHJvZ3Jlc3NDaXJjdWxhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzQ2lyY3VsYXIvVlByb2dyZXNzQ2lyY3VsYXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUHJvZ3Jlc3NDaXJjdWxhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL1ZQcm9ncmVzc0xpbmVhci5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL1ZQcm9ncmVzc0xpbmVhci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0xpbmVhci9WUHJvZ3Jlc3NMaW5lYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL1ZQcm9ncmVzc0xpbmVhci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlByb2dyZXNzTGluZWFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlByb2dyZXNzTGluZWFyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0xpbmVhci9WUHJvZ3Jlc3NMaW5lYXIuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlByb2dyZXNzTGluZWFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlByb2dyZXNzTGluZWFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc2l0aW9ucyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcG9zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcG9zaXRpb25hYmxlICovIFwiLi9zcmMvbWl4aW5zL3Bvc2l0aW9uYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Byb3h5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3Byb3h5YWJsZSAqLyBcIi4vc3JjL21peGlucy9wcm94eWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4gLy8gQ29tcG9uZW50c1xuXG4gLy8gTWl4aW5zXG5cblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZmFjdG9yeVwiXSkoWydhYnNvbHV0ZScsICdmaXhlZCcsICd0b3AnLCAnYm90dG9tJ10pLCBfbWl4aW5zX3Byb3h5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXByb2dyZXNzLWxpbmVhcicsXG4gIHByb3BzOiB7XG4gICAgYWN0aXZlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kT3BhY2l0eToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGJ1ZmZlclZhbHVlOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMTAwXG4gICAgfSxcbiAgICBjb2xvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3ByaW1hcnknXG4gICAgfSxcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiA0XG4gICAgfSxcbiAgICBpbmRldGVybWluYXRlOiBCb29sZWFuLFxuICAgIHF1ZXJ5OiBCb29sZWFuLFxuICAgIHJvdW5kZWQ6IEJvb2xlYW4sXG4gICAgc3RyZWFtOiBCb29sZWFuLFxuICAgIHN0cmlwZWQ6IEJvb2xlYW4sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnRlcm5hbExhenlWYWx1ZTogdGhpcy52YWx1ZSB8fCAwXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBfX2NhY2hlZEJhY2tncm91bmQ6IGZ1bmN0aW9uIF9fY2FjaGVkQmFja2dyb3VuZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmJhY2tncm91bmRDb2xvciB8fCB0aGlzLmNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1wcm9ncmVzcy1saW5lYXJfX2JhY2tncm91bmQnLFxuICAgICAgICBzdHlsZTogdGhpcy5iYWNrZ3JvdW5kU3R5bGVcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIF9fY2FjaGVkQmFyOiBmdW5jdGlvbiBfX2NhY2hlZEJhcigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KHRoaXMuY29tcHV0ZWRUcmFuc2l0aW9uLCBbdGhpcy5fX2NhY2hlZEJhclR5cGVdKTtcbiAgICB9LFxuICAgIF9fY2FjaGVkQmFyVHlwZTogZnVuY3Rpb24gX19jYWNoZWRCYXJUeXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZSA/IHRoaXMuX19jYWNoZWRJbmRldGVybWluYXRlIDogdGhpcy5fX2NhY2hlZERldGVybWluYXRlO1xuICAgIH0sXG4gICAgX19jYWNoZWRCdWZmZXI6IGZ1bmN0aW9uIF9fY2FjaGVkQnVmZmVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXByb2dyZXNzLWxpbmVhcl9fYnVmZmVyJyxcbiAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIF9fY2FjaGVkRGV0ZXJtaW5hdGU6IGZ1bmN0aW9uIF9fY2FjaGVkRGV0ZXJtaW5hdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJ2LXByb2dyZXNzLWxpbmVhcl9fZGV0ZXJtaW5hdGVcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB3aWR0aDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMubm9ybWFsaXplZFZhbHVlLCAnJScpXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIF9fY2FjaGVkSW5kZXRlcm1pbmF0ZTogZnVuY3Rpb24gX19jYWNoZWRJbmRldGVybWluYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXByb2dyZXNzLWxpbmVhcl9faW5kZXRlcm1pbmF0ZScsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtcHJvZ3Jlc3MtbGluZWFyX19pbmRldGVybWluYXRlLS1hY3RpdmUnOiB0aGlzLmFjdGl2ZVxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy5nZW5Qcm9ncmVzc0JhcignbG9uZycpLCB0aGlzLmdlblByb2dyZXNzQmFyKCdzaG9ydCcpXSk7XG4gICAgfSxcbiAgICBfX2NhY2hlZFN0cmVhbTogZnVuY3Rpb24gX19jYWNoZWRTdHJlYW0oKSB7XG4gICAgICBpZiAoIXRoaXMuc3RyZWFtKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldFRleHRDb2xvcih0aGlzLmNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1wcm9ncmVzcy1saW5lYXJfX3N0cmVhbScsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjb252ZXJ0VG9Vbml0XCJdKSgxMDAgLSB0aGlzLm5vcm1hbGl6ZWRCdWZmZXIsICclJylcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgYmFja2dyb3VuZFN0eWxlOiBmdW5jdGlvbiBiYWNrZ3JvdW5kU3R5bGUoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBiYWNrZ3JvdW5kT3BhY2l0eSA9IHRoaXMuYmFja2dyb3VuZE9wYWNpdHkgPT0gbnVsbCA/IHRoaXMuYmFja2dyb3VuZENvbG9yID8gMSA6IDAuMyA6IHBhcnNlRmxvYXQodGhpcy5iYWNrZ3JvdW5kT3BhY2l0eSk7XG4gICAgICByZXR1cm4gX2EgPSB7XG4gICAgICAgIG9wYWNpdHk6IGJhY2tncm91bmRPcGFjaXR5XG4gICAgICB9LCBfYVt0aGlzLiR2dWV0aWZ5LnJ0bCA/ICdyaWdodCcgOiAnbGVmdCddID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMubm9ybWFsaXplZFZhbHVlLCAnJScpLCBfYS53aWR0aCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLm5vcm1hbGl6ZWRCdWZmZXIgLSB0aGlzLm5vcm1hbGl6ZWRWYWx1ZSwgJyUnKSwgX2E7XG4gICAgfSxcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtcHJvZ3Jlc3MtbGluZWFyLS1hYnNvbHV0ZSc6IHRoaXMuYWJzb2x1dGUsXG4gICAgICAgICd2LXByb2dyZXNzLWxpbmVhci0tZml4ZWQnOiB0aGlzLmZpeGVkLFxuICAgICAgICAndi1wcm9ncmVzcy1saW5lYXItLXF1ZXJ5JzogdGhpcy5xdWVyeSxcbiAgICAgICAgJ3YtcHJvZ3Jlc3MtbGluZWFyLS1yZWFjdGl2ZSc6IHRoaXMucmVhY3RpdmUsXG4gICAgICAgICd2LXByb2dyZXNzLWxpbmVhci0tcm91bmRlZCc6IHRoaXMucm91bmRlZCxcbiAgICAgICAgJ3YtcHJvZ3Jlc3MtbGluZWFyLS1zdHJpcGVkJzogdGhpcy5zdHJpcGVkXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3Nlcyk7XG4gICAgfSxcbiAgICBjb21wdXRlZFRyYW5zaXRpb246IGZ1bmN0aW9uIGNvbXB1dGVkVHJhbnNpdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV0ZXJtaW5hdGUgPyBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlZGYWRlVHJhbnNpdGlvblwiXSA6IF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVlNsaWRlWFRyYW5zaXRpb25cIl07XG4gICAgfSxcbiAgICBub3JtYWxpemVkQnVmZmVyOiBmdW5jdGlvbiBub3JtYWxpemVkQnVmZmVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKHRoaXMuYnVmZmVyVmFsdWUpO1xuICAgIH0sXG4gICAgbm9ybWFsaXplZFZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemVkVmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5pbnRlcm5hbExhenlWYWx1ZSk7XG4gICAgfSxcbiAgICByZWFjdGl2ZTogZnVuY3Rpb24gcmVhY3RpdmUoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLiRsaXN0ZW5lcnMuY2hhbmdlKTtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IHt9O1xuXG4gICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XG4gICAgICAgIHN0eWxlcy5oZWlnaHQgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaW5kZXRlcm1pbmF0ZSAmJiBwYXJzZUZsb2F0KHRoaXMubm9ybWFsaXplZEJ1ZmZlcikgIT09IDEwMCkge1xuICAgICAgICBzdHlsZXMud2lkdGggPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5ub3JtYWxpemVkQnVmZmVyLCAnJScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGVzO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkNvbnRlbnQ6IGZ1bmN0aW9uIGdlbkNvbnRlbnQoKSB7XG4gICAgICB2YXIgc2xvdCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJnZXRTbG90XCJdKSh0aGlzLCAnZGVmYXVsdCcsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxMYXp5VmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzbG90KSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1wcm9ncmVzcy1saW5lYXJfX2NvbnRlbnQnXG4gICAgICB9LCBzbG90KTtcbiAgICB9LFxuICAgIGdlbkxpc3RlbmVyczogZnVuY3Rpb24gZ2VuTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuJGxpc3RlbmVycztcblxuICAgICAgaWYgKHRoaXMucmVhY3RpdmUpIHtcbiAgICAgICAgbGlzdGVuZXJzLmNsaWNrID0gdGhpcy5vbkNsaWNrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH0sXG4gICAgZ2VuUHJvZ3Jlc3NCYXI6IGZ1bmN0aW9uIGdlblByb2dyZXNzQmFyKG5hbWUpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXByb2dyZXNzLWxpbmVhcl9faW5kZXRlcm1pbmF0ZScsXG4gICAgICAgIGNsYXNzOiAoX2EgPSB7fSwgX2FbbmFtZV0gPSB0cnVlLCBfYSlcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgaWYgKCF0aGlzLnJlYWN0aXZlKSByZXR1cm47XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IGUub2Zmc2V0WCAvIHdpZHRoICogMTAwO1xuICAgIH0sXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA8IDApIHJldHVybiAwO1xuICAgICAgaWYgKHZhbHVlID4gMTAwKSByZXR1cm4gMTAwO1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXByb2dyZXNzLWxpbmVhcicsXG4gICAgICBhdHRyczoge1xuICAgICAgICByb2xlOiAncHJvZ3Jlc3NiYXInLFxuICAgICAgICAnYXJpYS12YWx1ZW1pbic6IDAsXG4gICAgICAgICdhcmlhLXZhbHVlbWF4JzogdGhpcy5ub3JtYWxpemVkQnVmZmVyLFxuICAgICAgICAnYXJpYS12YWx1ZW5vdyc6IHRoaXMuaW5kZXRlcm1pbmF0ZSA/IHVuZGVmaW5lZCA6IHRoaXMubm9ybWFsaXplZFZhbHVlXG4gICAgICB9LFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGJvdHRvbTogdGhpcy5ib3R0b20gPyAwIDogdW5kZWZpbmVkLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuYWN0aXZlID8gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KSA6IDAsXG4gICAgICAgIHRvcDogdGhpcy50b3AgPyAwIDogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgb246IHRoaXMuZ2VuTGlzdGVuZXJzKClcbiAgICB9O1xuICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBbdGhpcy5fX2NhY2hlZFN0cmVhbSwgdGhpcy5fX2NhY2hlZEJhY2tncm91bmQsIHRoaXMuX19jYWNoZWRCdWZmZXIsIHRoaXMuX19jYWNoZWRCYXIsIHRoaXMuZ2VuQ29udGVudCgpXSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NMaW5lYXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NMaW5lYXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlByb2dyZXNzTGluZWFyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlByb2dyZXNzTGluZWFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NMaW5lYXIvVlByb2dyZXNzTGluZWFyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlByb2dyZXNzTGluZWFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZQcm9ncmVzc0xpbmVhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL1ZSYWRpby5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmFkaW9Hcm91cC9WUmFkaW8uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL1ZSYWRpby50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL1ZSYWRpby50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmFkaW9fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmFkaW8uc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhZGlvR3JvdXAvVlJhZGlvLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSYWRpb19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZSYWRpb19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGFiZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZMYWJlbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxhYmVsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJbnB1dCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVklucHV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfYmluZHNfYXR0cnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9iaW5kcy1hdHRycyAqLyBcIi4vc3JjL21peGlucy9iaW5kcy1hdHRycy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19ncm91cGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9ncm91cGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZ3JvdXBhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcmlwcGxlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JpcHBsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmlwcGxlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19zZWxlY3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvc2VsZWN0YWJsZSAqLyBcIi4vc3JjL21peGlucy9zZWxlY3RhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cblxuXG5cbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYmluZHNfYXR0cnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JpcHBsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZmFjdG9yeVwiXSkoJ3JhZGlvR3JvdXAnKSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXJhZGlvJyxcbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBpZDogU3RyaW5nLFxuICAgIGxhYmVsOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIG9mZkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcmFkaW9PZmYnXG4gICAgfSxcbiAgICBvbkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcmFkaW9PbidcbiAgICB9LFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHZhbHVlOiB7XG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0ZvY3VzZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtcmFkaW8tLWlzLWRpc2FibGVkJzogdGhpcy5pc0Rpc2FibGVkLFxuICAgICAgICAndi1yYWRpby0taXMtZm9jdXNlZCc6IHRoaXMuaXNGb2N1c2VkXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcywgdGhpcy5ncm91cENsYXNzZXMpO1xuICAgIH0sXG4gICAgY29tcHV0ZWRDb2xvcjogZnVuY3Rpb24gY29tcHV0ZWRDb2xvcigpIHtcbiAgICAgIHJldHVybiBfbWl4aW5zX3NlbGVjdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jb21wdXRlZENvbG9yLmNhbGwodGhpcyk7XG4gICAgfSxcbiAgICBjb21wdXRlZEljb246IGZ1bmN0aW9uIGNvbXB1dGVkSWNvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQWN0aXZlID8gdGhpcy5vbkljb24gOiB0aGlzLm9mZkljb247XG4gICAgfSxcbiAgICBjb21wdXRlZElkOiBmdW5jdGlvbiBjb21wdXRlZElkKCkge1xuICAgICAgcmV0dXJuIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jb21wdXRlZElkLmNhbGwodGhpcyk7XG4gICAgfSxcbiAgICBoYXNMYWJlbDogX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmhhc0xhYmVsLFxuICAgIGhhc1N0YXRlOiBmdW5jdGlvbiBoYXNTdGF0ZSgpIHtcbiAgICAgIHJldHVybiAodGhpcy5yYWRpb0dyb3VwIHx8IHt9KS5oYXNTdGF0ZTtcbiAgICB9LFxuICAgIGlzRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCB8fCAhISh0aGlzLnJhZGlvR3JvdXAgfHwge30pLmRpc2FibGVkO1xuICAgIH0sXG4gICAgaXNSZWFkb25seTogZnVuY3Rpb24gaXNSZWFkb25seSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWRvbmx5IHx8ICEhKHRoaXMucmFkaW9Hcm91cCB8fCB7fSkucmVhZG9ubHk7XG4gICAgfSxcbiAgICBjb21wdXRlZE5hbWU6IGZ1bmN0aW9uIGNvbXB1dGVkTmFtZSgpIHtcbiAgICAgIGlmICh0aGlzLm5hbWUgfHwgIXRoaXMucmFkaW9Hcm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yYWRpb0dyb3VwLm5hbWUgfHwgXCJyYWRpby1cIiArIHRoaXMucmFkaW9Hcm91cC5fdWlkO1xuICAgIH0sXG4gICAgdmFsaWRhdGlvblN0YXRlOiBmdW5jdGlvbiB2YWxpZGF0aW9uU3RhdGUoKSB7XG4gICAgICByZXR1cm4gKHRoaXMucmFkaW9Hcm91cCB8fCB7fSkudmFsaWRhdGlvblN0YXRlIHx8IHRoaXMuY29tcHV0ZWRDb2xvcjtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoYXJncykge1xuICAgICAgLy8gV2UgY2FuJ3QgYWN0dWFsbHkgdXNlIHRoZSBtaXhpbiBkaXJlY3RseSBiZWNhdXNlXG4gICAgICAvLyBpdCdzIG1hZGUgZm9yIHN0YW5kYWxvbmUgY29tcG9uZW50cywgYnV0IGl0c1xuICAgICAgLy8gZ2VuSW5wdXQgbWV0aG9kIGlzIGV4YWN0bHkgd2hhdCB3ZSBuZWVkXG4gICAgICByZXR1cm4gX21peGluc19zZWxlY3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5JbnB1dC5jYWxsKHRoaXMsICdyYWRpbycsIGFyZ3MpO1xuICAgIH0sXG4gICAgZ2VuTGFiZWw6IGZ1bmN0aW9uIGdlbkxhYmVsKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmhhc0xhYmVsKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WTGFiZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBsYWJlbCBmcm9tXG4gICAgICAgICAgICAvLyBjYXVzaW5nIHRoZSBpbnB1dFxuICAgICAgICAgICAgLy8gdG8gZm9jdXNcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgX3RoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgZm9yOiB0aGlzLmNvbXB1dGVkSWRcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy52YWxpZGF0aW9uU3RhdGUsXG4gICAgICAgICAgZm9jdXNlZDogdGhpcy5oYXNTdGF0ZVxuICAgICAgICB9XG4gICAgICB9LCBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImdldFNsb3RcIl0pKHRoaXMsICdsYWJlbCcpIHx8IHRoaXMubGFiZWwpO1xuICAgIH0sXG4gICAgZ2VuUmFkaW86IGZ1bmN0aW9uIGdlblJhZGlvKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0LS1zZWxlY3Rpb24tY29udHJvbHNfX2lucHV0J1xuICAgICAgfSwgW3RoaXMuZ2VuSW5wdXQoX19hc3NpZ24oe1xuICAgICAgICBuYW1lOiB0aGlzLmNvbXB1dGVkTmFtZSxcbiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICAgIH0sIHRoaXMuYXR0cnMkKSksIHRoaXMuZ2VuUmlwcGxlKHRoaXMuc2V0VGV4dENvbG9yKHRoaXMudmFsaWRhdGlvblN0YXRlKSksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB0aGlzLnNldFRleHRDb2xvcih0aGlzLnZhbGlkYXRpb25TdGF0ZSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGRlbnNlOiB0aGlzLnJhZGlvR3JvdXAgJiYgdGhpcy5yYWRpb0dyb3VwLmRlbnNlXG4gICAgICAgIH1cbiAgICAgIH0pLCB0aGlzLmNvbXB1dGVkSWNvbildKTtcbiAgICB9LFxuICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZSkge1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCBlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLiRlbWl0KCdibHVyJywgZSk7XG4gICAgfSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5pc0Rpc2FibGVkIHx8IHRoaXMuaXNSZWFkb25seSB8fCB0aGlzLmlzQWN0aXZlKSByZXR1cm47XG4gICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgIH0sXG4gICAgb25LZXlkb3duOiBmdW5jdGlvbiBvbktleWRvd24oKSB7fVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtcmFkaW8nLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3Nlc1xuICAgIH07XG4gICAgcmV0dXJuIGgoJ2RpdicsIGRhdGEsIFt0aGlzLmdlblJhZGlvKCksIHRoaXMuZ2VuTGFiZWwoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhZGlvR3JvdXAvVlJhZGlvR3JvdXAuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmFkaW9Hcm91cC9WUmFkaW9Hcm91cC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUmFkaW9Hcm91cC9WUmFkaW9Hcm91cC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlJhZGlvR3JvdXAvVlJhZGlvR3JvdXAudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdHlsZXNfY29tcG9uZW50c19zZWxlY3Rpb25fY29udHJvbHNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc3R5bGVzL2NvbXBvbmVudHMvX3NlbGVjdGlvbi1jb250cm9scy5zYXNzICovIFwiLi9zcmMvc3R5bGVzL2NvbXBvbmVudHMvX3NlbGVjdGlvbi1jb250cm9scy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdHlsZXNfY29tcG9uZW50c19zZWxlY3Rpb25fY29udHJvbHNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zdHlsZXNfY29tcG9uZW50c19zZWxlY3Rpb25fY29udHJvbHNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJhZGlvR3JvdXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmFkaW9Hcm91cC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmFkaW9Hcm91cC9WUmFkaW9Hcm91cC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmFkaW9Hcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZSYWRpb0dyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVklucHV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkl0ZW1Hcm91cC9WSXRlbUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb21wYXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29tcGFyYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb21wYXJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuXG4gLy8gTWl4aW5zXG5cbiAvLyBUeXBlc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb21wYXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBfVkl0ZW1Hcm91cF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJCYXNlSXRlbUdyb3VwXCJdLCBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoe1xuICBuYW1lOiAndi1yYWRpby1ncm91cCcsXG4gIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJhZGlvR3JvdXA6IHRoaXNcbiAgICB9O1xuICB9LFxuICBwcm9wczoge1xuICAgIGNvbHVtbjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGhlaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJ1xuICAgIH0sXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHJvdzogQm9vbGVhbixcbiAgICAvLyBJZiBubyB2YWx1ZSBzZXQgb24gVlJhZGlvXG4gICAgLy8gd2lsbCBtYXRjaCB2YWx1ZUNvbXBhcmF0b3JcbiAgICAvLyBmb3JjZSBkZWZhdWx0IHRvIG51bGxcbiAgICB2YWx1ZToge1xuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWlucHV0LS1zZWxlY3Rpb24tY29udHJvbHMgdi1pbnB1dC0tcmFkaW8tZ3JvdXAnOiB0cnVlLFxuICAgICAgICAndi1pbnB1dC0tcmFkaW8tZ3JvdXAtLWNvbHVtbic6IHRoaXMuY29sdW1uICYmICF0aGlzLnJvdyxcbiAgICAgICAgJ3YtaW5wdXQtLXJhZGlvLWdyb3VwLS1yb3cnOiB0aGlzLnJvd1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuRGVmYXVsdFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTbG90KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0LS1yYWRpby1ncm91cF9faW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgIHJvbGU6ICdyYWRpb2dyb3VwJyxcbiAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogdGhpcy5jb21wdXRlZElkXG4gICAgICAgIH1cbiAgICAgIH0sIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkRlZmF1bHRTbG90LmNhbGwodGhpcykpO1xuICAgIH0sXG4gICAgZ2VuSW5wdXRTbG90OiBmdW5jdGlvbiBnZW5JbnB1dFNsb3QoKSB7XG4gICAgICB2YXIgcmVuZGVyID0gX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXRTbG90LmNhbGwodGhpcyk7XG4gICAgICBkZWxldGUgcmVuZGVyLmRhdGEub24uY2xpY2s7XG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0sXG4gICAgZ2VuTGFiZWw6IGZ1bmN0aW9uIGdlbkxhYmVsKCkge1xuICAgICAgdmFyIGxhYmVsID0gX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuTGFiZWwuY2FsbCh0aGlzKTtcbiAgICAgIGlmICghbGFiZWwpIHJldHVybiBudWxsO1xuICAgICAgbGFiZWwuZGF0YS5hdHRycy5pZCA9IHRoaXMuY29tcHV0ZWRJZDsgLy8gV0FJIGNvbnNpZGVycyB0aGlzIGFuIG9ycGhhbmVkIGxhYmVsXG5cbiAgICAgIGRlbGV0ZSBsYWJlbC5kYXRhLmF0dHJzLmZvcjtcbiAgICAgIGxhYmVsLnRhZyA9ICdkaXYnO1xuICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH0sXG4gICAgb25DbGljazogX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQmFzZUl0ZW1Hcm91cFwiXS5vcHRpb25zLm1ldGhvZHMub25DbGlja1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhZGlvR3JvdXAvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlJhZGlvR3JvdXAsIFZSYWRpbywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJhZGlvR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlJhZGlvR3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL1ZSYWRpb0dyb3VwLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlJhZGlvR3JvdXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlJhZGlvR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSYWRpb19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmFkaW8gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYWRpb0dyb3VwL1ZSYWRpby50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZSYWRpb1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUmFkaW9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWUmFkaW9Hcm91cDogX1ZSYWRpb0dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZSYWRpbzogX1ZSYWRpb19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUmFuZ2VTbGlkZXIvVlJhbmdlU2xpZGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmFuZ2VTbGlkZXIvVlJhbmdlU2xpZGVyLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhbmdlU2xpZGVyL1ZSYW5nZVNsaWRlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmFuZ2VTbGlkZXIvVlJhbmdlU2xpZGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmFuZ2VTbGlkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmFuZ2VTbGlkZXIuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhbmdlU2xpZGVyL1ZSYW5nZVNsaWRlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmFuZ2VTbGlkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WUmFuZ2VTbGlkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlNsaWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBIZWxwZXJzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1yYW5nZS1zbGlkZXInLFxuICBwcm9wczoge1xuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gWzAsIDBdO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlVGh1bWI6IG51bGwsXG4gICAgICBsYXp5VmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WU2xpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LWlucHV0LS1yYW5nZS1zbGlkZXInOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGludGVybmFsVmFsdWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXp5VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIFJvdW5kIHZhbHVlIHRvIGVuc3VyZSB0aGVcbiAgICAgICAgLy8gZW50aXJlIHNsaWRlciByYW5nZSBjYW5cbiAgICAgICAgLy8gYmUgc2VsZWN0ZWQgd2l0aCBzdGVwXG5cblxuICAgICAgICB2YXIgdmFsdWUgPSB2YWwubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnJvdW5kVmFsdWUoTWF0aC5taW4oTWF0aC5tYXgodiwgX3RoaXMubWluVmFsdWUpLCBfdGhpcy5tYXhWYWx1ZSkpO1xuICAgICAgICB9KTsgLy8gU3dpdGNoIHZhbHVlcyBpZiByYW5nZSBhbmQgd3Jvbmcgb3JkZXJcblxuICAgICAgICBpZiAodmFsdWVbMF0gPiB2YWx1ZVsxXSB8fCB2YWx1ZVsxXSA8IHZhbHVlWzBdKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVGh1bWIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB0b0ZvY3VzID0gdGhpcy5hY3RpdmVUaHVtYiA9PT0gMSA/IDAgOiAxO1xuICAgICAgICAgICAgdmFyIGVsID0gdGhpcy4kcmVmc1tcInRodW1iX1wiICsgdG9Gb2N1c107XG4gICAgICAgICAgICBlbC5mb2N1cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gW3ZhbHVlWzFdLCB2YWx1ZVswXV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoIU9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWVwRXF1YWxcIl0pKHZhbHVlLCB0aGlzLnZhbHVlKSkgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlucHV0V2lkdGg6IGZ1bmN0aW9uIGlucHV0V2lkdGgoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gKF90aGlzLnJvdW5kVmFsdWUodikgLSBfdGhpcy5taW5WYWx1ZSkgLyAoX3RoaXMubWF4VmFsdWUgLSBfdGhpcy5taW5WYWx1ZSkgKiAxMDA7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRyYWNrRmlsbFN0eWxlczogZnVuY3Rpb24gdHJhY2tGaWxsU3R5bGVzKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IF9WU2xpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQudHJhY2tGaWxsU3R5bGVzLmNhbGwodGhpcyk7XG4gICAgICB2YXIgZmlsbFBlcmNlbnQgPSBNYXRoLmFicyh0aGlzLmlucHV0V2lkdGhbMF0gLSB0aGlzLmlucHV0V2lkdGhbMV0pO1xuICAgICAgdmFyIGRpciA9IHRoaXMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLnZlcnRpY2FsID8gdGhpcy4kdnVldGlmeS5ydGwgPyAndG9wJyA6ICdib3R0b20nIDogdGhpcy4kdnVldGlmeS5ydGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgc3R5bGVzW2Rpcl0gPSBmaWxsUGVyY2VudCArIFwiJVwiO1xuICAgICAgc3R5bGVzW3N0YXJ0XSA9IHRoaXMuaW5wdXRXaWR0aFswXSArIFwiJVwiO1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRUcmFja1N0eWxlOiBmdW5jdGlvbiBnZXRUcmFja1N0eWxlKHN0YXJ0TGVuZ3RoLCBlbmRMZW5ndGgsIHN0YXJ0UGFkZGluZywgZW5kUGFkZGluZykge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAoc3RhcnRQYWRkaW5nID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhcnRQYWRkaW5nID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVuZFBhZGRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgICBlbmRQYWRkaW5nID0gMDtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0RGlyID0gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuJHZ1ZXRpZnkucnRsID8gJ3RvcCcgOiAnYm90dG9tJyA6IHRoaXMuJHZ1ZXRpZnkucnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgIHZhciBlbmREaXIgPSB0aGlzLnZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgdmFyIHN0YXJ0ID0gXCJjYWxjKFwiICsgc3RhcnRMZW5ndGggKyBcIiUgKyBcIiArIHN0YXJ0UGFkZGluZyArIFwicHgpXCI7XG4gICAgICB2YXIgZW5kID0gXCJjYWxjKFwiICsgZW5kTGVuZ3RoICsgXCIlICsgXCIgKyBlbmRQYWRkaW5nICsgXCJweClcIjtcbiAgICAgIHJldHVybiBfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFja1RyYW5zaXRpb25cbiAgICAgIH0sIF9hW3N0YXJ0RGlyXSA9IHN0YXJ0LCBfYVtlbmREaXJdID0gZW5kLCBfYTtcbiAgICB9LFxuICAgIGdldEluZGV4T2ZDbG9zZXN0VmFsdWU6IGZ1bmN0aW9uIGdldEluZGV4T2ZDbG9zZXN0VmFsdWUoYXJyLCB2KSB7XG4gICAgICBpZiAoTWF0aC5hYnMoYXJyWzBdIC0gdikgPCBNYXRoLmFicyhhcnJbMV0gLSB2KSkgcmV0dXJuIDA7ZWxzZSByZXR1cm4gMTtcbiAgICB9LFxuICAgIGdlbklucHV0OiBmdW5jdGlvbiBnZW5JbnB1dCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY3JlYXRlUmFuZ2VcIl0pKDIpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YXIgaW5wdXQgPSBfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbChfdGhpcyk7XG4gICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhIHx8IHt9O1xuICAgICAgICBpbnB1dC5kYXRhLmF0dHJzID0gaW5wdXQuZGF0YS5hdHRycyB8fCB7fTtcbiAgICAgICAgaW5wdXQuZGF0YS5hdHRycy52YWx1ZSA9IF90aGlzLmludGVybmFsVmFsdWVbaV07XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuVHJhY2tDb250YWluZXI6IGZ1bmN0aW9uIGdlblRyYWNrQ29udGFpbmVyKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHZhciBkaXNhYmxlZFBhZGRpbmcgPSAxMDtcbiAgICAgICAgdmFyIHNlY3Rpb25zID0gW1swLCB0aGlzLmlucHV0V2lkdGhbMF0sIDAsIC1kaXNhYmxlZFBhZGRpbmddLCBbdGhpcy5pbnB1dFdpZHRoWzBdLCBNYXRoLmFicyh0aGlzLmlucHV0V2lkdGhbMV0gLSB0aGlzLmlucHV0V2lkdGhbMF0pLCBkaXNhYmxlZFBhZGRpbmcsIGRpc2FibGVkUGFkZGluZyAqIC0yXSwgW3RoaXMuaW5wdXRXaWR0aFsxXSwgTWF0aC5hYnMoMTAwIC0gdGhpcy5pbnB1dFdpZHRoWzFdKSwgZGlzYWJsZWRQYWRkaW5nLCAwXV07XG4gICAgICAgIGlmICh0aGlzLiR2dWV0aWZ5LnJ0bCkgc2VjdGlvbnMucmV2ZXJzZSgpO1xuICAgICAgICBjaGlsZHJlbi5wdXNoLmFwcGx5KGNoaWxkcmVuLCBfX3NwcmVhZChzZWN0aW9ucy5tYXAoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIF90aGlzLnNldEJhY2tncm91bmRDb2xvcihfdGhpcy5jb21wdXRlZFRyYWNrQ29sb3IsIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RyYWNrLWJhY2tncm91bmQnLFxuICAgICAgICAgICAgc3R5bGU6IF90aGlzLmdldFRyYWNrU3R5bGUuYXBwbHkoX3RoaXMsIF9fc3ByZWFkKHNlY3Rpb24pKVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb21wdXRlZFRyYWNrQ29sb3IsIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190cmFjay1iYWNrZ3JvdW5kJyxcbiAgICAgICAgICBzdHlsZTogdGhpcy5nZXRUcmFja1N0eWxlKDAsIDEwMClcbiAgICAgICAgfSkpLCB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbXB1dGVkQ29sb3IsIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190cmFjay1maWxsJyxcbiAgICAgICAgICBzdHlsZTogdGhpcy50cmFja0ZpbGxTdHlsZXNcbiAgICAgICAgfSkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlcl9fdHJhY2stY29udGFpbmVyJyxcbiAgICAgICAgcmVmOiAndHJhY2snXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5DaGlsZHJlbjogZnVuY3Rpb24gZ2VuQ2hpbGRyZW4oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gW3RoaXMuZ2VuSW5wdXQoKSwgdGhpcy5nZW5UcmFja0NvbnRhaW5lcigpLCB0aGlzLmdlblN0ZXBzKCksIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjcmVhdGVSYW5nZVwiXSkoMikubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5pbnRlcm5hbFZhbHVlW2luZGV4XTtcblxuICAgICAgICB2YXIgb25EcmFnID0gZnVuY3Rpb24gb25EcmFnKGUpIHtcbiAgICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgX3RoaXMuYWN0aXZlVGh1bWIgPSBpbmRleDtcblxuICAgICAgICAgIF90aGlzLm9uVGh1bWJNb3VzZURvd24oZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9uRm9jdXMgPSBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgICAgICBfdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgIF90aGlzLmFjdGl2ZVRodW1iID0gaW5kZXg7XG5cbiAgICAgICAgICBfdGhpcy4kZW1pdCgnZm9jdXMnLCBlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgICAgICBfdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICBfdGhpcy5hY3RpdmVUaHVtYiA9IG51bGw7XG5cbiAgICAgICAgICBfdGhpcy4kZW1pdCgnYmx1cicsIGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB2YWx1ZVdpZHRoID0gX3RoaXMuaW5wdXRXaWR0aFtpbmRleF07XG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IF90aGlzLmlzQWN0aXZlICYmIF90aGlzLmFjdGl2ZVRodW1iID09PSBpbmRleDtcbiAgICAgICAgdmFyIGlzRm9jdXNlZCA9IF90aGlzLmlzRm9jdXNlZCAmJiBfdGhpcy5hY3RpdmVUaHVtYiA9PT0gaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcy5nZW5UaHVtYkNvbnRhaW5lcih2YWx1ZSwgdmFsdWVXaWR0aCwgaXNBY3RpdmUsIGlzRm9jdXNlZCwgb25EcmFnLCBvbkZvY3VzLCBvbkJsdXIsIFwidGh1bWJfXCIgKyBpbmRleCk7XG4gICAgICB9KV07XG4gICAgfSxcbiAgICBvblNsaWRlckNsaWNrOiBmdW5jdGlvbiBvblNsaWRlckNsaWNrKGUpIHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICBpZiAodGhpcy5ub0NsaWNrKSB7XG4gICAgICAgICAgdGhpcy5ub0NsaWNrID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9hID0gdGhpcy5wYXJzZU1vdXNlTW92ZShlKSxcbiAgICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgICBpc0luc2lkZVRyYWNrID0gX2EuaXNJbnNpZGVUcmFjaztcblxuICAgICAgICBpZiAoaXNJbnNpZGVUcmFjaykge1xuICAgICAgICAgIHRoaXMuYWN0aXZlVGh1bWIgPSB0aGlzLmdldEluZGV4T2ZDbG9zZXN0VmFsdWUodGhpcy5pbnRlcm5hbFZhbHVlLCB2YWx1ZSk7XG4gICAgICAgICAgdmFyIHJlZk5hbWUgPSBcInRodW1iX1wiICsgdGhpcy5hY3RpdmVUaHVtYjtcbiAgICAgICAgICB2YXIgdGh1bWJSZWYgPSB0aGlzLiRyZWZzW3JlZk5hbWVdO1xuICAgICAgICAgIHRodW1iUmVmLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEludGVybmFsVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmludGVybmFsVmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHtcbiAgICAgIHZhciBfYSA9IHRoaXMucGFyc2VNb3VzZU1vdmUoZSksXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgICBpc0luc2lkZVRyYWNrID0gX2EuaXNJbnNpZGVUcmFjaztcblxuICAgICAgaWYgKGlzSW5zaWRlVHJhY2sgJiYgdGhpcy5hY3RpdmVUaHVtYiA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRodW1iID0gdGhpcy5nZXRJbmRleE9mQ2xvc2VzdFZhbHVlKHRoaXMuaW50ZXJuYWxWYWx1ZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldEludGVybmFsVmFsdWUodmFsdWUpO1xuICAgIH0sXG4gICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgaWYgKHRoaXMuYWN0aXZlVGh1bWIgPT09IG51bGwpIHJldHVybjtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VLZXlEb3duKGUsIHRoaXMuaW50ZXJuYWxWYWx1ZVt0aGlzLmFjdGl2ZVRodW1iXSk7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgdGhpcy5zZXRJbnRlcm5hbFZhbHVlKHZhbHVlKTtcbiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW50ZXJuYWxWYWx1ZSk7XG4gICAgfSxcbiAgICBzZXRJbnRlcm5hbFZhbHVlOiBmdW5jdGlvbiBzZXRJbnRlcm5hbFZhbHVlKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLmludGVybmFsVmFsdWUubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgIGlmIChpID09PSBfdGhpcy5hY3RpdmVUaHVtYikgcmV0dXJuIHZhbHVlO2Vsc2UgcmV0dXJuIE51bWJlcih2KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYW5nZVNsaWRlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSYW5nZVNsaWRlci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWUmFuZ2VTbGlkZXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSYW5nZVNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmFuZ2VTbGlkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYW5nZVNsaWRlci9WUmFuZ2VTbGlkZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUmFuZ2VTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlJhbmdlU2xpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZSYW5nZVNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhdGluZy9WUmF0aW5nLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSYXRpbmcvVlJhdGluZy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhdGluZy9WUmF0aW5nLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlJhdGluZy9WUmF0aW5nLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSYXRpbmdfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmF0aW5nLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYXRpbmcvVlJhdGluZy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmF0aW5nX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlJhdGluZ19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RlbGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RlbGF5YWJsZSAqLyBcIi4vc3JjL21peGlucy9kZWxheWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19zaXplYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3NpemVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3NpemVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcmlwcGxlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JpcHBsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmlwcGxlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8vIFN0eWxlc1xuIC8vIENvbXBvbmVudHNcblxuIC8vIE1peGluc1xuXG5cblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfZGVsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3JpcHBsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfc2l6ZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1yYXRpbmcnLFxuICBwcm9wczoge1xuICAgIGJhY2tncm91bmRDb2xvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2FjY2VudCdcbiAgICB9LFxuICAgIGNvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAncHJpbWFyeSdcbiAgICB9LFxuICAgIGNsZWFyYWJsZTogQm9vbGVhbixcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICBlbXB0eUljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcmF0aW5nRW1wdHknXG4gICAgfSxcbiAgICBmdWxsSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRyYXRpbmdGdWxsJ1xuICAgIH0sXG4gICAgaGFsZkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcmF0aW5nSGFsZidcbiAgICB9LFxuICAgIGhhbGZJbmNyZW1lbnRzOiBCb29sZWFuLFxuICAgIGhvdmVyOiBCb29sZWFuLFxuICAgIGxlbmd0aDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDVcbiAgICB9LFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHNpemU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvdmVySW5kZXg6IC0xLFxuICAgICAgaW50ZXJuYWxWYWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZGlyZWN0aXZlczogZnVuY3Rpb24gZGlyZWN0aXZlcygpIHtcbiAgICAgIGlmICh0aGlzLnJlYWRvbmx5IHx8ICF0aGlzLnJpcHBsZSkgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIG5hbWU6ICdyaXBwbGUnLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGNpcmNsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XTtcbiAgICB9LFxuICAgIGljb25Qcm9wczogZnVuY3Rpb24gaWNvblByb3BzKCkge1xuICAgICAgdmFyIF9hID0gdGhpcy4kcHJvcHMsXG4gICAgICAgICAgZGFyayA9IF9hLmRhcmssXG4gICAgICAgICAgbGFyZ2UgPSBfYS5sYXJnZSxcbiAgICAgICAgICBsaWdodCA9IF9hLmxpZ2h0LFxuICAgICAgICAgIG1lZGl1bSA9IF9hLm1lZGl1bSxcbiAgICAgICAgICBzbWFsbCA9IF9hLnNtYWxsLFxuICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgIHhMYXJnZSA9IF9hLnhMYXJnZSxcbiAgICAgICAgICB4U21hbGwgPSBfYS54U21hbGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXJrOiBkYXJrLFxuICAgICAgICBsYXJnZTogbGFyZ2UsXG4gICAgICAgIGxpZ2h0OiBsaWdodCxcbiAgICAgICAgbWVkaXVtOiBtZWRpdW0sXG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgIHNtYWxsOiBzbWFsbCxcbiAgICAgICAgeExhcmdlOiB4TGFyZ2UsXG4gICAgICAgIHhTbWFsbDogeFNtYWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgaXNIb3ZlcmluZzogZnVuY3Rpb24gaXNIb3ZlcmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmhvdmVyICYmIHRoaXMuaG92ZXJJbmRleCA+PSAwO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBpbnRlcm5hbFZhbHVlOiBmdW5jdGlvbiBpbnRlcm5hbFZhbHVlKHZhbCkge1xuICAgICAgdmFsICE9PSB0aGlzLnZhbHVlICYmIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTtcbiAgICB9LFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbDtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjcmVhdGVDbGlja0ZuOiBmdW5jdGlvbiBjcmVhdGVDbGlja0ZuKGkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoX3RoaXMucmVhZG9ubHkpIHJldHVybjtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBfdGhpcy5nZW5Ib3ZlckluZGV4KGUsIGkpO1xuXG4gICAgICAgIGlmIChfdGhpcy5jbGVhcmFibGUgJiYgX3RoaXMuaW50ZXJuYWxWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICBfdGhpcy5pbnRlcm5hbFZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5pbnRlcm5hbFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVQcm9wczogZnVuY3Rpb24gY3JlYXRlUHJvcHMoaSkge1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxWYWx1ZSxcbiAgICAgICAgY2xpY2s6IHRoaXMuY3JlYXRlQ2xpY2tGbihpKSxcbiAgICAgICAgaXNGaWxsZWQ6IE1hdGguZmxvb3IodGhpcy5pbnRlcm5hbFZhbHVlKSA+IGksXG4gICAgICAgIGlzSG92ZXJlZDogTWF0aC5mbG9vcih0aGlzLmhvdmVySW5kZXgpID4gaVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuaGFsZkluY3JlbWVudHMpIHtcbiAgICAgICAgcHJvcHMuaXNIYWxmSG92ZXJlZCA9ICFwcm9wcy5pc0hvdmVyZWQgJiYgKHRoaXMuaG92ZXJJbmRleCAtIGkpICUgMSA+IDA7XG4gICAgICAgIHByb3BzLmlzSGFsZkZpbGxlZCA9ICFwcm9wcy5pc0ZpbGxlZCAmJiAodGhpcy5pbnRlcm5hbFZhbHVlIC0gaSkgJSAxID4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0sXG4gICAgZ2VuSG92ZXJJbmRleDogZnVuY3Rpb24gZ2VuSG92ZXJJbmRleChlLCBpKSB7XG4gICAgICB2YXIgaXNIYWxmID0gdGhpcy5pc0hhbGZFdmVudChlKTtcbiAgICAgIGlmICh0aGlzLiR2dWV0aWZ5LnJ0bCkgaXNIYWxmID0gIWlzSGFsZjtcbiAgICAgIHJldHVybiBpICsgKGlzSGFsZiA/IDAuNSA6IDEpO1xuICAgIH0sXG4gICAgZ2V0SWNvbk5hbWU6IGZ1bmN0aW9uIGdldEljb25OYW1lKHByb3BzKSB7XG4gICAgICB2YXIgaXNGdWxsID0gdGhpcy5pc0hvdmVyaW5nID8gcHJvcHMuaXNIb3ZlcmVkIDogcHJvcHMuaXNGaWxsZWQ7XG4gICAgICB2YXIgaXNIYWxmID0gdGhpcy5pc0hvdmVyaW5nID8gcHJvcHMuaXNIYWxmSG92ZXJlZCA6IHByb3BzLmlzSGFsZkZpbGxlZDtcbiAgICAgIHJldHVybiBpc0Z1bGwgPyB0aGlzLmZ1bGxJY29uIDogaXNIYWxmID8gdGhpcy5oYWxmSWNvbiA6IHRoaXMuZW1wdHlJY29uO1xuICAgIH0sXG4gICAgZ2V0Q29sb3I6IGZ1bmN0aW9uIGdldENvbG9yKHByb3BzKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdmVyaW5nKSB7XG4gICAgICAgIGlmIChwcm9wcy5pc0hvdmVyZWQgfHwgcHJvcHMuaXNIYWxmSG92ZXJlZCkgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJvcHMuaXNGaWxsZWQgfHwgcHJvcHMuaXNIYWxmRmlsbGVkKSByZXR1cm4gdGhpcy5jb2xvcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgIH0sXG4gICAgaXNIYWxmRXZlbnQ6IGZ1bmN0aW9uIGlzSGFsZkV2ZW50KGUpIHtcbiAgICAgIGlmICh0aGlzLmhhbGZJbmNyZW1lbnRzKSB7XG4gICAgICAgIHZhciByZWN0ID0gZS50YXJnZXQgJiYgZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChyZWN0ICYmIGUucGFnZVggLSByZWN0LmxlZnQgPCByZWN0LndpZHRoIC8gMikgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKGUsIGkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucnVuRGVsYXkoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmhvdmVySW5kZXggPSBfdGhpcy5nZW5Ib3ZlckluZGV4KGUsIGkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucnVuRGVsYXkoJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaG92ZXJJbmRleCA9IC0xO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5JdGVtOiBmdW5jdGlvbiBnZW5JdGVtKGkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9wcyA9IHRoaXMuY3JlYXRlUHJvcHMoaSk7XG4gICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuaXRlbSkgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0ocHJvcHMpO1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHtcbiAgICAgICAgY2xpY2s6IHByb3BzLmNsaWNrXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5ob3Zlcikge1xuICAgICAgICBsaXN0ZW5lcnMubW91c2VlbnRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm9uTW91c2VFbnRlcihlLCBpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW5lcnMubW91c2VsZWF2ZSA9IHRoaXMub25Nb3VzZUxlYXZlO1xuXG4gICAgICAgIGlmICh0aGlzLmhhbGZJbmNyZW1lbnRzKSB7XG4gICAgICAgICAgbGlzdGVuZXJzLm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub25Nb3VzZUVudGVyKGUsIGkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB0aGlzLnNldFRleHRDb2xvcih0aGlzLmdldENvbG9yKHByb3BzKSwge1xuICAgICAgICBkaXJlY3RpdmVzOiB0aGlzLmRpcmVjdGl2ZXMsXG4gICAgICAgIHByb3BzOiB0aGlzLmljb25Qcm9wcyxcbiAgICAgICAgb246IGxpc3RlbmVyc1xuICAgICAgfSksIFt0aGlzLmdldEljb25OYW1lKHByb3BzKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiY3JlYXRlUmFuZ2VcIl0pKE51bWJlcih0aGlzLmxlbmd0aCkpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIF90aGlzLmdlbkl0ZW0oaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1yYXRpbmcnLFxuICAgICAgY2xhc3M6IHtcbiAgICAgICAgJ3YtcmF0aW5nLS1yZWFkb25seSc6IHRoaXMucmVhZG9ubHksXG4gICAgICAgICd2LXJhdGluZy0tZGVuc2UnOiB0aGlzLmRlbnNlXG4gICAgICB9XG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJhdGluZy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmF0aW5nL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWUmF0aW5nLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmF0aW5nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZSYXRpbmcgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSYXRpbmcvVlJhdGluZy50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZSYXRpbmdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlJhdGluZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WUmF0aW5nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WUmVzcG9uc2l2ZS9WUmVzcG9uc2l2ZS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSZXNwb25zaXZlL1ZSZXNwb25zaXZlLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZSZXNwb25zaXZlL1ZSZXNwb25zaXZlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WUmVzcG9uc2l2ZS9WUmVzcG9uc2l2ZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSZXNwb25zaXZlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlJlc3BvbnNpdmUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJlc3BvbnNpdmUvVlJlc3BvbnNpdmUuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJlc3BvbnNpdmVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WUmVzcG9uc2l2ZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfbWVhc3VyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL21lYXN1cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvbWVhc3VyYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4gLy8gTWl4aW5zXG5cbiAvLyBVdGlsc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX21peGluc19tZWFzdXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1yZXNwb25zaXZlJyxcbiAgcHJvcHM6IHtcbiAgICBhc3BlY3RSYXRpbzogW1N0cmluZywgTnVtYmVyXVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkQXNwZWN0UmF0aW86IGZ1bmN0aW9uIGNvbXB1dGVkQXNwZWN0UmF0aW8oKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMuYXNwZWN0UmF0aW8pO1xuICAgIH0sXG4gICAgYXNwZWN0U3R5bGU6IGZ1bmN0aW9uIGFzcGVjdFN0eWxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZWRBc3BlY3RSYXRpbyA/IHtcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMSAvIHRoaXMuY29tcHV0ZWRBc3BlY3RSYXRpbyAqIDEwMCArICclJ1xuICAgICAgfSA6IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIF9fY2FjaGVkU2l6ZXI6IGZ1bmN0aW9uIF9fY2FjaGVkU2l6ZXIoKSB7XG4gICAgICBpZiAoIXRoaXMuYXNwZWN0U3R5bGUpIHJldHVybiBbXTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0eWxlOiB0aGlzLmFzcGVjdFN0eWxlLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3YtcmVzcG9uc2l2ZV9fc2l6ZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXJlc3BvbnNpdmVfX2NvbnRlbnQnXG4gICAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXJlc3BvbnNpdmUnLFxuICAgICAgc3R5bGU6IHRoaXMubWVhc3VyYWJsZVN0eWxlcyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnNcbiAgICB9LCBbdGhpcy5fX2NhY2hlZFNpemVyLCB0aGlzLmdlbkNvbnRlbnQoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlJlc3BvbnNpdmUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZSZXNwb25zaXZlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlJlc3BvbnNpdmUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSZXNwb25zaXZlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZSZXNwb25zaXZlICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmVzcG9uc2l2ZS9WUmVzcG9uc2l2ZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZSZXNwb25zaXZlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZSZXNwb25zaXZlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZSZXNwb25zaXZlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3Quc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9WU2VsZWN0LnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3QudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3QudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdE1lbnVQcm9wcywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0TWVudVByb3BzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVmYXVsdE1lbnVQcm9wczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WVGV4dEZpZWxkL1ZUZXh0RmllbGQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9WVGV4dEZpZWxkLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2VsZWN0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNlbGVjdC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3Quc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNlbGVjdF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTZWxlY3Rfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNoaXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZDaGlwICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk1lbnVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZNZW51ICovIFwiLi9zcmMvY29tcG9uZW50cy9WTWVudS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNlbGVjdExpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNlbGVjdExpc3QgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTZWxlY3QvVlNlbGVjdExpc3QudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlRleHRGaWVsZC9WVGV4dEZpZWxkICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb21wYXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29tcGFyYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb21wYXJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZmlsdGVyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2ZpbHRlcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvZmlsdGVyYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19jbGlja19vdXRzaWRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3ZhbHVlcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX192YWx1ZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLFxuICAgICAgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICByZXR1cm4ge1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG8gJiYgb1tpKytdLFxuICAgICAgICBkb25lOiAhb1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59OyAvLyBTdHlsZXNcblxuXG5cbiAvLyBDb21wb25lbnRzXG5cblxuXG4gLy8gRXh0ZW5zaW9uc1xuXG4gLy8gTWl4aW5zXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFV0aWxpdGllc1xuXG5cbiAvLyBUeXBlc1xuXG5cbnZhciBkZWZhdWx0TWVudVByb3BzID0ge1xuICBjbG9zZU9uQ2xpY2s6IGZhbHNlLFxuICBjbG9zZU9uQ29udGVudENsaWNrOiBmYWxzZSxcbiAgZGlzYWJsZUtleXM6IHRydWUsXG4gIG9wZW5PbkNsaWNrOiBmYWxzZSxcbiAgbWF4SGVpZ2h0OiAzMDRcbn07XG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJkZWZhdWx0XCJdKShfVlRleHRGaWVsZF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2NvbXBhcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfZmlsdGVyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSk7XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc2VsZWN0JyxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrT3V0c2lkZTogX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGFwcGVuZEljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZHJvcGRvd24nXG4gICAgfSxcbiAgICBhdHRhY2g6IHtcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBjYWNoZUl0ZW1zOiBCb29sZWFuLFxuICAgIGNoaXBzOiBCb29sZWFuLFxuICAgIGNsZWFyYWJsZTogQm9vbGVhbixcbiAgICBkZWxldGFibGVDaGlwczogQm9vbGVhbixcbiAgICBlYWdlcjogQm9vbGVhbixcbiAgICBoaWRlU2VsZWN0ZWQ6IEJvb2xlYW4sXG4gICAgaXRlbXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGl0ZW1Db2xvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3ByaW1hcnknXG4gICAgfSxcbiAgICBpdGVtRGlzYWJsZWQ6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5LCBGdW5jdGlvbl0sXG4gICAgICBkZWZhdWx0OiAnZGlzYWJsZWQnXG4gICAgfSxcbiAgICBpdGVtVGV4dDoge1xuICAgICAgdHlwZTogW1N0cmluZywgQXJyYXksIEZ1bmN0aW9uXSxcbiAgICAgIGRlZmF1bHQ6ICd0ZXh0J1xuICAgIH0sXG4gICAgaXRlbVZhbHVlOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheSwgRnVuY3Rpb25dLFxuICAgICAgZGVmYXVsdDogJ3ZhbHVlJ1xuICAgIH0sXG4gICAgbWVudVByb3BzOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdE1lbnVQcm9wcztcbiAgICAgIH1cbiAgICB9LFxuICAgIG11bHRpcGxlOiBCb29sZWFuLFxuICAgIG9wZW5PbkNsZWFyOiBCb29sZWFuLFxuICAgIHJldHVybk9iamVjdDogQm9vbGVhbixcbiAgICBzbWFsbENoaXBzOiBCb29sZWFuXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhY2hlZEl0ZW1zOiB0aGlzLmNhY2hlSXRlbXMgPyB0aGlzLml0ZW1zIDogW10sXG4gICAgICBjb250ZW50OiBudWxsLFxuICAgICAgaXNCb290ZWQ6IGZhbHNlLFxuICAgICAgaXNNZW51QWN0aXZlOiBmYWxzZSxcbiAgICAgIGxhc3RJdGVtOiAyMCxcbiAgICAgIC8vIEFzIGxvbmcgYXMgYSB2YWx1ZSBpcyBkZWZpbmVkLCBzaG93IGl0XG4gICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIG11bHRpcGxlXG4gICAgICAvLyB0byBkZXRlcm1pbmUgd2hpY2ggZGVmYXVsdCB0byBwcm92aWRlXG4gICAgICBsYXp5VmFsdWU6IHRoaXMudmFsdWUgIT09IHVuZGVmaW5lZCA/IHRoaXMudmFsdWUgOiB0aGlzLm11bHRpcGxlID8gW10gOiB1bmRlZmluZWQsXG4gICAgICBzZWxlY3RlZEluZGV4OiAtMSxcbiAgICAgIHNlbGVjdGVkSXRlbXM6IFtdLFxuICAgICAga2V5Ym9hcmRMb29rdXBQcmVmaXg6ICcnLFxuICAgICAga2V5Ym9hcmRMb29rdXBMYXN0VGltZTogMFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgLyogQWxsIGl0ZW1zIHRoYXQgdGhlIHNlbGVjdCBoYXMgKi9cbiAgICBhbGxJdGVtczogZnVuY3Rpb24gYWxsSXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXJEdXBsaWNhdGVzKHRoaXMuY2FjaGVkSXRlbXMuY29uY2F0KHRoaXMuaXRlbXMpKTtcbiAgICB9LFxuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WVGV4dEZpZWxkX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3Ytc2VsZWN0JzogdHJ1ZSxcbiAgICAgICAgJ3Ytc2VsZWN0LS1jaGlwcyc6IHRoaXMuaGFzQ2hpcHMsXG4gICAgICAgICd2LXNlbGVjdC0tY2hpcHMtLXNtYWxsJzogdGhpcy5zbWFsbENoaXBzLFxuICAgICAgICAndi1zZWxlY3QtLWlzLW1lbnUtYWN0aXZlJzogdGhpcy5pc01lbnVBY3RpdmUsXG4gICAgICAgICd2LXNlbGVjdC0taXMtbXVsdGknOiB0aGlzLm11bHRpcGxlXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyogVXNlZCBieSBvdGhlciBjb21wb25lbnRzIHRvIG92ZXJ3cml0ZSAqL1xuICAgIGNvbXB1dGVkSXRlbXM6IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxJdGVtcztcbiAgICB9LFxuICAgIGNvbXB1dGVkT3duczogZnVuY3Rpb24gY29tcHV0ZWRPd25zKCkge1xuICAgICAgcmV0dXJuIFwibGlzdC1cIiArIHRoaXMuX3VpZDtcbiAgICB9LFxuICAgIGNvdW50ZXJWYWx1ZTogZnVuY3Rpb24gY291bnRlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPyB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIDogKHRoaXMuZ2V0VGV4dCh0aGlzLnNlbGVjdGVkSXRlbXNbMF0pIHx8ICcnKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB9LFxuICAgIGRpcmVjdGl2ZXM6IGZ1bmN0aW9uIGRpcmVjdGl2ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0ZvY3VzZWQgPyBbe1xuICAgICAgICBuYW1lOiAnY2xpY2stb3V0c2lkZScsXG4gICAgICAgIHZhbHVlOiB0aGlzLmJsdXIsXG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBjbG9zZUNvbmRpdGlvbmFsOiB0aGlzLmNsb3NlQ29uZGl0aW9uYWxcbiAgICAgICAgfVxuICAgICAgfV0gOiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBkeW5hbWljSGVpZ2h0OiBmdW5jdGlvbiBkeW5hbWljSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuICdhdXRvJztcbiAgICB9LFxuICAgIGhhc0NoaXBzOiBmdW5jdGlvbiBoYXNDaGlwcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaXBzIHx8IHRoaXMuc21hbGxDaGlwcztcbiAgICB9LFxuICAgIGhhc1Nsb3Q6IGZ1bmN0aW9uIGhhc1Nsb3QoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmhhc0NoaXBzIHx8IHRoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGlvbik7XG4gICAgfSxcbiAgICBpc0RpcnR5OiBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAwO1xuICAgIH0sXG4gICAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgc2NvcGVJZCA9IHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLmNvbnRleHQuJG9wdGlvbnMuX3Njb3BlSWQ7XG4gICAgICB2YXIgYXR0cnMgPSBzY29wZUlkID8gKF9hID0ge30sIF9hW3Njb3BlSWRdID0gdHJ1ZSwgX2EpIDoge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdHRyczogX19hc3NpZ24oe30sIGF0dHJzLCB7XG4gICAgICAgICAgaWQ6IHRoaXMuY29tcHV0ZWRPd25zXG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGFjdGlvbjogdGhpcy5tdWx0aXBsZSxcbiAgICAgICAgICBjb2xvcjogdGhpcy5pdGVtQ29sb3IsXG4gICAgICAgICAgZGVuc2U6IHRoaXMuZGVuc2UsXG4gICAgICAgICAgaGlkZVNlbGVjdGVkOiB0aGlzLmhpZGVTZWxlY3RlZCxcbiAgICAgICAgICBpdGVtczogdGhpcy52aXJ0dWFsaXplZEl0ZW1zLFxuICAgICAgICAgIGl0ZW1EaXNhYmxlZDogdGhpcy5pdGVtRGlzYWJsZWQsXG4gICAgICAgICAgaXRlbVRleHQ6IHRoaXMuaXRlbVRleHQsXG4gICAgICAgICAgaXRlbVZhbHVlOiB0aGlzLml0ZW1WYWx1ZSxcbiAgICAgICAgICBub0RhdGFUZXh0OiB0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLm5vRGF0YVRleHQpLFxuICAgICAgICAgIHNlbGVjdGVkSXRlbXM6IHRoaXMuc2VsZWN0ZWRJdGVtc1xuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHNlbGVjdDogdGhpcy5zZWxlY3RJdGVtXG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlZFNsb3RzOiB7XG4gICAgICAgICAgaXRlbTogdGhpcy4kc2NvcGVkU2xvdHMuaXRlbVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgc3RhdGljTGlzdDogZnVuY3Rpb24gc3RhdGljTGlzdCgpIHtcbiAgICAgIGlmICh0aGlzLiRzbG90c1snbm8tZGF0YSddIHx8IHRoaXMuJHNsb3RzWydwcmVwZW5kLWl0ZW0nXSB8fCB0aGlzLiRzbG90c1snYXBwZW5kLWl0ZW0nXSkge1xuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImNvbnNvbGVFcnJvclwiXSkoJ2Fzc2VydDogc3RhdGljTGlzdCBzaG91bGQgbm90IGJlIGNhbGxlZCBpZiBzbG90cyBhcmUgdXNlZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVlNlbGVjdExpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHRoaXMubGlzdERhdGEpO1xuICAgIH0sXG4gICAgdmlydHVhbGl6ZWRJdGVtczogZnVuY3Rpb24gdmlydHVhbGl6ZWRJdGVtcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRfbWVudVByb3BzLmF1dG8gPyB0aGlzLmNvbXB1dGVkSXRlbXMgOiB0aGlzLmNvbXB1dGVkSXRlbXMuc2xpY2UoMCwgdGhpcy5sYXN0SXRlbSk7XG4gICAgfSxcbiAgICBtZW51Q2FuU2hvdzogZnVuY3Rpb24gbWVudUNhblNob3coKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgICRfbWVudVByb3BzOiBmdW5jdGlvbiAkX21lbnVQcm9wcygpIHtcbiAgICAgIHZhciBub3JtYWxpc2VkUHJvcHMgPSB0eXBlb2YgdGhpcy5tZW51UHJvcHMgPT09ICdzdHJpbmcnID8gdGhpcy5tZW51UHJvcHMuc3BsaXQoJywnKSA6IHRoaXMubWVudVByb3BzO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub3JtYWxpc2VkUHJvcHMpKSB7XG4gICAgICAgIG5vcm1hbGlzZWRQcm9wcyA9IG5vcm1hbGlzZWRQcm9wcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcCkge1xuICAgICAgICAgIGFjY1twLnRyaW0oKV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBkZWZhdWx0TWVudVByb3BzLCB7XG4gICAgICAgIGVhZ2VyOiB0aGlzLmVhZ2VyLFxuICAgICAgICB2YWx1ZTogdGhpcy5tZW51Q2FuU2hvdyAmJiB0aGlzLmlzTWVudUFjdGl2ZSxcbiAgICAgICAgbnVkZ2VCb3R0b206IG5vcm1hbGlzZWRQcm9wcy5vZmZzZXRZID8gMSA6IDBcbiAgICAgIH0sIG5vcm1hbGlzZWRQcm9wcyk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGludGVybmFsVmFsdWU6IGZ1bmN0aW9uIGludGVybmFsVmFsdWUodmFsKSB7XG4gICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IHZhbDtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtcygpO1xuICAgIH0sXG4gICAgaXNCb290ZWQ6IGZ1bmN0aW9uIGlzQm9vdGVkKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMuY29udGVudCAmJiBfdGhpcy5jb250ZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICBfdGhpcy5jb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzLm9uU2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaXNNZW51QWN0aXZlOiBmdW5jdGlvbiBpc01lbnVBY3RpdmUodmFsKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5vbk1lbnVBY3RpdmVDaGFuZ2UodmFsKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWwpIHJldHVybjtcbiAgICAgIHRoaXMuaXNCb290ZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgaXRlbXM6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJdGVtcykge1xuICAgICAgICAgIC8vIEJyZWFrcyB2dWUtdGVzdC11dGlscyBpZlxuICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgY2FsY3VsYXRlZFxuICAgICAgICAgIC8vIG9uIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jYWNoZWRJdGVtcyA9IF90aGlzLmZpbHRlckR1cGxpY2F0ZXMoX3RoaXMuY2FjaGVkSXRlbXMuY29uY2F0KHZhbCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW1zKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMuY29udGVudCA9IHRoaXMuJHJlZnMubWVudSAmJiB0aGlzLiRyZWZzLm1lbnUuJHJlZnMuY29udGVudDtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgYmx1cjogZnVuY3Rpb24gYmx1cihlKSB7XG4gICAgICBfVlRleHRGaWVsZF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5ibHVyLmNhbGwodGhpcywgZSk7XG4gICAgICB0aGlzLmlzTWVudUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIH0sXG5cbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGFjdGl2YXRlTWVudTogZnVuY3Rpb24gYWN0aXZhdGVNZW51KCkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkb25seSB8fCB0aGlzLmlzTWVudUFjdGl2ZSkgcmV0dXJuO1xuICAgICAgdGhpcy5pc01lbnVBY3RpdmUgPSB0cnVlO1xuICAgIH0sXG4gICAgY2xlYXJhYmxlQ2FsbGJhY2s6IGZ1bmN0aW9uIGNsZWFyYWJsZUNhbGxiYWNrKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLm11bHRpcGxlID8gW10gOiB1bmRlZmluZWQpO1xuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuJHJlZnMuaW5wdXQgJiYgX3RoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMub3Blbk9uQ2xlYXIpIHRoaXMuaXNNZW51QWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuICAgIGNsb3NlQ29uZGl0aW9uYWw6IGZ1bmN0aW9uIGNsb3NlQ29uZGl0aW9uYWwoZSkge1xuICAgICAgcmV0dXJuICF0aGlzLl9pc0Rlc3Ryb3llZCAmJiAvLyBDbGljayBvcmlnaW5hdGVzIGZyb20gb3V0c2lkZSB0aGUgbWVudSBjb250ZW50XG4gICAgICB0aGlzLmNvbnRlbnQgJiYgIXRoaXMuY29udGVudC5jb250YWlucyhlLnRhcmdldCkgJiYgLy8gQ2xpY2sgb3JpZ2luYXRlcyBmcm9tIG91dHNpZGUgdGhlIGVsZW1lbnRcbiAgICAgIHRoaXMuJGVsICYmICF0aGlzLiRlbC5jb250YWlucyhlLnRhcmdldCkgJiYgZS50YXJnZXQgIT09IHRoaXMuJGVsO1xuICAgIH0sXG4gICAgZmlsdGVyRHVwbGljYXRlczogZnVuY3Rpb24gZmlsdGVyRHVwbGljYXRlcyhhcnIpIHtcbiAgICAgIHZhciB1bmlxdWVWYWx1ZXMgPSBuZXcgTWFwKCk7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhcnIubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyW2luZGV4XTtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0VmFsdWUoaXRlbSk7IC8vIFRPRE86IGNvbXBhcmF0b3JcblxuICAgICAgICAhdW5pcXVlVmFsdWVzLmhhcyh2YWwpICYmIHVuaXF1ZVZhbHVlcy5zZXQodmFsLCBpdGVtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEFycmF5LmZyb20odW5pcXVlVmFsdWVzLnZhbHVlcygpKTtcbiAgICB9LFxuICAgIGZpbmRFeGlzdGluZ0luZGV4OiBmdW5jdGlvbiBmaW5kRXhpc3RpbmdJbmRleChpdGVtKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaXRlbVZhbHVlID0gdGhpcy5nZXRWYWx1ZShpdGVtKTtcbiAgICAgIHJldHVybiAodGhpcy5pbnRlcm5hbFZhbHVlIHx8IFtdKS5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlQ29tcGFyYXRvcihfdGhpcy5nZXRWYWx1ZShpKSwgaXRlbVZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuQ2hpcFNlbGVjdGlvbjogZnVuY3Rpb24gZ2VuQ2hpcFNlbGVjdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGlzRGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVhZG9ubHkgfHwgdGhpcy5nZXREaXNhYmxlZChpdGVtKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WQ2hpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtY2hpcC0tc2VsZWN0JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0YWJpbmRleDogLTFcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjbG9zZTogdGhpcy5kZWxldGFibGVDaGlwcyAmJiAhaXNEaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgICBpbnB1dFZhbHVlOiBpbmRleCA9PT0gdGhpcy5zZWxlY3RlZEluZGV4LFxuICAgICAgICAgIHNtYWxsOiB0aGlzLnNtYWxsQ2hpcHNcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAnY2xpY2s6Y2xvc2UnOiBmdW5jdGlvbiBjbGlja0Nsb3NlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uQ2hpcElucHV0KGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAga2V5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFZhbHVlKGl0ZW0pKVxuICAgICAgfSwgdGhpcy5nZXRUZXh0KGl0ZW0pKTtcbiAgICB9LFxuICAgIGdlbkNvbW1hU2VsZWN0aW9uOiBmdW5jdGlvbiBnZW5Db21tYVNlbGVjdGlvbihpdGVtLCBpbmRleCwgbGFzdCkge1xuICAgICAgdmFyIGNvbG9yID0gaW5kZXggPT09IHRoaXMuc2VsZWN0ZWRJbmRleCAmJiB0aGlzLmNvbXB1dGVkQ29sb3I7XG4gICAgICB2YXIgaXNEaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5nZXREaXNhYmxlZChpdGVtKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldFRleHRDb2xvcihjb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2VsZWN0X19zZWxlY3Rpb24gdi1zZWxlY3RfX3NlbGVjdGlvbi0tY29tbWEnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXNlbGVjdF9fc2VsZWN0aW9uLS1kaXNhYmxlZCc6IGlzRGlzYWJsZWRcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFZhbHVlKGl0ZW0pKVxuICAgICAgfSksIFwiXCIgKyB0aGlzLmdldFRleHQoaXRlbSkgKyAobGFzdCA/ICcnIDogJywgJykpO1xuICAgIH0sXG4gICAgZ2VuRGVmYXVsdFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTbG90KCkge1xuICAgICAgdmFyIHNlbGVjdGlvbnMgPSB0aGlzLmdlblNlbGVjdGlvbnMoKTtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMuZ2VuSW5wdXQoKTsgLy8gSWYgdGhlIHJldHVybiBpcyBhbiBlbXB0eSBhcnJheVxuICAgICAgLy8gcHVzaCB0aGUgaW5wdXRcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0aW9ucykpIHtcbiAgICAgICAgc2VsZWN0aW9ucy5wdXNoKGlucHV0KTsgLy8gT3RoZXJ3aXNlIHB1c2ggaXQgaW50byBjaGlsZHJlblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0aW9ucy5jaGlsZHJlbiA9IHNlbGVjdGlvbnMuY2hpbGRyZW4gfHwgW107XG4gICAgICAgIHNlbGVjdGlvbnMuY2hpbGRyZW4ucHVzaChpbnB1dCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbdGhpcy5nZW5GaWVsZHNldCgpLCB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zZWxlY3RfX3Nsb3QnLFxuICAgICAgICBkaXJlY3RpdmVzOiB0aGlzLmRpcmVjdGl2ZXNcbiAgICAgIH0sIFt0aGlzLmdlbkxhYmVsKCksIHRoaXMucHJlZml4ID8gdGhpcy5nZW5BZmZpeCgncHJlZml4JykgOiBudWxsLCBzZWxlY3Rpb25zLCB0aGlzLnN1ZmZpeCA/IHRoaXMuZ2VuQWZmaXgoJ3N1ZmZpeCcpIDogbnVsbCwgdGhpcy5nZW5DbGVhckljb24oKSwgdGhpcy5nZW5JY29uU2xvdCgpXSksIHRoaXMuZ2VuTWVudSgpLCB0aGlzLmdlblByb2dyZXNzKCldO1xuICAgIH0sXG4gICAgZ2VuSW5wdXQ6IGZ1bmN0aW9uIGdlbklucHV0KCkge1xuICAgICAgdmFyIGlucHV0ID0gX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbCh0aGlzKTtcbiAgICAgIGlucHV0LmRhdGEuZG9tUHJvcHMudmFsdWUgPSBudWxsO1xuICAgICAgaW5wdXQuZGF0YS5hdHRycy5yZWFkb25seSA9IHRydWU7XG4gICAgICBpbnB1dC5kYXRhLmF0dHJzLnR5cGUgPSAndGV4dCc7XG4gICAgICBpbnB1dC5kYXRhLmF0dHJzWydhcmlhLXJlYWRvbmx5J10gPSB0cnVlO1xuICAgICAgaW5wdXQuZGF0YS5vbi5rZXlwcmVzcyA9IHRoaXMub25LZXlQcmVzcztcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9LFxuICAgIGdlbklucHV0U2xvdDogZnVuY3Rpb24gZ2VuSW5wdXRTbG90KCkge1xuICAgICAgdmFyIHJlbmRlciA9IF9WVGV4dEZpZWxkX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbklucHV0U2xvdC5jYWxsKHRoaXMpO1xuICAgICAgcmVuZGVyLmRhdGEuYXR0cnMgPSBfX2Fzc2lnbih7fSwgcmVuZGVyLmRhdGEuYXR0cnMsIHtcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ2xpc3Rib3gnLFxuICAgICAgICAnYXJpYS1leHBhbmRlZCc6IFN0cmluZyh0aGlzLmlzTWVudUFjdGl2ZSksXG4gICAgICAgICdhcmlhLW93bnMnOiB0aGlzLmNvbXB1dGVkT3duc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0sXG4gICAgZ2VuTGlzdDogZnVuY3Rpb24gZ2VuTGlzdCgpIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gc2xvdHMsIHdlIGNhbiB1c2UgYSBjYWNoZWQgVk5vZGUgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxuICAgICAgaWYgKHRoaXMuJHNsb3RzWyduby1kYXRhJ10gfHwgdGhpcy4kc2xvdHNbJ3ByZXBlbmQtaXRlbSddIHx8IHRoaXMuJHNsb3RzWydhcHBlbmQtaXRlbSddKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlbkxpc3RXaXRoU2xvdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGljTGlzdDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdlbkxpc3RXaXRoU2xvdDogZnVuY3Rpb24gZ2VuTGlzdFdpdGhTbG90KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHNsb3RzID0gWydwcmVwZW5kLWl0ZW0nLCAnbm8tZGF0YScsICdhcHBlbmQtaXRlbSddLmZpbHRlcihmdW5jdGlvbiAoc2xvdE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRzbG90c1tzbG90TmFtZV07XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHNsb3ROYW1lKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7XG4gICAgICAgICAgc2xvdDogc2xvdE5hbWVcbiAgICAgICAgfSwgX3RoaXMuJHNsb3RzW3Nsb3ROYW1lXSk7XG4gICAgICB9KTsgLy8gUmVxdWlyZXMgZGVzdHJ1Y3R1cmluZyBkdWUgdG8gVnVlXG4gICAgICAvLyBtb2RpZnlpbmcgdGhlIGBvbmAgcHJvcGVydHkgd2hlbiBwYXNzZWRcbiAgICAgIC8vIGFzIGEgcmVmZXJlbmNlZCBvYmplY3RcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZTZWxlY3RMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCBfX2Fzc2lnbih7fSwgdGhpcy5saXN0RGF0YSksIHNsb3RzKTtcbiAgICB9LFxuICAgIGdlbk1lbnU6IGZ1bmN0aW9uIGdlbk1lbnUoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLiRfbWVudVByb3BzO1xuICAgICAgcHJvcHMuYWN0aXZhdG9yID0gdGhpcy4kcmVmc1snaW5wdXQtc2xvdCddOyAvLyBBdHRhY2ggdG8gcm9vdCBlbCBzbyB0aGF0XG4gICAgICAvLyBtZW51IGNvdmVycyBwcmVwZW5kL2FwcGVuZCBpY29uc1xuXG4gICAgICBpZiAoIC8vIFRPRE86IG1ha2UgdGhpcyBhIGNvbXB1dGVkIHByb3BlcnR5IG9yIGhlbHBlciBvciBzb21ldGhpbmdcbiAgICAgIHRoaXMuYXR0YWNoID09PSAnJyB8fCAvLyBJZiB1c2VkIGFzIGEgYm9vbGVhbiBwcm9wICg8di1tZW51IGF0dGFjaD4pXG4gICAgICB0aGlzLmF0dGFjaCA9PT0gdHJ1ZSB8fCAvLyBJZiBib3VuZCB0byBhIGJvb2xlYW4gKDx2LW1lbnUgOmF0dGFjaD1cInRydWVcIj4pXG4gICAgICB0aGlzLmF0dGFjaCA9PT0gJ2F0dGFjaCcgLy8gSWYgYm91bmQgYXMgYm9vbGVhbiBwcm9wIGluIHB1ZyAodi1tZW51KGF0dGFjaCkpXG4gICAgICApIHtcbiAgICAgICAgICBwcm9wcy5hdHRhY2ggPSB0aGlzLiRlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcHMuYXR0YWNoID0gdGhpcy5hdHRhY2g7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WTWVudV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHJvbGU6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KHZhbCkge1xuICAgICAgICAgICAgX3RoaXMuaXNNZW51QWN0aXZlID0gdmFsO1xuICAgICAgICAgICAgX3RoaXMuaXNGb2N1c2VkID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiAnbWVudSdcbiAgICAgIH0sIFt0aGlzLmdlbkxpc3QoKV0pO1xuICAgIH0sXG4gICAgZ2VuU2VsZWN0aW9uczogZnVuY3Rpb24gZ2VuU2VsZWN0aW9ucygpIHtcbiAgICAgIHZhciBsZW5ndGggPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoO1xuICAgICAgdmFyIGNoaWxkcmVuID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICB2YXIgZ2VuU2VsZWN0aW9uO1xuXG4gICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuc2VsZWN0aW9uKSB7XG4gICAgICAgIGdlblNlbGVjdGlvbiA9IHRoaXMuZ2VuU2xvdFNlbGVjdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNDaGlwcykge1xuICAgICAgICBnZW5TZWxlY3Rpb24gPSB0aGlzLmdlbkNoaXBTZWxlY3Rpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW5TZWxlY3Rpb24gPSB0aGlzLmdlbkNvbW1hU2VsZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgY2hpbGRyZW5bbGVuZ3RoXSA9IGdlblNlbGVjdGlvbih0aGlzLnNlbGVjdGVkSXRlbXNbbGVuZ3RoXSwgbGVuZ3RoLCBsZW5ndGggPT09IGNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2VsZWN0X19zZWxlY3Rpb25zJ1xuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuU2xvdFNlbGVjdGlvbjogZnVuY3Rpb24gZ2VuU2xvdFNlbGVjdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGlvbih7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3M6ICd2LWNoaXAtLXNlbGVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIF90aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWQ6IGluZGV4ID09PSB0aGlzLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVhZG9ubHlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TWVudUluZGV4OiBmdW5jdGlvbiBnZXRNZW51SW5kZXgoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kcmVmcy5tZW51ID8gdGhpcy4kcmVmcy5tZW51Lmxpc3RJbmRleCA6IC0xO1xuICAgIH0sXG4gICAgZ2V0RGlzYWJsZWQ6IGZ1bmN0aW9uIGdldERpc2FibGVkKGl0ZW0pIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZ2V0UHJvcGVydHlGcm9tSXRlbVwiXSkoaXRlbSwgdGhpcy5pdGVtRGlzYWJsZWQsIGZhbHNlKTtcbiAgICB9LFxuICAgIGdldFRleHQ6IGZ1bmN0aW9uIGdldFRleHQoaXRlbSkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJnZXRQcm9wZXJ0eUZyb21JdGVtXCJdKShpdGVtLCB0aGlzLml0ZW1UZXh0LCBpdGVtKTtcbiAgICB9LFxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShpdGVtKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImdldFByb3BlcnR5RnJvbUl0ZW1cIl0pKGl0ZW0sIHRoaXMuaXRlbVZhbHVlLCB0aGlzLmdldFRleHQoaXRlbSkpO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZSkge1xuICAgICAgZSAmJiB0aGlzLiRlbWl0KCdibHVyJywgZSk7XG4gICAgfSxcbiAgICBvbkNoaXBJbnB1dDogZnVuY3Rpb24gb25DaGlwSW5wdXQoaXRlbSkge1xuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHRoaXMuc2VsZWN0SXRlbShpdGVtKTtlbHNlIHRoaXMuc2V0VmFsdWUobnVsbCk7IC8vIElmIGFsbCBpdGVtcyBoYXZlIGJlZW4gZGVsZXRlZCxcbiAgICAgIC8vIG9wZW4gYHYtbWVudWBcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5pc01lbnVBY3RpdmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc01lbnVBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgfSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgaWYgKHRoaXMuaXNEaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5pc01lbnVBY3RpdmUgPSB0cnVlO1xuXG4gICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSB7XG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRXNjRG93bjogZnVuY3Rpb24gb25Fc2NEb3duKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKHRoaXMuaXNNZW51QWN0aXZlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuaXNNZW51QWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbktleVByZXNzOiBmdW5jdGlvbiBvbktleVByZXNzKGUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLm11bHRpcGxlIHx8IHRoaXMucmVhZG9ubHkpIHJldHVybjtcbiAgICAgIHZhciBLRVlCT0FSRF9MT09LVVBfVEhSRVNIT0xEID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXG5cbiAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgaWYgKG5vdyAtIHRoaXMua2V5Ym9hcmRMb29rdXBMYXN0VGltZSA+IEtFWUJPQVJEX0xPT0tVUF9USFJFU0hPTEQpIHtcbiAgICAgICAgdGhpcy5rZXlib2FyZExvb2t1cFByZWZpeCA9ICcnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmtleWJvYXJkTG9va3VwUHJlZml4ICs9IGUua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICB0aGlzLmtleWJvYXJkTG9va3VwTGFzdFRpbWUgPSBub3c7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmFsbEl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgdGV4dCA9IChfdGhpcy5nZXRUZXh0KGl0ZW0pIHx8ICcnKS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoX3RoaXMua2V5Ym9hcmRMb29rdXBQcmVmaXgpO1xuICAgICAgfSk7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuYWxsSXRlbXNbaW5kZXhdO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5yZXR1cm5PYmplY3QgPyBpdGVtIDogdGhpcy5nZXRWYWx1ZShpdGVtKSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRNZW51SW5kZXgoaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLm1lbnU7IC8vIElmIGVudGVyLCBzcGFjZSwgb3BlbiBtZW51XG5cbiAgICAgIGlmIChbX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wia2V5Q29kZXNcIl0uZW50ZXIsIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLnNwYWNlXS5pbmNsdWRlcyhrZXlDb2RlKSkgdGhpcy5hY3RpdmF0ZU1lbnUoKTtcbiAgICAgIGlmICghbWVudSkgcmV0dXJuOyAvLyBJZiBtZW51IGlzIGFjdGl2ZSwgYWxsb3cgZGVmYXVsdFxuICAgICAgLy8gbGlzdEluZGV4IGNoYW5nZSBmcm9tIG1lbnVcblxuICAgICAgaWYgKHRoaXMuaXNNZW51QWN0aXZlICYmIGtleUNvZGUgIT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLnRhYikge1xuICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWVudS5jaGFuZ2VMaXN0SW5kZXgoZSk7XG5cbiAgICAgICAgICBfdGhpcy4kZW1pdCgndXBkYXRlOmxpc3QtaW5kZXgnLCBtZW51Lmxpc3RJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBJZiBtZW51IGlzIG5vdCBhY3RpdmUsIHVwIGFuZCBkb3duIGNhbiBkb1xuICAgICAgLy8gb25lIG9mIDIgdGhpbmdzLiBJZiBtdWx0aXBsZSwgb3BlbnMgdGhlXG4gICAgICAvLyBtZW51LCBpZiBub3QsIHdpbGwgY3ljbGUgdGhyb3VnaCBhbGxcbiAgICAgIC8vIGF2YWlsYWJsZSBvcHRpb25zXG5cblxuICAgICAgaWYgKCF0aGlzLmlzTWVudUFjdGl2ZSAmJiBbX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wia2V5Q29kZXNcIl0udXAsIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLmRvd25dLmluY2x1ZGVzKGtleUNvZGUpKSByZXR1cm4gdGhpcy5vblVwRG93bihlKTsgLy8gSWYgZXNjYXBlIGRlYWN0aXZhdGUgdGhlIG1lbnVcblxuICAgICAgaWYgKGtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLmVzYykgcmV0dXJuIHRoaXMub25Fc2NEb3duKGUpOyAvLyBJZiB0YWIgLSBzZWxlY3QgaXRlbSBvciBjbG9zZSBtZW51XG5cbiAgICAgIGlmIChrZXlDb2RlID09PSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJrZXlDb2Rlc1wiXS50YWIpIHJldHVybiB0aGlzLm9uVGFiRG93bihlKTsgLy8gSWYgc3BhY2UgcHJldmVudERlZmF1bHRcblxuICAgICAgaWYgKGtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLnNwYWNlKSByZXR1cm4gdGhpcy5vblNwYWNlRG93bihlKTtcbiAgICB9LFxuICAgIG9uTWVudUFjdGl2ZUNoYW5nZTogZnVuY3Rpb24gb25NZW51QWN0aXZlQ2hhbmdlKHZhbCkge1xuICAgICAgLy8gSWYgbWVudSBpcyBjbG9zaW5nIGFuZCBtdWxpdHBsZVxuICAgICAgLy8gb3IgbWVudUluZGV4IGlzIGFscmVhZHkgc2V0XG4gICAgICAvLyBza2lwIG1lbnUgaW5kZXggcmVjYWxjdWxhdGlvblxuICAgICAgaWYgKHRoaXMubXVsdGlwbGUgJiYgIXZhbCB8fCB0aGlzLmdldE1lbnVJbmRleCgpID4gLTEpIHJldHVybjtcbiAgICAgIHZhciBtZW51ID0gdGhpcy4kcmVmcy5tZW51O1xuICAgICAgaWYgKCFtZW51IHx8ICF0aGlzLmlzRGlydHkpIHJldHVybjsgLy8gV2hlbiBtZW51IG9wZW5zLCBzZXQgaW5kZXggb2YgZmlyc3QgYWN0aXZlIGl0ZW1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZW51LnRpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChtZW51LnRpbGVzW2ldLmdldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICB0aGlzLnNldE1lbnVJbmRleChpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25Nb3VzZVVwOiBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuaGFzTW91c2VEb3duICYmIGUud2hpY2ggIT09IDMpIHtcbiAgICAgICAgdmFyIGFwcGVuZElubmVyID0gdGhpcy4kcmVmc1snYXBwZW5kLWlubmVyJ107IC8vIElmIGFwcGVuZCBpbm5lciBpcyBwcmVzZW50XG4gICAgICAgIC8vIGFuZCB0aGUgdGFyZ2V0IGlzIGl0c2VsZlxuICAgICAgICAvLyBvciBpbnNpZGUsIHRvZ2dsZSBtZW51XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNZW51QWN0aXZlICYmIGFwcGVuZElubmVyICYmIChhcHBlbmRJbm5lciA9PT0gZS50YXJnZXQgfHwgYXBwZW5kSW5uZXIuY29udGFpbnMoZS50YXJnZXQpKSkge1xuICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pc01lbnVBY3RpdmUgPSAhX3RoaXMuaXNNZW51QWN0aXZlO1xuICAgICAgICAgIH0pOyAvLyBJZiB1c2VyIGlzIGNsaWNraW5nIGluIHRoZSBjb250YWluZXJcbiAgICAgICAgICAvLyBhbmQgZmllbGQgaXMgZW5jbG9zZWQsIGFjdGl2YXRlIGl0XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0VuY2xvc2VkICYmICF0aGlzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmlzTWVudUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMub25Nb3VzZVVwLmNhbGwodGhpcywgZSk7XG4gICAgfSxcbiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaXNNZW51QWN0aXZlKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRlbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5sYXN0SXRlbSA+PSB0aGlzLmNvbXB1dGVkSXRlbXMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIHZhciBzaG93TW9yZUl0ZW1zID0gdGhpcy5jb250ZW50LnNjcm9sbEhlaWdodCAtICh0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wICsgdGhpcy5jb250ZW50LmNsaWVudEhlaWdodCkgPCAyMDA7XG5cbiAgICAgICAgaWYgKHNob3dNb3JlSXRlbXMpIHtcbiAgICAgICAgICB0aGlzLmxhc3RJdGVtICs9IDIwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvblNwYWNlRG93bjogZnVuY3Rpb24gb25TcGFjZURvd24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgb25UYWJEb3duOiBmdW5jdGlvbiBvblRhYkRvd24oZSkge1xuICAgICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLm1lbnU7XG4gICAgICBpZiAoIW1lbnUpIHJldHVybjtcbiAgICAgIHZhciBhY3RpdmVUaWxlID0gbWVudS5hY3RpdmVUaWxlOyAvLyBBbiBpdGVtIHRoYXQgaXMgc2VsZWN0ZWQgYnlcbiAgICAgIC8vIG1lbnUtaW5kZXggc2hvdWxkIHRvZ2dsZWRcblxuICAgICAgaWYgKCF0aGlzLm11bHRpcGxlICYmIGFjdGl2ZVRpbGUgJiYgdGhpcy5pc01lbnVBY3RpdmUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBhY3RpdmVUaWxlLmNsaWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB3ZSBtYWtlIGl0IGhlcmUsXG4gICAgICAgIC8vIHRoZSB1c2VyIGhhcyBubyBzZWxlY3RlZCBpbmRleGVzXG4gICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSB0YWJiaW5nIG91dFxuICAgICAgICB0aGlzLmJsdXIoZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblVwRG93bjogZnVuY3Rpb24gb25VcERvd24oZSkge1xuICAgICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLm1lbnU7XG4gICAgICBpZiAoIW1lbnUpIHJldHVybjtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gTXVsdGlwbGUgc2VsZWN0cyBkbyBub3QgY3ljbGUgdGhlaXIgdmFsdWVcbiAgICAgIC8vIHdoZW4gcHJlc3NpbmcgdXAgb3IgZG93biwgaW5zdGVhZCBhY3RpdmF0ZVxuICAgICAgLy8gdGhlIG1lbnVcblxuICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHJldHVybiB0aGlzLmFjdGl2YXRlTWVudSgpO1xuICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7IC8vIEN5Y2xlIHRocm91Z2ggYXZhaWxhYmxlIHZhbHVlcyB0byBhY2hpZXZlXG4gICAgICAvLyBzZWxlY3QgbmF0aXZlIGJlaGF2aW9yXG5cbiAgICAgIG1lbnUuZ2V0VGlsZXMoKTtcbiAgICAgIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImtleUNvZGVzXCJdLnVwID09PSBrZXlDb2RlID8gbWVudS5wcmV2VGlsZSgpIDogbWVudS5uZXh0VGlsZSgpO1xuICAgICAgbWVudS5hY3RpdmVUaWxlICYmIG1lbnUuYWN0aXZlVGlsZS5jbGljaygpO1xuICAgIH0sXG4gICAgc2VsZWN0SXRlbTogZnVuY3Rpb24gc2VsZWN0SXRlbShpdGVtKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLnJldHVybk9iamVjdCA/IGl0ZW0gOiB0aGlzLmdldFZhbHVlKGl0ZW0pKTtcbiAgICAgICAgdGhpcy5pc01lbnVBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbnRlcm5hbFZhbHVlID0gKHRoaXMuaW50ZXJuYWxWYWx1ZSB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmZpbmRFeGlzdGluZ0luZGV4KGl0ZW0pO1xuICAgICAgICBpICE9PSAtMSA/IGludGVybmFsVmFsdWUuc3BsaWNlKGksIDEpIDogaW50ZXJuYWxWYWx1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB0aGlzLnNldFZhbHVlKGludGVybmFsVmFsdWUubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnJldHVybk9iamVjdCA/IGkgOiBfdGhpcy5nZXRWYWx1ZShpKTtcbiAgICAgICAgfSkpOyAvLyBXaGVuIHNlbGVjdGluZyBtdWx0aXBsZVxuICAgICAgICAvLyBhZGp1c3QgbWVudSBhZnRlciBlYWNoXG4gICAgICAgIC8vIHNlbGVjdGlvblxuXG4gICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy4kcmVmcy5tZW51ICYmIF90aGlzLiRyZWZzLm1lbnUudXBkYXRlRGltZW5zaW9ucygpO1xuICAgICAgICB9KTsgLy8gV2Ugb25seSBuZWVkIHRvIHJlc2V0IGxpc3QgaW5kZXggZm9yIG11bHRpcGxlXG4gICAgICAgIC8vIHRvIGtlZXAgaGlnaGxpZ2h0IHdoZW4gYW4gaXRlbSBpcyB0b2dnbGVkXG4gICAgICAgIC8vIG9uIGFuZCBvZmZcblxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHJldHVybjtcbiAgICAgICAgdmFyIGxpc3RJbmRleF8xID0gdGhpcy5nZXRNZW51SW5kZXgoKTtcbiAgICAgICAgdGhpcy5zZXRNZW51SW5kZXgoLTEpOyAvLyBUaGVyZSBpcyBubyBpdGVtIHRvIHJlLWhpZ2hsaWdodFxuICAgICAgICAvLyB3aGVuIHNlbGVjdGlvbnMgYXJlIGhpZGRlblxuXG4gICAgICAgIGlmICh0aGlzLmhpZGVTZWxlY3RlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnNldE1lbnVJbmRleChsaXN0SW5kZXhfMSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0TWVudUluZGV4OiBmdW5jdGlvbiBzZXRNZW51SW5kZXgoaW5kZXgpIHtcbiAgICAgIHRoaXMuJHJlZnMubWVudSAmJiAodGhpcy4kcmVmcy5tZW51Lmxpc3RJbmRleCA9IGluZGV4KTtcbiAgICB9LFxuICAgIHNldFNlbGVjdGVkSXRlbXM6IGZ1bmN0aW9uIHNldFNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICB2YXIgZV8xLCBfYTtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHNlbGVjdGVkSXRlbXMgPSBbXTtcbiAgICAgIHZhciB2YWx1ZXMgPSAhdGhpcy5tdWx0aXBsZSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLmludGVybmFsVmFsdWUpID8gW3RoaXMuaW50ZXJuYWxWYWx1ZV0gOiB0aGlzLmludGVybmFsVmFsdWU7XG5cbiAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gX2xvb3BfMSh2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzXzEuYWxsSXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlQ29tcGFyYXRvcihfdGhpcy5nZXRWYWx1ZSh2KSwgX3RoaXMuZ2V0VmFsdWUodmFsdWUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICBzZWxlY3RlZEl0ZW1zLnB1c2godGhpc18xLmFsbEl0ZW1zW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciB2YWx1ZXNfMSA9IF9fdmFsdWVzKHZhbHVlcyksIHZhbHVlc18xXzEgPSB2YWx1ZXNfMS5uZXh0KCk7ICF2YWx1ZXNfMV8xLmRvbmU7IHZhbHVlc18xXzEgPSB2YWx1ZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNfMV8xLnZhbHVlO1xuXG4gICAgICAgICAgX2xvb3BfMSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgICAgIGVfMSA9IHtcbiAgICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHZhbHVlc18xXzEgJiYgIXZhbHVlc18xXzEuZG9uZSAmJiAoX2EgPSB2YWx1ZXNfMS5yZXR1cm4pKSBfYS5jYWxsKHZhbHVlc18xKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gc2VsZWN0ZWRJdGVtcztcbiAgICB9LFxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy5pbnRlcm5hbFZhbHVlO1xuICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdmFsdWU7XG4gICAgICB2YWx1ZSAhPT0gb2xkVmFsdWUgJiYgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTZWxlY3QvVlNlbGVjdExpc3QudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9WU2VsZWN0TGlzdC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhcmRfVkNhcmRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkNhcmQvVkNhcmQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNhcmQvVkNhcmQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNhcmRfVkNhcmRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WQ2FyZF9WQ2FyZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hlY2tib3hfVlNpbXBsZUNoZWNrYm94X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94ICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGl2aWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkRpdmlkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEaXZpZGVyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3ViaGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WU3ViaGVhZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3ViaGVhZGVyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkxpc3QgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZMaXN0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX192YWx1ZXMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fdmFsdWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSxcbiAgICAgIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBvICYmIG9baSsrXSxcbiAgICAgICAgZG9uZTogIW9cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIENvbXBvbmVudHNcblxuXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIE1peGluc1xuXG5cbiAvLyBIZWxwZXJzXG5cbiAvLyBUeXBlc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1zZWxlY3QtbGlzdCcsXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvaXNzdWVzLzY4NzJcbiAgZGlyZWN0aXZlczoge1xuICAgIHJpcHBsZTogX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgYWN0aW9uOiBCb29sZWFuLFxuICAgIGRlbnNlOiBCb29sZWFuLFxuICAgIGhpZGVTZWxlY3RlZDogQm9vbGVhbixcbiAgICBpdGVtczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXRlbURpc2FibGVkOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheSwgRnVuY3Rpb25dLFxuICAgICAgZGVmYXVsdDogJ2Rpc2FibGVkJ1xuICAgIH0sXG4gICAgaXRlbVRleHQ6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5LCBGdW5jdGlvbl0sXG4gICAgICBkZWZhdWx0OiAndGV4dCdcbiAgICB9LFxuICAgIGl0ZW1WYWx1ZToge1xuICAgICAgdHlwZTogW1N0cmluZywgQXJyYXksIEZ1bmN0aW9uXSxcbiAgICAgIGRlZmF1bHQ6ICd2YWx1ZSdcbiAgICB9LFxuICAgIG5vRGF0YVRleHQ6IFN0cmluZyxcbiAgICBub0ZpbHRlcjogQm9vbGVhbixcbiAgICBzZWFyY2hJbnB1dDoge1xuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgc2VsZWN0ZWRJdGVtczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBwYXJzZWRJdGVtczogZnVuY3Rpb24gcGFyc2VkSXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VmFsdWUoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRpbGVBY3RpdmVDbGFzczogZnVuY3Rpb24gdGlsZUFjdGl2ZUNsYXNzKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc2V0VGV4dENvbG9yKHRoaXMuY29sb3IpLmNsYXNzIHx8IHt9KS5qb2luKCcgJyk7XG4gICAgfSxcbiAgICBzdGF0aWNOb0RhdGFUaWxlOiBmdW5jdGlvbiBzdGF0aWNOb0RhdGFUaWxlKCkge1xuICAgICAgdmFyIHRpbGUgPSB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgcm9sZTogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbiBtb3VzZWRvd24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlZMaXN0SXRlbVwiXSwgdGlsZSwgW3RoaXMuZ2VuVGlsZUNvbnRlbnQodGhpcy5ub0RhdGFUZXh0KV0pO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkFjdGlvbjogZnVuY3Rpb24gZ2VuQWN0aW9uKGl0ZW0sIGlucHV0VmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiVkxpc3RJdGVtQWN0aW9uXCJdLCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkNoZWNrYm94X1ZTaW1wbGVDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgIHZhbHVlOiBpbnB1dFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdzZWxlY3QnLCBpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICBnZW5EaXZpZGVyOiBmdW5jdGlvbiBnZW5EaXZpZGVyKHByb3BzKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkRpdmlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkZpbHRlcmVkVGV4dDogZnVuY3Rpb24gZ2VuRmlsdGVyZWRUZXh0KHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICcnO1xuICAgICAgaWYgKCF0aGlzLnNlYXJjaElucHV0IHx8IHRoaXMubm9GaWx0ZXIpIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZXNjYXBlSFRNTFwiXSkodGV4dCk7XG5cbiAgICAgIHZhciBfYSA9IHRoaXMuZ2V0TWFza2VkQ2hhcmFjdGVycyh0ZXh0KSxcbiAgICAgICAgICBzdGFydCA9IF9hLnN0YXJ0LFxuICAgICAgICAgIG1pZGRsZSA9IF9hLm1pZGRsZSxcbiAgICAgICAgICBlbmQgPSBfYS5lbmQ7XG5cbiAgICAgIHJldHVybiBcIlwiICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImVzY2FwZUhUTUxcIl0pKHN0YXJ0KSArIHRoaXMuZ2VuSGlnaGxpZ2h0KG1pZGRsZSkgKyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZXNjYXBlSFRNTFwiXSkoZW5kKTtcbiAgICB9LFxuICAgIGdlbkhlYWRlcjogZnVuY3Rpb24gZ2VuSGVhZGVyKHByb3BzKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVlN1YmhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH0sIHByb3BzLmhlYWRlcik7XG4gICAgfSxcbiAgICBnZW5IaWdobGlnaHQ6IGZ1bmN0aW9uIGdlbkhpZ2hsaWdodCh0ZXh0KSB7XG4gICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz1cXFwidi1saXN0LWl0ZW1fX21hc2tcXFwiPlwiICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImVzY2FwZUhUTUxcIl0pKHRleHQpICsgXCI8L3NwYW4+XCI7XG4gICAgfSxcbiAgICBnZW5MYWJlbGxlZEJ5OiBmdW5jdGlvbiBnZW5MYWJlbGxlZEJ5KGl0ZW0pIHtcbiAgICAgIHZhciB0ZXh0ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImVzY2FwZUhUTUxcIl0pKHRoaXMuZ2V0VGV4dChpdGVtKS5zcGxpdCgnICcpLmpvaW4oJy0nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIHJldHVybiB0ZXh0ICsgXCItbGlzdC1pdGVtLVwiICsgdGhpcy5fdWlkO1xuICAgIH0sXG4gICAgZ2V0TWFza2VkQ2hhcmFjdGVyczogZnVuY3Rpb24gZ2V0TWFza2VkQ2hhcmFjdGVycyh0ZXh0KSB7XG4gICAgICB2YXIgc2VhcmNoSW5wdXQgPSAodGhpcy5zZWFyY2hJbnB1dCB8fCAnJykudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgdmFyIGluZGV4ID0gdGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoSW5wdXQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6ICcnLFxuICAgICAgICBtaWRkbGU6IHRleHQsXG4gICAgICAgIGVuZDogJydcbiAgICAgIH07XG4gICAgICB2YXIgc3RhcnQgPSB0ZXh0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgIHZhciBtaWRkbGUgPSB0ZXh0LnNsaWNlKGluZGV4LCBpbmRleCArIHNlYXJjaElucHV0Lmxlbmd0aCk7XG4gICAgICB2YXIgZW5kID0gdGV4dC5zbGljZShpbmRleCArIHNlYXJjaElucHV0Lmxlbmd0aCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIG1pZGRsZTogbWlkZGxlLFxuICAgICAgICBlbmQ6IGVuZFxuICAgICAgfTtcbiAgICB9LFxuICAgIGdlblRpbGU6IGZ1bmN0aW9uIGdlblRpbGUoaXRlbSwgZGlzYWJsZWQsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoZGlzYWJsZWQgPT09IHZvaWQgMCkge1xuICAgICAgICBkaXNhYmxlZCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghdmFsdWUpIHZhbHVlID0gdGhpcy5oYXNJdGVtKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbSA9PT0gT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgIGRpc2FibGVkID0gZGlzYWJsZWQgIT09IG51bGwgPyBkaXNhYmxlZCA6IHRoaXMuZ2V0RGlzYWJsZWQoaXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aWxlID0ge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaW4gbGlzdCBkb2VzIG5vdFxuICAgICAgICAgIC8vIGNvbnRhaW4gYXJpYS1zZWxlY3RlZCBieSBkZWZhdWx0XG4gICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBTdHJpbmcodmFsdWUpLFxuICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiB0aGlzLmdlbkxhYmVsbGVkQnkoaXRlbSksXG4gICAgICAgICAgcm9sZTogJ29wdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBtb3VzZWRvd246IGZ1bmN0aW9uIG1vdXNlZG93bihlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IG9uQmx1ciBmcm9tIGJlaW5nIGNhbGxlZFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVkIHx8IF90aGlzLiRlbWl0KCdzZWxlY3QnLCBpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgYWN0aXZlQ2xhc3M6IHRoaXMudGlsZUFjdGl2ZUNsYXNzLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICByaXBwbGU6IHRydWUsXG4gICAgICAgICAgaW5wdXRWYWx1ZTogdmFsdWVcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKCF0aGlzLiRzY29wZWRTbG90cy5pdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiVkxpc3RJdGVtXCJdLCB0aWxlLCBbdGhpcy5hY3Rpb24gJiYgIXRoaXMuaGlkZVNlbGVjdGVkICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMCA/IHRoaXMuZ2VuQWN0aW9uKGl0ZW0sIHZhbHVlKSA6IG51bGwsIHRoaXMuZ2VuVGlsZUNvbnRlbnQoaXRlbSldKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgICB2YXIgc2NvcGVkU2xvdCA9IHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0oe1xuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgYXR0cnM6IF9fYXNzaWduKHt9LCB0aWxlLmF0dHJzLCB0aWxlLnByb3BzKSxcbiAgICAgICAgb246IHRpbGUub25cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMubmVlZHNUaWxlKHNjb3BlZFNsb3QpID8gdGhpcy4kY3JlYXRlRWxlbWVudChfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlZMaXN0SXRlbVwiXSwgdGlsZSwgc2NvcGVkU2xvdCkgOiBzY29wZWRTbG90O1xuICAgIH0sXG4gICAgZ2VuVGlsZUNvbnRlbnQ6IGZ1bmN0aW9uIGdlblRpbGVDb250ZW50KGl0ZW0pIHtcbiAgICAgIHZhciBpbm5lckhUTUwgPSB0aGlzLmdlbkZpbHRlcmVkVGV4dCh0aGlzLmdldFRleHQoaXRlbSkpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJWTGlzdEl0ZW1Db250ZW50XCJdLCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlZMaXN0SXRlbVRpdGxlXCJdLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgaWQ6IHRoaXMuZ2VuTGFiZWxsZWRCeShpdGVtKVxuICAgICAgICB9LFxuICAgICAgICBkb21Qcm9wczoge1xuICAgICAgICAgIGlubmVySFRNTDogaW5uZXJIVE1MXG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICBoYXNJdGVtOiBmdW5jdGlvbiBoYXNJdGVtKGl0ZW0pIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEl0ZW1zLmluZGV4T2YodGhpcy5nZXRWYWx1ZShpdGVtKSkgPiAtMTtcbiAgICB9LFxuICAgIG5lZWRzVGlsZTogZnVuY3Rpb24gbmVlZHNUaWxlKHNsb3QpIHtcbiAgICAgIHJldHVybiBzbG90Lmxlbmd0aCAhPT0gMSB8fCBzbG90WzBdLmNvbXBvbmVudE9wdGlvbnMgPT0gbnVsbCB8fCBzbG90WzBdLmNvbXBvbmVudE9wdGlvbnMuQ3Rvci5vcHRpb25zLm5hbWUgIT09ICd2LWxpc3QtaXRlbSc7XG4gICAgfSxcbiAgICBnZXREaXNhYmxlZDogZnVuY3Rpb24gZ2V0RGlzYWJsZWQoaXRlbSkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImdldFByb3BlcnR5RnJvbUl0ZW1cIl0pKGl0ZW0sIHRoaXMuaXRlbURpc2FibGVkLCBmYWxzZSkpO1xuICAgIH0sXG4gICAgZ2V0VGV4dDogZnVuY3Rpb24gZ2V0VGV4dChpdGVtKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJnZXRQcm9wZXJ0eUZyb21JdGVtXCJdKShpdGVtLCB0aGlzLml0ZW1UZXh0LCBpdGVtKSk7XG4gICAgfSxcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoaXRlbSkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJnZXRQcm9wZXJ0eUZyb21JdGVtXCJdKShpdGVtLCB0aGlzLml0ZW1WYWx1ZSwgdGhpcy5nZXRUZXh0KGl0ZW0pKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBlXzEsIF9hO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLml0ZW1zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IF9jLnZhbHVlO1xuICAgICAgICBpZiAodGhpcy5oaWRlU2VsZWN0ZWQgJiYgdGhpcy5oYXNJdGVtKGl0ZW0pKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGl0ZW0gPT0gbnVsbCkgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblRpbGUoaXRlbSkpO2Vsc2UgaWYgKGl0ZW0uaGVhZGVyKSBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuSGVhZGVyKGl0ZW0pKTtlbHNlIGlmIChpdGVtLmRpdmlkZXIpIGNoaWxkcmVuLnB1c2godGhpcy5nZW5EaXZpZGVyKGl0ZW0pKTtlbHNlIGNoaWxkcmVuLnB1c2godGhpcy5nZW5UaWxlKGl0ZW0pKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzFfMSkge1xuICAgICAgZV8xID0ge1xuICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZHJlbi5sZW5ndGggfHwgY2hpbGRyZW4ucHVzaCh0aGlzLiRzbG90c1snbm8tZGF0YSddIHx8IHRoaXMuc3RhdGljTm9EYXRhVGlsZSk7XG4gICAgdGhpcy4kc2xvdHNbJ3ByZXBlbmQtaXRlbSddICYmIGNoaWxkcmVuLnVuc2hpZnQodGhpcy4kc2xvdHNbJ3ByZXBlbmQtaXRlbSddKTtcbiAgICB0aGlzLiRzbG90c1snYXBwZW5kLWl0ZW0nXSAmJiBjaGlsZHJlbi5wdXNoKHRoaXMuJHNsb3RzWydhcHBlbmQtaXRlbSddKTtcbiAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXNlbGVjdC1saXN0IHYtY2FyZCcsXG4gICAgICBjbGFzczogdGhpcy50aGVtZUNsYXNzZXNcbiAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudChfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlZMaXN0XCJdLCB7XG4gICAgICBhdHRyczoge1xuICAgICAgICBpZDogdGhpcy4kYXR0cnMuaWQsXG4gICAgICAgIHJvbGU6ICdsaXN0Ym94JyxcbiAgICAgICAgdGFiaW5kZXg6IC0xXG4gICAgICB9LFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZGVuc2U6IHRoaXMuZGVuc2VcbiAgICAgIH1cbiAgICB9LCBjaGlsZHJlbildKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTZWxlY3QvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNlbGVjdC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlNlbGVjdCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU2VsZWN0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3QudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2VsZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlNlbGVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L1ZTaGVldC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L1ZTaGVldC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTaGVldC9WU2hlZXQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNoZWV0L1ZTaGVldC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNoZWV0LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTaGVldC9WU2hlZXQuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlNoZWV0X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19iaW5kc19hdHRyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2JpbmRzLWF0dHJzICovIFwiLi9zcmMvbWl4aW5zL2JpbmRzLWF0dHJzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2VsZXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9lbGV2YXRhYmxlICovIFwiLi9zcmMvbWl4aW5zL2VsZXZhdGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19tZWFzdXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbWVhc3VyYWJsZSAqLyBcIi4vc3JjL21peGlucy9tZWFzdXJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gTWl4aW5zXG5cblxuXG5cblxuIC8vIEhlbHBlcnNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfYmluZHNfYXR0cnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2VsZXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfbWVhc3VyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXNoZWV0JyxcbiAgcHJvcHM6IHtcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgfSxcbiAgICB0aWxlOiBCb29sZWFuXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXNoZWV0JzogdHJ1ZSxcbiAgICAgICAgJ3Ytc2hlZXQtLXRpbGUnOiB0aGlzLnRpbGVcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzLCB0aGlzLmVsZXZhdGlvbkNsYXNzZXMpO1xuICAgIH0sXG4gICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZWFzdXJhYmxlU3R5bGVzO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIG9uOiB0aGlzLmxpc3RlbmVycyRcbiAgICB9O1xuICAgIHJldHVybiBoKHRoaXMudGFnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCBkYXRhKSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlNoZWV0LCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNoZWV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvVlNoZWV0LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNoZWV0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTa2VsZXRvbkxvYWRlci9WU2tlbGV0b25Mb2FkZXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTa2VsZXRvbkxvYWRlci9WU2tlbGV0b25Mb2FkZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2tlbGV0b25Mb2FkZXIvVlNrZWxldG9uTG9hZGVyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTa2VsZXRvbkxvYWRlci9WU2tlbGV0b25Mb2FkZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTa2VsZXRvbkxvYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTa2VsZXRvbkxvYWRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2tlbGV0b25Mb2FkZXIvVlNrZWxldG9uTG9hZGVyLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTa2VsZXRvbkxvYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTa2VsZXRvbkxvYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZWxldmF0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2VsZXZhdGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZWxldmF0YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX21lYXN1cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9tZWFzdXJhYmxlICovIFwiLi9zcmMvbWl4aW5zL21lYXN1cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19lbGV2YXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX21lYXN1cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAnVlNrZWxldG9uTG9hZGVyJyxcbiAgcHJvcHM6IHtcbiAgICBib2lsZXJwbGF0ZTogQm9vbGVhbixcbiAgICBsb2FkaW5nOiBCb29sZWFuLFxuICAgIHRpbGU6IEJvb2xlYW4sXG4gICAgdHJhbnNpdGlvbjogU3RyaW5nLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0eXBlczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgYXR0cnM6IGZ1bmN0aW9uIGF0dHJzKCkge1xuICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgcmV0dXJuIHRoaXMuJGF0dHJzO1xuICAgICAgcmV0dXJuICF0aGlzLmJvaWxlcnBsYXRlID8gX19hc3NpZ24oe1xuICAgICAgICAnYXJpYS1idXN5JzogdHJ1ZSxcbiAgICAgICAgJ2FyaWEtbGl2ZSc6ICdwb2xpdGUnLFxuICAgICAgICByb2xlOiAnYWxlcnQnXG4gICAgICB9LCB0aGlzLiRhdHRycykgOiB7fTtcbiAgICB9LFxuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgICAndi1za2VsZXRvbi1sb2FkZXItLWJvaWxlcnBsYXRlJzogdGhpcy5ib2lsZXJwbGF0ZSxcbiAgICAgICAgJ3Ytc2tlbGV0b24tbG9hZGVyLS1pcy1sb2FkaW5nJzogdGhpcy5pc0xvYWRpbmcsXG4gICAgICAgICd2LXNrZWxldG9uLWxvYWRlci0tdGlsZSc6IHRoaXMudGlsZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMsIHRoaXMuZWxldmF0aW9uQ2xhc3Nlcyk7XG4gICAgfSxcbiAgICBpc0xvYWRpbmc6IGZ1bmN0aW9uIGlzTG9hZGluZygpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKCFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0U2xvdFwiXSkodGhpcykgfHwgdGhpcy5sb2FkaW5nKTtcbiAgICB9LFxuICAgIHJvb3RUeXBlczogZnVuY3Rpb24gcm9vdFR5cGVzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgYWN0aW9uczogJ2J1dHRvbkAyJyxcbiAgICAgICAgYXJ0aWNsZTogJ2hlYWRpbmcsIHBhcmFncmFwaCcsXG4gICAgICAgIGF2YXRhcjogJ2F2YXRhcicsXG4gICAgICAgIGJ1dHRvbjogJ2J1dHRvbicsXG4gICAgICAgIGNhcmQ6ICdpbWFnZSwgY2FyZC1oZWFkaW5nJyxcbiAgICAgICAgJ2NhcmQtYXZhdGFyJzogJ2ltYWdlLCBsaXN0LWl0ZW0tYXZhdGFyJyxcbiAgICAgICAgJ2NhcmQtaGVhZGluZyc6ICdoZWFkaW5nJyxcbiAgICAgICAgY2hpcDogJ2NoaXAnLFxuICAgICAgICAnZGF0ZS1waWNrZXInOiAnbGlzdC1pdGVtLCBjYXJkLWhlYWRpbmcsIGRpdmlkZXIsIGRhdGUtcGlja2VyLW9wdGlvbnMsIGRhdGUtcGlja2VyLWRheXMsIGFjdGlvbnMnLFxuICAgICAgICAnZGF0ZS1waWNrZXItb3B0aW9ucyc6ICd0ZXh0LCBhdmF0YXJAMicsXG4gICAgICAgICdkYXRlLXBpY2tlci1kYXlzJzogJ2F2YXRhckAyOCcsXG4gICAgICAgIGhlYWRpbmc6ICdoZWFkaW5nJyxcbiAgICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICAgICdsaXN0LWl0ZW0nOiAndGV4dCcsXG4gICAgICAgICdsaXN0LWl0ZW0tYXZhdGFyJzogJ2F2YXRhciwgdGV4dCcsXG4gICAgICAgICdsaXN0LWl0ZW0tdHdvLWxpbmUnOiAnc2VudGVuY2VzJyxcbiAgICAgICAgJ2xpc3QtaXRlbS1hdmF0YXItdHdvLWxpbmUnOiAnYXZhdGFyLCBzZW50ZW5jZXMnLFxuICAgICAgICAnbGlzdC1pdGVtLXRocmVlLWxpbmUnOiAncGFyYWdyYXBoJyxcbiAgICAgICAgJ2xpc3QtaXRlbS1hdmF0YXItdGhyZWUtbGluZSc6ICdhdmF0YXIsIHBhcmFncmFwaCcsXG4gICAgICAgIHBhcmFncmFwaDogJ3RleHRAMycsXG4gICAgICAgIHNlbnRlbmNlczogJ3RleHRAMicsXG4gICAgICAgIHRhYmxlOiAndGFibGUtaGVhZGluZywgdGFibGUtdGhlYWQsIHRhYmxlLXRib2R5LCB0YWJsZS10Zm9vdCcsXG4gICAgICAgICd0YWJsZS1oZWFkaW5nJzogJ2hlYWRpbmcsIHRleHQnLFxuICAgICAgICAndGFibGUtdGhlYWQnOiAnaGVhZGluZ0A2JyxcbiAgICAgICAgJ3RhYmxlLXRib2R5JzogJ3RhYmxlLXJvdy1kaXZpZGVyQDYnLFxuICAgICAgICAndGFibGUtcm93LWRpdmlkZXInOiAndGFibGUtcm93LCBkaXZpZGVyJyxcbiAgICAgICAgJ3RhYmxlLXJvdyc6ICd0YWJsZS1jZWxsQDYnLFxuICAgICAgICAndGFibGUtY2VsbCc6ICd0ZXh0JyxcbiAgICAgICAgJ3RhYmxlLXRmb290JzogJ3RleHRAMiwgYXZhdGFyQDInLFxuICAgICAgICB0ZXh0OiAndGV4dCdcbiAgICAgIH0sIHRoaXMudHlwZXMpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkJvbmU6IGZ1bmN0aW9uIGdlbkJvbmUodGV4dCwgY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcInYtc2tlbGV0b24tbG9hZGVyX19cIiArIHRleHQgKyBcIiB2LXNrZWxldG9uLWxvYWRlcl9fYm9uZVwiXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5Cb25lczogZnVuY3Rpb24gZ2VuQm9uZXMoYm9uZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gZS5nLiAndGV4dEAzJ1xuXG5cbiAgICAgIHZhciBfYSA9IF9fcmVhZChib25lLnNwbGl0KCdAJyksIDIpLFxuICAgICAgICAgIHR5cGUgPSBfYVswXSxcbiAgICAgICAgICBsZW5ndGggPSBfYVsxXTtcblxuICAgICAgdmFyIGdlbmVyYXRvciA9IGZ1bmN0aW9uIGdlbmVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdlblN0cnVjdHVyZSh0eXBlKTtcbiAgICAgIH07IC8vIEdlbmVyYXRlIGEgbGVuZ3RoIGFycmF5IGJhc2VkIHVwb25cbiAgICAgIC8vIHZhbHVlIGFmdGVyIEAgaW4gdGhlIGJvbmUgc3RyaW5nXG5cblxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGxlbmd0aFxuICAgICAgfSkubWFwKGdlbmVyYXRvcik7XG4gICAgfSxcbiAgICAvLyBGaXggdHlwZSB3aGVuIHRoaXMgaXMgbWVyZ2VkXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvMzMwNTBcbiAgICBnZW5TdHJ1Y3R1cmU6IGZ1bmN0aW9uIGdlblN0cnVjdHVyZSh0eXBlKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIHR5cGUgPSB0eXBlIHx8IHRoaXMudHlwZSB8fCAnJztcbiAgICAgIHZhciBib25lID0gdGhpcy5yb290VHlwZXNbdHlwZV0gfHwgJyc7IC8vIEVuZCBvZiByZWN1cnNpb24sIGRvIG5vdGhpbmdcblxuICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LCBicmFjZS1zdHlsZSAqL1xuXG4gICAgICBpZiAodHlwZSA9PT0gYm9uZSkge30gLy8gQXJyYXkgb2YgdmFsdWVzIC0gZS5nLiAnaGVhZGluZywgcGFyYWdyYXBoLCB0ZXh0QDInXG4gICAgICBlbHNlIGlmICh0eXBlLmluZGV4T2YoJywnKSA+IC0xKSByZXR1cm4gdGhpcy5tYXBCb25lcyh0eXBlKTsgLy8gQXJyYXkgb2YgdmFsdWVzIC0gZS5nLiAncGFyYWdyYXBoQDQnXG4gICAgICAgIGVsc2UgaWYgKHR5cGUuaW5kZXhPZignQCcpID4gLTEpIHJldHVybiB0aGlzLmdlbkJvbmVzKHR5cGUpOyAvLyBBcnJheSBvZiB2YWx1ZXMgLSBlLmcuICdjYXJkQDInXG4gICAgICAgICAgZWxzZSBpZiAoYm9uZS5pbmRleE9mKCcsJykgPiAtMSkgY2hpbGRyZW4gPSB0aGlzLm1hcEJvbmVzKGJvbmUpOyAvLyBBcnJheSBvZiB2YWx1ZXMgLSBlLmcuICdsaXN0LWl0ZW1AMidcbiAgICAgICAgICAgIGVsc2UgaWYgKGJvbmUuaW5kZXhPZignQCcpID4gLTEpIGNoaWxkcmVuID0gdGhpcy5nZW5Cb25lcyhib25lKTsgLy8gU2luZ2xlIHZhbHVlIC0gZS5nLiAnY2FyZC1oZWFkaW5nJ1xuICAgICAgICAgICAgICBlbHNlIGlmIChib25lKSBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuU3RydWN0dXJlKGJvbmUpKTtcblxuICAgICAgcmV0dXJuIFt0aGlzLmdlbkJvbmUodHlwZSwgY2hpbGRyZW4pXTtcbiAgICB9LFxuICAgIGdlblNrZWxldG9uOiBmdW5jdGlvbiBnZW5Ta2VsZXRvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgdmFyIHNsb3QgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0U2xvdFwiXSkodGhpcyk7XG4gICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nKSBjaGlsZHJlbi5wdXNoKHNsb3QpO2Vsc2UgY2hpbGRyZW4ucHVzaCh0aGlzLmdlblN0cnVjdHVyZSgpKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHJhbnNpdGlvbicsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLnRyYW5zaXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgLy8gT25seSBzaG93IHRyYW5zaXRpb24gd2hlblxuICAgICAgICAvLyBjb250ZW50IGhhcyBiZWVuIGxvYWRlZFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiBlbnRlcihlbCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzTG9hZGluZykgZWwuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJlZm9yZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVMZWF2ZShlbCkge1xuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIG1hcEJvbmVzOiBmdW5jdGlvbiBtYXBCb25lcyhib25lcykge1xuICAgICAgLy8gUmVtb3ZlIHNwYWNlcyBhbmQgcmV0dXJuIGFycmF5IG9mIHN0cnVjdHVyZXNcbiAgICAgIHJldHVybiBib25lcy5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcsJykubWFwKHRoaXMuZ2VuU3RydWN0dXJlKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXNrZWxldG9uLWxvYWRlcicsXG4gICAgICBhdHRyczogdGhpcy5hdHRycyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnMsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzLFxuICAgICAgc3R5bGU6IHRoaXMuaXNMb2FkaW5nID8gdGhpcy5tZWFzdXJhYmxlU3R5bGVzIDogdW5kZWZpbmVkXG4gICAgfSwgW3RoaXMuZ2VuU2tlbGV0b24oKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNrZWxldG9uTG9hZGVyL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNrZWxldG9uTG9hZGVyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZTa2VsZXRvbkxvYWRlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNrZWxldG9uTG9hZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTa2VsZXRvbkxvYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNrZWxldG9uTG9hZGVyL1ZTa2VsZXRvbkxvYWRlci50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTa2VsZXRvbkxvYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU2tlbGV0b25Mb2FkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlNrZWxldG9uTG9hZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2xpZGVHcm91cC9WU2xpZGVHcm91cC5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTbGlkZUdyb3VwL1ZTbGlkZUdyb3VwLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZUdyb3VwL1ZTbGlkZUdyb3VwLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU2xpZGVHcm91cC9WU2xpZGVHcm91cC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEJhc2VTbGlkZUdyb3VwLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkJhc2VTbGlkZUdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFzZVNsaWRlR3JvdXA7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2xpZGVHcm91cF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTbGlkZUdyb3VwLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZUdyb3VwL1ZTbGlkZUdyb3VwLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZUdyb3VwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlNsaWRlR3JvdXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJY29uICovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RyYW5zaXRpb25zICovIFwiLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9ucy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkl0ZW1Hcm91cF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJdGVtR3JvdXAvVkl0ZW1Hcm91cC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvcmVzaXplICovIFwiLi9zcmMvZGlyZWN0aXZlcy9yZXNpemUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvdG91Y2ggKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3RvdWNoL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIERpcmVjdGl2ZXNcblxuXG4gLy8gVXRpbGl0aWVzXG5cblxudmFyIEJhc2VTbGlkZUdyb3VwID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSkoX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQmFzZUl0ZW1Hcm91cFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ2Jhc2Utc2xpZGUtZ3JvdXAnLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgUmVzaXplOiBfZGlyZWN0aXZlc19yZXNpemVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sXG4gICAgVG91Y2g6IF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgYWN0aXZlQ2xhc3M6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICd2LXNsaWRlLWl0ZW0tLWFjdGl2ZSdcbiAgICB9LFxuICAgIGNlbnRlckFjdGl2ZTogQm9vbGVhbixcbiAgICBuZXh0SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRuZXh0J1xuICAgIH0sXG4gICAgbW9iaWxlQnJlYWtQb2ludDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDEyNjQsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7XG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VJbnQodikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJldkljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckcHJldidcbiAgICB9LFxuICAgIHNob3dBcnJvd3M6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZXJuYWxJdGVtc0xlbmd0aDogMCxcbiAgICAgIGlzT3ZlcmZsb3dpbmc6IGZhbHNlLFxuICAgICAgcmVzaXplVGltZW91dDogMCxcbiAgICAgIHN0YXJ0WDogMCxcbiAgICAgIHNjcm9sbE9mZnNldDogMCxcbiAgICAgIHdpZHRoczoge1xuICAgICAgICBjb250ZW50OiAwLFxuICAgICAgICB3cmFwcGVyOiAwXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBfX2NhY2hlZE5leHQ6IGZ1bmN0aW9uIF9fY2FjaGVkTmV4dCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlblRyYW5zaXRpb24oJ25leHQnKTtcbiAgICB9LFxuICAgIF9fY2FjaGVkUHJldjogZnVuY3Rpb24gX19jYWNoZWRQcmV2KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuVHJhbnNpdGlvbigncHJldicpO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQmFzZUl0ZW1Hcm91cFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi1zbGlkZS1ncm91cCc6IHRydWUsXG4gICAgICAgICd2LXNsaWRlLWdyb3VwLS1oYXMtYWZmaXhlcyc6IHRoaXMuaGFzQWZmaXhlcyxcbiAgICAgICAgJ3Ytc2xpZGUtZ3JvdXAtLWlzLW92ZXJmbG93aW5nJzogdGhpcy5pc092ZXJmbG93aW5nXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhhc0FmZml4ZXM6IGZ1bmN0aW9uIGhhc0FmZml4ZXMoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc2hvd0Fycm93cyB8fCAhdGhpcy5pc01vYmlsZSkgJiYgdGhpcy5pc092ZXJmbG93aW5nO1xuICAgIH0sXG4gICAgaGFzTmV4dDogZnVuY3Rpb24gaGFzTmV4dCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNBZmZpeGVzKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgX2EgPSB0aGlzLndpZHRocyxcbiAgICAgICAgICBjb250ZW50ID0gX2EuY29udGVudCxcbiAgICAgICAgICB3cmFwcGVyID0gX2Eud3JhcHBlcjsgLy8gQ2hlY2sgb25lIHNjcm9sbCBhaGVhZCB0byBrbm93IHRoZSB3aWR0aCBvZiByaWdodC1tb3N0IGl0ZW1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQgPiBNYXRoLmFicyh0aGlzLnNjcm9sbE9mZnNldCkgKyB3cmFwcGVyO1xuICAgIH0sXG4gICAgaGFzUHJldjogZnVuY3Rpb24gaGFzUHJldigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc0FmZml4ZXMgJiYgdGhpcy5zY3JvbGxPZmZzZXQgIT09IDA7XG4gICAgfSxcbiAgICBpc01vYmlsZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kdnVldGlmeS5icmVha3BvaW50LndpZHRoIDwgdGhpcy5tb2JpbGVCcmVha1BvaW50O1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBpbnRlcm5hbFZhbHVlOiAnc2V0V2lkdGhzJyxcbiAgICAvLyBXaGVuIG92ZXJmbG93IGNoYW5nZXMsIHRoZSBhcnJvd3MgYWx0ZXJcbiAgICAvLyB0aGUgd2lkdGhzIG9mIHRoZSBjb250ZW50IGFuZCB3cmFwcGVyXG4gICAgLy8gYW5kIG5lZWQgdG8gYmUgcmVjYWxjdWxhdGVkXG4gICAgaXNPdmVyZmxvd2luZzogJ3NldFdpZHRocycsXG4gICAgc2Nyb2xsT2Zmc2V0OiBmdW5jdGlvbiBzY3JvbGxPZmZzZXQodmFsKSB7XG4gICAgICB0aGlzLiRyZWZzLmNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgLXZhbCArIFwicHgpXCI7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmludGVybmFsSXRlbXNMZW5ndGggPSAodGhpcy4kY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgfSxcbiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbEl0ZW1zTGVuZ3RoID09PSAodGhpcy4kY2hpbGRyZW4gfHwgW10pLmxlbmd0aCkgcmV0dXJuO1xuICAgIHRoaXMuc2V0V2lkdGhzKCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5OZXh0OiBmdW5jdGlvbiBnZW5OZXh0KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmhhc0FmZml4ZXMpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHNsb3QgPSB0aGlzLiRzY29wZWRTbG90cy5uZXh0ID8gdGhpcy4kc2NvcGVkU2xvdHMubmV4dCh7fSkgOiB0aGlzLiRzbG90cy5uZXh0IHx8IHRoaXMuX19jYWNoZWROZXh0O1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlLWdyb3VwX19uZXh0JyxcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAndi1zbGlkZS1ncm91cF9fbmV4dC0tZGlzYWJsZWQnOiAhdGhpcy5oYXNOZXh0XG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uQWZmaXhDbGljaygnbmV4dCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAga2V5OiAnbmV4dCdcbiAgICAgIH0sIFtzbG90XSk7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlLWdyb3VwX19jb250ZW50JyxcbiAgICAgICAgcmVmOiAnY29udGVudCdcbiAgICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICAgIH0sXG4gICAgZ2VuRGF0YTogZnVuY3Rpb24gZ2VuRGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgICAgdmFsdWU6IHRoaXMub25SZXNpemVcbiAgICAgICAgfV1cbiAgICAgIH07XG4gICAgfSxcbiAgICBnZW5JY29uOiBmdW5jdGlvbiBnZW5JY29uKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgaWNvbiA9IGxvY2F0aW9uO1xuXG4gICAgICBpZiAodGhpcy4kdnVldGlmeS5ydGwgJiYgbG9jYXRpb24gPT09ICdwcmV2Jykge1xuICAgICAgICBpY29uID0gJ25leHQnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLiR2dWV0aWZ5LnJ0bCAmJiBsb2NhdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIGljb24gPSAncHJldic7XG4gICAgICB9XG5cbiAgICAgIHZhciB1cHBlckxvY2F0aW9uID0gXCJcIiArIGxvY2F0aW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBsb2NhdGlvbi5zbGljZSgxKTtcbiAgICAgIHZhciBoYXNBZmZpeCA9IHRoaXNbXCJoYXNcIiArIHVwcGVyTG9jYXRpb25dO1xuICAgICAgaWYgKCF0aGlzLnNob3dBcnJvd3MgJiYgIWhhc0FmZml4KSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGRpc2FibGVkOiAhaGFzQWZmaXhcbiAgICAgICAgfVxuICAgICAgfSwgdGhpc1tpY29uICsgXCJJY29uXCJdKTtcbiAgICB9LFxuICAgIC8vIEFsd2F5cyBnZW5lcmF0ZSBwcmV2IGZvciBzY3JvbGxhYmxlIGhpbnRcbiAgICBnZW5QcmV2OiBmdW5jdGlvbiBnZW5QcmV2KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHNsb3QgPSB0aGlzLiRzY29wZWRTbG90cy5wcmV2ID8gdGhpcy4kc2NvcGVkU2xvdHMucHJldih7fSkgOiB0aGlzLiRzbG90cy5wcmV2IHx8IHRoaXMuX19jYWNoZWRQcmV2O1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlLWdyb3VwX19wcmV2JyxcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAndi1zbGlkZS1ncm91cF9fcHJldi0tZGlzYWJsZWQnOiAhdGhpcy5oYXNQcmV2XG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uQWZmaXhDbGljaygncHJldicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAga2V5OiAncHJldidcbiAgICAgIH0sIFtzbG90XSk7XG4gICAgfSxcbiAgICBnZW5UcmFuc2l0aW9uOiBmdW5jdGlvbiBnZW5UcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlZGYWRlVHJhbnNpdGlvblwiXSwgW3RoaXMuZ2VuSWNvbihsb2NhdGlvbildKTtcbiAgICB9LFxuICAgIGdlbldyYXBwZXI6IGZ1bmN0aW9uIGdlbldyYXBwZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGUtZ3JvdXBfX3dyYXBwZXInLFxuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICd0b3VjaCcsXG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vdmVyZmxvd0NoZWNrKGUsIF90aGlzLm9uVG91Y2hTdGFydCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZShlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vdmVyZmxvd0NoZWNrKGUsIF90aGlzLm9uVG91Y2hNb3ZlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uIGVuZChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vdmVyZmxvd0NoZWNrKGUsIF90aGlzLm9uVG91Y2hFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIHJlZjogJ3dyYXBwZXInXG4gICAgICB9LCBbdGhpcy5nZW5Db250ZW50KCldKTtcbiAgICB9LFxuICAgIGNhbGN1bGF0ZU5ld09mZnNldDogZnVuY3Rpb24gY2FsY3VsYXRlTmV3T2Zmc2V0KGRpcmVjdGlvbiwgd2lkdGhzLCBydGwsIGN1cnJlbnRTY3JvbGxPZmZzZXQpIHtcbiAgICAgIHZhciBzaWduID0gcnRsID8gLTEgOiAxO1xuICAgICAgdmFyIG5ld0Fib3NsdXRlT2Zmc2V0ID0gc2lnbiAqIGN1cnJlbnRTY3JvbGxPZmZzZXQgKyAoZGlyZWN0aW9uID09PSAncHJldicgPyAtMSA6IDEpICogd2lkdGhzLndyYXBwZXI7XG4gICAgICByZXR1cm4gc2lnbiAqIE1hdGgubWF4KE1hdGgubWluKG5ld0Fib3NsdXRlT2Zmc2V0LCB3aWR0aHMuY29udGVudCAtIHdpZHRocy53cmFwcGVyKSwgMCk7XG4gICAgfSxcbiAgICBvbkFmZml4Q2xpY2s6IGZ1bmN0aW9uIG9uQWZmaXhDbGljayhsb2NhdGlvbikge1xuICAgICAgdGhpcy4kZW1pdChcImNsaWNrOlwiICsgbG9jYXRpb24pO1xuICAgICAgdGhpcy5zY3JvbGxUbyhsb2NhdGlvbik7XG4gICAgfSxcbiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm47XG4gICAgICB0aGlzLnNldFdpZHRocygpO1xuICAgIH0sXG4gICAgb25Ub3VjaFN0YXJ0OiBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLiRyZWZzLmNvbnRlbnQ7XG4gICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMuc2Nyb2xsT2Zmc2V0ICsgZS50b3VjaHN0YXJ0WDtcbiAgICAgIGNvbnRlbnQuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zaXRpb24nLCAnbm9uZScpO1xuICAgICAgY29udGVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lsbENoYW5nZScsICd0cmFuc2Zvcm0nKTtcbiAgICB9LFxuICAgIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IHRoaXMuc3RhcnRYIC0gZS50b3VjaG1vdmVYO1xuICAgIH0sXG4gICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcbiAgICAgIHZhciBfYSA9IHRoaXMuJHJlZnMsXG4gICAgICAgICAgY29udGVudCA9IF9hLmNvbnRlbnQsXG4gICAgICAgICAgd3JhcHBlciA9IF9hLndyYXBwZXI7XG4gICAgICB2YXIgbWF4U2Nyb2xsT2Zmc2V0ID0gY29udGVudC5jbGllbnRXaWR0aCAtIHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICBjb250ZW50LnN0eWxlLnNldFByb3BlcnR5KCd0cmFuc2l0aW9uJywgbnVsbCk7XG4gICAgICBjb250ZW50LnN0eWxlLnNldFByb3BlcnR5KCd3aWxsQ2hhbmdlJywgbnVsbCk7XG5cbiAgICAgIGlmICh0aGlzLiR2dWV0aWZ5LnJ0bCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxPZmZzZXQgPiAwIHx8ICF0aGlzLmlzT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxPZmZzZXQgPD0gLW1heFNjcm9sbE9mZnNldCkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsT2Zmc2V0ID0gLW1heFNjcm9sbE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsT2Zmc2V0IDwgMCB8fCAhdGhpcy5pc092ZXJmbG93aW5nKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxPZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsT2Zmc2V0ID49IG1heFNjcm9sbE9mZnNldCkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsT2Zmc2V0ID0gbWF4U2Nyb2xsT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvdmVyZmxvd0NoZWNrOiBmdW5jdGlvbiBvdmVyZmxvd0NoZWNrKGUsIGZuKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5pc092ZXJmbG93aW5nICYmIGZuKGUpO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXdcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gMCB8fCAhdGhpcy5jZW50ZXJBY3RpdmUgJiYgIXRoaXMuaXNPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2VudGVyQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsT2Zmc2V0ID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJlZE9mZnNldCh0aGlzLnNlbGVjdGVkSXRlbS4kZWwsIHRoaXMud2lkdGhzLCB0aGlzLiR2dWV0aWZ5LnJ0bCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IHRoaXMuY2FsY3VsYXRlVXBkYXRlZE9mZnNldCh0aGlzLnNlbGVjdGVkSXRlbS4kZWwsIHRoaXMud2lkdGhzLCB0aGlzLiR2dWV0aWZ5LnJ0bCwgdGhpcy5zY3JvbGxPZmZzZXQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FsY3VsYXRlVXBkYXRlZE9mZnNldDogZnVuY3Rpb24gY2FsY3VsYXRlVXBkYXRlZE9mZnNldChzZWxlY3RlZEVsZW1lbnQsIHdpZHRocywgcnRsLCBjdXJyZW50U2Nyb2xsT2Zmc2V0KSB7XG4gICAgICB2YXIgY2xpZW50V2lkdGggPSBzZWxlY3RlZEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICB2YXIgb2Zmc2V0TGVmdCA9IHJ0bCA/IHdpZHRocy5jb250ZW50IC0gc2VsZWN0ZWRFbGVtZW50Lm9mZnNldExlZnQgLSBjbGllbnRXaWR0aCA6IHNlbGVjdGVkRWxlbWVudC5vZmZzZXRMZWZ0O1xuXG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIGN1cnJlbnRTY3JvbGxPZmZzZXQgPSAtY3VycmVudFNjcm9sbE9mZnNldDtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdGFsV2lkdGggPSB3aWR0aHMud3JhcHBlciArIGN1cnJlbnRTY3JvbGxPZmZzZXQ7XG4gICAgICB2YXIgaXRlbU9mZnNldCA9IGNsaWVudFdpZHRoICsgb2Zmc2V0TGVmdDtcbiAgICAgIHZhciBhZGRpdGlvbmFsT2Zmc2V0ID0gY2xpZW50V2lkdGggKiAwLjQ7XG5cbiAgICAgIGlmIChvZmZzZXRMZWZ0IDwgY3VycmVudFNjcm9sbE9mZnNldCkge1xuICAgICAgICBjdXJyZW50U2Nyb2xsT2Zmc2V0ID0gTWF0aC5tYXgob2Zmc2V0TGVmdCAtIGFkZGl0aW9uYWxPZmZzZXQsIDApO1xuICAgICAgfSBlbHNlIGlmICh0b3RhbFdpZHRoIDwgaXRlbU9mZnNldCkge1xuICAgICAgICBjdXJyZW50U2Nyb2xsT2Zmc2V0ID0gTWF0aC5taW4oY3VycmVudFNjcm9sbE9mZnNldCAtICh0b3RhbFdpZHRoIC0gaXRlbU9mZnNldCAtIGFkZGl0aW9uYWxPZmZzZXQpLCB3aWR0aHMuY29udGVudCAtIHdpZHRocy53cmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJ0bCA/IC1jdXJyZW50U2Nyb2xsT2Zmc2V0IDogY3VycmVudFNjcm9sbE9mZnNldDtcbiAgICB9LFxuICAgIGNhbGN1bGF0ZUNlbnRlcmVkT2Zmc2V0OiBmdW5jdGlvbiBjYWxjdWxhdGVDZW50ZXJlZE9mZnNldChzZWxlY3RlZEVsZW1lbnQsIHdpZHRocywgcnRsKSB7XG4gICAgICB2YXIgb2Zmc2V0TGVmdCA9IHNlbGVjdGVkRWxlbWVudC5vZmZzZXRMZWZ0LFxuICAgICAgICAgIGNsaWVudFdpZHRoID0gc2VsZWN0ZWRFbGVtZW50LmNsaWVudFdpZHRoO1xuXG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHZhciBvZmZzZXRDZW50ZXJlZCA9IHdpZHRocy5jb250ZW50IC0gb2Zmc2V0TGVmdCAtIGNsaWVudFdpZHRoIC8gMiAtIHdpZHRocy53cmFwcGVyIC8gMjtcbiAgICAgICAgcmV0dXJuIC1NYXRoLm1pbih3aWR0aHMuY29udGVudCAtIHdpZHRocy53cmFwcGVyLCBNYXRoLm1heCgwLCBvZmZzZXRDZW50ZXJlZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9mZnNldENlbnRlcmVkID0gb2Zmc2V0TGVmdCArIGNsaWVudFdpZHRoIC8gMiAtIHdpZHRocy53cmFwcGVyIC8gMjtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHdpZHRocy5jb250ZW50IC0gd2lkdGhzLndyYXBwZXIsIE1hdGgubWF4KDAsIG9mZnNldENlbnRlcmVkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzY3JvbGxUb1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgOiBmdW5jdGlvbiBzY3JvbGxUbyhsb2NhdGlvbikge1xuICAgICAgdGhpcy5zY3JvbGxPZmZzZXQgPSB0aGlzLmNhbGN1bGF0ZU5ld09mZnNldChsb2NhdGlvbiwge1xuICAgICAgICAvLyBGb3JjZSByZWZsb3dcbiAgICAgICAgY29udGVudDogdGhpcy4kcmVmcy5jb250ZW50ID8gdGhpcy4kcmVmcy5jb250ZW50LmNsaWVudFdpZHRoIDogMCxcbiAgICAgICAgd3JhcHBlcjogdGhpcy4kcmVmcy53cmFwcGVyID8gdGhpcy4kcmVmcy53cmFwcGVyLmNsaWVudFdpZHRoIDogMFxuICAgICAgfSwgdGhpcy4kdnVldGlmeS5ydGwsIHRoaXMuc2Nyb2xsT2Zmc2V0KTtcbiAgICB9LFxuICAgIHNldFdpZHRoc1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgOiBmdW5jdGlvbiBzZXRXaWR0aHMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gX3RoaXMuJHJlZnMsXG4gICAgICAgICAgICBjb250ZW50ID0gX2EuY29udGVudCxcbiAgICAgICAgICAgIHdyYXBwZXIgPSBfYS53cmFwcGVyO1xuICAgICAgICBfdGhpcy53aWR0aHMgPSB7XG4gICAgICAgICAgY29udGVudDogY29udGVudCA/IGNvbnRlbnQuY2xpZW50V2lkdGggOiAwLFxuICAgICAgICAgIHdyYXBwZXI6IHdyYXBwZXIgPyB3cmFwcGVyLmNsaWVudFdpZHRoIDogMFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5pc092ZXJmbG93aW5nID0gX3RoaXMud2lkdGhzLndyYXBwZXIgPCBfdGhpcy53aWR0aHMuY29udGVudDtcblxuICAgICAgICBfdGhpcy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHRoaXMuZ2VuRGF0YSgpLCBbdGhpcy5nZW5QcmV2KCksIHRoaXMuZ2VuV3JhcHBlcigpLCB0aGlzLmdlbk5leHQoKV0pO1xuICB9XG59KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQmFzZVNsaWRlR3JvdXAuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc2xpZGUtZ3JvdXAnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzbGlkZUdyb3VwOiB0aGlzXG4gICAgfTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZUdyb3VwL1ZTbGlkZUl0ZW0udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNsaWRlR3JvdXAvVlNsaWRlSXRlbS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkl0ZW1Hcm91cF9WSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkl0ZW1Hcm91cC9WSXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2dyb3VwYWJsZSAqLyBcIi4vc3JjL21peGlucy9ncm91cGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gRXh0ZW5zaW9uc1xuIC8vIE1peGluc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShfVkl0ZW1Hcm91cF9WSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQmFzZUl0ZW1cIl0sIE9iamVjdChfbWl4aW5zX2dyb3VwYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZmFjdG9yeVwiXSkoJ3NsaWRlR3JvdXAnKVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc2xpZGUtaXRlbSdcbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU2xpZGVHcm91cC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNsaWRlR3JvdXAvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWU2xpZGVHcm91cCwgVlNsaWRlSXRlbSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNsaWRlR3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZUdyb3VwL1ZTbGlkZUdyb3VwLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNsaWRlR3JvdXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZUl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNsaWRlSXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlR3JvdXAvVlNsaWRlSXRlbS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTbGlkZUl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNsaWRlSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZTbGlkZUdyb3VwOiBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVlNsaWRlSXRlbTogX1ZTbGlkZUl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9WU2xpZGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTbGlkZXIvVlNsaWRlci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9WU2xpZGVyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9WU2xpZGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU2xpZGVyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZXIvVlNsaWRlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2xpZGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlNsaWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJbnB1dCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVklucHV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdHJhbnNpdGlvbnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3RyYW5zaXRpb25zL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2xvYWRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbG9hZGFibGUgKi8gXCIuL3NyYy9taXhpbnMvbG9hZGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4gLy8gQ29tcG9uZW50c1xuXG5cbiAvLyBNaXhpbnNcblxuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gSGVscGVyc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2xvYWRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi1zbGlkZXInLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgQ2xpY2tPdXRzaWRlOiBfZGlyZWN0aXZlc19jbGlja19vdXRzaWRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIG1peGluczogW19taXhpbnNfbG9hZGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl1dLFxuICBwcm9wczoge1xuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIGludmVyc2VMYWJlbDogQm9vbGVhbixcbiAgICBtYXg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAxMDBcbiAgICB9LFxuICAgIG1pbjoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9LFxuICAgIHN0ZXA6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICB0aHVtYkNvbG9yOiBTdHJpbmcsXG4gICAgdGh1bWJMYWJlbDoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Iodikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdib29sZWFuJyB8fCB2ID09PSAnYWx3YXlzJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHRodW1iU2l6ZToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDMyXG4gICAgfSxcbiAgICB0aWNrTGFiZWxzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICB0aWNrczoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHYpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHwgdiA9PT0gJ2Fsd2F5cyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB0aWNrU2l6ZToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDJcbiAgICB9LFxuICAgIHRyYWNrQ29sb3I6IFN0cmluZyxcbiAgICB0cmFja0ZpbGxDb2xvcjogU3RyaW5nLFxuICAgIHZhbHVlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgIHZlcnRpY2FsOiBCb29sZWFuXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFwcDogbnVsbCxcbiAgICAgIG9sZFZhbHVlOiBudWxsLFxuICAgICAga2V5UHJlc3NlZDogMCxcbiAgICAgIGlzRm9jdXNlZDogZmFsc2UsXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBsYXp5VmFsdWU6IDAsXG4gICAgICBub0NsaWNrOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi1pbnB1dF9fc2xpZGVyJzogdHJ1ZSxcbiAgICAgICAgJ3YtaW5wdXRfX3NsaWRlci0tdmVydGljYWwnOiB0aGlzLnZlcnRpY2FsLFxuICAgICAgICAndi1pbnB1dF9fc2xpZGVyLS1pbnZlcnNlLWxhYmVsJzogdGhpcy5pbnZlcnNlTGFiZWxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW50ZXJuYWxWYWx1ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhenlWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgICAgdmFsID0gaXNOYU4odmFsKSA/IHRoaXMubWluVmFsdWUgOiB2YWw7IC8vIFJvdW5kIHZhbHVlIHRvIGVuc3VyZSB0aGVcbiAgICAgICAgLy8gZW50aXJlIHNsaWRlciByYW5nZSBjYW5cbiAgICAgICAgLy8gYmUgc2VsZWN0ZWQgd2l0aCBzdGVwXG5cbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5yb3VuZFZhbHVlKE1hdGgubWluKE1hdGgubWF4KHZhbCwgdGhpcy5taW5WYWx1ZSksIHRoaXMubWF4VmFsdWUpKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmxhenlWYWx1ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRyYWNrVHJhbnNpdGlvbjogZnVuY3Rpb24gdHJhY2tUcmFuc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMua2V5UHJlc3NlZCA+PSAyID8gJ25vbmUnIDogJyc7XG4gICAgfSxcbiAgICBtaW5WYWx1ZTogZnVuY3Rpb24gbWluVmFsdWUoKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLm1pbik7XG4gICAgfSxcbiAgICBtYXhWYWx1ZTogZnVuY3Rpb24gbWF4VmFsdWUoKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLm1heCk7XG4gICAgfSxcbiAgICBzdGVwTnVtZXJpYzogZnVuY3Rpb24gc3RlcE51bWVyaWMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwID4gMCA/IHBhcnNlRmxvYXQodGhpcy5zdGVwKSA6IDA7XG4gICAgfSxcbiAgICBpbnB1dFdpZHRoOiBmdW5jdGlvbiBpbnB1dFdpZHRoKCkge1xuICAgICAgdmFyIHZhbHVlID0gKHRoaXMucm91bmRWYWx1ZSh0aGlzLmludGVybmFsVmFsdWUpIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICogMTAwO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgdHJhY2tGaWxsU3R5bGVzOiBmdW5jdGlvbiB0cmFja0ZpbGxTdHlsZXMoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBzdGFydERpciA9IHRoaXMudmVydGljYWwgPyAnYm90dG9tJyA6ICdsZWZ0JztcbiAgICAgIHZhciBlbmREaXIgPSB0aGlzLnZlcnRpY2FsID8gJ3RvcCcgOiAncmlnaHQnO1xuICAgICAgdmFyIHZhbHVlRGlyID0gdGhpcy52ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgIHZhciBzdGFydCA9IHRoaXMuJHZ1ZXRpZnkucnRsID8gJ2F1dG8nIDogJzAnO1xuICAgICAgdmFyIGVuZCA9IHRoaXMuJHZ1ZXRpZnkucnRsID8gJzAnIDogJ2F1dG8nO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5kaXNhYmxlZCA/IFwiY2FsYyhcIiArIHRoaXMuaW5wdXRXaWR0aCArIFwiJSAtIDEwcHgpXCIgOiB0aGlzLmlucHV0V2lkdGggKyBcIiVcIjtcbiAgICAgIHJldHVybiBfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFja1RyYW5zaXRpb25cbiAgICAgIH0sIF9hW3N0YXJ0RGlyXSA9IHN0YXJ0LCBfYVtlbmREaXJdID0gZW5kLCBfYVt2YWx1ZURpcl0gPSB2YWx1ZSwgX2E7XG4gICAgfSxcbiAgICB0cmFja1N0eWxlczogZnVuY3Rpb24gdHJhY2tTdHlsZXMoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBzdGFydERpciA9IHRoaXMudmVydGljYWwgPyB0aGlzLiR2dWV0aWZ5LnJ0bCA/ICdib3R0b20nIDogJ3RvcCcgOiB0aGlzLiR2dWV0aWZ5LnJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB2YXIgZW5kRGlyID0gdGhpcy52ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgIHZhciBzdGFydCA9ICcwcHgnO1xuICAgICAgdmFyIGVuZCA9IHRoaXMuZGlzYWJsZWQgPyBcImNhbGMoXCIgKyAoMTAwIC0gdGhpcy5pbnB1dFdpZHRoKSArIFwiJSAtIDEwcHgpXCIgOiBcImNhbGMoXCIgKyAoMTAwIC0gdGhpcy5pbnB1dFdpZHRoKSArIFwiJSlcIjtcbiAgICAgIHJldHVybiBfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFja1RyYW5zaXRpb25cbiAgICAgIH0sIF9hW3N0YXJ0RGlyXSA9IHN0YXJ0LCBfYVtlbmREaXJdID0gZW5kLCBfYTtcbiAgICB9LFxuICAgIHNob3dUaWNrczogZnVuY3Rpb24gc2hvd1RpY2tzKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGlja0xhYmVscy5sZW5ndGggPiAwIHx8ICEhKCF0aGlzLmRpc2FibGVkICYmIHRoaXMuc3RlcE51bWVyaWMgJiYgdGhpcy50aWNrcyk7XG4gICAgfSxcbiAgICBudW1UaWNrczogZnVuY3Rpb24gbnVtVGlja3MoKSB7XG4gICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyB0aGlzLnN0ZXBOdW1lcmljKTtcbiAgICB9LFxuICAgIHNob3dUaHVtYkxhYmVsOiBmdW5jdGlvbiBzaG93VGh1bWJMYWJlbCgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZCAmJiAhISh0aGlzLnRodW1iTGFiZWwgfHwgdGhpcy4kc2NvcGVkU2xvdHNbJ3RodW1iLWxhYmVsJ10pO1xuICAgIH0sXG4gICAgY29tcHV0ZWRUcmFja0NvbG9yOiBmdW5jdGlvbiBjb21wdXRlZFRyYWNrQ29sb3IoKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIGlmICh0aGlzLnRyYWNrQ29sb3IpIHJldHVybiB0aGlzLnRyYWNrQ29sb3I7XG4gICAgICBpZiAodGhpcy5pc0RhcmspIHJldHVybiB0aGlzLnZhbGlkYXRpb25TdGF0ZTtcbiAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb25TdGF0ZSB8fCAncHJpbWFyeSBsaWdodGVuLTMnO1xuICAgIH0sXG4gICAgY29tcHV0ZWRUcmFja0ZpbGxDb2xvcjogZnVuY3Rpb24gY29tcHV0ZWRUcmFja0ZpbGxDb2xvcigpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRoaXMudHJhY2tGaWxsQ29sb3IpIHJldHVybiB0aGlzLnRyYWNrRmlsbENvbG9yO1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblN0YXRlIHx8IHRoaXMuY29tcHV0ZWRDb2xvcjtcbiAgICB9LFxuICAgIGNvbXB1dGVkVGh1bWJDb2xvcjogZnVuY3Rpb24gY29tcHV0ZWRUaHVtYkNvbG9yKCkge1xuICAgICAgaWYgKHRoaXMudGh1bWJDb2xvcikgcmV0dXJuIHRoaXMudGh1bWJDb2xvcjtcbiAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb25TdGF0ZSB8fCB0aGlzLmNvbXB1dGVkQ29sb3I7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIG1pbjogZnVuY3Rpb24gbWluKHZhbCkge1xuICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgIHBhcnNlZCA+IHRoaXMuaW50ZXJuYWxWYWx1ZSAmJiB0aGlzLiRlbWl0KCdpbnB1dCcsIHBhcnNlZCk7XG4gICAgfSxcbiAgICBtYXg6IGZ1bmN0aW9uIG1heCh2YWwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICBwYXJzZWQgPCB0aGlzLmludGVybmFsVmFsdWUgJiYgdGhpcy4kZW1pdCgnaW5wdXQnLCBwYXJzZWQpO1xuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikge1xuICAgICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB2O1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgLy8gSWYgZG9uZSBpbiBhcyBpbW1lZGlhdGUgaW5cbiAgLy8gdmFsdWUgd2F0Y2hlciwgY2F1c2VzIGlzc3Vlc1xuICAvLyB3aXRoIHZ1ZS10ZXN0LXV0aWxzXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHtcbiAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLnZhbHVlO1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIC8vIFdpdGhvdXQgYSB2LWFwcCwgaU9TIGRvZXMgbm90IHdvcmsgd2l0aCBib2R5IHNlbGVjdG9yc1xuICAgIHRoaXMuYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYXBwXScpIHx8IE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJjb25zb2xlV2FyblwiXSkoJ01pc3Npbmcgdi1hcHAgb3IgYSBub24tYm9keSB3cmFwcGluZyBlbGVtZW50IHdpdGggdGhlIFtkYXRhLWFwcF0gYXR0cmlidXRlJywgdGhpcyk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5EZWZhdWx0U2xvdDogZnVuY3Rpb24gZ2VuRGVmYXVsdFNsb3QoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5nZW5MYWJlbCgpXTtcbiAgICAgIHZhciBzbGlkZXIgPSB0aGlzLmdlblNsaWRlcigpO1xuICAgICAgdGhpcy5pbnZlcnNlTGFiZWwgPyBjaGlsZHJlbi51bnNoaWZ0KHNsaWRlcikgOiBjaGlsZHJlbi5wdXNoKHNsaWRlcik7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuUHJvZ3Jlc3MoKSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfSxcbiAgICBnZW5TbGlkZXI6IGZ1bmN0aW9uIGdlblNsaWRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICAgJ3Ytc2xpZGVyJzogdHJ1ZSxcbiAgICAgICAgICAndi1zbGlkZXItLWhvcml6b250YWwnOiAhdGhpcy52ZXJ0aWNhbCxcbiAgICAgICAgICAndi1zbGlkZXItLXZlcnRpY2FsJzogdGhpcy52ZXJ0aWNhbCxcbiAgICAgICAgICAndi1zbGlkZXItLWZvY3VzZWQnOiB0aGlzLmlzRm9jdXNlZCxcbiAgICAgICAgICAndi1zbGlkZXItLWFjdGl2ZSc6IHRoaXMuaXNBY3RpdmUsXG4gICAgICAgICAgJ3Ytc2xpZGVyLS1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgJ3Ytc2xpZGVyLS1yZWFkb25seSc6IHRoaXMucmVhZG9ubHlcbiAgICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpLFxuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICdjbGljay1vdXRzaWRlJyxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5vbkJsdXJcbiAgICAgICAgfV0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IHRoaXMub25TbGlkZXJDbGlja1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLmdlbkNoaWxkcmVuKCkpO1xuICAgIH0sXG4gICAgZ2VuQ2hpbGRyZW46IGZ1bmN0aW9uIGdlbkNoaWxkcmVuKCkge1xuICAgICAgcmV0dXJuIFt0aGlzLmdlbklucHV0KCksIHRoaXMuZ2VuVHJhY2tDb250YWluZXIoKSwgdGhpcy5nZW5TdGVwcygpLCB0aGlzLmdlblRodW1iQ29udGFpbmVyKHRoaXMuaW50ZXJuYWxWYWx1ZSwgdGhpcy5pbnB1dFdpZHRoLCB0aGlzLmlzQWN0aXZlLCB0aGlzLmlzRm9jdXNlZCwgdGhpcy5vblRodW1iTW91c2VEb3duLCB0aGlzLm9uRm9jdXMsIHRoaXMub25CbHVyKV07XG4gICAgfSxcbiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgIGF0dHJzOiBfX2Fzc2lnbih7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxWYWx1ZSxcbiAgICAgICAgICBpZDogdGhpcy5jb21wdXRlZElkLFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgIHRhYmluZGV4OiAtMVxuICAgICAgICB9LCB0aGlzLiRhdHRycylcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuVHJhY2tDb250YWluZXI6IGZ1bmN0aW9uIGdlblRyYWNrQ29udGFpbmVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29tcHV0ZWRUcmFja0NvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RyYWNrLWJhY2tncm91bmQnLFxuICAgICAgICBzdHlsZTogdGhpcy50cmFja1N0eWxlc1xuICAgICAgfSkpLCB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbXB1dGVkVHJhY2tGaWxsQ29sb3IsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlcl9fdHJhY2stZmlsbCcsXG4gICAgICAgIHN0eWxlOiB0aGlzLnRyYWNrRmlsbFN0eWxlc1xuICAgICAgfSkpXTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RyYWNrLWNvbnRhaW5lcicsXG4gICAgICAgIHJlZjogJ3RyYWNrJ1xuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuU3RlcHM6IGZ1bmN0aW9uIGdlblN0ZXBzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLnN0ZXAgfHwgIXRoaXMuc2hvd1RpY2tzKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciB0aWNrU2l6ZSA9IHBhcnNlRmxvYXQodGhpcy50aWNrU2l6ZSk7XG4gICAgICB2YXIgcmFuZ2UgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiY3JlYXRlUmFuZ2VcIl0pKHRoaXMubnVtVGlja3MgKyAxKTtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnZlcnRpY2FsID8gJ2JvdHRvbScgOiAnbGVmdCc7XG4gICAgICB2YXIgb2Zmc2V0RGlyZWN0aW9uID0gdGhpcy52ZXJ0aWNhbCA/ICdyaWdodCcgOiAndG9wJztcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSByYW5nZS5yZXZlcnNlKCk7XG4gICAgICB2YXIgdGlja3MgPSByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIHZhciBpbmRleCA9IF90aGlzLiR2dWV0aWZ5LnJ0bCA/IF90aGlzLm1heFZhbHVlIC0gaSA6IGk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIGlmIChfdGhpcy50aWNrTGFiZWxzW2luZGV4XSkge1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2goX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RpY2stbGFiZWwnXG4gICAgICAgICAgfSwgX3RoaXMudGlja0xhYmVsc1tpbmRleF0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGkgKiAoMTAwIC8gX3RoaXMubnVtVGlja3MpO1xuICAgICAgICB2YXIgZmlsbGVkID0gX3RoaXMuJHZ1ZXRpZnkucnRsID8gMTAwIC0gX3RoaXMuaW5wdXRXaWR0aCA8IHdpZHRoIDogd2lkdGggPCBfdGhpcy5pbnB1dFdpZHRoO1xuICAgICAgICByZXR1cm4gX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RpY2snLFxuICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAndi1zbGlkZXJfX3RpY2stLWZpbGxlZCc6IGZpbGxlZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IChfYSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aWNrU2l6ZSArIFwicHhcIixcbiAgICAgICAgICAgIGhlaWdodDogdGlja1NpemUgKyBcInB4XCJcbiAgICAgICAgICB9LCBfYVtkaXJlY3Rpb25dID0gXCJjYWxjKFwiICsgd2lkdGggKyBcIiUgLSBcIiArIHRpY2tTaXplIC8gMiArIFwicHgpXCIsIF9hW29mZnNldERpcmVjdGlvbl0gPSBcImNhbGMoNTAlIC0gXCIgKyB0aWNrU2l6ZSAvIDIgKyBcInB4KVwiLCBfYSlcbiAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190aWNrcy1jb250YWluZXInLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXNsaWRlcl9fdGlja3MtY29udGFpbmVyLS1hbHdheXMtc2hvdyc6IHRoaXMudGlja3MgPT09ICdhbHdheXMnIHx8IHRoaXMudGlja0xhYmVscy5sZW5ndGggPiAwXG4gICAgICAgIH1cbiAgICAgIH0sIHRpY2tzKTtcbiAgICB9LFxuICAgIGdlblRodW1iQ29udGFpbmVyOiBmdW5jdGlvbiBnZW5UaHVtYkNvbnRhaW5lcih2YWx1ZSwgdmFsdWVXaWR0aCwgaXNBY3RpdmUsIGlzRm9jdXNlZCwgb25EcmFnLCBvbkZvY3VzLCBvbkJsdXIsIHJlZikge1xuICAgICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJlZiA9ICd0aHVtYic7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLmdlblRodW1iKCldO1xuICAgICAgdmFyIHRodW1iTGFiZWxDb250ZW50ID0gdGhpcy5nZW5UaHVtYkxhYmVsQ29udGVudCh2YWx1ZSk7XG4gICAgICB0aGlzLnNob3dUaHVtYkxhYmVsICYmIGNoaWxkcmVuLnB1c2godGhpcy5nZW5UaHVtYkxhYmVsKHRodW1iTGFiZWxDb250ZW50KSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb21wdXRlZFRodW1iQ29sb3IsIHtcbiAgICAgICAgcmVmOiByZWYsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RodW1iLWNvbnRhaW5lcicsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3Ytc2xpZGVyX190aHVtYi1jb250YWluZXItLWFjdGl2ZSc6IGlzQWN0aXZlLFxuICAgICAgICAgICd2LXNsaWRlcl9fdGh1bWItY29udGFpbmVyLS1mb2N1c2VkJzogaXNGb2N1c2VkLFxuICAgICAgICAgICd2LXNsaWRlcl9fdGh1bWItY29udGFpbmVyLS1zaG93LWxhYmVsJzogdGhpcy5zaG93VGh1bWJMYWJlbFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZTogdGhpcy5nZXRUaHVtYkNvbnRhaW5lclN0eWxlcyh2YWx1ZVdpZHRoKSxcbiAgICAgICAgYXR0cnM6IF9fYXNzaWduKHtcbiAgICAgICAgICByb2xlOiAnc2xpZGVyJyxcbiAgICAgICAgICB0YWJpbmRleDogdGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5ID8gLTEgOiB0aGlzLiRhdHRycy50YWJpbmRleCA/IHRoaXMuJGF0dHJzLnRhYmluZGV4IDogMCxcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMubGFiZWwsXG4gICAgICAgICAgJ2FyaWEtdmFsdWVtaW4nOiB0aGlzLm1pbixcbiAgICAgICAgICAnYXJpYS12YWx1ZW1heCc6IHRoaXMubWF4LFxuICAgICAgICAgICdhcmlhLXZhbHVlbm93JzogdGhpcy5pbnRlcm5hbFZhbHVlLFxuICAgICAgICAgICdhcmlhLXJlYWRvbmx5JzogU3RyaW5nKHRoaXMucmVhZG9ubHkpLFxuICAgICAgICAgICdhcmlhLW9yaWVudGF0aW9uJzogdGhpcy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCdcbiAgICAgICAgfSwgdGhpcy4kYXR0cnMpLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGZvY3VzOiBvbkZvY3VzLFxuICAgICAgICAgIGJsdXI6IG9uQmx1cixcbiAgICAgICAgICBrZXlkb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgICBrZXl1cDogdGhpcy5vbktleVVwLFxuICAgICAgICAgIHRvdWNoc3RhcnQ6IG9uRHJhZyxcbiAgICAgICAgICBtb3VzZWRvd246IG9uRHJhZ1xuICAgICAgICB9XG4gICAgICB9KSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuVGh1bWJMYWJlbENvbnRlbnQ6IGZ1bmN0aW9uIGdlblRodW1iTGFiZWxDb250ZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHNbJ3RodW1iLWxhYmVsJ10gPyB0aGlzLiRzY29wZWRTbG90c1sndGh1bWItbGFiZWwnXSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSkgOiBbdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIFtTdHJpbmcodmFsdWUpXSldO1xuICAgIH0sXG4gICAgZ2VuVGh1bWJMYWJlbDogZnVuY3Rpb24gZ2VuVGh1bWJMYWJlbChjb250ZW50KSB7XG4gICAgICB2YXIgc2l6ZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLnRodW1iU2l6ZSk7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy52ZXJ0aWNhbCA/IFwidHJhbnNsYXRlWSgyMCUpIHRyYW5zbGF0ZVkoXCIgKyAoTnVtYmVyKHRoaXMudGh1bWJTaXplKSAvIDMgLSAxKSArIFwicHgpIHRyYW5zbGF0ZVgoNTUlKSByb3RhdGUoMTM1ZGVnKVwiIDogXCJ0cmFuc2xhdGVZKC0yMCUpIHRyYW5zbGF0ZVkoLTEycHgpIHRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKDQ1ZGVnKVwiO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJWU2NhbGVUcmFuc2l0aW9uXCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgb3JpZ2luOiAnYm90dG9tIGNlbnRlcidcbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlcl9fdGh1bWItbGFiZWwtY29udGFpbmVyJyxcbiAgICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgICBuYW1lOiAnc2hvdycsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuaXNGb2N1c2VkIHx8IHRoaXMuaXNBY3RpdmUgfHwgdGhpcy50aHVtYkxhYmVsID09PSAnYWx3YXlzJ1xuICAgICAgICB9XVxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29tcHV0ZWRUaHVtYkNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RodW1iLWxhYmVsJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1cbiAgICAgICAgfVxuICAgICAgfSksIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCBjb250ZW50KV0pXSldKTtcbiAgICB9LFxuICAgIGdlblRodW1iOiBmdW5jdGlvbiBnZW5UaHVtYigpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbXB1dGVkVGh1bWJDb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190aHVtYidcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGdldFRodW1iQ29udGFpbmVyU3R5bGVzOiBmdW5jdGlvbiBnZXRUaHVtYkNvbnRhaW5lclN0eWxlcyh3aWR0aCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy52ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy4kdnVldGlmeS5ydGwgPyAxMDAgLSB3aWR0aCA6IHdpZHRoO1xuICAgICAgdmFsdWUgPSB0aGlzLnZlcnRpY2FsID8gMTAwIC0gdmFsdWUgOiB2YWx1ZTtcbiAgICAgIHJldHVybiBfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFja1RyYW5zaXRpb25cbiAgICAgIH0sIF9hW2RpcmVjdGlvbl0gPSB2YWx1ZSArIFwiJVwiLCBfYTtcbiAgICB9LFxuICAgIG9uVGh1bWJNb3VzZURvd246IGZ1bmN0aW9uIG9uVGh1bWJNb3VzZURvd24oZSkge1xuICAgICAgdGhpcy5vbGRWYWx1ZSA9IHRoaXMuaW50ZXJuYWxWYWx1ZTtcbiAgICAgIHRoaXMua2V5UHJlc3NlZCA9IDI7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgIHZhciBtb3VzZVVwT3B0aW9ucyA9IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcInBhc3NpdmVTdXBwb3J0ZWRcIl0gPyB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0gOiB0cnVlO1xuICAgICAgdmFyIG1vdXNlTW92ZU9wdGlvbnMgPSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJwYXNzaXZlU3VwcG9ydGVkXCJdID8ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9IDogZmFsc2U7XG5cbiAgICAgIGlmICgndG91Y2hlcycgaW4gZSkge1xuICAgICAgICB0aGlzLmFwcC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLCBtb3VzZU1vdmVPcHRpb25zKTtcbiAgICAgICAgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImFkZE9uY2VFdmVudExpc3RlbmVyXCJdKSh0aGlzLmFwcCwgJ3RvdWNoZW5kJywgdGhpcy5vblNsaWRlck1vdXNlVXAsIG1vdXNlVXBPcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIG1vdXNlTW92ZU9wdGlvbnMpO1xuICAgICAgICBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiYWRkT25jZUV2ZW50TGlzdGVuZXJcIl0pKHRoaXMuYXBwLCAnbW91c2V1cCcsIHRoaXMub25TbGlkZXJNb3VzZVVwLCBtb3VzZVVwT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ3N0YXJ0JywgdGhpcy5pbnRlcm5hbFZhbHVlKTtcbiAgICB9LFxuICAgIG9uU2xpZGVyTW91c2VVcDogZnVuY3Rpb24gb25TbGlkZXJNb3VzZVVwKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmtleVByZXNzZWQgPSAwO1xuICAgICAgdmFyIG1vdXNlTW92ZU9wdGlvbnMgPSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJwYXNzaXZlU3VwcG9ydGVkXCJdID8ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9IDogZmFsc2U7XG4gICAgICB0aGlzLmFwcC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLCBtb3VzZU1vdmVPcHRpb25zKTtcbiAgICAgIHRoaXMuYXBwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIG1vdXNlTW92ZU9wdGlvbnMpO1xuICAgICAgdGhpcy4kZW1pdCgnZW5kJywgdGhpcy5pbnRlcm5hbFZhbHVlKTtcblxuICAgICAgaWYgKCFPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVlcEVxdWFsXCJdKSh0aGlzLm9sZFZhbHVlLCB0aGlzLmludGVybmFsVmFsdWUpKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW50ZXJuYWxWYWx1ZSk7XG4gICAgICAgIHRoaXMubm9DbGljayA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB9LFxuICAgIG9uTW91c2VNb3ZlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShlKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlTW91c2VNb3ZlKGUpLnZhbHVlO1xuICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdmFsdWU7XG4gICAgfSxcbiAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5KSByZXR1cm47XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlS2V5RG93bihlLCB0aGlzLmludGVybmFsVmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybjtcbiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpO1xuICAgIH0sXG4gICAgb25LZXlVcDogZnVuY3Rpb24gb25LZXlVcCgpIHtcbiAgICAgIHRoaXMua2V5UHJlc3NlZCA9IDA7XG4gICAgfSxcbiAgICBvblNsaWRlckNsaWNrOiBmdW5jdGlvbiBvblNsaWRlckNsaWNrKGUpIHtcbiAgICAgIGlmICh0aGlzLm5vQ2xpY2spIHtcbiAgICAgICAgdGhpcy5ub0NsaWNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYjtcbiAgICAgIHRodW1iLmZvY3VzKCk7XG4gICAgICB0aGlzLm9uTW91c2VNb3ZlKGUpO1xuICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5pbnRlcm5hbFZhbHVlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLiRlbWl0KCdibHVyJywgZSk7XG4gICAgfSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGVtaXQoJ2ZvY3VzJywgZSk7XG4gICAgfSxcbiAgICBwYXJzZU1vdXNlTW92ZTogZnVuY3Rpb24gcGFyc2VNb3VzZU1vdmUoZSkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy52ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICB2YXIgY2xpY2sgPSB0aGlzLnZlcnRpY2FsID8gJ2NsaWVudFknIDogJ2NsaWVudFgnO1xuXG4gICAgICB2YXIgX2EgPSB0aGlzLiRyZWZzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIF9iID0gc3RhcnQsXG4gICAgICAgICAgdHJhY2tTdGFydCA9IF9hW19iXSxcbiAgICAgICAgICBfYyA9IGxlbmd0aCxcbiAgICAgICAgICB0cmFja0xlbmd0aCA9IF9hW19jXTtcblxuICAgICAgdmFyIGNsaWNrT2Zmc2V0ID0gJ3RvdWNoZXMnIGluIGUgPyBlLnRvdWNoZXNbMF1bY2xpY2tdIDogZVtjbGlja107IC8vIENhbiB3ZSBnZXQgcmlkIG9mIGFueSBoZXJlP1xuICAgICAgLy8gSXQgaXMgcG9zc2libGUgZm9yIGxlZnQgdG8gYmUgTmFOLCBmb3JjZSB0byBudW1iZXJcblxuICAgICAgdmFyIGNsaWNrUG9zID0gTWF0aC5taW4oTWF0aC5tYXgoKGNsaWNrT2Zmc2V0IC0gdHJhY2tTdGFydCkgLyB0cmFja0xlbmd0aCwgMCksIDEpIHx8IDA7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkgY2xpY2tQb3MgPSAxIC0gY2xpY2tQb3M7XG4gICAgICBpZiAodGhpcy4kdnVldGlmeS5ydGwpIGNsaWNrUG9zID0gMSAtIGNsaWNrUG9zO1xuICAgICAgdmFyIGlzSW5zaWRlVHJhY2sgPSBjbGlja09mZnNldCA+PSB0cmFja1N0YXJ0ICYmIGNsaWNrT2Zmc2V0IDw9IHRyYWNrU3RhcnQgKyB0cmFja0xlbmd0aDtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5taW4pICsgY2xpY2tQb3MgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpc0luc2lkZVRyYWNrOiBpc0luc2lkZVRyYWNrXG4gICAgICB9O1xuICAgIH0sXG4gICAgcGFyc2VLZXlEb3duOiBmdW5jdGlvbiBwYXJzZUtleURvd24oZSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgICB2YXIgcGFnZXVwID0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wia2V5Q29kZXNcIl0ucGFnZXVwLFxuICAgICAgICAgIHBhZ2Vkb3duID0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wia2V5Q29kZXNcIl0ucGFnZWRvd24sXG4gICAgICAgICAgZW5kID0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wia2V5Q29kZXNcIl0uZW5kLFxuICAgICAgICAgIGhvbWUgPSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJrZXlDb2Rlc1wiXS5ob21lLFxuICAgICAgICAgIGxlZnQgPSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJrZXlDb2Rlc1wiXS5sZWZ0LFxuICAgICAgICAgIHJpZ2h0ID0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wia2V5Q29kZXNcIl0ucmlnaHQsXG4gICAgICAgICAgZG93biA9IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImtleUNvZGVzXCJdLmRvd24sXG4gICAgICAgICAgdXAgPSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJrZXlDb2Rlc1wiXS51cDtcbiAgICAgIGlmICghW3BhZ2V1cCwgcGFnZWRvd24sIGVuZCwgaG9tZSwgbGVmdCwgcmlnaHQsIGRvd24sIHVwXS5pbmNsdWRlcyhlLmtleUNvZGUpKSByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcE51bWVyaWMgfHwgMTtcbiAgICAgIHZhciBzdGVwcyA9ICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyBzdGVwO1xuXG4gICAgICBpZiAoW2xlZnQsIHJpZ2h0LCBkb3duLCB1cF0uaW5jbHVkZXMoZS5rZXlDb2RlKSkge1xuICAgICAgICB0aGlzLmtleVByZXNzZWQgKz0gMTtcbiAgICAgICAgdmFyIGluY3JlYXNlID0gdGhpcy4kdnVldGlmeS5ydGwgPyBbbGVmdCwgdXBdIDogW3JpZ2h0LCB1cF07XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbmNyZWFzZS5pbmNsdWRlcyhlLmtleUNvZGUpID8gMSA6IC0xO1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IGUuc2hpZnRLZXkgPyAzIDogZS5jdHJsS2V5ID8gMiA6IDE7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgKyBkaXJlY3Rpb24gKiBzdGVwICogbXVsdGlwbGllcjtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSBob21lKSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5taW5WYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSBlbmQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLm1heFZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGUua2V5Q29kZSA9PT0gcGFnZWRvd24gPyAxIDogLTE7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgLSBkaXJlY3Rpb24gKiBzdGVwICogKHN0ZXBzID4gMTAwID8gc3RlcHMgLyAxMCA6IDEwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgcm91bmRWYWx1ZTogZnVuY3Rpb24gcm91bmRWYWx1ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLnN0ZXBOdW1lcmljKSByZXR1cm4gdmFsdWU7IC8vIEZvcm1hdCBpbnB1dCB2YWx1ZSB1c2luZyB0aGUgc2FtZSBudW1iZXJcbiAgICAgIC8vIG9mIGRlY2ltYWxzIHBsYWNlcyBhcyBpbiB0aGUgc3RlcCBwcm9wXG5cbiAgICAgIHZhciB0cmltbWVkU3RlcCA9IHRoaXMuc3RlcC50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgIHZhciBkZWNpbWFscyA9IHRyaW1tZWRTdGVwLmluZGV4T2YoJy4nKSA+IC0xID8gdHJpbW1lZFN0ZXAubGVuZ3RoIC0gdHJpbW1lZFN0ZXAuaW5kZXhPZignLicpIC0gMSA6IDA7XG4gICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5taW5WYWx1ZSAlIHRoaXMuc3RlcE51bWVyaWM7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBNYXRoLnJvdW5kKCh2YWx1ZSAtIG9mZnNldCkgLyB0aGlzLnN0ZXBOdW1lcmljKSAqIHRoaXMuc3RlcE51bWVyaWMgKyBvZmZzZXQ7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChNYXRoLm1pbihuZXdWYWx1ZSwgdGhpcy5tYXhWYWx1ZSkudG9GaXhlZChkZWNpbWFscykpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbGlkZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlNsaWRlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU2xpZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2xpZGVyL1ZTbGlkZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2xpZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTbGlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNuYWNrYmFyL1ZTbmFja2Jhci5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNuYWNrYmFyL1ZTbmFja2Jhci5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbmFja2Jhci9WU25hY2tiYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNuYWNrYmFyL1ZTbmFja2Jhci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNuYWNrYmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNuYWNrYmFyLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbmFja2Jhci9WU25hY2tiYXIuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNuYWNrYmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlNuYWNrYmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfdG9nZ2xlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RvZ2dsZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdG9nZ2xlYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3Bvc2l0aW9uYWJsZSAqLyBcIi4vc3JjL21peGlucy9wb3NpdGlvbmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8vIFN0eWxlc1xuIC8vIE1peGluc1xuXG5cblxuIC8vIFR5cGVzXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZmFjdG9yeVwiXSkoWydhYnNvbHV0ZScsICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXSlcbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXNuYWNrYmFyJyxcbiAgcHJvcHM6IHtcbiAgICBtdWx0aUxpbmU6IEJvb2xlYW4sXG4gICAgLy8gVE9ETzogY2hhbmdlIHRoaXMgdG8gY2xvc2VEZWxheSB0byBtYXRjaCBvdGhlciBBUEkgaW4gZGVsYXlhYmxlLmpzXG4gICAgdGltZW91dDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogNjAwMFxuICAgIH0sXG4gICAgdmVydGljYWw6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlVGltZW91dDogLTFcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAndi1zbmFjay0tYWN0aXZlJzogdGhpcy5pc0FjdGl2ZSxcbiAgICAgICAgJ3Ytc25hY2stLWFic29sdXRlJzogdGhpcy5hYnNvbHV0ZSxcbiAgICAgICAgJ3Ytc25hY2stLWJvdHRvbSc6IHRoaXMuYm90dG9tIHx8ICF0aGlzLnRvcCxcbiAgICAgICAgJ3Ytc25hY2stLWxlZnQnOiB0aGlzLmxlZnQsXG4gICAgICAgICd2LXNuYWNrLS1tdWx0aS1saW5lJzogdGhpcy5tdWx0aUxpbmUgJiYgIXRoaXMudmVydGljYWwsXG4gICAgICAgICd2LXNuYWNrLS1yaWdodCc6IHRoaXMucmlnaHQsXG4gICAgICAgICd2LXNuYWNrLS10b3AnOiB0aGlzLnRvcCxcbiAgICAgICAgJ3Ytc25hY2stLXZlcnRpY2FsJzogdGhpcy52ZXJ0aWNhbFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgdGhpcy5zZXRUaW1lb3V0KCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIGlmICh0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnYXV0by1oZWlnaHQnKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcInJlbW92ZWRcIl0pKCdhdXRvLWhlaWdodCcsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLnNldFRpbWVvdXQoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uIHNldFRpbWVvdXQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZlVGltZW91dCk7XG5cbiAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIHRoaXMudGltZW91dCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSwgdGhpcy50aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICByZXR1cm4gaCgndHJhbnNpdGlvbicsIHtcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIG5hbWU6ICd2LXNuYWNrLXRyYW5zaXRpb24nXG4gICAgICB9XG4gICAgfSwgW3RoaXMuaXNBY3RpdmUgJiYgaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXNuYWNrJyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBvbjogdGhpcy4kbGlzdGVuZXJzXG4gICAgfSwgW2goJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1zbmFja19fd3JhcHBlcidcbiAgICB9KSwgW2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1zbmFja19fY29udGVudCdcbiAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KV0pXSldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbmFja2Jhci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTbmFja2Jhci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWU25hY2tiYXIsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbmFja2Jhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU25hY2tiYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTbmFja2Jhci9WU25hY2tiYXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU25hY2tiYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNuYWNrYmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZTbmFja2Jhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9WU3BhcmtsaW5lLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTcGFya2xpbmUvVlNwYXJrbGluZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9WU3BhcmtsaW5lLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9WU3BhcmtsaW5lLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTcGFya2xpbmVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3BhcmtsaW5lLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTcGFya2xpbmUvVlNwYXJrbGluZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3BhcmtsaW5lX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlNwYXJrbGluZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9oZWxwZXJzX2NvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycy9jb3JlICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BhcmtsaW5lL2hlbHBlcnMvY29yZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19wYXRoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlcnMvcGF0aCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9oZWxwZXJzL3BhdGgudHNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG4gLy8gTWl4aW5zXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ1ZTcGFya2xpbmUnLFxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICBwcm9wczoge1xuICAgIGF1dG9EcmF3OiBCb29sZWFuLFxuICAgIGF1dG9EcmF3RHVyYXRpb246IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDIwMDBcbiAgICB9LFxuICAgIGF1dG9EcmF3RWFzaW5nOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZWFzZSdcbiAgICB9LFxuICAgIGF1dG9MaW5lV2lkdGg6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgY29sb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdwcmltYXJ5J1xuICAgIH0sXG4gICAgZmlsbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBncmFkaWVudDoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ3JhZGllbnREaXJlY3Rpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuICAgICAgICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXS5pbmNsdWRlcyh2YWwpO1xuICAgICAgfSxcbiAgICAgIGRlZmF1bHQ6ICd0b3AnXG4gICAgfSxcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiA3NVxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICBsYWJlbFNpemU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiA3XG4gICAgfSxcbiAgICBsaW5lV2lkdGg6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiA0XG4gICAgfSxcbiAgICBwYWRkaW5nOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogOFxuICAgIH0sXG4gICAgc2hvd0xhYmVsczogQm9vbGVhbixcbiAgICBzbW9vdGg6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3RyZW5kJyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuICAgICAgICByZXR1cm4gWyd0cmVuZCcsICdiYXInXS5pbmNsdWRlcyh2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdpZHRoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMzAwXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0TGVuZ3RoOiAwXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3Ytc3BhcmtsaW5lJzogdHJ1ZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgIH0sXG4gICAgcGFyc2VkUGFkZGluZzogZnVuY3Rpb24gcGFyc2VkUGFkZGluZygpIHtcbiAgICAgIHJldHVybiBOdW1iZXIodGhpcy5wYWRkaW5nKTtcbiAgICB9LFxuICAgIHBhcnNlZFdpZHRoOiBmdW5jdGlvbiBwYXJzZWRXaWR0aCgpIHtcbiAgICAgIHJldHVybiBOdW1iZXIodGhpcy53aWR0aCk7XG4gICAgfSxcbiAgICBwYXJzZWRIZWlnaHQ6IGZ1bmN0aW9uIHBhcnNlZEhlaWdodCgpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmhlaWdodCwgMTApO1xuICAgIH0sXG4gICAgcGFyc2VkTGFiZWxTaXplOiBmdW5jdGlvbiBwYXJzZWRMYWJlbFNpemUoKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5sYWJlbFNpemUsIDEwKSB8fCA3O1xuICAgIH0sXG4gICAgdG90YWxIZWlnaHQ6IGZ1bmN0aW9uIHRvdGFsSGVpZ2h0KCkge1xuICAgICAgdmFyIGhlaWdodCA9IHRoaXMucGFyc2VkSGVpZ2h0O1xuICAgICAgaWYgKHRoaXMuaGFzTGFiZWxzKSBoZWlnaHQgKz0gcGFyc2VJbnQodGhpcy5sYWJlbFNpemUsIDEwKSAqIDEuNTtcbiAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfSxcbiAgICB0b3RhbFdpZHRoOiBmdW5jdGlvbiB0b3RhbFdpZHRoKCkge1xuICAgICAgdmFyIHdpZHRoID0gdGhpcy5wYXJzZWRXaWR0aDtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdiYXInKSB3aWR0aCA9IE1hdGgubWF4KHRoaXMudmFsdWUubGVuZ3RoICogdGhpcy5fbGluZVdpZHRoLCB3aWR0aCk7XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfSxcbiAgICB0b3RhbFZhbHVlczogZnVuY3Rpb24gdG90YWxWYWx1ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgfSxcbiAgICBfbGluZVdpZHRoOiBmdW5jdGlvbiBfbGluZVdpZHRoKCkge1xuICAgICAgaWYgKHRoaXMuYXV0b0xpbmVXaWR0aCAmJiB0aGlzLnR5cGUgIT09ICd0cmVuZCcpIHtcbiAgICAgICAgdmFyIHRvdGFsUGFkZGluZyA9IHRoaXMucGFyc2VkUGFkZGluZyAqICh0aGlzLnRvdGFsVmFsdWVzICsgMSk7XG4gICAgICAgIHJldHVybiAodGhpcy5wYXJzZWRXaWR0aCAtIHRvdGFsUGFkZGluZykgLyB0aGlzLnRvdGFsVmFsdWVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5saW5lV2lkdGgpIHx8IDQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBib3VuZGFyeTogZnVuY3Rpb24gYm91bmRhcnkoKSB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnYmFyJykgcmV0dXJuIHtcbiAgICAgICAgbWluWDogMCxcbiAgICAgICAgbWF4WDogdGhpcy50b3RhbFdpZHRoLFxuICAgICAgICBtaW5ZOiAwLFxuICAgICAgICBtYXhZOiB0aGlzLnBhcnNlZEhlaWdodFxuICAgICAgfTtcbiAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYXJzZWRQYWRkaW5nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWluWDogcGFkZGluZyxcbiAgICAgICAgbWF4WDogdGhpcy50b3RhbFdpZHRoIC0gcGFkZGluZyxcbiAgICAgICAgbWluWTogcGFkZGluZyxcbiAgICAgICAgbWF4WTogdGhpcy5wYXJzZWRIZWlnaHQgLSBwYWRkaW5nXG4gICAgICB9O1xuICAgIH0sXG4gICAgaGFzTGFiZWxzOiBmdW5jdGlvbiBoYXNMYWJlbHMoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnNob3dMYWJlbHMgfHwgdGhpcy5sYWJlbHMubGVuZ3RoID4gMCB8fCB0aGlzLiRzY29wZWRTbG90cy5sYWJlbCk7XG4gICAgfSxcbiAgICBwYXJzZWRMYWJlbHM6IGZ1bmN0aW9uIHBhcnNlZExhYmVscygpIHtcbiAgICAgIHZhciBsYWJlbHMgPSBbXTtcbiAgICAgIHZhciBwb2ludHMgPSB0aGlzLl92YWx1ZXM7XG4gICAgICB2YXIgbGVuID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGxhYmVscy5sZW5ndGggPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IHBvaW50c1tpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5sYWJlbHNbaV07XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHZhbHVlID0gX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCcgPyBpdGVtLnZhbHVlIDogaXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhYmVscy5wdXNoKHtcbiAgICAgICAgICB4OiBpdGVtLngsXG4gICAgICAgICAgdmFsdWU6IFN0cmluZyh2YWx1ZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsYWJlbHM7XG4gICAgfSxcbiAgICBub3JtYWxpemVkVmFsdWVzOiBmdW5jdGlvbiBub3JtYWxpemVkVmFsdWVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicgPyBpdGVtIDogaXRlbS52YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX3ZhbHVlczogZnVuY3Rpb24gX3ZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09ICd0cmVuZCcgPyBPYmplY3QoX2hlbHBlcnNfY29yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2VuUG9pbnRzXCJdKSh0aGlzLm5vcm1hbGl6ZWRWYWx1ZXMsIHRoaXMuYm91bmRhcnkpIDogT2JqZWN0KF9oZWxwZXJzX2NvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdlbkJhcnNcIl0pKHRoaXMubm9ybWFsaXplZFZhbHVlcywgdGhpcy5ib3VuZGFyeSk7XG4gICAgfSxcbiAgICB0ZXh0WTogZnVuY3Rpb24gdGV4dFkoKSB7XG4gICAgICB2YXIgeSA9IHRoaXMucGFyc2VkSGVpZ2h0O1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3RyZW5kJykgeSAtPSA0O1xuICAgICAgcmV0dXJuIHk7XG4gICAgfSxcbiAgICBfcmFkaXVzOiBmdW5jdGlvbiBfcmFkaXVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc21vb3RoID09PSB0cnVlID8gOCA6IE51bWJlcih0aGlzLnNtb290aCk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIHZhbHVlOiB7XG4gICAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIV90aGlzLmF1dG9EcmF3IHx8IF90aGlzLnR5cGUgPT09ICdiYXInKSByZXR1cm47XG4gICAgICAgICAgdmFyIHBhdGggPSBfdGhpcy4kcmVmcy5wYXRoO1xuICAgICAgICAgIHZhciBsZW5ndGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG5cbiAgICAgICAgICBpZiAoIV90aGlzLmZpbGwpIHtcbiAgICAgICAgICAgIHBhdGguc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgICAgIHBhdGguc3R5bGUuc3Ryb2tlRGFzaGFycmF5ID0gbGVuZ3RoICsgJyAnICsgbGVuZ3RoO1xuICAgICAgICAgICAgcGF0aC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gTWF0aC5hYnMobGVuZ3RoIC0gKF90aGlzLmxhc3RMZW5ndGggfHwgMCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBwYXRoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgcGF0aC5zdHlsZS50cmFuc2l0aW9uID0gXCJzdHJva2UtZGFzaG9mZnNldCBcIiArIF90aGlzLmF1dG9EcmF3RHVyYXRpb24gKyBcIm1zIFwiICsgX3RoaXMuYXV0b0RyYXdFYXNpbmc7XG4gICAgICAgICAgICBwYXRoLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSAnMCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGguc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2JvdHRvbSBjZW50ZXInO1xuICAgICAgICAgICAgcGF0aC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICAgICAgcGF0aC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlWSgwKVwiO1xuICAgICAgICAgICAgcGF0aC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHBhdGguc3R5bGUudHJhbnNpdGlvbiA9IFwidHJhbnNmb3JtIFwiICsgX3RoaXMuYXV0b0RyYXdEdXJhdGlvbiArIFwibXMgXCIgKyBfdGhpcy5hdXRvRHJhd0Vhc2luZztcbiAgICAgICAgICAgIHBhdGguc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZVkoMSlcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5sYXN0TGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5HcmFkaWVudDogZnVuY3Rpb24gZ2VuR3JhZGllbnQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZ3JhZGllbnREaXJlY3Rpb24gPSB0aGlzLmdyYWRpZW50RGlyZWN0aW9uO1xuICAgICAgdmFyIGdyYWRpZW50ID0gdGhpcy5ncmFkaWVudC5zbGljZSgpOyAvLyBQdXNoZXMgZW1wdHkgc3RyaW5nIHRvIGZvcmNlXG4gICAgICAvLyBhIGZhbGxiYWNrIHRvIGN1cnJlbnRDb2xvclxuXG4gICAgICBpZiAoIWdyYWRpZW50Lmxlbmd0aCkgZ3JhZGllbnQucHVzaCgnJyk7XG4gICAgICB2YXIgbGVuID0gTWF0aC5tYXgoZ3JhZGllbnQubGVuZ3RoIC0gMSwgMSk7XG4gICAgICB2YXIgc3RvcHMgPSBncmFkaWVudC5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uIChjb2xvciwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KCdzdG9wJywge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBvZmZzZXQ6IGluZGV4IC8gbGVuLFxuICAgICAgICAgICAgJ3N0b3AtY29sb3InOiBjb2xvciB8fCBfdGhpcy5jb2xvciB8fCAnY3VycmVudENvbG9yJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkZWZzJywgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2xpbmVhckdyYWRpZW50Jywge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGlkOiB0aGlzLl91aWQsXG4gICAgICAgICAgeDE6ICsoZ3JhZGllbnREaXJlY3Rpb24gPT09ICdsZWZ0JyksXG4gICAgICAgICAgeTE6ICsoZ3JhZGllbnREaXJlY3Rpb24gPT09ICd0b3AnKSxcbiAgICAgICAgICB4MjogKyhncmFkaWVudERpcmVjdGlvbiA9PT0gJ3JpZ2h0JyksXG4gICAgICAgICAgeTI6ICsoZ3JhZGllbnREaXJlY3Rpb24gPT09ICdib3R0b20nKVxuICAgICAgICB9XG4gICAgICB9LCBzdG9wcyldKTtcbiAgICB9LFxuICAgIGdlbkc6IGZ1bmN0aW9uIGdlbkcoY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdnJywge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGZvbnRTaXplOiAnOCcsXG4gICAgICAgICAgdGV4dEFuY2hvcjogJ21pZGRsZScsXG4gICAgICAgICAgZG9taW5hbnRCYXNlbGluZTogJ21hdGhlbWF0aWNhbCcsXG4gICAgICAgICAgZmlsbDogdGhpcy5jb2xvciB8fCAnY3VycmVudENvbG9yJ1xuICAgICAgICB9XG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5QYXRoOiBmdW5jdGlvbiBnZW5QYXRoKCkge1xuICAgICAgdmFyIHBvaW50cyA9IE9iamVjdChfaGVscGVyc19jb3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZW5Qb2ludHNcIl0pKHRoaXMubm9ybWFsaXplZFZhbHVlcywgdGhpcy5ib3VuZGFyeSk7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgncGF0aCcsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBpZDogdGhpcy5fdWlkLFxuICAgICAgICAgIGQ6IE9iamVjdChfaGVscGVyc19wYXRoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJnZW5QYXRoXCJdKShwb2ludHMsIHRoaXMuX3JhZGl1cywgdGhpcy5maWxsLCB0aGlzLnBhcnNlZEhlaWdodCksXG4gICAgICAgICAgZmlsbDogdGhpcy5maWxsID8gXCJ1cmwoI1wiICsgdGhpcy5fdWlkICsgXCIpXCIgOiAnbm9uZScsXG4gICAgICAgICAgc3Ryb2tlOiB0aGlzLmZpbGwgPyAnbm9uZScgOiBcInVybCgjXCIgKyB0aGlzLl91aWQgKyBcIilcIlxuICAgICAgICB9LFxuICAgICAgICByZWY6ICdwYXRoJ1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5MYWJlbHM6IGZ1bmN0aW9uIGdlbkxhYmVscyhvZmZzZXRYKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnBhcnNlZExhYmVscy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLiRjcmVhdGVFbGVtZW50KCd0ZXh0Jywge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB4OiBpdGVtLnggKyBvZmZzZXRYICsgX3RoaXMuX2xpbmVXaWR0aCAvIDIsXG4gICAgICAgICAgICB5OiBfdGhpcy50ZXh0WSArIF90aGlzLnBhcnNlZExhYmVsU2l6ZSAqIDAuNzUsXG4gICAgICAgICAgICAnZm9udC1zaXplJzogTnVtYmVyKF90aGlzLmxhYmVsU2l6ZSkgfHwgN1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgW190aGlzLmdlbkxhYmVsKGl0ZW0sIGkpXSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLmdlbkcoY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuTGFiZWw6IGZ1bmN0aW9uIGdlbkxhYmVsKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMubGFiZWwgPyB0aGlzLiRzY29wZWRTbG90cy5sYWJlbCh7XG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWVcbiAgICAgIH0pIDogaXRlbS52YWx1ZTtcbiAgICB9LFxuICAgIGdlbkJhcnM6IGZ1bmN0aW9uIGdlbkJhcnMoKSB7XG4gICAgICBpZiAoIXRoaXMudmFsdWUgfHwgdGhpcy50b3RhbFZhbHVlcyA8IDIpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBiYXJzID0gT2JqZWN0KF9oZWxwZXJzX2NvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdlbkJhcnNcIl0pKHRoaXMubm9ybWFsaXplZFZhbHVlcywgdGhpcy5ib3VuZGFyeSk7XG5cbiAgICAgIHZhciBvZmZzZXRYID0gKE1hdGguYWJzKGJhcnNbMF0ueCAtIGJhcnNbMV0ueCkgLSB0aGlzLl9saW5lV2lkdGgpIC8gMjtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdzdmcnLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICB2aWV3Qm94OiBcIjAgMCBcIiArIHRoaXMudG90YWxXaWR0aCArIFwiIFwiICsgdGhpcy50b3RhbEhlaWdodFxuICAgICAgICB9LFxuICAgICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgICB9LCBbdGhpcy5nZW5HcmFkaWVudCgpLCB0aGlzLmdlbkNsaXBQYXRoKGJhcnMsIG9mZnNldFgsIHRoaXMuX2xpbmVXaWR0aCwgJ3NwYXJrbGluZS1iYXItJyArIHRoaXMuX3VpZCksIHRoaXMuaGFzTGFiZWxzID8gdGhpcy5nZW5MYWJlbHMob2Zmc2V0WCkgOiB1bmRlZmluZWQsIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2cnLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ2NsaXAtcGF0aCc6IFwidXJsKCNzcGFya2xpbmUtYmFyLVwiICsgdGhpcy5fdWlkICsgXCItY2xpcClcIixcbiAgICAgICAgICBmaWxsOiBcInVybCgjXCIgKyB0aGlzLl91aWQgKyBcIilcIlxuICAgICAgICB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgncmVjdCcsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgd2lkdGg6IHRoaXMudG90YWxXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH0pXSldKTtcbiAgICB9LFxuICAgIGdlbkNsaXBQYXRoOiBmdW5jdGlvbiBnZW5DbGlwUGF0aChiYXJzLCBvZmZzZXRYLCBsaW5lV2lkdGgsIGlkKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgcm91bmRpbmcgPSB0eXBlb2YgdGhpcy5zbW9vdGggPT09ICdudW1iZXInID8gdGhpcy5zbW9vdGggOiB0aGlzLnNtb290aCA/IDIgOiAwO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2NsaXBQYXRoJywge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGlkOiBpZCArIFwiLWNsaXBcIlxuICAgICAgICB9XG4gICAgICB9LCBiYXJzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3JlY3QnLCB7XG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIHg6IGl0ZW0ueCArIG9mZnNldFgsXG4gICAgICAgICAgICB5OiBpdGVtLnksXG4gICAgICAgICAgICB3aWR0aDogbGluZVdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBpdGVtLmhlaWdodCxcbiAgICAgICAgICAgIHJ4OiByb3VuZGluZyxcbiAgICAgICAgICAgIHJ5OiByb3VuZGluZ1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgW190aGlzLmF1dG9EcmF3ID8gX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2FuaW1hdGUnLCB7XG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdoZWlnaHQnLFxuICAgICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICAgIHRvOiBpdGVtLmhlaWdodCxcbiAgICAgICAgICAgIGR1cjogX3RoaXMuYXV0b0RyYXdEdXJhdGlvbiArIFwibXNcIixcbiAgICAgICAgICAgIGZpbGw6ICdmcmVlemUnXG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHVuZGVmaW5lZF0pO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgZ2VuVHJlbmQ6IGZ1bmN0aW9uIGdlblRyZW5kKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3N2ZycsIHRoaXMuc2V0VGV4dENvbG9yKHRoaXMuY29sb3IsIHtcbiAgICAgICAgYXR0cnM6IF9fYXNzaWduKHt9LCB0aGlzLiRhdHRycywge1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHRoaXMuX2xpbmVXaWR0aCB8fCAxLFxuICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIFwiICsgdGhpcy53aWR0aCArIFwiIFwiICsgdGhpcy50b3RhbEhlaWdodFxuICAgICAgICB9KSxcbiAgICAgICAgY2xhc3M6IHRoaXMuY2xhc3Nlc1xuICAgICAgfSksIFt0aGlzLmdlbkdyYWRpZW50KCksIHRoaXMuaGFzTGFiZWxzICYmIHRoaXMuZ2VuTGFiZWxzKC0odGhpcy5fbGluZVdpZHRoIC8gMikpLCB0aGlzLmdlblBhdGgoKV0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIGlmICh0aGlzLnRvdGFsVmFsdWVzIDwgMikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAndHJlbmQnID8gdGhpcy5nZW5UcmVuZCgpIDogdGhpcy5nZW5CYXJzKCk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BhcmtsaW5lL2hlbHBlcnMvY29yZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9oZWxwZXJzL2NvcmUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBnZW5Qb2ludHMsIGdlbkJhcnMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2VuUG9pbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2VuUG9pbnRzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZW5CYXJzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2VuQmFyczsgfSk7XG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbmZ1bmN0aW9uIGdlblBvaW50cyh2YWx1ZXMsIGJvdW5kYXJ5KSB7XG4gIHZhciBtaW5YID0gYm91bmRhcnkubWluWCxcbiAgICAgIG1heFggPSBib3VuZGFyeS5tYXhYLFxuICAgICAgbWluWSA9IGJvdW5kYXJ5Lm1pblksXG4gICAgICBtYXhZID0gYm91bmRhcnkubWF4WTtcbiAgdmFyIHRvdGFsVmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgdmFyIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX19zcHJlYWQodmFsdWVzKSk7XG4gIHZhciBtaW5WYWx1ZSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF9fc3ByZWFkKHZhbHVlcykpO1xuICB2YXIgZ3JpZFggPSAobWF4WCAtIG1pblgpIC8gKHRvdGFsVmFsdWVzIC0gMSk7XG4gIHZhciBncmlkWSA9IChtYXhZIC0gbWluWSkgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSB8fCAxKTtcbiAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBtaW5YICsgaW5kZXggKiBncmlkWCxcbiAgICAgIHk6IG1heFkgLSAodmFsdWUgLSBtaW5WYWx1ZSkgKiBncmlkWSArICsoaW5kZXggPT09IHRvdGFsVmFsdWVzIC0gMSkgKiAwLjAwMDAxIC0gKyhpbmRleCA9PT0gMCkgKiAwLjAwMDAxLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZW5CYXJzKHZhbHVlcywgYm91bmRhcnkpIHtcbiAgdmFyIG1pblggPSBib3VuZGFyeS5taW5YLFxuICAgICAgbWF4WCA9IGJvdW5kYXJ5Lm1heFgsXG4gICAgICBtaW5ZID0gYm91bmRhcnkubWluWSxcbiAgICAgIG1heFkgPSBib3VuZGFyeS5tYXhZO1xuICB2YXIgdG90YWxWYWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICB2YXIgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCBfX3NwcmVhZCh2YWx1ZXMpKTtcbiAgdmFyIG1pblZhbHVlID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX19zcHJlYWQodmFsdWVzKSk7XG4gIGlmIChtaW5WYWx1ZSA+IDApIG1pblZhbHVlID0gMDtcbiAgaWYgKG1heFZhbHVlIDwgMCkgbWF4VmFsdWUgPSAwO1xuICB2YXIgZ3JpZFggPSBtYXhYIC8gdG90YWxWYWx1ZXM7XG4gIHZhciBncmlkWSA9IChtYXhZIC0gbWluWSkgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSk7XG4gIHZhciBob3Jpem9uWSA9IG1heFkgLSBNYXRoLmFicyhtaW5WYWx1ZSAqIGdyaWRZKTtcbiAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmFicyhncmlkWSAqIHZhbHVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogbWluWCArIGluZGV4ICogZ3JpZFgsXG4gICAgICB5OiBob3Jpem9uWSAtIGhlaWdodCArICsodmFsdWUgPCAwKSAqIGhlaWdodCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9oZWxwZXJzL21hdGgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTcGFya2xpbmUvaGVscGVycy9tYXRoLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY2hlY2tDb2xsaW5lYXIsIGdldERpc3RhbmNlLCBtb3ZlVG8gKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2hlY2tDb2xsaW5lYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjaGVja0NvbGxpbmVhcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0RGlzdGFuY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXREaXN0YW5jZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibW92ZVRvXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbW92ZVRvOyB9KTtcbmZ1bmN0aW9uIGludCh2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cbi8qKlxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29sbGluZWFyaXR5XG4gKiB4PSh4MSt4MikvMlxuICogeT0oeTEreTIpLzJcbiAqL1xuXG5cbmZ1bmN0aW9uIGNoZWNrQ29sbGluZWFyKHAwLCBwMSwgcDIpIHtcbiAgcmV0dXJuIGludChwMC54ICsgcDIueCkgPT09IGludCgyICogcDEueCkgJiYgaW50KHAwLnkgKyBwMi55KSA9PT0gaW50KDIgKiBwMS55KTtcbn1cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSk7XG59XG5mdW5jdGlvbiBtb3ZlVG8odG8sIGZyb20sIHJhZGl1cykge1xuICB2YXIgdmVjdG9yID0ge1xuICAgIHg6IHRvLnggLSBmcm9tLngsXG4gICAgeTogdG8ueSAtIGZyb20ueVxuICB9O1xuICB2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KHZlY3Rvci54ICogdmVjdG9yLnggKyB2ZWN0b3IueSAqIHZlY3Rvci55KTtcbiAgdmFyIHVuaXRWZWN0b3IgPSB7XG4gICAgeDogdmVjdG9yLnggLyBsZW5ndGgsXG4gICAgeTogdmVjdG9yLnkgLyBsZW5ndGhcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICB4OiBmcm9tLnggKyB1bml0VmVjdG9yLnggKiByYWRpdXMsXG4gICAgeTogZnJvbS55ICsgdW5pdFZlY3Rvci55ICogcmFkaXVzXG4gIH07XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9oZWxwZXJzL3BhdGgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTcGFya2xpbmUvaGVscGVycy9wYXRoLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZ2VuUGF0aCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZW5QYXRoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2VuUGF0aDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21hdGhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWF0aCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9oZWxwZXJzL21hdGgudHNcIik7XG5cbi8qKlxuICogRnJvbSBodHRwczovL2dpdGh1Yi5jb20vdW5zcGxhc2gvcmVhY3QtdHJlbmQvYmxvYi9tYXN0ZXIvc3JjL2hlbHBlcnMvRE9NLmhlbHBlcnMuanMjTDE4XG4gKi9cblxuZnVuY3Rpb24gZ2VuUGF0aChwb2ludHMsIHJhZGl1cywgZmlsbCwgaGVpZ2h0KSB7XG4gIGlmIChmaWxsID09PSB2b2lkIDApIHtcbiAgICBmaWxsID0gZmFsc2U7XG4gIH1cblxuICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHtcbiAgICBoZWlnaHQgPSA3NTtcbiAgfVxuXG4gIHZhciBzdGFydCA9IHBvaW50cy5zaGlmdCgpO1xuICB2YXIgZW5kID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIChmaWxsID8gXCJNXCIgKyBzdGFydC54ICsgXCIgXCIgKyAoaGVpZ2h0IC0gc3RhcnQueCArIDIpICsgXCIgTFwiICsgc3RhcnQueCArIFwiIFwiICsgc3RhcnQueSA6IFwiTVwiICsgc3RhcnQueCArIFwiIFwiICsgc3RhcnQueSkgKyBwb2ludHMubWFwKGZ1bmN0aW9uIChwb2ludCwgaW5kZXgpIHtcbiAgICB2YXIgbmV4dCA9IHBvaW50c1tpbmRleCArIDFdO1xuICAgIHZhciBwcmV2ID0gcG9pbnRzW2luZGV4IC0gMV0gfHwgc3RhcnQ7XG4gICAgdmFyIGlzQ29sbGluZWFyID0gbmV4dCAmJiBPYmplY3QoX21hdGhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNoZWNrQ29sbGluZWFyXCJdKShuZXh0LCBwb2ludCwgcHJldik7XG5cbiAgICBpZiAoIW5leHQgfHwgaXNDb2xsaW5lYXIpIHtcbiAgICAgIHJldHVybiBcIkxcIiArIHBvaW50LnggKyBcIiBcIiArIHBvaW50Lnk7XG4gICAgfVxuXG4gICAgdmFyIHRocmVzaG9sZCA9IE1hdGgubWluKE9iamVjdChfbWF0aF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RGlzdGFuY2VcIl0pKHByZXYsIHBvaW50KSwgT2JqZWN0KF9tYXRoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXREaXN0YW5jZVwiXSkobmV4dCwgcG9pbnQpKTtcbiAgICB2YXIgaXNUb29DbG9zZUZvclJhZGl1cyA9IHRocmVzaG9sZCAvIDIgPCByYWRpdXM7XG4gICAgdmFyIHJhZGl1c0ZvclBvaW50ID0gaXNUb29DbG9zZUZvclJhZGl1cyA/IHRocmVzaG9sZCAvIDIgOiByYWRpdXM7XG4gICAgdmFyIGJlZm9yZSA9IE9iamVjdChfbWF0aF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wibW92ZVRvXCJdKShwcmV2LCBwb2ludCwgcmFkaXVzRm9yUG9pbnQpO1xuICAgIHZhciBhZnRlciA9IE9iamVjdChfbWF0aF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wibW92ZVRvXCJdKShuZXh0LCBwb2ludCwgcmFkaXVzRm9yUG9pbnQpO1xuICAgIHJldHVybiBcIkxcIiArIGJlZm9yZS54ICsgXCIgXCIgKyBiZWZvcmUueSArIFwiU1wiICsgcG9pbnQueCArIFwiIFwiICsgcG9pbnQueSArIFwiIFwiICsgYWZ0ZXIueCArIFwiIFwiICsgYWZ0ZXIueTtcbiAgfSkuam9pbignJykgKyAoZmlsbCA/IFwiTFwiICsgZW5kLnggKyBcIiBcIiArIChoZWlnaHQgLSBzdGFydC54ICsgMikgKyBcIiBaXCIgOiAnJyk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwYXJrbGluZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3BhcmtsaW5lL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWU3BhcmtsaW5lLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3BhcmtsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTcGFya2xpbmUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTcGFya2xpbmUvVlNwYXJrbGluZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTcGFya2xpbmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNwYXJrbGluZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WU3BhcmtsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BlZWREaWFsL1ZTcGVlZERpYWwuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlNwZWVkRGlhbC9WU3BlZWREaWFsLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BlZWREaWFsL1ZTcGVlZERpYWwudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3BlZWREaWFsL1ZTcGVlZERpYWwudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNwZWVkRGlhbF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTcGVlZERpYWwuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwZWVkRGlhbC9WU3BlZWREaWFsLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTcGVlZERpYWxfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WU3BlZWREaWFsX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdG9nZ2xlYWJsZSAqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcG9zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcG9zaXRpb25hYmxlICovIFwiLi9zcmMvbWl4aW5zL3Bvc2l0aW9uYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RyYW5zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdHJhbnNpdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvdHJhbnNpdGlvbmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8vIFN0eWxlc1xuIC8vIE1peGluc1xuXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFR5cGVzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RyYW5zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAndi1zcGVlZC1kaWFsJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrT3V0c2lkZTogX2RpcmVjdGl2ZXNfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGRpcmVjdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3RvcCcsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHtcbiAgICAgICAgcmV0dXJuIFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10uaW5jbHVkZXModmFsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9wZW5PbkhvdmVyOiBCb29sZWFuLFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdzY2FsZS10cmFuc2l0aW9uJ1xuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gX2EgPSB7XG4gICAgICAgICd2LXNwZWVkLWRpYWwnOiB0cnVlLFxuICAgICAgICAndi1zcGVlZC1kaWFsLS10b3AnOiB0aGlzLnRvcCxcbiAgICAgICAgJ3Ytc3BlZWQtZGlhbC0tcmlnaHQnOiB0aGlzLnJpZ2h0LFxuICAgICAgICAndi1zcGVlZC1kaWFsLS1ib3R0b20nOiB0aGlzLmJvdHRvbSxcbiAgICAgICAgJ3Ytc3BlZWQtZGlhbC0tbGVmdCc6IHRoaXMubGVmdCxcbiAgICAgICAgJ3Ytc3BlZWQtZGlhbC0tYWJzb2x1dGUnOiB0aGlzLmFic29sdXRlLFxuICAgICAgICAndi1zcGVlZC1kaWFsLS1maXhlZCc6IHRoaXMuZml4ZWRcbiAgICAgIH0sIF9hW1widi1zcGVlZC1kaWFsLS1kaXJlY3Rpb24tXCIgKyB0aGlzLmRpcmVjdGlvbl0gPSB0cnVlLCBfYVsndi1zcGVlZC1kaWFsLS1pcy1hY3RpdmUnXSA9IHRoaXMuaXNBY3RpdmUsIF9hO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAnY2xpY2stb3V0c2lkZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfV0sXG4gICAgICBvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzQWN0aXZlID0gIV90aGlzLmlzQWN0aXZlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLm9wZW5PbkhvdmVyKSB7XG4gICAgICBkYXRhLm9uLm1vdXNlZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICBkYXRhLm9uLm1vdXNlbGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgdmFyIGJ0bkNvdW50XzEgPSAwO1xuICAgICAgY2hpbGRyZW4gPSAodGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXSkubWFwKGZ1bmN0aW9uIChiLCBpKSB7XG4gICAgICAgIGlmIChiLnRhZyAmJiB0eXBlb2YgYi5jb21wb25lbnRPcHRpb25zICE9PSAndW5kZWZpbmVkJyAmJiAoYi5jb21wb25lbnRPcHRpb25zLkN0b3Iub3B0aW9ucy5uYW1lID09PSAndi1idG4nIHx8IGIuY29tcG9uZW50T3B0aW9ucy5DdG9yLm9wdGlvbnMubmFtZSA9PT0gJ3YtdG9vbHRpcCcpKSB7XG4gICAgICAgICAgYnRuQ291bnRfMSsrO1xuICAgICAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uRGVsYXk6IGJ0bkNvdW50XzEgKiAwLjA1ICsgJ3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiBpXG4gICAgICAgICAgfSwgW2JdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiLmtleSA9IGk7XG4gICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBsaXN0ID0gaCgndHJhbnNpdGlvbi1ncm91cCcsIHtcbiAgICAgIGNsYXNzOiAndi1zcGVlZC1kaWFsX19saXN0JyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIG5hbWU6IHRoaXMudHJhbnNpdGlvbixcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBvcmlnaW46IHRoaXMub3JpZ2luLFxuICAgICAgICB0YWc6ICdkaXYnXG4gICAgICB9XG4gICAgfSwgY2hpbGRyZW4pO1xuICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBbdGhpcy4kc2xvdHMuYWN0aXZhdG9yLCBsaXN0XSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BlZWREaWFsL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTcGVlZERpYWwvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZTcGVlZERpYWwsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTcGVlZERpYWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNwZWVkRGlhbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwZWVkRGlhbC9WU3BlZWREaWFsLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNwZWVkRGlhbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU3BlZWREaWFsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZTcGVlZERpYWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTdGVwcGVyL1ZTdGVwcGVyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvVlN0ZXBwZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvVlN0ZXBwZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTdGVwcGVyL1ZTdGVwcGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN0ZXBwZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3RlcHBlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3RlcHBlci9WU3RlcHBlci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3RlcHBlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTdGVwcGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JlZ2lzdHJhYmxlICovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcHJveHlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcHJveHlhYmxlICovIFwiLi9zcmMvbWl4aW5zL3Byb3h5YWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoT2JqZWN0KF9taXhpbnNfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInByb3ZpZGVcIl0pKCdzdGVwcGVyJyksIF9taXhpbnNfcHJveHlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc3RlcHBlcicsXG4gIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0ZXBDbGljazogdGhpcy5zdGVwQ2xpY2ssXG4gICAgICBpc1ZlcnRpY2FsOiB0aGlzLnZlcnRpY2FsXG4gICAgfTtcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhbHRMYWJlbHM6IEJvb2xlYW4sXG4gICAgbm9uTGluZWFyOiBCb29sZWFuLFxuICAgIHZlcnRpY2FsOiBCb29sZWFuXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQm9vdGVkOiBmYWxzZSxcbiAgICAgIHN0ZXBzOiBbXSxcbiAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgaXNSZXZlcnNlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXN0ZXBwZXItLWlzLWJvb3RlZCc6IHRoaXMuaXNCb290ZWQsXG4gICAgICAgICd2LXN0ZXBwZXItLXZlcnRpY2FsJzogdGhpcy52ZXJ0aWNhbCxcbiAgICAgICAgJ3Ytc3RlcHBlci0tYWx0LWxhYmVscyc6IHRoaXMuYWx0TGFiZWxzLFxuICAgICAgICAndi1zdGVwcGVyLS1ub24tbGluZWFyJzogdGhpcy5ub25MaW5lYXJcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaW50ZXJuYWxWYWx1ZTogZnVuY3Rpb24gaW50ZXJuYWxWYWx1ZSh2YWwsIG9sZFZhbCkge1xuICAgICAgdGhpcy5pc1JldmVyc2UgPSBOdW1iZXIodmFsKSA8IE51bWJlcihvbGRWYWwpO1xuICAgICAgb2xkVmFsICYmICh0aGlzLmlzQm9vdGVkID0gdHJ1ZSk7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodGhpcy4kbGlzdGVuZXJzLmlucHV0KSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiYnJlYWtpbmdcIl0pKCdAaW5wdXQnLCAnQGNoYW5nZScsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLmludGVybmFsTGF6eVZhbHVlID0gdGhpcy52YWx1ZSB8fCAodGhpcy5zdGVwc1swXSB8fCB7fSkuc3RlcCB8fCAxO1xuICAgIHRoaXMudXBkYXRlVmlldygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLiRvcHRpb25zLm5hbWUgPT09ICd2LXN0ZXBwZXItc3RlcCcpIHtcbiAgICAgICAgdGhpcy5zdGVwcy5wdXNoKGl0ZW0pO1xuICAgICAgfSBlbHNlIGlmIChpdGVtLiRvcHRpb25zLm5hbWUgPT09ICd2LXN0ZXBwZXItY29udGVudCcpIHtcbiAgICAgICAgaXRlbS5pc1ZlcnRpY2FsID0gdGhpcy52ZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLiRvcHRpb25zLm5hbWUgPT09ICd2LXN0ZXBwZXItc3RlcCcpIHtcbiAgICAgICAgdGhpcy5zdGVwcyA9IHRoaXMuc3RlcHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIGkgIT09IGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpdGVtLiRvcHRpb25zLm5hbWUgPT09ICd2LXN0ZXBwZXItY29udGVudCcpIHtcbiAgICAgICAgaXRlbS5pc1ZlcnRpY2FsID0gdGhpcy52ZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5jb250ZW50LmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgIHJldHVybiBpICE9PSBpdGVtO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0ZXBDbGljazogZnVuY3Rpb24gc3RlcENsaWNrKHN0ZXApIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmludGVybmFsVmFsdWUgPSBzdGVwO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVWaWV3OiBmdW5jdGlvbiB1cGRhdGVWaWV3KCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSB0aGlzLnN0ZXBzLmxlbmd0aDsgLS1pbmRleCA+PSAwOykge1xuICAgICAgICB0aGlzLnN0ZXBzW2luZGV4XS50b2dnbGUodGhpcy5pbnRlcm5hbFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaW5kZXggPSB0aGlzLmNvbnRlbnQubGVuZ3RoOyAtLWluZGV4ID49IDA7KSB7XG4gICAgICAgIHRoaXMuY29udGVudFtpbmRleF0udG9nZ2xlKHRoaXMuaW50ZXJuYWxWYWx1ZSwgdGhpcy5pc1JldmVyc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3Ytc3RlcHBlcicsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3RlcHBlci9WU3RlcHBlckNvbnRlbnQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3RlcHBlci9WU3RlcHBlckNvbnRlbnQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RyYW5zaXRpb25zICovIFwiLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9ucy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmVnaXN0cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8vIENvbXBvbmVudHNcbiAvLyBNaXhpbnNcblxuIC8vIEhlbHBlcnNcblxuIC8vIFV0aWxpdGllc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoT2JqZWN0KF9taXhpbnNfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImluamVjdFwiXSkoJ3N0ZXBwZXInLCAndi1zdGVwcGVyLWNvbnRlbnQnLCAndi1zdGVwcGVyJykpO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXN0ZXBwZXItY29udGVudCcsXG4gIGluamVjdDoge1xuICAgIGlzVmVydGljYWxQcm92aWRlZDoge1xuICAgICAgZnJvbTogJ2lzVmVydGljYWwnXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIHN0ZXA6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgLy8gTXVzdCBiZSBudWxsIHRvIGFsbG93XG4gICAgICAvLyBwcmV2aW91cyBjb21wYXJpc29uXG4gICAgICBpc0FjdGl2ZTogbnVsbCxcbiAgICAgIGlzUmV2ZXJzZTogZmFsc2UsXG4gICAgICBpc1ZlcnRpY2FsOiB0aGlzLmlzVmVydGljYWxQcm92aWRlZFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY29tcHV0ZWRUcmFuc2l0aW9uOiBmdW5jdGlvbiBjb21wdXRlZFRyYW5zaXRpb24oKSB7XG4gICAgICAvLyBGaXggZm9yICM4OTc4XG4gICAgICB2YXIgcmV2ZXJzZSA9IHRoaXMuJHZ1ZXRpZnkucnRsID8gIXRoaXMuaXNSZXZlcnNlIDogdGhpcy5pc1JldmVyc2U7XG4gICAgICByZXR1cm4gcmV2ZXJzZSA/IF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiVlRhYlJldmVyc2VUcmFuc2l0aW9uXCJdIDogX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJWVGFiVHJhbnNpdGlvblwiXTtcbiAgICB9LFxuICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgICAgaWYgKCF0aGlzLmlzVmVydGljYWwpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuaGVpZ2h0KVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gICAgICAvLyBJZiBhY3RpdmUgYW5kIHRoZSBwcmV2aW91cyBzdGF0ZVxuICAgICAgLy8gd2FzIG51bGwsIGlzIGp1c3QgYm9vdGluZyB1cFxuICAgICAgaWYgKGN1cnJlbnQgJiYgcHJldmlvdXMgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNWZXJ0aWNhbCkgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHRoaXMuZW50ZXIoKTtlbHNlIHRoaXMubGVhdmUoKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy4kcmVmcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbiwgZmFsc2UpO1xuICAgIHRoaXMuc3RlcHBlciAmJiB0aGlzLnN0ZXBwZXIucmVnaXN0ZXIodGhpcyk7XG4gIH0sXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7XG4gICAgdGhpcy4kcmVmcy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbiwgZmFsc2UpO1xuICAgIHRoaXMuc3RlcHBlciAmJiB0aGlzLnN0ZXBwZXIudW5yZWdpc3Rlcih0aGlzKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uVHJhbnNpdGlvbjogZnVuY3Rpb24gb25UcmFuc2l0aW9uKGUpIHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSB8fCBlLnByb3BlcnR5TmFtZSAhPT0gJ2hlaWdodCcpIHJldHVybjtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIH0sXG4gICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IDA7IC8vIFJlbmRlciBidWcgd2l0aCBoZWlnaHRcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3RoaXMuJHJlZnMud3JhcHBlci5zY3JvbGxIZWlnaHQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gMDsgLy8gR2l2ZSB0aGUgY29sbGFwc2luZyBlbGVtZW50IHRpbWUgdG8gY29sbGFwc2VcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pc0FjdGl2ZSAmJiAoX3RoaXMuaGVpZ2h0ID0gc2Nyb2xsSGVpZ2h0IHx8ICdhdXRvJyk7XG4gICAgICB9LCA0NTApO1xuICAgIH0sXG4gICAgbGVhdmU6IGZ1bmN0aW9uIGxlYXZlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLiRyZWZzLndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgfSwgMTApO1xuICAgIH0sXG4gICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoc3RlcCwgcmV2ZXJzZSkge1xuICAgICAgdGhpcy5pc0FjdGl2ZSA9IHN0ZXAudG9TdHJpbmcoKSA9PT0gdGhpcy5zdGVwLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLmlzUmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNvbnRlbnREYXRhID0ge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXN0ZXBwZXJfX2NvbnRlbnQnXG4gICAgfTtcbiAgICB2YXIgd3JhcHBlckRhdGEgPSB7XG4gICAgICBzdGF0aWNDbGFzczogJ3Ytc3RlcHBlcl9fd3JhcHBlcicsXG4gICAgICBzdHlsZTogdGhpcy5zdHlsZXMsXG4gICAgICByZWY6ICd3cmFwcGVyJ1xuICAgIH07XG5cbiAgICBpZiAoIXRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgY29udGVudERhdGEuZGlyZWN0aXZlcyA9IFt7XG4gICAgICAgIG5hbWU6ICdzaG93JyxcbiAgICAgICAgdmFsdWU6IHRoaXMuaXNBY3RpdmVcbiAgICAgIH1dO1xuICAgIH1cblxuICAgIHZhciB3cmFwcGVyID0gaCgnZGl2Jywgd3JhcHBlckRhdGEsIFt0aGlzLiRzbG90cy5kZWZhdWx0XSk7XG4gICAgdmFyIGNvbnRlbnQgPSBoKCdkaXYnLCBjb250ZW50RGF0YSwgW3dyYXBwZXJdKTtcbiAgICByZXR1cm4gaCh0aGlzLmNvbXB1dGVkVHJhbnNpdGlvbiwge1xuICAgICAgb246IHRoaXMuJGxpc3RlbmVyc1xuICAgIH0sIFtjb250ZW50XSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3RlcHBlci9WU3RlcHBlclN0ZXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3RlcHBlci9WU3RlcHBlclN0ZXAudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJY29uICovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3JlZ2lzdHJhYmxlICovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vLyBDb21wb25lbnRzXG4gLy8gTWl4aW5zXG5cblxuIC8vIERpcmVjdGl2ZXNcblxuIC8vIFV0aWxpdGllc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJpbmplY3RcIl0pKCdzdGVwcGVyJywgJ3Ytc3RlcHBlci1zdGVwJywgJ3Ytc3RlcHBlcicpKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAndi1zdGVwcGVyLXN0ZXAnLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgcmlwcGxlOiBfZGlyZWN0aXZlc19yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgaW5qZWN0OiBbJ3N0ZXBDbGljayddLFxuICBwcm9wczoge1xuICAgIGNvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAncHJpbWFyeSdcbiAgICB9LFxuICAgIGNvbXBsZXRlOiBCb29sZWFuLFxuICAgIGNvbXBsZXRlSWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRjb21wbGV0ZSdcbiAgICB9LFxuICAgIGVkaXRhYmxlOiBCb29sZWFuLFxuICAgIGVkaXRJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGVkaXQnXG4gICAgfSxcbiAgICBlcnJvckljb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckZXJyb3InXG4gICAgfSxcbiAgICBydWxlczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgc3RlcDogW051bWJlciwgU3RyaW5nXVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBpc0luYWN0aXZlOiB0cnVlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3Ytc3RlcHBlcl9fc3RlcC0tYWN0aXZlJzogdGhpcy5pc0FjdGl2ZSxcbiAgICAgICAgJ3Ytc3RlcHBlcl9fc3RlcC0tZWRpdGFibGUnOiB0aGlzLmVkaXRhYmxlLFxuICAgICAgICAndi1zdGVwcGVyX19zdGVwLS1pbmFjdGl2ZSc6IHRoaXMuaXNJbmFjdGl2ZSxcbiAgICAgICAgJ3Ytc3RlcHBlcl9fc3RlcC0tZXJyb3IgZXJyb3ItLXRleHQnOiB0aGlzLmhhc0Vycm9yLFxuICAgICAgICAndi1zdGVwcGVyX19zdGVwLS1jb21wbGV0ZSc6IHRoaXMuY29tcGxldGVcbiAgICAgIH07XG4gICAgfSxcbiAgICBoYXNFcnJvcjogZnVuY3Rpb24gaGFzRXJyb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ydWxlcy5zb21lKGZ1bmN0aW9uICh2YWxpZGF0ZSkge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUoKSAhPT0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLnN0ZXBwZXIgJiYgdGhpcy5zdGVwcGVyLnJlZ2lzdGVyKHRoaXMpO1xuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMuc3RlcHBlciAmJiB0aGlzLnN0ZXBwZXIudW5yZWdpc3Rlcih0aGlzKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy4kZW1pdCgnY2xpY2snLCBlKTtcblxuICAgICAgaWYgKHRoaXMuZWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5zdGVwQ2xpY2sodGhpcy5zdGVwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdlbkljb246IGZ1bmN0aW9uIGdlbkljb24oaWNvbikge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLCBpY29uKTtcbiAgICB9LFxuICAgIGdlbkxhYmVsOiBmdW5jdGlvbiBnZW5MYWJlbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1zdGVwcGVyX19sYWJlbCdcbiAgICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICAgIH0sXG4gICAgZ2VuU3RlcDogZnVuY3Rpb24gZ2VuU3RlcCgpIHtcbiAgICAgIHZhciBjb2xvciA9ICF0aGlzLmhhc0Vycm9yICYmICh0aGlzLmNvbXBsZXRlIHx8IHRoaXMuaXNBY3RpdmUpID8gdGhpcy5jb2xvciA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcihjb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc3RlcHBlcl9fc3RlcF9fc3RlcCdcbiAgICAgIH0pLCB0aGlzLmdlblN0ZXBDb250ZW50KCkpO1xuICAgIH0sXG4gICAgZ2VuU3RlcENvbnRlbnQ6IGZ1bmN0aW9uIGdlblN0ZXBDb250ZW50KCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5nZW5JY29uKHRoaXMuZXJyb3JJY29uKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29tcGxldGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdGFibGUpIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuSWNvbih0aGlzLmVkaXRJY29uKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkljb24odGhpcy5jb21wbGV0ZUljb24pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChTdHJpbmcodGhpcy5zdGVwKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9LFxuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKHN0ZXApIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSBzdGVwLnRvU3RyaW5nKCkgPT09IHRoaXMuc3RlcC50b1N0cmluZygpO1xuICAgICAgdGhpcy5pc0luYWN0aXZlID0gTnVtYmVyKHN0ZXApIDwgTnVtYmVyKHRoaXMuc3RlcCk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1zdGVwcGVyX19zdGVwJyxcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiAncmlwcGxlJyxcbiAgICAgICAgdmFsdWU6IHRoaXMuZWRpdGFibGVcbiAgICAgIH1dLFxuICAgICAgb246IHtcbiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2tcbiAgICAgIH1cbiAgICB9LCBbdGhpcy5nZW5TdGVwKCksIHRoaXMuZ2VuTGFiZWwoKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTdGVwcGVyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlN0ZXBwZXIsIFZTdGVwcGVyQ29udGVudCwgVlN0ZXBwZXJTdGVwLCBWU3RlcHBlckhlYWRlciwgVlN0ZXBwZXJJdGVtcywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3RlcHBlckhlYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZTdGVwcGVySGVhZGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3RlcHBlckl0ZW1zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlN0ZXBwZXJJdGVtczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3RlcHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3RlcHBlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvVlN0ZXBwZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3RlcHBlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU3RlcHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN0ZXBwZXJTdGVwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTdGVwcGVyU3RlcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvVlN0ZXBwZXJTdGVwLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN0ZXBwZXJTdGVwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTdGVwcGVyU3RlcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN0ZXBwZXJDb250ZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTdGVwcGVyQ29udGVudCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvVlN0ZXBwZXJDb250ZW50LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN0ZXBwZXJDb250ZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTdGVwcGVyQ29udGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxudmFyIFZTdGVwcGVySGVhZGVyID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LXN0ZXBwZXJfX2hlYWRlcicpO1xudmFyIFZTdGVwcGVySXRlbXMgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlRnVuY3Rpb25hbFwiXSkoJ3Ytc3RlcHBlcl9faXRlbXMnKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVlN0ZXBwZXI6IF9WU3RlcHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgICBWU3RlcHBlckNvbnRlbnQ6IF9WU3RlcHBlckNvbnRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sXG4gICAgVlN0ZXBwZXJTdGVwOiBfVlN0ZXBwZXJTdGVwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICAgIFZTdGVwcGVySGVhZGVyOiBWU3RlcHBlckhlYWRlcixcbiAgICBWU3RlcHBlckl0ZW1zOiBWU3RlcHBlckl0ZW1zXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTdWJoZWFkZXIvVlN1YmhlYWRlci5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3ViaGVhZGVyL1ZTdWJoZWFkZXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTdWJoZWFkZXIvVlN1YmhlYWRlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTdWJoZWFkZXIvVlN1YmhlYWRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3ViaGVhZGVyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlN1YmhlYWRlci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3ViaGVhZGVyL1ZTdWJoZWFkZXIuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN1YmhlYWRlcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTdWJoZWFkZXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIE1peGluc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3Ytc3ViaGVhZGVyJyxcbiAgcHJvcHM6IHtcbiAgICBpbnNldDogQm9vbGVhblxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi1zdWJoZWFkZXInLFxuICAgICAgY2xhc3M6IF9fYXNzaWduKHtcbiAgICAgICAgJ3Ytc3ViaGVhZGVyLS1pbnNldCc6IHRoaXMuaW5zZXRcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKSxcbiAgICAgIGF0dHJzOiB0aGlzLiRhdHRycyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnNcbiAgICB9LCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTdWJoZWFkZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlN1YmhlYWRlci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlN1YmhlYWRlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN1YmhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3ViaGVhZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3ViaGVhZGVyL1ZTdWJoZWFkZXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3ViaGVhZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTdWJoZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlN1YmhlYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN3aXRjaC9WU3dpdGNoLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZTd2l0Y2gvVlN3aXRjaC5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN3aXRjaC9WU3dpdGNoLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlN3aXRjaC9WU3dpdGNoLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zdHlsZXMvY29tcG9uZW50cy9fc2VsZWN0aW9uLWNvbnRyb2xzLnNhc3MgKi8gXCIuL3NyYy9zdHlsZXMvY29tcG9uZW50cy9fc2VsZWN0aW9uLWNvbnRyb2xzLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3N0eWxlc19jb21wb25lbnRzX3NlbGVjdGlvbl9jb250cm9sc19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3dpdGNoX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlN3aXRjaC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3dpdGNoL1ZTd2l0Y2guc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN3aXRjaF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZTd2l0Y2hfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3NlbGVjdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zZWxlY3RhYmxlICovIFwiLi9zcmMvbWl4aW5zL3NlbGVjdGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVklucHV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2RpcmVjdGl2ZXMvdG91Y2ggKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3RvdWNoL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdHJhbnNpdGlvbnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3RyYW5zaXRpb25zL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NDaXJjdWxhcl9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlByb2dyZXNzQ2lyY3VsYXIvVlByb2dyZXNzQ2lyY3VsYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL1ZQcm9ncmVzc0NpcmN1bGFyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cblxuIC8vIE1peGluc1xuXG5cbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBDb21wb25lbnRzXG5cblxuIC8vIEhlbHBlcnNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9taXhpbnNfc2VsZWN0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi1zd2l0Y2gnLFxuICBkaXJlY3RpdmVzOiB7XG4gICAgVG91Y2g6IF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgaW5zZXQ6IEJvb2xlYW4sXG4gICAgbG9hZGluZzoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgZmxhdDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtaW5wdXQtLXNlbGVjdGlvbi1jb250cm9scyB2LWlucHV0LS1zd2l0Y2gnOiB0cnVlLFxuICAgICAgICAndi1pbnB1dC0tc3dpdGNoLS1mbGF0JzogdGhpcy5mbGF0LFxuICAgICAgICAndi1pbnB1dC0tc3dpdGNoLS1pbnNldCc6IHRoaXMuaW5zZXRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYXR0cnM6IGZ1bmN0aW9uIGF0dHJzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ2FyaWEtY2hlY2tlZCc6IFN0cmluZyh0aGlzLmlzQWN0aXZlKSxcbiAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiBTdHJpbmcodGhpcy5kaXNhYmxlZCksXG4gICAgICAgIHJvbGU6ICdzd2l0Y2gnXG4gICAgICB9O1xuICAgIH0sXG4gICAgLy8gRG8gbm90IHJldHVybiB1bmRlZmluZWQgaWYgZGlzYWJsZWQsXG4gICAgLy8gYWNjb3JkaW5nIHRvIHNwZWMsIHNob3VsZCBzdGlsbCBzaG93XG4gICAgLy8gYSBjb2xvciB3aGVuIGRpc2FibGVkIGFuZCBhY3RpdmVcbiAgICB2YWxpZGF0aW9uU3RhdGU6IGZ1bmN0aW9uIHZhbGlkYXRpb25TdGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLmhhc0Vycm9yICYmIHRoaXMuc2hvdWxkVmFsaWRhdGUpIHJldHVybiAnZXJyb3InO1xuICAgICAgaWYgKHRoaXMuaGFzU3VjY2VzcykgcmV0dXJuICdzdWNjZXNzJztcbiAgICAgIGlmICh0aGlzLmhhc0NvbG9yICE9PSBudWxsKSByZXR1cm4gdGhpcy5jb21wdXRlZENvbG9yO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHN3aXRjaERhdGE6IGZ1bmN0aW9uIHN3aXRjaERhdGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5sb2FkaW5nID8gdW5kZWZpbmVkIDogdGhpcy52YWxpZGF0aW9uU3RhdGUsIHtcbiAgICAgICAgY2xhc3M6IHRoaXMudGhlbWVDbGFzc2VzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5EZWZhdWx0U2xvdDogZnVuY3Rpb24gZ2VuRGVmYXVsdFNsb3QoKSB7XG4gICAgICByZXR1cm4gW3RoaXMuZ2VuU3dpdGNoKCksIHRoaXMuZ2VuTGFiZWwoKV07XG4gICAgfSxcbiAgICBnZW5Td2l0Y2g6IGZ1bmN0aW9uIGdlblN3aXRjaCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1pbnB1dC0tc2VsZWN0aW9uLWNvbnRyb2xzX19pbnB1dCdcbiAgICAgIH0sIFt0aGlzLmdlbklucHV0KCdjaGVja2JveCcsIF9fYXNzaWduKHt9LCB0aGlzLmF0dHJzLCB0aGlzLmF0dHJzJCkpLCB0aGlzLmdlblJpcHBsZSh0aGlzLnNldFRleHRDb2xvcih0aGlzLnZhbGlkYXRpb25TdGF0ZSwge1xuICAgICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICAgIG5hbWU6ICd0b3VjaCcsXG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMub25Td2lwZUxlZnQsXG4gICAgICAgICAgICByaWdodDogdGhpcy5vblN3aXBlUmlnaHRcbiAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgICB9KSksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9fYXNzaWduKHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0LS1zd2l0Y2hfX3RyYWNrJ1xuICAgICAgfSwgdGhpcy5zd2l0Y2hEYXRhKSksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9fYXNzaWduKHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0LS1zd2l0Y2hfX3RodW1iJ1xuICAgICAgfSwgdGhpcy5zd2l0Y2hEYXRhKSwgW3RoaXMuZ2VuUHJvZ3Jlc3MoKV0pXSk7XG4gICAgfSxcbiAgICBnZW5Qcm9ncmVzczogZnVuY3Rpb24gZ2VuUHJvZ3Jlc3MoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlZGYWJUcmFuc2l0aW9uXCJdLCB7fSwgW3RoaXMubG9hZGluZyA9PT0gZmFsc2UgPyBudWxsIDogdGhpcy4kc2xvdHMucHJvZ3Jlc3MgfHwgdGhpcy4kY3JlYXRlRWxlbWVudChfVlByb2dyZXNzQ2lyY3VsYXJfVlByb2dyZXNzQ2lyY3VsYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy5sb2FkaW5nID09PSB0cnVlIHx8IHRoaXMubG9hZGluZyA9PT0gJycgPyB0aGlzLmNvbG9yIHx8ICdwcmltYXJ5JyA6IHRoaXMubG9hZGluZyxcbiAgICAgICAgICBzaXplOiAxNixcbiAgICAgICAgICB3aWR0aDogMixcbiAgICAgICAgICBpbmRldGVybWluYXRlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXSk7XG4gICAgfSxcbiAgICBvblN3aXBlTGVmdDogZnVuY3Rpb24gb25Td2lwZUxlZnQoKSB7XG4gICAgICBpZiAodGhpcy5pc0FjdGl2ZSkgdGhpcy5vbkNoYW5nZSgpO1xuICAgIH0sXG4gICAgb25Td2lwZVJpZ2h0OiBmdW5jdGlvbiBvblN3aXBlUmlnaHQoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHRoaXMub25DaGFuZ2UoKTtcbiAgICB9LFxuICAgIG9uS2V5ZG93bjogZnVuY3Rpb24gb25LZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImtleUNvZGVzXCJdLmxlZnQgJiYgdGhpcy5pc0FjdGl2ZSB8fCBlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImtleUNvZGVzXCJdLnJpZ2h0ICYmICF0aGlzLmlzQWN0aXZlKSB0aGlzLm9uQ2hhbmdlKCk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN3aXRjaC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3dpdGNoL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWU3dpdGNoLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3dpdGNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTd2l0Y2ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTd2l0Y2gvVlN3aXRjaC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTd2l0Y2hcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlN3aXRjaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WU3dpdGNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3lzdGVtQmFyL1ZTeXN0ZW1CYXIuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlN5c3RlbUJhci9WU3lzdGVtQmFyLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WU3lzdGVtQmFyL1ZTeXN0ZW1CYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WU3lzdGVtQmFyL1ZTeXN0ZW1CYXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN5c3RlbUJhcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTeXN0ZW1CYXIuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN5c3RlbUJhci9WU3lzdGVtQmFyLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTeXN0ZW1CYXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WU3lzdGVtQmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19hcHBsaWNhdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9hcHBsaWNhdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvYXBwbGljYXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoT2JqZWN0KF9taXhpbnNfYXBwbGljYXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgnYmFyJywgWydoZWlnaHQnLCAnd2luZG93J10pLCBfbWl4aW5zX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXN5c3RlbS1iYXInLFxuICBwcm9wczoge1xuICAgIGhlaWdodDogW051bWJlciwgU3RyaW5nXSxcbiAgICBsaWdodHNPdXQ6IEJvb2xlYW4sXG4gICAgd2luZG93OiBCb29sZWFuXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXN5c3RlbS1iYXItLWxpZ2h0cy1vdXQnOiB0aGlzLmxpZ2h0c091dCxcbiAgICAgICAgJ3Ytc3lzdGVtLWJhci0tYWJzb2x1dGUnOiB0aGlzLmFic29sdXRlLFxuICAgICAgICAndi1zeXN0ZW0tYmFyLS1maXhlZCc6ICF0aGlzLmFic29sdXRlICYmICh0aGlzLmFwcCB8fCB0aGlzLmZpeGVkKSxcbiAgICAgICAgJ3Ytc3lzdGVtLWJhci0td2luZG93JzogdGhpcy53aW5kb3dcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKTtcbiAgICB9LFxuICAgIGNvbXB1dGVkSGVpZ2h0OiBmdW5jdGlvbiBjb21wdXRlZEhlaWdodCgpIHtcbiAgICAgIGlmICh0aGlzLmhlaWdodCkge1xuICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VJbnQodGhpcy5oZWlnaHQpKSA/IHRoaXMuaGVpZ2h0IDogcGFyc2VJbnQodGhpcy5oZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy53aW5kb3cgPyAzMiA6IDI0O1xuICAgIH0sXG4gICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmNvbXB1dGVkSGVpZ2h0KVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICB1cGRhdGVBcHBsaWNhdGlvbjogZnVuY3Rpb24gdXBkYXRlQXBwbGljYXRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZWwgPyB0aGlzLiRlbC5jbGllbnRIZWlnaHQgOiB0aGlzLmNvbXB1dGVkSGVpZ2h0O1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXN5c3RlbS1iYXInLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnNcbiAgICB9O1xuICAgIHJldHVybiBoKCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCBkYXRhKSwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImdldFNsb3RcIl0pKHRoaXMpKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTeXN0ZW1CYXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlN5c3RlbUJhci9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlN5c3RlbUJhciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN5c3RlbUJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3lzdGVtQmFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3lzdGVtQmFyL1ZTeXN0ZW1CYXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3lzdGVtQmFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTeXN0ZW1CYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlN5c3RlbUJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYi50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFiLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvZ3JvdXBhYmxlICovIFwiLi9zcmMvbWl4aW5zL2dyb3VwYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JvdXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcm91dGFibGUgKi8gXCIuL3NyYy9taXhpbnMvcm91dGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIE1peGluc1xuXG5cblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfcm91dGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIC8vIE11c3QgYmUgYWZ0ZXIgcm91dGFibGVcbi8vIHRvIG92ZXJ3cml0ZSBhY3RpdmVDbGFzc1xuT2JqZWN0KF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJmYWN0b3J5XCJdKSgndGFic0JhcicpLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGFiJyxcbiAgcHJvcHM6IHtcbiAgICByaXBwbGU6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBPYmplY3RdLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJveHlDbGFzczogJ3YtdGFiLS1hY3RpdmUnXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtdGFiJzogdHJ1ZVxuICAgICAgfSwgX21peGluc19yb3V0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi10YWItLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZFxuICAgICAgfSwgdGhpcy5ncm91cENsYXNzZXMpO1xuICAgIH0sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgdmFyIHRvID0gdGhpcy50byB8fCB0aGlzLmhyZWYgfHwgJyc7XG5cbiAgICAgIGlmICh0aGlzLiRyb3V0ZXIgJiYgdGhpcy50byA9PT0gT2JqZWN0KHRoaXMudG8pKSB7XG4gICAgICAgIHZhciByZXNvbHZlID0gdGhpcy4kcm91dGVyLnJlc29sdmUodGhpcy50bywgdGhpcy4kcm91dGUsIHRoaXMuYXBwZW5kKTtcbiAgICAgICAgdG8gPSByZXNvbHZlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0by5yZXBsYWNlKCcjJywgJycpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLm9uUm91dGVDaGFuZ2UoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICAvLyBJZiB1c2VyIHByb3ZpZGVzIGFuXG4gICAgICAvLyBhY3R1YWwgbGluaywgZG8gbm90XG4gICAgICAvLyBwcmV2ZW50IGRlZmF1bHRcbiAgICAgIGlmICh0aGlzLmhyZWYgJiYgdGhpcy5ocmVmLmluZGV4T2YoJyMnKSA+IC0xKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZS5kZXRhaWwpIHRoaXMuJGVsLmJsdXIoKTtcbiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgZSk7XG4gICAgICB0aGlzLnRvIHx8IHRoaXMudG9nZ2xlKCk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfYSA9IHRoaXMuZ2VuZXJhdGVSb3V0ZUxpbmsoKSxcbiAgICAgICAgdGFnID0gX2EudGFnLFxuICAgICAgICBkYXRhID0gX2EuZGF0YTtcblxuICAgIGRhdGEuYXR0cnMgPSBfX2Fzc2lnbih7fSwgZGF0YS5hdHRycywge1xuICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBTdHJpbmcodGhpcy5pc0FjdGl2ZSksXG4gICAgICByb2xlOiAndGFiJyxcbiAgICAgIHRhYmluZGV4OiAwXG4gICAgfSk7XG4gICAgZGF0YS5vbiA9IF9fYXNzaWduKHt9LCBkYXRhLm9uLCB7XG4gICAgICBrZXlkb3duOiBmdW5jdGlvbiBrZXlkb3duKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wia2V5Q29kZXNcIl0uZW50ZXIpIF90aGlzLmNsaWNrKGUpO1xuXG4gICAgICAgIF90aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGgodGFnLCBkYXRhLCB0aGlzLiRzbG90cy5kZWZhdWx0KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJJdGVtLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFiSXRlbS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZXaW5kb3dfVldpbmRvd0l0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZXaW5kb3cvVldpbmRvd0l0ZW0gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZXaW5kb3cvVldpbmRvd0l0ZW0udHNcIik7XG4vLyBFeHRlbnNpb25zXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZXaW5kb3dfVldpbmRvd0l0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGFiLWl0ZW0nLFxuICBwcm9wczoge1xuICAgIGlkOiBTdHJpbmdcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbldpbmRvd0l0ZW06IGZ1bmN0aW9uIGdlbldpbmRvd0l0ZW0oKSB7XG4gICAgICB2YXIgaXRlbSA9IF9WV2luZG93X1ZXaW5kb3dJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5XaW5kb3dJdGVtLmNhbGwodGhpcyk7XG4gICAgICBpdGVtLmRhdGEuZG9tUHJvcHMgPSBpdGVtLmRhdGEuZG9tUHJvcHMgfHwge307XG4gICAgICBpdGVtLmRhdGEuZG9tUHJvcHMuaWQgPSB0aGlzLmlkIHx8IHRoaXMudmFsdWU7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFicy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFicy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUYWJzX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnMuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYnMuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRhYnNfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WVGFic19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGFic0Jhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGFic0JhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYnNCYXIudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUYWJzSXRlbXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnNJdGVtcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYnNJdGVtcy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRhYnNTbGlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnNTbGlkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzU2xpZGVyLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3Byb3h5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3Byb3h5YWJsZSAqLyBcIi4vc3JjL21peGlucy9wcm94eWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yZXNpemUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3Jlc2l6ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIENvbXBvbmVudHNcblxuXG5cbiAvLyBNaXhpbnNcblxuXG5cbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfcHJveHlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGFicycsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBSZXNpemU6IF9kaXJlY3RpdmVzX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBwcm9wczoge1xuICAgIGFjdGl2ZUNsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJ1xuICAgIH0sXG4gICAgYWxpZ25XaXRoVGl0bGU6IEJvb2xlYW4sXG4gICAgYmFja2dyb3VuZENvbG9yOiBTdHJpbmcsXG4gICAgY2VudGVyQWN0aXZlOiBCb29sZWFuLFxuICAgIGNlbnRlcmVkOiBCb29sZWFuLFxuICAgIGZpeGVkVGFiczogQm9vbGVhbixcbiAgICBncm93OiBCb29sZWFuLFxuICAgIGhlaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgaGlkZVNsaWRlcjogQm9vbGVhbixcbiAgICBpY29uc0FuZFRleHQ6IEJvb2xlYW4sXG4gICAgbW9iaWxlQnJlYWtQb2ludDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDEyNjRcbiAgICB9LFxuICAgIG5leHRJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJG5leHQnXG4gICAgfSxcbiAgICBvcHRpb25hbDogQm9vbGVhbixcbiAgICBwcmV2SWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJyRwcmV2J1xuICAgIH0sXG4gICAgcmlnaHQ6IEJvb2xlYW4sXG4gICAgc2hvd0Fycm93czogQm9vbGVhbixcbiAgICBzbGlkZXJDb2xvcjogU3RyaW5nLFxuICAgIHNsaWRlclNpemU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAyXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDogQm9vbGVhblxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXNpemVUaW1lb3V0OiAwLFxuICAgICAgc2xpZGVyOiB7XG4gICAgICAgIGhlaWdodDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgIH0sXG4gICAgICB0cmFuc2l0aW9uVGltZTogMzAwXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICAgICAgJ3YtdGFicy0tYWxpZ24td2l0aC10aXRsZSc6IHRoaXMuYWxpZ25XaXRoVGl0bGUsXG4gICAgICAgICd2LXRhYnMtLWNlbnRlcmVkJzogdGhpcy5jZW50ZXJlZCxcbiAgICAgICAgJ3YtdGFicy0tZml4ZWQtdGFicyc6IHRoaXMuZml4ZWRUYWJzLFxuICAgICAgICAndi10YWJzLS1ncm93JzogdGhpcy5ncm93LFxuICAgICAgICAndi10YWJzLS1pY29ucy1hbmQtdGV4dCc6IHRoaXMuaWNvbnNBbmRUZXh0LFxuICAgICAgICAndi10YWJzLS1yaWdodCc6IHRoaXMucmlnaHQsXG4gICAgICAgICd2LXRhYnMtLXZlcnRpY2FsJzogdGhpcy52ZXJ0aWNhbFxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgIH0sXG4gICAgaXNSZXZlcnNlZDogZnVuY3Rpb24gaXNSZXZlcnNlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LnJ0bCAmJiB0aGlzLnZlcnRpY2FsO1xuICAgIH0sXG4gICAgc2xpZGVyU3R5bGVzOiBmdW5jdGlvbiBzbGlkZXJTdHlsZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLnNsaWRlci5oZWlnaHQpLFxuICAgICAgICBsZWZ0OiB0aGlzLmlzUmV2ZXJzZWQgPyB1bmRlZmluZWQgOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5zbGlkZXIubGVmdCksXG4gICAgICAgIHJpZ2h0OiB0aGlzLmlzUmV2ZXJzZWQgPyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5zbGlkZXIucmlnaHQpIDogdW5kZWZpbmVkLFxuICAgICAgICB0b3A6IHRoaXMudmVydGljYWwgPyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5zbGlkZXIudG9wKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy5zbGlkZXIubGVmdCAhPSBudWxsID8gbnVsbCA6ICdub25lJyxcbiAgICAgICAgd2lkdGg6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLnNsaWRlci53aWR0aClcbiAgICAgIH07XG4gICAgfSxcbiAgICBjb21wdXRlZENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZENvbG9yKCkge1xuICAgICAgaWYgKHRoaXMuY29sb3IpIHJldHVybiB0aGlzLmNvbG9yO2Vsc2UgaWYgKHRoaXMuaXNEYXJrICYmICF0aGlzLmFwcElzRGFyaykgcmV0dXJuICd3aGl0ZSc7ZWxzZSByZXR1cm4gJ3ByaW1hcnknO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBhbGlnbldpdGhUaXRsZTogJ2NhbGxTbGlkZXInLFxuICAgIGNlbnRlcmVkOiAnY2FsbFNsaWRlcicsXG4gICAgY2VudGVyQWN0aXZlOiAnY2FsbFNsaWRlcicsXG4gICAgZml4ZWRUYWJzOiAnY2FsbFNsaWRlcicsXG4gICAgZ3JvdzogJ2NhbGxTbGlkZXInLFxuICAgIHJpZ2h0OiAnY2FsbFNsaWRlcicsXG4gICAgc2hvd0Fycm93czogJ2NhbGxTbGlkZXInLFxuICAgIHZlcnRpY2FsOiAnY2FsbFNsaWRlcicsXG4gICAgJyR2dWV0aWZ5LmFwcGxpY2F0aW9uLmxlZnQnOiAnb25SZXNpemUnLFxuICAgICckdnVldGlmeS5hcHBsaWNhdGlvbi5yaWdodCc6ICdvblJlc2l6ZScsXG4gICAgJyR2dWV0aWZ5LnJ0bCc6ICdvblJlc2l6ZSdcbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoX3RoaXMuY2FsbFNsaWRlciwgMzApO1xuICAgIH0pO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY2FsbFNsaWRlcjogZnVuY3Rpb24gY2FsbFNsaWRlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmhpZGVTbGlkZXIgfHwgIXRoaXMuJHJlZnMuaXRlbXMgfHwgIXRoaXMuJHJlZnMuaXRlbXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zbGlkZXIud2lkdGggPSAwO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gR2l2ZSBzY3JlZW4gdGltZSB0byBwYWludFxuICAgICAgICB2YXIgYWN0aXZlVGFiID0gX3RoaXMuJHJlZnMuaXRlbXMuc2VsZWN0ZWRJdGVtc1swXTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cbiAgICAgICAgaWYgKCFhY3RpdmVUYWIgfHwgIWFjdGl2ZVRhYi4kZWwpIHtcbiAgICAgICAgICBfdGhpcy5zbGlkZXIud2lkdGggPSAwO1xuICAgICAgICAgIF90aGlzLnNsaWRlci5sZWZ0ID0gMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWwgPSBhY3RpdmVUYWIuJGVsO1xuICAgICAgICBfdGhpcy5zbGlkZXIgPSB7XG4gICAgICAgICAgaGVpZ2h0OiAhX3RoaXMudmVydGljYWwgPyBOdW1iZXIoX3RoaXMuc2xpZGVyU2l6ZSkgOiBlbC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgbGVmdDogX3RoaXMudmVydGljYWwgPyAwIDogZWwub2Zmc2V0TGVmdCxcbiAgICAgICAgICByaWdodDogX3RoaXMudmVydGljYWwgPyAwIDogZWwub2Zmc2V0TGVmdCArIGVsLm9mZnNldFdpZHRoLFxuICAgICAgICAgIHRvcDogZWwub2Zmc2V0VG9wLFxuICAgICAgICAgIHdpZHRoOiBfdGhpcy52ZXJ0aWNhbCA/IE51bWJlcihfdGhpcy5zbGlkZXJTaXplKSA6IGVsLnNjcm9sbFdpZHRoXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2VuQmFyOiBmdW5jdGlvbiBnZW5CYXIoaXRlbXMsIHNsaWRlcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5oZWlnaHQpXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgYWN0aXZlQ2xhc3M6IHRoaXMuYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgY2VudGVyQWN0aXZlOiB0aGlzLmNlbnRlckFjdGl2ZSxcbiAgICAgICAgICBkYXJrOiB0aGlzLmRhcmssXG4gICAgICAgICAgbGlnaHQ6IHRoaXMubGlnaHQsXG4gICAgICAgICAgbWFuZGF0b3J5OiAhdGhpcy5vcHRpb25hbCxcbiAgICAgICAgICBtb2JpbGVCcmVha1BvaW50OiB0aGlzLm1vYmlsZUJyZWFrUG9pbnQsXG4gICAgICAgICAgbmV4dEljb246IHRoaXMubmV4dEljb24sXG4gICAgICAgICAgcHJldkljb246IHRoaXMucHJldkljb24sXG4gICAgICAgICAgc2hvd0Fycm93czogdGhpcy5zaG93QXJyb3dzLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmludGVybmFsVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAnY2FsbDpzbGlkZXInOiB0aGlzLmNhbGxTbGlkZXIsXG4gICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UodmFsKSB7XG4gICAgICAgICAgICBfdGhpcy5pbnRlcm5hbFZhbHVlID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiAnaXRlbXMnXG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb21wdXRlZENvbG9yLCBkYXRhKTtcbiAgICAgIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yLCBkYXRhKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WVGFic0Jhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgZGF0YSwgW3RoaXMuZ2VuU2xpZGVyKHNsaWRlciksIGl0ZW1zXSk7XG4gICAgfSxcbiAgICBnZW5JdGVtczogZnVuY3Rpb24gZ2VuSXRlbXMoaXRlbXMsIGl0ZW0pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIElmIHVzZXIgcHJvdmlkZXMgaXRlbXNcbiAgICAgIC8vIG9wdCB0byB1c2UgdGhlaXJzXG5cblxuICAgICAgaWYgKGl0ZW1zKSByZXR1cm4gaXRlbXM7IC8vIElmIG5vIHRhYnMgYXJlIHByb3ZpZGVkXG4gICAgICAvLyByZW5kZXIgbm90aGluZ1xuXG4gICAgICBpZiAoIWl0ZW0ubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WVGFic0l0ZW1zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKHZhbCkge1xuICAgICAgICAgICAgX3RoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGl0ZW0pO1xuICAgIH0sXG4gICAgZ2VuU2xpZGVyOiBmdW5jdGlvbiBnZW5TbGlkZXIoc2xpZGVyKSB7XG4gICAgICBpZiAodGhpcy5oaWRlU2xpZGVyKSByZXR1cm4gbnVsbDtcblxuICAgICAgaWYgKCFzbGlkZXIpIHtcbiAgICAgICAgc2xpZGVyID0gdGhpcy4kY3JlYXRlRWxlbWVudChfVlRhYnNTbGlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgY29sb3I6IHRoaXMuc2xpZGVyQ29sb3JcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGFicy1zbGlkZXItd3JhcHBlcicsXG4gICAgICAgIHN0eWxlOiB0aGlzLnNsaWRlclN0eWxlc1xuICAgICAgfSwgW3NsaWRlcl0pO1xuICAgIH0sXG4gICAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm47XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuY2FsbFNsaWRlciwgMCk7XG4gICAgfSxcbiAgICBwYXJzZU5vZGVzOiBmdW5jdGlvbiBwYXJzZU5vZGVzKCkge1xuICAgICAgdmFyIGl0ZW1zID0gbnVsbDtcbiAgICAgIHZhciBzbGlkZXIgPSBudWxsO1xuICAgICAgdmFyIGl0ZW0gPSBbXTtcbiAgICAgIHZhciB0YWIgPSBbXTtcbiAgICAgIHZhciBzbG90ID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTtcbiAgICAgIHZhciBsZW5ndGggPSBzbG90Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdm5vZGUgPSBzbG90W2ldO1xuXG4gICAgICAgIGlmICh2bm9kZS5jb21wb25lbnRPcHRpb25zKSB7XG4gICAgICAgICAgc3dpdGNoICh2bm9kZS5jb21wb25lbnRPcHRpb25zLkN0b3Iub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlICd2LXRhYnMtc2xpZGVyJzpcbiAgICAgICAgICAgICAgc2xpZGVyID0gdm5vZGU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICd2LXRhYnMtaXRlbXMnOlxuICAgICAgICAgICAgICBpdGVtcyA9IHZub2RlO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndi10YWItaXRlbSc6XG4gICAgICAgICAgICAgIGl0ZW0ucHVzaCh2bm9kZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gY2FzZSAndi10YWInIC0gaW50ZW50aW9uYWxseSBvbWl0dGVkXG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRhYi5wdXNoKHZub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLnB1c2godm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIHRhYjogYXJyYXkgb2YgYHYtdGFiYFxuICAgICAgICogc2xpZGVyOiBzaW5nbGUgYHYtdGFicy1zbGlkZXJgXG4gICAgICAgKiBpdGVtczogc2luZ2xlIGB2LXRhYnMtaXRlbXNgXG4gICAgICAgKiBpdGVtOiBhcnJheSBvZiBgdi10YWItaXRlbWBcbiAgICAgICAqL1xuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhYjogdGFiLFxuICAgICAgICBzbGlkZXI6IHNsaWRlcixcbiAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICBpdGVtOiBpdGVtXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfYSA9IHRoaXMucGFyc2VOb2RlcygpLFxuICAgICAgICB0YWIgPSBfYS50YWIsXG4gICAgICAgIHNsaWRlciA9IF9hLnNsaWRlcixcbiAgICAgICAgaXRlbXMgPSBfYS5pdGVtcyxcbiAgICAgICAgaXRlbSA9IF9hLml0ZW07XG5cbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXRhYnMnLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICBxdWlldDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogdGhpcy5vblJlc2l6ZVxuICAgICAgfV1cbiAgICB9LCBbdGhpcy5nZW5CYXIodGFiLCBzbGlkZXIpLCB0aGlzLmdlbkl0ZW1zKGl0ZW1zLCBpdGVtKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYnNCYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzQmFyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNsaWRlR3JvdXBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTbGlkZUdyb3VwL1ZTbGlkZUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2xpZGVHcm91cC9WU2xpZGVHcm91cC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19zc3JfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9zc3ItYm9vdGFibGUgKi8gXCIuL3NyYy9taXhpbnMvc3NyLWJvb3RhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3ZhbHVlcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX192YWx1ZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLFxuICAgICAgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICByZXR1cm4ge1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG8gJiYgb1tpKytdLFxuICAgICAgICBkb25lOiAhb1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59OyAvLyBFeHRlbnNpb25zXG5cblxuIC8vIE1peGluc1xuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9WU2xpZGVHcm91cF9WU2xpZGVHcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQmFzZVNsaWRlR3JvdXBcIl0sIF9taXhpbnNfc3NyX2Jvb3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbikuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGFicy1iYXInLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWJzQmFyOiB0aGlzXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVlNsaWRlR3JvdXBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkJhc2VTbGlkZUdyb3VwXCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpLCB7XG4gICAgICAgICd2LXRhYnMtYmFyJzogdHJ1ZSxcbiAgICAgICAgJ3YtdGFicy1iYXItLWlzLW1vYmlsZSc6IHRoaXMuaXNNb2JpbGUsXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIGFuZCBtb3ZlIHRvIHYtc2xpZGUtZ3JvdXBcbiAgICAgICAgJ3YtdGFicy1iYXItLXNob3ctYXJyb3dzJzogdGhpcy5zaG93QXJyb3dzXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3Nlcyk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGl0ZW1zOiAnY2FsbFNsaWRlcicsXG4gICAgaW50ZXJuYWxWYWx1ZTogJ2NhbGxTbGlkZXInLFxuICAgICRyb3V0ZTogJ29uUm91dGVDaGFuZ2UnXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjYWxsU2xpZGVyOiBmdW5jdGlvbiBjYWxsU2xpZGVyKCkge1xuICAgICAgaWYgKCF0aGlzLmlzQm9vdGVkKSByZXR1cm47XG4gICAgICB0aGlzLiRlbWl0KCdjYWxsOnNsaWRlcicpO1xuICAgIH0sXG4gICAgZ2VuQ29udGVudDogZnVuY3Rpb24gZ2VuQ29udGVudCgpIHtcbiAgICAgIHZhciByZW5kZXIgPSBfVlNsaWRlR3JvdXBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkJhc2VTbGlkZUdyb3VwXCJdLm9wdGlvbnMubWV0aG9kcy5nZW5Db250ZW50LmNhbGwodGhpcyk7XG4gICAgICByZW5kZXIuZGF0YSA9IHJlbmRlci5kYXRhIHx8IHt9O1xuICAgICAgcmVuZGVyLmRhdGEuc3RhdGljQ2xhc3MgKz0gJyB2LXRhYnMtYmFyX19jb250ZW50JztcbiAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfSxcbiAgICBvblJvdXRlQ2hhbmdlOiBmdW5jdGlvbiBvblJvdXRlQ2hhbmdlKHZhbCwgb2xkVmFsKSB7XG4gICAgICB2YXIgZV8xLCBfYTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuICAgICAgaWYgKHRoaXMubWFuZGF0b3J5KSByZXR1cm47XG4gICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgICAgdmFyIG5ld1BhdGggPSB2YWwucGF0aDtcbiAgICAgIHZhciBvbGRQYXRoID0gb2xkVmFsLnBhdGg7XG4gICAgICB2YXIgaGFzTmV3ID0gZmFsc2U7XG4gICAgICB2YXIgaGFzT2xkID0gZmFsc2U7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIGl0ZW1zXzEgPSBfX3ZhbHVlcyhpdGVtcyksIGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpOyAhaXRlbXNfMV8xLmRvbmU7IGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc18xXzEudmFsdWU7XG4gICAgICAgICAgaWYgKGl0ZW0udG8gPT09IG5ld1BhdGgpIGhhc05ldyA9IHRydWU7ZWxzZSBpZiAoaXRlbS50byA9PT0gb2xkUGF0aCkgaGFzT2xkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoaGFzTmV3ICYmIGhhc09sZCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgICAgIGVfMSA9IHtcbiAgICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGl0ZW1zXzFfMSAmJiAhaXRlbXNfMV8xLmRvbmUgJiYgKF9hID0gaXRlbXNfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZW1zXzEpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBJZiB3ZSBoYXZlIGFuIG9sZCBpdGVtIGFuZCBub3QgYSBuZXcgb25lXG4gICAgICAvLyBpdCdzIGFzc3VtZWQgdGhhdCB0aGUgdXNlciBuYXZpZ2F0ZWQgdG9cbiAgICAgIC8vIGEgcGF0aCB0aGF0IGlzIG5vdCBwcmVzZW50IGluIHRoZSBpdGVtc1xuXG5cbiAgICAgIGlmICghaGFzTmV3ICYmIGhhc09sZCkgdGhpcy5pbnRlcm5hbFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciByZW5kZXIgPSBfVlNsaWRlR3JvdXBfVlNsaWRlR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkJhc2VTbGlkZUdyb3VwXCJdLm9wdGlvbnMucmVuZGVyLmNhbGwodGhpcywgaCk7XG4gICAgcmVuZGVyLmRhdGEuYXR0cnMgPSB7XG4gICAgICByb2xlOiAndGFibGlzdCdcbiAgICB9O1xuICAgIHJldHVybiByZW5kZXI7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFic0l0ZW1zLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzSXRlbXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZXaW5kb3dfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVldpbmRvdy9WV2luZG93ICovIFwiLi9zcmMvY29tcG9uZW50cy9WV2luZG93L1ZXaW5kb3cudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJdGVtR3JvdXAvVkl0ZW1Hcm91cC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIEV4dGVuc2lvbnNcblxuXG4gLy8gVHlwZXMgJiBDb21wb25lbnRzXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVldpbmRvd19WV2luZG93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXRhYnMtaXRlbXMnLFxuICBwcm9wczoge1xuICAgIG1hbmRhdG9yeToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIF9WV2luZG93X1ZXaW5kb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHtcbiAgICAgICAgJ3YtdGFicy1pdGVtcyc6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaXNEYXJrOiBmdW5jdGlvbiBpc0RhcmsoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290SXNEYXJrO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShpdGVtLCBpKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZCB8fCBfVkl0ZW1Hcm91cF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJCYXNlSXRlbUdyb3VwXCJdLm9wdGlvbnMubWV0aG9kcy5nZXRWYWx1ZS5jYWxsKHRoaXMsIGl0ZW0sIGkpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzU2xpZGVyLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFic1NsaWRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8vIE1peGluc1xuIC8vIFV0aWxpdGllc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXRhYnMtc2xpZGVyJyxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtdGFicy1zbGlkZXInXG4gICAgfSkpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUYWJzL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlRhYnMsIFZUYWIsIFZUYWJJdGVtLCBWVGFic0l0ZW1zLCBWVGFic1NsaWRlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUYWJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYi50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUYWJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRhYnNJdGVtc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGFic0l0ZW1zICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGFicy9WVGFic0l0ZW1zLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYnNJdGVtc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGFic0l0ZW1zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGFiSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGFiSXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRhYnMvVlRhYkl0ZW0udHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFiSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGFiSXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRhYnNTbGlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnNTbGlkZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL1ZUYWJzU2xpZGVyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYnNTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNTbGlkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWVGFiczogX1ZUYWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUYWI6IF9WVGFiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUYWJzSXRlbXM6IF9WVGFic0l0ZW1zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUYWJJdGVtOiBfVlRhYkl0ZW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sXG4gICAgVlRhYnNTbGlkZXI6IF9WVGFic1NsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9WVGV4dEZpZWxkLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRGaWVsZF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUZXh0RmllbGQuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9WVGV4dEZpZWxkLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WVGV4dEZpZWxkX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVklucHV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW5wdXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQ291bnRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvdW50ZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMYWJlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkxhYmVsICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGFiZWwvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19sb2FkYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2xvYWRhYmxlICovIFwiLi9zcmMvbWl4aW5zL2xvYWRhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBFeHRlbnNpb25zXG5cbiAvLyBDb21wb25lbnRzXG5cblxuIC8vIE1peGluc1xuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gVXRpbGl0aWVzXG5cblxuIC8vIFR5cGVzXG5cblxudmFyIGJhc2VNaXhpbnMgPSBPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdKShfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2xvYWRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbnZhciBkaXJ0eVR5cGVzID0gWydjb2xvcicsICdmaWxlJywgJ3RpbWUnLCAnZGF0ZScsICdkYXRldGltZS1sb2NhbCcsICd3ZWVrJywgJ21vbnRoJ107XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGV4dC1maWVsZCcsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICByaXBwbGU6IF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXVxuICB9LFxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICBwcm9wczoge1xuICAgIGFwcGVuZE91dGVySWNvbjogU3RyaW5nLFxuICAgIGF1dG9mb2N1czogQm9vbGVhbixcbiAgICBjbGVhcmFibGU6IEJvb2xlYW4sXG4gICAgY2xlYXJJY29uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJGNsZWFyJ1xuICAgIH0sXG4gICAgY291bnRlcjogW0Jvb2xlYW4sIE51bWJlciwgU3RyaW5nXSxcbiAgICBmaWxsZWQ6IEJvb2xlYW4sXG4gICAgZmxhdDogQm9vbGVhbixcbiAgICBmdWxsV2lkdGg6IEJvb2xlYW4sXG4gICAgbGFiZWw6IFN0cmluZyxcbiAgICBvdXRsaW5lZDogQm9vbGVhbixcbiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLFxuICAgIHByZWZpeDogU3RyaW5nLFxuICAgIHByZXBlbmRJbm5lckljb246IFN0cmluZyxcbiAgICByZXZlcnNlOiBCb29sZWFuLFxuICAgIHJvdW5kZWQ6IEJvb2xlYW4sXG4gICAgc2hhcGVkOiBCb29sZWFuLFxuICAgIHNpbmdsZUxpbmU6IEJvb2xlYW4sXG4gICAgc29sbzogQm9vbGVhbixcbiAgICBzb2xvSW52ZXJ0ZWQ6IEJvb2xlYW4sXG4gICAgc3VmZml4OiBTdHJpbmcsXG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3RleHQnXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBiYWRJbnB1dDogZmFsc2UsXG4gICAgICBsYWJlbFdpZHRoOiAwLFxuICAgICAgcHJlZml4V2lkdGg6IDAsXG4gICAgICBwcmVwZW5kV2lkdGg6IDAsXG4gICAgICBpbml0aWFsVmFsdWU6IG51bGwsXG4gICAgICBpc0Jvb3RlZDogZmFsc2UsXG4gICAgICBpc0NsZWFyaW5nOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi10ZXh0LWZpZWxkJzogdHJ1ZSxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0tZnVsbC13aWR0aCc6IHRoaXMuZnVsbFdpZHRoLFxuICAgICAgICAndi10ZXh0LWZpZWxkLS1wcmVmaXgnOiB0aGlzLnByZWZpeCxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0tc2luZ2xlLWxpbmUnOiB0aGlzLmlzU2luZ2xlLFxuICAgICAgICAndi10ZXh0LWZpZWxkLS1zb2xvJzogdGhpcy5pc1NvbG8sXG4gICAgICAgICd2LXRleHQtZmllbGQtLXNvbG8taW52ZXJ0ZWQnOiB0aGlzLnNvbG9JbnZlcnRlZCxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0tc29sby1mbGF0JzogdGhpcy5mbGF0LFxuICAgICAgICAndi10ZXh0LWZpZWxkLS1maWxsZWQnOiB0aGlzLmZpbGxlZCxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0taXMtYm9vdGVkJzogdGhpcy5pc0Jvb3RlZCxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0tZW5jbG9zZWQnOiB0aGlzLmlzRW5jbG9zZWQsXG4gICAgICAgICd2LXRleHQtZmllbGQtLXJldmVyc2UnOiB0aGlzLnJldmVyc2UsXG4gICAgICAgICd2LXRleHQtZmllbGQtLW91dGxpbmVkJzogdGhpcy5vdXRsaW5lZCxcbiAgICAgICAgJ3YtdGV4dC1maWVsZC0tcGxhY2Vob2xkZXInOiB0aGlzLnBsYWNlaG9sZGVyLFxuICAgICAgICAndi10ZXh0LWZpZWxkLS1yb3VuZGVkJzogdGhpcy5yb3VuZGVkLFxuICAgICAgICAndi10ZXh0LWZpZWxkLS1zaGFwZWQnOiB0aGlzLnNoYXBlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjb3VudGVyVmFsdWU6IGZ1bmN0aW9uIGNvdW50ZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiAodGhpcy5pbnRlcm5hbFZhbHVlIHx8ICcnKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB9LFxuICAgIGludGVybmFsVmFsdWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXp5VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgIHRoaXMubGF6eVZhbHVlID0gdmFsO1xuICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMubGF6eVZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzRGlydHk6IGZ1bmN0aW9uIGlzRGlydHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXp5VmFsdWUgIT0gbnVsbCAmJiB0aGlzLmxhenlWYWx1ZS50b1N0cmluZygpLmxlbmd0aCA+IDAgfHwgdGhpcy5iYWRJbnB1dDtcbiAgICB9LFxuICAgIGlzRW5jbG9zZWQ6IGZ1bmN0aW9uIGlzRW5jbG9zZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWxsZWQgfHwgdGhpcy5pc1NvbG8gfHwgdGhpcy5vdXRsaW5lZCB8fCB0aGlzLmZ1bGxXaWR0aDtcbiAgICB9LFxuICAgIGlzTGFiZWxBY3RpdmU6IGZ1bmN0aW9uIGlzTGFiZWxBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0RpcnR5IHx8IGRpcnR5VHlwZXMuaW5jbHVkZXModGhpcy50eXBlKTtcbiAgICB9LFxuICAgIGlzU2luZ2xlOiBmdW5jdGlvbiBpc1NpbmdsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzU29sbyB8fCB0aGlzLnNpbmdsZUxpbmUgfHwgdGhpcy5mdWxsV2lkdGg7XG4gICAgfSxcbiAgICBpc1NvbG86IGZ1bmN0aW9uIGlzU29sbygpIHtcbiAgICAgIHJldHVybiB0aGlzLnNvbG8gfHwgdGhpcy5zb2xvSW52ZXJ0ZWQ7XG4gICAgfSxcbiAgICBsYWJlbFBvc2l0aW9uOiBmdW5jdGlvbiBsYWJlbFBvc2l0aW9uKCkge1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMucHJlZml4ICYmICF0aGlzLmxhYmVsVmFsdWUgPyB0aGlzLnByZWZpeFdpZHRoIDogMDtcbiAgICAgIGlmICh0aGlzLmxhYmVsVmFsdWUgJiYgdGhpcy5wcmVwZW5kV2lkdGgpIG9mZnNldCAtPSB0aGlzLnByZXBlbmRXaWR0aDtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LnJ0bCA9PT0gdGhpcy5yZXZlcnNlID8ge1xuICAgICAgICBsZWZ0OiBvZmZzZXQsXG4gICAgICAgIHJpZ2h0OiAnYXV0bydcbiAgICAgIH0gOiB7XG4gICAgICAgIGxlZnQ6ICdhdXRvJyxcbiAgICAgICAgcmlnaHQ6IG9mZnNldFxuICAgICAgfTtcbiAgICB9LFxuICAgIHNob3dMYWJlbDogZnVuY3Rpb24gc2hvd0xhYmVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzTGFiZWwgJiYgKCF0aGlzLmlzU2luZ2xlIHx8ICF0aGlzLmlzTGFiZWxBY3RpdmUgJiYgIXRoaXMucGxhY2Vob2xkZXIpO1xuICAgIH0sXG4gICAgbGFiZWxWYWx1ZTogZnVuY3Rpb24gbGFiZWxWYWx1ZSgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pc1NpbmdsZSAmJiBCb29sZWFuKHRoaXMuaXNGb2N1c2VkIHx8IHRoaXMuaXNMYWJlbEFjdGl2ZSB8fCB0aGlzLnBsYWNlaG9sZGVyKTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgbGFiZWxWYWx1ZTogJ3NldExhYmVsV2lkdGgnLFxuICAgIG91dGxpbmVkOiAnc2V0TGFiZWxXaWR0aCcsXG4gICAgbGFiZWw6IGZ1bmN0aW9uIGxhYmVsKCkge1xuICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5zZXRMYWJlbFdpZHRoKTtcbiAgICB9LFxuICAgIHByZWZpeDogZnVuY3Rpb24gcHJlZml4KCkge1xuICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5zZXRQcmVmaXhXaWR0aCk7XG4gICAgfSxcbiAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uIGlzRm9jdXNlZCh2YWwpIHtcbiAgICAgIC8vIFNldHMgdmFsaWRhdGlvblN0YXRlIGZyb20gdmFsaWRhdGFibGVcbiAgICAgIHRoaXMuaGFzQ29sb3IgPSB2YWw7XG5cbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSB0aGlzLmxhenlWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbml0aWFsVmFsdWUgIT09IHRoaXMubGF6eVZhbHVlKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMubGF6eVZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHtcbiAgICAgIHRoaXMubGF6eVZhbHVlID0gdmFsO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnYm94JykpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJicmVha2luZ1wiXSkoJ2JveCcsICdmaWxsZWQnLCB0aGlzKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuXG4gICAgaWYgKHRoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KCdicm93c2VyLWF1dG9jb21wbGV0ZScpKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiYnJlYWtpbmdcIl0pKCdicm93c2VyLWF1dG9jb21wbGV0ZScsICdhdXRvY29tcGxldGUnLCB0aGlzKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cblxuICAgIGlmICh0aGlzLnNoYXBlZCAmJiAhKHRoaXMuZmlsbGVkIHx8IHRoaXMub3V0bGluZWQgfHwgdGhpcy5pc1NvbG8pKSB7XG4gICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiY29uc29sZVdhcm5cIl0pKCdzaGFwZWQgc2hvdWxkIGJlIHVzZWQgd2l0aCBlaXRoZXIgZmlsbGVkIG9yIG91dGxpbmVkJywgdGhpcyk7XG4gICAgfVxuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLmF1dG9mb2N1cyAmJiB0aGlzLm9uRm9jdXMoKTtcbiAgICB0aGlzLnNldExhYmVsV2lkdGgoKTtcbiAgICB0aGlzLnNldFByZWZpeFdpZHRoKCk7XG4gICAgdGhpcy5zZXRQcmVwZW5kV2lkdGgoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmlzQm9vdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgfSxcblxuICAgIC8qKiBAcHVibGljICovXG4gICAgYmx1cjogZnVuY3Rpb24gYmx1cihlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvaXNzdWVzLzU5MTNcbiAgICAgIC8vIFNhZmFyaSB0YWIgb3JkZXIgZ2V0cyBicm9rZW4gaWYgY2FsbGVkIHN5bmNocm9ub3VzXG5cblxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLiRyZWZzLmlucHV0ICYmIF90aGlzLiRyZWZzLmlucHV0LmJsdXIoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2xlYXJhYmxlQ2FsbGJhY2s6IGZ1bmN0aW9uIGNsZWFyYWJsZUNhbGxiYWNrKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy4kcmVmcy5pbnB1dCAmJiB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7XG4gICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pbnRlcm5hbFZhbHVlID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuQXBwZW5kU2xvdDogZnVuY3Rpb24gZ2VuQXBwZW5kU2xvdCgpIHtcbiAgICAgIHZhciBzbG90ID0gW107XG5cbiAgICAgIGlmICh0aGlzLiRzbG90c1snYXBwZW5kLW91dGVyJ10pIHtcbiAgICAgICAgc2xvdC5wdXNoKHRoaXMuJHNsb3RzWydhcHBlbmQtb3V0ZXInXSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXBwZW5kT3V0ZXJJY29uKSB7XG4gICAgICAgIHNsb3QucHVzaCh0aGlzLmdlbkljb24oJ2FwcGVuZE91dGVyJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZW5TbG90KCdhcHBlbmQnLCAnb3V0ZXInLCBzbG90KTtcbiAgICB9LFxuICAgIGdlblByZXBlbmRJbm5lclNsb3Q6IGZ1bmN0aW9uIGdlblByZXBlbmRJbm5lclNsb3QoKSB7XG4gICAgICB2YXIgc2xvdCA9IFtdO1xuXG4gICAgICBpZiAodGhpcy4kc2xvdHNbJ3ByZXBlbmQtaW5uZXInXSkge1xuICAgICAgICBzbG90LnB1c2godGhpcy4kc2xvdHNbJ3ByZXBlbmQtaW5uZXInXSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJlcGVuZElubmVySWNvbikge1xuICAgICAgICBzbG90LnB1c2godGhpcy5nZW5JY29uKCdwcmVwZW5kSW5uZXInKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdlblNsb3QoJ3ByZXBlbmQnLCAnaW5uZXInLCBzbG90KTtcbiAgICB9LFxuICAgIGdlbkljb25TbG90OiBmdW5jdGlvbiBnZW5JY29uU2xvdCgpIHtcbiAgICAgIHZhciBzbG90ID0gW107XG5cbiAgICAgIGlmICh0aGlzLiRzbG90c1snYXBwZW5kJ10pIHtcbiAgICAgICAgc2xvdC5wdXNoKHRoaXMuJHNsb3RzWydhcHBlbmQnXSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXBwZW5kSWNvbikge1xuICAgICAgICBzbG90LnB1c2godGhpcy5nZW5JY29uKCdhcHBlbmQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdlblNsb3QoJ2FwcGVuZCcsICdpbm5lcicsIHNsb3QpO1xuICAgIH0sXG4gICAgZ2VuSW5wdXRTbG90OiBmdW5jdGlvbiBnZW5JbnB1dFNsb3QoKSB7XG4gICAgICB2YXIgaW5wdXQgPSBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5JbnB1dFNsb3QuY2FsbCh0aGlzKTtcbiAgICAgIHZhciBwcmVwZW5kID0gdGhpcy5nZW5QcmVwZW5kSW5uZXJTbG90KCk7XG5cbiAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgIGlucHV0LmNoaWxkcmVuID0gaW5wdXQuY2hpbGRyZW4gfHwgW107XG4gICAgICAgIGlucHV0LmNoaWxkcmVuLnVuc2hpZnQocHJlcGVuZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9LFxuICAgIGdlbkNsZWFySWNvbjogZnVuY3Rpb24gZ2VuQ2xlYXJJY29uKCkge1xuICAgICAgaWYgKCF0aGlzLmNsZWFyYWJsZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgaWNvbiA9IHRoaXMuaXNEaXJ0eSA/ICdjbGVhcicgOiAnJztcbiAgICAgIHJldHVybiB0aGlzLmdlblNsb3QoJ2FwcGVuZCcsICdpbm5lcicsIFt0aGlzLmdlbkljb24oaWNvbiwgdGhpcy5jbGVhcmFibGVDYWxsYmFjayldKTtcbiAgICB9LFxuICAgIGdlbkNvdW50ZXI6IGZ1bmN0aW9uIGdlbkNvdW50ZXIoKSB7XG4gICAgICBpZiAodGhpcy5jb3VudGVyID09PSBmYWxzZSB8fCB0aGlzLmNvdW50ZXIgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbWF4ID0gdGhpcy5jb3VudGVyID09PSB0cnVlID8gdGhpcy5hdHRycyQubWF4bGVuZ3RoIDogdGhpcy5jb3VudGVyO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgZGFyazogdGhpcy5kYXJrLFxuICAgICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmNvdW50ZXJWYWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbkRlZmF1bHRTbG90OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2xvdCgpIHtcbiAgICAgIHJldHVybiBbdGhpcy5nZW5GaWVsZHNldCgpLCB0aGlzLmdlblRleHRGaWVsZFNsb3QoKSwgdGhpcy5nZW5DbGVhckljb24oKSwgdGhpcy5nZW5JY29uU2xvdCgpLCB0aGlzLmdlblByb2dyZXNzKCldO1xuICAgIH0sXG4gICAgZ2VuRmllbGRzZXQ6IGZ1bmN0aW9uIGdlbkZpZWxkc2V0KCkge1xuICAgICAgaWYgKCF0aGlzLm91dGxpbmVkKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdmaWVsZHNldCcsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAnYXJpYS1oaWRkZW4nOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLmdlbkxlZ2VuZCgpXSk7XG4gICAgfSxcbiAgICBnZW5MYWJlbDogZnVuY3Rpb24gZ2VuTGFiZWwoKSB7XG4gICAgICBpZiAoIXRoaXMuc2hvd0xhYmVsKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGFic29sdXRlOiB0cnVlLFxuICAgICAgICAgIGNvbG9yOiB0aGlzLnZhbGlkYXRpb25TdGF0ZSxcbiAgICAgICAgICBkYXJrOiB0aGlzLmRhcmssXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgZm9jdXNlZDogIXRoaXMuaXNTaW5nbGUgJiYgKHRoaXMuaXNGb2N1c2VkIHx8ICEhdGhpcy52YWxpZGF0aW9uU3RhdGUpLFxuICAgICAgICAgIGZvcjogdGhpcy5jb21wdXRlZElkLFxuICAgICAgICAgIGxlZnQ6IHRoaXMubGFiZWxQb3NpdGlvbi5sZWZ0LFxuICAgICAgICAgIGxpZ2h0OiB0aGlzLmxpZ2h0LFxuICAgICAgICAgIHJpZ2h0OiB0aGlzLmxhYmVsUG9zaXRpb24ucmlnaHQsXG4gICAgICAgICAgdmFsdWU6IHRoaXMubGFiZWxWYWx1ZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZMYWJlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwgZGF0YSwgdGhpcy4kc2xvdHMubGFiZWwgfHwgdGhpcy5sYWJlbCk7XG4gICAgfSxcbiAgICBnZW5MZWdlbmQ6IGZ1bmN0aW9uIGdlbkxlZ2VuZCgpIHtcbiAgICAgIHZhciB3aWR0aCA9ICF0aGlzLnNpbmdsZUxpbmUgJiYgKHRoaXMubGFiZWxWYWx1ZSB8fCB0aGlzLmlzRGlydHkpID8gdGhpcy5sYWJlbFdpZHRoIDogMDtcbiAgICAgIHZhciBzcGFuID0gdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICBpbm5lckhUTUw6ICcmIzgyMDM7J1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdsZWdlbmQnLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6ICF0aGlzLmlzU2luZ2xlID8gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHdpZHRoKSA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICB9LCBbc3Bhbl0pO1xuICAgIH0sXG4gICAgZ2VuSW5wdXQ6IGZ1bmN0aW9uIGdlbklucHV0KCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMubGlzdGVuZXJzJCk7XG4gICAgICBkZWxldGUgbGlzdGVuZXJzWydjaGFuZ2UnXTsgLy8gQ2hhbmdlIHNob3VsZCBub3QgYmUgYm91bmQgZXh0ZXJuYWxseVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5sYXp5VmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IF9fYXNzaWduKHt9LCB0aGlzLmF0dHJzJCwge1xuICAgICAgICAgIGF1dG9mb2N1czogdGhpcy5hdXRvZm9jdXMsXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgaWQ6IHRoaXMuY29tcHV0ZWRJZCxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICByZWFkb25seTogdGhpcy5yZWFkb25seSxcbiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGVcbiAgICAgICAgfSksXG4gICAgICAgIG9uOiBPYmplY3QuYXNzaWduKGxpc3RlbmVycywge1xuICAgICAgICAgIGJsdXI6IHRoaXMub25CbHVyLFxuICAgICAgICAgIGlucHV0OiB0aGlzLm9uSW5wdXQsXG4gICAgICAgICAgZm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgICAgICBrZXlkb3duOiB0aGlzLm9uS2V5RG93blxuICAgICAgICB9KSxcbiAgICAgICAgcmVmOiAnaW5wdXQnXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdlbk1lc3NhZ2VzOiBmdW5jdGlvbiBnZW5NZXNzYWdlcygpIHtcbiAgICAgIGlmICh0aGlzLmhpZGVEZXRhaWxzKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi10ZXh0LWZpZWxkX19kZXRhaWxzJ1xuICAgICAgfSwgW19WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbk1lc3NhZ2VzLmNhbGwodGhpcyksIHRoaXMuZ2VuQ291bnRlcigpXSk7XG4gICAgfSxcbiAgICBnZW5UZXh0RmllbGRTbG90OiBmdW5jdGlvbiBnZW5UZXh0RmllbGRTbG90KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRleHQtZmllbGRfX3Nsb3QnXG4gICAgICB9LCBbdGhpcy5nZW5MYWJlbCgpLCB0aGlzLnByZWZpeCA/IHRoaXMuZ2VuQWZmaXgoJ3ByZWZpeCcpIDogbnVsbCwgdGhpcy5nZW5JbnB1dCgpLCB0aGlzLnN1ZmZpeCA/IHRoaXMuZ2VuQWZmaXgoJ3N1ZmZpeCcpIDogbnVsbF0pO1xuICAgIH0sXG4gICAgZ2VuQWZmaXg6IGZ1bmN0aW9uIGdlbkFmZml4KHR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBcInYtdGV4dC1maWVsZF9fXCIgKyB0eXBlLFxuICAgICAgICByZWY6IHR5cGVcbiAgICAgIH0sIHRoaXNbdHlwZV0pO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIGUgJiYgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2JsdXInLCBlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIGlmICh0aGlzLmlzRm9jdXNlZCB8fCB0aGlzLmRpc2FibGVkIHx8ICF0aGlzLiRyZWZzLmlucHV0KSByZXR1cm47XG4gICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7XG4gICAgfSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIGlmICghdGhpcy4kcmVmcy5pbnB1dCkgcmV0dXJuO1xuXG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy4kcmVmcy5pbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSB7XG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgZSAmJiB0aGlzLiRlbWl0KCdmb2N1cycsIGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICB0aGlzLmJhZElucHV0ID0gdGFyZ2V0LnZhbGlkaXR5ICYmIHRhcmdldC52YWxpZGl0eS5iYWRJbnB1dDtcbiAgICB9LFxuICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImtleUNvZGVzXCJdLmVudGVyKSB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmludGVybmFsVmFsdWUpO1xuICAgICAgdGhpcy4kZW1pdCgna2V5ZG93bicsIGUpO1xuICAgIH0sXG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgaW5wdXQgZnJvbSBiZWluZyBibHVycmVkXG4gICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnMuaW5wdXQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vbk1vdXNlRG93bi5jYWxsKHRoaXMsIGUpO1xuICAgIH0sXG4gICAgb25Nb3VzZVVwOiBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgaWYgKHRoaXMuaGFzTW91c2VEb3duKSB0aGlzLmZvY3VzKCk7XG4gICAgICBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vbk1vdXNlVXAuY2FsbCh0aGlzLCBlKTtcbiAgICB9LFxuICAgIHNldExhYmVsV2lkdGg6IGZ1bmN0aW9uIHNldExhYmVsV2lkdGgoKSB7XG4gICAgICBpZiAoIXRoaXMub3V0bGluZWQgfHwgIXRoaXMuJHJlZnMubGFiZWwpIHJldHVybjtcbiAgICAgIHRoaXMubGFiZWxXaWR0aCA9IHRoaXMuJHJlZnMubGFiZWwuc2Nyb2xsV2lkdGggKiAwLjc1ICsgNjtcbiAgICB9LFxuICAgIHNldFByZWZpeFdpZHRoOiBmdW5jdGlvbiBzZXRQcmVmaXhXaWR0aCgpIHtcbiAgICAgIGlmICghdGhpcy4kcmVmcy5wcmVmaXgpIHJldHVybjtcbiAgICAgIHRoaXMucHJlZml4V2lkdGggPSB0aGlzLiRyZWZzLnByZWZpeC5vZmZzZXRXaWR0aDtcbiAgICB9LFxuICAgIHNldFByZXBlbmRXaWR0aDogZnVuY3Rpb24gc2V0UHJlcGVuZFdpZHRoKCkge1xuICAgICAgaWYgKCF0aGlzLm91dGxpbmVkIHx8ICF0aGlzLiRyZWZzWydwcmVwZW5kLWlubmVyJ10pIHJldHVybjtcbiAgICAgIHRoaXMucHJlcGVuZFdpZHRoID0gdGhpcy4kcmVmc1sncHJlcGVuZC1pbm5lciddLm9mZnNldFdpZHRoO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUZXh0RmllbGQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRleHRGaWVsZC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlRleHRGaWVsZCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGV4dEZpZWxkICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGV4dEZpZWxkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL1ZUZXh0YXJlYS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL1ZUZXh0YXJlYS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUZXh0YXJlYS9WVGV4dGFyZWEudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL1ZUZXh0YXJlYS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRhcmVhX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRleHRhcmVhLnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUZXh0YXJlYS9WVGV4dGFyZWEuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRhcmVhX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlRleHRhcmVhX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVlRleHRGaWVsZC9WVGV4dEZpZWxkICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIFV0aWxpdGllc1xuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSk7XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGV4dGFyZWEnLFxuICBwcm9wczoge1xuICAgIGF1dG9Hcm93OiBCb29sZWFuLFxuICAgIG5vUmVzaXplOiBCb29sZWFuLFxuICAgIHJvd0hlaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDI0LFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Iodikge1xuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcm93czoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDUsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7XG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VJbnQodiwgMTApKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXRleHRhcmVhJzogdHJ1ZSxcbiAgICAgICAgJ3YtdGV4dGFyZWEtLWF1dG8tZ3Jvdyc6IHRoaXMuYXV0b0dyb3csXG4gICAgICAgICd2LXRleHRhcmVhLS1uby1yZXNpemUnOiB0aGlzLm5vUmVzaXplSGFuZGxlXG4gICAgICB9LCBfVlRleHRGaWVsZF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpKTtcbiAgICB9LFxuICAgIG5vUmVzaXplSGFuZGxlOiBmdW5jdGlvbiBub1Jlc2l6ZUhhbmRsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vUmVzaXplIHx8IHRoaXMuYXV0b0dyb3c7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGxhenlWYWx1ZTogZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdGhpcy5hdXRvR3JvdyAmJiB0aGlzLiRuZXh0VGljayh0aGlzLmNhbGN1bGF0ZUlucHV0SGVpZ2h0KTtcbiAgICB9LFxuICAgIHJvd0hlaWdodDogZnVuY3Rpb24gcm93SGVpZ2h0KCkge1xuICAgICAgdGhpcy5hdXRvR3JvdyAmJiB0aGlzLiRuZXh0VGljayh0aGlzLmNhbGN1bGF0ZUlucHV0SGVpZ2h0KTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYXV0b0dyb3cgJiYgX3RoaXMuY2FsY3VsYXRlSW5wdXRIZWlnaHQoKTtcbiAgICB9LCAwKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNhbGN1bGF0ZUlucHV0SGVpZ2h0OiBmdW5jdGlvbiBjYWxjdWxhdGVJbnB1dEhlaWdodCgpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMuJHJlZnMuaW5wdXQ7XG4gICAgICBpZiAoIWlucHV0KSByZXR1cm47XG4gICAgICBpbnB1dC5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICB2YXIgaGVpZ2h0ID0gaW5wdXQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgdmFyIG1pbkhlaWdodCA9IHBhcnNlSW50KHRoaXMucm93cywgMTApICogcGFyc2VGbG9hdCh0aGlzLnJvd0hlaWdodCk7IC8vIFRoaXMgaGFzIHRvIGJlIGRvbmUgQVNBUCwgd2FpdGluZyBmb3IgVnVlXG4gICAgICAvLyB0byB1cGRhdGUgdGhlIERPTSBjYXVzZXMgdWdseSBsYXlvdXQganVtcGluZ1xuXG4gICAgICBpbnB1dC5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIGhlaWdodCkgKyAncHgnO1xuICAgIH0sXG4gICAgZ2VuSW5wdXQ6IGZ1bmN0aW9uIGdlbklucHV0KCkge1xuICAgICAgdmFyIGlucHV0ID0gX1ZUZXh0RmllbGRfVlRleHRGaWVsZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbCh0aGlzKTtcbiAgICAgIGlucHV0LnRhZyA9ICd0ZXh0YXJlYSc7XG4gICAgICBkZWxldGUgaW5wdXQuZGF0YS5hdHRycy50eXBlO1xuICAgICAgaW5wdXQuZGF0YS5hdHRycy5yb3dzID0gdGhpcy5yb3dzO1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH0sXG4gICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7XG4gICAgICBfVlRleHRGaWVsZF9WVGV4dEZpZWxkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5vbklucHV0LmNhbGwodGhpcywgZSk7XG4gICAgICB0aGlzLmF1dG9Hcm93ICYmIHRoaXMuY2FsY3VsYXRlSW5wdXRIZWlnaHQoKTtcbiAgICB9LFxuICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgIC8vIFByZXZlbnRzIGNsb3Npbmcgb2YgYVxuICAgICAgLy8gZGlhbG9nIHdoZW4gcHJlc3NpbmdcbiAgICAgIC8vIGVudGVyXG4gICAgICBpZiAodGhpcy5pc0ZvY3VzZWQgJiYgZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZUZXh0YXJlYSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRhcmVhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUZXh0YXJlYSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRleHRhcmVhL1ZUZXh0YXJlYS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUZXh0YXJlYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGV4dGFyZWFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlRleHRhcmVhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9WVGltZVBpY2tlci50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBTZWxlY3RpbmdUaW1lcywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTZWxlY3RpbmdUaW1lc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNlbGVjdGluZ1RpbWVzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJUaXRsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGltZVBpY2tlclRpdGxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9WVGltZVBpY2tlclRpdGxlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGltZVBpY2tlckNsb2NrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lUGlja2VyQ2xvY2sgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lUGlja2VyL1ZUaW1lUGlja2VyQ2xvY2sudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19waWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9waWNrZXIgKi8gXCIuL3NyYy9taXhpbnMvcGlja2VyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcGlja2VyX2J1dHRvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3BpY2tlci1idXR0b24gKi8gXCIuL3NyYy9taXhpbnMvcGlja2VyLWJ1dHRvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRlUGlja2VyX3V0aWxfcGFkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WRGF0ZVBpY2tlci91dGlsL3BhZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9wYWQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59OyAvLyBDb21wb25lbnRzXG5cblxuXG4gLy8gTWl4aW5zXG5cblxuIC8vIFV0aWxzXG5cblxuXG5cbnZhciByYW5nZUhvdXJzMjQgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY3JlYXRlUmFuZ2VcIl0pKDI0KTtcbnZhciByYW5nZUhvdXJzMTJhbSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjcmVhdGVSYW5nZVwiXSkoMTIpO1xudmFyIHJhbmdlSG91cnMxMnBtID0gcmFuZ2VIb3VyczEyYW0ubWFwKGZ1bmN0aW9uICh2KSB7XG4gIHJldHVybiB2ICsgMTI7XG59KTtcbnZhciByYW5nZTYwID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNyZWF0ZVJhbmdlXCJdKSg2MCk7XG52YXIgU2VsZWN0aW5nVGltZXM7XG5cbihmdW5jdGlvbiAoU2VsZWN0aW5nVGltZXMpIHtcbiAgU2VsZWN0aW5nVGltZXNbU2VsZWN0aW5nVGltZXNbXCJIb3VyXCJdID0gMV0gPSBcIkhvdXJcIjtcbiAgU2VsZWN0aW5nVGltZXNbU2VsZWN0aW5nVGltZXNbXCJNaW51dGVcIl0gPSAyXSA9IFwiTWludXRlXCI7XG4gIFNlbGVjdGluZ1RpbWVzW1NlbGVjdGluZ1RpbWVzW1wiU2Vjb25kXCJdID0gM10gPSBcIlNlY29uZFwiO1xufSkoU2VsZWN0aW5nVGltZXMgfHwgKFNlbGVjdGluZ1RpbWVzID0ge30pKTtcblxudmFyIHNlbGVjdGluZ05hbWVzID0ge1xuICAxOiAnaG91cicsXG4gIDI6ICdtaW51dGUnLFxuICAzOiAnc2Vjb25kJ1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3BpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgX21peGluc19waWNrZXJfYnV0dG9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi10aW1lLXBpY2tlcicsXG4gIHByb3BzOiB7XG4gICAgYWxsb3dlZEhvdXJzOiB7XG4gICAgICB0eXBlOiBbRnVuY3Rpb24sIEFycmF5XVxuICAgIH0sXG4gICAgYWxsb3dlZE1pbnV0ZXM6IHtcbiAgICAgIHR5cGU6IFtGdW5jdGlvbiwgQXJyYXldXG4gICAgfSxcbiAgICBhbGxvd2VkU2Vjb25kczoge1xuICAgICAgdHlwZTogW0Z1bmN0aW9uLCBBcnJheV1cbiAgICB9LFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIGZvcm1hdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2FtcG0nLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiBbJ2FtcG0nLCAnMjRociddLmluY2x1ZGVzKHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtaW46IFN0cmluZyxcbiAgICBtYXg6IFN0cmluZyxcbiAgICByZWFkb25seTogQm9vbGVhbixcbiAgICBzY3JvbGxhYmxlOiBCb29sZWFuLFxuICAgIHVzZVNlY29uZHM6IEJvb2xlYW4sXG4gICAgdmFsdWU6IG51bGwsXG4gICAgYW1wbUluVGl0bGU6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRIb3VyOiBudWxsLFxuICAgICAgaW5wdXRNaW51dGU6IG51bGwsXG4gICAgICBpbnB1dFNlY29uZDogbnVsbCxcbiAgICAgIGxhenlJbnB1dEhvdXI6IG51bGwsXG4gICAgICBsYXp5SW5wdXRNaW51dGU6IG51bGwsXG4gICAgICBsYXp5SW5wdXRTZWNvbmQ6IG51bGwsXG4gICAgICBwZXJpb2Q6ICdhbScsXG4gICAgICBzZWxlY3Rpbmc6IFNlbGVjdGluZ1RpbWVzLkhvdXJcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHNlbGVjdGluZ0hvdXI6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RpbmcgPT09IFNlbGVjdGluZ1RpbWVzLkhvdXI7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgICB0aGlzLnNlbGVjdGluZyA9IFNlbGVjdGluZ1RpbWVzLkhvdXI7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RpbmdNaW51dGU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RpbmcgPT09IFNlbGVjdGluZ1RpbWVzLk1pbnV0ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW5nID0gU2VsZWN0aW5nVGltZXMuTWludXRlO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0aW5nU2Vjb25kOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5TZWNvbmQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgICB0aGlzLnNlbGVjdGluZyA9IFNlbGVjdGluZ1RpbWVzLlNlY29uZDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzQWxsb3dlZEhvdXJDYjogZnVuY3Rpb24gaXNBbGxvd2VkSG91ckNiKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNiO1xuXG4gICAgICBpZiAodGhpcy5hbGxvd2VkSG91cnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBjYiA9IGZ1bmN0aW9uIGNiKHZhbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hbGxvd2VkSG91cnMuaW5jbHVkZXModmFsKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiID0gdGhpcy5hbGxvd2VkSG91cnM7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5taW4gJiYgIXRoaXMubWF4KSByZXR1cm4gY2I7XG4gICAgICB2YXIgbWluSG91ciA9IHRoaXMubWluID8gTnVtYmVyKHRoaXMubWluLnNwbGl0KCc6JylbMF0pIDogMDtcbiAgICAgIHZhciBtYXhIb3VyID0gdGhpcy5tYXggPyBOdW1iZXIodGhpcy5tYXguc3BsaXQoJzonKVswXSkgOiAyMztcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgPj0gbWluSG91ciAqIDEgJiYgdmFsIDw9IG1heEhvdXIgKiAxICYmICghY2IgfHwgY2IodmFsKSk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgaXNBbGxvd2VkTWludXRlQ2I6IGZ1bmN0aW9uIGlzQWxsb3dlZE1pbnV0ZUNiKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNiO1xuICAgICAgdmFyIGlzSG91ckFsbG93ZWQgPSAhdGhpcy5pc0FsbG93ZWRIb3VyQ2IgfHwgdGhpcy5pbnB1dEhvdXIgPT09IG51bGwgfHwgdGhpcy5pc0FsbG93ZWRIb3VyQ2IodGhpcy5pbnB1dEhvdXIpO1xuXG4gICAgICBpZiAodGhpcy5hbGxvd2VkTWludXRlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGNiID0gZnVuY3Rpb24gY2IodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFsbG93ZWRNaW51dGVzLmluY2x1ZGVzKHZhbCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IHRoaXMuYWxsb3dlZE1pbnV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5taW4gJiYgIXRoaXMubWF4KSB7XG4gICAgICAgIHJldHVybiBpc0hvdXJBbGxvd2VkID8gY2IgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfX3JlYWQodGhpcy5taW4gPyB0aGlzLm1pbi5zcGxpdCgnOicpLm1hcChOdW1iZXIpIDogWzAsIDBdLCAyKSxcbiAgICAgICAgICBtaW5Ib3VyID0gX2FbMF0sXG4gICAgICAgICAgbWluTWludXRlID0gX2FbMV07XG5cbiAgICAgIHZhciBfYiA9IF9fcmVhZCh0aGlzLm1heCA/IHRoaXMubWF4LnNwbGl0KCc6JykubWFwKE51bWJlcikgOiBbMjMsIDU5XSwgMiksXG4gICAgICAgICAgbWF4SG91ciA9IF9iWzBdLFxuICAgICAgICAgIG1heE1pbnV0ZSA9IF9iWzFdO1xuXG4gICAgICB2YXIgbWluVGltZSA9IG1pbkhvdXIgKiA2MCArIG1pbk1pbnV0ZSAqIDE7XG4gICAgICB2YXIgbWF4VGltZSA9IG1heEhvdXIgKiA2MCArIG1heE1pbnV0ZSAqIDE7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB2YXIgdGltZSA9IDYwICogX3RoaXMuaW5wdXRIb3VyICsgdmFsO1xuICAgICAgICByZXR1cm4gdGltZSA+PSBtaW5UaW1lICYmIHRpbWUgPD0gbWF4VGltZSAmJiBpc0hvdXJBbGxvd2VkICYmICghY2IgfHwgY2IodmFsKSk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgaXNBbGxvd2VkU2Vjb25kQ2I6IGZ1bmN0aW9uIGlzQWxsb3dlZFNlY29uZENiKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNiO1xuICAgICAgdmFyIGlzSG91ckFsbG93ZWQgPSAhdGhpcy5pc0FsbG93ZWRIb3VyQ2IgfHwgdGhpcy5pbnB1dEhvdXIgPT09IG51bGwgfHwgdGhpcy5pc0FsbG93ZWRIb3VyQ2IodGhpcy5pbnB1dEhvdXIpO1xuICAgICAgdmFyIGlzTWludXRlQWxsb3dlZCA9IGlzSG91ckFsbG93ZWQgJiYgKCF0aGlzLmlzQWxsb3dlZE1pbnV0ZUNiIHx8IHRoaXMuaW5wdXRNaW51dGUgPT09IG51bGwgfHwgdGhpcy5pc0FsbG93ZWRNaW51dGVDYih0aGlzLmlucHV0TWludXRlKSk7XG5cbiAgICAgIGlmICh0aGlzLmFsbG93ZWRTZWNvbmRzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgY2IgPSBmdW5jdGlvbiBjYih2YWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWxsb3dlZFNlY29uZHMuaW5jbHVkZXModmFsKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiID0gdGhpcy5hbGxvd2VkU2Vjb25kcztcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm1pbiAmJiAhdGhpcy5tYXgpIHtcbiAgICAgICAgcmV0dXJuIGlzTWludXRlQWxsb3dlZCA/IGNiIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9hID0gX19yZWFkKHRoaXMubWluID8gdGhpcy5taW4uc3BsaXQoJzonKS5tYXAoTnVtYmVyKSA6IFswLCAwLCAwXSwgMyksXG4gICAgICAgICAgbWluSG91ciA9IF9hWzBdLFxuICAgICAgICAgIG1pbk1pbnV0ZSA9IF9hWzFdLFxuICAgICAgICAgIG1pblNlY29uZCA9IF9hWzJdO1xuXG4gICAgICB2YXIgX2IgPSBfX3JlYWQodGhpcy5tYXggPyB0aGlzLm1heC5zcGxpdCgnOicpLm1hcChOdW1iZXIpIDogWzIzLCA1OSwgNTldLCAzKSxcbiAgICAgICAgICBtYXhIb3VyID0gX2JbMF0sXG4gICAgICAgICAgbWF4TWludXRlID0gX2JbMV0sXG4gICAgICAgICAgbWF4U2Vjb25kID0gX2JbMl07XG5cbiAgICAgIHZhciBtaW5UaW1lID0gbWluSG91ciAqIDM2MDAgKyBtaW5NaW51dGUgKiA2MCArIChtaW5TZWNvbmQgfHwgMCkgKiAxO1xuICAgICAgdmFyIG1heFRpbWUgPSBtYXhIb3VyICogMzYwMCArIG1heE1pbnV0ZSAqIDYwICsgKG1heFNlY29uZCB8fCAwKSAqIDE7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB2YXIgdGltZSA9IDM2MDAgKiBfdGhpcy5pbnB1dEhvdXIgKyA2MCAqIF90aGlzLmlucHV0TWludXRlICsgdmFsO1xuICAgICAgICByZXR1cm4gdGltZSA+PSBtaW5UaW1lICYmIHRpbWUgPD0gbWF4VGltZSAmJiBpc01pbnV0ZUFsbG93ZWQgJiYgKCFjYiB8fCBjYih2YWwpKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBpc0FtUG06IGZ1bmN0aW9uIGlzQW1QbSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdCA9PT0gJ2FtcG0nO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZTogJ3NldElucHV0RGF0YSdcbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcbiAgICB0aGlzLnNldElucHV0RGF0YSh0aGlzLnZhbHVlKTtcbiAgICB0aGlzLiRvbigndXBkYXRlOnBlcmlvZCcsIHRoaXMuc2V0UGVyaW9kKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlblZhbHVlOiBmdW5jdGlvbiBnZW5WYWx1ZSgpIHtcbiAgICAgIGlmICh0aGlzLmlucHV0SG91ciAhPSBudWxsICYmIHRoaXMuaW5wdXRNaW51dGUgIT0gbnVsbCAmJiAoIXRoaXMudXNlU2Vjb25kcyB8fCB0aGlzLmlucHV0U2Vjb25kICE9IG51bGwpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX1ZEYXRlUGlja2VyX3V0aWxfcGFkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKSh0aGlzLmlucHV0SG91cikgKyBcIjpcIiArIE9iamVjdChfVkRhdGVQaWNrZXJfdXRpbF9wYWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKHRoaXMuaW5wdXRNaW51dGUpICsgKHRoaXMudXNlU2Vjb25kcyA/IFwiOlwiICsgT2JqZWN0KF9WRGF0ZVBpY2tlcl91dGlsX3BhZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkodGhpcy5pbnB1dFNlY29uZCkgOiAnJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZW1pdFZhbHVlOiBmdW5jdGlvbiBlbWl0VmFsdWUoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmdlblZhbHVlKCk7XG4gICAgICBpZiAodmFsdWUgIT09IG51bGwpIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWUpO1xuICAgIH0sXG4gICAgc2V0UGVyaW9kOiBmdW5jdGlvbiBzZXRQZXJpb2QocGVyaW9kKSB7XG4gICAgICB0aGlzLnBlcmlvZCA9IHBlcmlvZDtcblxuICAgICAgaWYgKHRoaXMuaW5wdXRIb3VyICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG5ld0hvdXIgPSB0aGlzLmlucHV0SG91ciArIChwZXJpb2QgPT09ICdhbScgPyAtMTIgOiAxMik7XG4gICAgICAgIHRoaXMuaW5wdXRIb3VyID0gdGhpcy5maXJzdEFsbG93ZWQoJ2hvdXInLCBuZXdIb3VyKTtcbiAgICAgICAgdGhpcy5lbWl0VmFsdWUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldElucHV0RGF0YTogZnVuY3Rpb24gc2V0SW5wdXREYXRhKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5pbnB1dEhvdXIgPSBudWxsO1xuICAgICAgICB0aGlzLmlucHV0TWludXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnB1dFNlY29uZCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICB0aGlzLmlucHV0SG91ciA9IHZhbHVlLmdldEhvdXJzKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNaW51dGUgPSB2YWx1ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgIHRoaXMuaW5wdXRTZWNvbmQgPSB2YWx1ZS5nZXRTZWNvbmRzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2EgPSBfX3JlYWQodmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkubWF0Y2goL14oXFxkKyk6KFxcZCspKDooXFxkKykpPyhbYXBdbSk/JC8pIHx8IG5ldyBBcnJheSg2KSwgNiksXG4gICAgICAgICAgICBob3VyID0gX2FbMV0sXG4gICAgICAgICAgICBtaW51dGUgPSBfYVsyXSxcbiAgICAgICAgICAgIHNlY29uZCA9IF9hWzRdLFxuICAgICAgICAgICAgcGVyaW9kID0gX2FbNV07XG5cbiAgICAgICAgdGhpcy5pbnB1dEhvdXIgPSBwZXJpb2QgPyB0aGlzLmNvbnZlcnQxMnRvMjQocGFyc2VJbnQoaG91ciwgMTApLCBwZXJpb2QpIDogcGFyc2VJbnQoaG91ciwgMTApO1xuICAgICAgICB0aGlzLmlucHV0TWludXRlID0gcGFyc2VJbnQobWludXRlLCAxMCk7XG4gICAgICAgIHRoaXMuaW5wdXRTZWNvbmQgPSBwYXJzZUludChzZWNvbmQgfHwgMCwgMTApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBlcmlvZCA9IHRoaXMuaW5wdXRIb3VyID09IG51bGwgfHwgdGhpcy5pbnB1dEhvdXIgPCAxMiA/ICdhbScgOiAncG0nO1xuICAgIH0sXG4gICAgY29udmVydDI0dG8xMjogZnVuY3Rpb24gY29udmVydDI0dG8xMihob3VyKSB7XG4gICAgICByZXR1cm4gaG91ciA/IChob3VyIC0gMSkgJSAxMiArIDEgOiAxMjtcbiAgICB9LFxuICAgIGNvbnZlcnQxMnRvMjQ6IGZ1bmN0aW9uIGNvbnZlcnQxMnRvMjQoaG91ciwgcGVyaW9kKSB7XG4gICAgICByZXR1cm4gaG91ciAlIDEyICsgKHBlcmlvZCA9PT0gJ3BtJyA/IDEyIDogMCk7XG4gICAgfSxcbiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RpbmcgPT09IFNlbGVjdGluZ1RpbWVzLkhvdXIpIHtcbiAgICAgICAgdGhpcy5pbnB1dEhvdXIgPSB0aGlzLmlzQW1QbSA/IHRoaXMuY29udmVydDEydG8yNCh2YWx1ZSwgdGhpcy5wZXJpb2QpIDogdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5NaW51dGUpIHtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnB1dFNlY29uZCA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXRWYWx1ZSgpO1xuICAgIH0sXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbHVlKSB7XG4gICAgICB0aGlzLiRlbWl0KFwiY2xpY2s6XCIgKyBzZWxlY3RpbmdOYW1lc1t0aGlzLnNlbGVjdGluZ10sIHZhbHVlKTtcbiAgICAgIHZhciBlbWl0Q2hhbmdlID0gdGhpcy5zZWxlY3RpbmcgPT09ICh0aGlzLnVzZVNlY29uZHMgPyBTZWxlY3RpbmdUaW1lcy5TZWNvbmQgOiBTZWxlY3RpbmdUaW1lcy5NaW51dGUpO1xuXG4gICAgICBpZiAodGhpcy5zZWxlY3RpbmcgPT09IFNlbGVjdGluZ1RpbWVzLkhvdXIpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RpbmcgPSBTZWxlY3RpbmdUaW1lcy5NaW51dGU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudXNlU2Vjb25kcyAmJiB0aGlzLnNlbGVjdGluZyA9PT0gU2VsZWN0aW5nVGltZXMuTWludXRlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW5nID0gU2VsZWN0aW5nVGltZXMuU2Vjb25kO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pbnB1dEhvdXIgPT09IHRoaXMubGF6eUlucHV0SG91ciAmJiB0aGlzLmlucHV0TWludXRlID09PSB0aGlzLmxhenlJbnB1dE1pbnV0ZSAmJiAoIXRoaXMudXNlU2Vjb25kcyB8fCB0aGlzLmlucHV0U2Vjb25kID09PSB0aGlzLmxhenlJbnB1dFNlY29uZCkpIHJldHVybjtcbiAgICAgIHZhciB0aW1lID0gdGhpcy5nZW5WYWx1ZSgpO1xuICAgICAgaWYgKHRpbWUgPT09IG51bGwpIHJldHVybjtcbiAgICAgIHRoaXMubGF6eUlucHV0SG91ciA9IHRoaXMuaW5wdXRIb3VyO1xuICAgICAgdGhpcy5sYXp5SW5wdXRNaW51dGUgPSB0aGlzLmlucHV0TWludXRlO1xuICAgICAgdGhpcy51c2VTZWNvbmRzICYmICh0aGlzLmxhenlJbnB1dFNlY29uZCA9IHRoaXMuaW5wdXRTZWNvbmQpO1xuICAgICAgZW1pdENoYW5nZSAmJiB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aW1lKTtcbiAgICB9LFxuICAgIGZpcnN0QWxsb3dlZDogZnVuY3Rpb24gZmlyc3RBbGxvd2VkKHR5cGUsIHZhbHVlKSB7XG4gICAgICB2YXIgYWxsb3dlZEZuID0gdHlwZSA9PT0gJ2hvdXInID8gdGhpcy5pc0FsbG93ZWRIb3VyQ2IgOiB0eXBlID09PSAnbWludXRlJyA/IHRoaXMuaXNBbGxvd2VkTWludXRlQ2IgOiB0aGlzLmlzQWxsb3dlZFNlY29uZENiO1xuICAgICAgaWYgKCFhbGxvd2VkRm4pIHJldHVybiB2YWx1ZTsgLy8gVE9ETzogY2xlYW4gdXBcblxuICAgICAgdmFyIHJhbmdlID0gdHlwZSA9PT0gJ21pbnV0ZScgPyByYW5nZTYwIDogdHlwZSA9PT0gJ3NlY29uZCcgPyByYW5nZTYwIDogdGhpcy5pc0FtUG0gPyB2YWx1ZSA8IDEyID8gcmFuZ2VIb3VyczEyYW0gOiByYW5nZUhvdXJzMTJwbSA6IHJhbmdlSG91cnMyNDtcbiAgICAgIHZhciBmaXJzdCA9IHJhbmdlLmZpbmQoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIGFsbG93ZWRGbigodiArIHZhbHVlKSAlIHJhbmdlLmxlbmd0aCArIHJhbmdlWzBdKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgoZmlyc3QgfHwgMCkgKyB2YWx1ZSkgJSByYW5nZS5sZW5ndGggKyByYW5nZVswXTtcbiAgICB9LFxuICAgIGdlbkNsb2NrOiBmdW5jdGlvbiBnZW5DbG9jaygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WVGltZVBpY2tlckNsb2NrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogdGhpcy5zZWxlY3RpbmcgPT09IFNlbGVjdGluZ1RpbWVzLkhvdXIgPyB0aGlzLmlzQWxsb3dlZEhvdXJDYiA6IHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5NaW51dGUgPyB0aGlzLmlzQWxsb3dlZE1pbnV0ZUNiIDogdGhpcy5pc0FsbG93ZWRTZWNvbmRDYixcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICBkYXJrOiB0aGlzLmRhcmssXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgZG91YmxlOiB0aGlzLnNlbGVjdGluZyA9PT0gU2VsZWN0aW5nVGltZXMuSG91ciAmJiAhdGhpcy5pc0FtUG0sXG4gICAgICAgICAgZm9ybWF0OiB0aGlzLnNlbGVjdGluZyA9PT0gU2VsZWN0aW5nVGltZXMuSG91ciA/IHRoaXMuaXNBbVBtID8gdGhpcy5jb252ZXJ0MjR0bzEyIDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdChfVkRhdGVQaWNrZXJfdXRpbF9wYWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKHZhbCwgMik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodCxcbiAgICAgICAgICBtYXg6IHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5Ib3VyID8gdGhpcy5pc0FtUG0gJiYgdGhpcy5wZXJpb2QgPT09ICdhbScgPyAxMSA6IDIzIDogNTksXG4gICAgICAgICAgbWluOiB0aGlzLnNlbGVjdGluZyA9PT0gU2VsZWN0aW5nVGltZXMuSG91ciAmJiB0aGlzLmlzQW1QbSAmJiB0aGlzLnBlcmlvZCA9PT0gJ3BtJyA/IDEyIDogMCxcbiAgICAgICAgICByZWFkb25seTogdGhpcy5yZWFkb25seSxcbiAgICAgICAgICBzY3JvbGxhYmxlOiB0aGlzLnNjcm9sbGFibGUsXG4gICAgICAgICAgc2l6ZTogTnVtYmVyKHRoaXMud2lkdGgpIC0gKCF0aGlzLmZ1bGxXaWR0aCAmJiB0aGlzLmxhbmRzY2FwZSA/IDgwIDogMjApLFxuICAgICAgICAgIHN0ZXA6IHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5Ib3VyID8gMSA6IDUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0aW5nID09PSBTZWxlY3RpbmdUaW1lcy5Ib3VyID8gdGhpcy5pbnB1dEhvdXIgOiB0aGlzLnNlbGVjdGluZyA9PT0gU2VsZWN0aW5nVGltZXMuTWludXRlID8gdGhpcy5pbnB1dE1pbnV0ZSA6IHRoaXMuaW5wdXRTZWNvbmRcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBpbnB1dDogdGhpcy5vbklucHV0LFxuICAgICAgICAgIGNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgICAgICB9LFxuICAgICAgICByZWY6ICdjbG9jaydcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuQ2xvY2tBbVBtOiBmdW5jdGlvbiBnZW5DbG9ja0FtUG0oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb2xvciB8fCAncHJpbWFyeScsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRpbWUtcGlja2VyLWNsb2NrX19hbXBtJ1xuICAgICAgfSksIFt0aGlzLmdlblBpY2tlckJ1dHRvbigncGVyaW9kJywgJ2FtJywgdGhpcy4kdnVldGlmeS5sYW5nLnQoJyR2dWV0aWZ5LnRpbWVQaWNrZXIuYW0nKSwgdGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5KSwgdGhpcy5nZW5QaWNrZXJCdXR0b24oJ3BlcmlvZCcsICdwbScsIHRoaXMuJHZ1ZXRpZnkubGFuZy50KCckdnVldGlmeS50aW1lUGlja2VyLnBtJyksIHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkb25seSldKTtcbiAgICB9LFxuICAgIGdlblBpY2tlckJvZHk6IGZ1bmN0aW9uIGdlblBpY2tlckJvZHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGltZS1waWNrZXItY2xvY2tfX2NvbnRhaW5lcicsXG4gICAgICAgIGtleTogdGhpcy5zZWxlY3RpbmdcbiAgICAgIH0sIFshdGhpcy5hbXBtSW5UaXRsZSAmJiB0aGlzLmlzQW1QbSAmJiB0aGlzLmdlbkNsb2NrQW1QbSgpLCB0aGlzLmdlbkNsb2NrKCldKTtcbiAgICB9LFxuICAgIGdlblBpY2tlclRpdGxlOiBmdW5jdGlvbiBnZW5QaWNrZXJUaXRsZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WVGltZVBpY2tlclRpdGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgYW1wbTogdGhpcy5hbXBtSW5UaXRsZSAmJiB0aGlzLmlzQW1QbSxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICBob3VyOiB0aGlzLmlucHV0SG91cixcbiAgICAgICAgICBtaW51dGU6IHRoaXMuaW5wdXRNaW51dGUsXG4gICAgICAgICAgc2Vjb25kOiB0aGlzLmlucHV0U2Vjb25kLFxuICAgICAgICAgIHBlcmlvZDogdGhpcy5wZXJpb2QsXG4gICAgICAgICAgcmVhZG9ubHk6IHRoaXMucmVhZG9ubHksXG4gICAgICAgICAgdXNlU2Vjb25kczogdGhpcy51c2VTZWNvbmRzLFxuICAgICAgICAgIHNlbGVjdGluZzogdGhpcy5zZWxlY3RpbmdcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAndXBkYXRlOnNlbGVjdGluZyc6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGluZyh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNlbGVjdGluZyA9IHZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ3VwZGF0ZTpwZXJpb2QnOiB0aGlzLnNldFBlcmlvZFxuICAgICAgICB9LFxuICAgICAgICByZWY6ICd0aXRsZScsXG4gICAgICAgIHNsb3Q6ICd0aXRsZSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuUGlja2VyKCd2LXBpY2tlci0tdGltZScpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJDbG9jay5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJDbG9jay5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lUGlja2VyL1ZUaW1lUGlja2VyQ2xvY2sudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJDbG9jay50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJDbG9ja19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lUGlja2VyQ2xvY2suc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJDbG9jay5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGltZVBpY2tlckNsb2NrX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlRpbWVQaWNrZXJDbG9ja19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuIC8vIE1peGluc1xuXG5cbiAvLyBUeXBlc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi10aW1lLXBpY2tlci1jbG9jaycsXG4gIHByb3BzOiB7XG4gICAgYWxsb3dlZFZhbHVlczogRnVuY3Rpb24sXG4gICAgYW1wbTogQm9vbGVhbixcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBkb3VibGU6IEJvb2xlYW4sXG4gICAgZm9ybWF0OiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH0sXG4gICAgbWF4OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgc2Nyb2xsYWJsZTogQm9vbGVhbixcbiAgICByZWFkb25seTogQm9vbGVhbixcbiAgICByb3RhdGU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9LFxuICAgIHN0ZXA6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHZhbHVlOiBOdW1iZXJcbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRWYWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgdmFsdWVPbk1vdXNlRG93bjogbnVsbCxcbiAgICAgIHZhbHVlT25Nb3VzZVVwOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXggLSB0aGlzLm1pbiArIDE7XG4gICAgfSxcbiAgICBkZWdyZWVzUGVyVW5pdDogZnVuY3Rpb24gZGVncmVlc1BlclVuaXQoKSB7XG4gICAgICByZXR1cm4gMzYwIC8gdGhpcy5yb3VuZENvdW50O1xuICAgIH0sXG4gICAgZGVncmVlczogZnVuY3Rpb24gZGVncmVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlZ3JlZXNQZXJVbml0ICogTWF0aC5QSSAvIDE4MDtcbiAgICB9LFxuICAgIGRpc3BsYXllZFZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5ZWRWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlID09IG51bGwgPyB0aGlzLm1pbiA6IHRoaXMudmFsdWU7XG4gICAgfSxcbiAgICBpbm5lclJhZGl1c1NjYWxlOiBmdW5jdGlvbiBpbm5lclJhZGl1c1NjYWxlKCkge1xuICAgICAgcmV0dXJuIDAuNjI7XG4gICAgfSxcbiAgICByb3VuZENvdW50OiBmdW5jdGlvbiByb3VuZENvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG91YmxlID8gdGhpcy5jb3VudCAvIDIgOiB0aGlzLmNvdW50O1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoX3ZhbHVlKSB7XG4gICAgICB0aGlzLmlucHV0VmFsdWUgPSBfdmFsdWU7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgd2hlZWw6IGZ1bmN0aW9uIHdoZWVsKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkZWx0YSA9IE1hdGguc2lnbigtZS5kZWx0YVkgfHwgMSk7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmRpc3BsYXllZFZhbHVlO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgKyBkZWx0YTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgLSB0aGlzLm1pbiArIHRoaXMuY291bnQpICUgdGhpcy5jb3VudCArIHRoaXMubWluO1xuICAgICAgfSB3aGlsZSAoIXRoaXMuaXNBbGxvd2VkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gdGhpcy5kaXNwbGF5ZWRWYWx1ZSk7XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5kaXNwbGF5ZWRWYWx1ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0lubmVyOiBmdW5jdGlvbiBpc0lubmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb3VibGUgJiYgdmFsdWUgLSB0aGlzLm1pbiA+PSB0aGlzLnJvdW5kQ291bnQ7XG4gICAgfSxcbiAgICBoYW5kU2NhbGU6IGZ1bmN0aW9uIGhhbmRTY2FsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNJbm5lcih2YWx1ZSkgPyB0aGlzLmlubmVyUmFkaXVzU2NhbGUgOiAxO1xuICAgIH0sXG4gICAgaXNBbGxvd2VkOiBmdW5jdGlvbiBpc0FsbG93ZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiAhdGhpcy5hbGxvd2VkVmFsdWVzIHx8IHRoaXMuYWxsb3dlZFZhbHVlcyh2YWx1ZSk7XG4gICAgfSxcbiAgICBnZW5WYWx1ZXM6IGZ1bmN0aW9uIGdlblZhbHVlcygpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciB2YWx1ZSA9IHRoaXMubWluOyB2YWx1ZSA8PSB0aGlzLm1heDsgdmFsdWUgPSB2YWx1ZSArIHRoaXMuc3RlcCkge1xuICAgICAgICB2YXIgY29sb3IgPSB2YWx1ZSA9PT0gdGhpcy52YWx1ZSAmJiAodGhpcy5jb2xvciB8fCAnYWNjZW50Jyk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yLCB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRpbWUtcGlja2VyLWNsb2NrX19pdGVtJyxcbiAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgJ3YtdGltZS1waWNrZXItY2xvY2tfX2l0ZW0tLWFjdGl2ZSc6IHZhbHVlID09PSB0aGlzLmRpc3BsYXllZFZhbHVlLFxuICAgICAgICAgICAgJ3YtdGltZS1waWNrZXItY2xvY2tfX2l0ZW0tLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5pc0FsbG93ZWQodmFsdWUpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHlsZTogdGhpcy5nZXRUcmFuc2Zvcm0odmFsdWUpLFxuICAgICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgICBpbm5lckhUTUw6IFwiPHNwYW4+XCIgKyB0aGlzLmZvcm1hdCh2YWx1ZSkgKyBcIjwvc3Bhbj5cIlxuICAgICAgICAgIH1cbiAgICAgICAgfSkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH0sXG4gICAgZ2VuSGFuZDogZnVuY3Rpb24gZ2VuSGFuZCgpIHtcbiAgICAgIHZhciBzY2FsZSA9IFwic2NhbGVZKFwiICsgdGhpcy5oYW5kU2NhbGUodGhpcy5kaXNwbGF5ZWRWYWx1ZSkgKyBcIilcIjtcbiAgICAgIHZhciBhbmdsZSA9IHRoaXMucm90YXRlICsgdGhpcy5kZWdyZWVzUGVyVW5pdCAqICh0aGlzLmRpc3BsYXllZFZhbHVlIC0gdGhpcy5taW4pO1xuICAgICAgdmFyIGNvbG9yID0gdGhpcy52YWx1ZSAhPSBudWxsICYmICh0aGlzLmNvbG9yIHx8ICdhY2NlbnQnKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldEJhY2tncm91bmRDb2xvcihjb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGltZS1waWNrZXItY2xvY2tfX2hhbmQnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXRpbWUtcGlja2VyLWNsb2NrX19oYW5kLS1pbm5lcic6IHRoaXMuaXNJbm5lcih0aGlzLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoXCIgKyBhbmdsZSArIFwiZGVnKSBcIiArIHNjYWxlXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGdldFRyYW5zZm9ybTogZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKGkpIHtcbiAgICAgIHZhciBfYSA9IHRoaXMuZ2V0UG9zaXRpb24oaSksXG4gICAgICAgICAgeCA9IF9hLngsXG4gICAgICAgICAgeSA9IF9hLnk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IDUwICsgeCAqIDUwICsgXCIlXCIsXG4gICAgICAgIHRvcDogNTAgKyB5ICogNTAgKyBcIiVcIlxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldFBvc2l0aW9uOiBmdW5jdGlvbiBnZXRQb3NpdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHJvdGF0ZVJhZGlhbnMgPSB0aGlzLnJvdGF0ZSAqIE1hdGguUEkgLyAxODA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBNYXRoLnNpbigodmFsdWUgLSB0aGlzLm1pbikgKiB0aGlzLmRlZ3JlZXMgKyByb3RhdGVSYWRpYW5zKSAqIHRoaXMuaGFuZFNjYWxlKHZhbHVlKSxcbiAgICAgICAgeTogLU1hdGguY29zKCh2YWx1ZSAtIHRoaXMubWluKSAqIHRoaXMuZGVncmVlcyArIHJvdGF0ZVJhZGlhbnMpICogdGhpcy5oYW5kU2NhbGUodmFsdWUpXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudmFsdWVPbk1vdXNlRG93biA9IG51bGw7XG4gICAgICB0aGlzLnZhbHVlT25Nb3VzZVVwID0gbnVsbDtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICB0aGlzLm9uRHJhZ01vdmUoZSk7XG4gICAgfSxcbiAgICBvbk1vdXNlVXA6IGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlT25Nb3VzZVVwICE9PSBudWxsICYmIHRoaXMuaXNBbGxvd2VkKHRoaXMudmFsdWVPbk1vdXNlVXApKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMudmFsdWVPbk1vdXNlVXApO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25EcmFnTW92ZTogZnVuY3Rpb24gb25EcmFnTW92ZShlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZyAmJiBlLnR5cGUgIT09ICdjbGljaycpIHJldHVybjtcblxuICAgICAgdmFyIF9hID0gdGhpcy4kcmVmcy5jbG9jay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICB3aWR0aCA9IF9hLndpZHRoLFxuICAgICAgICAgIHRvcCA9IF9hLnRvcCxcbiAgICAgICAgICBsZWZ0ID0gX2EubGVmdDtcblxuICAgICAgdmFyIGlubmVyV2lkdGggPSB0aGlzLiRyZWZzLmlubmVyQ2xvY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG5cbiAgICAgIHZhciBfYiA9ICd0b3VjaGVzJyBpbiBlID8gZS50b3VjaGVzWzBdIDogZSxcbiAgICAgICAgICBjbGllbnRYID0gX2IuY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZID0gX2IuY2xpZW50WTtcblxuICAgICAgdmFyIGNlbnRlciA9IHtcbiAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICB5OiAtd2lkdGggLyAyXG4gICAgICB9O1xuICAgICAgdmFyIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY2xpZW50WCAtIGxlZnQsXG4gICAgICAgIHk6IHRvcCAtIGNsaWVudFlcbiAgICAgIH07XG4gICAgICB2YXIgaGFuZEFuZ2xlID0gTWF0aC5yb3VuZCh0aGlzLmFuZ2xlKGNlbnRlciwgY29vcmRzKSAtIHRoaXMucm90YXRlICsgMzYwKSAlIDM2MDtcbiAgICAgIHZhciBpbnNpZGVDbGljayA9IHRoaXMuZG91YmxlICYmIHRoaXMuZXVjbGlkZWFuKGNlbnRlciwgY29vcmRzKSA8IChpbm5lcldpZHRoICsgaW5uZXJXaWR0aCAqIHRoaXMuaW5uZXJSYWRpdXNTY2FsZSkgLyA0O1xuICAgICAgdmFyIHZhbHVlID0gKE1hdGgucm91bmQoaGFuZEFuZ2xlIC8gdGhpcy5kZWdyZWVzUGVyVW5pdCkgKyAoaW5zaWRlQ2xpY2sgPyB0aGlzLnJvdW5kQ291bnQgOiAwKSkgJSB0aGlzLmNvdW50ICsgdGhpcy5taW47IC8vIE5lY2Vzc2FyeSB0byBmaXggZWRnZSBjYXNlIHdoZW4gc2VsZWN0aW5nIGxlZnQgcGFydCBvZiB0aGUgdmFsdWUocykgYXQgMTIgbydjbG9ja1xuXG4gICAgICB2YXIgbmV3VmFsdWU7XG5cbiAgICAgIGlmIChoYW5kQW5nbGUgPj0gMzYwIC0gdGhpcy5kZWdyZWVzUGVyVW5pdCAvIDIpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbnNpZGVDbGljayA/IHRoaXMubWF4IC0gdGhpcy5yb3VuZENvdW50ICsgMSA6IHRoaXMubWluO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNBbGxvd2VkKHZhbHVlKSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZU9uTW91c2VEb3duID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZU9uTW91c2VEb3duID0gbmV3VmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZhbHVlT25Nb3VzZVVwID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlKG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5pbnB1dFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBldWNsaWRlYW46IGZ1bmN0aW9uIGV1Y2xpZGVhbihwMCwgcDEpIHtcbiAgICAgIHZhciBkeCA9IHAxLnggLSBwMC54O1xuICAgICAgdmFyIGR5ID0gcDEueSAtIHAwLnk7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9LFxuICAgIGFuZ2xlOiBmdW5jdGlvbiBhbmdsZShjZW50ZXIsIHAxKSB7XG4gICAgICB2YXIgdmFsdWUgPSAyICogTWF0aC5hdGFuMihwMS55IC0gY2VudGVyLnkgLSB0aGlzLmV1Y2xpZGVhbihjZW50ZXIsIHAxKSwgcDEueCAtIGNlbnRlci54KTtcbiAgICAgIHJldHVybiBNYXRoLmFicyh2YWx1ZSAqIDE4MCAvIE1hdGguUEkpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi10aW1lLXBpY2tlci1jbG9jaycsXG4gICAgICBjbGFzczogX19hc3NpZ24oe1xuICAgICAgICAndi10aW1lLXBpY2tlci1jbG9jay0taW5kZXRlcm1pbmF0ZSc6IHRoaXMudmFsdWUgPT0gbnVsbFxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpLFxuICAgICAgb246IHRoaXMucmVhZG9ubHkgfHwgdGhpcy5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBtb3VzZWRvd246IHRoaXMub25Nb3VzZURvd24sXG4gICAgICAgIG1vdXNldXA6IHRoaXMub25Nb3VzZVVwLFxuICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbiBtb3VzZWxlYXZlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNEcmFnZ2luZyAmJiBfdGhpcy5vbk1vdXNlVXAoZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvdWNoc3RhcnQ6IHRoaXMub25Nb3VzZURvd24sXG4gICAgICAgIHRvdWNoZW5kOiB0aGlzLm9uTW91c2VVcCxcbiAgICAgICAgbW91c2Vtb3ZlOiB0aGlzLm9uRHJhZ01vdmUsXG4gICAgICAgIHRvdWNobW92ZTogdGhpcy5vbkRyYWdNb3ZlXG4gICAgICB9LCB0aGlzLnNjcm9sbGFibGUgPyB7XG4gICAgICAgIHdoZWVsOiB0aGlzLndoZWVsXG4gICAgICB9IDoge30pLFxuICAgICAgcmVmOiAnY2xvY2snXG4gICAgfTtcbiAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgW2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi10aW1lLXBpY2tlci1jbG9ja19faW5uZXInLFxuICAgICAgcmVmOiAnaW5uZXJDbG9jaydcbiAgICB9LCBbdGhpcy5nZW5IYW5kKCksIHRoaXMuZ2VuVmFsdWVzKCldKV0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJUaXRsZS5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJUaXRsZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lUGlja2VyL1ZUaW1lUGlja2VyVGl0bGUudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJUaXRsZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJUaXRsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lUGlja2VyVGl0bGUuc2FzcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJUaXRsZS5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGltZVBpY2tlclRpdGxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlRpbWVQaWNrZXJUaXRsZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcGlja2VyX2J1dHRvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3BpY2tlci1idXR0b24gKi8gXCIuL3NyYy9taXhpbnMvcGlja2VyLWJ1dHRvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGVQaWNrZXJfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkRhdGVQaWNrZXIvdXRpbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUaW1lUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lUGlja2VyICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9WVGltZVBpY2tlci50c1wiKTtcbiAvLyBNaXhpbnNcblxuIC8vIFV0aWxzXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX21peGluc19waWNrZXJfYnV0dG9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi10aW1lLXBpY2tlci10aXRsZScsXG4gIHByb3BzOiB7XG4gICAgYW1wbTogQm9vbGVhbixcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBob3VyOiBOdW1iZXIsXG4gICAgbWludXRlOiBOdW1iZXIsXG4gICAgc2Vjb25kOiBOdW1iZXIsXG4gICAgcGVyaW9kOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihwZXJpb2QpIHtcbiAgICAgICAgcmV0dXJuIHBlcmlvZCA9PT0gJ2FtJyB8fCBwZXJpb2QgPT09ICdwbSc7XG4gICAgICB9XG4gICAgfSxcbiAgICByZWFkb25seTogQm9vbGVhbixcbiAgICB1c2VTZWNvbmRzOiBCb29sZWFuLFxuICAgIHNlbGVjdGluZzogTnVtYmVyXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5UaW1lOiBmdW5jdGlvbiBnZW5UaW1lKCkge1xuICAgICAgdmFyIGhvdXIgPSB0aGlzLmhvdXI7XG5cbiAgICAgIGlmICh0aGlzLmFtcG0pIHtcbiAgICAgICAgaG91ciA9IGhvdXIgPyAoaG91ciAtIDEpICUgMTIgKyAxIDogMTI7XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXNwbGF5ZWRIb3VyID0gdGhpcy5ob3VyID09IG51bGwgPyAnLS0nIDogdGhpcy5hbXBtID8gU3RyaW5nKGhvdXIpIDogT2JqZWN0KF9WRGF0ZVBpY2tlcl91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJwYWRcIl0pKGhvdXIpO1xuICAgICAgdmFyIGRpc3BsYXllZE1pbnV0ZSA9IHRoaXMubWludXRlID09IG51bGwgPyAnLS0nIDogT2JqZWN0KF9WRGF0ZVBpY2tlcl91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJwYWRcIl0pKHRoaXMubWludXRlKTtcbiAgICAgIHZhciB0aXRsZUNvbnRlbnQgPSBbdGhpcy5nZW5QaWNrZXJCdXR0b24oJ3NlbGVjdGluZycsIF9WVGltZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiU2VsZWN0aW5nVGltZXNcIl0uSG91ciwgZGlzcGxheWVkSG91ciwgdGhpcy5kaXNhYmxlZCksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAnOicpLCB0aGlzLmdlblBpY2tlckJ1dHRvbignc2VsZWN0aW5nJywgX1ZUaW1lUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJTZWxlY3RpbmdUaW1lc1wiXS5NaW51dGUsIGRpc3BsYXllZE1pbnV0ZSwgdGhpcy5kaXNhYmxlZCldO1xuXG4gICAgICBpZiAodGhpcy51c2VTZWNvbmRzKSB7XG4gICAgICAgIHZhciBkaXNwbGF5ZWRTZWNvbmQgPSB0aGlzLnNlY29uZCA9PSBudWxsID8gJy0tJyA6IE9iamVjdChfVkRhdGVQaWNrZXJfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicGFkXCJdKSh0aGlzLnNlY29uZCk7XG4gICAgICAgIHRpdGxlQ29udGVudC5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAnOicpKTtcbiAgICAgICAgdGl0bGVDb250ZW50LnB1c2godGhpcy5nZW5QaWNrZXJCdXR0b24oJ3NlbGVjdGluZycsIF9WVGltZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiU2VsZWN0aW5nVGltZXNcIl0uU2Vjb25kLCBkaXNwbGF5ZWRTZWNvbmQsIHRoaXMuZGlzYWJsZWQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6ICd2LXRpbWUtcGlja2VyLXRpdGxlX190aW1lJ1xuICAgICAgfSwgdGl0bGVDb250ZW50KTtcbiAgICB9LFxuICAgIGdlbkFtUG06IGZ1bmN0aW9uIGdlbkFtUG0oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGltZS1waWNrZXItdGl0bGVfX2FtcG0nXG4gICAgICB9LCBbdGhpcy5nZW5QaWNrZXJCdXR0b24oJ3BlcmlvZCcsICdhbScsIHRoaXMuJHZ1ZXRpZnkubGFuZy50KCckdnVldGlmeS50aW1lUGlja2VyLmFtJyksIHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkb25seSksIHRoaXMuZ2VuUGlja2VyQnV0dG9uKCdwZXJpb2QnLCAncG0nLCB0aGlzLiR2dWV0aWZ5LmxhbmcudCgnJHZ1ZXRpZnkudGltZVBpY2tlci5wbScpLCB0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVhZG9ubHkpXSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuZ2VuVGltZSgpXTtcbiAgICB0aGlzLmFtcG0gJiYgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkFtUG0oKSk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi10aW1lLXBpY2tlci10aXRsZSdcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWVGltZVBpY2tlciwgVlRpbWVQaWNrZXJDbG9jaywgVlRpbWVQaWNrZXJUaXRsZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRpbWVQaWNrZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lUGlja2VyL1ZUaW1lUGlja2VyLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRpbWVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUaW1lUGlja2VyQ2xvY2tfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRpbWVQaWNrZXJDbG9jayAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVQaWNrZXIvVlRpbWVQaWNrZXJDbG9jay50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUaW1lUGlja2VyQ2xvY2tcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRpbWVQaWNrZXJDbG9ja19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJUaXRsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGltZVBpY2tlclRpdGxlICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9WVGltZVBpY2tlclRpdGxlLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRpbWVQaWNrZXJUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGltZVBpY2tlclRpdGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgJF92dWV0aWZ5X3N1YmNvbXBvbmVudHM6IHtcbiAgICBWVGltZVBpY2tlcjogX1ZUaW1lUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUaW1lUGlja2VyQ2xvY2s6IF9WVGltZVBpY2tlckNsb2NrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUaW1lUGlja2VyVGl0bGU6IF9WVGltZVBpY2tlclRpdGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmUuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmUuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZWxpbmUvVlRpbWVsaW5lLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUaW1lbGluZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lbGluZS5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZWxpbmUvVlRpbWVsaW5lLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUaW1lbGluZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZUaW1lbGluZV9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBTdHlsZXNcblxuXG5cbiAvLyBNaXhpbnNcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuKS5leHRlbmQoe1xuICBuYW1lOiAndi10aW1lbGluZScsXG4gIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVsaW5lOiB0aGlzXG4gICAgfTtcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhbGlnblRvcDogQm9vbGVhbixcbiAgICBkZW5zZTogQm9vbGVhbixcbiAgICByZXZlcnNlOiBCb29sZWFuXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXRpbWVsaW5lLS1hbGlnbi10b3AnOiB0aGlzLmFsaWduVG9wLFxuICAgICAgICAndi10aW1lbGluZS0tZGVuc2UnOiB0aGlzLmRlbnNlLFxuICAgICAgICAndi10aW1lbGluZS0tcmV2ZXJzZSc6IHRoaXMucmV2ZXJzZVxuICAgICAgfSwgdGhpcy50aGVtZUNsYXNzZXMpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtdGltZWxpbmUnLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3Nlc1xuICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVsaW5lL1ZUaW1lbGluZUl0ZW0udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmVJdGVtLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFR5cGVzXG5cblxuXG4gLy8gTWl4aW5zXG5cblxuXG52YXIgYmFzZU1peGlucyA9IE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbik7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdGltZWxpbmUtaXRlbScsXG4gIGluamVjdDogWyd0aW1lbGluZSddLFxuICBwcm9wczoge1xuICAgIGNvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAncHJpbWFyeSdcbiAgICB9LFxuICAgIGZpbGxEb3Q6IEJvb2xlYW4sXG4gICAgaGlkZURvdDogQm9vbGVhbixcbiAgICBpY29uOiBTdHJpbmcsXG4gICAgaWNvbkNvbG9yOiBTdHJpbmcsXG4gICAgbGFyZ2U6IEJvb2xlYW4sXG4gICAgbGVmdDogQm9vbGVhbixcbiAgICByaWdodDogQm9vbGVhbixcbiAgICBzbWFsbDogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGhhc0ljb246IGZ1bmN0aW9uIGhhc0ljb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmljb24gfHwgISF0aGlzLiRzbG90cy5pY29uO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkJvZHk6IGZ1bmN0aW9uIGdlbkJvZHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGltZWxpbmUtaXRlbV9fYm9keSdcbiAgICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICAgIH0sXG4gICAgZ2VuSWNvbjogZnVuY3Rpb24gZ2VuSWNvbigpIHtcbiAgICAgIGlmICh0aGlzLiRzbG90cy5pY29uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzbG90cy5pY29uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy5pY29uQ29sb3IsXG4gICAgICAgICAgZGFyazogIXRoaXMudGhlbWUuaXNEYXJrLFxuICAgICAgICAgIHNtYWxsOiB0aGlzLnNtYWxsXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuaWNvbik7XG4gICAgfSxcbiAgICBnZW5Jbm5lckRvdDogZnVuY3Rpb24gZ2VuSW5uZXJEb3QoKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9fYXNzaWduKHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRpbWVsaW5lLWl0ZW1fX2lubmVyLWRvdCdcbiAgICAgIH0sIGRhdGEpLCBbdGhpcy5oYXNJY29uICYmIHRoaXMuZ2VuSWNvbigpXSk7XG4gICAgfSxcbiAgICBnZW5Eb3Q6IGZ1bmN0aW9uIGdlbkRvdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi10aW1lbGluZS1pdGVtX19kb3QnLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXRpbWVsaW5lLWl0ZW1fX2RvdC0tc21hbGwnOiB0aGlzLnNtYWxsLFxuICAgICAgICAgICd2LXRpbWVsaW5lLWl0ZW1fX2RvdC0tbGFyZ2UnOiB0aGlzLmxhcmdlXG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLmdlbklubmVyRG90KCldKTtcbiAgICB9LFxuICAgIGdlbkRpdmlkZXI6IGZ1bmN0aW9uIGdlbkRpdmlkZXIoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgIGlmICghdGhpcy5oaWRlRG90KSBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuRG90KCkpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRpbWVsaW5lLWl0ZW1fX2RpdmlkZXInXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5PcHBvc2l0ZTogZnVuY3Rpb24gZ2VuT3Bwb3NpdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGltZWxpbmUtaXRlbV9fb3Bwb3NpdGUnXG4gICAgICB9LCB0aGlzLiRzbG90cy5vcHBvc2l0ZSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuZ2VuQm9keSgpLCB0aGlzLmdlbkRpdmlkZXIoKV07XG4gICAgaWYgKHRoaXMuJHNsb3RzLm9wcG9zaXRlKSBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuT3Bwb3NpdGUoKSk7XG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi10aW1lbGluZS1pdGVtJyxcbiAgICAgIGNsYXNzOiBfX2Fzc2lnbih7XG4gICAgICAgICd2LXRpbWVsaW5lLWl0ZW0tLWZpbGwtZG90JzogdGhpcy5maWxsRG90LFxuICAgICAgICAndi10aW1lbGluZS1pdGVtLS1iZWZvcmUnOiB0aGlzLnRpbWVsaW5lLnJldmVyc2UgPyB0aGlzLnJpZ2h0IDogdGhpcy5sZWZ0LFxuICAgICAgICAndi10aW1lbGluZS1pdGVtLS1hZnRlcic6IHRoaXMudGltZWxpbmUucmV2ZXJzZSA/IHRoaXMubGVmdCA6IHRoaXMucmlnaHRcbiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKVxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWVGltZWxpbmUsIFZUaW1lbGluZUl0ZW0sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUaW1lbGluZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGltZWxpbmUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmUudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGltZWxpbmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRpbWVsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGltZWxpbmVJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lbGluZUl0ZW0gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUaW1lbGluZS9WVGltZWxpbmVJdGVtLnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRpbWVsaW5lSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGltZWxpbmVJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVlRpbWVsaW5lOiBfVlRpbWVsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLFxuICAgIFZUaW1lbGluZUl0ZW06IF9WVGltZWxpbmVJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUb29sYmFyL1ZUb29sYmFyLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRvb2xiYXIvVlRvb2xiYXIuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2xiYXIvVlRvb2xiYXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUb29sYmFyL1ZUb29sYmFyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRvb2xiYXJfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVG9vbGJhci5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WVG9vbGJhci9WVG9vbGJhci5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVG9vbGJhcl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZUb29sYmFyX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaGVldF9WU2hlZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZTaGVldC9WU2hlZXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTaGVldC9WU2hlZXQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJbWdfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkltZy9WSW1nICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW1nL1ZJbWcudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTsgLy8gU3R5bGVzXG5cblxuIC8vIEV4dGVuc2lvbnNcblxuIC8vIENvbXBvbmVudHNcblxuIC8vIFV0aWxpdGllc1xuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfVlNoZWV0X1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi10b29sYmFyJyxcbiAgcHJvcHM6IHtcbiAgICBhYnNvbHV0ZTogQm9vbGVhbixcbiAgICBib3R0b206IEJvb2xlYW4sXG4gICAgY29sbGFwc2U6IEJvb2xlYW4sXG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgZXh0ZW5kZWQ6IEJvb2xlYW4sXG4gICAgZXh0ZW5zaW9uSGVpZ2h0OiB7XG4gICAgICBkZWZhdWx0OiA0OCxcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ11cbiAgICB9LFxuICAgIGZsYXQ6IEJvb2xlYW4sXG4gICAgZmxvYXRpbmc6IEJvb2xlYW4sXG4gICAgcHJvbWluZW50OiBCb29sZWFuLFxuICAgIHNob3J0OiBCb29sZWFuLFxuICAgIHNyYzoge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdoZWFkZXInXG4gICAgfSxcbiAgICB0aWxlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNFeHRlbmRlZDogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkSGVpZ2h0OiBmdW5jdGlvbiBjb21wdXRlZEhlaWdodCgpIHtcbiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNvbXB1dGVkQ29udGVudEhlaWdodDtcbiAgICAgIGlmICghdGhpcy5pc0V4dGVuZGVkKSByZXR1cm4gaGVpZ2h0O1xuICAgICAgdmFyIGV4dGVuc2lvbkhlaWdodCA9IHBhcnNlSW50KHRoaXMuZXh0ZW5zaW9uSGVpZ2h0KTtcbiAgICAgIHJldHVybiB0aGlzLmlzQ29sbGFwc2VkID8gaGVpZ2h0IDogaGVpZ2h0ICsgKCFpc05hTihleHRlbnNpb25IZWlnaHQpID8gZXh0ZW5zaW9uSGVpZ2h0IDogMCk7XG4gICAgfSxcbiAgICBjb21wdXRlZENvbnRlbnRIZWlnaHQ6IGZ1bmN0aW9uIGNvbXB1dGVkQ29udGVudEhlaWdodCgpIHtcbiAgICAgIGlmICh0aGlzLmhlaWdodCkgcmV0dXJuIHBhcnNlSW50KHRoaXMuaGVpZ2h0KTtcbiAgICAgIGlmICh0aGlzLmlzUHJvbWluZW50ICYmIHRoaXMuZGVuc2UpIHJldHVybiA5NjtcbiAgICAgIGlmICh0aGlzLmlzUHJvbWluZW50ICYmIHRoaXMuc2hvcnQpIHJldHVybiAxMTI7XG4gICAgICBpZiAodGhpcy5pc1Byb21pbmVudCkgcmV0dXJuIDEyODtcbiAgICAgIGlmICh0aGlzLmRlbnNlKSByZXR1cm4gNDg7XG4gICAgICBpZiAodGhpcy5zaG9ydCB8fCB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQuc21BbmREb3duKSByZXR1cm4gNTY7XG4gICAgICByZXR1cm4gNjQ7XG4gICAgfSxcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfVlNoZWV0X1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi10b29sYmFyJzogdHJ1ZSxcbiAgICAgICAgJ3YtdG9vbGJhci0tYWJzb2x1dGUnOiB0aGlzLmFic29sdXRlLFxuICAgICAgICAndi10b29sYmFyLS1ib3R0b20nOiB0aGlzLmJvdHRvbSxcbiAgICAgICAgJ3YtdG9vbGJhci0tY29sbGFwc2UnOiB0aGlzLmNvbGxhcHNlLFxuICAgICAgICAndi10b29sYmFyLS1jb2xsYXBzZWQnOiB0aGlzLmlzQ29sbGFwc2VkLFxuICAgICAgICAndi10b29sYmFyLS1kZW5zZSc6IHRoaXMuZGVuc2UsXG4gICAgICAgICd2LXRvb2xiYXItLWV4dGVuZGVkJzogdGhpcy5pc0V4dGVuZGVkLFxuICAgICAgICAndi10b29sYmFyLS1mbGF0JzogdGhpcy5mbGF0LFxuICAgICAgICAndi10b29sYmFyLS1mbG9hdGluZyc6IHRoaXMuZmxvYXRpbmcsXG4gICAgICAgICd2LXRvb2xiYXItLXByb21pbmVudCc6IHRoaXMuaXNQcm9taW5lbnRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaXNDb2xsYXBzZWQ6IGZ1bmN0aW9uIGlzQ29sbGFwc2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2U7XG4gICAgfSxcbiAgICBpc1Byb21pbmVudDogZnVuY3Rpb24gaXNQcm9taW5lbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9taW5lbnQ7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5tZWFzdXJhYmxlU3R5bGVzLCB7XG4gICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRIZWlnaHQpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBicmVha2luZ1Byb3BzID0gW1snYXBwJywgJzx2LWFwcC1iYXIgYXBwPiddLCBbJ21hbnVhbC1zY3JvbGwnLCAnPHYtYXBwLWJhciA6dmFsdWU9XCJmYWxzZVwiPiddLCBbJ2NsaXBwZWQtbGVmdCcsICc8di1hcHAtYmFyIGNsaXBwZWQtbGVmdD4nXSwgWydjbGlwcGVkLXJpZ2h0JywgJzx2LWFwcC1iYXIgY2xpcHBlZC1yaWdodD4nXSwgWydpbnZlcnRlZC1zY3JvbGwnLCAnPHYtYXBwLWJhciBpbnZlcnRlZC1zY3JvbGw+J10sIFsnc2Nyb2xsLW9mZi1zY3JlZW4nLCAnPHYtYXBwLWJhciBzY3JvbGwtb2ZmLXNjcmVlbj4nXSwgWydzY3JvbGwtdGFyZ2V0JywgJzx2LWFwcC1iYXIgc2Nyb2xsLXRhcmdldD4nXSwgWydzY3JvbGwtdGhyZXNob2xkJywgJzx2LWFwcC1iYXIgc2Nyb2xsLXRocmVzaG9sZD4nXSwgWydjYXJkJywgJzx2LWFwcC1iYXIgZmxhdD4nXV07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICAgIGJyZWFraW5nUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksXG4gICAgICAgICAgb3JpZ2luYWwgPSBfYlswXSxcbiAgICAgICAgICByZXBsYWNlbWVudCA9IF9iWzFdO1xuXG4gICAgICBpZiAoX3RoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KG9yaWdpbmFsKSkgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImJyZWFraW5nXCJdKShvcmlnaW5hbCwgcmVwbGFjZW1lbnQsIF90aGlzKTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkJhY2tncm91bmQ6IGZ1bmN0aW9uIGdlbkJhY2tncm91bmQoKSB7XG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRIZWlnaHQpLFxuICAgICAgICBzcmM6IHRoaXMuc3JjXG4gICAgICB9O1xuICAgICAgdmFyIGltYWdlID0gdGhpcy4kc2NvcGVkU2xvdHMuaW1nID8gdGhpcy4kc2NvcGVkU2xvdHMuaW1nKHtcbiAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICB9KSA6IHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJbWdfVkltZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRvb2xiYXJfX2ltYWdlJ1xuICAgICAgfSwgW2ltYWdlXSk7XG4gICAgfSxcbiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRvb2xiYXJfX2NvbnRlbnQnLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMuY29tcHV0ZWRDb250ZW50SGVpZ2h0KVxuICAgICAgICB9XG4gICAgICB9LCBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0U2xvdFwiXSkodGhpcykpO1xuICAgIH0sXG4gICAgZ2VuRXh0ZW5zaW9uOiBmdW5jdGlvbiBnZW5FeHRlbnNpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdG9vbGJhcl9fZXh0ZW5zaW9uJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLmV4dGVuc2lvbkhlaWdodClcbiAgICAgICAgfVxuICAgICAgfSwgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFNsb3RcIl0pKHRoaXMsICdleHRlbnNpb24nKSk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG4gICAgdGhpcy5pc0V4dGVuZGVkID0gdGhpcy5leHRlbmRlZCB8fCAhIXRoaXMuJHNjb3BlZFNsb3RzLmV4dGVuc2lvbjtcbiAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5nZW5Db250ZW50KCldO1xuICAgIHZhciBkYXRhID0gdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb2xvciwge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlcyxcbiAgICAgIG9uOiB0aGlzLiRsaXN0ZW5lcnNcbiAgICB9KTtcbiAgICBpZiAodGhpcy5pc0V4dGVuZGVkKSBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuRXh0ZW5zaW9uKCkpO1xuICAgIGlmICh0aGlzLnNyYyB8fCB0aGlzLiRzY29wZWRTbG90cy5pbWcpIGNoaWxkcmVuLnVuc2hpZnQodGhpcy5nZW5CYWNrZ3JvdW5kKCkpO1xuICAgIHJldHVybiBoKHRoaXMudGFnLCBkYXRhLCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVG9vbGJhci9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRvb2xiYXIvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWVG9vbGJhciwgVlRvb2xiYXJJdGVtcywgVlRvb2xiYXJUaXRsZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVG9vbGJhckl0ZW1zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlRvb2xiYXJJdGVtczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRvb2xiYXJUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZUb29sYmFyVGl0bGU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVG9vbGJhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2xiYXIvVlRvb2xiYXIudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVG9vbGJhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vLyBDb21wb25lbnRzXG4gLy8gVXRpbGl0aWVzXG5cblxudmFyIFZUb29sYmFyVGl0bGUgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY3JlYXRlU2ltcGxlRnVuY3Rpb25hbFwiXSkoJ3YtdG9vbGJhcl9fdGl0bGUnKTtcbnZhciBWVG9vbGJhckl0ZW1zID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWxcIl0pKCd2LXRvb2xiYXJfX2l0ZW1zJyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZUb29sYmFyOiBfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVlRvb2xiYXJJdGVtczogVlRvb2xiYXJJdGVtcyxcbiAgICBWVG9vbGJhclRpdGxlOiBWVG9vbGJhclRpdGxlXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUb29sdGlwL1ZUb29sdGlwLnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRvb2x0aXAvVlRvb2x0aXAuc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2x0aXAvVlRvb2x0aXAudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZUb29sdGlwL1ZUb29sdGlwLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRvb2x0aXBfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVG9vbHRpcC5zYXNzICovIFwiLi9zcmMvY29tcG9uZW50cy9WVG9vbHRpcC9WVG9vbHRpcC5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVG9vbHRpcF9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX1ZUb29sdGlwX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19hY3RpdmF0YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2FjdGl2YXRhYmxlICovIFwiLi9zcmMvbWl4aW5zL2FjdGl2YXRhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2RlbGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RlbGF5YWJsZSAqLyBcIi4vc3JjL21peGlucy9kZWxheWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19kZXBlbmRlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9kZXBlbmRlbnQgKi8gXCIuL3NyYy9taXhpbnMvZGVwZW5kZW50L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfZGV0YWNoYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbWl4aW5zL2RldGFjaGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZGV0YWNoYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX21lbnVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvbWVudWFibGUgKi8gXCIuL3NyYy9taXhpbnMvbWVudWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvdG9nZ2xlYWJsZSAqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbiAvLyBNaXhpbnNcblxuXG5cblxuXG5cblxuIC8vIEhlbHBlcnNcblxuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIF9taXhpbnNfZGVsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX2RlcGVuZGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgX21peGluc19kZXRhY2hhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX21lbnVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLCBfbWl4aW5zX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXRvb2x0aXAnLFxuICBwcm9wczoge1xuICAgIGNsb3NlRGVsYXk6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBmaXhlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIG9wZW5EZWxheToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9LFxuICAgIG9wZW5PbkhvdmVyOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgdGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnc3BhbidcbiAgICB9LFxuICAgIHRyYW5zaXRpb246IFN0cmluZyxcbiAgICB6SW5kZXg6IHtcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbGN1bGF0ZWRNaW5XaWR0aDogMCxcbiAgICAgIGNsb3NlRGVwZW5kZW50czogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNhbGN1bGF0ZWRMZWZ0OiBmdW5jdGlvbiBjYWxjdWxhdGVkTGVmdCgpIHtcbiAgICAgIHZhciBfYSA9IHRoaXMuZGltZW5zaW9ucyxcbiAgICAgICAgICBhY3RpdmF0b3IgPSBfYS5hY3RpdmF0b3IsXG4gICAgICAgICAgY29udGVudCA9IF9hLmNvbnRlbnQ7XG4gICAgICB2YXIgdW5rbm93biA9ICF0aGlzLmJvdHRvbSAmJiAhdGhpcy5sZWZ0ICYmICF0aGlzLnRvcCAmJiAhdGhpcy5yaWdodDtcbiAgICAgIHZhciBhY3RpdmF0b3JMZWZ0ID0gdGhpcy5hdHRhY2ggIT09IGZhbHNlID8gYWN0aXZhdG9yLm9mZnNldExlZnQgOiBhY3RpdmF0b3IubGVmdDtcbiAgICAgIHZhciBsZWZ0ID0gMDtcblxuICAgICAgaWYgKHRoaXMudG9wIHx8IHRoaXMuYm90dG9tIHx8IHVua25vd24pIHtcbiAgICAgICAgbGVmdCA9IGFjdGl2YXRvckxlZnQgKyBhY3RpdmF0b3Iud2lkdGggLyAyIC0gY29udGVudC53aWR0aCAvIDI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubGVmdCB8fCB0aGlzLnJpZ2h0KSB7XG4gICAgICAgIGxlZnQgPSBhY3RpdmF0b3JMZWZ0ICsgKHRoaXMucmlnaHQgPyBhY3RpdmF0b3Iud2lkdGggOiAtY29udGVudC53aWR0aCkgKyAodGhpcy5yaWdodCA/IDEwIDogLTEwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubnVkZ2VMZWZ0KSBsZWZ0IC09IHBhcnNlSW50KHRoaXMubnVkZ2VMZWZ0KTtcbiAgICAgIGlmICh0aGlzLm51ZGdlUmlnaHQpIGxlZnQgKz0gcGFyc2VJbnQodGhpcy5udWRnZVJpZ2h0KTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGNYT3ZlcmZsb3cobGVmdCwgdGhpcy5kaW1lbnNpb25zLmNvbnRlbnQud2lkdGgpICsgXCJweFwiO1xuICAgIH0sXG4gICAgY2FsY3VsYXRlZFRvcDogZnVuY3Rpb24gY2FsY3VsYXRlZFRvcCgpIHtcbiAgICAgIHZhciBfYSA9IHRoaXMuZGltZW5zaW9ucyxcbiAgICAgICAgICBhY3RpdmF0b3IgPSBfYS5hY3RpdmF0b3IsXG4gICAgICAgICAgY29udGVudCA9IF9hLmNvbnRlbnQ7XG4gICAgICB2YXIgYWN0aXZhdG9yVG9wID0gdGhpcy5hdHRhY2ggIT09IGZhbHNlID8gYWN0aXZhdG9yLm9mZnNldFRvcCA6IGFjdGl2YXRvci50b3A7XG4gICAgICB2YXIgdG9wID0gMDtcblxuICAgICAgaWYgKHRoaXMudG9wIHx8IHRoaXMuYm90dG9tKSB7XG4gICAgICAgIHRvcCA9IGFjdGl2YXRvclRvcCArICh0aGlzLmJvdHRvbSA/IGFjdGl2YXRvci5oZWlnaHQgOiAtY29udGVudC5oZWlnaHQpICsgKHRoaXMuYm90dG9tID8gMTAgOiAtMTApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxlZnQgfHwgdGhpcy5yaWdodCkge1xuICAgICAgICB0b3AgPSBhY3RpdmF0b3JUb3AgKyBhY3RpdmF0b3IuaGVpZ2h0IC8gMiAtIGNvbnRlbnQuaGVpZ2h0IC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubnVkZ2VUb3ApIHRvcCAtPSBwYXJzZUludCh0aGlzLm51ZGdlVG9wKTtcbiAgICAgIGlmICh0aGlzLm51ZGdlQm90dG9tKSB0b3AgKz0gcGFyc2VJbnQodGhpcy5udWRnZUJvdHRvbSk7XG4gICAgICByZXR1cm4gdGhpcy5jYWxjWU92ZXJmbG93KHRvcCArIHRoaXMucGFnZVlPZmZzZXQpICsgXCJweFwiO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICd2LXRvb2x0aXAtLXRvcCc6IHRoaXMudG9wLFxuICAgICAgICAndi10b29sdGlwLS1yaWdodCc6IHRoaXMucmlnaHQsXG4gICAgICAgICd2LXRvb2x0aXAtLWJvdHRvbSc6IHRoaXMuYm90dG9tLFxuICAgICAgICAndi10b29sdGlwLS1sZWZ0JzogdGhpcy5sZWZ0LFxuICAgICAgICAndi10b29sdGlwLS1hdHRhY2hlZCc6IHRoaXMuYXR0YWNoID09PSAnJyB8fCB0aGlzLmF0dGFjaCA9PT0gdHJ1ZSB8fCB0aGlzLmF0dGFjaCA9PT0gJ2F0dGFjaCdcbiAgICAgIH07XG4gICAgfSxcbiAgICBjb21wdXRlZFRyYW5zaXRpb246IGZ1bmN0aW9uIGNvbXB1dGVkVHJhbnNpdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb24pIHJldHVybiB0aGlzLnRyYW5zaXRpb247XG4gICAgICByZXR1cm4gdGhpcy5pc0FjdGl2ZSA/ICdzY2FsZS10cmFuc2l0aW9uJyA6ICdmYWRlLXRyYW5zaXRpb24nO1xuICAgIH0sXG4gICAgb2Zmc2V0WTogZnVuY3Rpb24gb2Zmc2V0WSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvcCB8fCB0aGlzLmJvdHRvbTtcbiAgICB9LFxuICAgIG9mZnNldFg6IGZ1bmN0aW9uIG9mZnNldFgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZWZ0IHx8IHRoaXMucmlnaHQ7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHRoaXMuY2FsY3VsYXRlZExlZnQsXG4gICAgICAgIG1heFdpZHRoOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5tYXhXaWR0aCksXG4gICAgICAgIG1pbldpZHRoOiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5taW5XaWR0aCksXG4gICAgICAgIG9wYWNpdHk6IHRoaXMuaXNBY3RpdmUgPyAwLjkgOiAwLFxuICAgICAgICB0b3A6IHRoaXMuY2FsY3VsYXRlZFRvcCxcbiAgICAgICAgekluZGV4OiB0aGlzLnpJbmRleCB8fCB0aGlzLmFjdGl2ZVpJbmRleFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMudmFsdWUgJiYgX3RoaXMuY2FsbEFjdGl2YXRlKCk7XG4gICAgfSk7XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgaWYgKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJnZXRTbG90VHlwZVwiXSkodGhpcywgJ2FjdGl2YXRvcicsIHRydWUpID09PSAndi1zbG90Jykge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImNvbnNvbGVFcnJvclwiXSkoXCJ2LXRvb2x0aXAncyBhY3RpdmF0b3Igc2xvdCBtdXN0IGJlIGJvdW5kLCB0cnkgJzx0ZW1wbGF0ZSAjYWN0aXZhdG9yPVxcXCJkYXRhXFxcIj48di1idG4gdi1vbj1cXFwiZGF0YS5vbj4nXCIsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIC8vIFVwZGF0ZSBjb29yZGluYXRlcyBhbmQgZGltZW5zaW9ucyBvZiBtZW51XG4gICAgICAvLyBhbmQgaXRzIGFjdGl2YXRvclxuICAgICAgdGhpcy51cGRhdGVEaW1lbnNpb25zKCk7IC8vIFN0YXJ0IHRoZSB0cmFuc2l0aW9uXG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0YXJ0VHJhbnNpdGlvbik7XG4gICAgfSxcbiAgICBkZWFjdGl2YXRlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgdGhpcy5ydW5EZWxheSgnY2xvc2UnKTtcbiAgICB9LFxuICAgIGdlbkFjdGl2YXRvckxpc3RlbmVyczogZnVuY3Rpb24gZ2VuQWN0aXZhdG9yTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGxpc3RlbmVycyA9IF9taXhpbnNfYWN0aXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkFjdGl2YXRvckxpc3RlbmVycy5jYWxsKHRoaXMpO1xuXG4gICAgICBsaXN0ZW5lcnMuZm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpcy5nZXRBY3RpdmF0b3IoZSk7XG5cbiAgICAgICAgX3RoaXMucnVuRGVsYXkoJ29wZW4nKTtcbiAgICAgIH07XG5cbiAgICAgIGxpc3RlbmVycy5ibHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXMuZ2V0QWN0aXZhdG9yKGUpO1xuXG4gICAgICAgIF90aGlzLnJ1bkRlbGF5KCdjbG9zZScpO1xuICAgICAgfTtcblxuICAgICAgbGlzdGVuZXJzLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJrZXlDb2Rlc1wiXS5lc2MpIHtcbiAgICAgICAgICBfdGhpcy5nZXRBY3RpdmF0b3IoZSk7XG5cbiAgICAgICAgICBfdGhpcy5ydW5EZWxheSgnY2xvc2UnKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgdG9vbHRpcCA9IGgoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29sb3IsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi10b29sdGlwX19jb250ZW50JyxcbiAgICAgIGNsYXNzOiAoX2EgPSB7fSwgX2FbdGhpcy5jb250ZW50Q2xhc3NdID0gdHJ1ZSwgX2EubWVudWFibGVfX2NvbnRlbnRfX2FjdGl2ZSA9IHRoaXMuaXNBY3RpdmUsIF9hWyd2LXRvb2x0aXBfX2NvbnRlbnQtLWZpeGVkJ10gPSB0aGlzLmFjdGl2YXRvckZpeGVkLCBfYSksXG4gICAgICBzdHlsZTogdGhpcy5zdHlsZXMsXG4gICAgICBhdHRyczogdGhpcy5nZXRTY29wZUlkQXR0cnMoKSxcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6ICdzaG93JyxcbiAgICAgICAgdmFsdWU6IHRoaXMuaXNDb250ZW50QWN0aXZlXG4gICAgICB9XSxcbiAgICAgIHJlZjogJ2NvbnRlbnQnXG4gICAgfSksIHRoaXMuc2hvd0xhenlDb250ZW50KHRoaXMuZ2V0Q29udGVudFNsb3QoKSkpO1xuICAgIHJldHVybiBoKHRoaXMudGFnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtdG9vbHRpcCcsXG4gICAgICBjbGFzczogdGhpcy5jbGFzc2VzXG4gICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBuYW1lOiB0aGlzLmNvbXB1dGVkVHJhbnNpdGlvblxuICAgICAgfVxuICAgIH0sIFt0b29sdGlwXSksIHRoaXMuZ2VuQWN0aXZhdG9yKCldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUb29sdGlwL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVG9vbHRpcC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFZUb29sdGlwLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVG9vbHRpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVG9vbHRpcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2x0aXAvVlRvb2x0aXAudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVG9vbHRpcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVG9vbHRpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKF9WVG9vbHRpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L1ZUcmVldmlldy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L1ZUcmVldmlldy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUcmVldmlldy9WVHJlZXZpZXcudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L1ZUcmVldmlldy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRyZWV2aWV3X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRyZWV2aWV3LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUcmVldmlldy9WVHJlZXZpZXcuc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRyZWV2aWV3X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVlRyZWV2aWV3X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUcmVldmlld05vZGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRyZWV2aWV3Tm9kZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L1ZUcmVldmlld05vZGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9taXhpbnNfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9yZWdpc3RyYWJsZSAqLyBcIi4vc3JjL21peGlucy9yZWdpc3RyYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9maWx0ZXJUcmVlSXRlbXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbC9maWx0ZXJUcmVlSXRlbXMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUcmVldmlldy91dGlsL2ZpbHRlclRyZWVJdGVtcy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fdmFsdWVzID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3ZhbHVlcyB8fCBmdW5jdGlvbiAobykge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sXG4gICAgICBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIHJldHVybiB7XG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogbyAmJiBvW2krK10sXG4gICAgICAgIGRvbmU6ICFvXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cbiAvLyBNaXhpbnNcblxuXG4gLy8gVXRpbHNcblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKE9iamVjdChfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJwcm92aWRlXCJdKSgndHJlZXZpZXcnKSwgX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICd2LXRyZWV2aWV3JyxcbiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJlZXZpZXc6IHRoaXNcbiAgICB9O1xuICB9LFxuICBwcm9wczogX19hc3NpZ24oe1xuICAgIGFjdGl2ZToge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVuc2U6IEJvb2xlYW4sXG4gICAgZmlsdGVyOiBGdW5jdGlvbixcbiAgICBob3ZlcmFibGU6IEJvb2xlYW4sXG4gICAgaXRlbXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG11bHRpcGxlQWN0aXZlOiBCb29sZWFuLFxuICAgIG9wZW46IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9wZW5BbGw6IEJvb2xlYW4sXG4gICAgcmV0dXJuT2JqZWN0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIHNlYXJjaDogU3RyaW5nLFxuICAgIHNlbGVjdGlvblR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdsZWFmJyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHYpIHtcbiAgICAgICAgcmV0dXJuIFsnbGVhZicsICdpbmRlcGVuZGVudCddLmluY2x1ZGVzKHYpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9WVHJlZXZpZXdOb2RlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJWVHJlZXZpZXdOb2RlUHJvcHNcIl0pLFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVDYWNoZTogbmV3IFNldCgpLFxuICAgICAgbm9kZXM6IHt9LFxuICAgICAgb3BlbkNhY2hlOiBuZXcgU2V0KCksXG4gICAgICBzZWxlY3RlZENhY2hlOiBuZXcgU2V0KClcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGV4Y2x1ZGVkSXRlbXM6IGZ1bmN0aW9uIGV4Y2x1ZGVkSXRlbXMoKSB7XG4gICAgICB2YXIgZXhjbHVkZWQgPSBuZXcgU2V0KCk7XG4gICAgICBpZiAoIXRoaXMuc2VhcmNoKSByZXR1cm4gZXhjbHVkZWQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBPYmplY3QoX3V0aWxfZmlsdGVyVHJlZUl0ZW1zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJmaWx0ZXJUcmVlSXRlbXNcIl0pKHRoaXMuZmlsdGVyIHx8IF91dGlsX2ZpbHRlclRyZWVJdGVtc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZmlsdGVyVHJlZUl0ZW1cIl0sIHRoaXMuaXRlbXNbaV0sIHRoaXMuc2VhcmNoLCB0aGlzLml0ZW1LZXksIHRoaXMuaXRlbVRleHQsIHRoaXMuaXRlbUNoaWxkcmVuLCBleGNsdWRlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBleGNsdWRlZDtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaXRlbXM6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG9sZEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShfdGhpcy5ub2Rlc1trXS5pdGVtLCBfdGhpcy5pdGVtS2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBuZXdLZXlzID0gdGhpcy5nZXRLZXlzKHRoaXMuaXRlbXMpO1xuICAgICAgICB2YXIgZGlmZiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJhcnJheURpZmZcIl0pKG5ld0tleXMsIG9sZEtleXMpOyAvLyBXZSBvbmx5IHdhbnQgdG8gZG8gc3R1ZmYgaWYgaXRlbXMgaGF2ZSBjaGFuZ2VkXG5cbiAgICAgICAgaWYgKCFkaWZmLmxlbmd0aCAmJiBuZXdLZXlzLmxlbmd0aCA8IG9sZEtleXMubGVuZ3RoKSByZXR1cm47IC8vIElmIG5vZGVzIGFyZSByZW1vdmVkIHdlIG5lZWQgdG8gY2xlYXIgdGhlbSBmcm9tIHRoaXMubm9kZXNcblxuICAgICAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gZGVsZXRlIF90aGlzLm5vZGVzW2tdO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb2xkU2VsZWN0ZWRDYWNoZSA9IF9fc3ByZWFkKHRoaXMuc2VsZWN0ZWRDYWNoZSk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZENhY2hlID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmFjdGl2ZUNhY2hlID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLm9wZW5DYWNoZSA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5idWlsZFRyZWUodGhpcy5pdGVtcyk7IC8vIE9ubHkgZW1pdCBzZWxlY3RlZCBpZiBzZWxlY3Rpb24gaGFzIGNoYW5nZWRcbiAgICAgICAgLy8gYXMgYSByZXN1bHQgb2YgaXRlbXMgY2hhbmdpbmcuIFRoaXMgZml4ZXMgYVxuICAgICAgICAvLyBwb3RlbnRpYWwgZG91YmxlIGVtaXQgd2hlbiBzZWxlY3RpbmcgYSBub2RlXG4gICAgICAgIC8vIHdpdGggZHluYW1pYyBjaGlsZHJlblxuXG4gICAgICAgIGlmICghT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZXBFcXVhbFwiXSkob2xkU2VsZWN0ZWRDYWNoZSwgX19zcHJlYWQodGhpcy5zZWxlY3RlZENhY2hlKSkpIHRoaXMuZW1pdFNlbGVjdGVkKCk7XG4gICAgICB9LFxuICAgICAgZGVlcDogdHJ1ZVxuICAgIH0sXG4gICAgYWN0aXZlOiBmdW5jdGlvbiBhY3RpdmUodmFsdWUpIHtcbiAgICAgIHRoaXMuaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcih2YWx1ZSwgdGhpcy5hY3RpdmVDYWNoZSwgdGhpcy51cGRhdGVBY3RpdmUsIHRoaXMuZW1pdEFjdGl2ZSk7XG4gICAgfSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoX3ZhbHVlKSB7XG4gICAgICB0aGlzLmhhbmRsZU5vZGVDYWNoZVdhdGNoZXIoX3ZhbHVlLCB0aGlzLnNlbGVjdGVkQ2FjaGUsIHRoaXMudXBkYXRlU2VsZWN0ZWQsIHRoaXMuZW1pdFNlbGVjdGVkKTtcbiAgICB9LFxuICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4odmFsdWUpIHtcbiAgICAgIHRoaXMuaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcih2YWx1ZSwgdGhpcy5vcGVuQ2FjaGUsIHRoaXMudXBkYXRlT3BlbiwgdGhpcy5lbWl0T3Blbik7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLmJ1aWxkVHJlZSh0aGlzLml0ZW1zKTtcbiAgICB0aGlzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVNlbGVjdGVkKGtleSwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMudXBkYXRlQWN0aXZlKGtleSwgdHJ1ZSk7XG4gICAgfSk7XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8gU2F2ZSB0aGUgZGV2ZWxvcGVyIGZyb20gdGhlbXNlbHZlc1xuXG5cbiAgICBpZiAodGhpcy4kc2xvdHMucHJlcGVuZCB8fCB0aGlzLiRzbG90cy5hcHBlbmQpIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJjb25zb2xlV2FyblwiXSkoJ1RoZSBwcmVwZW5kIGFuZCBhcHBlbmQgc2xvdHMgcmVxdWlyZSBhIHNsb3Qtc2NvcGUgYXR0cmlidXRlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3BlbkFsbCkge1xuICAgICAgdGhpcy51cGRhdGVBbGwodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Blbi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZU9wZW4oa2V5LCB0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0T3BlbigpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgdXBkYXRlQWxsOiBmdW5jdGlvbiB1cGRhdGVBbGwodmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKHRoaXMubm9kZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlT3BlbihPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKF90aGlzLm5vZGVzW2tleV0uaXRlbSwgX3RoaXMuaXRlbUtleSksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0T3BlbigpO1xuICAgIH0sXG4gICAgZ2V0S2V5czogZnVuY3Rpb24gZ2V0S2V5cyhpdGVtcywga2V5cykge1xuICAgICAgaWYgKGtleXMgPT09IHZvaWQgMCkge1xuICAgICAgICBrZXlzID0gW107XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbXNbaV0sIHRoaXMuaXRlbUtleSk7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKGl0ZW1zW2ldLCB0aGlzLml0ZW1DaGlsZHJlbik7XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIF9fc3ByZWFkKHRoaXMuZ2V0S2V5cyhjaGlsZHJlbikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9LFxuICAgIGJ1aWxkVHJlZTogZnVuY3Rpb24gYnVpbGRUcmVlKGl0ZW1zLCBwYXJlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChwYXJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBwYXJlbnQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIHZhciBrZXkgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKGl0ZW0sIHRoaXMuaXRlbUtleSk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoaXRlbSwgdGhpcy5pdGVtQ2hpbGRyZW4sIFtdKTtcbiAgICAgICAgdmFyIG9sZE5vZGUgPSB0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkgPyB0aGlzLm5vZGVzW2tleV0gOiB7XG4gICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgaXNJbmRldGVybWluYXRlOiBmYWxzZSxcbiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgICB2bm9kZTogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbm9kZSA9IHtcbiAgICAgICAgICB2bm9kZTogb2xkTm9kZS52bm9kZSxcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShjLCBfdGhpcy5pdGVtS2V5KTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBpdGVtOiBpdGVtXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnVpbGRUcmVlKGNoaWxkcmVuLCBrZXkpOyAvLyBUaGlzIGZpeGVkIGJ1ZyB3aXRoIGR5bmFtaWMgY2hpbGRyZW4gcmVzZXR0aW5nIHNlbGVjdGVkIHBhcmVudCBzdGF0ZVxuXG4gICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHBhcmVudCAhPT0gbnVsbCAmJiB0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KHBhcmVudCkpIHtcbiAgICAgICAgICBub2RlLmlzU2VsZWN0ZWQgPSB0aGlzLm5vZGVzW3BhcmVudF0uaXNTZWxlY3RlZDtcbiAgICAgICAgICBub2RlLmlzSW5kZXRlcm1pbmF0ZSA9IHRoaXMubm9kZXNbcGFyZW50XS5pc0luZGV0ZXJtaW5hdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5pc1NlbGVjdGVkID0gb2xkTm9kZS5pc1NlbGVjdGVkO1xuICAgICAgICAgIG5vZGUuaXNJbmRldGVybWluYXRlID0gb2xkTm9kZS5pc0luZGV0ZXJtaW5hdGU7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmlzQWN0aXZlID0gb2xkTm9kZS5pc0FjdGl2ZTtcbiAgICAgICAgbm9kZS5pc09wZW4gPSBvbGROb2RlLmlzT3BlbjtcbiAgICAgICAgdGhpcy5ub2Rlc1trZXldID0gIWNoaWxkcmVuLmxlbmd0aCA/IG5vZGUgOiB0aGlzLmNhbGN1bGF0ZVN0YXRlKG5vZGUsIHRoaXMubm9kZXMpOyAvLyBEb24ndCBmb3JnZXQgdG8gcmVidWlsZCBjYWNoZVxuXG4gICAgICAgIGlmICh0aGlzLm5vZGVzW2tleV0uaXNTZWxlY3RlZCkgdGhpcy5zZWxlY3RlZENhY2hlLmFkZChrZXkpO1xuICAgICAgICBpZiAodGhpcy5ub2Rlc1trZXldLmlzQWN0aXZlKSB0aGlzLmFjdGl2ZUNhY2hlLmFkZChrZXkpO1xuICAgICAgICBpZiAodGhpcy5ub2Rlc1trZXldLmlzT3BlbikgdGhpcy5vcGVuQ2FjaGUuYWRkKGtleSk7XG4gICAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FsY3VsYXRlU3RhdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVN0YXRlKG5vZGUsIHN0YXRlKSB7XG4gICAgICB2YXIgY291bnRzID0gbm9kZS5jaGlsZHJlbi5yZWR1Y2UoZnVuY3Rpb24gKGNvdW50cywgY2hpbGQpIHtcbiAgICAgICAgY291bnRzWzBdICs9ICtCb29sZWFuKHN0YXRlW2NoaWxkXS5pc1NlbGVjdGVkKTtcbiAgICAgICAgY291bnRzWzFdICs9ICtCb29sZWFuKHN0YXRlW2NoaWxkXS5pc0luZGV0ZXJtaW5hdGUpO1xuICAgICAgICByZXR1cm4gY291bnRzO1xuICAgICAgfSwgWzAsIDBdKTtcbiAgICAgIG5vZGUuaXNTZWxlY3RlZCA9ICEhbm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgY291bnRzWzBdID09PSBub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIG5vZGUuaXNJbmRldGVybWluYXRlID0gIW5vZGUuaXNTZWxlY3RlZCAmJiAoY291bnRzWzBdID4gMCB8fCBjb3VudHNbMV0gPiAwKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgZW1pdE9wZW46IGZ1bmN0aW9uIGVtaXRPcGVuKCkge1xuICAgICAgdGhpcy5lbWl0Tm9kZUNhY2hlKCd1cGRhdGU6b3BlbicsIHRoaXMub3BlbkNhY2hlKTtcbiAgICB9LFxuICAgIGVtaXRTZWxlY3RlZDogZnVuY3Rpb24gZW1pdFNlbGVjdGVkKCkge1xuICAgICAgdGhpcy5lbWl0Tm9kZUNhY2hlKCdpbnB1dCcsIHRoaXMuc2VsZWN0ZWRDYWNoZSk7XG4gICAgfSxcbiAgICBlbWl0QWN0aXZlOiBmdW5jdGlvbiBlbWl0QWN0aXZlKCkge1xuICAgICAgdGhpcy5lbWl0Tm9kZUNhY2hlKCd1cGRhdGU6YWN0aXZlJywgdGhpcy5hY3RpdmVDYWNoZSk7XG4gICAgfSxcbiAgICBlbWl0Tm9kZUNhY2hlOiBmdW5jdGlvbiBlbWl0Tm9kZUNhY2hlKGV2ZW50LCBjYWNoZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy4kZW1pdChldmVudCwgdGhpcy5yZXR1cm5PYmplY3QgPyBfX3NwcmVhZChjYWNoZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm5vZGVzW2tleV0uaXRlbTtcbiAgICAgIH0pIDogX19zcHJlYWQoY2FjaGUpKTtcbiAgICB9LFxuICAgIGhhbmRsZU5vZGVDYWNoZVdhdGNoZXI6IGZ1bmN0aW9uIGhhbmRsZU5vZGVDYWNoZVdhdGNoZXIodmFsdWUsIGNhY2hlLCB1cGRhdGVGbiwgZW1pdEZuKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YWx1ZSA9IHRoaXMucmV0dXJuT2JqZWN0ID8gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKHYsIF90aGlzLml0ZW1LZXkpO1xuICAgICAgfSkgOiB2YWx1ZTtcblxuICAgICAgdmFyIG9sZCA9IF9fc3ByZWFkKGNhY2hlKTtcblxuICAgICAgaWYgKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWVwRXF1YWxcIl0pKG9sZCwgdmFsdWUpKSByZXR1cm47XG4gICAgICBvbGQuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVGbihrZXksIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVGbihrZXksIHRydWUpO1xuICAgICAgfSk7XG4gICAgICBlbWl0Rm4oKTtcbiAgICB9LFxuICAgIGdldERlc2NlbmRhbnRzOiBmdW5jdGlvbiBnZXREZXNjZW5kYW50cyhrZXksIGRlc2NlbmRhbnRzKSB7XG4gICAgICBpZiAoZGVzY2VuZGFudHMgPT09IHZvaWQgMCkge1xuICAgICAgICBkZXNjZW5kYW50cyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLm5vZGVzW2tleV0uY2hpbGRyZW47XG4gICAgICBkZXNjZW5kYW50cy5wdXNoLmFwcGx5KGRlc2NlbmRhbnRzLCBfX3NwcmVhZChjaGlsZHJlbikpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlc2NlbmRhbnRzID0gdGhpcy5nZXREZXNjZW5kYW50cyhjaGlsZHJlbltpXSwgZGVzY2VuZGFudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzY2VuZGFudHM7XG4gICAgfSxcbiAgICBnZXRQYXJlbnRzOiBmdW5jdGlvbiBnZXRQYXJlbnRzKGtleSkge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXMubm9kZXNba2V5XS5wYXJlbnQ7XG4gICAgICB2YXIgcGFyZW50cyA9IFtdO1xuXG4gICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICBwYXJlbnQgPSB0aGlzLm5vZGVzW3BhcmVudF0ucGFyZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9LFxuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3Rlcihub2RlKSB7XG4gICAgICB2YXIga2V5ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShub2RlLml0ZW0sIHRoaXMuaXRlbUtleSk7XG4gICAgICB0aGlzLm5vZGVzW2tleV0udm5vZGUgPSBub2RlO1xuICAgICAgdGhpcy51cGRhdGVWbm9kZVN0YXRlKGtleSk7XG4gICAgfSxcbiAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKG5vZGUpIHtcbiAgICAgIHZhciBrZXkgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKG5vZGUuaXRlbSwgdGhpcy5pdGVtS2V5KTtcbiAgICAgIGlmICh0aGlzLm5vZGVzW2tleV0pIHRoaXMubm9kZXNba2V5XS52bm9kZSA9IG51bGw7XG4gICAgfSxcbiAgICBpc1BhcmVudDogZnVuY3Rpb24gaXNQYXJlbnQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2Rlc1trZXldLmNoaWxkcmVuICYmIHRoaXMubm9kZXNba2V5XS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgfSxcbiAgICB1cGRhdGVBY3RpdmU6IGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZShrZXksIGlzQWN0aXZlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuXG4gICAgICBpZiAoIXRoaXMubXVsdGlwbGVBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWNoZS5mb3JFYWNoKGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgICBfdGhpcy5ub2Rlc1thY3RpdmVdLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpcy51cGRhdGVWbm9kZVN0YXRlKGFjdGl2ZSk7XG5cbiAgICAgICAgICBfdGhpcy5hY3RpdmVDYWNoZS5kZWxldGUoYWN0aXZlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICBpZiAoaXNBY3RpdmUpIHRoaXMuYWN0aXZlQ2FjaGUuYWRkKGtleSk7ZWxzZSB0aGlzLmFjdGl2ZUNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgbm9kZS5pc0FjdGl2ZSA9IGlzQWN0aXZlO1xuICAgICAgdGhpcy51cGRhdGVWbm9kZVN0YXRlKGtleSk7XG4gICAgfSxcbiAgICB1cGRhdGVTZWxlY3RlZDogZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWQoa2V5LCBpc1NlbGVjdGVkKSB7XG4gICAgICB2YXIgZV8xLCBfYTtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgIHZhciBjaGFuZ2VkID0gbmV3IE1hcCgpO1xuXG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25UeXBlICE9PSAnaW5kZXBlbmRlbnQnKSB7XG4gICAgICAgIHZhciBkZXNjZW5kYW50cyA9IF9fc3ByZWFkKFtrZXldLCB0aGlzLmdldERlc2NlbmRhbnRzKGtleSkpO1xuXG4gICAgICAgIGRlc2NlbmRhbnRzLmZvckVhY2goZnVuY3Rpb24gKGRlc2NlbmRhbnQpIHtcbiAgICAgICAgICBfdGhpcy5ub2Rlc1tkZXNjZW5kYW50XS5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZDtcbiAgICAgICAgICBfdGhpcy5ub2Rlc1tkZXNjZW5kYW50XS5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICBjaGFuZ2VkLnNldChkZXNjZW5kYW50LCBpc1NlbGVjdGVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwYXJlbnRzID0gdGhpcy5nZXRQYXJlbnRzKGtleSk7XG4gICAgICAgIHBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgX3RoaXMubm9kZXNbcGFyZW50XSA9IF90aGlzLmNhbGN1bGF0ZVN0YXRlKF90aGlzLm5vZGVzW3BhcmVudF0sIF90aGlzLm5vZGVzKTtcbiAgICAgICAgICBjaGFuZ2VkLnNldChwYXJlbnQsIF90aGlzLm5vZGVzW3BhcmVudF0uaXNTZWxlY3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub2Rlc1trZXldLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkO1xuICAgICAgICB0aGlzLm5vZGVzW2tleV0uaXNJbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgIGNoYW5nZWQuc2V0KGtleSwgaXNTZWxlY3RlZCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoY2hhbmdlZC5lbnRyaWVzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIF9kID0gX19yZWFkKF9jLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAga2V5XzEgPSBfZFswXSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfZFsxXTtcblxuICAgICAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXlfMSk7XG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uVHlwZSA9PT0gJ2xlYWYnICYmIHRoaXMuaXNQYXJlbnQoa2V5XzEpKSBjb250aW51ZTtcbiAgICAgICAgICB2YWx1ZSA9PT0gdHJ1ZSA/IHRoaXMuc2VsZWN0ZWRDYWNoZS5hZGQoa2V5XzEpIDogdGhpcy5zZWxlY3RlZENhY2hlLmRlbGV0ZShrZXlfMSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgICAgIGVfMSA9IHtcbiAgICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlT3BlbjogZnVuY3Rpb24gdXBkYXRlT3BlbihrZXksIGlzT3Blbikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldO1xuICAgICAgdmFyIGNoaWxkcmVuID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShub2RlLml0ZW0sIHRoaXMuaXRlbUNoaWxkcmVuKTtcblxuICAgICAgaWYgKGNoaWxkcmVuICYmICFjaGlsZHJlbi5sZW5ndGggJiYgbm9kZS52bm9kZSAmJiAhbm9kZS52bm9kZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgbm9kZS52bm9kZS5jaGVja0NoaWxkcmVuKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZU9wZW4oa2V5LCBpc09wZW4pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIG5vZGUuaXNPcGVuID0gaXNPcGVuO1xuICAgICAgICBub2RlLmlzT3BlbiA/IHRoaXMub3BlbkNhY2hlLmFkZChrZXkpIDogdGhpcy5vcGVuQ2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlVm5vZGVTdGF0ZTogZnVuY3Rpb24gdXBkYXRlVm5vZGVTdGF0ZShrZXkpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldO1xuXG4gICAgICBpZiAobm9kZSAmJiBub2RlLnZub2RlKSB7XG4gICAgICAgIG5vZGUudm5vZGUuaXNTZWxlY3RlZCA9IG5vZGUuaXNTZWxlY3RlZDtcbiAgICAgICAgbm9kZS52bm9kZS5pc0luZGV0ZXJtaW5hdGUgPSBub2RlLmlzSW5kZXRlcm1pbmF0ZTtcbiAgICAgICAgbm9kZS52bm9kZS5pc0FjdGl2ZSA9IG5vZGUuaXNBY3RpdmU7XG4gICAgICAgIG5vZGUudm5vZGUuaXNPcGVuID0gbm9kZS5pc09wZW47XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0V4Y2x1ZGVkOiBmdW5jdGlvbiBpc0V4Y2x1ZGVkKGtleSkge1xuICAgICAgcmV0dXJuICEhdGhpcy5zZWFyY2ggJiYgdGhpcy5leGNsdWRlZEl0ZW1zLmhhcyhrZXkpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuaXRlbXMubGVuZ3RoID8gdGhpcy5pdGVtcy5tYXAoX1ZUcmVldmlld05vZGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkNoaWxkLmJpbmQodGhpcykpXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICA6IHRoaXMuJHNsb3RzLmRlZmF1bHQ7IC8vIFRPRE86IHJlbW92ZSB0eXBlIGFubm90YXRpb24gd2l0aCBUUyAzLjJcblxuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogJ3YtdHJlZXZpZXcnLFxuICAgICAgY2xhc3M6IF9fYXNzaWduKHtcbiAgICAgICAgJ3YtdHJlZXZpZXctLWhvdmVyYWJsZSc6IHRoaXMuaG92ZXJhYmxlLFxuICAgICAgICAndi10cmVldmlldy0tZGVuc2UnOiB0aGlzLmRlbnNlXG4gICAgICB9LCB0aGlzLnRoZW1lQ2xhc3NlcylcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvVlRyZWV2aWV3Tm9kZS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L1ZUcmVldmlld05vZGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWVHJlZXZpZXdOb2RlUHJvcHMsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRyZWV2aWV3Tm9kZVByb3BzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlRyZWV2aWV3Tm9kZVByb3BzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RyYW5zaXRpb25zICovIFwiLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9ucy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkljb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJY29uICovIFwiLi9zcmMvY29tcG9uZW50cy9WSWNvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRyZWV2aWV3Tm9kZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVHJlZXZpZXdOb2RlICovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvVlRyZWV2aWV3Tm9kZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvcmVnaXN0cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9jb2xvcmFibGUgKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBDb21wb25lbnRzXG5cblxuXG5cbiAvLyBNaXhpbnNcblxuXG4gLy8gVXRpbHNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoX21peGluc19jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfbWl4aW5zX3JlZ2lzdHJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJpbmplY3RcIl0pKCd0cmVldmlldycpKTtcbnZhciBWVHJlZXZpZXdOb2RlUHJvcHMgPSB7XG4gIGFjdGl2YXRhYmxlOiBCb29sZWFuLFxuICBhY3RpdmVDbGFzczoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAndi10cmVldmlldy1ub2RlLS1hY3RpdmUnXG4gIH0sXG4gIGNvbG9yOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdwcmltYXJ5J1xuICB9LFxuICBleHBhbmRJY29uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICckc3ViZ3JvdXAnXG4gIH0sXG4gIGluZGV0ZXJtaW5hdGVJY29uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICckY2hlY2tib3hJbmRldGVybWluYXRlJ1xuICB9LFxuICBpdGVtQ2hpbGRyZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2NoaWxkcmVuJ1xuICB9LFxuICBpdGVtRGlzYWJsZWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2Rpc2FibGVkJ1xuICB9LFxuICBpdGVtS2V5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdpZCdcbiAgfSxcbiAgaXRlbVRleHQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ25hbWUnXG4gIH0sXG4gIGxvYWRDaGlsZHJlbjogRnVuY3Rpb24sXG4gIGxvYWRpbmdJY29uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICckbG9hZGluZydcbiAgfSxcbiAgb2ZmSWNvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJGNoZWNrYm94T2ZmJ1xuICB9LFxuICBvbkljb246IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJyRjaGVja2JveE9uJ1xuICB9LFxuICBvcGVuT25DbGljazogQm9vbGVhbixcbiAgcm91bmRlZDogQm9vbGVhbixcbiAgc2VsZWN0YWJsZTogQm9vbGVhbixcbiAgc2VsZWN0ZWRDb2xvcjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnYWNjZW50J1xuICB9LFxuICBzaGFwZWQ6IEJvb2xlYW4sXG4gIHRyYW5zaXRpb246IEJvb2xlYW5cbn07XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGJhc2VNaXhpbnMuZXh0ZW5kKCkuZXh0ZW5kKHtcbiAgbmFtZTogJ3YtdHJlZXZpZXctbm9kZScsXG4gIGluamVjdDoge1xuICAgIHRyZWV2aWV3OiB7XG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuICBwcm9wczogX19hc3NpZ24oe1xuICAgIGl0ZW06IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFZUcmVldmlld05vZGVQcm9wcyksXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBpc0luZGV0ZXJtaW5hdGU6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZGlzYWJsZWQ6IGZ1bmN0aW9uIGRpc2FibGVkKCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkodGhpcy5pdGVtLCB0aGlzLml0ZW1EaXNhYmxlZCk7XG4gICAgfSxcbiAgICBrZXk6IGZ1bmN0aW9uIGtleSgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKHRoaXMuaXRlbSwgdGhpcy5pdGVtS2V5KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKHRoaXMuaXRlbSwgdGhpcy5pdGVtQ2hpbGRyZW4pO1xuICAgIH0sXG4gICAgdGV4dDogZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIl0pKHRoaXMuaXRlbSwgdGhpcy5pdGVtVGV4dCk7XG4gICAgfSxcbiAgICBzY29wZWRQcm9wczogZnVuY3Rpb24gc2NvcGVkUHJvcHMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtOiB0aGlzLml0ZW0sXG4gICAgICAgIGxlYWY6ICF0aGlzLmNoaWxkcmVuLFxuICAgICAgICBzZWxlY3RlZDogdGhpcy5pc1NlbGVjdGVkLFxuICAgICAgICBpbmRldGVybWluYXRlOiB0aGlzLmlzSW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlLFxuICAgICAgICBvcGVuOiB0aGlzLmlzT3BlblxuICAgICAgfTtcbiAgICB9LFxuICAgIGNvbXB1dGVkSWNvbjogZnVuY3Rpb24gY29tcHV0ZWRJY29uKCkge1xuICAgICAgaWYgKHRoaXMuaXNJbmRldGVybWluYXRlKSByZXR1cm4gdGhpcy5pbmRldGVybWluYXRlSWNvbjtlbHNlIGlmICh0aGlzLmlzU2VsZWN0ZWQpIHJldHVybiB0aGlzLm9uSWNvbjtlbHNlIHJldHVybiB0aGlzLm9mZkljb247XG4gICAgfSxcbiAgICBoYXNDaGlsZHJlbjogZnVuY3Rpb24gaGFzQ2hpbGRyZW4oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmNoaWxkcmVuICYmICghIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICEhdGhpcy5sb2FkQ2hpbGRyZW4pO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB0aGlzLnRyZWV2aWV3LnJlZ2lzdGVyKHRoaXMpO1xuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMudHJlZXZpZXcudW5yZWdpc3Rlcih0aGlzKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNoZWNrQ2hpbGRyZW46IGZ1bmN0aW9uIGNoZWNrQ2hpbGRyZW4oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgLy8gVE9ETzogUG90ZW50aWFsIGlzc3VlIHdpdGggYWx3YXlzIHRyeWluZ1xuICAgICAgICAvLyB0byBsb2FkIGNoaWxkcmVuIGlmIHJlc3BvbnNlIGlzIGVtcHR5P1xuICAgICAgICBpZiAoIV90aGlzLmNoaWxkcmVuIHx8IF90aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhX3RoaXMubG9hZENoaWxkcmVuIHx8IF90aGlzLmhhc0xvYWRlZCkgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShfdGhpcy5sb2FkQ2hpbGRyZW4oX3RoaXMuaXRlbSkpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgdGhpcy5pc09wZW4gPSAhdGhpcy5pc09wZW47XG4gICAgICB0aGlzLnRyZWV2aWV3LnVwZGF0ZU9wZW4odGhpcy5rZXksIHRoaXMuaXNPcGVuKTtcbiAgICAgIHRoaXMudHJlZXZpZXcuZW1pdE9wZW4oKTtcbiAgICB9LFxuICAgIGdlbkxhYmVsOiBmdW5jdGlvbiBnZW5MYWJlbCgpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmxhYmVsKSBjaGlsZHJlbi5wdXNoKHRoaXMuJHNjb3BlZFNsb3RzLmxhYmVsKHRoaXMuc2NvcGVkUHJvcHMpKTtlbHNlIGNoaWxkcmVuLnB1c2godGhpcy50ZXh0KTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHNsb3Q6ICdsYWJlbCcsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi10cmVldmlldy1ub2RlX19sYWJlbCdcbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9LFxuICAgIGdlbkNvbnRlbnQ6IGZ1bmN0aW9uIGdlbkNvbnRlbnQoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy4kc2NvcGVkU2xvdHMucHJlcGVuZCAmJiB0aGlzLiRzY29wZWRTbG90cy5wcmVwZW5kKHRoaXMuc2NvcGVkUHJvcHMpLCB0aGlzLmdlbkxhYmVsKCksIHRoaXMuJHNjb3BlZFNsb3RzLmFwcGVuZCAmJiB0aGlzLiRzY29wZWRTbG90cy5hcHBlbmQodGhpcy5zY29wZWRQcm9wcyldO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRyZWV2aWV3LW5vZGVfX2NvbnRlbnQnXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5Ub2dnbGU6IGZ1bmN0aW9uIGdlblRvZ2dsZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVkljb25cIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXRyZWV2aWV3LW5vZGVfX3RvZ2dsZScsXG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgJ3YtdHJlZXZpZXctbm9kZV9fdG9nZ2xlLS1vcGVuJzogdGhpcy5pc09wZW4sXG4gICAgICAgICAgJ3YtdHJlZXZpZXctbm9kZV9fdG9nZ2xlLS1sb2FkaW5nJzogdGhpcy5pc0xvYWRpbmdcbiAgICAgICAgfSxcbiAgICAgICAgc2xvdDogJ3ByZXBlbmQnLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNMb2FkaW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgIF90aGlzLmNoZWNrQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wZW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgW3RoaXMuaXNMb2FkaW5nID8gdGhpcy5sb2FkaW5nSWNvbiA6IHRoaXMuZXhwYW5kSWNvbl0pO1xuICAgIH0sXG4gICAgZ2VuQ2hlY2tib3g6IGZ1bmN0aW9uIGdlbkNoZWNrYm94KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJWSWNvblwiXSwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdHJlZXZpZXctbm9kZV9fY2hlY2tib3gnLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmlzU2VsZWN0ZWQgPyB0aGlzLnNlbGVjdGVkQ29sb3IgOiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzTG9hZGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICBfdGhpcy5jaGVja0NoaWxkcmVuKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIG5leHRUaWNrIGhlcmUgc28gdGhhdCBpdGVtcyB3YXRjaCBpbiBWVHJlZXZpZXcgaGFzIGEgY2hhbmNlIHRvIHJ1biBmaXJzdFxuICAgICAgICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlzU2VsZWN0ZWQgPSAhX3RoaXMuaXNTZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIF90aGlzLnRyZWV2aWV3LnVwZGF0ZVNlbGVjdGVkKF90aGlzLmtleSwgX3RoaXMuaXNTZWxlY3RlZCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy50cmVldmlldy5lbWl0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLmNvbXB1dGVkSWNvbl0pO1xuICAgIH0sXG4gICAgZ2VuTm9kZTogZnVuY3Rpb24gZ2VuTm9kZSgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuZ2VuQ29udGVudCgpXTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGFibGUpIGNoaWxkcmVuLnVuc2hpZnQodGhpcy5nZW5DaGVja2JveCgpKTtcbiAgICAgIGlmICh0aGlzLmhhc0NoaWxkcmVuKSBjaGlsZHJlbi51bnNoaWZ0KHRoaXMuZ2VuVG9nZ2xlKCkpO1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0VGV4dENvbG9yKHRoaXMuaXNBY3RpdmUgJiYgdGhpcy5jb2xvciwge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdHJlZXZpZXctbm9kZV9fcm9vdCcsXG4gICAgICAgIGNsYXNzOiAoX2EgPSB7fSwgX2FbdGhpcy5hY3RpdmVDbGFzc10gPSB0aGlzLmlzQWN0aXZlLCBfYSksXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRpc2FibGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5vcGVuT25DbGljayAmJiBfdGhpcy5oYXNDaGlsZHJlbikge1xuICAgICAgICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmFjdGl2YXRhYmxlKSB7XG4gICAgICAgICAgICAgIF90aGlzLmlzQWN0aXZlID0gIV90aGlzLmlzQWN0aXZlO1xuXG4gICAgICAgICAgICAgIF90aGlzLnRyZWV2aWV3LnVwZGF0ZUFjdGl2ZShfdGhpcy5rZXksIF90aGlzLmlzQWN0aXZlKTtcblxuICAgICAgICAgICAgICBfdGhpcy50cmVldmlldy5lbWl0QWN0aXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSwgY2hpbGRyZW4pO1xuICAgIH0sXG4gICAgZ2VuQ2hpbGQ6IGZ1bmN0aW9uIGdlbkNoaWxkKGl0ZW0pIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9WVHJlZXZpZXdOb2RlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGtleTogT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCB0aGlzLml0ZW1LZXkpLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGFjdGl2YXRhYmxlOiB0aGlzLmFjdGl2YXRhYmxlLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzOiB0aGlzLmFjdGl2ZUNsYXNzLFxuICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgc2VsZWN0YWJsZTogdGhpcy5zZWxlY3RhYmxlLFxuICAgICAgICAgIHNlbGVjdGVkQ29sb3I6IHRoaXMuc2VsZWN0ZWRDb2xvcixcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICBleHBhbmRJY29uOiB0aGlzLmV4cGFuZEljb24sXG4gICAgICAgICAgaW5kZXRlcm1pbmF0ZUljb246IHRoaXMuaW5kZXRlcm1pbmF0ZUljb24sXG4gICAgICAgICAgb2ZmSWNvbjogdGhpcy5vZmZJY29uLFxuICAgICAgICAgIG9uSWNvbjogdGhpcy5vbkljb24sXG4gICAgICAgICAgbG9hZGluZ0ljb246IHRoaXMubG9hZGluZ0ljb24sXG4gICAgICAgICAgaXRlbUtleTogdGhpcy5pdGVtS2V5LFxuICAgICAgICAgIGl0ZW1UZXh0OiB0aGlzLml0ZW1UZXh0LFxuICAgICAgICAgIGl0ZW1EaXNhYmxlZDogdGhpcy5pdGVtRGlzYWJsZWQsXG4gICAgICAgICAgaXRlbUNoaWxkcmVuOiB0aGlzLml0ZW1DaGlsZHJlbixcbiAgICAgICAgICBsb2FkQ2hpbGRyZW46IHRoaXMubG9hZENoaWxkcmVuLFxuICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMudHJhbnNpdGlvbixcbiAgICAgICAgICBvcGVuT25DbGljazogdGhpcy5vcGVuT25DbGljayxcbiAgICAgICAgICByb3VuZGVkOiB0aGlzLnJvdW5kZWQsXG4gICAgICAgICAgc2hhcGVkOiB0aGlzLnNoYXBlZFxuICAgICAgICB9LFxuICAgICAgICBzY29wZWRTbG90czogdGhpcy4kc2NvcGVkU2xvdHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuQ2hpbGRyZW5XcmFwcGVyOiBmdW5jdGlvbiBnZW5DaGlsZHJlbldyYXBwZXIoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuIHx8ICF0aGlzLmNoaWxkcmVuKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLmNoaWxkcmVuLm1hcCh0aGlzLmdlbkNoaWxkKV07XG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3YtdHJlZXZpZXctbm9kZV9fY2hpbGRyZW4nXG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5UcmFuc2l0aW9uOiBmdW5jdGlvbiBnZW5UcmFuc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJWRXhwYW5kVHJhbnNpdGlvblwiXSwgW3RoaXMuZ2VuQ2hpbGRyZW5XcmFwcGVyKCldKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5nZW5Ob2RlKCldO1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb24pIGNoaWxkcmVuLnB1c2godGhpcy5nZW5UcmFuc2l0aW9uKCkpO2Vsc2UgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkNoaWxkcmVuV3JhcHBlcigpKTtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd2LXRyZWV2aWV3LW5vZGUnLFxuICAgICAgY2xhc3M6IHtcbiAgICAgICAgJ3YtdHJlZXZpZXctbm9kZS0tbGVhZic6ICF0aGlzLmhhc0NoaWxkcmVuLFxuICAgICAgICAndi10cmVldmlldy1ub2RlLS1jbGljayc6IHRoaXMub3Blbk9uQ2xpY2ssXG4gICAgICAgICd2LXRyZWV2aWV3LW5vZGUtLWRpc2FibGVkJzogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgJ3YtdHJlZXZpZXctbm9kZS0tcm91bmRlZCc6IHRoaXMucm91bmRlZCxcbiAgICAgICAgJ3YtdHJlZXZpZXctbm9kZS0tc2hhcGVkJzogdGhpcy5zaGFwZWQsXG4gICAgICAgICd2LXRyZWV2aWV3LW5vZGUtLXNlbGVjdGVkJzogdGhpcy5pc1NlbGVjdGVkLFxuICAgICAgICAndi10cmVldmlldy1ub2RlLS1leGNsdWRlZCc6IHRoaXMudHJlZXZpZXcuaXNFeGNsdWRlZCh0aGlzLmtleSlcbiAgICAgIH0sXG4gICAgICBhdHRyczoge1xuICAgICAgICAnYXJpYS1leHBhbmRlZCc6IFN0cmluZyh0aGlzLmlzT3BlbilcbiAgICAgIH1cbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVlRyZWV2aWV3LCBWVHJlZXZpZXdOb2RlLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVHJlZXZpZXdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRyZWV2aWV3ICovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvVlRyZWV2aWV3LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRyZWV2aWV3XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUcmVldmlld19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRyZWV2aWV3Tm9kZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVHJlZXZpZXdOb2RlICovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvVlRyZWV2aWV3Tm9kZS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUcmVldmlld05vZGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRyZWV2aWV3Tm9kZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAkX3Z1ZXRpZnlfc3ViY29tcG9uZW50czoge1xuICAgIFZUcmVldmlldzogX1ZUcmVldmlld19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgICBWVHJlZXZpZXdOb2RlOiBfVlRyZWV2aWV3Tm9kZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvdXRpbC9maWx0ZXJUcmVlSXRlbXMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvdXRpbC9maWx0ZXJUcmVlSXRlbXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZmlsdGVyVHJlZUl0ZW0sIGZpbHRlclRyZWVJdGVtcyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaWx0ZXJUcmVlSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZpbHRlclRyZWVJdGVtOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaWx0ZXJUcmVlSXRlbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmaWx0ZXJUcmVlSXRlbXM7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcblxuZnVuY3Rpb24gZmlsdGVyVHJlZUl0ZW0oaXRlbSwgc2VhcmNoLCB0ZXh0S2V5KSB7XG4gIHZhciB0ZXh0ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCB0ZXh0S2V5KTtcbiAgcmV0dXJuIHRleHQudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvY2FsZUxvd2VyQ2FzZSgpKSA+IC0xO1xufVxuZnVuY3Rpb24gZmlsdGVyVHJlZUl0ZW1zKGZpbHRlciwgaXRlbSwgc2VhcmNoLCBpZEtleSwgdGV4dEtleSwgY2hpbGRyZW5LZXksIGV4Y2x1ZGVkKSB7XG4gIGlmIChmaWx0ZXIoaXRlbSwgc2VhcmNoLCB0ZXh0S2V5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGNoaWxkcmVuID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCBjaGlsZHJlbktleSk7XG5cbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgdmFyIG1hdGNoID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZmlsdGVyVHJlZUl0ZW1zKGZpbHRlciwgY2hpbGRyZW5baV0sIHNlYXJjaCwgaWRLZXksIHRleHRLZXksIGNoaWxkcmVuS2V5LCBleGNsdWRlZCkpIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaCkgcmV0dXJuIHRydWU7XG4gIH1cblxuICBleGNsdWRlZC5hZGQoT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldE9iamVjdFZhbHVlQnlQYXRoXCJdKShpdGVtLCBpZEtleSkpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93LnNhc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZXaW5kb3cvVldpbmRvdy5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZXaW5kb3dfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WV2luZG93LnNhc3MgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZXaW5kb3cvVldpbmRvdy5zYXNzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WV2luZG93X3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfVldpbmRvd19zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9WQnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vVkljb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJY29uL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSXRlbUdyb3VwX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZJdGVtR3JvdXAvVkl0ZW1Hcm91cCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3RvdWNoICovIFwiLi9zcmMvZGlyZWN0aXZlcy90b3VjaC9pbmRleC50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIFN0eWxlc1xuXG5cbiAvLyBDb21wb25lbnRzXG5cblxuXG4gLy8gRGlyZWN0aXZlc1xuXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQmFzZUl0ZW1Hcm91cFwiXS5leHRlbmQoe1xuICBuYW1lOiAndi13aW5kb3cnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aW5kb3dHcm91cDogdGhpc1xuICAgIH07XG4gIH0sXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBUb3VjaDogX2RpcmVjdGl2ZXNfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhY3RpdmVDbGFzczoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3Ytd2luZG93LWl0ZW0tLWFjdGl2ZSdcbiAgICB9LFxuICAgIGNvbnRpbnVvdXM6IEJvb2xlYW4sXG4gICAgbWFuZGF0b3J5OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgbmV4dEljb246IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogJyRuZXh0J1xuICAgIH0sXG4gICAgcHJldkljb246IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogJyRwcmV2J1xuICAgIH0sXG4gICAgcmV2ZXJzZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgc2hvd0Fycm93czogQm9vbGVhbixcbiAgICBzaG93QXJyb3dzT25Ib3ZlcjogQm9vbGVhbixcbiAgICB0b3VjaDogT2JqZWN0LFxuICAgIHRvdWNobGVzczogQm9vbGVhbixcbiAgICB2YWx1ZToge1xuICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDogQm9vbGVhblxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGFuZ2VkQnlEZWxpbWl0ZXJzOiBmYWxzZSxcbiAgICAgIGludGVybmFsSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICB0cmFuc2l0aW9uSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICB0cmFuc2l0aW9uQ291bnQ6IDAsXG4gICAgICBpc0Jvb3RlZDogZmFsc2UsXG4gICAgICBpc1JldmVyc2U6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uQ291bnQgPiAwO1xuICAgIH0sXG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgX1ZJdGVtR3JvdXBfVkl0ZW1Hcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQmFzZUl0ZW1Hcm91cFwiXS5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSwge1xuICAgICAgICAndi13aW5kb3ctLXNob3ctYXJyb3dzLW9uLWhvdmVyJzogdGhpcy5zaG93QXJyb3dzT25Ib3ZlclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjb21wdXRlZFRyYW5zaXRpb246IGZ1bmN0aW9uIGNvbXB1dGVkVHJhbnNpdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0Jvb3RlZCkgcmV0dXJuICcnO1xuICAgICAgdmFyIGF4aXMgPSB0aGlzLnZlcnRpY2FsID8gJ3knIDogJ3gnO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMuaW50ZXJuYWxSZXZlcnNlID8gJy1yZXZlcnNlJyA6ICcnO1xuICAgICAgcmV0dXJuIFwidi13aW5kb3ctXCIgKyBheGlzICsgZGlyZWN0aW9uICsgXCItdHJhbnNpdGlvblwiO1xuICAgIH0sXG4gICAgaGFzQWN0aXZlSXRlbXM6IGZ1bmN0aW9uIGhhc0FjdGl2ZUl0ZW1zKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiAhaXRlbS5kaXNhYmxlZDtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGhhc05leHQ6IGZ1bmN0aW9uIGhhc05leHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250aW51b3VzIHx8IHRoaXMuaW50ZXJuYWxJbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTtcbiAgICB9LFxuICAgIGhhc1ByZXY6IGZ1bmN0aW9uIGhhc1ByZXYoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250aW51b3VzIHx8IHRoaXMuaW50ZXJuYWxJbmRleCA+IDA7XG4gICAgfSxcbiAgICBpbnRlcm5hbEluZGV4OiBmdW5jdGlvbiBpbnRlcm5hbEluZGV4KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5pbnRlcm5hbFZhbHVlID09PSBfdGhpcy5nZXRWYWx1ZShpdGVtLCBpKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW50ZXJuYWxSZXZlcnNlOiBmdW5jdGlvbiBpbnRlcm5hbFJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5yZXZlcnNlICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLnJldmVyc2U7XG4gICAgICByZXR1cm4gdGhpcy5pc1JldmVyc2U7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGludGVybmFsSW5kZXg6ICd1cGRhdGVSZXZlcnNlJ1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5pc0Jvb3RlZCA9IHRydWU7XG4gICAgfSk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Db250YWluZXI6IGZ1bmN0aW9uIGdlbkNvbnRhaW5lcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLiRzbG90cy5kZWZhdWx0XTtcblxuICAgICAgaWYgKHRoaXMuc2hvd0Fycm93cykge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuQ29udHJvbEljb25zKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogJ3Ytd2luZG93X19jb250YWluZXInLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXdpbmRvd19fY29udGFpbmVyLS1pcy1hY3RpdmUnOiB0aGlzLmlzQWN0aXZlXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLmludGVybmFsSGVpZ2h0IHx8IHRoaXMudHJhbnNpdGlvbkhlaWdodFxuICAgICAgICB9XG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgfSxcbiAgICBnZW5JY29uOiBmdW5jdGlvbiBnZW5JY29uKGRpcmVjdGlvbiwgaWNvbiwgZm4pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcInYtd2luZG93X19cIiArIGRpcmVjdGlvblxuICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoX1ZCdG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBpY29uOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiB0aGlzLiR2dWV0aWZ5LmxhbmcudChcIiR2dWV0aWZ5LmNhcm91c2VsLlwiICsgZGlyZWN0aW9uKVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIF90aGlzLmNoYW5nZWRCeURlbGltaXRlcnMgPSB0cnVlO1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGxhcmdlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIGljb24pXSldKTtcbiAgICB9LFxuICAgIGdlbkNvbnRyb2xJY29uczogZnVuY3Rpb24gZ2VuQ29udHJvbEljb25zKCkge1xuICAgICAgdmFyIGljb25zID0gW107XG4gICAgICB2YXIgcHJldkljb24gPSB0aGlzLiR2dWV0aWZ5LnJ0bCA/IHRoaXMubmV4dEljb24gOiB0aGlzLnByZXZJY29uO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuICAgICAgaWYgKHRoaXMuaGFzUHJldiAmJiBwcmV2SWNvbiAmJiB0eXBlb2YgcHJldkljb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBpY29uID0gdGhpcy5nZW5JY29uKCdwcmV2JywgcHJldkljb24sIHRoaXMucHJldik7XG4gICAgICAgIGljb24gJiYgaWNvbnMucHVzaChpY29uKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHRJY29uID0gdGhpcy4kdnVldGlmeS5ydGwgPyB0aGlzLnByZXZJY29uIDogdGhpcy5uZXh0SWNvbjtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICAgIGlmICh0aGlzLmhhc05leHQgJiYgbmV4dEljb24gJiYgdHlwZW9mIG5leHRJY29uID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgaWNvbiA9IHRoaXMuZ2VuSWNvbignbmV4dCcsIG5leHRJY29uLCB0aGlzLm5leHQpO1xuICAgICAgICBpY29uICYmIGljb25zLnB1c2goaWNvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpY29ucztcbiAgICB9LFxuICAgIGdldE5leHRJbmRleDogZnVuY3Rpb24gZ2V0TmV4dEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gKGluZGV4ICsgMSkgJSB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tuZXh0SW5kZXhdO1xuICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIHJldHVybiB0aGlzLmdldE5leHRJbmRleChuZXh0SW5kZXgpO1xuICAgICAgcmV0dXJuIG5leHRJbmRleDtcbiAgICB9LFxuICAgIGdldFByZXZJbmRleDogZnVuY3Rpb24gZ2V0UHJldkluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgcHJldkluZGV4ID0gKGluZGV4ICsgdGhpcy5pdGVtcy5sZW5ndGggLSAxKSAlIHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW3ByZXZJbmRleF07XG4gICAgICBpZiAoaXRlbS5kaXNhYmxlZCkgcmV0dXJuIHRoaXMuZ2V0UHJldkluZGV4KHByZXZJbmRleCk7XG4gICAgICByZXR1cm4gcHJldkluZGV4O1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHRoaXMuaXNSZXZlcnNlID0gdGhpcy4kdnVldGlmeS5ydGw7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICAgICAgaWYgKCF0aGlzLmhhc0FjdGl2ZUl0ZW1zIHx8ICF0aGlzLmhhc05leHQpIHJldHVybjtcbiAgICAgIHZhciBuZXh0SW5kZXggPSB0aGlzLmdldE5leHRJbmRleCh0aGlzLmludGVybmFsSW5kZXgpO1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW25leHRJbmRleF07XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLmdldFZhbHVlKGl0ZW0sIG5leHRJbmRleCk7XG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgdGhpcy5pc1JldmVyc2UgPSAhdGhpcy4kdnVldGlmeS5ydGw7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICAgICAgaWYgKCF0aGlzLmhhc0FjdGl2ZUl0ZW1zIHx8ICF0aGlzLmhhc1ByZXYpIHJldHVybjtcbiAgICAgIHZhciBsYXN0SW5kZXggPSB0aGlzLmdldFByZXZJbmRleCh0aGlzLmludGVybmFsSW5kZXgpO1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2xhc3RJbmRleF07XG4gICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLmdldFZhbHVlKGl0ZW0sIGxhc3RJbmRleCk7XG4gICAgfSxcbiAgICB1cGRhdGVSZXZlcnNlOiBmdW5jdGlvbiB1cGRhdGVSZXZlcnNlKHZhbCwgb2xkVmFsKSB7XG4gICAgICBpZiAodGhpcy5jaGFuZ2VkQnlEZWxpbWl0ZXJzKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZEJ5RGVsaW1pdGVycyA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNSZXZlcnNlID0gdmFsIDwgb2xkVmFsO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHN0YXRpY0NsYXNzOiAndi13aW5kb3cnLFxuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGRpcmVjdGl2ZXM6IFtdXG4gICAgfTtcblxuICAgIGlmICghdGhpcy50b3VjaGxlc3MpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMudG91Y2ggfHwge1xuICAgICAgICBsZWZ0OiBmdW5jdGlvbiBsZWZ0KCkge1xuICAgICAgICAgIF90aGlzLiR2dWV0aWZ5LnJ0bCA/IF90aGlzLnByZXYoKSA6IF90aGlzLm5leHQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uIHJpZ2h0KCkge1xuICAgICAgICAgIF90aGlzLiR2dWV0aWZ5LnJ0bCA/IF90aGlzLm5leHQoKSA6IF90aGlzLnByZXYoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRhdGEuZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ3RvdWNoJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgW3RoaXMuZ2VuQ29udGFpbmVyKCldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZXaW5kb3cvVldpbmRvd0l0ZW0udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93SXRlbS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX2Jvb3RhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9taXhpbnMvYm9vdGFibGUgKi8gXCIuL3NyYy9taXhpbnMvYm9vdGFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19ncm91cGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21peGlucy9ncm91cGFibGUgKi8gXCIuL3NyYy9taXhpbnMvZ3JvdXBhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3RvdWNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3RvdWNoICovIFwiLi9zcmMvZGlyZWN0aXZlcy90b3VjaC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gTWl4aW5zXG5cbiAvLyBEaXJlY3RpdmVzXG5cbiAvLyBVdGlsaXRpZXNcblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoX21peGluc19ib290YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSwgT2JqZWN0KF9taXhpbnNfZ3JvdXBhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJmYWN0b3J5XCJdKSgnd2luZG93R3JvdXAnLCAndi13aW5kb3ctaXRlbScsICd2LXdpbmRvdycpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoKS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAndi13aW5kb3ctaXRlbScsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBUb3VjaDogX2RpcmVjdGl2ZXNfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICByZXZlcnNlVHJhbnNpdGlvbjoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBpblRyYW5zaXRpb246IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBDbGFzc2VzO1xuICAgIH0sXG4gICAgY29tcHV0ZWRUcmFuc2l0aW9uOiBmdW5jdGlvbiBjb21wdXRlZFRyYW5zaXRpb24oKSB7XG4gICAgICBpZiAoIXRoaXMud2luZG93R3JvdXAuaW50ZXJuYWxSZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy50cmFuc2l0aW9uICE9PSAndW5kZWZpbmVkJyA/IHRoaXMudHJhbnNpdGlvbiB8fCAnJyA6IHRoaXMud2luZG93R3JvdXAuY29tcHV0ZWRUcmFuc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZW9mIHRoaXMucmV2ZXJzZVRyYW5zaXRpb24gIT09ICd1bmRlZmluZWQnID8gdGhpcy5yZXZlcnNlVHJhbnNpdGlvbiB8fCAnJyA6IHRoaXMud2luZG93R3JvdXAuY29tcHV0ZWRUcmFuc2l0aW9uO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdlbkRlZmF1bHRTbG90OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2xvdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRzbG90cy5kZWZhdWx0O1xuICAgIH0sXG4gICAgZ2VuV2luZG93SXRlbTogZnVuY3Rpb24gZ2VuV2luZG93SXRlbSgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi13aW5kb3ctaXRlbScsXG4gICAgICAgIGNsYXNzOiB0aGlzLmNsYXNzZXMsXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3Nob3cnLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmlzQWN0aXZlXG4gICAgICAgIH1dLFxuICAgICAgICBvbjogdGhpcy4kbGlzdGVuZXJzXG4gICAgICB9LCB0aGlzLnNob3dMYXp5Q29udGVudCh0aGlzLmdlbkRlZmF1bHRTbG90KCkpKTtcbiAgICB9LFxuICAgIG9uQWZ0ZXJUcmFuc2l0aW9uOiBmdW5jdGlvbiBvbkFmdGVyVHJhbnNpdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pblRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBGaW5hbGl6ZSB0cmFuc2l0aW9uIHN0YXRlLlxuXG5cbiAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLndpbmRvd0dyb3VwLnRyYW5zaXRpb25Db3VudCA+IDApIHtcbiAgICAgICAgdGhpcy53aW5kb3dHcm91cC50cmFuc2l0aW9uQ291bnQtLTsgLy8gUmVtb3ZlIGNvbnRhaW5lciBoZWlnaHQgaWYgd2UgYXJlIG91dCBvZiB0cmFuc2l0aW9uLlxuXG4gICAgICAgIGlmICh0aGlzLndpbmRvd0dyb3VwLnRyYW5zaXRpb25Db3VudCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMud2luZG93R3JvdXAudHJhbnNpdGlvbkhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25CZWZvcmVUcmFuc2l0aW9uOiBmdW5jdGlvbiBvbkJlZm9yZVRyYW5zaXRpb24oKSB7XG4gICAgICBpZiAodGhpcy5pblRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBJbml0aWFsaXplIHRyYW5zaXRpb24gc3RhdGUgaGVyZS5cblxuXG4gICAgICB0aGlzLmluVHJhbnNpdGlvbiA9IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLndpbmRvd0dyb3VwLnRyYW5zaXRpb25Db3VudCA9PT0gMCkge1xuICAgICAgICAvLyBTZXQgaW5pdGlhbCBoZWlnaHQgZm9yIGhlaWdodCB0cmFuc2l0aW9uLlxuICAgICAgICB0aGlzLndpbmRvd0dyb3VwLnRyYW5zaXRpb25IZWlnaHQgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy53aW5kb3dHcm91cC4kZWwuY2xpZW50SGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53aW5kb3dHcm91cC50cmFuc2l0aW9uQ291bnQrKztcbiAgICB9LFxuICAgIG9uVHJhbnNpdGlvbkNhbmNlbGxlZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uQ2FuY2VsbGVkKCkge1xuICAgICAgdGhpcy5vbkFmdGVyVHJhbnNpdGlvbigpOyAvLyBUaGlzIHNob3VsZCBoYXZlIHRoZSBzYW1lIHBhdGggYXMgbm9ybWFsIHRyYW5zaXRpb24gZW5kLlxuICAgIH0sXG4gICAgb25FbnRlcjogZnVuY3Rpb24gb25FbnRlcihlbCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmluVHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IHNldCBoZWlnaHQgaWYgbm8gdHJhbnNpdGlvbiBvciBjYW5jZWxsZWQuXG4gICAgICAgIGlmICghX3RoaXMuY29tcHV0ZWRUcmFuc2l0aW9uIHx8ICFfdGhpcy5pblRyYW5zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gU2V0IHRyYW5zaXRpb24gdGFyZ2V0IGhlaWdodC5cblxuXG4gICAgICAgIF90aGlzLndpbmRvd0dyb3VwLnRyYW5zaXRpb25IZWlnaHQgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29udmVydFRvVW5pdFwiXSkoZWwuY2xpZW50SGVpZ2h0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkge1xuICAgIHJldHVybiBoKCd0cmFuc2l0aW9uJywge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZTogdGhpcy5jb21wdXRlZFRyYW5zaXRpb25cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICAvLyBIYW5kbGVycyBmb3IgZW50ZXIgd2luZG93cy5cbiAgICAgICAgYmVmb3JlRW50ZXI6IHRoaXMub25CZWZvcmVUcmFuc2l0aW9uLFxuICAgICAgICBhZnRlckVudGVyOiB0aGlzLm9uQWZ0ZXJUcmFuc2l0aW9uLFxuICAgICAgICBlbnRlckNhbmNlbGxlZDogdGhpcy5vblRyYW5zaXRpb25DYW5jZWxsZWQsXG4gICAgICAgIC8vIEhhbmRsZXJzIGZvciBsZWF2ZSB3aW5kb3dzLlxuICAgICAgICBiZWZvcmVMZWF2ZTogdGhpcy5vbkJlZm9yZVRyYW5zaXRpb24sXG4gICAgICAgIGFmdGVyTGVhdmU6IHRoaXMub25BZnRlclRyYW5zaXRpb24sXG4gICAgICAgIGxlYXZlQ2FuY2VsbGVkOiB0aGlzLm9uVHJhbnNpdGlvbkNhbmNlbGxlZCxcbiAgICAgICAgLy8gRW50ZXIgaGFuZGxlciBmb3IgaGVpZ2h0IHRyYW5zaXRpb24uXG4gICAgICAgIGVudGVyOiB0aGlzLm9uRW50ZXJcbiAgICAgIH1cbiAgICB9LCBbdGhpcy5nZW5XaW5kb3dJdGVtKCldKTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZXaW5kb3cvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVldpbmRvdywgVldpbmRvd0l0ZW0sIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZXaW5kb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVldpbmRvdyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVldpbmRvd1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WV2luZG93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WV2luZG93SXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WV2luZG93SXRlbSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9WV2luZG93SXRlbS50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZXaW5kb3dJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZXaW5kb3dJdGVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVldpbmRvdzogX1ZXaW5kb3dfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gICAgVldpbmRvd0l0ZW06IF9WV2luZG93SXRlbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQXBwLCBWQXBwQmFyLCBWQXBwQmFyTmF2SWNvbiwgVkFsZXJ0LCBWQXV0b2NvbXBsZXRlLCBWQXZhdGFyLCBWQmFkZ2UsIFZCYW5uZXIsIFZCb3R0b21OYXZpZ2F0aW9uLCBWQm90dG9tU2hlZXQsIFZCcmVhZGNydW1icywgVkJyZWFkY3J1bWJzSXRlbSwgVkJyZWFkY3J1bWJzRGl2aWRlciwgVkJ0biwgVkJ0blRvZ2dsZSwgVkNhbGVuZGFyLCBWQ2FsZW5kYXJEYWlseSwgVkNhbGVuZGFyV2Vla2x5LCBWQ2FsZW5kYXJNb250aGx5LCBWQ2FyZCwgVkNhcmRBY3Rpb25zLCBWQ2FyZFN1YnRpdGxlLCBWQ2FyZFRleHQsIFZDYXJkVGl0bGUsIFZDYXJvdXNlbCwgVkNhcm91c2VsSXRlbSwgVkNoZWNrYm94LCBWU2ltcGxlQ2hlY2tib3gsIFZDaGlwLCBWQ2hpcEdyb3VwLCBWQ29sb3JQaWNrZXIsIFZDb2xvclBpY2tlclN3YXRjaGVzLCBWQ29sb3JQaWNrZXJDYW52YXMsIFZDb250ZW50LCBWQ29tYm9ib3gsIFZDb3VudGVyLCBWRGF0YSwgVkRhdGFJdGVyYXRvciwgVkRhdGFGb290ZXIsIFZEYXRhVGFibGUsIFZFZGl0RGlhbG9nLCBWVGFibGVPdmVyZmxvdywgVkRhdGFUYWJsZUhlYWRlciwgVlNpbXBsZVRhYmxlLCBWVmlydHVhbFRhYmxlLCBWRGF0ZVBpY2tlciwgVkRhdGVQaWNrZXJUaXRsZSwgVkRhdGVQaWNrZXJIZWFkZXIsIFZEYXRlUGlja2VyRGF0ZVRhYmxlLCBWRGF0ZVBpY2tlck1vbnRoVGFibGUsIFZEYXRlUGlja2VyWWVhcnMsIFZEaWFsb2csIFZEaXZpZGVyLCBWRXhwYW5zaW9uUGFuZWxzLCBWRXhwYW5zaW9uUGFuZWwsIFZFeHBhbnNpb25QYW5lbEhlYWRlciwgVkV4cGFuc2lvblBhbmVsQ29udGVudCwgVkZpbGVJbnB1dCwgVkZvb3RlciwgVkZvcm0sIFZDb250YWluZXIsIFZDb2wsIFZSb3csIFZTcGFjZXIsIFZMYXlvdXQsIFZGbGV4LCBWSG92ZXIsIFZJY29uLCBWSW1nLCBWSW5wdXQsIFZJdGVtLCBWSXRlbUdyb3VwLCBWTGFiZWwsIFZMYXp5LCBWTGlzdEl0ZW1BY3Rpb25UZXh0LCBWTGlzdEl0ZW1Db250ZW50LCBWTGlzdEl0ZW1UaXRsZSwgVkxpc3RJdGVtU3VidGl0bGUsIFZMaXN0LCBWTGlzdEdyb3VwLCBWTGlzdEl0ZW0sIFZMaXN0SXRlbUFjdGlvbiwgVkxpc3RJdGVtQXZhdGFyLCBWTGlzdEl0ZW1JY29uLCBWTGlzdEl0ZW1Hcm91cCwgVk1lbnUsIFZNZXNzYWdlcywgVk5hdmlnYXRpb25EcmF3ZXIsIFZPdmVyZmxvd0J0biwgVk92ZXJsYXksIFZQYWdpbmF0aW9uLCBWU2hlZXQsIFZQYXJhbGxheCwgVlBpY2tlciwgVlByb2dyZXNzQ2lyY3VsYXIsIFZQcm9ncmVzc0xpbmVhciwgVlJhZGlvR3JvdXAsIFZSYWRpbywgVlJhbmdlU2xpZGVyLCBWUmF0aW5nLCBWUmVzcG9uc2l2ZSwgVlNlbGVjdCwgVlNrZWxldG9uTG9hZGVyLCBWU2xpZGVyLCBWU2xpZGVHcm91cCwgVlNsaWRlSXRlbSwgVlNuYWNrYmFyLCBWU3BhcmtsaW5lLCBWU3BlZWREaWFsLCBWU3RlcHBlciwgVlN0ZXBwZXJDb250ZW50LCBWU3RlcHBlclN0ZXAsIFZTdGVwcGVySGVhZGVyLCBWU3RlcHBlckl0ZW1zLCBWU3ViaGVhZGVyLCBWU3dpdGNoLCBWU3lzdGVtQmFyLCBWVGFicywgVlRhYiwgVlRhYkl0ZW0sIFZUYWJzSXRlbXMsIFZUYWJzU2xpZGVyLCBWVGV4dGFyZWEsIFZUZXh0RmllbGQsIFZUaW1lbGluZSwgVlRpbWVsaW5lSXRlbSwgVlRpbWVQaWNrZXIsIFZUaW1lUGlja2VyQ2xvY2ssIFZUaW1lUGlja2VyVGl0bGUsIFZUb29sYmFyLCBWVG9vbGJhckl0ZW1zLCBWVG9vbGJhclRpdGxlLCBWVG9vbHRpcCwgVlRyZWV2aWV3LCBWVHJlZXZpZXdOb2RlLCBWV2luZG93LCBWV2luZG93SXRlbSwgVkNhcm91c2VsVHJhbnNpdGlvbiwgVkNhcm91c2VsUmV2ZXJzZVRyYW5zaXRpb24sIFZUYWJUcmFuc2l0aW9uLCBWVGFiUmV2ZXJzZVRyYW5zaXRpb24sIFZNZW51VHJhbnNpdGlvbiwgVkZhYlRyYW5zaXRpb24sIFZEaWFsb2dUcmFuc2l0aW9uLCBWRGlhbG9nQm90dG9tVHJhbnNpdGlvbiwgVkZhZGVUcmFuc2l0aW9uLCBWU2NhbGVUcmFuc2l0aW9uLCBWU2Nyb2xsWFRyYW5zaXRpb24sIFZTY3JvbGxYUmV2ZXJzZVRyYW5zaXRpb24sIFZTY3JvbGxZVHJhbnNpdGlvbiwgVlNjcm9sbFlSZXZlcnNlVHJhbnNpdGlvbiwgVlNsaWRlWFRyYW5zaXRpb24sIFZTbGlkZVhSZXZlcnNlVHJhbnNpdGlvbiwgVlNsaWRlWVRyYW5zaXRpb24sIFZTbGlkZVlSZXZlcnNlVHJhbnNpdGlvbiwgVkV4cGFuZFRyYW5zaXRpb24sIFZFeHBhbmRYVHJhbnNpdGlvbiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFwcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQXBwICovIFwiLi9zcmMvY29tcG9uZW50cy9WQXBwL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkFwcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQXBwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJWQXBwXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXBwQmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBcHBCYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBcHBCYXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQXBwQmFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZBcHBCYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlZBcHBCYXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQXBwQmFyTmF2SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQXBwQmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJWQXBwQmFyTmF2SWNvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkFsZXJ0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBbGVydCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkFsZXJ0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkFsZXJ0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZBbGVydF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiVkFsZXJ0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQXV0b2NvbXBsZXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZBdXRvY29tcGxldGUgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZBdXRvY29tcGxldGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQXV0b2NvbXBsZXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZBdXRvY29tcGxldGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlZBdXRvY29tcGxldGVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZBdmF0YXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkF2YXRhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkF2YXRhci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZBdmF0YXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkF2YXRhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiVkF2YXRhclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJhZGdlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCYWRnZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJhZGdlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJhZGdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCYWRnZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiVkJhZGdlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQmFubmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCYW5uZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZCYW5uZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQmFubmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCYW5uZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIlZCYW5uZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZCb3R0b21OYXZpZ2F0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCb3R0b21OYXZpZ2F0aW9uICovIFwiLi9zcmMvY29tcG9uZW50cy9WQm90dG9tTmF2aWdhdGlvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCb3R0b21OYXZpZ2F0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCb3R0b21OYXZpZ2F0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJWQm90dG9tTmF2aWdhdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJvdHRvbVNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZCb3R0b21TaGVldCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJvdHRvbVNoZWV0L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJvdHRvbVNoZWV0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCb3R0b21TaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiVkJvdHRvbVNoZWV0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnJlYWRjcnVtYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJyZWFkY3J1bWJzICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnJlYWRjcnVtYnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQnJlYWRjcnVtYnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkJyZWFkY3J1bWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJWQnJlYWRjcnVtYnNcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQnJlYWRjcnVtYnNJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZCcmVhZGNydW1ic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiVkJyZWFkY3J1bWJzSXRlbVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCcmVhZGNydW1ic0RpdmlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkJyZWFkY3J1bWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJWQnJlYWRjcnVtYnNEaXZpZGVyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WQnRuL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkJ0blwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiVkJ0blwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkJ0blRvZ2dsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkJ0blRvZ2dsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkJ0blRvZ2dsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZCdG5Ub2dnbGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkJ0blRvZ2dsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcIlZCdG5Ub2dnbGVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYWxlbmRhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhbGVuZGFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2FsZW5kYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhbGVuZGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiVkNhbGVuZGFyXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhbGVuZGFyRGFpbHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhbGVuZGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiVkNhbGVuZGFyRGFpbHlcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2FsZW5kYXJXZWVrbHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhbGVuZGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiVkNhbGVuZGFyV2Vla2x5XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhbGVuZGFyTW9udGhseVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2FsZW5kYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJWQ2FsZW5kYXJNb250aGx5XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2FyZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhcmQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDYXJkL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcmRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhcmRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJWQ2FyZFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJkQWN0aW9uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2FyZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcIlZDYXJkQWN0aW9uc1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJkU3VidGl0bGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhcmRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJWQ2FyZFN1YnRpdGxlXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcmRUZXh0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDYXJkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiVkNhcmRUZXh0XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcmRUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2FyZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcIlZDYXJkVGl0bGVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDYXJvdXNlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkNhcm91c2VsICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2Fyb3VzZWwvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2Fyb3VzZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkNhcm91c2VsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiVkNhcm91c2VsXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNhcm91c2VsSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2Fyb3VzZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X19bXCJWQ2Fyb3VzZWxJdGVtXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hlY2tib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDaGVja2JveCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoZWNrYm94L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNoZWNrYm94XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDaGVja2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX1tcIlZDaGVja2JveFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTaW1wbGVDaGVja2JveFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2hlY2tib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X19bXCJWU2ltcGxlQ2hlY2tib3hcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDaGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2hpcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNoaXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2hpcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2hpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX1tcIlZDaGlwXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ2hpcEdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ2hpcEdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ2hpcEdyb3VwL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNoaXBHcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ2hpcEdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fW1wiVkNoaXBHcm91cFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvbG9yUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29sb3JQaWNrZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZDb2xvclBpY2tlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb2xvclBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ29sb3JQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJWQ29sb3JQaWNrZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29sb3JQaWNrZXJTd2F0Y2hlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ29sb3JQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJWQ29sb3JQaWNrZXJTd2F0Y2hlc1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb2xvclBpY2tlckNhbnZhc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ29sb3JQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJWQ29sb3JQaWNrZXJDYW52YXNcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZDb250ZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WQ29udGVudCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbnRlbnQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29udGVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WQ29udGVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX1tcIlZDb250ZW50XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WQ29tYm9ib3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb21ib2JveCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkNvbWJvYm94L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkNvbWJvYm94XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDb21ib2JveF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcIlZDb21ib2JveFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkNvdW50ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZDb3VudGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WQ291bnRlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb3VudGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZDb3VudGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fW1wiVkNvdW50ZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0YSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGEvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0YVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX1tcIlZEYXRhXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0YUl0ZXJhdG9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGF0YUl0ZXJhdG9yICovIFwiLi9zcmMvY29tcG9uZW50cy9WRGF0YUl0ZXJhdG9yL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGFJdGVyYXRvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YUl0ZXJhdG9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fW1wiVkRhdGFJdGVyYXRvclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRhRm9vdGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRhSXRlcmF0b3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJWRGF0YUZvb3RlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRhdGFUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGFUYWJsZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRhdGFUYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRhVGFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGFUYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX1tcIlZEYXRhVGFibGVcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRWRpdERpYWxvZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fW1wiVkVkaXREaWFsb2dcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFibGVPdmVyZmxvd1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGF0YVRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fW1wiVlRhYmxlT3ZlcmZsb3dcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0YVRhYmxlSGVhZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRhVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJWRGF0YVRhYmxlSGVhZGVyXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNpbXBsZVRhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRhVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJWU2ltcGxlVGFibGVcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVmlydHVhbFRhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRhVGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJWVmlydHVhbFRhYmxlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRGF0ZVBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRhdGVQaWNrZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZEYXRlUGlja2VyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19bXCJWRGF0ZVBpY2tlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRlUGlja2VyVGl0bGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19bXCJWRGF0ZVBpY2tlclRpdGxlXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRhdGVQaWNrZXJIZWFkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19bXCJWRGF0ZVBpY2tlckhlYWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEYXRlUGlja2VyRGF0ZVRhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRlUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fW1wiVkRhdGVQaWNrZXJEYXRlVGFibGVcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0ZVBpY2tlck1vbnRoVGFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRhdGVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19bXCJWRGF0ZVBpY2tlck1vbnRoVGFibGVcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGF0ZVBpY2tlclllYXJzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZEYXRlUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fW1wiVkRhdGVQaWNrZXJZZWFyc1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkRpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVkRpYWxvZyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpYWxvZy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEaWFsb2dcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkRpYWxvZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX1tcIlZEaWFsb2dcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZEaXZpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRGl2aWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkRpdmlkZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGl2aWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRGl2aWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjdfX1tcIlZEaXZpZGVyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRXhwYW5zaW9uUGFuZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZFeHBhbnNpb25QYW5lbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkV4cGFuc2lvblBhbmVsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkV4cGFuc2lvblBhbmVsc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRXhwYW5zaW9uUGFuZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X19bXCJWRXhwYW5zaW9uUGFuZWxzXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkV4cGFuc2lvblBhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZFeHBhbnNpb25QYW5lbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjhfX1tcIlZFeHBhbnNpb25QYW5lbFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZFeHBhbnNpb25QYW5lbEhlYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRXhwYW5zaW9uUGFuZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X19bXCJWRXhwYW5zaW9uUGFuZWxIZWFkZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRXhwYW5zaW9uUGFuZWxDb250ZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZFeHBhbnNpb25QYW5lbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjhfX1tcIlZFeHBhbnNpb25QYW5lbENvbnRlbnRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZGaWxlSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZGaWxlSW5wdXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZGaWxlSW5wdXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRmlsZUlucHV0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZGaWxlSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI5X19bXCJWRmlsZUlucHV0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WRm9vdGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WRm9vdGVyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZvb3RlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WRm9vdGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fW1wiVkZvb3RlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkZvcm1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZGb3JtICovIFwiLi9zcmMvY29tcG9uZW50cy9WRm9ybS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZGb3JtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZGb3JtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMV9fW1wiVkZvcm1cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZHcmlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WR3JpZCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkdyaWQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ29udGFpbmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZHcmlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fW1wiVkNvbnRhaW5lclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDb2xcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkdyaWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJWQ29sXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlJvd1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WR3JpZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzJfX1tcIlZSb3dcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3BhY2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZHcmlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fW1wiVlNwYWNlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMYXlvdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkdyaWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJWTGF5b3V0XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZsZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkdyaWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJWRmxleFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkhvdmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSG92ZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZIb3Zlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZIb3ZlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSG92ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMzX19bXCJWSG92ZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJY29uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSWNvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkljb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSWNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzRfX1tcIlZJY29uXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WSW1nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSW1nICovIFwiLi9zcmMvY29tcG9uZW50cy9WSW1nL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkltZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSW1nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fW1wiVkltZ1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WSW5wdXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbnB1dC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZJbnB1dFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSW5wdXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X19bXCJWSW5wdXRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZJdGVtR3JvdXAgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJdGVtR3JvdXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zN19fW1wiVkl0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWSXRlbUdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X19bXCJWSXRlbUdyb3VwXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTGFiZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMYWJlbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxhYmVsL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkxhYmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMYWJlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfX1tcIlZMYWJlbFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVkxhenlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZMYXp5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WTGF6eS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMYXp5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMYXp5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zOV9fW1wiVkxhenlcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTGlzdCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVkxpc3QvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1BY3Rpb25UZXh0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fW1wiVkxpc3RJdGVtQWN0aW9uVGV4dFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbUNvbnRlbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJWTGlzdEl0ZW1Db250ZW50XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkxpc3RJdGVtVGl0bGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJWTGlzdEl0ZW1UaXRsZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbVN1YnRpdGxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fW1wiVkxpc3RJdGVtU3VidGl0bGVcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDBfX1tcIlZMaXN0XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkxpc3RHcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDBfX1tcIlZMaXN0R3JvdXBcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJWTGlzdEl0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1BY3Rpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJWTGlzdEl0ZW1BY3Rpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1BdmF0YXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVkxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJWTGlzdEl0ZW1BdmF0YXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTGlzdEl0ZW1JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fW1wiVkxpc3RJdGVtSWNvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZMaXN0SXRlbUdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fW1wiVkxpc3RJdGVtR3JvdXBcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZNZW51X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WTWVudSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lbnUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWTWVudVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WTWVudV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDFfX1tcIlZNZW51XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WTWVzc2FnZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZNZXNzYWdlcyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVk1lc3NhZ2VzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk1lc3NhZ2VzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZNZXNzYWdlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDJfX1tcIlZNZXNzYWdlc1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVk5hdmlnYXRpb25EcmF3ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZOYXZpZ2F0aW9uRHJhd2VyICovIFwiLi9zcmMvY29tcG9uZW50cy9WTmF2aWdhdGlvbkRyYXdlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZOYXZpZ2F0aW9uRHJhd2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZOYXZpZ2F0aW9uRHJhd2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19fW1wiVk5hdmlnYXRpb25EcmF3ZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZPdmVyZmxvd0J0bl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVk92ZXJmbG93QnRuICovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmZsb3dCdG4vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWT3ZlcmZsb3dCdG5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVk92ZXJmbG93QnRuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NF9fW1wiVk92ZXJmbG93QnRuXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WT3ZlcmxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVk92ZXJsYXkgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZPdmVybGF5L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk92ZXJsYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVk92ZXJsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ1X19bXCJWT3ZlcmxheVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlBhZ2luYXRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZQYWdpbmF0aW9uICovIFwiLi9zcmMvY29tcG9uZW50cy9WUGFnaW5hdGlvbi9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZQYWdpbmF0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZQYWdpbmF0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80Nl9fW1wiVlBhZ2luYXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTaGVldF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNoZWV0ICovIFwiLi9zcmMvY29tcG9uZW50cy9WU2hlZXQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2hlZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNoZWV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80N19fW1wiVlNoZWV0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUGFyYWxsYXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZQYXJhbGxheCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBhcmFsbGF4L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlBhcmFsbGF4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZQYXJhbGxheF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDhfX1tcIlZQYXJhbGxheFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlBpY2tlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlBpY2tlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlBpY2tlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDlfX1tcIlZQaWNrZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZQcm9ncmVzc0NpcmN1bGFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUHJvZ3Jlc3NDaXJjdWxhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzQ2lyY3VsYXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUHJvZ3Jlc3NDaXJjdWxhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUHJvZ3Jlc3NDaXJjdWxhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTBfX1tcIlZQcm9ncmVzc0NpcmN1bGFyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZQcm9ncmVzc0xpbmVhciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlByb2dyZXNzTGluZWFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZQcm9ncmVzc0xpbmVhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTFfX1tcIlZQcm9ncmVzc0xpbmVhclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJhZGlvR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZSYWRpb0dyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmFkaW9Hcm91cC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZSYWRpb0dyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZSYWRpb0dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Ml9fW1wiVlJhZGlvR3JvdXBcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUmFkaW9cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlJhZGlvR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUyX19bXCJWUmFkaW9cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSYW5nZVNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlJhbmdlU2xpZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmFuZ2VTbGlkZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWUmFuZ2VTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlJhbmdlU2xpZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81M19fW1wiVlJhbmdlU2xpZGVyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WUmF0aW5nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmF0aW5nICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmF0aW5nL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlJhdGluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WUmF0aW5nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NF9fW1wiVlJhdGluZ1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlJlc3BvbnNpdmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZSZXNwb25zaXZlICovIFwiLi9zcmMvY29tcG9uZW50cy9WUmVzcG9uc2l2ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZSZXNwb25zaXZlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZSZXNwb25zaXZlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NV9fW1wiVlJlc3BvbnNpdmVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTZWxlY3QgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTZWxlY3QvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2VsZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTZWxlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU2X19bXCJWU2VsZWN0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU2tlbGV0b25Mb2FkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTa2VsZXRvbkxvYWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNrZWxldG9uTG9hZGVyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNrZWxldG9uTG9hZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTa2VsZXRvbkxvYWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTdfX1tcIlZTa2VsZXRvbkxvYWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNsaWRlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNsaWRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNThfX1tcIlZTbGlkZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbGlkZUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU2xpZGVHcm91cCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNsaWRlR3JvdXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2xpZGVHcm91cFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU2xpZGVHcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTlfX1tcIlZTbGlkZUdyb3VwXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNsaWRlSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU2xpZGVHcm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTlfX1tcIlZTbGlkZUl0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTbmFja2Jhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNuYWNrYmFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU25hY2tiYXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU25hY2tiYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNuYWNrYmFyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MF9fW1wiVlNuYWNrYmFyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3BhcmtsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3BhcmtsaW5lICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3BhcmtsaW5lL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNwYXJrbGluZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU3BhcmtsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fW1wiVlNwYXJrbGluZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlNwZWVkRGlhbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlNwZWVkRGlhbCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlNwZWVkRGlhbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTcGVlZERpYWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlNwZWVkRGlhbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjJfX1tcIlZTcGVlZERpYWxcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTdGVwcGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3RlcHBlciAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN0ZXBwZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3RlcHBlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU3RlcHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjNfX1tcIlZTdGVwcGVyXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN0ZXBwZXJDb250ZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTdGVwcGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fW1wiVlN0ZXBwZXJDb250ZW50XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN0ZXBwZXJTdGVwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTdGVwcGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fW1wiVlN0ZXBwZXJTdGVwXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN0ZXBwZXJIZWFkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlN0ZXBwZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYzX19bXCJWU3RlcHBlckhlYWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTdGVwcGVySXRlbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlN0ZXBwZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYzX19bXCJWU3RlcHBlckl0ZW1zXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WU3ViaGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WU3ViaGVhZGVyICovIFwiLi9zcmMvY29tcG9uZW50cy9WU3ViaGVhZGVyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlN1YmhlYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WU3ViaGVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NF9fW1wiVlN1YmhlYWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlN3aXRjaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlN3aXRjaCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlN3aXRjaC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTd2l0Y2hcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlN3aXRjaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjVfX1tcIlZTd2l0Y2hcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZTeXN0ZW1CYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZTeXN0ZW1CYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZTeXN0ZW1CYXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU3lzdGVtQmFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZTeXN0ZW1CYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X19bXCJWU3lzdGVtQmFyXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRhYnMgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUYWJzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19bXCJWVGFic1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUYWJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19bXCJWVGFiXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYkl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19bXCJWVGFiSXRlbVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUYWJzSXRlbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19bXCJWVGFic0l0ZW1zXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYnNTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19bXCJWVGFic1NsaWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRleHRhcmVhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVGV4dGFyZWEgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUZXh0YXJlYS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUZXh0YXJlYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVGV4dGFyZWFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY4X19bXCJWVGV4dGFyZWFcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUZXh0RmllbGQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUZXh0RmllbGQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGV4dEZpZWxkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUZXh0RmllbGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY5X19bXCJWVGV4dEZpZWxkXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVGltZWxpbmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lbGluZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRpbWVsaW5lL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRpbWVsaW5lXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUaW1lbGluZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzBfX1tcIlZUaW1lbGluZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUaW1lbGluZUl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRpbWVsaW5lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MF9fW1wiVlRpbWVsaW5lSXRlbVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVlRpbWVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUaW1lUGlja2VyICovIFwiLi9zcmMvY29tcG9uZW50cy9WVGltZVBpY2tlci9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUaW1lUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUaW1lUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MV9fW1wiVlRpbWVQaWNrZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGltZVBpY2tlckNsb2NrXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUaW1lUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MV9fW1wiVlRpbWVQaWNrZXJDbG9ja1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUaW1lUGlja2VyVGl0bGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRpbWVQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcxX19bXCJWVGltZVBpY2tlclRpdGxlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVlRvb2xiYXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZUb29sYmFyL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRvb2xiYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcyX19bXCJWVG9vbGJhclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUb29sYmFySXRlbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRvb2xiYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcyX19bXCJWVG9vbGJhckl0ZW1zXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRvb2xiYXJUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVG9vbGJhcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzJfX1tcIlZUb29sYmFyVGl0bGVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZUb29sdGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83M19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WVG9vbHRpcCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRvb2x0aXAvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVG9vbHRpcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WVG9vbHRpcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzNfX1tcIlZUb29sdGlwXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WVHJlZXZpZXdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZUcmVldmlldyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVlRyZWV2aWV3L2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRyZWV2aWV3XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1ZUcmVldmlld19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzRfX1tcIlZUcmVldmlld1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZUcmVldmlld05vZGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVlRyZWV2aWV3X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NF9fW1wiVlRyZWV2aWV3Tm9kZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVldpbmRvdyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVldpbmRvdy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZXaW5kb3dcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVldpbmRvd19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzVfX1tcIlZXaW5kb3dcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWV2luZG93SXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9WV2luZG93X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NV9fW1wiVldpbmRvd0l0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmFuc2l0aW9ucyAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2Fyb3VzZWxUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVkNhcm91c2VsVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJvdXNlbFJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVkNhcm91c2VsUmV2ZXJzZVRyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFiVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZUYWJUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlRhYlJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVlRhYlJldmVyc2VUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVk1lbnVUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVk1lbnVUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZhYlRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJWRmFiVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZEaWFsb2dUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVkRpYWxvZ1RyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRGlhbG9nQm90dG9tVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZEaWFsb2dCb3R0b21UcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZhZGVUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVkZhZGVUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNjYWxlVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZTY2FsZVRyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2Nyb2xsWFRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJWU2Nyb2xsWFRyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2Nyb2xsWFJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVlNjcm9sbFhSZXZlcnNlVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTY3JvbGxZVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZTY3JvbGxZVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTY3JvbGxZUmV2ZXJzZVRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJWU2Nyb2xsWVJldmVyc2VUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNsaWRlWFRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJWU2xpZGVYVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTbGlkZVhSZXZlcnNlVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZTbGlkZVhSZXZlcnNlVHJhbnNpdGlvblwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZTbGlkZVlUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVlNsaWRlWVRyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2xpZGVZUmV2ZXJzZVRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdHJhbnNpdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJWU2xpZGVZUmV2ZXJzZVRyYW5zaXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRXhwYW5kVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmFuc2l0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX1tcIlZFeHBhbmRUcmFuc2l0aW9uXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkV4cGFuZFhUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3RyYW5zaXRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fW1wiVkV4cGFuZFhUcmFuc2l0aW9uXCJdOyB9KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9ucy9leHBhbmQtdHJhbnNpdGlvbi50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvZXhwYW5kLXRyYW5zaXRpb24udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZXhwYW5kZWRQYXJlbnRDbGFzcywgeCkge1xuICBpZiAoZXhwYW5kZWRQYXJlbnRDbGFzcyA9PT0gdm9pZCAwKSB7XG4gICAgZXhwYW5kZWRQYXJlbnRDbGFzcyA9ICcnO1xuICB9XG5cbiAgaWYgKHggPT09IHZvaWQgMCkge1xuICAgIHggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBzaXplUHJvcGVydHkgPSB4ID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICB2YXIgb2Zmc2V0UHJvcGVydHkgPSBcIm9mZnNldFwiICsgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInVwcGVyRmlyc3RcIl0pKHNpemVQcm9wZXJ0eSk7XG4gIHJldHVybiB7XG4gICAgYmVmb3JlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGVsLl9wYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgZWwuX2luaXRpYWxTdHlsZSA9IChfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogZWwuc3R5bGUudHJhbnNpdGlvbixcbiAgICAgICAgdmlzaWJpbGl0eTogZWwuc3R5bGUudmlzaWJpbGl0eSxcbiAgICAgICAgb3ZlcmZsb3c6IGVsLnN0eWxlLm92ZXJmbG93XG4gICAgICB9LCBfYVtzaXplUHJvcGVydHldID0gZWwuc3R5bGVbc2l6ZVByb3BlcnR5XSwgX2EpO1xuICAgIH0sXG4gICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKGVsKSB7XG4gICAgICB2YXIgaW5pdGlhbFN0eWxlID0gZWwuX2luaXRpYWxTdHlsZTtcbiAgICAgIHZhciBvZmZzZXQgPSBlbFtvZmZzZXRQcm9wZXJ0eV0gKyBcInB4XCI7XG4gICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSgndHJhbnNpdGlvbicsICdub25lJywgJ2ltcG9ydGFudCcpO1xuICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9IGluaXRpYWxTdHlsZS52aXNpYmlsaXR5O1xuICAgICAgZWwuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIGVsLnN0eWxlW3NpemVQcm9wZXJ0eV0gPSAnMCc7XG4gICAgICB2b2lkIGVsLm9mZnNldEhlaWdodDsgLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb24gPSBpbml0aWFsU3R5bGUudHJhbnNpdGlvbjtcblxuICAgICAgaWYgKGV4cGFuZGVkUGFyZW50Q2xhc3MgJiYgZWwuX3BhcmVudCkge1xuICAgICAgICBlbC5fcGFyZW50LmNsYXNzTGlzdC5hZGQoZXhwYW5kZWRQYXJlbnRDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsLnN0eWxlW3NpemVQcm9wZXJ0eV0gPSBvZmZzZXQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGFmdGVyRW50ZXI6IHJlc2V0U3R5bGVzLFxuICAgIGVudGVyQ2FuY2VsbGVkOiByZXNldFN0eWxlcyxcbiAgICBsZWF2ZTogZnVuY3Rpb24gbGVhdmUoZWwpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgZWwuX2luaXRpYWxTdHlsZSA9IChfYSA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjogJycsXG4gICAgICAgIHZpc2liaWxpdHk6ICcnLFxuICAgICAgICBvdmVyZmxvdzogZWwuc3R5bGUub3ZlcmZsb3dcbiAgICAgIH0sIF9hW3NpemVQcm9wZXJ0eV0gPSBlbC5zdHlsZVtzaXplUHJvcGVydHldLCBfYSk7XG4gICAgICBlbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgZWwuc3R5bGVbc2l6ZVByb3BlcnR5XSA9IGVsW29mZnNldFByb3BlcnR5XSArIFwicHhcIjtcbiAgICAgIHZvaWQgZWwub2Zmc2V0SGVpZ2h0OyAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGVsLnN0eWxlW3NpemVQcm9wZXJ0eV0gPSAnMCc7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGFmdGVyTGVhdmU6IGFmdGVyTGVhdmUsXG4gICAgbGVhdmVDYW5jZWxsZWQ6IGFmdGVyTGVhdmVcbiAgfTtcblxuICBmdW5jdGlvbiBhZnRlckxlYXZlKGVsKSB7XG4gICAgaWYgKGV4cGFuZGVkUGFyZW50Q2xhc3MgJiYgZWwuX3BhcmVudCkge1xuICAgICAgZWwuX3BhcmVudC5jbGFzc0xpc3QucmVtb3ZlKGV4cGFuZGVkUGFyZW50Q2xhc3MpO1xuICAgIH1cblxuICAgIHJlc2V0U3R5bGVzKGVsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U3R5bGVzKGVsKSB7XG4gICAgdmFyIHNpemUgPSBlbC5faW5pdGlhbFN0eWxlW3NpemVQcm9wZXJ0eV07XG4gICAgZWwuc3R5bGUub3ZlcmZsb3cgPSBlbC5faW5pdGlhbFN0eWxlLm92ZXJmbG93O1xuICAgIGlmIChzaXplICE9IG51bGwpIGVsLnN0eWxlW3NpemVQcm9wZXJ0eV0gPSBzaXplO1xuICAgIGRlbGV0ZSBlbC5faW5pdGlhbFN0eWxlO1xuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9ucy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWQ2Fyb3VzZWxUcmFuc2l0aW9uLCBWQ2Fyb3VzZWxSZXZlcnNlVHJhbnNpdGlvbiwgVlRhYlRyYW5zaXRpb24sIFZUYWJSZXZlcnNlVHJhbnNpdGlvbiwgVk1lbnVUcmFuc2l0aW9uLCBWRmFiVHJhbnNpdGlvbiwgVkRpYWxvZ1RyYW5zaXRpb24sIFZEaWFsb2dCb3R0b21UcmFuc2l0aW9uLCBWRmFkZVRyYW5zaXRpb24sIFZTY2FsZVRyYW5zaXRpb24sIFZTY3JvbGxYVHJhbnNpdGlvbiwgVlNjcm9sbFhSZXZlcnNlVHJhbnNpdGlvbiwgVlNjcm9sbFlUcmFuc2l0aW9uLCBWU2Nyb2xsWVJldmVyc2VUcmFuc2l0aW9uLCBWU2xpZGVYVHJhbnNpdGlvbiwgVlNsaWRlWFJldmVyc2VUcmFuc2l0aW9uLCBWU2xpZGVZVHJhbnNpdGlvbiwgVlNsaWRlWVJldmVyc2VUcmFuc2l0aW9uLCBWRXhwYW5kVHJhbnNpdGlvbiwgVkV4cGFuZFhUcmFuc2l0aW9uLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZDYXJvdXNlbFRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWQ2Fyb3VzZWxUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWQ2Fyb3VzZWxSZXZlcnNlVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZDYXJvdXNlbFJldmVyc2VUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFiVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZUYWJUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWVGFiUmV2ZXJzZVRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWVGFiUmV2ZXJzZVRyYW5zaXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZNZW51VHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZNZW51VHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZhYlRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWRmFiVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRpYWxvZ1RyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWRGlhbG9nVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkRpYWxvZ0JvdHRvbVRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWRGlhbG9nQm90dG9tVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkZhZGVUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkZhZGVUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2NhbGVUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNjYWxlVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNjcm9sbFhUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNjcm9sbFhUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2Nyb2xsWFJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNjcm9sbFhSZXZlcnNlVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNjcm9sbFlUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNjcm9sbFlUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2Nyb2xsWVJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNjcm9sbFlSZXZlcnNlVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNsaWRlWFRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWU2xpZGVYVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVlNsaWRlWFJldmVyc2VUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVlNsaWRlWFJldmVyc2VUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2xpZGVZVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZTbGlkZVlUcmFuc2l0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWU2xpZGVZUmV2ZXJzZVRyYW5zaXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBWU2xpZGVZUmV2ZXJzZVRyYW5zaXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZFeHBhbmRUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVkV4cGFuZFRyYW5zaXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZFeHBhbmRYVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZFeHBhbmRYVHJhbnNpdGlvbjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9leHBhbmRfdHJhbnNpdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9leHBhbmQtdHJhbnNpdGlvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvZXhwYW5kLXRyYW5zaXRpb24udHNcIik7XG5cbiAvLyBDb21wb25lbnQgc3BlY2lmaWMgdHJhbnNpdGlvbnNcblxudmFyIFZDYXJvdXNlbFRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ2Nhcm91c2VsLXRyYW5zaXRpb24nKTtcbnZhciBWQ2Fyb3VzZWxSZXZlcnNlVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnY2Fyb3VzZWwtcmV2ZXJzZS10cmFuc2l0aW9uJyk7XG52YXIgVlRhYlRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ3RhYi10cmFuc2l0aW9uJyk7XG52YXIgVlRhYlJldmVyc2VUcmFuc2l0aW9uID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNyZWF0ZVNpbXBsZVRyYW5zaXRpb25cIl0pKCd0YWItcmV2ZXJzZS10cmFuc2l0aW9uJyk7XG52YXIgVk1lbnVUcmFuc2l0aW9uID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNyZWF0ZVNpbXBsZVRyYW5zaXRpb25cIl0pKCdtZW51LXRyYW5zaXRpb24nKTtcbnZhciBWRmFiVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnZmFiLXRyYW5zaXRpb24nLCAnY2VudGVyIGNlbnRlcicsICdvdXQtaW4nKTsgLy8gR2VuZXJpYyB0cmFuc2l0aW9uc1xuXG52YXIgVkRpYWxvZ1RyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ2RpYWxvZy10cmFuc2l0aW9uJyk7XG52YXIgVkRpYWxvZ0JvdHRvbVRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ2RpYWxvZy1ib3R0b20tdHJhbnNpdGlvbicpO1xudmFyIFZGYWRlVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnZmFkZS10cmFuc2l0aW9uJyk7XG52YXIgVlNjYWxlVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnc2NhbGUtdHJhbnNpdGlvbicpO1xudmFyIFZTY3JvbGxYVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnc2Nyb2xsLXgtdHJhbnNpdGlvbicpO1xudmFyIFZTY3JvbGxYUmV2ZXJzZVRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ3Njcm9sbC14LXJldmVyc2UtdHJhbnNpdGlvbicpO1xudmFyIFZTY3JvbGxZVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnc2Nyb2xsLXktdHJhbnNpdGlvbicpO1xudmFyIFZTY3JvbGxZUmV2ZXJzZVRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ3Njcm9sbC15LXJldmVyc2UtdHJhbnNpdGlvbicpO1xudmFyIFZTbGlkZVhUcmFuc2l0aW9uID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNyZWF0ZVNpbXBsZVRyYW5zaXRpb25cIl0pKCdzbGlkZS14LXRyYW5zaXRpb24nKTtcbnZhciBWU2xpZGVYUmV2ZXJzZVRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ3NsaWRlLXgtcmV2ZXJzZS10cmFuc2l0aW9uJyk7XG52YXIgVlNsaWRlWVRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiXSkoJ3NsaWRlLXktdHJhbnNpdGlvbicpO1xudmFyIFZTbGlkZVlSZXZlcnNlVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVTaW1wbGVUcmFuc2l0aW9uXCJdKSgnc2xpZGUteS1yZXZlcnNlLXRyYW5zaXRpb24nKTsgLy8gSmF2YVNjcmlwdCB0cmFuc2l0aW9uc1xuXG52YXIgVkV4cGFuZFRyYW5zaXRpb24gPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlSmF2YVNjcmlwdFRyYW5zaXRpb25cIl0pKCdleHBhbmQtdHJhbnNpdGlvbicsIE9iamVjdChfZXhwYW5kX3RyYW5zaXRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKCkpO1xudmFyIFZFeHBhbmRYVHJhbnNpdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjcmVhdGVKYXZhU2NyaXB0VHJhbnNpdGlvblwiXSkoJ2V4cGFuZC14LXRyYW5zaXRpb24nLCBPYmplY3QoX2V4cGFuZF90cmFuc2l0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgnJywgdHJ1ZSkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICRfdnVldGlmeV9zdWJjb21wb25lbnRzOiB7XG4gICAgVkNhcm91c2VsVHJhbnNpdGlvbjogVkNhcm91c2VsVHJhbnNpdGlvbixcbiAgICBWQ2Fyb3VzZWxSZXZlcnNlVHJhbnNpdGlvbjogVkNhcm91c2VsUmV2ZXJzZVRyYW5zaXRpb24sXG4gICAgVkRpYWxvZ1RyYW5zaXRpb246IFZEaWFsb2dUcmFuc2l0aW9uLFxuICAgIFZEaWFsb2dCb3R0b21UcmFuc2l0aW9uOiBWRGlhbG9nQm90dG9tVHJhbnNpdGlvbixcbiAgICBWRmFiVHJhbnNpdGlvbjogVkZhYlRyYW5zaXRpb24sXG4gICAgVkZhZGVUcmFuc2l0aW9uOiBWRmFkZVRyYW5zaXRpb24sXG4gICAgVk1lbnVUcmFuc2l0aW9uOiBWTWVudVRyYW5zaXRpb24sXG4gICAgVlNjYWxlVHJhbnNpdGlvbjogVlNjYWxlVHJhbnNpdGlvbixcbiAgICBWU2Nyb2xsWFRyYW5zaXRpb246IFZTY3JvbGxYVHJhbnNpdGlvbixcbiAgICBWU2Nyb2xsWFJldmVyc2VUcmFuc2l0aW9uOiBWU2Nyb2xsWFJldmVyc2VUcmFuc2l0aW9uLFxuICAgIFZTY3JvbGxZVHJhbnNpdGlvbjogVlNjcm9sbFlUcmFuc2l0aW9uLFxuICAgIFZTY3JvbGxZUmV2ZXJzZVRyYW5zaXRpb246IFZTY3JvbGxZUmV2ZXJzZVRyYW5zaXRpb24sXG4gICAgVlNsaWRlWFRyYW5zaXRpb246IFZTbGlkZVhUcmFuc2l0aW9uLFxuICAgIFZTbGlkZVhSZXZlcnNlVHJhbnNpdGlvbjogVlNsaWRlWFJldmVyc2VUcmFuc2l0aW9uLFxuICAgIFZTbGlkZVlUcmFuc2l0aW9uOiBWU2xpZGVZVHJhbnNpdGlvbixcbiAgICBWU2xpZGVZUmV2ZXJzZVRyYW5zaXRpb246IFZTbGlkZVlSZXZlcnNlVHJhbnNpdGlvbixcbiAgICBWVGFiUmV2ZXJzZVRyYW5zaXRpb246IFZUYWJSZXZlcnNlVHJhbnNpdGlvbixcbiAgICBWVGFiVHJhbnNpdGlvbjogVlRhYlRyYW5zaXRpb24sXG4gICAgVkV4cGFuZFRyYW5zaXRpb246IFZFeHBhbmRUcmFuc2l0aW9uLFxuICAgIFZFeHBhbmRYVHJhbnNpdGlvbjogVkV4cGFuZFhUcmFuc2l0aW9uXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RpcmVjdGl2ZXMvY2xpY2stb3V0c2lkZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogQ2xpY2tPdXRzaWRlLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsaWNrT3V0c2lkZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsaWNrT3V0c2lkZTsgfSk7XG5mdW5jdGlvbiBjbG9zZUNvbmRpdGlvbmFsKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZShlLCBlbCwgYmluZGluZykge1xuICAvLyBBcmdzIG1heSBub3QgYWx3YXlzIGJlIHN1cHBsaWVkXG4gIGJpbmRpbmcuYXJncyA9IGJpbmRpbmcuYXJncyB8fCB7fTsgLy8gSWYgbm8gY2xvc2VDb25kaXRpb25hbCB3YXMgc3VwcGxpZWQgYXNzaWduIGEgZGVmYXVsdFxuXG4gIHZhciBpc0FjdGl2ZSA9IGJpbmRpbmcuYXJncy5jbG9zZUNvbmRpdGlvbmFsIHx8IGNsb3NlQ29uZGl0aW9uYWw7IC8vIFRoZSBpbmNsdWRlIGVsZW1lbnQgY2FsbGJhY2tzIGJlbG93IGNhbiBiZSBleHBlbnNpdmVcbiAgLy8gc28gd2Ugc2hvdWxkIGF2b2lkIGNhbGxpbmcgdGhlbSB3aGVuIHdlJ3JlIG5vdCBhY3RpdmUuXG4gIC8vIEV4cGxpY2l0bHkgY2hlY2sgZm9yIGZhbHNlIHRvIGFsbG93IGZhbGxiYWNrIGNvbXBhdGliaWxpdHlcbiAgLy8gd2l0aCBub24tdG9nZ2xlYWJsZSBjb21wb25lbnRzXG5cbiAgaWYgKCFlIHx8IGlzQWN0aXZlKGUpID09PSBmYWxzZSkgcmV0dXJuOyAvLyBJZiBjbGljayB3YXMgdHJpZ2dlcmVkIHByb2dyYW1tYXRpY2FseSAoZG9tRWwuY2xpY2soKSkgdGhlblxuICAvLyBpdCBzaG91bGRuJ3QgYmUgdHJlYXRlZCBhcyBjbGljay1vdXRzaWRlXG4gIC8vIENocm9tZS9GaXJlZm94IHN1cHBvcnQgaXNUcnVzdGVkIHByb3BlcnR5XG4gIC8vIElFL0VkZ2Ugc3VwcG9ydCBwb2ludGVyVHlwZSBwcm9wZXJ0eSAoZW1wdHkgaWYgbm90IHRyaWdnZXJlZFxuICAvLyBieSBwb2ludGluZyBkZXZpY2UpXG5cbiAgaWYgKCdpc1RydXN0ZWQnIGluIGUgJiYgIWUuaXNUcnVzdGVkIHx8ICdwb2ludGVyVHlwZScgaW4gZSAmJiAhZS5wb2ludGVyVHlwZSkgcmV0dXJuOyAvLyBDaGVjayBpZiBhZGRpdGlvbmFsIGVsZW1lbnRzIHdlcmUgcGFzc2VkIHRvIGJlIGluY2x1ZGVkIGluIGNoZWNrXG4gIC8vIChjbGljayBtdXN0IGJlIG91dHNpZGUgYWxsIGluY2x1ZGVkIGVsZW1lbnRzLCBpZiBhbnkpXG5cbiAgdmFyIGVsZW1lbnRzID0gKGJpbmRpbmcuYXJncy5pbmNsdWRlIHx8IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gW107XG4gIH0pKCk7IC8vIEFkZCB0aGUgcm9vdCBlbGVtZW50IGZvciB0aGUgY29tcG9uZW50IHRoaXMgZGlyZWN0aXZlIHdhcyBkZWZpbmVkIG9uXG5cblxuICBlbGVtZW50cy5wdXNoKGVsKTsgLy8gQ2hlY2sgaWYgaXQncyBhIGNsaWNrIG91dHNpZGUgb3VyIGVsZW1lbnRzLCBhbmQgdGhlbiBpZiBvdXIgY2FsbGJhY2sgcmV0dXJucyB0cnVlLlxuICAvLyBOb24tdG9nZ2xlYWJsZSBjb21wb25lbnRzIHNob3VsZCB0YWtlIGFjdGlvbiBpbiB0aGVpciBjYWxsYmFjayBhbmQgcmV0dXJuIGZhbHN5LlxuICAvLyBUb2dnbGVhYmxlIGNhbiByZXR1cm4gdHJ1ZSBpZiBpdCB3YW50cyB0byBkZWFjdGl2YXRlLlxuICAvLyBOb3RlIHRoYXQsIGJlY2F1c2Ugd2UncmUgaW4gdGhlIGNhcHR1cmUgcGhhc2UsIHRoaXMgY2FsbGJhY2sgd2lsbCBvY2N1ciBiZWZvcmVcbiAgLy8gdGhlIGJ1YmJsaW5nIGNsaWNrIGV2ZW50IG9uIGFueSBvdXRzaWRlIGVsZW1lbnRzLlxuXG4gICFlbGVtZW50cy5zb21lKGZ1bmN0aW9uIChlbCkge1xuICAgIHJldHVybiBlbC5jb250YWlucyhlLnRhcmdldCk7XG4gIH0pICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlzQWN0aXZlKGUpICYmIGJpbmRpbmcudmFsdWUgJiYgYmluZGluZy52YWx1ZShlKTtcbiAgfSwgMCk7XG59XG5cbnZhciBDbGlja091dHNpZGUgPSB7XG4gIC8vIFtkYXRhLWFwcF0gbWF5IG5vdCBiZSBmb3VuZFxuICAvLyBpZiB1c2luZyBiaW5kLCBpbnNlcnRlZCBtYWtlc1xuICAvLyBzdXJlIHRoYXQgdGhlIHJvb3QgZWxlbWVudCBpc1xuICAvLyBhdmFpbGFibGUsIGlPUyBkb2VzIG5vdCBzdXBwb3J0XG4gIC8vIGNsaWNrcyBvbiBib2R5XG4gIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZykge1xuICAgIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlKGUsIGVsLCBiaW5kaW5nKTtcbiAgICB9OyAvLyBpT1MgZG9lcyBub3QgcmVjb2duaXplIGNsaWNrIGV2ZW50cyBvbiBkb2N1bWVudFxuICAgIC8vIG9yIGJvZHksIHRoaXMgaXMgdGhlIGVudGlyZSBwdXJwb3NlIG9mIHRoZSB2LWFwcFxuICAgIC8vIGNvbXBvbmVudCBhbmQgW2RhdGEtYXBwXSwgc3RvcCByZW1vdmluZyB0aGlzXG5cblxuICAgIHZhciBhcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hcHBdJykgfHwgZG9jdW1lbnQuYm9keTsgLy8gVGhpcyBpcyBvbmx5IGZvciB1bml0IHRlc3RzXG5cbiAgICBhcHAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrLCB0cnVlKTtcbiAgICBlbC5fY2xpY2tPdXRzaWRlID0gb25DbGljaztcbiAgfSxcbiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWwpIHtcbiAgICBpZiAoIWVsLl9jbGlja091dHNpZGUpIHJldHVybjtcbiAgICB2YXIgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYXBwXScpIHx8IGRvY3VtZW50LmJvZHk7IC8vIFRoaXMgaXMgb25seSBmb3IgdW5pdCB0ZXN0c1xuXG4gICAgYXBwICYmIGFwcC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGVsLl9jbGlja091dHNpZGUsIHRydWUpO1xuICAgIGRlbGV0ZSBlbC5fY2xpY2tPdXRzaWRlO1xuICB9XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDbGlja091dHNpZGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGlyZWN0aXZlcy9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IENsaWNrT3V0c2lkZSwgSW50ZXJzZWN0LCBNdXRhdGUsIFJlc2l6ZSwgUmlwcGxlLCBTY3JvbGwsIFRvdWNoICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jbGlja19vdXRzaWRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NsaWNrLW91dHNpZGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2NsaWNrLW91dHNpZGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDbGlja091dHNpZGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY2xpY2tfb3V0c2lkZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQ2xpY2tPdXRzaWRlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcnNlY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJzZWN0ICovIFwiLi9zcmMvZGlyZWN0aXZlcy9pbnRlcnNlY3QvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbnRlcnNlY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfaW50ZXJzZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbnRlcnNlY3RcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX211dGF0ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tdXRhdGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL211dGF0ZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk11dGF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9tdXRhdGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIk11dGF0ZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVzaXplX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Jlc2l6ZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUmVzaXplXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3Jlc2l6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiUmVzaXplXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yaXBwbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmlwcGxlICovIFwiLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSaXBwbGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJSaXBwbGVcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Njcm9sbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zY3JvbGwgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3Njcm9sbC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNjcm9sbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9zY3JvbGxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlNjcm9sbFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdG91Y2ggKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3RvdWNoL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVG91Y2hcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdG91Y2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIlRvdWNoXCJdOyB9KTtcblxuXG5cblxuXG5cblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvaW50ZXJzZWN0L2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RpcmVjdGl2ZXMvaW50ZXJzZWN0L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEludGVyc2VjdCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbnRlcnNlY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbnRlcnNlY3Q7IH0pO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHtcbiAgdmFyIG1vZGlmaWVycyA9IGJpbmRpbmcubW9kaWZpZXJzIHx8XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHt9O1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNPYmplY3QgPSBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCc7XG4gIHZhciBjYWxsYmFjayA9IGlzT2JqZWN0ID8gdmFsdWUuaGFuZGxlciA6IHZhbHVlO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMsIG9ic2VydmVyKSB7XG4gICAgaWYgKGVudHJpZXMgPT09IHZvaWQgMCkge1xuICAgICAgZW50cmllcyA9IFtdO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuXG4gICAgaWYgKCFlbC5fb2JzZXJ2ZSkgcmV0dXJuOyAvLyBKdXN0IGluIGNhc2UsIHNob3VsZCBuZXZlciBmaXJlXG4gICAgLy8gSWYgaXMgbm90IHF1aWV0IG9yIGhhcyBhbHJlYWR5IGJlZW5cbiAgICAvLyBpbml0dGVkLCBpbnZva2UgdGhlIHVzZXIgY2FsbGJhY2tcblxuICAgIGlmIChjYWxsYmFjayAmJiAoIW1vZGlmaWVycy5xdWlldCB8fCBlbC5fb2JzZXJ2ZS5pbml0KSkge1xuICAgICAgdmFyIGlzSW50ZXJzZWN0aW5nID0gQm9vbGVhbihlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5pc0ludGVyc2VjdGluZztcbiAgICAgIH0pKTtcbiAgICAgIGNhbGxiYWNrKGVudHJpZXMsIG9ic2VydmVyLCBpc0ludGVyc2VjdGluZyk7XG4gICAgfSAvLyBJZiBoYXMgYWxyZWFkeSBiZWVuIGluaXR0ZWQgYW5kXG4gICAgLy8gaGFzIHRoZSBvbmNlIG1vZGlmaWVyLCB1bmJpbmRcblxuXG4gICAgaWYgKGVsLl9vYnNlcnZlLmluaXQgJiYgbW9kaWZpZXJzLm9uY2UpIHVuYmluZChlbCk7IC8vIE90aGVyd2lzZSwgbWFyayB0aGUgb2JzZXJ2ZXIgYXMgaW5pdHRlZFxuICAgIGVsc2UgZWwuX29ic2VydmUuaW5pdCA9IHRydWU7XG4gIH0sIHZhbHVlLm9wdGlvbnMgfHwge30pO1xuICBlbC5fb2JzZXJ2ZSA9IHtcbiAgICBpbml0OiBmYWxzZSxcbiAgICBvYnNlcnZlcjogb2JzZXJ2ZXJcbiAgfTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG59XG5cbmZ1bmN0aW9uIHVuYmluZChlbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFlbC5fb2JzZXJ2ZSkgcmV0dXJuO1xuXG4gIGVsLl9vYnNlcnZlLm9ic2VydmVyLnVub2JzZXJ2ZShlbCk7XG5cbiAgZGVsZXRlIGVsLl9vYnNlcnZlO1xufVxuXG52YXIgSW50ZXJzZWN0ID0ge1xuICBpbnNlcnRlZDogaW5zZXJ0ZWQsXG4gIHVuYmluZDogdW5iaW5kXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChJbnRlcnNlY3QpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kaXJlY3RpdmVzL211dGF0ZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kaXJlY3RpdmVzL211dGF0ZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBNdXRhdGUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTXV0YXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTXV0YXRlOyB9KTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICB2YXIgdCA9IHt9O1xuXG4gIGZvciAodmFyIHAgaW4gcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIH1cblxuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufTtcblxuZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHtcbiAgdmFyIG1vZGlmaWVycyA9IGJpbmRpbmcubW9kaWZpZXJzIHx8XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHt9O1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNPYmplY3QgPSBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCc7XG4gIHZhciBjYWxsYmFjayA9IGlzT2JqZWN0ID8gdmFsdWUuaGFuZGxlciA6IHZhbHVlO1xuXG4gIHZhciBvbmNlID0gbW9kaWZpZXJzLm9uY2UsXG4gICAgICBtb2RpZmllcktleXMgPSBfX3Jlc3QobW9kaWZpZXJzLCBbXCJvbmNlXCJdKTtcblxuICB2YXIgaGFzTW9kaWZpZXJzID0gT2JqZWN0LmtleXMobW9kaWZpZXJLZXlzKS5sZW5ndGggPiAwO1xuICB2YXIgaGFzT3B0aW9ucyA9IGlzT2JqZWN0ICYmIHZhbHVlLm9wdGlvbnM7IC8vIE9wdGlvbnMgdGFrZSB0b3AgcHJpb3JpdHlcblxuICB2YXIgb3B0aW9ucyA9IGhhc09wdGlvbnMgPyB2YWx1ZS5vcHRpb25zIDogaGFzTW9kaWZpZXJzIC8vIElmIHdlIGhhdmUgbW9kaWZpZXJzLCB1c2Ugb25seSB0aG9zZSBwcm92aWRlZFxuICA/IHtcbiAgICBhdHRyaWJ1dGVzOiBtb2RpZmllcktleXMuYXR0cixcbiAgICBjaGlsZExpc3Q6IG1vZGlmaWVyS2V5cy5jaGlsZCxcbiAgICBzdWJ0cmVlOiBtb2RpZmllcktleXMuc3ViLFxuICAgIGNoYXJhY3RlckRhdGE6IG1vZGlmaWVyS2V5cy5jaGFyIC8vIERlZmF1bHRzIHRvIGV2ZXJ5dGhpbmcgb25cblxuICB9IDoge1xuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9O1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWVsLl9tdXRhdGUpIHJldHVybjsgLy8gSnVzdCBpbiBjYXNlLCBzaG91bGQgbmV2ZXIgZmlyZVxuXG4gICAgY2FsbGJhY2sobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpOyAvLyBJZiBoYXMgdGhlIG9uY2UgbW9kaWZpZXIsIHVuYmluZFxuXG4gICAgb25jZSAmJiB1bmJpbmQoZWwpO1xuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCwgb3B0aW9ucyk7XG4gIGVsLl9tdXRhdGUgPSB7XG4gICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVuYmluZChlbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFlbC5fbXV0YXRlKSByZXR1cm47XG5cbiAgZWwuX211dGF0ZS5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cbiAgZGVsZXRlIGVsLl9tdXRhdGU7XG59XG5cbnZhciBNdXRhdGUgPSB7XG4gIGluc2VydGVkOiBpbnNlcnRlZCxcbiAgdW5iaW5kOiB1bmJpbmRcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE11dGF0ZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFJlc2l6ZSwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZXNpemVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSZXNpemU7IH0pO1xuZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHtcbiAgdmFyIGNhbGxiYWNrID0gYmluZGluZy52YWx1ZTtcbiAgdmFyIG9wdGlvbnMgPSBiaW5kaW5nLm9wdGlvbnMgfHwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgZWwuX29uUmVzaXplID0ge1xuICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH07XG5cbiAgaWYgKCFiaW5kaW5nLm1vZGlmaWVycyB8fCAhYmluZGluZy5tb2RpZmllcnMucXVpZXQpIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuYmluZChlbCkge1xuICBpZiAoIWVsLl9vblJlc2l6ZSkgcmV0dXJuO1xuICB2YXIgX2EgPSBlbC5fb25SZXNpemUsXG4gICAgICBjYWxsYmFjayA9IF9hLmNhbGxiYWNrLFxuICAgICAgb3B0aW9ucyA9IF9hLm9wdGlvbnM7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gIGRlbGV0ZSBlbC5fb25SZXNpemU7XG59XG5cbnZhciBSZXNpemUgPSB7XG4gIGluc2VydGVkOiBpbnNlcnRlZCxcbiAgdW5iaW5kOiB1bmJpbmRcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFJlc2l6ZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmlwcGxlL1ZSaXBwbGUuc2Fzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvVlJpcHBsZS5zYXNzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGlyZWN0aXZlcy9yaXBwbGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogUmlwcGxlLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJpcHBsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFJpcHBsZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSaXBwbGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WUmlwcGxlLnNhc3MgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9WUmlwcGxlLnNhc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZSaXBwbGVfc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9WUmlwcGxlX3Nhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59OyAvLyBTdHlsZXNcblxuXG5cblxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0oZWwsIHZhbHVlKSB7XG4gIGVsLnN0eWxlWyd0cmFuc2Zvcm0nXSA9IHZhbHVlO1xuICBlbC5zdHlsZVsnd2Via2l0VHJhbnNmb3JtJ10gPSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gb3BhY2l0eShlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGVbJ29wYWNpdHknXSA9IHZhbHVlLnRvU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGlzVG91Y2hFdmVudChlKSB7XG4gIHJldHVybiBlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdUb3VjaEV2ZW50Jztcbn1cblxudmFyIGNhbGN1bGF0ZSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZShlLCBlbCwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICB2YWx1ZSA9IHt9O1xuICB9XG5cbiAgdmFyIG9mZnNldCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdGFyZ2V0ID0gaXNUb3VjaEV2ZW50KGUpID8gZS50b3VjaGVzW2UudG91Y2hlcy5sZW5ndGggLSAxXSA6IGU7XG4gIHZhciBsb2NhbFggPSB0YXJnZXQuY2xpZW50WCAtIG9mZnNldC5sZWZ0O1xuICB2YXIgbG9jYWxZID0gdGFyZ2V0LmNsaWVudFkgLSBvZmZzZXQudG9wO1xuICB2YXIgcmFkaXVzID0gMDtcbiAgdmFyIHNjYWxlID0gMC4zO1xuXG4gIGlmIChlbC5fcmlwcGxlICYmIGVsLl9yaXBwbGUuY2lyY2xlKSB7XG4gICAgc2NhbGUgPSAwLjE1O1xuICAgIHJhZGl1cyA9IGVsLmNsaWVudFdpZHRoIC8gMjtcbiAgICByYWRpdXMgPSB2YWx1ZS5jZW50ZXIgPyByYWRpdXMgOiByYWRpdXMgKyBNYXRoLnNxcnQoTWF0aC5wb3cobG9jYWxYIC0gcmFkaXVzLCAyKSArIE1hdGgucG93KGxvY2FsWSAtIHJhZGl1cywgMikpIC8gNDtcbiAgfSBlbHNlIHtcbiAgICByYWRpdXMgPSBNYXRoLnNxcnQoTWF0aC5wb3coZWwuY2xpZW50V2lkdGgsIDIpICsgTWF0aC5wb3coZWwuY2xpZW50SGVpZ2h0LCAyKSkgLyAyO1xuICB9XG5cbiAgdmFyIGNlbnRlclggPSAoZWwuY2xpZW50V2lkdGggLSByYWRpdXMgKiAyKSAvIDIgKyBcInB4XCI7XG4gIHZhciBjZW50ZXJZID0gKGVsLmNsaWVudEhlaWdodCAtIHJhZGl1cyAqIDIpIC8gMiArIFwicHhcIjtcbiAgdmFyIHggPSB2YWx1ZS5jZW50ZXIgPyBjZW50ZXJYIDogbG9jYWxYIC0gcmFkaXVzICsgXCJweFwiO1xuICB2YXIgeSA9IHZhbHVlLmNlbnRlciA/IGNlbnRlclkgOiBsb2NhbFkgLSByYWRpdXMgKyBcInB4XCI7XG4gIHJldHVybiB7XG4gICAgcmFkaXVzOiByYWRpdXMsXG4gICAgc2NhbGU6IHNjYWxlLFxuICAgIHg6IHgsXG4gICAgeTogeSxcbiAgICBjZW50ZXJYOiBjZW50ZXJYLFxuICAgIGNlbnRlclk6IGNlbnRlcllcbiAgfTtcbn07XG5cbnZhciByaXBwbGVzID0ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtc3RhdGVtZW50cyAqL1xuICBzaG93OiBmdW5jdGlvbiBzaG93KGUsIGVsLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YWx1ZSA9IHt9O1xuICAgIH1cblxuICAgIGlmICghZWwuX3JpcHBsZSB8fCAhZWwuX3JpcHBsZS5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB2YXIgYW5pbWF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhbmltYXRpb24pO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAndi1yaXBwbGVfX2NvbnRhaW5lcic7XG5cbiAgICBpZiAodmFsdWUuY2xhc3MpIHtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgKz0gXCIgXCIgKyB2YWx1ZS5jbGFzcztcbiAgICB9XG5cbiAgICB2YXIgX2EgPSBjYWxjdWxhdGUoZSwgZWwsIHZhbHVlKSxcbiAgICAgICAgcmFkaXVzID0gX2EucmFkaXVzLFxuICAgICAgICBzY2FsZSA9IF9hLnNjYWxlLFxuICAgICAgICB4ID0gX2EueCxcbiAgICAgICAgeSA9IF9hLnksXG4gICAgICAgIGNlbnRlclggPSBfYS5jZW50ZXJYLFxuICAgICAgICBjZW50ZXJZID0gX2EuY2VudGVyWTtcblxuICAgIHZhciBzaXplID0gcmFkaXVzICogMiArIFwicHhcIjtcbiAgICBhbmltYXRpb24uY2xhc3NOYW1lID0gJ3YtcmlwcGxlX19hbmltYXRpb24nO1xuICAgIGFuaW1hdGlvbi5zdHlsZS53aWR0aCA9IHNpemU7XG4gICAgYW5pbWF0aW9uLnN0eWxlLmhlaWdodCA9IHNpemU7XG4gICAgZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG5cbiAgICBpZiAoY29tcHV0ZWQgJiYgY29tcHV0ZWQucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICBlbC5kYXRhc2V0LnByZXZpb3VzUG9zaXRpb24gPSAnc3RhdGljJztcbiAgICB9XG5cbiAgICBhbmltYXRpb24uY2xhc3NMaXN0LmFkZCgndi1yaXBwbGVfX2FuaW1hdGlvbi0tZW50ZXInKTtcbiAgICBhbmltYXRpb24uY2xhc3NMaXN0LmFkZCgndi1yaXBwbGVfX2FuaW1hdGlvbi0tdmlzaWJsZScpO1xuICAgIHRyYW5zZm9ybShhbmltYXRpb24sIFwidHJhbnNsYXRlKFwiICsgeCArIFwiLCBcIiArIHkgKyBcIikgc2NhbGUzZChcIiArIHNjYWxlICsgXCIsXCIgKyBzY2FsZSArIFwiLFwiICsgc2NhbGUgKyBcIilcIik7XG4gICAgb3BhY2l0eShhbmltYXRpb24sIDApO1xuICAgIGFuaW1hdGlvbi5kYXRhc2V0LmFjdGl2YXRlZCA9IFN0cmluZyhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhbmltYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgndi1yaXBwbGVfX2FuaW1hdGlvbi0tZW50ZXInKTtcbiAgICAgIGFuaW1hdGlvbi5jbGFzc0xpc3QuYWRkKCd2LXJpcHBsZV9fYW5pbWF0aW9uLS1pbicpO1xuICAgICAgdHJhbnNmb3JtKGFuaW1hdGlvbiwgXCJ0cmFuc2xhdGUoXCIgKyBjZW50ZXJYICsgXCIsIFwiICsgY2VudGVyWSArIFwiKSBzY2FsZTNkKDEsMSwxKVwiKTtcbiAgICAgIG9wYWNpdHkoYW5pbWF0aW9uLCAwLjI1KTtcbiAgICB9LCAwKTtcbiAgfSxcbiAgaGlkZTogZnVuY3Rpb24gaGlkZShlbCkge1xuICAgIGlmICghZWwgfHwgIWVsLl9yaXBwbGUgfHwgIWVsLl9yaXBwbGUuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciByaXBwbGVzID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndi1yaXBwbGVfX2FuaW1hdGlvbicpO1xuICAgIGlmIChyaXBwbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHZhciBhbmltYXRpb24gPSByaXBwbGVzW3JpcHBsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGFuaW1hdGlvbi5kYXRhc2V0LmlzSGlkaW5nKSByZXR1cm47ZWxzZSBhbmltYXRpb24uZGF0YXNldC5pc0hpZGluZyA9ICd0cnVlJztcbiAgICB2YXIgZGlmZiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gTnVtYmVyKGFuaW1hdGlvbi5kYXRhc2V0LmFjdGl2YXRlZCk7XG4gICAgdmFyIGRlbGF5ID0gTWF0aC5tYXgoMjUwIC0gZGlmZiwgMCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhbmltYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgndi1yaXBwbGVfX2FuaW1hdGlvbi0taW4nKTtcbiAgICAgIGFuaW1hdGlvbi5jbGFzc0xpc3QuYWRkKCd2LXJpcHBsZV9fYW5pbWF0aW9uLS1vdXQnKTtcbiAgICAgIG9wYWNpdHkoYW5pbWF0aW9uLCAwKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmlwcGxlcyA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3YtcmlwcGxlX19hbmltYXRpb24nKTtcblxuICAgICAgICBpZiAocmlwcGxlcy5sZW5ndGggPT09IDEgJiYgZWwuZGF0YXNldC5wcmV2aW91c1Bvc2l0aW9uKSB7XG4gICAgICAgICAgZWwuc3R5bGUucG9zaXRpb24gPSBlbC5kYXRhc2V0LnByZXZpb3VzUG9zaXRpb247XG4gICAgICAgICAgZGVsZXRlIGVsLmRhdGFzZXQucHJldmlvdXNQb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbi5wYXJlbnROb2RlICYmIGVsLnJlbW92ZUNoaWxkKGFuaW1hdGlvbi5wYXJlbnROb2RlKTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfSwgZGVsYXkpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBpc1JpcHBsZUVuYWJsZWQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgISF2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmlwcGxlU2hvdyhlKSB7XG4gIHZhciB2YWx1ZSA9IHt9O1xuICB2YXIgZWxlbWVudCA9IGUuY3VycmVudFRhcmdldDtcbiAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50Ll9yaXBwbGUgfHwgZWxlbWVudC5fcmlwcGxlLnRvdWNoZWQpIHJldHVybjtcblxuICBpZiAoaXNUb3VjaEV2ZW50KGUpKSB7XG4gICAgZWxlbWVudC5fcmlwcGxlLnRvdWNoZWQgPSB0cnVlO1xuICAgIGVsZW1lbnQuX3JpcHBsZS5pc1RvdWNoID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0b3VjaCBldmVudHMgdG8gZmlyZVxuICAgIC8vIGFzIG1vdXNlIGV2ZW50cyBvbiBBbmRyb2lkL2lPUywgdGhpc1xuICAgIC8vIHdpbGwgc2tpcCB0aGUgZXZlbnQgY2FsbCBpZiBpdCBoYXNcbiAgICAvLyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBhcyB0b3VjaFxuICAgIGlmIChlbGVtZW50Ll9yaXBwbGUuaXNUb3VjaCkgcmV0dXJuO1xuICB9XG5cbiAgdmFsdWUuY2VudGVyID0gZWxlbWVudC5fcmlwcGxlLmNlbnRlcmVkO1xuXG4gIGlmIChlbGVtZW50Ll9yaXBwbGUuY2xhc3MpIHtcbiAgICB2YWx1ZS5jbGFzcyA9IGVsZW1lbnQuX3JpcHBsZS5jbGFzcztcbiAgfVxuXG4gIHJpcHBsZXMuc2hvdyhlLCBlbGVtZW50LCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHJpcHBsZUhpZGUoZSkge1xuICB2YXIgZWxlbWVudCA9IGUuY3VycmVudFRhcmdldDtcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWxlbWVudC5fcmlwcGxlKSB7XG4gICAgICBlbGVtZW50Ll9yaXBwbGUudG91Y2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHJpcHBsZXMuaGlkZShlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUmlwcGxlKGVsLCBiaW5kaW5nLCB3YXNFbmFibGVkKSB7XG4gIHZhciBlbmFibGVkID0gaXNSaXBwbGVFbmFibGVkKGJpbmRpbmcudmFsdWUpO1xuXG4gIGlmICghZW5hYmxlZCkge1xuICAgIHJpcHBsZXMuaGlkZShlbCk7XG4gIH1cblxuICBlbC5fcmlwcGxlID0gZWwuX3JpcHBsZSB8fCB7fTtcbiAgZWwuX3JpcHBsZS5lbmFibGVkID0gZW5hYmxlZDtcbiAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZSB8fCB7fTtcblxuICBpZiAodmFsdWUuY2VudGVyKSB7XG4gICAgZWwuX3JpcHBsZS5jZW50ZXJlZCA9IHRydWU7XG4gIH1cblxuICBpZiAodmFsdWUuY2xhc3MpIHtcbiAgICBlbC5fcmlwcGxlLmNsYXNzID0gYmluZGluZy52YWx1ZS5jbGFzcztcbiAgfVxuXG4gIGlmICh2YWx1ZS5jaXJjbGUpIHtcbiAgICBlbC5fcmlwcGxlLmNpcmNsZSA9IHZhbHVlLmNpcmNsZTtcbiAgfVxuXG4gIGlmIChlbmFibGVkICYmICF3YXNFbmFibGVkKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHJpcHBsZVNob3csIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHJpcHBsZUhpZGUsIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHJpcHBsZUhpZGUpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHJpcHBsZVNob3cpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCByaXBwbGVIaWRlKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgcmlwcGxlSGlkZSk7IC8vIEFuY2hvciB0YWdzIGNhbiBiZSBkcmFnZ2VkLCBjYXVzZXMgb3RoZXIgaGlkZXMgdG8gZmFpbCAtICMxNTM3XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCByaXBwbGVIaWRlLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgd2FzRW5hYmxlZCkge1xuICAgIHJlbW92ZUxpc3RlbmVycyhlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGVsKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHJpcHBsZVNob3cpO1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcmlwcGxlSGlkZSk7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcmlwcGxlSGlkZSk7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgcmlwcGxlSGlkZSk7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCByaXBwbGVIaWRlKTtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHJpcHBsZUhpZGUpO1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCByaXBwbGVIaWRlKTtcbn1cblxuZnVuY3Rpb24gZGlyZWN0aXZlKGVsLCBiaW5kaW5nLCBub2RlKSB7XG4gIHVwZGF0ZVJpcHBsZShlbCwgYmluZGluZywgZmFsc2UpO1xuXG4gIGlmICh0cnVlKSB7XG4gICAgLy8gd2FybiBpZiBhbiBpbmxpbmUgZWxlbWVudCBpcyB1c2VkLCB3YWl0aW5nIGZvciBlbCB0byBiZSBpbiB0aGUgRE9NIGZpcnN0XG4gICAgbm9kZS5jb250ZXh0ICYmIG5vZGUuY29udGV4dC4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuXG4gICAgICBpZiAoY29tcHV0ZWQgJiYgY29tcHV0ZWQuZGlzcGxheSA9PT0gJ2lubGluZScpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBub2RlLmZuT3B0aW9ucyA/IFtub2RlLmZuT3B0aW9ucywgbm9kZS5jb250ZXh0XSA6IFtub2RlLmNvbXBvbmVudEluc3RhbmNlXTtcbiAgICAgICAgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29uc29sZVdhcm5cIl0uYXBwbHkodm9pZCAwLCBfX3NwcmVhZChbJ3YtcmlwcGxlIGNhbiBvbmx5IGJlIHVzZWQgb24gYmxvY2stbGV2ZWwgZWxlbWVudHMnXSwgY29udGV4dCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuYmluZChlbCkge1xuICBkZWxldGUgZWwuX3JpcHBsZTtcbiAgcmVtb3ZlTGlzdGVuZXJzKGVsKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKGVsLCBiaW5kaW5nKSB7XG4gIGlmIChiaW5kaW5nLnZhbHVlID09PSBiaW5kaW5nLm9sZFZhbHVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHdhc0VuYWJsZWQgPSBpc1JpcHBsZUVuYWJsZWQoYmluZGluZy5vbGRWYWx1ZSk7XG4gIHVwZGF0ZVJpcHBsZShlbCwgYmluZGluZywgd2FzRW5hYmxlZCk7XG59XG5cbnZhciBSaXBwbGUgPSB7XG4gIGJpbmQ6IGRpcmVjdGl2ZSxcbiAgdW5iaW5kOiB1bmJpbmQsXG4gIHVwZGF0ZTogdXBkYXRlXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChSaXBwbGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3Njcm9sbC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kaXJlY3RpdmVzL3Njcm9sbC9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBTY3JvbGwsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU2Nyb2xsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2Nyb2xsOyB9KTtcbmZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7XG4gIHZhciBjYWxsYmFjayA9IGJpbmRpbmcudmFsdWU7XG4gIHZhciBvcHRpb25zID0gYmluZGluZy5vcHRpb25zIHx8IHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH07XG4gIHZhciB0YXJnZXQgPSBiaW5kaW5nLmFyZyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmluZGluZy5hcmcpIDogd2luZG93O1xuICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICBlbC5fb25TY3JvbGwgPSB7XG4gICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgdGFyZ2V0OiB0YXJnZXRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdW5iaW5kKGVsKSB7XG4gIGlmICghZWwuX29uU2Nyb2xsKSByZXR1cm47XG4gIHZhciBfYSA9IGVsLl9vblNjcm9sbCxcbiAgICAgIGNhbGxiYWNrID0gX2EuY2FsbGJhY2ssXG4gICAgICBvcHRpb25zID0gX2Eub3B0aW9ucyxcbiAgICAgIHRhcmdldCA9IF9hLnRhcmdldDtcbiAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgZGVsZXRlIGVsLl9vblNjcm9sbDtcbn1cblxudmFyIFNjcm9sbCA9IHtcbiAgaW5zZXJ0ZWQ6IGluc2VydGVkLFxuICB1bmJpbmQ6IHVuYmluZFxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoU2Nyb2xsKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGlyZWN0aXZlcy90b3VjaC9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RpcmVjdGl2ZXMvdG91Y2gvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBUb3VjaCwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUb3VjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRvdWNoOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG5cblxudmFyIGhhbmRsZUdlc3R1cmUgPSBmdW5jdGlvbiBoYW5kbGVHZXN0dXJlKHdyYXBwZXIpIHtcbiAgdmFyIHRvdWNoc3RhcnRYID0gd3JhcHBlci50b3VjaHN0YXJ0WCxcbiAgICAgIHRvdWNoZW5kWCA9IHdyYXBwZXIudG91Y2hlbmRYLFxuICAgICAgdG91Y2hzdGFydFkgPSB3cmFwcGVyLnRvdWNoc3RhcnRZLFxuICAgICAgdG91Y2hlbmRZID0gd3JhcHBlci50b3VjaGVuZFk7XG4gIHZhciBkaXJSYXRpbyA9IDAuNTtcbiAgdmFyIG1pbkRpc3RhbmNlID0gMTY7XG4gIHdyYXBwZXIub2Zmc2V0WCA9IHRvdWNoZW5kWCAtIHRvdWNoc3RhcnRYO1xuICB3cmFwcGVyLm9mZnNldFkgPSB0b3VjaGVuZFkgLSB0b3VjaHN0YXJ0WTtcblxuICBpZiAoTWF0aC5hYnMod3JhcHBlci5vZmZzZXRZKSA8IGRpclJhdGlvICogTWF0aC5hYnMod3JhcHBlci5vZmZzZXRYKSkge1xuICAgIHdyYXBwZXIubGVmdCAmJiB0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCAtIG1pbkRpc3RhbmNlICYmIHdyYXBwZXIubGVmdCh3cmFwcGVyKTtcbiAgICB3cmFwcGVyLnJpZ2h0ICYmIHRvdWNoZW5kWCA+IHRvdWNoc3RhcnRYICsgbWluRGlzdGFuY2UgJiYgd3JhcHBlci5yaWdodCh3cmFwcGVyKTtcbiAgfVxuXG4gIGlmIChNYXRoLmFicyh3cmFwcGVyLm9mZnNldFgpIDwgZGlyUmF0aW8gKiBNYXRoLmFicyh3cmFwcGVyLm9mZnNldFkpKSB7XG4gICAgd3JhcHBlci51cCAmJiB0b3VjaGVuZFkgPCB0b3VjaHN0YXJ0WSAtIG1pbkRpc3RhbmNlICYmIHdyYXBwZXIudXAod3JhcHBlcik7XG4gICAgd3JhcHBlci5kb3duICYmIHRvdWNoZW5kWSA+IHRvdWNoc3RhcnRZICsgbWluRGlzdGFuY2UgJiYgd3JhcHBlci5kb3duKHdyYXBwZXIpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfdG91Y2hzdGFydChldmVudCwgd3JhcHBlcikge1xuICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgd3JhcHBlci50b3VjaHN0YXJ0WCA9IHRvdWNoLmNsaWVudFg7XG4gIHdyYXBwZXIudG91Y2hzdGFydFkgPSB0b3VjaC5jbGllbnRZO1xuICB3cmFwcGVyLnN0YXJ0ICYmIHdyYXBwZXIuc3RhcnQoT2JqZWN0LmFzc2lnbihldmVudCwgd3JhcHBlcikpO1xufVxuXG5mdW5jdGlvbiBfdG91Y2hlbmQoZXZlbnQsIHdyYXBwZXIpIHtcbiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gIHdyYXBwZXIudG91Y2hlbmRYID0gdG91Y2guY2xpZW50WDtcbiAgd3JhcHBlci50b3VjaGVuZFkgPSB0b3VjaC5jbGllbnRZO1xuICB3cmFwcGVyLmVuZCAmJiB3cmFwcGVyLmVuZChPYmplY3QuYXNzaWduKGV2ZW50LCB3cmFwcGVyKSk7XG4gIGhhbmRsZUdlc3R1cmUod3JhcHBlcik7XG59XG5cbmZ1bmN0aW9uIF90b3VjaG1vdmUoZXZlbnQsIHdyYXBwZXIpIHtcbiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gIHdyYXBwZXIudG91Y2htb3ZlWCA9IHRvdWNoLmNsaWVudFg7XG4gIHdyYXBwZXIudG91Y2htb3ZlWSA9IHRvdWNoLmNsaWVudFk7XG4gIHdyYXBwZXIubW92ZSAmJiB3cmFwcGVyLm1vdmUoT2JqZWN0LmFzc2lnbihldmVudCwgd3JhcHBlcikpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIYW5kbGVycyh2YWx1ZSkge1xuICB2YXIgd3JhcHBlciA9IHtcbiAgICB0b3VjaHN0YXJ0WDogMCxcbiAgICB0b3VjaHN0YXJ0WTogMCxcbiAgICB0b3VjaGVuZFg6IDAsXG4gICAgdG91Y2hlbmRZOiAwLFxuICAgIHRvdWNobW92ZVg6IDAsXG4gICAgdG91Y2htb3ZlWTogMCxcbiAgICBvZmZzZXRYOiAwLFxuICAgIG9mZnNldFk6IDAsXG4gICAgbGVmdDogdmFsdWUubGVmdCxcbiAgICByaWdodDogdmFsdWUucmlnaHQsXG4gICAgdXA6IHZhbHVlLnVwLFxuICAgIGRvd246IHZhbHVlLmRvd24sXG4gICAgc3RhcnQ6IHZhbHVlLnN0YXJ0LFxuICAgIG1vdmU6IHZhbHVlLm1vdmUsXG4gICAgZW5kOiB2YWx1ZS5lbmRcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGUpIHtcbiAgICAgIHJldHVybiBfdG91Y2hzdGFydChlLCB3cmFwcGVyKTtcbiAgICB9LFxuICAgIHRvdWNoZW5kOiBmdW5jdGlvbiB0b3VjaGVuZChlKSB7XG4gICAgICByZXR1cm4gX3RvdWNoZW5kKGUsIHdyYXBwZXIpO1xuICAgIH0sXG4gICAgdG91Y2htb3ZlOiBmdW5jdGlvbiB0b3VjaG1vdmUoZSkge1xuICAgICAgcmV0dXJuIF90b3VjaG1vdmUoZSwgd3JhcHBlcik7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTtcbiAgdmFyIHRhcmdldCA9IHZhbHVlLnBhcmVudCA/IGVsLnBhcmVudEVsZW1lbnQgOiBlbDtcbiAgdmFyIG9wdGlvbnMgPSB2YWx1ZS5vcHRpb25zIHx8IHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH07IC8vIE5lZWRlZCB0byBwYXNzIHVuaXQgdGVzdHNcblxuICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICB2YXIgaGFuZGxlcnMgPSBjcmVhdGVIYW5kbGVycyhiaW5kaW5nLnZhbHVlKTtcbiAgdGFyZ2V0Ll90b3VjaEhhbmRsZXJzID0gT2JqZWN0KHRhcmdldC5fdG91Y2hIYW5kbGVycyk7XG4gIHRhcmdldC5fdG91Y2hIYW5kbGVyc1t2bm9kZS5jb250ZXh0Ll91aWRdID0gaGFuZGxlcnM7XG4gIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJrZXlzXCJdKShoYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyc1tldmVudE5hbWVdLCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVuYmluZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgdmFyIHRhcmdldCA9IGJpbmRpbmcudmFsdWUucGFyZW50ID8gZWwucGFyZW50RWxlbWVudCA6IGVsO1xuICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Ll90b3VjaEhhbmRsZXJzKSByZXR1cm47XG4gIHZhciBoYW5kbGVycyA9IHRhcmdldC5fdG91Y2hIYW5kbGVyc1t2bm9kZS5jb250ZXh0Ll91aWRdO1xuICBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wia2V5c1wiXSkoaGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcnNbZXZlbnROYW1lXSk7XG4gIH0pO1xuICBkZWxldGUgdGFyZ2V0Ll90b3VjaEhhbmRsZXJzW3Zub2RlLmNvbnRleHQuX3VpZF07XG59XG5cbnZhciBUb3VjaCA9IHtcbiAgaW5zZXJ0ZWQ6IGluc2VydGVkLFxuICB1bmJpbmQ6IHVuYmluZFxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoVG91Y2gpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mcmFtZXdvcmsudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZyYW1ld29yay50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW5zdGFsbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnN0YWxsICovIFwiLi9zcmMvaW5zdGFsbC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2VydmljZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2VydmljZXMgKi8gXCIuL3NyYy9zZXJ2aWNlcy9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3R5bGVzX21haW5fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdHlsZXMvbWFpbi5zYXNzICovIFwiLi9zcmMvc3R5bGVzL21haW4uc2Fzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3R5bGVzX21haW5fc2Fzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zdHlsZXNfbWFpbl9zYXNzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuIC8vIFNlcnZpY2VzXG5cbiAvLyBTdHlsZXNcblxuXG5cbnZhciBWdWV0aWZ5ID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVnVldGlmeShwcmVzZXQpIHtcbiAgICBpZiAocHJlc2V0ID09PSB2b2lkIDApIHtcbiAgICAgIHByZXNldCA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuZnJhbWV3b3JrID0ge307XG4gICAgdGhpcy5pbnN0YWxsZWQgPSBbXTtcbiAgICB0aGlzLnByZXNldCA9IHt9O1xuICAgIHRoaXMucHJlc2V0ID0gcHJlc2V0O1xuICAgIHRoaXMudXNlKF9zZXJ2aWNlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQXBwbGljYXRpb25cIl0pO1xuICAgIHRoaXMudXNlKF9zZXJ2aWNlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQnJlYWtwb2ludFwiXSk7XG4gICAgdGhpcy51c2UoX3NlcnZpY2VzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJHb3RvXCJdKTtcbiAgICB0aGlzLnVzZShfc2VydmljZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkljb25zXCJdKTtcbiAgICB0aGlzLnVzZShfc2VydmljZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkxhbmdcIl0pO1xuICAgIHRoaXMudXNlKF9zZXJ2aWNlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGhlbWVcIl0pO1xuICB9IC8vIENhbGxlZCBvbiB0aGUgbmV3IHZ1ZXRpZnkgaW5zdGFuY2VcbiAgLy8gYm9vdHN0cmFwIGluIGluc3RhbGwgYmVmb3JlQ3JlYXRlXG4gIC8vIEV4cG9zZXMgc3NyQ29udGV4dCBpZiBhdmFpbGFibGVcblxuXG4gIFZ1ZXRpZnkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAocm9vdCwgc3NyQ29udGV4dCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLmluc3RhbGxlZC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgdmFyIHNlcnZpY2UgPSBfdGhpcy5mcmFtZXdvcmtbcHJvcGVydHldO1xuICAgICAgc2VydmljZS5mcmFtZXdvcmsgPSBfdGhpcy5mcmFtZXdvcms7XG4gICAgICBzZXJ2aWNlLmluaXQocm9vdCwgc3NyQ29udGV4dCk7XG4gICAgfSk7IC8vIHJ0bCBpcyBub3QgaW5zdGFsbGVkIGFuZFxuICAgIC8vIHdpbGwgbmV2ZXIgYmUgY2FsbGVkIGJ5XG4gICAgLy8gdGhlIGluaXQgcHJvY2Vzc1xuXG4gICAgdGhpcy5mcmFtZXdvcmsucnRsID0gQm9vbGVhbih0aGlzLnByZXNldC5ydGwpO1xuICB9OyAvLyBJbnN0YW50aWF0ZSBhIFZ1ZXRpZnlTZXJ2aWNlXG5cblxuICBWdWV0aWZ5LnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAoU2VydmljZSkge1xuICAgIHZhciBwcm9wZXJ0eSA9IFNlcnZpY2UucHJvcGVydHk7XG4gICAgaWYgKHRoaXMuaW5zdGFsbGVkLmluY2x1ZGVzKHByb3BlcnR5KSkgcmV0dXJuO1xuICAgIHRoaXMuZnJhbWV3b3JrW3Byb3BlcnR5XSA9IG5ldyBTZXJ2aWNlKHRoaXMucHJlc2V0W3Byb3BlcnR5XSk7XG4gICAgdGhpcy5pbnN0YWxsZWQucHVzaChwcm9wZXJ0eSk7XG4gIH07XG5cbiAgVnVldGlmeS5pbnN0YWxsID0gX2luc3RhbGxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImluc3RhbGxcIl07XG4gIFZ1ZXRpZnkuaW5zdGFsbGVkID0gZmFsc2U7XG4gIFZ1ZXRpZnkudmVyc2lvbiA9IFwiMi4xLjExXCI7XG4gIHJldHVybiBWdWV0aWZ5O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFZ1ZXRpZnkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMgKi8gXCIuL3NyYy9jb21wb25lbnRzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RpcmVjdGl2ZXMgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9mcmFtZXdvcmtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZnJhbWV3b3JrICovIFwiLi9zcmMvZnJhbWV3b3JrLnRzXCIpO1xudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChfZnJhbWV3b3JrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKTtcbnZhciBpbnN0YWxsID0gX2ZyYW1ld29ya19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5pbnN0YWxsO1xuXG5fZnJhbWV3b3JrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlLCBhcmdzKSB7XG4gIGluc3RhbGwuY2FsbChfZnJhbWV3b3JrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCBWdWUsIF9fYXNzaWduKHtcbiAgICBjb21wb25lbnRzOiBfY29tcG9uZW50c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLFxuICAgIGRpcmVjdGl2ZXM6IF9kaXJlY3RpdmVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19cbiAgfSwgYXJncykpO1xufTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcbiAgd2luZG93LlZ1ZS51c2UoX2ZyYW1ld29ya19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2luc3RhbGwudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9pbnN0YWxsLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogaW5zdGFsbCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnN0YWxsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5zdGFsbDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuXG5cbmZ1bmN0aW9uIGluc3RhbGwoVnVlLCBhcmdzKSB7XG4gIGlmIChhcmdzID09PSB2b2lkIDApIHtcbiAgICBhcmdzID0ge307XG4gIH1cblxuICBpZiAoaW5zdGFsbC5pbnN0YWxsZWQpIHJldHVybjtcbiAgaW5zdGFsbC5pbnN0YWxsZWQgPSB0cnVlO1xuXG4gIGlmICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEgIT09IFZ1ZSkge1xuICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25zb2xlRXJyb3JcIl0pKCdNdWx0aXBsZSBpbnN0YW5jZXMgb2YgVnVlIGRldGVjdGVkXFxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWV0aWZ5anMvdnVldGlmeS9pc3N1ZXMvNDA2OFxcblxcbklmIHlvdVxcJ3JlIHNlZWluZyBcIiRhdHRycyBpcyByZWFkb25seVwiLCBpdFxcJ3MgY2F1c2VkIGJ5IHRoaXMnKTtcbiAgfVxuXG4gIHZhciBjb21wb25lbnRzID0gYXJncy5jb21wb25lbnRzIHx8IHt9O1xuICB2YXIgZGlyZWN0aXZlcyA9IGFyZ3MuZGlyZWN0aXZlcyB8fCB7fTtcblxuICBmb3IgKHZhciBuYW1lIGluIGRpcmVjdGl2ZXMpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tuYW1lXTtcbiAgICBWdWUuZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSk7XG4gIH1cblxuICAoZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgICBpZiAoY29tcG9uZW50cykge1xuICAgICAgZm9yICh2YXIga2V5IGluIGNvbXBvbmVudHMpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGNvbXBvbmVudHNba2V5XTtcblxuICAgICAgICBpZiAoY29tcG9uZW50ICYmICFyZWdpc3RlckNvbXBvbmVudHMoY29tcG9uZW50LiRfdnVldGlmeV9zdWJjb21wb25lbnRzKSkge1xuICAgICAgICAgIFZ1ZS5jb21wb25lbnQoa2V5LCBjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSkoY29tcG9uZW50cyk7IC8vIFVzZWQgdG8gYXZvaWQgbXVsdGlwbGUgbWl4aW5zIGJlaW5nIHNldHVwXG4gIC8vIHdoZW4gaW4gZGV2IG1vZGUgYW5kIGhvdCBtb2R1bGUgcmVsb2FkXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvaXNzdWVzLzUwODkjaXNzdWVjb21tZW50LTI4NDI2MDExMVxuXG5cbiAgaWYgKFZ1ZS4kX3Z1ZXRpZnlfaW5zdGFsbGVkKSByZXR1cm47XG4gIFZ1ZS4kX3Z1ZXRpZnlfaW5zdGFsbGVkID0gdHJ1ZTtcbiAgVnVlLm1peGluKHtcbiAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcblxuICAgICAgaWYgKG9wdGlvbnMudnVldGlmeSkge1xuICAgICAgICBvcHRpb25zLnZ1ZXRpZnkuaW5pdCh0aGlzLCBvcHRpb25zLnNzckNvbnRleHQpO1xuICAgICAgICB0aGlzLiR2dWV0aWZ5ID0gVnVlLm9ic2VydmFibGUob3B0aW9ucy52dWV0aWZ5LmZyYW1ld29yayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiR2dWV0aWZ5ID0gb3B0aW9ucy5wYXJlbnQgJiYgb3B0aW9ucy5wYXJlbnQuJHZ1ZXRpZnkgfHwgdGhpcztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9sb2NhbGUvZW4udHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvY2FsZS9lbi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBjbG9zZTogJ0Nsb3NlJyxcbiAgZGF0YUl0ZXJhdG9yOiB7XG4gICAgbm9SZXN1bHRzVGV4dDogJ05vIG1hdGNoaW5nIHJlY29yZHMgZm91bmQnLFxuICAgIGxvYWRpbmdUZXh0OiAnTG9hZGluZyBpdGVtcy4uLidcbiAgfSxcbiAgZGF0YVRhYmxlOiB7XG4gICAgaXRlbXNQZXJQYWdlVGV4dDogJ1Jvd3MgcGVyIHBhZ2U6JyxcbiAgICBhcmlhTGFiZWw6IHtcbiAgICAgIHNvcnREZXNjZW5kaW5nOiAnOiBTb3J0ZWQgZGVzY2VuZGluZy4gQWN0aXZhdGUgdG8gcmVtb3ZlIHNvcnRpbmcuJyxcbiAgICAgIHNvcnRBc2NlbmRpbmc6ICc6IFNvcnRlZCBhc2NlbmRpbmcuIEFjdGl2YXRlIHRvIHNvcnQgZGVzY2VuZGluZy4nLFxuICAgICAgc29ydE5vbmU6ICc6IE5vdCBzb3J0ZWQuIEFjdGl2YXRlIHRvIHNvcnQgYXNjZW5kaW5nLidcbiAgICB9LFxuICAgIHNvcnRCeTogJ1NvcnQgYnknXG4gIH0sXG4gIGRhdGFGb290ZXI6IHtcbiAgICBpdGVtc1BlclBhZ2VUZXh0OiAnSXRlbXMgcGVyIHBhZ2U6JyxcbiAgICBpdGVtc1BlclBhZ2VBbGw6ICdBbGwnLFxuICAgIG5leHRQYWdlOiAnTmV4dCBwYWdlJyxcbiAgICBwcmV2UGFnZTogJ1ByZXZpb3VzIHBhZ2UnLFxuICAgIGZpcnN0UGFnZTogJ0ZpcnN0IHBhZ2UnLFxuICAgIGxhc3RQYWdlOiAnTGFzdCBwYWdlJyxcbiAgICBwYWdlVGV4dDogJ3swfS17MX0gb2YgezJ9J1xuICB9LFxuICBkYXRlUGlja2VyOiB7XG4gICAgaXRlbXNTZWxlY3RlZDogJ3swfSBzZWxlY3RlZCdcbiAgfSxcbiAgbm9EYXRhVGV4dDogJ05vIGRhdGEgYXZhaWxhYmxlJyxcbiAgY2Fyb3VzZWw6IHtcbiAgICBwcmV2OiAnUHJldmlvdXMgdmlzdWFsJyxcbiAgICBuZXh0OiAnTmV4dCB2aXN1YWwnLFxuICAgIGFyaWFMYWJlbDoge1xuICAgICAgZGVsaW1pdGVyOiAnQ2Fyb3VzZWwgc2xpZGUgezB9IG9mIHsxfSdcbiAgICB9XG4gIH0sXG4gIGNhbGVuZGFyOiB7XG4gICAgbW9yZUV2ZW50czogJ3swfSBtb3JlJ1xuICB9LFxuICBmaWxlSW5wdXQ6IHtcbiAgICBjb3VudGVyOiAnezB9IGZpbGVzJyxcbiAgICBjb3VudGVyU2l6ZTogJ3swfSBmaWxlcyAoezF9IGluIHRvdGFsKSdcbiAgfSxcbiAgdGltZVBpY2tlcjoge1xuICAgIGFtOiAnQU0nLFxuICAgIHBtOiAnUE0nXG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvYWN0aXZhdGFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy9hY3RpdmF0YWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGVsYXlhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZWxheWFibGUgKi8gXCIuL3NyYy9taXhpbnMvZGVsYXlhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90b2dnbGVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90b2dnbGVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RvZ2dsZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgX192YWx1ZXMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fdmFsdWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSxcbiAgICAgIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBvICYmIG9baSsrXSxcbiAgICAgICAgZG9uZTogIW9cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTsgLy8gTWl4aW5zXG5cblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX2RlbGF5YWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSwgX3RvZ2dsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChiYXNlTWl4aW5zLmV4dGVuZCh7XG4gIG5hbWU6ICdhY3RpdmF0YWJsZScsXG4gIHByb3BzOiB7XG4gICAgYWN0aXZhdG9yOiB7XG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIHJldHVybiBbJ3N0cmluZycsICdvYmplY3QnXS5pbmNsdWRlcyhfdHlwZW9mKHZhbCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgaW50ZXJuYWxBY3RpdmF0b3I6IEJvb2xlYW4sXG4gICAgb3Blbk9uSG92ZXI6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gRG8gbm90IHVzZSB0aGlzIGRpcmVjdGx5LCBjYWxsIGdldEFjdGl2YXRvcigpIGluc3RlYWRcbiAgICAgIGFjdGl2YXRvckVsZW1lbnQ6IG51bGwsXG4gICAgICBhY3RpdmF0b3JOb2RlOiBbXSxcbiAgICAgIGV2ZW50czogWydjbGljaycsICdtb3VzZWVudGVyJywgJ21vdXNlbGVhdmUnXSxcbiAgICAgIGxpc3RlbmVyczoge31cbiAgICB9O1xuICB9LFxuICB3YXRjaDoge1xuICAgIGFjdGl2YXRvcjogJ3Jlc2V0QWN0aXZhdG9yJyxcbiAgICBvcGVuT25Ib3ZlcjogJ3Jlc2V0QWN0aXZhdG9yJ1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHZhciBzbG90VHlwZSA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRTbG90VHlwZVwiXSkodGhpcywgJ2FjdGl2YXRvcicsIHRydWUpO1xuXG4gICAgaWYgKHNsb3RUeXBlICYmIFsndi1zbG90JywgJ25vcm1hbCddLmluY2x1ZGVzKHNsb3RUeXBlKSkge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbnNvbGVFcnJvclwiXSkoXCJUaGUgYWN0aXZhdG9yIHNsb3QgbXVzdCBiZSBib3VuZCwgdHJ5ICc8dGVtcGxhdGUgdi1zbG90OmFjdGl2YXRvcj1cXFwieyBvbiB9XFxcIj48di1idG4gdi1vbj1cXFwib25cXFwiPidcIiwgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRBY3RpdmF0b3JFdmVudHMoKTtcbiAgfSxcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFjdGl2YXRvckV2ZW50cygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgYWRkQWN0aXZhdG9yRXZlbnRzOiBmdW5jdGlvbiBhZGRBY3RpdmF0b3JFdmVudHMoKSB7XG4gICAgICB2YXIgZV8xLCBfYTtcblxuICAgICAgaWYgKCF0aGlzLmFjdGl2YXRvciB8fCB0aGlzLmRpc2FibGVkIHx8ICF0aGlzLmdldEFjdGl2YXRvcigpKSByZXR1cm47XG4gICAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMuZ2VuQWN0aXZhdG9yTGlzdGVuZXJzKCk7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIga2V5c18xID0gX192YWx1ZXMoa2V5cyksIGtleXNfMV8xID0ga2V5c18xLm5leHQoKTsgIWtleXNfMV8xLmRvbmU7IGtleXNfMV8xID0ga2V5c18xLm5leHQoKSkge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzXzFfMS52YWx1ZTtcbiAgICAgICAgICB0aGlzLmdldEFjdGl2YXRvcigpLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB0aGlzLmxpc3RlbmVyc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgZV8xID0ge1xuICAgICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoa2V5c18xXzEgJiYgIWtleXNfMV8xLmRvbmUgJiYgKF9hID0ga2V5c18xLnJldHVybikpIF9hLmNhbGwoa2V5c18xKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdlbkFjdGl2YXRvcjogZnVuY3Rpb24gZ2VuQWN0aXZhdG9yKCkge1xuICAgICAgdmFyIG5vZGUgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0U2xvdFwiXSkodGhpcywgJ2FjdGl2YXRvcicsIE9iamVjdC5hc3NpZ24odGhpcy5nZXRWYWx1ZVByb3h5KCksIHtcbiAgICAgICAgb246IHRoaXMuZ2VuQWN0aXZhdG9yTGlzdGVuZXJzKCksXG4gICAgICAgIGF0dHJzOiB0aGlzLmdlbkFjdGl2YXRvckF0dHJpYnV0ZXMoKVxuICAgICAgfSkpIHx8IFtdO1xuICAgICAgdGhpcy5hY3RpdmF0b3JOb2RlID0gbm9kZTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgZ2VuQWN0aXZhdG9yQXR0cmlidXRlczogZnVuY3Rpb24gZ2VuQWN0aXZhdG9yQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAnYXJpYS1oYXNwb3B1cCc6IHRydWUsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogU3RyaW5nKHRoaXMuaXNBY3RpdmUpXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2VuQWN0aXZhdG9yTGlzdGVuZXJzOiBmdW5jdGlvbiBnZW5BY3RpdmF0b3JMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuIHt9O1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHt9O1xuXG4gICAgICBpZiAodGhpcy5vcGVuT25Ib3Zlcikge1xuICAgICAgICBsaXN0ZW5lcnMubW91c2VlbnRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgX3RoaXMuZ2V0QWN0aXZhdG9yKGUpO1xuXG4gICAgICAgICAgX3RoaXMucnVuRGVsYXkoJ29wZW4nKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW5lcnMubW91c2VsZWF2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgX3RoaXMuZ2V0QWN0aXZhdG9yKGUpO1xuXG4gICAgICAgICAgX3RoaXMucnVuRGVsYXkoJ2Nsb3NlJyk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0ZW5lcnMuY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBhY3RpdmF0b3IgPSBfdGhpcy5nZXRBY3RpdmF0b3IoZSk7XG5cbiAgICAgICAgICBpZiAoYWN0aXZhdG9yKSBhY3RpdmF0b3IuZm9jdXMoKTtcbiAgICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9ICFfdGhpcy5pc0FjdGl2ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9LFxuICAgIGdldEFjdGl2YXRvcjogZnVuY3Rpb24gZ2V0QWN0aXZhdG9yKGUpIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZmV0Y2hlZCB0aGUgYWN0aXZhdG9yLCByZS11c2VcbiAgICAgIGlmICh0aGlzLmFjdGl2YXRvckVsZW1lbnQpIHJldHVybiB0aGlzLmFjdGl2YXRvckVsZW1lbnQ7XG4gICAgICB2YXIgYWN0aXZhdG9yID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMuYWN0aXZhdG9yKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmludGVybmFsQWN0aXZhdG9yID8gdGhpcy4kZWwgOiBkb2N1bWVudDtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWN0aXZhdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIFNlbGVjdG9yXG4gICAgICAgICAgYWN0aXZhdG9yID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IodGhpcy5hY3RpdmF0b3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZhdG9yLiRlbCkge1xuICAgICAgICAgIC8vIENvbXBvbmVudCAocmVmKVxuICAgICAgICAgIGFjdGl2YXRvciA9IHRoaXMuYWN0aXZhdG9yLiRlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIVE1MRWxlbWVudCB8IEVsZW1lbnRcbiAgICAgICAgICBhY3RpdmF0b3IgPSB0aGlzLmFjdGl2YXRvcjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2YXRvck5vZGUubGVuZ3RoID09PSAxIHx8IHRoaXMuYWN0aXZhdG9yTm9kZS5sZW5ndGggJiYgIWUpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBjb250ZW50cyBvZiB0aGUgYWN0aXZhdG9yIHNsb3RcbiAgICAgICAgLy8gVGhlcmUncyBlaXRoZXIgb25seSBvbmUgZWxlbWVudCBpbiBpdCBvciB3ZVxuICAgICAgICAvLyBkb24ndCBoYXZlIGEgY2xpY2sgZXZlbnQgdG8gdXNlIGFzIGEgbGFzdCByZXNvcnRcbiAgICAgICAgdmFyIHZtID0gdGhpcy5hY3RpdmF0b3JOb2RlWzBdLmNvbXBvbmVudEluc3RhbmNlO1xuXG4gICAgICAgIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5taXhpbnMgJiYgLy8gICAgICAgICAgICAgICAgICAgICAgICAgQWN0aXZhdGFibGUgaXMgaW5kaXJlY3RseSB1c2VkIHZpYSBNZW51YWJsZVxuICAgICAgICB2bS4kb3B0aW9ucy5taXhpbnMuc29tZShmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLm9wdGlvbnMgJiYgWydhY3RpdmF0YWJsZScsICdtZW51YWJsZSddLmluY2x1ZGVzKG0ub3B0aW9ucy5uYW1lKTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAvLyBBY3RpdmF0b3IgaXMgYWN0dWFsbHkgYW5vdGhlciBhY3RpdmF0aWJsZSBjb21wb25lbnQsIHVzZSBpdHMgYWN0aXZhdG9yICgjODg0NilcbiAgICAgICAgICBhY3RpdmF0b3IgPSB2bS5nZXRBY3RpdmF0b3IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmF0b3IgPSB0aGlzLmFjdGl2YXRvck5vZGVbMF0uZWxtO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGUpIHtcbiAgICAgICAgLy8gQWN0aXZhdGVkIGJ5IGEgY2xpY2sgZXZlbnRcbiAgICAgICAgYWN0aXZhdG9yID0gZS5jdXJyZW50VGFyZ2V0IHx8IGUudGFyZ2V0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGl2YXRvckVsZW1lbnQgPSBhY3RpdmF0b3I7XG4gICAgICByZXR1cm4gdGhpcy5hY3RpdmF0b3JFbGVtZW50O1xuICAgIH0sXG4gICAgZ2V0Q29udGVudFNsb3Q6IGZ1bmN0aW9uIGdldENvbnRlbnRTbG90KCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRTbG90XCJdKSh0aGlzLCAnZGVmYXVsdCcsIHRoaXMuZ2V0VmFsdWVQcm94eSgpLCB0cnVlKTtcbiAgICB9LFxuICAgIGdldFZhbHVlUHJveHk6IGZ1bmN0aW9uIGdldFZhbHVlUHJveHkoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuaXNBY3RpdmU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IHZhbHVlKGlzQWN0aXZlKSB7XG4gICAgICAgICAgc2VsZi5pc0FjdGl2ZSA9IGlzQWN0aXZlO1xuICAgICAgICB9XG5cbiAgICAgIH07XG4gICAgfSxcbiAgICByZW1vdmVBY3RpdmF0b3JFdmVudHM6IGZ1bmN0aW9uIHJlbW92ZUFjdGl2YXRvckV2ZW50cygpIHtcbiAgICAgIHZhciBlXzIsIF9hO1xuXG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdG9yIHx8ICF0aGlzLmFjdGl2YXRvckVsZW1lbnQpIHJldHVybjtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBrZXlzXzIgPSBfX3ZhbHVlcyhrZXlzKSwga2V5c18yXzEgPSBrZXlzXzIubmV4dCgpOyAha2V5c18yXzEuZG9uZTsga2V5c18yXzEgPSBrZXlzXzIubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNfMl8xLnZhbHVlO1xuICAgICAgICAgIHRoaXMuYWN0aXZhdG9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGtleSwgdGhpcy5saXN0ZW5lcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfMl8xKSB7XG4gICAgICAgIGVfMiA9IHtcbiAgICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGtleXNfMl8xICYmICFrZXlzXzJfMS5kb25lICYmIChfYSA9IGtleXNfMi5yZXR1cm4pKSBfYS5jYWxsKGtleXNfMik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgfSxcbiAgICByZXNldEFjdGl2YXRvcjogZnVuY3Rpb24gcmVzZXRBY3RpdmF0b3IoKSB7XG4gICAgICB0aGlzLmFjdGl2YXRvckVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5nZXRBY3RpdmF0b3IoKTtcbiAgICAgIHRoaXMuYWRkQWN0aXZhdG9yRXZlbnRzKCk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9hcHBsaWNhdGlvbmFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvYXBwbGljYXRpb25hYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXBwbGljYXRpb25hYmxlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcG9zaXRpb25hYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wb3NpdGlvbmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcG9zaXRpb25hYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbiAvLyBVdGlsXG5cblxuZnVuY3Rpb24gYXBwbGljYXRpb25hYmxlKHZhbHVlLCBldmVudHMpIHtcbiAgaWYgKGV2ZW50cyA9PT0gdm9pZCAwKSB7XG4gICAgZXZlbnRzID0gW107XG4gIH1cbiAgLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuXG4gIHJldHVybiBPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShPYmplY3QoX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZmFjdG9yeVwiXSkoWydhYnNvbHV0ZScsICdmaXhlZCddKSkuZXh0ZW5kKHtcbiAgICBuYW1lOiAnYXBwbGljYXRpb25hYmxlJyxcbiAgICBwcm9wczoge1xuICAgICAgYXBwOiBCb29sZWFuXG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgYXBwbGljYXRpb25Qcm9wZXJ0eTogZnVuY3Rpb24gYXBwbGljYXRpb25Qcm9wZXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgIC8vIElmIHByZXZpb3VzIHZhbHVlIHdhcyBhcHBcbiAgICAgIC8vIHJlc2V0IHRoZSBwcm92aWRlZCBwcm9wXG4gICAgICBhcHA6IGZ1bmN0aW9uIGFwcCh4LCBwcmV2KSB7XG4gICAgICAgIHByZXYgPyB0aGlzLnJlbW92ZUFwcGxpY2F0aW9uKHRydWUpIDogdGhpcy5jYWxsVXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgYXBwbGljYXRpb25Qcm9wZXJ0eTogZnVuY3Rpb24gYXBwbGljYXRpb25Qcm9wZXJ0eShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICB0aGlzLiR2dWV0aWZ5LmFwcGxpY2F0aW9uLnVucmVnaXN0ZXIodGhpcy5fdWlkLCBvbGRWYWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7XG4gICAgICB0aGlzLmNhbGxVcGRhdGUoKTtcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZXZlbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuJHdhdGNoKGV2ZW50c1tpXSwgdGhpcy5jYWxsVXBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWxsVXBkYXRlKCk7XG4gICAgfSxcbiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgICAgdGhpcy5jYWxsVXBkYXRlKCk7XG4gICAgfSxcbiAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7XG4gICAgICB0aGlzLnJlbW92ZUFwcGxpY2F0aW9uKCk7XG4gICAgfSxcbiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHtcbiAgICAgIHRoaXMucmVtb3ZlQXBwbGljYXRpb24oKTtcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIGNhbGxVcGRhdGU6IGZ1bmN0aW9uIGNhbGxVcGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hcHApIHJldHVybjtcbiAgICAgICAgdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbi5yZWdpc3Rlcih0aGlzLl91aWQsIHRoaXMuYXBwbGljYXRpb25Qcm9wZXJ0eSwgdGhpcy51cGRhdGVBcHBsaWNhdGlvbigpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVBcHBsaWNhdGlvbjogZnVuY3Rpb24gcmVtb3ZlQXBwbGljYXRpb24oZm9yY2UpIHtcbiAgICAgICAgaWYgKGZvcmNlID09PSB2b2lkIDApIHtcbiAgICAgICAgICBmb3JjZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JjZSAmJiAhdGhpcy5hcHApIHJldHVybjtcbiAgICAgICAgdGhpcy4kdnVldGlmeS5hcHBsaWNhdGlvbi51bnJlZ2lzdGVyKHRoaXMuX3VpZCwgdGhpcy5hcHBsaWNhdGlvblByb3BlcnR5KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVBcHBsaWNhdGlvbjogZnVuY3Rpb24gdXBkYXRlQXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9iaW5kcy1hdHRycy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2JpbmRzLWF0dHJzL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuLyoqXG4gKiBUaGlzIG1peGluIHByb3ZpZGVzIGBhdHRycyRgIGFuZCBgbGlzdGVuZXJzJGAgdG8gd29yayBhcm91bmRcbiAqIHZ1ZSBidWcgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMTAxMTVcbiAqL1xuXG5mdW5jdGlvbiBtYWtlV2F0Y2hlcihwcm9wZXJ0eSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgb2xkVmFsKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBvbGRWYWwpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwgYXR0cikpIHtcbiAgICAgICAgdGhpcy4kZGVsZXRlKHRoaXMuJGRhdGFbcHJvcGVydHldLCBhdHRyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBhdHRyIGluIHZhbCkge1xuICAgICAgdGhpcy4kc2V0KHRoaXMuJGRhdGFbcHJvcGVydHldLCBhdHRyLCB2YWxbYXR0cl0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0cnMkOiB7fSxcbiAgICAgIGxpc3RlbmVycyQ6IHt9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAvLyBXb3JrIGFyb3VuZCB1bndhbnRlZCByZS1yZW5kZXJzOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy8xMDExNVxuICAgIC8vIE1ha2Ugc3VyZSB0byB1c2UgYGF0dHJzJGAgaW5zdGVhZCBvZiBgJGF0dHJzYCAoY29uZnVzaW5nIHJpZ2h0PylcbiAgICB0aGlzLiR3YXRjaCgnJGF0dHJzJywgbWFrZVdhdGNoZXIoJ2F0dHJzJCcpLCB7XG4gICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLiR3YXRjaCgnJGxpc3RlbmVycycsIG1ha2VXYXRjaGVyKCdsaXN0ZW5lcnMkJyksIHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9ib290YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2Jvb3RhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vLyBVdGlsaXRpZXNcbiAvLyBUeXBlc1xuXG5cbi8qKlxuICogQm9vdGFibGVcbiAqIEBtaXhpblxuICpcbiAqIFVzZWQgdG8gYWRkIGxhenkgY29udGVudCBmdW5jdGlvbmFsaXR5IHRvIGNvbXBvbmVudHNcbiAqIExvb2tzIGZvciBjaGFuZ2UgaW4gXCJpc0FjdGl2ZVwiIHRvIGF1dG9tYXRpY2FsbHkgYm9vdFxuICogT3RoZXJ3aXNlIGNhbiBiZSBzZXQgbWFudWFsbHlcbiAqL1xuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAnYm9vdGFibGUnLFxuICBwcm9wczoge1xuICAgIGVhZ2VyOiBCb29sZWFuXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQm9vdGVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaGFzQ29udGVudDogZnVuY3Rpb24gaGFzQ29udGVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQm9vdGVkIHx8IHRoaXMuZWFnZXIgfHwgdGhpcy5pc0FjdGl2ZTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgdGhpcy5pc0Jvb3RlZCA9IHRydWU7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCdsYXp5JyBpbiB0aGlzLiRhdHRycykge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInJlbW92ZWRcIl0pKCdsYXp5JywgdGhpcyk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2hvd0xhenlDb250ZW50OiBmdW5jdGlvbiBzaG93TGF6eUNvbnRlbnQoY29udGVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQ29udGVudCA/IGNvbnRlbnQgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9idXR0b24tZ3JvdXAvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvYnV0dG9uLWdyb3VwL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19WSXRlbUdyb3VwX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbXBvbmVudHMvVkl0ZW1Hcm91cC9WSXRlbUdyb3VwICovIFwiLi9zcmMvY29tcG9uZW50cy9WSXRlbUdyb3VwL1ZJdGVtR3JvdXAudHNcIik7XG4vLyBFeHRlbnNpb25zXG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX2NvbXBvbmVudHNfVkl0ZW1Hcm91cF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJCYXNlSXRlbUdyb3VwXCJdLmV4dGVuZCh7XG4gIG5hbWU6ICdidXR0b24tZ3JvdXAnLFxuICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBidG5Ub2dnbGU6IHRoaXNcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgICByZXR1cm4gX2NvbXBvbmVudHNfVkl0ZW1Hcm91cF9WSXRlbUdyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJCYXNlSXRlbUdyb3VwXCJdLm9wdGlvbnMuY29tcHV0ZWQuY2xhc3Nlcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8vIElzbid0IGJlaW5nIHBhc3NlZCBkb3duIHRocm91Z2ggdHlwZXNcbiAgICBnZW5EYXRhOiBfY29tcG9uZW50c19WSXRlbUdyb3VwX1ZJdGVtR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkJhc2VJdGVtR3JvdXBcIl0ub3B0aW9ucy5tZXRob2RzLmdlbkRhdGFcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvY29sb3JhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG5cblxuZnVuY3Rpb24gaXNDc3NDb2xvcihjb2xvcikge1xuICByZXR1cm4gISFjb2xvciAmJiAhIWNvbG9yLm1hdGNoKC9eKCN8KHJnYnxoc2wpYT9cXCgpLyk7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdjb2xvcmFibGUnLFxuICBwcm9wczoge1xuICAgIGNvbG9yOiBTdHJpbmdcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldEJhY2tncm91bmRDb2xvcjogZnVuY3Rpb24gc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yLCBkYXRhKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmIChkYXRhID09PSB2b2lkIDApIHtcbiAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRhdGEuc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25zb2xlRXJyb3JcIl0pKCdzdHlsZSBtdXN0IGJlIGFuIG9iamVjdCcsIHRoaXMpOyAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRhdGEuY2xhc3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25zb2xlRXJyb3JcIl0pKCdjbGFzcyBtdXN0IGJlIGFuIG9iamVjdCcsIHRoaXMpOyAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDc3NDb2xvcihjb2xvcikpIHtcbiAgICAgICAgZGF0YS5zdHlsZSA9IF9fYXNzaWduKHt9LCBkYXRhLnN0eWxlLCB7XG4gICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBcIlwiICsgY29sb3IsXG4gICAgICAgICAgJ2JvcmRlci1jb2xvcic6IFwiXCIgKyBjb2xvclxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY29sb3IpIHtcbiAgICAgICAgZGF0YS5jbGFzcyA9IF9fYXNzaWduKHt9LCBkYXRhLmNsYXNzLCAoX2EgPSB7fSwgX2FbY29sb3JdID0gdHJ1ZSwgX2EpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBzZXRUZXh0Q29sb3I6IGZ1bmN0aW9uIHNldFRleHRDb2xvcihjb2xvciwgZGF0YSkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRhdGEgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkYXRhLnN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29uc29sZUVycm9yXCJdKSgnc3R5bGUgbXVzdCBiZSBhbiBvYmplY3QnLCB0aGlzKTsgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkYXRhLmNsYXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29uc29sZUVycm9yXCJdKSgnY2xhc3MgbXVzdCBiZSBhbiBvYmplY3QnLCB0aGlzKTsgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ3NzQ29sb3IoY29sb3IpKSB7XG4gICAgICAgIGRhdGEuc3R5bGUgPSBfX2Fzc2lnbih7fSwgZGF0YS5zdHlsZSwge1xuICAgICAgICAgIGNvbG9yOiBcIlwiICsgY29sb3IsXG4gICAgICAgICAgJ2NhcmV0LWNvbG9yJzogXCJcIiArIGNvbG9yXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjb2xvcikge1xuICAgICAgICB2YXIgX2IgPSBfX3JlYWQoY29sb3IudG9TdHJpbmcoKS50cmltKCkuc3BsaXQoJyAnLCAyKSwgMiksXG4gICAgICAgICAgICBjb2xvck5hbWUgPSBfYlswXSxcbiAgICAgICAgICAgIGNvbG9yTW9kaWZpZXIgPSBfYlsxXTtcblxuICAgICAgICBkYXRhLmNsYXNzID0gX19hc3NpZ24oe30sIGRhdGEuY2xhc3MsIChfYSA9IHt9LCBfYVtjb2xvck5hbWUgKyAnLS10ZXh0J10gPSB0cnVlLCBfYSkpO1xuXG4gICAgICAgIGlmIChjb2xvck1vZGlmaWVyKSB7XG4gICAgICAgICAgZGF0YS5jbGFzc1sndGV4dC0tJyArIGNvbG9yTW9kaWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL2NvbXBhcmFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2NvbXBhcmFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdjb21wYXJhYmxlJyxcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZUNvbXBhcmF0b3I6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgZGVmYXVsdDogX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVlcEVxdWFsXCJdXG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9kZWxheWFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvZGVsYXlhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qKlxuICogRGVsYXlhYmxlXG4gKlxuICogQG1peGluXG4gKlxuICogQ2hhbmdlcyB0aGUgb3BlbiBvciBjbG9zZSBkZWxheSB0aW1lIGZvciBlbGVtZW50c1xuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCgpLmV4dGVuZCh7XG4gIG5hbWU6ICdkZWxheWFibGUnLFxuICBwcm9wczoge1xuICAgIG9wZW5EZWxheToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9LFxuICAgIGNsb3NlRGVsYXk6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfVxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuVGltZW91dDogdW5kZWZpbmVkLFxuICAgICAgY2xvc2VUaW1lb3V0OiB1bmRlZmluZWRcbiAgICB9O1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYW55IHBlbmRpbmcgZGVsYXkgdGltZXJzIGZyb20gZXhlY3V0aW5nXG4gICAgICovXG4gICAgY2xlYXJEZWxheTogZnVuY3Rpb24gY2xlYXJEZWxheSgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm9wZW5UaW1lb3V0KTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlVGltZW91dCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgY2FsbGJhY2sgYWZ0ZXIgYSBzcGVjaWZpZWQgZGVsYXlcbiAgICAgKi9cbiAgICBydW5EZWxheTogZnVuY3Rpb24gcnVuRGVsYXkodHlwZSwgY2IpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY2xlYXJEZWxheSgpO1xuICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQodGhpc1t0eXBlICsgXCJEZWxheVwiXSwgMTApO1xuICAgICAgdGhpc1t0eXBlICsgXCJUaW1lb3V0XCJdID0gc2V0VGltZW91dChjYiB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmlzQWN0aXZlID0ge1xuICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgY2xvc2U6IGZhbHNlXG4gICAgICAgIH1bdHlwZV07XG4gICAgICB9LCBkZWxheSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9kZXBlbmRlbnQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvZGVwZW5kZW50L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxuXG5mdW5jdGlvbiBzZWFyY2hDaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG5cbiAgICBpZiAoY2hpbGQuaXNBY3RpdmUgJiYgY2hpbGQuaXNEZXBlbmRlbnQpIHtcbiAgICAgIHJlc3VsdHMucHVzaChjaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdHMucHVzaC5hcHBseShyZXN1bHRzLCBfX3NwcmVhZChzZWFyY2hDaGlsZHJlbihjaGlsZC4kY2hpbGRyZW4pKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKS5leHRlbmQoe1xuICBuYW1lOiAnZGVwZW5kZW50JyxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xvc2VEZXBlbmRlbnRzOiB0cnVlLFxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgaXNEZXBlbmRlbnQ6IHRydWVcbiAgICB9O1xuICB9LFxuICB3YXRjaDoge1xuICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHJldHVybjtcbiAgICAgIHZhciBvcGVuRGVwZW5kZW50cyA9IHRoaXMuZ2V0T3BlbkRlcGVuZGVudHMoKTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wZW5EZXBlbmRlbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBvcGVuRGVwZW5kZW50c1tpbmRleF0uaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRPcGVuRGVwZW5kZW50czogZnVuY3Rpb24gZ2V0T3BlbkRlcGVuZGVudHMoKSB7XG4gICAgICBpZiAodGhpcy5jbG9zZURlcGVuZGVudHMpIHJldHVybiBzZWFyY2hDaGlsZHJlbih0aGlzLiRjaGlsZHJlbik7XG4gICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBnZXRPcGVuRGVwZW5kZW50RWxlbWVudHM6IGZ1bmN0aW9uIGdldE9wZW5EZXBlbmRlbnRFbGVtZW50cygpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHZhciBvcGVuRGVwZW5kZW50cyA9IHRoaXMuZ2V0T3BlbkRlcGVuZGVudHMoKTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wZW5EZXBlbmRlbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIF9fc3ByZWFkKG9wZW5EZXBlbmRlbnRzW2luZGV4XS5nZXRDbGlja2FibGVEZXBlbmRlbnRFbGVtZW50cygpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBnZXRDbGlja2FibGVEZXBlbmRlbnRFbGVtZW50czogZnVuY3Rpb24gZ2V0Q2xpY2thYmxlRGVwZW5kZW50RWxlbWVudHMoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW3RoaXMuJGVsXTtcbiAgICAgIGlmICh0aGlzLiRyZWZzLmNvbnRlbnQpIHJlc3VsdC5wdXNoKHRoaXMuJHJlZnMuY29udGVudCk7XG4gICAgICBpZiAodGhpcy5vdmVybGF5KSByZXN1bHQucHVzaCh0aGlzLm92ZXJsYXkuJGVsKTtcbiAgICAgIHJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCwgX19zcHJlYWQodGhpcy5nZXRPcGVuRGVwZW5kZW50RWxlbWVudHMoKSkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL2RldGFjaGFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2RldGFjaGFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Jvb3RhYmxlICovIFwiLi9zcmMvbWl4aW5zL2Jvb3RhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvbWl4aW5zICovIFwiLi9zcmMvdXRpbC9taXhpbnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLy8gTWl4aW5zXG4gLy8gVXRpbGl0aWVzXG5cblxuXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVBdHRhY2hUYXJnZXQodmFsKSB7XG4gIHZhciB0eXBlID0gX3R5cGVvZih2YWwpO1xuXG4gIGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3N0cmluZycpIHJldHVybiB0cnVlO1xuICByZXR1cm4gdmFsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbn1cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShfYm9vdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pLmV4dGVuZCh7XG4gIG5hbWU6ICdkZXRhY2hhYmxlJyxcbiAgcHJvcHM6IHtcbiAgICBhdHRhY2g6IHtcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUF0dGFjaFRhcmdldFxuICAgIH0sXG4gICAgY29udGVudENsYXNzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJ1xuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZhdG9yTm9kZTogbnVsbCxcbiAgICAgIGhhc0RldGFjaGVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgYXR0YWNoOiBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgICB0aGlzLmhhc0RldGFjaGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmluaXREZXRhY2goKTtcbiAgICB9LFxuICAgIGhhc0NvbnRlbnQ6ICdpbml0RGV0YWNoJ1xuICB9LFxuICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5hY3RpdmF0b3JOb2RlKSB7XG4gICAgICAgIHZhciBhY3RpdmF0b3IgPSBBcnJheS5pc0FycmF5KF90aGlzLmFjdGl2YXRvck5vZGUpID8gX3RoaXMuYWN0aXZhdG9yTm9kZSA6IFtfdGhpcy5hY3RpdmF0b3JOb2RlXTtcbiAgICAgICAgYWN0aXZhdG9yLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAoIW5vZGUuZWxtKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFfdGhpcy4kZWwucGFyZW50Tm9kZSkgcmV0dXJuO1xuICAgICAgICAgIHZhciB0YXJnZXQgPSBfdGhpcy4kZWwgPT09IF90aGlzLiRlbC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQgPyBfdGhpcy4kZWwgOiBfdGhpcy4kZWwubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICBfdGhpcy4kZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZS5lbG0sIHRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMuaGFzQ29udGVudCAmJiB0aGlzLmluaXREZXRhY2goKTtcbiAgfSxcbiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkge1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgfSxcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHtcbiAgICAvLyBJRTExIEZpeFxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy4kcmVmcy5jb250ZW50ICYmIHRoaXMuJHJlZnMuY29udGVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHRoaXMuJHJlZnMuY29udGVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJHJlZnMuY29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2YXRvck5vZGUpIHtcbiAgICAgICAgdmFyIGFjdGl2YXRvciA9IEFycmF5LmlzQXJyYXkodGhpcy5hY3RpdmF0b3JOb2RlKSA/IHRoaXMuYWN0aXZhdG9yTm9kZSA6IFt0aGlzLmFjdGl2YXRvck5vZGVdO1xuICAgICAgICBhY3RpdmF0b3IuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuZWxtICYmIG5vZGUuZWxtLnBhcmVudE5vZGUgJiYgbm9kZS5lbG0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLmVsbSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldFNjb3BlSWRBdHRyczogZnVuY3Rpb24gZ2V0U2NvcGVJZEF0dHJzKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgc2NvcGVJZCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkodGhpcy4kdm5vZGUsICdjb250ZXh0LiRvcHRpb25zLl9zY29wZUlkJyk7XG4gICAgICByZXR1cm4gc2NvcGVJZCAmJiAoX2EgPSB7fSwgX2Fbc2NvcGVJZF0gPSAnJywgX2EpO1xuICAgIH0sXG4gICAgaW5pdERldGFjaDogZnVuY3Rpb24gaW5pdERldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCB8fCAhdGhpcy4kcmVmcy5jb250ZW50IHx8IHRoaXMuaGFzRGV0YWNoZWQgfHwgLy8gTGVhdmUgbWVudSBpbiBwbGFjZSBpZiBhdHRhY2hlZFxuICAgICAgLy8gYW5kIGRldiBoYXMgbm90IGNoYW5nZWQgdGFyZ2V0XG4gICAgICB0aGlzLmF0dGFjaCA9PT0gJycgfHwgLy8gSWYgdXNlZCBhcyBhIGJvb2xlYW4gcHJvcCAoPHYtbWVudSBhdHRhY2g+KVxuICAgICAgdGhpcy5hdHRhY2ggPT09IHRydWUgfHwgLy8gSWYgYm91bmQgdG8gYSBib29sZWFuICg8di1tZW51IDphdHRhY2g9XCJ0cnVlXCI+KVxuICAgICAgdGhpcy5hdHRhY2ggPT09ICdhdHRhY2gnIC8vIElmIGJvdW5kIGFzIGJvb2xlYW4gcHJvcCBpbiBwdWcgKHYtbWVudShhdHRhY2gpKVxuICAgICAgKSByZXR1cm47XG4gICAgICB2YXIgdGFyZ2V0O1xuXG4gICAgICBpZiAodGhpcy5hdHRhY2ggPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIERlZmF1bHQsIGRldGFjaCB0byBhcHBcbiAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYXBwXScpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5hdHRhY2ggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIENTUyBzZWxlY3RvclxuICAgICAgICB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYXR0YWNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERPTSBFbGVtZW50XG4gICAgICAgIHRhcmdldCA9IHRoaXMuYXR0YWNoO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29uc29sZVdhcm5cIl0pKFwiVW5hYmxlIHRvIGxvY2F0ZSB0YXJnZXQgXCIgKyAodGhpcy5hdHRhY2ggfHwgJ1tkYXRhLWFwcF0nKSwgdGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLiRyZWZzLmNvbnRlbnQsIHRhcmdldC5maXJzdENoaWxkKTtcbiAgICAgIHRoaXMuaGFzRGV0YWNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvZWxldmF0YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvZWxldmF0YWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ2VsZXZhdGFibGUnLFxuICBwcm9wczoge1xuICAgIGVsZXZhdGlvbjogW051bWJlciwgU3RyaW5nXVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNvbXB1dGVkRWxldmF0aW9uOiBmdW5jdGlvbiBjb21wdXRlZEVsZXZhdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZXZhdGlvbjtcbiAgICB9LFxuICAgIGVsZXZhdGlvbkNsYXNzZXM6IGZ1bmN0aW9uIGVsZXZhdGlvbkNsYXNzZXMoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBlbGV2YXRpb24gPSB0aGlzLmNvbXB1dGVkRWxldmF0aW9uO1xuICAgICAgaWYgKGVsZXZhdGlvbiA9PSBudWxsKSByZXR1cm4ge307XG4gICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoZWxldmF0aW9uKSkpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiBfYSA9IHt9LCBfYVtcImVsZXZhdGlvbi1cIiArIHRoaXMuZWxldmF0aW9uXSA9IHRydWUsIF9hO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvZmlsdGVyYWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvZmlsdGVyYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ2ZpbHRlcmFibGUnLFxuICBwcm9wczoge1xuICAgIG5vRGF0YVRleHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5ub0RhdGFUZXh0J1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvZ3JvdXBhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2dyb3VwYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGZhY3RvcnksIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmFjdG9yeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhY3Rvcnk7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVnaXN0cmFibGUgKi8gXCIuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHNcIik7XG4vLyBNaXhpbnNcblxuZnVuY3Rpb24gZmFjdG9yeShuYW1lc3BhY2UsIGNoaWxkLCBwYXJlbnQpIHtcbiAgLy8gVE9ETzogdHMgMy40IGJyb2tlIGRpcmVjdGx5IHJldHVybmluZyB0aGlzXG4gIHZhciBSID0gT2JqZWN0KF9yZWdpc3RyYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaW5qZWN0XCJdKShuYW1lc3BhY2UsIGNoaWxkLCBwYXJlbnQpLmV4dGVuZCh7XG4gICAgbmFtZTogJ2dyb3VwYWJsZScsXG4gICAgcHJvcHM6IHtcbiAgICAgIGFjdGl2ZUNsYXNzOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgICAgaWYgKCF0aGlzW25hbWVzcGFjZV0pIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbbmFtZXNwYWNlXS5hY3RpdmVDbGFzcztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiBCb29sZWFuXG4gICAgfSxcbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgIGdyb3VwQ2xhc3NlczogZnVuY3Rpb24gZ3JvdXBDbGFzc2VzKCkge1xuICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUNsYXNzKSByZXR1cm4ge307XG4gICAgICAgIHJldHVybiBfYSA9IHt9LCBfYVt0aGlzLmFjdGl2ZUNsYXNzXSA9IHRoaXMuaXNBY3RpdmUsIF9hO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAgIHRoaXNbbmFtZXNwYWNlXSAmJiB0aGlzW25hbWVzcGFjZV0ucmVnaXN0ZXIodGhpcyk7XG4gICAgfSxcbiAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgICAgdGhpc1tuYW1lc3BhY2VdICYmIHRoaXNbbmFtZXNwYWNlXS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBSO1xufVxuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZSAqL1xuXG52YXIgR3JvdXBhYmxlID0gZmFjdG9yeSgnaXRlbUdyb3VwJyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEdyb3VwYWJsZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9sb2FkYWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL2xvYWRhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbXBvbmVudHMvVlByb2dyZXNzTGluZWFyICovIFwiLi9zcmMvY29tcG9uZW50cy9WUHJvZ3Jlc3NMaW5lYXIvaW5kZXgudHNcIik7XG5cblxuLyoqXG4gKiBMb2FkYWJsZVxuICpcbiAqIEBtaXhpblxuICpcbiAqIFVzZWQgdG8gYWRkIGxpbmVhciBwcm9ncmVzcyBiYXIgdG8gY29tcG9uZW50c1xuICogQ2FuIHVzZSBhIGRlZmF1bHQgYmFyIHdpdGggYSBzcGVjaWZpYyBjb2xvclxuICogb3IgZGVzaWduYXRlIGEgY3VzdG9tIHByb2dyZXNzIGxpbmVhciBiYXJcbiAqL1xuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAnbG9hZGFibGUnLFxuICBwcm9wczoge1xuICAgIGxvYWRpbmc6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGxvYWRlckhlaWdodDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDJcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5Qcm9ncmVzczogZnVuY3Rpb24gZ2VuUHJvZ3Jlc3MoKSB7XG4gICAgICBpZiAodGhpcy5sb2FkaW5nID09PSBmYWxzZSkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy4kc2xvdHMucHJvZ3Jlc3MgfHwgdGhpcy4kY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19WUHJvZ3Jlc3NMaW5lYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBhYnNvbHV0ZTogdHJ1ZSxcbiAgICAgICAgICBjb2xvcjogdGhpcy5sb2FkaW5nID09PSB0cnVlIHx8IHRoaXMubG9hZGluZyA9PT0gJycgPyB0aGlzLmNvbG9yIHx8ICdwcmltYXJ5JyA6IHRoaXMubG9hZGluZyxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMubG9hZGVySGVpZ2h0LFxuICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9sb2NhbGFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvbG9jYWxhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdsb2NhbGFibGUnLFxuICBwcm9wczoge1xuICAgIGxvY2FsZTogU3RyaW5nXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY3VycmVudExvY2FsZTogZnVuY3Rpb24gY3VycmVudExvY2FsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsZSB8fCB0aGlzLiR2dWV0aWZ5LmxhbmcuY3VycmVudDtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL21lYXN1cmFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL21lYXN1cmFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLy8gSGVscGVyc1xuIC8vIFR5cGVzXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ21lYXN1cmFibGUnLFxuICBwcm9wczoge1xuICAgIGhlaWdodDogW051bWJlciwgU3RyaW5nXSxcbiAgICBtYXhIZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgbWF4V2lkdGg6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgbWluSGVpZ2h0OiBbTnVtYmVyLCBTdHJpbmddLFxuICAgIG1pbldpZHRoOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgIHdpZHRoOiBbTnVtYmVyLCBTdHJpbmddXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgbWVhc3VyYWJsZVN0eWxlczogZnVuY3Rpb24gbWVhc3VyYWJsZVN0eWxlcygpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICAgIHZhciBoZWlnaHQgPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5oZWlnaHQpO1xuICAgICAgdmFyIG1pbkhlaWdodCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLm1pbkhlaWdodCk7XG4gICAgICB2YXIgbWluV2lkdGggPSBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5taW5XaWR0aCk7XG4gICAgICB2YXIgbWF4SGVpZ2h0ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbnZlcnRUb1VuaXRcIl0pKHRoaXMubWF4SGVpZ2h0KTtcbiAgICAgIHZhciBtYXhXaWR0aCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLm1heFdpZHRoKTtcbiAgICAgIHZhciB3aWR0aCA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb252ZXJ0VG9Vbml0XCJdKSh0aGlzLndpZHRoKTtcbiAgICAgIGlmIChoZWlnaHQpIHN0eWxlcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBpZiAobWluSGVpZ2h0KSBzdHlsZXMubWluSGVpZ2h0ID0gbWluSGVpZ2h0O1xuICAgICAgaWYgKG1pbldpZHRoKSBzdHlsZXMubWluV2lkdGggPSBtaW5XaWR0aDtcbiAgICAgIGlmIChtYXhIZWlnaHQpIHN0eWxlcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICBpZiAobWF4V2lkdGgpIHN0eWxlcy5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgaWYgKHdpZHRoKSBzdHlsZXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9tZW51YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL21lbnVhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wb3NpdGlvbmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3Bvc2l0aW9uYWJsZSAqLyBcIi4vc3JjL21peGlucy9wb3NpdGlvbmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0YWNrYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RhY2thYmxlICovIFwiLi9zcmMvbWl4aW5zL3N0YWNrYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfYWN0aXZhdGFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2FjdGl2YXRhYmxlICovIFwiLi9zcmMvbWl4aW5zL2FjdGl2YXRhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vLyBNaXhpbnNcblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuIC8vIFR5cGVzXG5cbnZhciBiYXNlTWl4aW5zID0gT2JqZWN0KF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoX3N0YWNrYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwgX3Bvc2l0aW9uYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSwgX2FjdGl2YXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKTtcbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoYmFzZU1peGlucy5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAnbWVudWFibGUnLFxuICBwcm9wczoge1xuICAgIGFsbG93T3ZlcmZsb3c6IEJvb2xlYW4sXG4gICAgbGlnaHQ6IEJvb2xlYW4sXG4gICAgZGFyazogQm9vbGVhbixcbiAgICBtYXhXaWR0aDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICdhdXRvJ1xuICAgIH0sXG4gICAgbWluV2lkdGg6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgbnVkZ2VCb3R0b206IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBudWRnZUxlZnQ6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBudWRnZVJpZ2h0OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgbnVkZ2VUb3A6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBudWRnZVdpZHRoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgb2Zmc2V0T3ZlcmZsb3c6IEJvb2xlYW4sXG4gICAgb3Blbk9uQ2xpY2s6IEJvb2xlYW4sXG4gICAgcG9zaXRpb25YOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBwb3NpdGlvblk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIHpJbmRleDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9XG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFic29sdXRlWDogMCxcbiAgICAgIGFic29sdXRlWTogMCxcbiAgICAgIGFjdGl2YXRlZEJ5OiBudWxsLFxuICAgICAgYWN0aXZhdG9yRml4ZWQ6IGZhbHNlLFxuICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICBhY3RpdmF0b3I6IHtcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIG9mZnNldFRvcDogMCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQ6IDAsXG4gICAgICAgICAgb2Zmc2V0TGVmdDogMFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICBvZmZzZXRUb3A6IDAsXG4gICAgICAgICAgc2Nyb2xsSGVpZ2h0OiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoYXNKdXN0Rm9jdXNlZDogZmFsc2UsXG4gICAgICBoYXNXaW5kb3c6IGZhbHNlLFxuICAgICAgaW5wdXRBY3RpdmF0b3I6IGZhbHNlLFxuICAgICAgaXNDb250ZW50QWN0aXZlOiBmYWxzZSxcbiAgICAgIHBhZ2VXaWR0aDogMCxcbiAgICAgIHBhZ2VZT2Zmc2V0OiAwLFxuICAgICAgc3RhY2tDbGFzczogJ3YtbWVudV9fY29udGVudC0tYWN0aXZlJyxcbiAgICAgIHN0YWNrTWluWkluZGV4OiA2XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb21wdXRlZExlZnQ6IGZ1bmN0aW9uIGNvbXB1dGVkTGVmdCgpIHtcbiAgICAgIHZhciBhID0gdGhpcy5kaW1lbnNpb25zLmFjdGl2YXRvcjtcbiAgICAgIHZhciBjID0gdGhpcy5kaW1lbnNpb25zLmNvbnRlbnQ7XG4gICAgICB2YXIgYWN0aXZhdG9yTGVmdCA9ICh0aGlzLmF0dGFjaCAhPT0gZmFsc2UgPyBhLm9mZnNldExlZnQgOiBhLmxlZnQpIHx8IDA7XG4gICAgICB2YXIgbWluV2lkdGggPSBNYXRoLm1heChhLndpZHRoLCBjLndpZHRoKTtcbiAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgIGxlZnQgKz0gdGhpcy5sZWZ0ID8gYWN0aXZhdG9yTGVmdCAtIChtaW5XaWR0aCAtIGEud2lkdGgpIDogYWN0aXZhdG9yTGVmdDtcblxuICAgICAgaWYgKHRoaXMub2Zmc2V0WCkge1xuICAgICAgICB2YXIgbWF4V2lkdGggPSBpc05hTihOdW1iZXIodGhpcy5tYXhXaWR0aCkpID8gYS53aWR0aCA6IE1hdGgubWluKGEud2lkdGgsIE51bWJlcih0aGlzLm1heFdpZHRoKSk7XG4gICAgICAgIGxlZnQgKz0gdGhpcy5sZWZ0ID8gLW1heFdpZHRoIDogYS53aWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubnVkZ2VMZWZ0KSBsZWZ0IC09IHBhcnNlSW50KHRoaXMubnVkZ2VMZWZ0KTtcbiAgICAgIGlmICh0aGlzLm51ZGdlUmlnaHQpIGxlZnQgKz0gcGFyc2VJbnQodGhpcy5udWRnZVJpZ2h0KTtcbiAgICAgIHJldHVybiBsZWZ0O1xuICAgIH0sXG4gICAgY29tcHV0ZWRUb3A6IGZ1bmN0aW9uIGNvbXB1dGVkVG9wKCkge1xuICAgICAgdmFyIGEgPSB0aGlzLmRpbWVuc2lvbnMuYWN0aXZhdG9yO1xuICAgICAgdmFyIGMgPSB0aGlzLmRpbWVuc2lvbnMuY29udGVudDtcbiAgICAgIHZhciB0b3AgPSAwO1xuICAgICAgaWYgKHRoaXMudG9wKSB0b3AgKz0gYS5oZWlnaHQgLSBjLmhlaWdodDtcbiAgICAgIGlmICh0aGlzLmF0dGFjaCAhPT0gZmFsc2UpIHRvcCArPSBhLm9mZnNldFRvcDtlbHNlIHRvcCArPSBhLnRvcCArIHRoaXMucGFnZVlPZmZzZXQ7XG4gICAgICBpZiAodGhpcy5vZmZzZXRZKSB0b3AgKz0gdGhpcy50b3AgPyAtYS5oZWlnaHQgOiBhLmhlaWdodDtcbiAgICAgIGlmICh0aGlzLm51ZGdlVG9wKSB0b3AgLT0gcGFyc2VJbnQodGhpcy5udWRnZVRvcCk7XG4gICAgICBpZiAodGhpcy5udWRnZUJvdHRvbSkgdG9wICs9IHBhcnNlSW50KHRoaXMubnVkZ2VCb3R0b20pO1xuICAgICAgcmV0dXJuIHRvcDtcbiAgICB9LFxuICAgIGhhc0FjdGl2YXRvcjogZnVuY3Rpb24gaGFzQWN0aXZhdG9yKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy4kc2xvdHMuYWN0aXZhdG9yIHx8ICEhdGhpcy4kc2NvcGVkU2xvdHMuYWN0aXZhdG9yIHx8ICEhdGhpcy5hY3RpdmF0b3IgfHwgISF0aGlzLmlucHV0QWN0aXZhdG9yO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBkaXNhYmxlZDogZnVuY3Rpb24gZGlzYWJsZWQodmFsKSB7XG4gICAgICB2YWwgJiYgdGhpcy5jYWxsRGVhY3RpdmF0ZSgpO1xuICAgIH0sXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKHZhbCkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgIHZhbCA/IHRoaXMuY2FsbEFjdGl2YXRlKCkgOiB0aGlzLmNhbGxEZWFjdGl2YXRlKCk7XG4gICAgfSxcbiAgICBwb3NpdGlvblg6ICd1cGRhdGVEaW1lbnNpb25zJyxcbiAgICBwb3NpdGlvblk6ICd1cGRhdGVEaW1lbnNpb25zJ1xuICB9LFxuICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7XG4gICAgdGhpcy5oYXNXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGFic29sdXRlUG9zaXRpb246IGZ1bmN0aW9uIGFic29sdXRlUG9zaXRpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvZmZzZXRUb3A6IDAsXG4gICAgICAgIG9mZnNldExlZnQ6IDAsXG4gICAgICAgIHNjcm9sbEhlaWdodDogMCxcbiAgICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uWSB8fCB0aGlzLmFic29sdXRlWSxcbiAgICAgICAgYm90dG9tOiB0aGlzLnBvc2l0aW9uWSB8fCB0aGlzLmFic29sdXRlWSxcbiAgICAgICAgbGVmdDogdGhpcy5wb3NpdGlvblggfHwgdGhpcy5hYnNvbHV0ZVgsXG4gICAgICAgIHJpZ2h0OiB0aGlzLnBvc2l0aW9uWCB8fCB0aGlzLmFic29sdXRlWCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB3aWR0aDogMFxuICAgICAgfTtcbiAgICB9LFxuICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZSgpIHt9LFxuICAgIGNhbGNMZWZ0OiBmdW5jdGlvbiBjYWxjTGVmdChtZW51V2lkdGgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5hdHRhY2ggIT09IGZhbHNlID8gdGhpcy5jb21wdXRlZExlZnQgOiB0aGlzLmNhbGNYT3ZlcmZsb3codGhpcy5jb21wdXRlZExlZnQsIG1lbnVXaWR0aCkpO1xuICAgIH0sXG4gICAgY2FsY1RvcDogZnVuY3Rpb24gY2FsY1RvcCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY29udmVydFRvVW5pdFwiXSkodGhpcy5hdHRhY2ggIT09IGZhbHNlID8gdGhpcy5jb21wdXRlZFRvcCA6IHRoaXMuY2FsY1lPdmVyZmxvdyh0aGlzLmNvbXB1dGVkVG9wKSk7XG4gICAgfSxcbiAgICBjYWxjWE92ZXJmbG93OiBmdW5jdGlvbiBjYWxjWE92ZXJmbG93KGxlZnQsIG1lbnVXaWR0aCkge1xuICAgICAgdmFyIHhPdmVyZmxvdyA9IGxlZnQgKyBtZW51V2lkdGggLSB0aGlzLnBhZ2VXaWR0aCArIDEyO1xuXG4gICAgICBpZiAoKCF0aGlzLmxlZnQgfHwgdGhpcy5yaWdodCkgJiYgeE92ZXJmbG93ID4gMCkge1xuICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCAtIHhPdmVyZmxvdywgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgMTIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGVmdCArIHRoaXMuZ2V0T2Zmc2V0TGVmdCgpO1xuICAgIH0sXG4gICAgY2FsY1lPdmVyZmxvdzogZnVuY3Rpb24gY2FsY1lPdmVyZmxvdyh0b3ApIHtcbiAgICAgIHZhciBkb2N1bWVudEhlaWdodCA9IHRoaXMuZ2V0SW5uZXJIZWlnaHQoKTtcbiAgICAgIHZhciB0b1RvcCA9IHRoaXMucGFnZVlPZmZzZXQgKyBkb2N1bWVudEhlaWdodDtcbiAgICAgIHZhciBhY3RpdmF0b3IgPSB0aGlzLmRpbWVuc2lvbnMuYWN0aXZhdG9yO1xuICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSB0aGlzLmRpbWVuc2lvbnMuY29udGVudC5oZWlnaHQ7XG4gICAgICB2YXIgdG90YWxIZWlnaHQgPSB0b3AgKyBjb250ZW50SGVpZ2h0O1xuICAgICAgdmFyIGlzT3ZlcmZsb3dpbmcgPSB0b1RvcCA8IHRvdGFsSGVpZ2h0OyAvLyBJZiBvdmVyZmxvd2luZyBib3R0b20gYW5kIG9mZnNldFxuICAgICAgLy8gVE9ETzogc2V0ICdib3R0b20nIHBvc2l0aW9uIGluc3RlYWQgb2YgJ3RvcCdcblxuICAgICAgaWYgKGlzT3ZlcmZsb3dpbmcgJiYgdGhpcy5vZmZzZXRPdmVyZmxvdyAmJiAvLyBJZiB3ZSBkb24ndCBoYXZlIGVub3VnaCByb29tIHRvIG9mZnNldFxuICAgICAgLy8gdGhlIG92ZXJmbG93LCBkb24ndCBvZmZzZXRcbiAgICAgIGFjdGl2YXRvci50b3AgPiBjb250ZW50SGVpZ2h0KSB7XG4gICAgICAgIHRvcCA9IHRoaXMucGFnZVlPZmZzZXQgKyAoYWN0aXZhdG9yLnRvcCAtIGNvbnRlbnRIZWlnaHQpOyAvLyBJZiBvdmVyZmxvd2luZyBib3R0b21cbiAgICAgIH0gZWxzZSBpZiAoaXNPdmVyZmxvd2luZyAmJiAhdGhpcy5hbGxvd092ZXJmbG93KSB7XG4gICAgICAgIHRvcCA9IHRvVG9wIC0gY29udGVudEhlaWdodCAtIDEyOyAvLyBJZiBvdmVyZmxvd2luZyB0b3BcbiAgICAgIH0gZWxzZSBpZiAodG9wIDwgdGhpcy5wYWdlWU9mZnNldCAmJiAhdGhpcy5hbGxvd092ZXJmbG93KSB7XG4gICAgICAgIHRvcCA9IHRoaXMucGFnZVlPZmZzZXQgKyAxMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRvcCA8IDEyID8gMTIgOiB0b3A7XG4gICAgfSxcbiAgICBjYWxsQWN0aXZhdGU6IGZ1bmN0aW9uIGNhbGxBY3RpdmF0ZSgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNXaW5kb3cpIHJldHVybjtcbiAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9LFxuICAgIGNhbGxEZWFjdGl2YXRlOiBmdW5jdGlvbiBjYWxsRGVhY3RpdmF0ZSgpIHtcbiAgICAgIHRoaXMuaXNDb250ZW50QWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9LFxuICAgIGNoZWNrRm9yUGFnZVlPZmZzZXQ6IGZ1bmN0aW9uIGNoZWNrRm9yUGFnZVlPZmZzZXQoKSB7XG4gICAgICBpZiAodGhpcy5oYXNXaW5kb3cpIHtcbiAgICAgICAgdGhpcy5wYWdlWU9mZnNldCA9IHRoaXMuYWN0aXZhdG9yRml4ZWQgPyAwIDogdGhpcy5nZXRPZmZzZXRUb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoZWNrQWN0aXZhdG9yRml4ZWQ6IGZ1bmN0aW9uIGNoZWNrQWN0aXZhdG9yRml4ZWQoKSB7XG4gICAgICBpZiAodGhpcy5hdHRhY2ggIT09IGZhbHNlKSByZXR1cm47XG4gICAgICB2YXIgZWwgPSB0aGlzLmdldEFjdGl2YXRvcigpO1xuXG4gICAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgICAgIHRoaXMuYWN0aXZhdG9yRml4ZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGl2YXRvckZpeGVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBkZWFjdGl2YXRlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge30sXG4gICAgZ2VuQWN0aXZhdG9yTGlzdGVuZXJzOiBmdW5jdGlvbiBnZW5BY3RpdmF0b3JMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgbGlzdGVuZXJzID0gX2FjdGl2YXRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5BY3RpdmF0b3JMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICAgIHZhciBvbkNsaWNrID0gbGlzdGVuZXJzLmNsaWNrO1xuXG4gICAgICBsaXN0ZW5lcnMuY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoX3RoaXMub3Blbk9uQ2xpY2spIHtcbiAgICAgICAgICBvbkNsaWNrICYmIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5hYnNvbHV0ZVggPSBlLmNsaWVudFg7XG4gICAgICAgIF90aGlzLmFic29sdXRlWSA9IGUuY2xpZW50WTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfSxcbiAgICBnZXRJbm5lckhlaWdodDogZnVuY3Rpb24gZ2V0SW5uZXJIZWlnaHQoKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzV2luZG93KSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICB9LFxuICAgIGdldE9mZnNldExlZnQ6IGZ1bmN0aW9uIGdldE9mZnNldExlZnQoKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzV2luZG93KSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgfSxcbiAgICBnZXRPZmZzZXRUb3A6IGZ1bmN0aW9uIGdldE9mZnNldFRvcCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNXaW5kb3cpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIH0sXG4gICAgZ2V0Um91bmRlZEJvdW5kZWRDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRSb3VuZGVkQm91bmRlZENsaWVudFJlY3QoZWwpIHtcbiAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IE1hdGgucm91bmQocmVjdC50b3ApLFxuICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHJlY3QubGVmdCksXG4gICAgICAgIGJvdHRvbTogTWF0aC5yb3VuZChyZWN0LmJvdHRvbSksXG4gICAgICAgIHJpZ2h0OiBNYXRoLnJvdW5kKHJlY3QucmlnaHQpLFxuICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChyZWN0LndpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKHJlY3QuaGVpZ2h0KVxuICAgICAgfTtcbiAgICB9LFxuICAgIG1lYXN1cmU6IGZ1bmN0aW9uIG1lYXN1cmUoZWwpIHtcbiAgICAgIGlmICghZWwgfHwgIXRoaXMuaGFzV2luZG93KSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciByZWN0ID0gdGhpcy5nZXRSb3VuZGVkQm91bmRlZENsaWVudFJlY3QoZWwpOyAvLyBBY2NvdW50IGZvciBhY3RpdmF0b3IgbWFyZ2luXG5cbiAgICAgIGlmICh0aGlzLmF0dGFjaCAhPT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgICByZWN0LmxlZnQgPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgICAgICAgcmVjdC50b3AgPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3ApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVjdDtcbiAgICB9LFxuICAgIHNuZWFrUGVlazogZnVuY3Rpb24gc25lYWtQZWVrKGNiKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSBfdGhpcy4kcmVmcy5jb250ZW50O1xuXG4gICAgICAgIGlmICghZWwgfHwgZWwuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHN0YXJ0VHJhbnNpdGlvbjogZnVuY3Rpb24gc3RhcnRUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmlzQ29udGVudEFjdGl2ZSA9IF90aGlzLmhhc0p1c3RGb2N1c2VkID0gX3RoaXMuaXNBY3RpdmU7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBkYXRlRGltZW5zaW9uczogZnVuY3Rpb24gdXBkYXRlRGltZW5zaW9ucygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuaGFzV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICB0aGlzLmNoZWNrQWN0aXZhdG9yRml4ZWQoKTtcbiAgICAgIHRoaXMuY2hlY2tGb3JQYWdlWU9mZnNldCgpO1xuICAgICAgdGhpcy5wYWdlV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICB2YXIgZGltZW5zaW9ucyA9IHt9OyAvLyBBY3RpdmF0b3Igc2hvdWxkIGFscmVhZHkgYmUgc2hvd25cblxuICAgICAgaWYgKCF0aGlzLmhhc0FjdGl2YXRvciB8fCB0aGlzLmFic29sdXRlKSB7XG4gICAgICAgIGRpbWVuc2lvbnMuYWN0aXZhdG9yID0gdGhpcy5hYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYWN0aXZhdG9yID0gdGhpcy5nZXRBY3RpdmF0b3IoKTtcbiAgICAgICAgaWYgKCFhY3RpdmF0b3IpIHJldHVybjtcbiAgICAgICAgZGltZW5zaW9ucy5hY3RpdmF0b3IgPSB0aGlzLm1lYXN1cmUoYWN0aXZhdG9yKTtcbiAgICAgICAgZGltZW5zaW9ucy5hY3RpdmF0b3Iub2Zmc2V0TGVmdCA9IGFjdGl2YXRvci5vZmZzZXRMZWZ0O1xuXG4gICAgICAgIGlmICh0aGlzLmF0dGFjaCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAvLyBhY2NvdW50IGZvciBjc3MgcGFkZGluZyBjYXVzaW5nIHRoaW5ncyB0byBub3QgbGluZSB1cFxuICAgICAgICAgIC8vIHRoaXMgaXMgbW9zdGx5IGZvciB2LWF1dG9jb21wbGV0ZSwgaG9wZWZ1bGx5IGl0IHdvbid0IGJyZWFrIGFueXRoaW5nXG4gICAgICAgICAgZGltZW5zaW9ucy5hY3RpdmF0b3Iub2Zmc2V0VG9wID0gYWN0aXZhdG9yLm9mZnNldFRvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaW1lbnNpb25zLmFjdGl2YXRvci5vZmZzZXRUb3AgPSAwO1xuICAgICAgICB9XG4gICAgICB9IC8vIERpc3BsYXkgYW5kIGhpZGUgdG8gZ2V0IGRpbWVuc2lvbnNcblxuXG4gICAgICB0aGlzLnNuZWFrUGVlayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRpbWVuc2lvbnMuY29udGVudCA9IF90aGlzLm1lYXN1cmUoX3RoaXMuJHJlZnMuY29udGVudCk7XG4gICAgICAgIF90aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9vdmVybGF5YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL292ZXJsYXlhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1ZPdmVybGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21wb25lbnRzL1ZPdmVybGF5ICovIFwiLi9zcmMvY29tcG9uZW50cy9WT3ZlcmxheS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuLy8gQ29tcG9uZW50c1xuIC8vIFV0aWxpdGllc1xuXG4gLy8gVHlwZXNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAnb3ZlcmxheWFibGUnLFxuICBwcm9wczoge1xuICAgIGhpZGVPdmVybGF5OiBCb29sZWFuLFxuICAgIG92ZXJsYXlDb2xvcjogU3RyaW5nLFxuICAgIG92ZXJsYXlPcGFjaXR5OiBbTnVtYmVyLCBTdHJpbmddXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG92ZXJsYXk6IG51bGxcbiAgICB9O1xuICB9LFxuICB3YXRjaDoge1xuICAgIGhpZGVPdmVybGF5OiBmdW5jdGlvbiBoaWRlT3ZlcmxheSh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm47XG4gICAgICBpZiAodmFsdWUpIHRoaXMucmVtb3ZlT3ZlcmxheSgpO2Vsc2UgdGhpcy5nZW5PdmVybGF5KCk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHRoaXMucmVtb3ZlT3ZlcmxheSgpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY3JlYXRlT3ZlcmxheTogZnVuY3Rpb24gY3JlYXRlT3ZlcmxheSgpIHtcbiAgICAgIHZhciBvdmVybGF5ID0gbmV3IF9jb21wb25lbnRzX1ZPdmVybGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKHtcbiAgICAgICAgcHJvcHNEYXRhOiB7XG4gICAgICAgICAgYWJzb2x1dGU6IHRoaXMuYWJzb2x1dGUsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgIGNvbG9yOiB0aGlzLm92ZXJsYXlDb2xvcixcbiAgICAgICAgICBvcGFjaXR5OiB0aGlzLm92ZXJsYXlPcGFjaXR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb3ZlcmxheS4kbW91bnQoKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmFic29sdXRlID8gdGhpcy4kZWwucGFyZW50Tm9kZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFwcF0nKTtcbiAgICAgIHBhcmVudCAmJiBwYXJlbnQuaW5zZXJ0QmVmb3JlKG92ZXJsYXkuJGVsLCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgIH0sXG4gICAgZ2VuT3ZlcmxheTogZnVuY3Rpb24gZ2VuT3ZlcmxheSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuaGlkZVNjcm9sbCgpO1xuICAgICAgaWYgKHRoaXMuaGlkZU92ZXJsYXkpIHJldHVybjtcbiAgICAgIGlmICghdGhpcy5vdmVybGF5KSB0aGlzLmNyZWF0ZU92ZXJsYXkoKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMub3ZlcmxheSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChfdGhpcy5hY3RpdmVaSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIF90aGlzLm92ZXJsYXkuekluZGV4ID0gU3RyaW5nKF90aGlzLmFjdGl2ZVpJbmRleCAtIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKF90aGlzLiRlbCkge1xuICAgICAgICAgIF90aGlzLm92ZXJsYXkuekluZGV4ID0gT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFpJbmRleFwiXSkoX3RoaXMuJGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLm92ZXJsYXkudmFsdWUgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqIHJlbW92ZU92ZXJsYXkoZmFsc2UpIHdpbGwgbm90IHJlc3RvcmUgdGhlIHNjb2xsYmFyIGFmdGVyd2FyZHMgKi9cbiAgICByZW1vdmVPdmVybGF5OiBmdW5jdGlvbiByZW1vdmVPdmVybGF5KHNob3dTY3JvbGwpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChzaG93U2Nyb2xsID09PSB2b2lkIDApIHtcbiAgICAgICAgc2hvd1Njcm9sbCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHtcbiAgICAgICAgT2JqZWN0KF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFkZE9uY2VFdmVudExpc3RlbmVyXCJdKSh0aGlzLm92ZXJsYXkuJGVsLCAndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIV90aGlzLm92ZXJsYXkgfHwgIV90aGlzLm92ZXJsYXkuJGVsIHx8ICFfdGhpcy5vdmVybGF5LiRlbC5wYXJlbnROb2RlIHx8IF90aGlzLm92ZXJsYXkudmFsdWUpIHJldHVybjtcblxuICAgICAgICAgIF90aGlzLm92ZXJsYXkuJGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXMub3ZlcmxheS4kZWwpO1xuXG4gICAgICAgICAgX3RoaXMub3ZlcmxheS4kZGVzdHJveSgpO1xuXG4gICAgICAgICAgX3RoaXMub3ZlcmxheSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm92ZXJsYXkudmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc2hvd1Njcm9sbCAmJiB0aGlzLnNob3dTY3JvbGwoKTtcbiAgICB9LFxuICAgIHNjcm9sbExpc3RlbmVyOiBmdW5jdGlvbiBzY3JvbGxMaXN0ZW5lcihlKSB7XG4gICAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgaWYgKFsnSU5QVVQnLCAnVEVYVEFSRUEnLCAnU0VMRUNUJ10uaW5jbHVkZXMoZS50YXJnZXQudGFnTmFtZSkgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZXRpZnlqcy92dWV0aWZ5L2lzc3Vlcy80NzE1XG4gICAgICAgIGUudGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKSByZXR1cm47XG4gICAgICAgIHZhciB1cCA9IFtfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJrZXlDb2Rlc1wiXS51cCwgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wia2V5Q29kZXNcIl0ucGFnZXVwXTtcbiAgICAgICAgdmFyIGRvd24gPSBbX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wia2V5Q29kZXNcIl0uZG93biwgX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wia2V5Q29kZXNcIl0ucGFnZWRvd25dO1xuXG4gICAgICAgIGlmICh1cC5pbmNsdWRlcyhlLmtleUNvZGUpKSB7XG4gICAgICAgICAgZS5kZWx0YVkgPSAtMTtcbiAgICAgICAgfSBlbHNlIGlmIChkb3duLmluY2x1ZGVzKGUua2V5Q29kZSkpIHtcbiAgICAgICAgICBlLmRlbHRhWSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5IHx8IGUudHlwZSAhPT0gJ2tleWRvd24nICYmIGUudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5IHx8IHRoaXMuY2hlY2tQYXRoKGUpKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSxcbiAgICBoYXNTY3JvbGxiYXI6IGZ1bmN0aW9uIGhhc1Njcm9sbGJhcihlbCkge1xuICAgICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgIHJldHVybiBbJ2F1dG8nLCAnc2Nyb2xsJ10uaW5jbHVkZXMoc3R5bGUub3ZlcmZsb3dZKSAmJiBlbC5zY3JvbGxIZWlnaHQgPiBlbC5jbGllbnRIZWlnaHQ7XG4gICAgfSxcbiAgICBzaG91bGRTY3JvbGw6IGZ1bmN0aW9uIHNob3VsZFNjcm9sbChlbCwgZGVsdGEpIHtcbiAgICAgIGlmIChlbC5zY3JvbGxUb3AgPT09IDAgJiYgZGVsdGEgPCAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBlbC5zY3JvbGxUb3AgKyBlbC5jbGllbnRIZWlnaHQgPT09IGVsLnNjcm9sbEhlaWdodCAmJiBkZWx0YSA+IDA7XG4gICAgfSxcbiAgICBpc0luc2lkZTogZnVuY3Rpb24gaXNJbnNpZGUoZWwsIHBhcmVudCkge1xuICAgICAgaWYgKGVsID09PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGVsID09PSBudWxsIHx8IGVsID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzSW5zaWRlKGVsLnBhcmVudE5vZGUsIHBhcmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGVja1BhdGg6IGZ1bmN0aW9uIGNoZWNrUGF0aChlKSB7XG4gICAgICB2YXIgcGF0aCA9IGUucGF0aCB8fCB0aGlzLmNvbXBvc2VkUGF0aChlKTtcbiAgICAgIHZhciBkZWx0YSA9IGUuZGVsdGFZO1xuXG4gICAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicgJiYgcGF0aFswXSA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICB2YXIgZGlhbG9nID0gdGhpcy4kcmVmcy5kaWFsb2c7IC8vIGdldFNlbGVjdGlvbiByZXR1cm5zIG51bGwgaW4gZmlyZWZveCBpbiBzb21lIGVkZ2UgY2FzZXMsIGNhbiBiZSBpZ25vcmVkXG5cbiAgICAgICAgdmFyIHNlbGVjdGVkID0gd2luZG93LmdldFNlbGVjdGlvbigpLmFuY2hvck5vZGU7XG5cbiAgICAgICAgaWYgKGRpYWxvZyAmJiB0aGlzLmhhc1Njcm9sbGJhcihkaWFsb2cpICYmIHRoaXMuaXNJbnNpZGUoc2VsZWN0ZWQsIGRpYWxvZykpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zaG91bGRTY3JvbGwoZGlhbG9nLCBkZWx0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHBhdGgubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBlbCA9IHBhdGhbaW5kZXhdO1xuICAgICAgICBpZiAoZWwgPT09IGRvY3VtZW50KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGVsID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZWwgPT09IHRoaXMuJHJlZnMuY29udGVudCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhhc1Njcm9sbGJhcihlbCkpIHJldHVybiB0aGlzLnNob3VsZFNjcm9sbChlbCwgZGVsdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgZm9yIEV2ZW50LnByb3RvdHlwZS5jb21wb3NlZFBhdGhcbiAgICAgKi9cbiAgICBjb21wb3NlZFBhdGg6IGZ1bmN0aW9uIGNvbXBvc2VkUGF0aChlKSB7XG4gICAgICBpZiAoZS5jb21wb3NlZFBhdGgpIHJldHVybiBlLmNvbXBvc2VkUGF0aCgpO1xuICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuXG4gICAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgcGF0aC5wdXNoKGVsKTtcblxuICAgICAgICBpZiAoZWwudGFnTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgcGF0aC5wdXNoKGRvY3VtZW50KTtcbiAgICAgICAgICBwYXRoLnB1c2god2luZG93KTtcbiAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfSxcbiAgICBoaWRlU2Nyb2xsOiBmdW5jdGlvbiBoaWRlU2Nyb2xsKCkge1xuICAgICAgaWYgKHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5zbUFuZERvd24pIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LXktaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWRkUGFzc2l2ZUV2ZW50TGlzdGVuZXJcIl0pKHdpbmRvdywgJ3doZWVsJywgdGhpcy5zY3JvbGxMaXN0ZW5lciwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc2Nyb2xsTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1Njcm9sbDogZnVuY3Rpb24gc2hvd1Njcm9sbCgpIHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy15LWhpZGRlbicpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5zY3JvbGxMaXN0ZW5lcik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc2Nyb2xsTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvcGlja2VyLWJ1dHRvbi9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvcGlja2VyLWJ1dHRvbi9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8vIE1peGluc1xuIC8vIFV0aWxpdGllc1xuXG5cblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShfY29sb3JhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBtZXRob2RzOiB7XG4gICAgZ2VuUGlja2VyQnV0dG9uOiBmdW5jdGlvbiBnZW5QaWNrZXJCdXR0b24ocHJvcCwgdmFsdWUsIGNvbnRlbnQsIHJlYWRvbmx5LCBzdGF0aWNDbGFzcykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHJlYWRvbmx5ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmVhZG9ubHkgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRpY0NsYXNzID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhdGljQ2xhc3MgPSAnJztcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGl2ZSA9IHRoaXNbcHJvcF0gPT09IHZhbHVlO1xuXG4gICAgICB2YXIgY2xpY2sgPSBmdW5jdGlvbiBjbGljayhldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy4kZW1pdChcInVwZGF0ZTpcIiArIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJrZWJhYkNhc2VcIl0pKHByb3ApLCB2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzczogKFwidi1waWNrZXJfX3RpdGxlX19idG4gXCIgKyBzdGF0aWNDbGFzcykudHJpbSgpLFxuICAgICAgICBjbGFzczoge1xuICAgICAgICAgICd2LXBpY2tlcl9fdGl0bGVfX2J0bi0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgICAgICd2LXBpY2tlcl9fdGl0bGVfX2J0bi0tcmVhZG9ubHknOiByZWFkb25seVxuICAgICAgICB9LFxuICAgICAgICBvbjogYWN0aXZlIHx8IHJlYWRvbmx5ID8gdW5kZWZpbmVkIDoge1xuICAgICAgICAgIGNsaWNrOiBjbGlja1xuICAgICAgICB9XG4gICAgICB9LCBBcnJheS5pc0FycmF5KGNvbnRlbnQpID8gY29udGVudCA6IFtjb250ZW50XSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9waWNrZXIvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvcGlja2VyL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19WUGlja2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21wb25lbnRzL1ZQaWNrZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZQaWNrZXIvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbG9yYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29sb3JhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbG9yYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdGhlbWVhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90aGVtZWFibGUgKi8gXCIuL3NyYy9taXhpbnMvdGhlbWVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcbi8vIENvbXBvbmVudHNcbiAvLyBNaXhpbnNcblxuXG4gLy8gVXRpbHNcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF90aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl1cbi8qIEB2dWUvY29tcG9uZW50ICovXG4pLmV4dGVuZCh7XG4gIG5hbWU6ICdwaWNrZXInLFxuICBwcm9wczoge1xuICAgIGZ1bGxXaWR0aDogQm9vbGVhbixcbiAgICBoZWFkZXJDb2xvcjogU3RyaW5nLFxuICAgIGxhbmRzY2FwZTogQm9vbGVhbixcbiAgICBub1RpdGxlOiBCb29sZWFuLFxuICAgIHdpZHRoOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMjkwXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuUGlja2VyVGl0bGU6IGZ1bmN0aW9uIGdlblBpY2tlclRpdGxlKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBnZW5QaWNrZXJCb2R5OiBmdW5jdGlvbiBnZW5QaWNrZXJCb2R5KCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBnZW5QaWNrZXJBY3Rpb25zU2xvdDogZnVuY3Rpb24gZ2VuUGlja2VyQWN0aW9uc1Nsb3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCA/IHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe1xuICAgICAgICBzYXZlOiB0aGlzLnNhdmUsXG4gICAgICAgIGNhbmNlbDogdGhpcy5jYW5jZWxcbiAgICAgIH0pIDogdGhpcy4kc2xvdHMuZGVmYXVsdDtcbiAgICB9LFxuICAgIGdlblBpY2tlcjogZnVuY3Rpb24gZ2VuUGlja2VyKHN0YXRpY0NsYXNzKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcblxuICAgICAgaWYgKCF0aGlzLm5vVGl0bGUpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5nZW5QaWNrZXJUaXRsZSgpO1xuICAgICAgICB0aXRsZSAmJiBjaGlsZHJlbi5wdXNoKHRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJvZHkgPSB0aGlzLmdlblBpY2tlckJvZHkoKTtcbiAgICAgIGJvZHkgJiYgY2hpbGRyZW4ucHVzaChib2R5KTtcbiAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7XG4gICAgICAgIHNsb3Q6ICdhY3Rpb25zJ1xuICAgICAgfSwgW3RoaXMuZ2VuUGlja2VyQWN0aW9uc1Nsb3QoKV0pKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX1ZQaWNrZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6IHN0YXRpY0NsYXNzLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmhlYWRlckNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgZGFyazogdGhpcy5kYXJrLFxuICAgICAgICAgIGZ1bGxXaWR0aDogdGhpcy5mdWxsV2lkdGgsXG4gICAgICAgICAgbGFuZHNjYXBlOiB0aGlzLmxhbmRzY2FwZSxcbiAgICAgICAgICBsaWdodDogdGhpcy5saWdodCxcbiAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICBub1RpdGxlOiB0aGlzLm5vVGl0bGVcbiAgICAgICAgfVxuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvcG9zaXRpb25hYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL3Bvc2l0aW9uYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGZhY3RvcnksIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmFjdG9yeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhY3Rvcnk7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG5cblxudmFyIGF2YWlsYWJsZVByb3BzID0ge1xuICBhYnNvbHV0ZTogQm9vbGVhbixcbiAgYm90dG9tOiBCb29sZWFuLFxuICBmaXhlZDogQm9vbGVhbixcbiAgbGVmdDogQm9vbGVhbixcbiAgcmlnaHQ6IEJvb2xlYW4sXG4gIHRvcDogQm9vbGVhblxufTtcbmZ1bmN0aW9uIGZhY3Rvcnkoc2VsZWN0ZWQpIHtcbiAgaWYgKHNlbGVjdGVkID09PSB2b2lkIDApIHtcbiAgICBzZWxlY3RlZCA9IFtdO1xuICB9XG5cbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG5hbWU6ICdwb3NpdGlvbmFibGUnLFxuICAgIHByb3BzOiBzZWxlY3RlZC5sZW5ndGggPyBPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZmlsdGVyT2JqZWN0T25LZXlzXCJdKShhdmFpbGFibGVQcm9wcywgc2VsZWN0ZWQpIDogYXZhaWxhYmxlUHJvcHNcbiAgfSk7XG59XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZhY3RvcnkoKSk7IC8vIEFkZCBhIGAqYCBiZWZvcmUgdGhlIHNlY29uZCBgL2BcblxuLyogVGVzdHMgL1xubGV0IHNpbmdsZSA9IGZhY3RvcnkoWyd0b3AnXSkuZXh0ZW5kKHtcbiAgY3JlYXRlZCAoKSB7XG4gICAgdGhpcy50b3BcbiAgICB0aGlzLmJvdHRvbVxuICAgIHRoaXMuYWJzb2x1dGVcbiAgfVxufSlcblxubGV0IHNvbWUgPSBmYWN0b3J5KFsndG9wJywgJ2JvdHRvbSddKS5leHRlbmQoe1xuICBjcmVhdGVkICgpIHtcbiAgICB0aGlzLnRvcFxuICAgIHRoaXMuYm90dG9tXG4gICAgdGhpcy5hYnNvbHV0ZVxuICB9XG59KVxuXG5sZXQgYWxsID0gZmFjdG9yeSgpLmV4dGVuZCh7XG4gIGNyZWF0ZWQgKCkge1xuICAgIHRoaXMudG9wXG4gICAgdGhpcy5ib3R0b21cbiAgICB0aGlzLmFic29sdXRlXG4gICAgdGhpcy5mb29iYXJcbiAgfVxufSlcbi8qKi9cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3Byb3h5YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy9wcm94eWFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBmYWN0b3J5LCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZhY3RvcnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmYWN0b3J5OyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbmZ1bmN0aW9uIGZhY3RvcnkocHJvcCwgZXZlbnQpIHtcbiAgdmFyIF9hLCBfYjtcblxuICBpZiAocHJvcCA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcCA9ICd2YWx1ZSc7XG4gIH1cblxuICBpZiAoZXZlbnQgPT09IHZvaWQgMCkge1xuICAgIGV2ZW50ID0gJ2NoYW5nZSc7XG4gIH1cblxuICByZXR1cm4gdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gICAgbmFtZTogJ3Byb3h5YWJsZScsXG4gICAgbW9kZWw6IHtcbiAgICAgIHByb3A6IHByb3AsXG4gICAgICBldmVudDogZXZlbnRcbiAgICB9LFxuICAgIHByb3BzOiAoX2EgPSB7fSwgX2FbcHJvcF0gPSB7XG4gICAgICByZXF1aXJlZDogZmFsc2VcbiAgICB9LCBfYSksXG4gICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsTGF6eVZhbHVlOiB0aGlzW3Byb3BdXG4gICAgICB9O1xuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgIGludGVybmFsVmFsdWU6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxMYXp5VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgICAgIGlmICh2YWwgPT09IHRoaXMuaW50ZXJuYWxMYXp5VmFsdWUpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmludGVybmFsTGF6eVZhbHVlID0gdmFsO1xuICAgICAgICAgIHRoaXMuJGVtaXQoZXZlbnQsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHdhdGNoOiAoX2IgPSB7fSwgX2JbcHJvcF0gPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICB0aGlzLmludGVybmFsTGF6eVZhbHVlID0gdmFsO1xuICAgIH0sIF9iKVxuICB9KTtcbn1cbi8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmUgKi9cblxudmFyIFByb3h5YWJsZSA9IGZhY3RvcnkoKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoUHJveHlhYmxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvcmVnaXN0cmFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGluamVjdCwgcHJvdmlkZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbmplY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpbmplY3Q7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInByb3ZpZGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwcm92aWRlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuXG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVXYXJuaW5nKGNoaWxkLCBwYXJlbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbnNvbGVXYXJuXCJdKShcIlRoZSBcIiArIGNoaWxkICsgXCIgY29tcG9uZW50IG11c3QgYmUgdXNlZCBpbnNpZGUgYSBcIiArIHBhcmVudCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGluamVjdChuYW1lc3BhY2UsIGNoaWxkLCBwYXJlbnQpIHtcbiAgdmFyIF9hO1xuXG4gIHZhciBkZWZhdWx0SW1wbCA9IGNoaWxkICYmIHBhcmVudCA/IHtcbiAgICByZWdpc3RlcjogZ2VuZXJhdGVXYXJuaW5nKGNoaWxkLCBwYXJlbnQpLFxuICAgIHVucmVnaXN0ZXI6IGdlbmVyYXRlV2FybmluZyhjaGlsZCwgcGFyZW50KVxuICB9IDogbnVsbDtcbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG5hbWU6ICdyZWdpc3RyYWJsZS1pbmplY3QnLFxuICAgIGluamVjdDogKF9hID0ge30sIF9hW25hbWVzcGFjZV0gPSB7XG4gICAgICBkZWZhdWx0OiBkZWZhdWx0SW1wbFxuICAgIH0sIF9hKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHByb3ZpZGUobmFtZXNwYWNlLCBzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICBzZWxmID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gICAgbmFtZTogJ3JlZ2lzdHJhYmxlLXByb3ZpZGUnLFxuICAgIG1ldGhvZHM6IHNlbGYgPyB7fSA6IHtcbiAgICAgIHJlZ2lzdGVyOiBudWxsLFxuICAgICAgdW5yZWdpc3RlcjogbnVsbFxuICAgIH0sXG4gICAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIF9hID0ge30sIF9hW25hbWVzcGFjZV0gPSBzZWxmID8gdGhpcyA6IHtcbiAgICAgICAgcmVnaXN0ZXI6IHRoaXMucmVnaXN0ZXIsXG4gICAgICAgIHVucmVnaXN0ZXI6IHRoaXMudW5yZWdpc3RlclxuICAgICAgfSwgX2E7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3JldHVybmFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL3JldHVybmFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qIEB2dWUvY29tcG9uZW50ICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdyZXR1cm5hYmxlJyxcbiAgcHJvcHM6IHtcbiAgICByZXR1cm5WYWx1ZTogbnVsbFxuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBvcmlnaW5hbFZhbHVlOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxWYWx1ZSA9IHRoaXMucmV0dXJuVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6cmV0dXJuLXZhbHVlJywgdGhpcy5vcmlnaW5hbFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLm9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy9yaXBwbGVhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy9yaXBwbGVhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9kaXJlY3RpdmVzL3JpcHBsZSAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvcmlwcGxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8vIERpcmVjdGl2ZXNcbiAvLyBUeXBlc1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdyaXBwbGVhYmxlJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIHJpcHBsZTogX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgcmlwcGxlOiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5SaXBwbGU6IGZ1bmN0aW9uIGdlblJpcHBsZShkYXRhKSB7XG4gICAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRhdGEgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnJpcHBsZSkgcmV0dXJuIG51bGw7XG4gICAgICBkYXRhLnN0YXRpY0NsYXNzID0gJ3YtaW5wdXQtLXNlbGVjdGlvbi1jb250cm9sc19fcmlwcGxlJztcbiAgICAgIGRhdGEuZGlyZWN0aXZlcyA9IGRhdGEuZGlyZWN0aXZlcyB8fCBbXTtcbiAgICAgIGRhdGEuZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ3JpcHBsZScsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgY2VudGVyOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGF0YS5vbiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGljazogdGhpcy5vbkNoYW5nZVxuICAgICAgfSwgdGhpcy4kbGlzdGVuZXJzKTtcbiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCBkYXRhKTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3JvdXRhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvcm91dGFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXJlY3RpdmVzX3JpcHBsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUgKi8gXCIuL3NyYy9kaXJlY3RpdmVzL3JpcHBsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4gLy8gRGlyZWN0aXZlc1xuXG4gLy8gVXRpbGl0aWVzXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3JvdXRhYmxlJyxcbiAgZGlyZWN0aXZlczoge1xuICAgIFJpcHBsZTogX2RpcmVjdGl2ZXNfcmlwcGxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgYWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICBhcHBlbmQ6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZXhhY3Q6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGV4YWN0QWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICBsaW5rOiBCb29sZWFuLFxuICAgIGhyZWY6IFtTdHJpbmcsIE9iamVjdF0sXG4gICAgdG86IFtTdHJpbmcsIE9iamVjdF0sXG4gICAgbnV4dDogQm9vbGVhbixcbiAgICByZXBsYWNlOiBCb29sZWFuLFxuICAgIHJpcHBsZToge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICB0YWc6IFN0cmluZyxcbiAgICB0YXJnZXQ6IFN0cmluZ1xuICB9LFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBwcm94eUNsYXNzOiAnJ1xuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHtcbiAgICAgIHZhciBjbGFzc2VzID0ge307XG4gICAgICBpZiAodGhpcy50bykgcmV0dXJuIGNsYXNzZXM7XG4gICAgICBpZiAodGhpcy5hY3RpdmVDbGFzcykgY2xhc3Nlc1t0aGlzLmFjdGl2ZUNsYXNzXSA9IHRoaXMuaXNBY3RpdmU7XG4gICAgICBpZiAodGhpcy5wcm94eUNsYXNzKSBjbGFzc2VzW3RoaXMucHJveHlDbGFzc10gPSB0aGlzLmlzQWN0aXZlO1xuICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgfSxcbiAgICBjb21wdXRlZFJpcHBsZTogZnVuY3Rpb24gY29tcHV0ZWRSaXBwbGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yaXBwbGUgIT0gbnVsbCA/IHRoaXMucmlwcGxlIDogIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5pc0NsaWNrYWJsZTtcbiAgICB9LFxuICAgIGlzQ2xpY2thYmxlOiBmdW5jdGlvbiBpc0NsaWNrYWJsZSgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmlzTGluayB8fCB0aGlzLiRsaXN0ZW5lcnMuY2xpY2sgfHwgdGhpcy4kbGlzdGVuZXJzWychY2xpY2snXSB8fCB0aGlzLiRhdHRycy50YWJpbmRleCk7XG4gICAgfSxcbiAgICBpc0xpbms6IGZ1bmN0aW9uIGlzTGluaygpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvIHx8IHRoaXMuaHJlZiB8fCB0aGlzLmxpbms7XG4gICAgfSxcbiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgJHJvdXRlOiAnb25Sb3V0ZUNoYW5nZSdcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVSb3V0ZUxpbms6IGZ1bmN0aW9uIGdlbmVyYXRlUm91dGVMaW5rKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgZXhhY3QgPSB0aGlzLmV4YWN0O1xuICAgICAgdmFyIHRhZztcbiAgICAgIHZhciBkYXRhID0gKF9hID0ge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHRhYmluZGV4OiAndGFiaW5kZXgnIGluIHRoaXMuJGF0dHJzID8gdGhpcy4kYXR0cnMudGFiaW5kZXggOiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcyxcbiAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVzLFxuICAgICAgICBwcm9wczoge30sXG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogJ3JpcHBsZScsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuY29tcHV0ZWRSaXBwbGVcbiAgICAgICAgfV1cbiAgICAgIH0sIF9hW3RoaXMudG8gPyAnbmF0aXZlT24nIDogJ29uJ10gPSBfX2Fzc2lnbih7fSwgdGhpcy4kbGlzdGVuZXJzLCB7XG4gICAgICAgIGNsaWNrOiB0aGlzLmNsaWNrXG4gICAgICB9KSwgX2EucmVmID0gJ2xpbmsnLCBfYSk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5leGFjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZXhhY3QgPSB0aGlzLnRvID09PSAnLycgfHwgdGhpcy50byA9PT0gT2JqZWN0KHRoaXMudG8pICYmIHRoaXMudG8ucGF0aCA9PT0gJy8nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50bykge1xuICAgICAgICAvLyBBZGQgYSBzcGVjaWFsIGFjdGl2ZUNsYXNzIGhvb2tcbiAgICAgICAgLy8gZm9yIGNvbXBvbmVudCBsZXZlbCBzdHlsZXNcbiAgICAgICAgdmFyIGFjdGl2ZUNsYXNzID0gdGhpcy5hY3RpdmVDbGFzcztcbiAgICAgICAgdmFyIGV4YWN0QWN0aXZlQ2xhc3MgPSB0aGlzLmV4YWN0QWN0aXZlQ2xhc3MgfHwgYWN0aXZlQ2xhc3M7XG5cbiAgICAgICAgaWYgKHRoaXMucHJveHlDbGFzcykge1xuICAgICAgICAgIGFjdGl2ZUNsYXNzID0gKGFjdGl2ZUNsYXNzICsgXCIgXCIgKyB0aGlzLnByb3h5Q2xhc3MpLnRyaW0oKTtcbiAgICAgICAgICBleGFjdEFjdGl2ZUNsYXNzID0gKGV4YWN0QWN0aXZlQ2xhc3MgKyBcIiBcIiArIHRoaXMucHJveHlDbGFzcykudHJpbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFnID0gdGhpcy5udXh0ID8gJ251eHQtbGluaycgOiAncm91dGVyLWxpbmsnO1xuICAgICAgICBPYmplY3QuYXNzaWduKGRhdGEucHJvcHMsIHtcbiAgICAgICAgICB0bzogdGhpcy50byxcbiAgICAgICAgICBleGFjdDogZXhhY3QsXG4gICAgICAgICAgYWN0aXZlQ2xhc3M6IGFjdGl2ZUNsYXNzLFxuICAgICAgICAgIGV4YWN0QWN0aXZlQ2xhc3M6IGV4YWN0QWN0aXZlQ2xhc3MsXG4gICAgICAgICAgYXBwZW5kOiB0aGlzLmFwcGVuZCxcbiAgICAgICAgICByZXBsYWNlOiB0aGlzLnJlcGxhY2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWcgPSB0aGlzLmhyZWYgJiYgJ2EnIHx8IHRoaXMudGFnIHx8ICdkaXYnO1xuICAgICAgICBpZiAodGFnID09PSAnYScgJiYgdGhpcy5ocmVmKSBkYXRhLmF0dHJzLmhyZWYgPSB0aGlzLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldCkgZGF0YS5hdHRycy50YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhZzogdGFnLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25Sb3V0ZUNoYW5nZTogZnVuY3Rpb24gb25Sb3V0ZUNoYW5nZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy50byB8fCAhdGhpcy4kcmVmcy5saW5rIHx8ICF0aGlzLiRyb3V0ZSkgcmV0dXJuO1xuICAgICAgdmFyIGFjdGl2ZUNsYXNzID0gKHRoaXMuYWN0aXZlQ2xhc3MgKyBcIiBcIiArICh0aGlzLnByb3h5Q2xhc3MgfHwgJycpKS50cmltKCk7XG4gICAgICB2YXIgcGF0aCA9IFwiX3Zub2RlLmRhdGEuY2xhc3MuXCIgKyBhY3RpdmVDbGFzcztcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkoX3RoaXMuJHJlZnMubGluaywgcGF0aCkpIHtcbiAgICAgICAgICBfdGhpcy50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHt9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3Njcm9sbGFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL3Njcm9sbGFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZGlyZWN0aXZlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZGlyZWN0aXZlcyAqLyBcIi4vc3JjL2RpcmVjdGl2ZXMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8vIERpcmVjdGl2ZXNcbiAvLyBVdGlsaXRpZXNcblxuIC8vIFR5cGVzXG5cblxuLyoqXG4gKiBTY3JvbGxhYmxlXG4gKlxuICogVXNlZCBmb3IgbW9uaXRvcmluZyBzY3JvbGxpbmcgYW5kXG4gKiBpbnZva2luZyBmdW5jdGlvbnMgYmFzZWQgdXBvblxuICogc2Nyb2xsaW5nIHRocmVzaG9sZHMgYmVpbmdcbiAqIG1ldC5cbiAqL1xuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICBuYW1lOiAnc2Nyb2xsYWJsZScsXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBTY3JvbGw6IF9kaXJlY3RpdmVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJTY3JvbGxcIl1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBzY3JvbGxUYXJnZXQ6IFN0cmluZyxcbiAgICBzY3JvbGxUaHJlc2hvbGQ6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudFNjcm9sbDogMCxcbiAgICAgIGN1cnJlbnRUaHJlc2hvbGQ6IDAsXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBpc1Njcm9sbGluZ1VwOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzU2Nyb2xsOiAwLFxuICAgICAgc2F2ZWRTY3JvbGw6IDAsXG4gICAgICB0YXJnZXQ6IG51bGxcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIC8qKlxuICAgICAqIEEgY29tcHV0ZWQgcHJvcGVydHkgdGhhdCByZXR1cm5zXG4gICAgICogd2hldGhlciBzY3JvbGxpbmcgZmVhdHVyZXMgYXJlXG4gICAgICogZW5hYmxlZCBvciBkaXNhYmxlZFxuICAgICAqL1xuICAgIGNhblNjcm9sbDogZnVuY3Rpb24gY2FuU2Nyb2xsKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGhyZXNob2xkIHRoYXQgbXVzdCBiZSBtZXQgYmVmb3JlXG4gICAgICogdGhyZXNob2xkTWV0IGZ1bmN0aW9uIGlzIGludm9rZWRcbiAgICAgKi9cbiAgICBjb21wdXRlZFNjcm9sbFRocmVzaG9sZDogZnVuY3Rpb24gY29tcHV0ZWRTY3JvbGxUaHJlc2hvbGQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUaHJlc2hvbGQgPyBOdW1iZXIodGhpcy5zY3JvbGxUaHJlc2hvbGQpIDogMzAwO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBpc1Njcm9sbGluZ1VwOiBmdW5jdGlvbiBpc1Njcm9sbGluZ1VwKCkge1xuICAgICAgdGhpcy5zYXZlZFNjcm9sbCA9IHRoaXMuc2F2ZWRTY3JvbGwgfHwgdGhpcy5jdXJyZW50U2Nyb2xsO1xuICAgIH0sXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgdGhpcy5zYXZlZFNjcm9sbCA9IDA7XG4gICAgfVxuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIGlmICh0aGlzLnNjcm9sbFRhcmdldCkge1xuICAgICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2Nyb2xsVGFyZ2V0KTtcblxuICAgICAgaWYgKCF0aGlzLnRhcmdldCkge1xuICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29uc29sZVdhcm5cIl0pKFwiVW5hYmxlIHRvIGxvY2F0ZSBlbGVtZW50IHdpdGggaWRlbnRpZmllciBcIiArIHRoaXMuc2Nyb2xsVGFyZ2V0LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuY2FuU2Nyb2xsKSByZXR1cm47XG4gICAgICB0aGlzLnByZXZpb3VzU2Nyb2xsID0gdGhpcy5jdXJyZW50U2Nyb2xsO1xuICAgICAgdGhpcy5jdXJyZW50U2Nyb2xsID0gdGhpcy50YXJnZXQgPyB0aGlzLnRhcmdldC5zY3JvbGxUb3AgOiB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nVXAgPSB0aGlzLmN1cnJlbnRTY3JvbGwgPCB0aGlzLnByZXZpb3VzU2Nyb2xsO1xuICAgICAgdGhpcy5jdXJyZW50VGhyZXNob2xkID0gTWF0aC5hYnModGhpcy5jdXJyZW50U2Nyb2xsIC0gdGhpcy5jb21wdXRlZFNjcm9sbFRocmVzaG9sZCk7XG4gICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhfdGhpcy5jdXJyZW50U2Nyb2xsIC0gX3RoaXMuc2F2ZWRTY3JvbGwpID4gX3RoaXMuY29tcHV0ZWRTY3JvbGxUaHJlc2hvbGQpIF90aGlzLnRocmVzaG9sZE1ldCgpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2QgaW52b2tlZCB3aGVuXG4gICAgICogc2Nyb2xsaW5nIGluIGFueSBkaXJlY3Rpb25cbiAgICAgKiBoYXMgZXhjZWVkZWQgdGhlIHRocmVzaG9sZFxuICAgICAqL1xuICAgIHRocmVzaG9sZE1ldDogZnVuY3Rpb24gdGhyZXNob2xkTWV0KCkge31cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvc2VsZWN0YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvc2VsZWN0YWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tcG9uZW50cy9WSW5wdXQgKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZJbnB1dC9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmlwcGxlYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmlwcGxlYWJsZSAqLyBcIi4vc3JjL21peGlucy9yaXBwbGVhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wYXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wYXJhYmxlICovIFwiLi9zcmMvbWl4aW5zL2NvbXBhcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuLy8gQ29tcG9uZW50c1xuIC8vIE1peGluc1xuXG5cbiAvLyBVdGlsaXRpZXNcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKF9jb21wb25lbnRzX1ZJbnB1dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSwgX3JpcHBsZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIF9jb21wYXJhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKS5leHRlbmQoe1xuICBuYW1lOiAnc2VsZWN0YWJsZScsXG4gIG1vZGVsOiB7XG4gICAgcHJvcDogJ2lucHV0VmFsdWUnLFxuICAgIGV2ZW50OiAnY2hhbmdlJ1xuICB9LFxuICBwcm9wczoge1xuICAgIGlkOiBTdHJpbmcsXG4gICAgaW5wdXRWYWx1ZTogbnVsbCxcbiAgICBmYWxzZVZhbHVlOiBudWxsLFxuICAgIHRydWVWYWx1ZTogbnVsbCxcbiAgICBtdWx0aXBsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGxhYmVsOiBTdHJpbmdcbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGFzQ29sb3I6IHRoaXMuaW5wdXRWYWx1ZSxcbiAgICAgIGxhenlWYWx1ZTogdGhpcy5pbnB1dFZhbHVlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb21wdXRlZENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZENvbG9yKCkge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRoaXMuY29sb3IpIHJldHVybiB0aGlzLmNvbG9yO1xuICAgICAgaWYgKHRoaXMuaXNEYXJrICYmICF0aGlzLmFwcElzRGFyaykgcmV0dXJuICd3aGl0ZSc7XG4gICAgICByZXR1cm4gJ2FjY2VudCc7XG4gICAgfSxcbiAgICBpc011bHRpcGxlOiBmdW5jdGlvbiBpc011bHRpcGxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPT09IHRydWUgfHwgdGhpcy5tdWx0aXBsZSA9PT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHRoaXMuaW50ZXJuYWxWYWx1ZSk7XG4gICAgfSxcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnRlcm5hbFZhbHVlO1xuXG4gICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGlucHV0LnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMudmFsdWVDb21wYXJhdG9yKGl0ZW0sIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRydWVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuZmFsc2VWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA/IHRoaXMudmFsdWVDb21wYXJhdG9yKHZhbHVlLCBpbnB1dCkgOiBCb29sZWFuKGlucHV0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudmFsdWVDb21wYXJhdG9yKGlucHV0LCB0aGlzLnRydWVWYWx1ZSk7XG4gICAgfSxcbiAgICBpc0RpcnR5OiBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNBY3RpdmU7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGlucHV0VmFsdWU6IGZ1bmN0aW9uIGlucHV0VmFsdWUodmFsKSB7XG4gICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbDtcbiAgICAgIHRoaXMuaGFzQ29sb3IgPSB2YWw7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2VuTGFiZWw6IGZ1bmN0aW9uIGdlbkxhYmVsKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGxhYmVsID0gX2NvbXBvbmVudHNfVklucHV0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLm9wdGlvbnMubWV0aG9kcy5nZW5MYWJlbC5jYWxsKHRoaXMpO1xuICAgICAgaWYgKCFsYWJlbCkgcmV0dXJuIGxhYmVsO1xuICAgICAgbGFiZWwuZGF0YS5vbiA9IHtcbiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHtcbiAgICAgICAgICAvLyBQcmV2ZW50IGxhYmVsIGZyb21cbiAgICAgICAgICAvLyBjYXVzaW5nIHRoZSBpbnB1dFxuICAgICAgICAgIC8vIHRvIGZvY3VzXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgX3RoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9LFxuICAgIGdlbklucHV0OiBmdW5jdGlvbiBnZW5JbnB1dCh0eXBlLCBhdHRycykge1xuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICBhdHRyczogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgJ2FyaWEtY2hlY2tlZCc6IHRoaXMuaXNBY3RpdmUudG9TdHJpbmcoKSxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkLFxuICAgICAgICAgIGlkOiB0aGlzLmNvbXB1dGVkSWQsXG4gICAgICAgICAgcm9sZTogdHlwZSxcbiAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgIH0sIGF0dHJzKSxcbiAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICBjaGVja2VkOiB0aGlzLmlzQWN0aXZlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgYmx1cjogdGhpcy5vbkJsdXIsXG4gICAgICAgICAgY2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxuICAgICAgICAgIGZvY3VzOiB0aGlzLm9uRm9jdXMsXG4gICAgICAgICAga2V5ZG93bjogdGhpcy5vbktleWRvd25cbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiAnaW5wdXQnXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLmludGVybmFsVmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgIGlucHV0ID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpbnB1dCA9IGlucHV0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiAhX3RoaXMudmFsdWVDb21wYXJhdG9yKGl0ZW0sIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy50cnVlVmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmZhbHNlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbnB1dCA9IHRoaXMudmFsdWVDb21wYXJhdG9yKGlucHV0LCB0aGlzLnRydWVWYWx1ZSkgPyB0aGlzLmZhbHNlVmFsdWUgOiB0aGlzLnRydWVWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgaW5wdXQgPSB0aGlzLnZhbHVlQ29tcGFyYXRvcihpbnB1dCwgdmFsdWUpID8gbnVsbCA6IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQgPSAhaW5wdXQ7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmFsaWRhdGUodHJ1ZSwgaW5wdXQpO1xuICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gaW5wdXQ7XG4gICAgICB0aGlzLmhhc0NvbG9yID0gaW5wdXQ7XG4gICAgfSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKiogQGFic3RyYWN0ICovXG4gICAgb25LZXlkb3duOiBmdW5jdGlvbiBvbktleWRvd24oZSkge31cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvc2l6ZWFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy9zaXplYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICdzaXplYWJsZScsXG4gIHByb3BzOiB7XG4gICAgbGFyZ2U6IEJvb2xlYW4sXG4gICAgc21hbGw6IEJvb2xlYW4sXG4gICAgeExhcmdlOiBCb29sZWFuLFxuICAgIHhTbWFsbDogQm9vbGVhblxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIG1lZGl1bTogZnVuY3Rpb24gbWVkaXVtKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oIXRoaXMueFNtYWxsICYmICF0aGlzLnNtYWxsICYmICF0aGlzLmxhcmdlICYmICF0aGlzLnhMYXJnZSk7XG4gICAgfSxcbiAgICBzaXplYWJsZUNsYXNzZXM6IGZ1bmN0aW9uIHNpemVhYmxlQ2xhc3NlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICd2LXNpemUtLXgtc21hbGwnOiB0aGlzLnhTbWFsbCxcbiAgICAgICAgJ3Ytc2l6ZS0tc21hbGwnOiB0aGlzLnNtYWxsLFxuICAgICAgICAndi1zaXplLS1kZWZhdWx0JzogdGhpcy5tZWRpdW0sXG4gICAgICAgICd2LXNpemUtLWxhcmdlJzogdGhpcy5sYXJnZSxcbiAgICAgICAgJ3Ytc2l6ZS0teC1sYXJnZSc6IHRoaXMueExhcmdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvc3NyLWJvb3RhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL3Nzci1ib290YWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuXG4vKipcbiAqIFNTUkJvb3RhYmxlXG4gKlxuICogQG1peGluXG4gKlxuICogVXNlZCBpbiBsYXlvdXQgY29tcG9uZW50cyAoZHJhd2VyLCB0b29sYmFyLCBjb250ZW50KVxuICogdG8gYXZvaWQgYW4gZW50cnkgYW5pbWF0aW9uIHdoZW4gdXNpbmcgU1NSXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZXh0ZW5kKHtcbiAgbmFtZTogJ3Nzci1ib290YWJsZScsXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQm9vdGVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8gVXNlIHNldEF0dHJpYnV0ZSBpbnN0ZWFkIG9mIGRhdGFzZXRcbiAgICAvLyBiZWNhdXNlIGRhdGFzZXQgZG9lcyBub3Qgd29yayB3ZWxsXG4gICAgLy8gd2l0aCB1bml0IHRlc3RzXG5cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuJGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1ib290ZWQnLCAndHJ1ZScpO1xuXG4gICAgICBfdGhpcy5pc0Jvb3RlZCA9IHRydWU7XG4gICAgfSk7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3N0YWNrYWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy9zdGFja2FibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAnc3RhY2thYmxlJyxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhY2tFbGVtZW50OiBudWxsLFxuICAgICAgc3RhY2tFeGNsdWRlOiBudWxsLFxuICAgICAgc3RhY2tNaW5aSW5kZXg6IDAsXG4gICAgICBpc0FjdGl2ZTogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGFjdGl2ZVpJbmRleDogZnVuY3Rpb24gYWN0aXZlWkluZGV4KCkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gMDtcbiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5zdGFja0VsZW1lbnQgfHwgdGhpcy4kcmVmcy5jb250ZW50OyAvLyBSZXR1cm4gY3VycmVudCB6aW5kZXggaWYgbm90IGFjdGl2ZVxuXG4gICAgICB2YXIgaW5kZXggPSAhdGhpcy5pc0FjdGl2ZSA/IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRaSW5kZXhcIl0pKGNvbnRlbnQpIDogdGhpcy5nZXRNYXhaSW5kZXgodGhpcy5zdGFja0V4Y2x1ZGUgfHwgW2NvbnRlbnRdKSArIDI7XG4gICAgICBpZiAoaW5kZXggPT0gbnVsbCkgcmV0dXJuIGluZGV4OyAvLyBSZXR1cm4gbWF4IGN1cnJlbnQgei1pbmRleCAoZXhjbHVkaW5nIHNlbGYpICsgMlxuICAgICAgLy8gKDIgdG8gbGVhdmUgcm9vbSBmb3IgYW4gb3ZlcmxheSBiZWxvdywgaWYgbmVlZGVkKVxuXG4gICAgICByZXR1cm4gcGFyc2VJbnQoaW5kZXgpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldE1heFpJbmRleDogZnVuY3Rpb24gZ2V0TWF4WkluZGV4KGV4Y2x1ZGUpIHtcbiAgICAgIGlmIChleGNsdWRlID09PSB2b2lkIDApIHtcbiAgICAgICAgZXhjbHVkZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmFzZSA9IHRoaXMuJGVsOyAvLyBTdGFydCB3aXRoIGxvd2VzdCBhbGxvd2VkIHotaW5kZXggb3Igei1pbmRleCBvZlxuICAgICAgLy8gYmFzZSBjb21wb25lbnQncyBlbGVtZW50LCB3aGljaGV2ZXIgaXMgZ3JlYXRlclxuXG4gICAgICB2YXIgemlzID0gW3RoaXMuc3RhY2tNaW5aSW5kZXgsIE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRaSW5kZXhcIl0pKGJhc2UpXTsgLy8gQ29udmVydCB0aGUgTm9kZUxpc3QgdG8gYW4gYXJyYXkgdG9cbiAgICAgIC8vIHByZXZlbnQgYW4gRWRnZSBidWcgd2l0aCBTeW1ib2wuaXRlcmF0b3JcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWV0aWZ5anMvdnVldGlmeS9pc3N1ZXMvMjE0NlxuXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudHMgPSBfX3NwcmVhZChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2LW1lbnVfX2NvbnRlbnQtLWFjdGl2ZScpLCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2LWRpYWxvZ19fY29udGVudC0tYWN0aXZlJykpOyAvLyBHZXQgei1pbmRleCBmb3IgYWxsIGFjdGl2ZSBkaWFsb2dzXG5cblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGFjdGl2ZUVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWV4Y2x1ZGUuaW5jbHVkZXMoYWN0aXZlRWxlbWVudHNbaW5kZXhdKSkge1xuICAgICAgICAgIHppcy5wdXNoKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRaSW5kZXhcIl0pKGFjdGl2ZUVsZW1lbnRzW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCBfX3NwcmVhZCh6aXMpKTtcbiAgICB9XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBmdW5jdGlvbmFsVGhlbWVDbGFzc2VzLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZ1bmN0aW9uYWxUaGVtZUNsYXNzZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmdW5jdGlvbmFsVGhlbWVDbGFzc2VzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5cbmZ1bmN0aW9uIGZ1bmN0aW9uYWxUaGVtZUNsYXNzZXMoY29udGV4dCkge1xuICB2YXIgdm0gPSBfX2Fzc2lnbih7fSwgY29udGV4dC5wcm9wcywgY29udGV4dC5pbmplY3Rpb25zKTtcblxuICB2YXIgaXNEYXJrID0gVGhlbWVhYmxlLm9wdGlvbnMuY29tcHV0ZWQuaXNEYXJrLmNhbGwodm0pO1xuICByZXR1cm4gVGhlbWVhYmxlLm9wdGlvbnMuY29tcHV0ZWQudGhlbWVDbGFzc2VzLmNhbGwoe1xuICAgIGlzRGFyazogaXNEYXJrXG4gIH0pO1xufVxuLyogQHZ1ZS9jb21wb25lbnQgKi9cblxudmFyIFRoZW1lYWJsZSA9IHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoKS5leHRlbmQoe1xuICBuYW1lOiAndGhlbWVhYmxlJyxcbiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGhlbWU6IHRoaXMudGhlbWVhYmxlUHJvdmlkZVxuICAgIH07XG4gIH0sXG4gIGluamVjdDoge1xuICAgIHRoZW1lOiB7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGlzRGFyazogZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgZGFyazoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGxpZ2h0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGhlbWVhYmxlUHJvdmlkZToge1xuICAgICAgICBpc0Rhcms6IGZhbHNlXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBhcHBJc0Rhcms6IGZ1bmN0aW9uIGFwcElzRGFyaygpIHtcbiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgfHwgZmFsc2U7XG4gICAgfSxcbiAgICBpc0Rhcms6IGZ1bmN0aW9uIGlzRGFyaygpIHtcbiAgICAgIGlmICh0aGlzLmRhcmsgPT09IHRydWUpIHtcbiAgICAgICAgLy8gZXhwbGljaXRseSBkYXJrXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0bHkgbGlnaHRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5oZXJpdCBmcm9tIHBhcmVudCwgb3IgZGVmYXVsdCBmYWxzZSBpZiB0aGVyZSBpcyBub25lXG4gICAgICAgIHJldHVybiB0aGlzLnRoZW1lLmlzRGFyaztcbiAgICAgIH1cbiAgICB9LFxuICAgIHRoZW1lQ2xhc3NlczogZnVuY3Rpb24gdGhlbWVDbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3RoZW1lLS1kYXJrJzogdGhpcy5pc0RhcmssXG4gICAgICAgICd0aGVtZS0tbGlnaHQnOiAhdGhpcy5pc0RhcmtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKiBVc2VkIGJ5IG1lbnVzIGFuZCBkaWFsb2dzLCBpbmhlcml0cyBmcm9tIHYtYXBwIGluc3RlYWQgb2YgdGhlIHBhcmVudCAqL1xuICAgIHJvb3RJc0Rhcms6IGZ1bmN0aW9uIHJvb3RJc0RhcmsoKSB7XG4gICAgICBpZiAodGhpcy5kYXJrID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0bHkgZGFya1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5saWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBleHBsaWNpdGx5IGxpZ2h0XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaGVyaXQgZnJvbSB2LWFwcFxuICAgICAgICByZXR1cm4gdGhpcy5hcHBJc0Rhcms7XG4gICAgICB9XG4gICAgfSxcbiAgICByb290VGhlbWVDbGFzc2VzOiBmdW5jdGlvbiByb290VGhlbWVDbGFzc2VzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3RoZW1lLS1kYXJrJzogdGhpcy5yb290SXNEYXJrLFxuICAgICAgICAndGhlbWUtLWxpZ2h0JzogIXRoaXMucm9vdElzRGFya1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaXNEYXJrOiB7XG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCkge1xuICAgICAgICAgIHRoaXMudGhlbWVhYmxlUHJvdmlkZS5pc0RhcmsgPSB0aGlzLmlzRGFyaztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgIH1cbiAgfVxufSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFRoZW1lYWJsZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy90b2dnbGVhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGZhY3RvcnksIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmFjdG9yeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhY3Rvcnk7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdnVlICovIFwidnVlXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuZnVuY3Rpb24gZmFjdG9yeShwcm9wLCBldmVudCkge1xuICB2YXIgX2EsIF9iO1xuXG4gIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICBwcm9wID0gJ3ZhbHVlJztcbiAgfVxuXG4gIGlmIChldmVudCA9PT0gdm9pZCAwKSB7XG4gICAgZXZlbnQgPSAnaW5wdXQnO1xuICB9XG5cbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG5hbWU6ICd0b2dnbGVhYmxlJyxcbiAgICBtb2RlbDoge1xuICAgICAgcHJvcDogcHJvcCxcbiAgICAgIGV2ZW50OiBldmVudFxuICAgIH0sXG4gICAgcHJvcHM6IChfYSA9IHt9LCBfYVtwcm9wXSA9IHtcbiAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH0sIF9hKSxcbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNBY3RpdmU6ICEhdGhpc1twcm9wXVxuICAgICAgfTtcbiAgICB9LFxuICAgIHdhdGNoOiAoX2IgPSB7fSwgX2JbcHJvcF0gPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gISF2YWw7XG4gICAgfSwgX2IuaXNBY3RpdmUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAhIXZhbCAhPT0gdGhpc1twcm9wXSAmJiB0aGlzLiRlbWl0KGV2ZW50LCB2YWwpO1xuICAgIH0sIF9iKVxuICB9KTtcbn1cbi8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmUgKi9cblxudmFyIFRvZ2dsZWFibGUgPSBmYWN0b3J5KCk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFRvZ2dsZWFibGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9taXhpbnMvdHJhbnNpdGlvbmFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL21peGlucy90cmFuc2l0aW9uYWJsZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICd0cmFuc2l0aW9uYWJsZScsXG4gIHByb3BzOiB7XG4gICAgbW9kZTogU3RyaW5nLFxuICAgIG9yaWdpbjogU3RyaW5nLFxuICAgIHRyYW5zaXRpb246IFN0cmluZ1xuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy90cmFuc2xhdGFibGUvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9taXhpbnMvdHJhbnNsYXRhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAodnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmV4dGVuZCh7XG4gIG5hbWU6ICd0cmFuc2xhdGFibGUnLFxuICBwcm9wczoge1xuICAgIGhlaWdodDogTnVtYmVyXG4gIH0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVsT2Zmc2V0VG9wOiAwLFxuICAgICAgcGFyYWxsYXg6IDAsXG4gICAgICBwYXJhbGxheERpc3Q6IDAsXG4gICAgICBwZXJjZW50U2Nyb2xsZWQ6IDAsXG4gICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICB3aW5kb3dIZWlnaHQ6IDAsXG4gICAgICB3aW5kb3dCb3R0b206IDBcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGltZ0hlaWdodDogZnVuY3Rpb24gaW1nSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMub2JqSGVpZ2h0KCk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnRyYW5zbGF0ZSwgZmFsc2UpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnRyYW5zbGF0ZSwgZmFsc2UpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uIGNhbGNEaW1lbnNpb25zKCkge1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5zY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB0aGlzLnBhcmFsbGF4RGlzdCA9IHRoaXMuaW1nSGVpZ2h0IC0gdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmVsT2Zmc2V0VG9wID0gb2Zmc2V0LnRvcCArIHRoaXMuc2Nyb2xsVG9wO1xuICAgICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB0aGlzLndpbmRvd0JvdHRvbSA9IHRoaXMuc2Nyb2xsVG9wICsgdGhpcy53aW5kb3dIZWlnaHQ7XG4gICAgfSxcbiAgICBsaXN0ZW5lcnM6IGZ1bmN0aW9uIGxpc3RlbmVycygpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnRyYW5zbGF0ZSwgZmFsc2UpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudHJhbnNsYXRlLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKiBAYWJzdHJhY3QgKiovXG4gICAgb2JqSGVpZ2h0OiBmdW5jdGlvbiBvYmpIZWlnaHQoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCAhJyk7XG4gICAgfSxcbiAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uIHRyYW5zbGF0ZSgpIHtcbiAgICAgIHRoaXMuY2FsY0RpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMucGVyY2VudFNjcm9sbGVkID0gKHRoaXMud2luZG93Qm90dG9tIC0gdGhpcy5lbE9mZnNldFRvcCkgLyAocGFyc2VJbnQodGhpcy5oZWlnaHQpICsgdGhpcy53aW5kb3dIZWlnaHQpO1xuICAgICAgdGhpcy5wYXJhbGxheCA9IE1hdGgucm91bmQodGhpcy5wYXJhbGxheERpc3QgKiB0aGlzLnBlcmNlbnRTY3JvbGxlZCk7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL21peGlucy92YWxpZGF0YWJsZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbWl4aW5zL3ZhbGlkYXRhYmxlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbG9yYWJsZSAqLyBcIi4vc3JjL21peGlucy9jb2xvcmFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGhlbWVhYmxlICovIFwiLi9zcmMvbWl4aW5zL3RoZW1lYWJsZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlZ2lzdHJhYmxlICovIFwiLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbnNvbGUgKi8gXCIuL3NyYy91dGlsL2NvbnNvbGUudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL21peGlucyAqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLy8gTWl4aW5zXG5cblxuIC8vIFV0aWxpdGllc1xuXG5cblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfdXRpbF9taXhpbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKF9jb2xvcmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sIE9iamVjdChfcmVnaXN0cmFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImluamVjdFwiXSkoJ2Zvcm0nKSwgX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3ZhbGlkYXRhYmxlJyxcbiAgcHJvcHM6IHtcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBlcnJvcjogQm9vbGVhbixcbiAgICBlcnJvckNvdW50OiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAgZXJyb3JNZXNzYWdlczoge1xuICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVhZG9ubHk6IEJvb2xlYW4sXG4gICAgcnVsZXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN1Y2Nlc3M6IEJvb2xlYW4sXG4gICAgc3VjY2Vzc01lc3NhZ2VzOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWRhdGVPbkJsdXI6IEJvb2xlYW4sXG4gICAgdmFsdWU6IHtcbiAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3JCdWNrZXQ6IFtdLFxuICAgICAgaGFzQ29sb3I6IGZhbHNlLFxuICAgICAgaGFzRm9jdXNlZDogZmFsc2UsXG4gICAgICBoYXNJbnB1dDogZmFsc2UsXG4gICAgICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICAgICAgaXNSZXNldHRpbmc6IGZhbHNlLFxuICAgICAgbGF6eVZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgdmFsaWQ6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb21wdXRlZENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZENvbG9yKCkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBpZiAodGhpcy5jb2xvcikgcmV0dXJuIHRoaXMuY29sb3I7IC8vIEl0J3MgYXNzdW1lZCB0aGF0IGlmIHRoZSBpbnB1dCBpcyBvbiBhXG4gICAgICAvLyBkYXJrIGJhY2tncm91bmQsIHRoZSB1c2VyIHdpbGwgd2FudCB0b1xuICAgICAgLy8gaGF2ZSBhIHdoaXRlIGNvbG9yLiBJZiB0aGUgZW50aXJlIGFwcFxuICAgICAgLy8gaXMgc2V0dXAgdG8gYmUgZGFyaywgdGhlbiB0aGV5IHdpbGxcbiAgICAgIC8vIGxpa2Ugd2FudCB0byB1c2UgdGhlaXIgcHJpbWFyeSBjb2xvclxuXG4gICAgICBpZiAodGhpcy5pc0RhcmsgJiYgIXRoaXMuYXBwSXNEYXJrKSByZXR1cm4gJ3doaXRlJztlbHNlIHJldHVybiAncHJpbWFyeSc7XG4gICAgfSxcbiAgICBoYXNFcnJvcjogZnVuY3Rpb24gaGFzRXJyb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEVycm9yTWVzc2FnZXMubGVuZ3RoID4gMCB8fCB0aGlzLmVycm9yQnVja2V0Lmxlbmd0aCA+IDAgfHwgdGhpcy5lcnJvcjtcbiAgICB9LFxuICAgIC8vIFRPRE86IEFkZCBsb2dpYyB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBlbmFibGUgYmFzZWRcbiAgICAvLyB1cG9uIGEgZ29vZCB2YWxpZGF0aW9uXG4gICAgaGFzU3VjY2VzczogZnVuY3Rpb24gaGFzU3VjY2VzcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsU3VjY2Vzc01lc3NhZ2VzLmxlbmd0aCA+IDAgfHwgdGhpcy5zdWNjZXNzO1xuICAgIH0sXG4gICAgZXh0ZXJuYWxFcnJvcjogZnVuY3Rpb24gZXh0ZXJuYWxFcnJvcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsRXJyb3JNZXNzYWdlcy5sZW5ndGggPiAwIHx8IHRoaXMuZXJyb3I7XG4gICAgfSxcbiAgICBoYXNNZXNzYWdlczogZnVuY3Rpb24gaGFzTWVzc2FnZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0aW9uVGFyZ2V0Lmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBoYXNTdGF0ZTogZnVuY3Rpb24gaGFzU3RhdGUoKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMuaGFzU3VjY2VzcyB8fCB0aGlzLnNob3VsZFZhbGlkYXRlICYmIHRoaXMuaGFzRXJyb3I7XG4gICAgfSxcbiAgICBpbnRlcm5hbEVycm9yTWVzc2FnZXM6IGZ1bmN0aW9uIGludGVybmFsRXJyb3JNZXNzYWdlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlbkludGVybmFsTWVzc2FnZXModGhpcy5lcnJvck1lc3NhZ2VzKTtcbiAgICB9LFxuICAgIGludGVybmFsTWVzc2FnZXM6IGZ1bmN0aW9uIGludGVybmFsTWVzc2FnZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZW5JbnRlcm5hbE1lc3NhZ2VzKHRoaXMubWVzc2FnZXMpO1xuICAgIH0sXG4gICAgaW50ZXJuYWxTdWNjZXNzTWVzc2FnZXM6IGZ1bmN0aW9uIGludGVybmFsU3VjY2Vzc01lc3NhZ2VzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuSW50ZXJuYWxNZXNzYWdlcyh0aGlzLnN1Y2Nlc3NNZXNzYWdlcyk7XG4gICAgfSxcbiAgICBpbnRlcm5hbFZhbHVlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF6eVZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbDtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvdWxkVmFsaWRhdGU6IGZ1bmN0aW9uIHNob3VsZFZhbGlkYXRlKCkge1xuICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxFcnJvcikgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcy5pc1Jlc2V0dGluZykgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVPbkJsdXIgPyB0aGlzLmhhc0ZvY3VzZWQgJiYgIXRoaXMuaXNGb2N1c2VkIDogdGhpcy5oYXNJbnB1dCB8fCB0aGlzLmhhc0ZvY3VzZWQ7XG4gICAgfSxcbiAgICB2YWxpZGF0aW9uczogZnVuY3Rpb24gdmFsaWRhdGlvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0aW9uVGFyZ2V0LnNsaWNlKDAsIE51bWJlcih0aGlzLmVycm9yQ291bnQpKTtcbiAgICB9LFxuICAgIHZhbGlkYXRpb25TdGF0ZTogZnVuY3Rpb24gdmFsaWRhdGlvblN0YXRlKCkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBpZiAodGhpcy5oYXNFcnJvciAmJiB0aGlzLnNob3VsZFZhbGlkYXRlKSByZXR1cm4gJ2Vycm9yJztcbiAgICAgIGlmICh0aGlzLmhhc1N1Y2Nlc3MpIHJldHVybiAnc3VjY2Vzcyc7XG4gICAgICBpZiAodGhpcy5oYXNDb2xvcikgcmV0dXJuIHRoaXMuY29tcHV0ZWRDb2xvcjtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB2YWxpZGF0aW9uVGFyZ2V0OiBmdW5jdGlvbiB2YWxpZGF0aW9uVGFyZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaW50ZXJuYWxFcnJvck1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxFcnJvck1lc3NhZ2VzO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1Y2Nlc3NNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsU3VjY2Vzc01lc3NhZ2VzO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNZXNzYWdlcztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG91bGRWYWxpZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckJ1Y2tldDtcbiAgICAgIH0gZWxzZSByZXR1cm4gW107XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIHJ1bGVzOiB7XG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVlcEVxdWFsXCJdKShuZXdWYWwsIG9sZFZhbCkpIHJldHVybjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIGRlZXA6IHRydWVcbiAgICB9LFxuICAgIGludGVybmFsVmFsdWU6IGZ1bmN0aW9uIGludGVybmFsVmFsdWUoKSB7XG4gICAgICAvLyBJZiBpdCdzIHRoZSBmaXJzdCB0aW1lIHdlJ3JlIHNldHRpbmcgaW5wdXQsXG4gICAgICAvLyBtYXJrIGl0IHdpdGggaGFzSW5wdXRcbiAgICAgIHRoaXMuaGFzSW5wdXQgPSB0cnVlO1xuICAgICAgdGhpcy52YWxpZGF0ZU9uQmx1ciB8fCB0aGlzLiRuZXh0VGljayh0aGlzLnZhbGlkYXRlKTtcbiAgICB9LFxuICAgIGlzRm9jdXNlZDogZnVuY3Rpb24gaXNGb2N1c2VkKHZhbCkge1xuICAgICAgLy8gU2hvdWxkIG5vdCBjaGVjayB2YWxpZGF0aW9uXG4gICAgICAvLyBpZiBkaXNhYmxlZFxuICAgICAgaWYgKCF2YWwgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5oYXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZU9uQmx1ciAmJiB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1Jlc2V0dGluZzogZnVuY3Rpb24gaXNSZXNldHRpbmcoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuaGFzSW5wdXQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1Jlc2V0dGluZyA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLnZhbGlkYXRlKCk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICAgIGhhc0Vycm9yOiBmdW5jdGlvbiBoYXNFcnJvcih2YWwpIHtcbiAgICAgIGlmICh0aGlzLnNob3VsZFZhbGlkYXRlKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTplcnJvcicsIHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7XG4gICAgICB0aGlzLmxhenlWYWx1ZSA9IHZhbDtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHtcbiAgICB0aGlzLnZhbGlkYXRlKCk7XG4gIH0sXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5mb3JtICYmIHRoaXMuZm9ybS5yZWdpc3Rlcih0aGlzKTtcbiAgfSxcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHtcbiAgICB0aGlzLmZvcm0gJiYgdGhpcy5mb3JtLnVucmVnaXN0ZXIodGhpcyk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZW5JbnRlcm5hbE1lc3NhZ2VzOiBmdW5jdGlvbiBnZW5JbnRlcm5hbE1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gICAgICBpZiAoIW1lc3NhZ2VzKSByZXR1cm4gW107ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlcykpIHJldHVybiBtZXNzYWdlcztlbHNlIHJldHVybiBbbWVzc2FnZXNdO1xuICAgIH0sXG5cbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuaXNSZXNldHRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gQXJyYXkuaXNBcnJheSh0aGlzLmludGVybmFsVmFsdWUpID8gW10gOiB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIC8qKiBAcHVibGljICovXG4gICAgcmVzZXRWYWxpZGF0aW9uOiBmdW5jdGlvbiByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgICB0aGlzLmlzUmVzZXR0aW5nID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoZm9yY2UsIHZhbHVlKSB7XG4gICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkge1xuICAgICAgICBmb3JjZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JCdWNrZXQgPSBbXTtcbiAgICAgIHZhbHVlID0gdmFsdWUgfHwgdGhpcy5pbnRlcm5hbFZhbHVlO1xuICAgICAgaWYgKGZvcmNlKSB0aGlzLmhhc0lucHV0ID0gdGhpcy5oYXNGb2N1c2VkID0gdHJ1ZTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucnVsZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBydWxlID0gdGhpcy5ydWxlc1tpbmRleF07XG4gICAgICAgIHZhciB2YWxpZCA9IHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nID8gcnVsZSh2YWx1ZSkgOiBydWxlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZXJyb3JCdWNrZXQucHVzaCh2YWxpZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbGlkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBPYmplY3QoX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiY29uc29sZUVycm9yXCJdKShcIlJ1bGVzIHNob3VsZCByZXR1cm4gYSBzdHJpbmcgb3IgYm9vbGVhbiwgcmVjZWl2ZWQgJ1wiICsgX3R5cGVvZih2YWxpZCkgKyBcIicgaW5zdGVhZFwiLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmVycm9yQnVja2V0ID0gZXJyb3JCdWNrZXQ7XG4gICAgICB0aGlzLnZhbGlkID0gZXJyb3JCdWNrZXQubGVuZ3RoID09PSAwO1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgfVxuICB9XG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2FwcGxpY2F0aW9uL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3NlcnZpY2VzL2FwcGxpY2F0aW9uL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEFwcGxpY2F0aW9uICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQXBwbGljYXRpb247IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXJ2aWNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zZXJ2aWNlICovIFwiLi9zcmMvc2VydmljZXMvc2VydmljZS9pbmRleC50c1wiKTtcbnZhciBfX2V4dGVuZHMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIGV4dGVuZFN0YXRpY3MoZCwgYikge1xuICAgIF9leHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgIF9fcHJvdG9fXzogW11cbiAgICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX2V4dGVuZFN0YXRpY3MoZCwgYik7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgX2V4dGVuZFN0YXRpY3MoZCwgYik7XG5cbiAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgIH1cblxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgfTtcbn0oKTsgLy8gRXh0ZW5zaW9uc1xuXG5cblxuXG52YXIgQXBwbGljYXRpb24gPVxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQXBwbGljYXRpb24sIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQXBwbGljYXRpb24oKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5iYXIgPSAwO1xuICAgIF90aGlzLnRvcCA9IDA7XG4gICAgX3RoaXMubGVmdCA9IDA7XG4gICAgX3RoaXMuaW5zZXRGb290ZXIgPSAwO1xuICAgIF90aGlzLnJpZ2h0ID0gMDtcbiAgICBfdGhpcy5ib3R0b20gPSAwO1xuICAgIF90aGlzLmZvb3RlciA9IDA7XG4gICAgX3RoaXMuYXBwbGljYXRpb24gPSB7XG4gICAgICBiYXI6IHt9LFxuICAgICAgdG9wOiB7fSxcbiAgICAgIGxlZnQ6IHt9LFxuICAgICAgaW5zZXRGb290ZXI6IHt9LFxuICAgICAgcmlnaHQ6IHt9LFxuICAgICAgYm90dG9tOiB7fSxcbiAgICAgIGZvb3Rlcjoge31cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uICh1aWQsIGxvY2F0aW9uLCBzaXplKSB7XG4gICAgdGhpcy5hcHBsaWNhdGlvbltsb2NhdGlvbl1bdWlkXSA9IHNpemU7XG4gICAgdGhpcy51cGRhdGUobG9jYXRpb24pO1xuICB9O1xuXG4gIEFwcGxpY2F0aW9uLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVpZCwgbG9jYXRpb24pIHtcbiAgICBpZiAodGhpcy5hcHBsaWNhdGlvbltsb2NhdGlvbl1bdWlkXSA9PSBudWxsKSByZXR1cm47XG4gICAgZGVsZXRlIHRoaXMuYXBwbGljYXRpb25bbG9jYXRpb25dW3VpZF07XG4gICAgdGhpcy51cGRhdGUobG9jYXRpb24pO1xuICB9O1xuXG4gIEFwcGxpY2F0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICB0aGlzW2xvY2F0aW9uXSA9IE9iamVjdC52YWx1ZXModGhpcy5hcHBsaWNhdGlvbltsb2NhdGlvbl0pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXIpIHtcbiAgICAgIHJldHVybiBhY2MgKyBjdXI7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgQXBwbGljYXRpb24ucHJvcGVydHkgPSAnYXBwbGljYXRpb24nO1xuICByZXR1cm4gQXBwbGljYXRpb247XG59KF9zZXJ2aWNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJTZXJ2aWNlXCJdKTtcblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2JyZWFrcG9pbnQvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9icmVha3BvaW50L2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogQnJlYWtwb2ludCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCcmVha3BvaW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQnJlYWtwb2ludDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NlcnZpY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3NlcnZpY2UgKi8gXCIuL3NyYy9zZXJ2aWNlcy9zZXJ2aWNlL2luZGV4LnRzXCIpO1xudmFyIF9fZXh0ZW5kcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9leHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gZXh0ZW5kU3RhdGljcyhkLCBiKSB7XG4gICAgX2V4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcblxuICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgfVxuXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59OyAvLyBFeHRlbnNpb25zXG5cblxuXG5cbnZhciBCcmVha3BvaW50ID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKEJyZWFrcG9pbnQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQnJlYWtwb2ludChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7IC8vIFB1YmxpY1xuXG5cbiAgICBfdGhpcy54cyA9IGZhbHNlO1xuICAgIF90aGlzLnNtID0gZmFsc2U7XG4gICAgX3RoaXMubWQgPSBmYWxzZTtcbiAgICBfdGhpcy5sZyA9IGZhbHNlO1xuICAgIF90aGlzLnhsID0gZmFsc2U7XG4gICAgX3RoaXMueHNPbmx5ID0gZmFsc2U7XG4gICAgX3RoaXMuc21Pbmx5ID0gZmFsc2U7XG4gICAgX3RoaXMuc21BbmREb3duID0gZmFsc2U7XG4gICAgX3RoaXMuc21BbmRVcCA9IGZhbHNlO1xuICAgIF90aGlzLm1kT25seSA9IGZhbHNlO1xuICAgIF90aGlzLm1kQW5kRG93biA9IGZhbHNlO1xuICAgIF90aGlzLm1kQW5kVXAgPSBmYWxzZTtcbiAgICBfdGhpcy5sZ09ubHkgPSBmYWxzZTtcbiAgICBfdGhpcy5sZ0FuZERvd24gPSBmYWxzZTtcbiAgICBfdGhpcy5sZ0FuZFVwID0gZmFsc2U7XG4gICAgX3RoaXMueGxPbmx5ID0gZmFsc2U7XG4gICAgX3RoaXMubmFtZSA9ICcnO1xuICAgIF90aGlzLmhlaWdodCA9IDA7XG4gICAgX3RoaXMud2lkdGggPSAwO1xuICAgIF90aGlzLnRocmVzaG9sZHMgPSB7XG4gICAgICB4czogNjAwLFxuICAgICAgc206IDk2MCxcbiAgICAgIG1kOiAxMjgwLFxuICAgICAgbGc6IDE5MjBcbiAgICB9O1xuICAgIF90aGlzLnNjcm9sbEJhcldpZHRoID0gMTY7XG4gICAgX3RoaXMucmVzaXplVGltZW91dCA9IDA7XG4gICAgX3RoaXMudGhyZXNob2xkcyA9IF9fYXNzaWduKHt9LCBfdGhpcy50aHJlc2hvbGRzLCBvcHRpb25zLnRocmVzaG9sZHMpO1xuICAgIF90aGlzLnNjcm9sbEJhcldpZHRoID0gb3B0aW9ucy5zY3JvbGxCYXJXaWR0aCAhPSBudWxsID8gb3B0aW9ucy5zY3JvbGxCYXJXaWR0aCA6IF90aGlzLnNjcm9sbEJhcldpZHRoO1xuXG4gICAgX3RoaXMuaW5pdCgpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQnJlYWtwb2ludC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfTtcblxuICBCcmVha3BvaW50LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTsgLy8gQWRkZWQgZGVib3VuY2UgdG8gbWF0Y2ggd2hhdFxuICAgIC8vIHYtcmVzaXplIHVzZWQgdG8gZG8gYnV0IHdhc1xuICAgIC8vIHJlbW92ZWQgZHVlIHRvIGEgbWVtb3J5IGxlYWtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvcHVsbC8yOTk3XG5cbiAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpLCAyMDApO1xuICB9O1xuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHMgKi9cblxuXG4gIEJyZWFrcG9pbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRDbGllbnRIZWlnaHQoKTtcbiAgICB2YXIgd2lkdGggPSB0aGlzLmdldENsaWVudFdpZHRoKCk7XG4gICAgdmFyIHhzID0gd2lkdGggPCB0aGlzLnRocmVzaG9sZHMueHM7XG4gICAgdmFyIHNtID0gd2lkdGggPCB0aGlzLnRocmVzaG9sZHMuc20gJiYgIXhzO1xuICAgIHZhciBtZCA9IHdpZHRoIDwgdGhpcy50aHJlc2hvbGRzLm1kIC0gdGhpcy5zY3JvbGxCYXJXaWR0aCAmJiAhKHNtIHx8IHhzKTtcbiAgICB2YXIgbGcgPSB3aWR0aCA8IHRoaXMudGhyZXNob2xkcy5sZyAtIHRoaXMuc2Nyb2xsQmFyV2lkdGggJiYgIShtZCB8fCBzbSB8fCB4cyk7XG4gICAgdmFyIHhsID0gd2lkdGggPj0gdGhpcy50aHJlc2hvbGRzLmxnIC0gdGhpcy5zY3JvbGxCYXJXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy54cyA9IHhzO1xuICAgIHRoaXMuc20gPSBzbTtcbiAgICB0aGlzLm1kID0gbWQ7XG4gICAgdGhpcy5sZyA9IGxnO1xuICAgIHRoaXMueGwgPSB4bDtcbiAgICB0aGlzLnhzT25seSA9IHhzO1xuICAgIHRoaXMuc21Pbmx5ID0gc207XG4gICAgdGhpcy5zbUFuZERvd24gPSAoeHMgfHwgc20pICYmICEobWQgfHwgbGcgfHwgeGwpO1xuICAgIHRoaXMuc21BbmRVcCA9ICF4cyAmJiAoc20gfHwgbWQgfHwgbGcgfHwgeGwpO1xuICAgIHRoaXMubWRPbmx5ID0gbWQ7XG4gICAgdGhpcy5tZEFuZERvd24gPSAoeHMgfHwgc20gfHwgbWQpICYmICEobGcgfHwgeGwpO1xuICAgIHRoaXMubWRBbmRVcCA9ICEoeHMgfHwgc20pICYmIChtZCB8fCBsZyB8fCB4bCk7XG4gICAgdGhpcy5sZ09ubHkgPSBsZztcbiAgICB0aGlzLmxnQW5kRG93biA9ICh4cyB8fCBzbSB8fCBtZCB8fCBsZykgJiYgIXhsO1xuICAgIHRoaXMubGdBbmRVcCA9ICEoeHMgfHwgc20gfHwgbWQpICYmIChsZyB8fCB4bCk7XG4gICAgdGhpcy54bE9ubHkgPSB4bDtcblxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgY2FzZSB4czpcbiAgICAgICAgdGhpcy5uYW1lID0gJ3hzJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2Ugc206XG4gICAgICAgIHRoaXMubmFtZSA9ICdzbSc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIG1kOlxuICAgICAgICB0aGlzLm5hbWUgPSAnbWQnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBsZzpcbiAgICAgICAgdGhpcy5uYW1lID0gJ2xnJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMubmFtZSA9ICd4bCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTsgLy8gQ3Jvc3MtYnJvd3NlciBzdXBwb3J0IGFzIGRlc2NyaWJlZCBpbjpcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI0ODA4MVxuXG5cbiAgQnJlYWtwb2ludC5wcm90b3R5cGUuZ2V0Q2xpZW50V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAwOyAvLyBTU1JcblxuICAgIHJldHVybiBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICB9O1xuXG4gIEJyZWFrcG9pbnQucHJvdG90eXBlLmdldENsaWVudEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIDA7IC8vIFNTUlxuXG4gICAgcmV0dXJuIE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcbiAgfTtcblxuICBCcmVha3BvaW50LnByb3BlcnR5ID0gJ2JyZWFrcG9pbnQnO1xuICByZXR1cm4gQnJlYWtwb2ludDtcbn0oX3NlcnZpY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIlNlcnZpY2VcIl0pO1xuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc2VydmljZXMvZ290by9lYXNpbmctcGF0dGVybnMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc2VydmljZXMvZ290by9lYXNpbmctcGF0dGVybnMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogbGluZWFyLCBlYXNlSW5RdWFkLCBlYXNlT3V0UXVhZCwgZWFzZUluT3V0UXVhZCwgZWFzZUluQ3ViaWMsIGVhc2VPdXRDdWJpYywgZWFzZUluT3V0Q3ViaWMsIGVhc2VJblF1YXJ0LCBlYXNlT3V0UXVhcnQsIGVhc2VJbk91dFF1YXJ0LCBlYXNlSW5RdWludCwgZWFzZU91dFF1aW50LCBlYXNlSW5PdXRRdWludCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsaW5lYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsaW5lYXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImVhc2VJblF1YWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBlYXNlSW5RdWFkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYXNlT3V0UXVhZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVhc2VPdXRRdWFkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYXNlSW5PdXRRdWFkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZWFzZUluT3V0UXVhZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZWFzZUluQ3ViaWNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBlYXNlSW5DdWJpYzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZWFzZU91dEN1YmljXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZWFzZU91dEN1YmljOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYXNlSW5PdXRDdWJpY1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVhc2VJbk91dEN1YmljOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYXNlSW5RdWFydFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVhc2VJblF1YXJ0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYXNlT3V0UXVhcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBlYXNlT3V0UXVhcnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImVhc2VJbk91dFF1YXJ0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZWFzZUluT3V0UXVhcnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImVhc2VJblF1aW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZWFzZUluUXVpbnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImVhc2VPdXRRdWludFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVhc2VPdXRRdWludDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZWFzZUluT3V0UXVpbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBlYXNlSW5PdXRRdWludDsgfSk7XG4vLyBsaW5lYXJcbnZhciBsaW5lYXIgPSBmdW5jdGlvbiBsaW5lYXIodCkge1xuICByZXR1cm4gdDtcbn07IC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblxudmFyIGVhc2VJblF1YWQgPSBmdW5jdGlvbiBlYXNlSW5RdWFkKHQpIHtcbiAgcmV0dXJuIE1hdGgucG93KHQsIDIpO1xufTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblxudmFyIGVhc2VPdXRRdWFkID0gZnVuY3Rpb24gZWFzZU91dFF1YWQodCkge1xuICByZXR1cm4gdCAqICgyIC0gdCk7XG59OyAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblxudmFyIGVhc2VJbk91dFF1YWQgPSBmdW5jdGlvbiBlYXNlSW5PdXRRdWFkKHQpIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyAyICogTWF0aC5wb3codCwgMikgOiAtMSArICg0IC0gMiAqIHQpICogdDtcbn07IC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblxudmFyIGVhc2VJbkN1YmljID0gZnVuY3Rpb24gZWFzZUluQ3ViaWModCkge1xuICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59OyAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXG52YXIgZWFzZU91dEN1YmljID0gZnVuY3Rpb24gZWFzZU91dEN1YmljKHQpIHtcbiAgcmV0dXJuIE1hdGgucG93KC0tdCwgMykgKyAxO1xufTsgLy8gYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG5cbnZhciBlYXNlSW5PdXRDdWJpYyA9IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKHQpIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyA0ICogTWF0aC5wb3codCwgMykgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDE7XG59OyAvLyBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cbnZhciBlYXNlSW5RdWFydCA9IGZ1bmN0aW9uIGVhc2VJblF1YXJ0KHQpIHtcbiAgcmV0dXJuIE1hdGgucG93KHQsIDQpO1xufTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblxudmFyIGVhc2VPdXRRdWFydCA9IGZ1bmN0aW9uIGVhc2VPdXRRdWFydCh0KSB7XG4gIHJldHVybiAxIC0gTWF0aC5wb3coLS10LCA0KTtcbn07IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXG52YXIgZWFzZUluT3V0UXVhcnQgPSBmdW5jdGlvbiBlYXNlSW5PdXRRdWFydCh0KSB7XG4gIHJldHVybiB0IDwgMC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqIC0tdCAqIHQgKiB0ICogdDtcbn07IC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblxudmFyIGVhc2VJblF1aW50ID0gZnVuY3Rpb24gZWFzZUluUXVpbnQodCkge1xuICByZXR1cm4gTWF0aC5wb3codCwgNSk7XG59OyAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXG52YXIgZWFzZU91dFF1aW50ID0gZnVuY3Rpb24gZWFzZU91dFF1aW50KHQpIHtcbiAgcmV0dXJuIDEgKyBNYXRoLnBvdygtLXQsIDUpO1xufTsgLy8gYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG5cbnZhciBlYXNlSW5PdXRRdWludCA9IGZ1bmN0aW9uIGVhc2VJbk91dFF1aW50KHQpIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyAxNiAqIE1hdGgucG93KHQsIDUpIDogMSArIDE2ICogTWF0aC5wb3coLS10LCA1KTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2dvdG8vaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9nb3RvL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCwgR290byAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ29UbzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiR290b1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEdvdG87IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXJ2aWNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zZXJ2aWNlICovIFwiLi9zcmMvc2VydmljZXMvc2VydmljZS9pbmRleC50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZWFzaW5nX3BhdHRlcm5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Vhc2luZy1wYXR0ZXJucyAqLyBcIi4vc3JjL3NlcnZpY2VzL2dvdG8vZWFzaW5nLXBhdHRlcm5zLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL3NyYy9zZXJ2aWNlcy9nb3RvL3V0aWwudHNcIik7XG52YXIgX19leHRlbmRzID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICB2YXIgX2V4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiBleHRlbmRTdGF0aWNzKGQsIGIpIHtcbiAgICBfZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7XG4gICAgICBfX3Byb3RvX186IFtdXG4gICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRTdGF0aWNzKGQsIGIpO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgIF9leHRlbmRTdGF0aWNzKGQsIGIpO1xuXG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG5cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gIH07XG59KCk7XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIEV4dGVuc2lvbnNcblxuXG4gLy8gVXRpbGl0aWVzXG5cblxuXG5mdW5jdGlvbiBnb1RvKF90YXJnZXQsIF9zZXR0aW5ncykge1xuICBpZiAoX3NldHRpbmdzID09PSB2b2lkIDApIHtcbiAgICBfc2V0dGluZ3MgPSB7fTtcbiAgfVxuXG4gIHZhciBzZXR0aW5ncyA9IF9fYXNzaWduKHtcbiAgICBjb250YWluZXI6IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgIGFwcE9mZnNldDogdHJ1ZVxuICB9LCBfc2V0dGluZ3MpO1xuXG4gIHZhciBjb250YWluZXIgPSBPYmplY3QoX3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImdldENvbnRhaW5lclwiXSkoc2V0dGluZ3MuY29udGFpbmVyKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuICBpZiAoc2V0dGluZ3MuYXBwT2Zmc2V0ICYmIGdvVG8uZnJhbWV3b3JrLmFwcGxpY2F0aW9uKSB7XG4gICAgdmFyIGlzRHJhd2VyID0gY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygndi1uYXZpZ2F0aW9uLWRyYXdlcicpO1xuICAgIHZhciBpc0NsaXBwZWQgPSBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCd2LW5hdmlnYXRpb24tZHJhd2VyLS1jbGlwcGVkJyk7XG4gICAgdmFyIF9hID0gZ29Uby5mcmFtZXdvcmsuYXBwbGljYXRpb24sXG4gICAgICAgIGJhciA9IF9hLmJhcixcbiAgICAgICAgdG9wID0gX2EudG9wO1xuICAgIHNldHRpbmdzLm9mZnNldCArPSBiYXI7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuICAgIGlmICghaXNEcmF3ZXIgfHwgaXNDbGlwcGVkKSBzZXR0aW5ncy5vZmZzZXQgKz0gdG9wO1xuICB9XG5cbiAgdmFyIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICB2YXIgdGFyZ2V0TG9jYXRpb247XG5cbiAgaWYgKHR5cGVvZiBfdGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgIHRhcmdldExvY2F0aW9uID0gT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRPZmZzZXRcIl0pKF90YXJnZXQpIC0gc2V0dGluZ3Mub2Zmc2V0O1xuICB9IGVsc2Uge1xuICAgIHRhcmdldExvY2F0aW9uID0gT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRPZmZzZXRcIl0pKF90YXJnZXQpIC0gT2JqZWN0KF91dGlsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRPZmZzZXRcIl0pKGNvbnRhaW5lcikgLSBzZXR0aW5ncy5vZmZzZXQ7XG4gIH1cblxuICB2YXIgc3RhcnRMb2NhdGlvbiA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG4gIGlmICh0YXJnZXRMb2NhdGlvbiA9PT0gc3RhcnRMb2NhdGlvbikgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0YXJnZXRMb2NhdGlvbik7XG4gIHZhciBlYXNlID0gdHlwZW9mIHNldHRpbmdzLmVhc2luZyA9PT0gJ2Z1bmN0aW9uJyA/IHNldHRpbmdzLmVhc2luZyA6IF9lYXNpbmdfcGF0dGVybnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tzZXR0aW5ncy5lYXNpbmddO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXG4gIGlmICghZWFzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVhc2luZyBmdW5jdGlvbiBcXFwiXCIgKyBzZXR0aW5ncy5lYXNpbmcgKyBcIlxcXCIgbm90IGZvdW5kLlwiKTsgLy8gQ2Fubm90IGJlIHRlc3RlZCBwcm9wZXJseSBpbiBqc2RvbVxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJvbWlzZS1tdXN0LWNvbXBsZXRlXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHN0ZXAoY3VycmVudFRpbWUpIHtcbiAgICAgIHZhciB0aW1lRWxhcHNlZCA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5hYnMoc2V0dGluZ3MuZHVyYXRpb24gPyBNYXRoLm1pbih0aW1lRWxhcHNlZCAvIHNldHRpbmdzLmR1cmF0aW9uLCAxKSA6IDEpO1xuICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IE1hdGguZmxvb3Ioc3RhcnRMb2NhdGlvbiArICh0YXJnZXRMb2NhdGlvbiAtIHN0YXJ0TG9jYXRpb24pICogZWFzZShwcm9ncmVzcykpO1xuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICBpZiAocHJvZ3Jlc3MgPT09IDEgfHwgY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCA9PT0gY29udGFpbmVyLnNjcm9sbEhlaWdodCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0YXJnZXRMb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICB9KTtcbiAgfSk7XG59XG5nb1RvLmZyYW1ld29yayA9IHt9O1xuXG5nb1RvLmluaXQgPSBmdW5jdGlvbiAoKSB7fTtcblxudmFyIEdvdG8gPVxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoR290bywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBHb3RvKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG5cbiAgICByZXR1cm4gZ29UbztcbiAgfVxuXG4gIEdvdG8ucHJvcGVydHkgPSAnZ29Ubyc7XG4gIHJldHVybiBHb3RvO1xufShfc2VydmljZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiU2VydmljZVwiXSk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9nb3RvL3V0aWwudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3NlcnZpY2VzL2dvdG8vdXRpbC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZ2V0T2Zmc2V0LCBnZXRDb250YWluZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0T2Zmc2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0T2Zmc2V0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRDb250YWluZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRDb250YWluZXI7IH0pO1xuLy8gUmV0dXJuIHRhcmdldCdzIGN1bXVsYXRpdmUgb2Zmc2V0IGZyb20gdGhlIHRvcFxuZnVuY3Rpb24gZ2V0T2Zmc2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgdmFyIGVsID0gJCh0YXJnZXQpO1xuXG4gIGlmICghZWwpIHtcbiAgICB0aHJvdyB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IG5ldyBFcnJvcihcIlRhcmdldCBlbGVtZW50IFxcXCJcIiArIHRhcmdldCArIFwiXFxcIiBub3QgZm91bmQuXCIpIDogbmV3IFR5cGVFcnJvcihcIlRhcmdldCBtdXN0IGJlIGEgTnVtYmVyL1NlbGVjdG9yL0hUTUxFbGVtZW50L1Z1ZUNvbXBvbmVudCwgcmVjZWl2ZWQgXCIgKyB0eXBlKHRhcmdldCkgKyBcIiBpbnN0ZWFkLlwiKTtcbiAgfVxuXG4gIHZhciB0b3RhbE9mZnNldCA9IDA7XG5cbiAgd2hpbGUgKGVsKSB7XG4gICAgdG90YWxPZmZzZXQgKz0gZWwub2Zmc2V0VG9wO1xuICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIHRvdGFsT2Zmc2V0O1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICB2YXIgZWwgPSAkKGNvbnRhaW5lcik7XG4gIGlmIChlbCkgcmV0dXJuIGVsO1xuICB0aHJvdyB0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJyA/IG5ldyBFcnJvcihcIkNvbnRhaW5lciBlbGVtZW50IFxcXCJcIiArIGNvbnRhaW5lciArIFwiXFxcIiBub3QgZm91bmQuXCIpIDogbmV3IFR5cGVFcnJvcihcIkNvbnRhaW5lciBtdXN0IGJlIGEgU2VsZWN0b3IvSFRNTEVsZW1lbnQvVnVlQ29tcG9uZW50LCByZWNlaXZlZCBcIiArIHR5cGUoY29udGFpbmVyKSArIFwiIGluc3RlYWQuXCIpO1xufVxuXG5mdW5jdGlvbiB0eXBlKGVsKSB7XG4gIHJldHVybiBlbCA9PSBudWxsID8gZWwgOiBlbC5jb25zdHJ1Y3Rvci5uYW1lO1xufVxuXG5mdW5jdGlvbiAkKGVsKSB7XG4gIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICB9IGVsc2UgaWYgKGVsICYmIGVsLl9pc1Z1ZSkge1xuICAgIHJldHVybiBlbC4kZWw7XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBlbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9pY29ucy9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBJY29ucyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJY29uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEljb25zOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2VydmljZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc2VydmljZSAqLyBcIi4vc3JjL3NlcnZpY2VzL3NlcnZpY2UvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3ByZXNldHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcHJlc2V0cyAqLyBcIi4vc3JjL3NlcnZpY2VzL2ljb25zL3ByZXNldHMvaW5kZXgudHNcIik7XG52YXIgX19leHRlbmRzID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICB2YXIgX2V4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiBleHRlbmRTdGF0aWNzKGQsIGIpIHtcbiAgICBfZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7XG4gICAgICBfX3Byb3RvX186IFtdXG4gICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRTdGF0aWNzKGQsIGIpO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgIF9leHRlbmRTdGF0aWNzKGQsIGIpO1xuXG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG5cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gIH07XG59KCk7XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07IC8vIEV4dGVuc2lvbnNcblxuXG4gLy8gUHJlc2V0c1xuXG5cblxudmFyIEljb25zID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKEljb25zLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEljb25zKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcblxuICAgIF90aGlzLmljb25mb250ID0gJ21kaSc7XG4gICAgX3RoaXMudmFsdWVzID0gX3ByZXNldHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1bX3RoaXMuaWNvbmZvbnRdO1xuICAgIGlmIChvcHRpb25zLmljb25mb250KSBfdGhpcy5pY29uZm9udCA9IG9wdGlvbnMuaWNvbmZvbnQ7XG4gICAgX3RoaXMudmFsdWVzID0gX19hc3NpZ24oe30sIF9wcmVzZXRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdW190aGlzLmljb25mb250XSwgb3B0aW9ucy52YWx1ZXMgfHwge30pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEljb25zLnByb3BlcnR5ID0gJ2ljb25zJztcbiAgcmV0dXJuIEljb25zO1xufShfc2VydmljZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiU2VydmljZVwiXSk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL2ZhLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc2VydmljZXMvaWNvbnMvcHJlc2V0cy9mYS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG52YXIgaWNvbnMgPSB7XG4gIGNvbXBsZXRlOiAnZmFzIGZhLWNoZWNrJyxcbiAgY2FuY2VsOiAnZmFzIGZhLXRpbWVzLWNpcmNsZScsXG4gIGNsb3NlOiAnZmFzIGZhLXRpbWVzJyxcbiAgZGVsZXRlOiAnZmFzIGZhLXRpbWVzLWNpcmNsZScsXG4gIGNsZWFyOiAnZmFzIGZhLXRpbWVzLWNpcmNsZScsXG4gIHN1Y2Nlc3M6ICdmYXMgZmEtY2hlY2stY2lyY2xlJyxcbiAgaW5mbzogJ2ZhcyBmYS1pbmZvLWNpcmNsZScsXG4gIHdhcm5pbmc6ICdmYXMgZmEtZXhjbGFtYXRpb24nLFxuICBlcnJvcjogJ2ZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZScsXG4gIHByZXY6ICdmYXMgZmEtY2hldnJvbi1sZWZ0JyxcbiAgbmV4dDogJ2ZhcyBmYS1jaGV2cm9uLXJpZ2h0JyxcbiAgY2hlY2tib3hPbjogJ2ZhcyBmYS1jaGVjay1zcXVhcmUnLFxuICBjaGVja2JveE9mZjogJ2ZhciBmYS1zcXVhcmUnLFxuICBjaGVja2JveEluZGV0ZXJtaW5hdGU6ICdmYXMgZmEtbWludXMtc3F1YXJlJyxcbiAgZGVsaW1pdGVyOiAnZmFzIGZhLWNpcmNsZScsXG4gIHNvcnQ6ICdmYXMgZmEtc29ydC11cCcsXG4gIGV4cGFuZDogJ2ZhcyBmYS1jaGV2cm9uLWRvd24nLFxuICBtZW51OiAnZmFzIGZhLWJhcnMnLFxuICBzdWJncm91cDogJ2ZhcyBmYS1jYXJldC1kb3duJyxcbiAgZHJvcGRvd246ICdmYXMgZmEtY2FyZXQtZG93bicsXG4gIHJhZGlvT246ICdmYXIgZmEtZG90LWNpcmNsZScsXG4gIHJhZGlvT2ZmOiAnZmFyIGZhLWNpcmNsZScsXG4gIGVkaXQ6ICdmYXMgZmEtZWRpdCcsXG4gIHJhdGluZ0VtcHR5OiAnZmFyIGZhLXN0YXInLFxuICByYXRpbmdGdWxsOiAnZmFzIGZhLXN0YXInLFxuICByYXRpbmdIYWxmOiAnZmFzIGZhLXN0YXItaGFsZicsXG4gIGxvYWRpbmc6ICdmYXMgZmEtc3luYycsXG4gIGZpcnN0OiAnZmFzIGZhLXN0ZXAtYmFja3dhcmQnLFxuICBsYXN0OiAnZmFzIGZhLXN0ZXAtZm9yd2FyZCcsXG4gIHVuZm9sZDogJ2ZhcyBmYS1hcnJvd3MtYWx0LXYnLFxuICBmaWxlOiAnZmFzIGZhLXBhcGVyY2xpcCcsXG4gIHBsdXM6ICdmYXMgZmEtcGx1cycsXG4gIG1pbnVzOiAnZmFzIGZhLW1pbnVzJ1xufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoaWNvbnMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL2ZhNC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL2ZhNC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xudmFyIGljb25zID0ge1xuICBjb21wbGV0ZTogJ2ZhIGZhLWNoZWNrJyxcbiAgY2FuY2VsOiAnZmEgZmEtdGltZXMtY2lyY2xlJyxcbiAgY2xvc2U6ICdmYSBmYS10aW1lcycsXG4gIGRlbGV0ZTogJ2ZhIGZhLXRpbWVzLWNpcmNsZScsXG4gIGNsZWFyOiAnZmEgZmEtdGltZXMtY2lyY2xlJyxcbiAgc3VjY2VzczogJ2ZhIGZhLWNoZWNrLWNpcmNsZScsXG4gIGluZm86ICdmYSBmYS1pbmZvLWNpcmNsZScsXG4gIHdhcm5pbmc6ICdmYSBmYS1leGNsYW1hdGlvbicsXG4gIGVycm9yOiAnZmEgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUnLFxuICBwcmV2OiAnZmEgZmEtY2hldnJvbi1sZWZ0JyxcbiAgbmV4dDogJ2ZhIGZhLWNoZXZyb24tcmlnaHQnLFxuICBjaGVja2JveE9uOiAnZmEgZmEtY2hlY2stc3F1YXJlJyxcbiAgY2hlY2tib3hPZmY6ICdmYXIgZmEtc3F1YXJlJyxcbiAgY2hlY2tib3hJbmRldGVybWluYXRlOiAnZmEgZmEtbWludXMtc3F1YXJlJyxcbiAgZGVsaW1pdGVyOiAnZmEgZmEtY2lyY2xlJyxcbiAgc29ydDogJ2ZhIGZhLXNvcnQtdXAnLFxuICBleHBhbmQ6ICdmYSBmYS1jaGV2cm9uLWRvd24nLFxuICBtZW51OiAnZmEgZmEtYmFycycsXG4gIHN1Ymdyb3VwOiAnZmEgZmEtY2FyZXQtZG93bicsXG4gIGRyb3Bkb3duOiAnZmEgZmEtY2FyZXQtZG93bicsXG4gIHJhZGlvT246ICdmYSBmYS1kb3QtY2lyY2xlLW8nLFxuICByYWRpb09mZjogJ2ZhIGZhLWNpcmNsZS1vJyxcbiAgZWRpdDogJ2ZhIGZhLXBlbmNpbCcsXG4gIHJhdGluZ0VtcHR5OiAnZmEgZmEtc3Rhci1vJyxcbiAgcmF0aW5nRnVsbDogJ2ZhIGZhLXN0YXInLFxuICByYXRpbmdIYWxmOiAnZmEgZmEtc3Rhci1oYWxmLW8nLFxuICBsb2FkaW5nOiAnZmEgZmEtcmVmcmVzaCcsXG4gIGZpcnN0OiAnZmEgZmEtc3RlcC1iYWNrd2FyZCcsXG4gIGxhc3Q6ICdmYSBmYS1zdGVwLWZvcndhcmQnLFxuICB1bmZvbGQ6ICdmYSBmYS1hbmdsZS1kb3VibGUtZG93bicsXG4gIGZpbGU6ICdmYSBmYS1wYXBlcmNsaXAnLFxuICBwbHVzOiAnZmEgZmEtcGx1cycsXG4gIG1pbnVzOiAnZmEgZmEtbWludXMnXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChpY29ucyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2ljb25zL3ByZXNldHMvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWRpX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tZGktc3ZnICovIFwiLi9zcmMvc2VydmljZXMvaWNvbnMvcHJlc2V0cy9tZGktc3ZnLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9tZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tZCAqLyBcIi4vc3JjL3NlcnZpY2VzL2ljb25zL3ByZXNldHMvbWQudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21kaV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tZGkgKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL21kaS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZmFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmEgKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL2ZhLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9mYTRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmE0ICovIFwiLi9zcmMvc2VydmljZXMvaWNvbnMvcHJlc2V0cy9mYTQudHNcIik7XG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QuZnJlZXplKHtcbiAgbWRpU3ZnOiBfbWRpX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgbWQ6IF9tZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgbWRpOiBfbWRpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICBmYTogX2ZhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLFxuICBmYTQ6IF9mYTRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc2VydmljZXMvaWNvbnMvcHJlc2V0cy9tZC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3NlcnZpY2VzL2ljb25zL3ByZXNldHMvbWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xudmFyIGljb25zID0ge1xuICBjb21wbGV0ZTogJ2NoZWNrJyxcbiAgY2FuY2VsOiAnY2FuY2VsJyxcbiAgY2xvc2U6ICdjbG9zZScsXG4gIGRlbGV0ZTogJ2NhbmNlbCcsXG4gIGNsZWFyOiAnY2xlYXInLFxuICBzdWNjZXNzOiAnY2hlY2tfY2lyY2xlJyxcbiAgaW5mbzogJ2luZm8nLFxuICB3YXJuaW5nOiAncHJpb3JpdHlfaGlnaCcsXG4gIGVycm9yOiAnd2FybmluZycsXG4gIHByZXY6ICdjaGV2cm9uX2xlZnQnLFxuICBuZXh0OiAnY2hldnJvbl9yaWdodCcsXG4gIGNoZWNrYm94T246ICdjaGVja19ib3gnLFxuICBjaGVja2JveE9mZjogJ2NoZWNrX2JveF9vdXRsaW5lX2JsYW5rJyxcbiAgY2hlY2tib3hJbmRldGVybWluYXRlOiAnaW5kZXRlcm1pbmF0ZV9jaGVja19ib3gnLFxuICBkZWxpbWl0ZXI6ICdmaWJlcl9tYW51YWxfcmVjb3JkJyxcbiAgc29ydDogJ2Fycm93X3Vwd2FyZCcsXG4gIGV4cGFuZDogJ2tleWJvYXJkX2Fycm93X2Rvd24nLFxuICBtZW51OiAnbWVudScsXG4gIHN1Ymdyb3VwOiAnYXJyb3dfZHJvcF9kb3duJyxcbiAgZHJvcGRvd246ICdhcnJvd19kcm9wX2Rvd24nLFxuICByYWRpb09uOiAncmFkaW9fYnV0dG9uX2NoZWNrZWQnLFxuICByYWRpb09mZjogJ3JhZGlvX2J1dHRvbl91bmNoZWNrZWQnLFxuICBlZGl0OiAnZWRpdCcsXG4gIHJhdGluZ0VtcHR5OiAnc3Rhcl9ib3JkZXInLFxuICByYXRpbmdGdWxsOiAnc3RhcicsXG4gIHJhdGluZ0hhbGY6ICdzdGFyX2hhbGYnLFxuICBsb2FkaW5nOiAnY2FjaGVkJyxcbiAgZmlyc3Q6ICdmaXJzdF9wYWdlJyxcbiAgbGFzdDogJ2xhc3RfcGFnZScsXG4gIHVuZm9sZDogJ3VuZm9sZF9tb3JlJyxcbiAgZmlsZTogJ2F0dGFjaF9maWxlJyxcbiAgcGx1czogJ2FkZCcsXG4gIG1pbnVzOiAncmVtb3ZlJ1xufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoaWNvbnMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL21kaS1zdmcudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3NlcnZpY2VzL2ljb25zL3ByZXNldHMvbWRpLXN2Zy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbnZhciBpY29ucyA9IHtcbiAgY29tcGxldGU6ICdNMjEsN0w5LDE5TDMuNSwxMy41TDQuOTEsMTIuMDlMOSwxNi4xN0wxOS41OSw1LjU5TDIxLDdaJyxcbiAgY2FuY2VsOiAnTTEyLDJDMTcuNTMsMiAyMiw2LjQ3IDIyLDEyQzIyLDE3LjUzIDE3LjUzLDIyIDEyLDIyQzYuNDcsMjIgMiwxNy41MyAyLDEyQzIsNi40NyA2LjQ3LDIgMTIsMk0xNS41OSw3TDEyLDEwLjU5TDguNDEsN0w3LDguNDFMMTAuNTksMTJMNywxNS41OUw4LjQxLDE3TDEyLDEzLjQxTDE1LjU5LDE3TDE3LDE1LjU5TDEzLjQxLDEyTDE3LDguNDFMMTUuNTksN1onLFxuICBjbG9zZTogJ00xOSw2LjQxTDE3LjU5LDVMMTIsMTAuNTlMNi40MSw1TDUsNi40MUwxMC41OSwxMkw1LDE3LjU5TDYuNDEsMTlMMTIsMTMuNDFMMTcuNTksMTlMMTksMTcuNTlMMTMuNDEsMTJMMTksNi40MVonLFxuICBkZWxldGU6ICdNMTIsMkMxNy41MywyIDIyLDYuNDcgMjIsMTJDMjIsMTcuNTMgMTcuNTMsMjIgMTIsMjJDNi40NywyMiAyLDE3LjUzIDIsMTJDMiw2LjQ3IDYuNDcsMiAxMiwyTTE1LjU5LDdMMTIsMTAuNTlMOC40MSw3TDcsOC40MUwxMC41OSwxMkw3LDE1LjU5TDguNDEsMTdMMTIsMTMuNDFMMTUuNTksMTdMMTcsMTUuNTlMMTMuNDEsMTJMMTcsOC40MUwxNS41OSw3WicsXG4gIGNsZWFyOiAnTTE5LDYuNDFMMTcuNTksNUwxMiwxMC41OUw2LjQxLDVMNSw2LjQxTDEwLjU5LDEyTDUsMTcuNTlMNi40MSwxOUwxMiwxMy40MUwxNy41OSwxOUwxOSwxNy41OUwxMy40MSwxMkwxOSw2LjQxWicsXG4gIHN1Y2Nlc3M6ICdNMTIsMkMxNy41MiwyIDIyLDYuNDggMjIsMTJDMjIsMTcuNTIgMTcuNTIsMjIgMTIsMjJDNi40OCwyMiAyLDE3LjUyIDIsMTJDMiw2LjQ4IDYuNDgsMiAxMiwyTTExLDE2LjVMMTgsOS41TDE2LjU5LDguMDlMMTEsMTMuNjdMNy45MSwxMC41OUw2LjUsMTJMMTEsMTYuNVonLFxuICBpbmZvOiAnTTEzLDlIMTFWN0gxM00xMywxN0gxMVYxMUgxM00xMiwyQzYuNDgsMiAyLDYuNDggMiwxMkMyLDE3LjUyIDYuNDgsMjIgMTIsMjJDMTcuNTIsMjIgMjIsMTcuNTIgMjIsMTJDMjIsNi40OCAxNy41MiwyIDEyLDJaJyxcbiAgd2FybmluZzogJ00xMSw0LjVIMTNWMTUuNUgxMVY0LjVNMTMsMTcuNVYxOS41SDExVjE3LjVIMTNaJyxcbiAgZXJyb3I6ICdNMTMsMTRIMTFWMTBIMTNNMTMsMThIMTFWMTZIMTNNMSwyMUgyM0wxMiwyTDEsMjFaJyxcbiAgcHJldjogJ00xNS40MSwxNi41OEwxMC44MywxMkwxNS40MSw3LjQxTDE0LDZMOCwxMkwxNCwxOEwxNS40MSwxNi41OFonLFxuICBuZXh0OiAnTTguNTksMTYuNThMMTMuMTcsMTJMOC41OSw3LjQxTDEwLDZMMTYsMTJMMTAsMThMOC41OSwxNi41OFonLFxuICBjaGVja2JveE9uOiAnTTEwLDE3TDUsMTJMNi40MSwxMC41OEwxMCwxNC4xN0wxNy41OSw2LjU4TDE5LDhNMTksM0g1QzMuODksMyAzLDMuODkgMyw1VjE5QzMsMjAuMSAzLjksMjEgNSwyMUgxOUMyMC4xLDIxIDIxLDIwLjEgMjEsMTlWNUMyMSwzLjg5IDIwLjEsMyAxOSwzWicsXG4gIGNoZWNrYm94T2ZmOiAnTTE5LDNINUMzLjg5LDMgMywzLjg5IDMsNVYxOUMzLDIwLjEgMy45LDIxIDUsMjFIMTlDMjAuMSwyMSAyMSwyMC4xIDIxLDE5VjVDMjEsMy44OSAyMC4xLDMgMTksM00xOSw1VjE5SDVWNUgxOVonLFxuICBjaGVja2JveEluZGV0ZXJtaW5hdGU6ICdNMTcsMTNIN1YxMUgxN00xOSwzSDVDMy44OSwzIDMsMy44OSAzLDVWMTlDMywyMC4xIDMuOSwyMSA1LDIxSDE5QzIwLjEsMjEgMjEsMjAuMSAyMSwxOVY1QzIxLDMuODkgMjAuMSwzIDE5LDNaJyxcbiAgZGVsaW1pdGVyOiAnTTEyLDJDNi40OCwyIDIsNi40OCAyLDEyQzIsMTcuNTIgNi40OCwyMiAxMiwyMkMxNy41MiwyMiAyMiwxNy41MiAyMiwxMkMyMiw2LjQ4IDE3LjUyLDIgMTIsMlonLFxuICBzb3J0OiAnTTEzLDIwSDExVjhMNS41LDEzLjVMNC4wOCwxMi4wOEwxMiw0LjE2TDE5LjkyLDEyLjA4TDE4LjUsMTMuNUwxMyw4VjIwWicsXG4gIGV4cGFuZDogJ003LjQxLDguNThMMTIsMTMuMTdMMTYuNTksOC41OEwxOCwxMEwxMiwxNkw2LDEwTDcuNDEsOC41OFonLFxuICBtZW51OiAnTTMsNkgyMVY4SDNWNk0zLDExSDIxVjEzSDNWMTFNMywxNkgyMVYxOEgzVjE2WicsXG4gIHN1Ymdyb3VwOiAnTTcsMTBMMTIsMTVMMTcsMTBIN1onLFxuICBkcm9wZG93bjogJ003LDEwTDEyLDE1TDE3LDEwSDdaJyxcbiAgcmFkaW9PbjogJ00xMiwyMEM3LjU4LDIwIDQsMTYuNDIgNCwxMkM0LDcuNTggNy41OCw0IDEyLDRDMTYuNDIsNCAyMCw3LjU4IDIwLDEyQzIwLDE2LjQyIDE2LjQyLDIwIDEyLDIwTTEyLDJDNi40OCwyIDIsNi40OCAyLDEyQzIsMTcuNTIgNi40OCwyMiAxMiwyMkMxNy41MiwyMiAyMiwxNy41MiAyMiwxMkMyMiw2LjQ4IDE3LjUyLDIgMTIsMk0xMiw3QzkuMjQsNyA3LDkuMjQgNywxMkM3LDE0Ljc2IDkuMjQsMTcgMTIsMTdDMTQuNzYsMTcgMTcsMTQuNzYgMTcsMTJDMTcsOS4yNCAxNC43Niw3IDEyLDdaJyxcbiAgcmFkaW9PZmY6ICdNMTIsMjBDNy41OCwyMCA0LDE2LjQyIDQsMTJDNCw3LjU4IDcuNTgsNCAxMiw0QzE2LjQyLDQgMjAsNy41OCAyMCwxMkMyMCwxNi40MiAxNi40MiwyMCAxMiwyME0xMiwyQzYuNDgsMiAyLDYuNDggMiwxMkMyLDE3LjUyIDYuNDgsMjIgMTIsMjJDMTcuNTIsMjIgMjIsMTcuNTIgMjIsMTJDMjIsNi40OCAxNy41MiwyIDEyLDJaJyxcbiAgZWRpdDogJ00yMC43MSw3LjA0QzIxLjEsNi42NSAyMS4xLDYgMjAuNzEsNS42M0wxOC4zNywzLjI5QzE4LDIuOSAxNy4zNSwyLjkgMTYuOTYsMy4yOUwxNS4xMiw1LjEyTDE4Ljg3LDguODdNMywxNy4yNVYyMUg2Ljc1TDE3LjgxLDkuOTNMMTQuMDYsNi4xOEwzLDE3LjI1WicsXG4gIHJhdGluZ0VtcHR5OiAnTTEyLDE1LjM5TDguMjQsMTcuNjZMOS4yMywxMy4zOEw1LjkxLDEwLjVMMTAuMjksMTAuMTNMMTIsNi4wOUwxMy43MSwxMC4xM0wxOC4wOSwxMC41TDE0Ljc3LDEzLjM4TDE1Ljc2LDE3LjY2TTIyLDkuMjRMMTQuODEsOC42M0wxMiwyTDkuMTksOC42M0wyLDkuMjRMNy40NSwxMy45N0w1LjgyLDIxTDEyLDE3LjI3TDE4LjE4LDIxTDE2LjU0LDEzLjk3TDIyLDkuMjRaJyxcbiAgcmF0aW5nRnVsbDogJ00xMiwxNy4yN0wxOC4xOCwyMUwxNi41NCwxMy45N0wyMiw5LjI0TDE0LjgxLDguNjJMMTIsMkw5LjE5LDguNjJMMiw5LjI0TDcuNDUsMTMuOTdMNS44MiwyMUwxMiwxNy4yN1onLFxuICByYXRpbmdIYWxmOiAnTTEyLDE1LjRWNi4xTDEzLjcxLDEwLjEzTDE4LjA5LDEwLjVMMTQuNzcsMTMuMzlMMTUuNzYsMTcuNjdNMjIsOS4yNEwxNC44MSw4LjYzTDEyLDJMOS4xOSw4LjYzTDIsOS4yNEw3LjQ1LDEzLjk3TDUuODIsMjFMMTIsMTcuMjdMMTguMTgsMjFMMTYuNTQsMTMuOTdMMjIsOS4yNFonLFxuICBsb2FkaW5nOiAnTTE5LDhMMTUsMTJIMThDMTgsMTUuMzEgMTUuMzEsMTggMTIsMThDMTEsMTggMTAuMDMsMTcuNzUgOS4yLDE3LjNMNy43NCwxOC43NkM4Ljk3LDE5LjU0IDEwLjQzLDIwIDEyLDIwQzE2LjQyLDIwIDIwLDE2LjQyIDIwLDEySDIzTTYsMTJDNiw4LjY5IDguNjksNiAxMiw2QzEzLDYgMTMuOTcsNi4yNSAxNC44LDYuN0wxNi4yNiw1LjI0QzE1LjAzLDQuNDYgMTMuNTcsNCAxMiw0QzcuNTgsNCA0LDcuNTggNCwxMkgxTDUsMTZMOSwxMicsXG4gIGZpcnN0OiAnTTE4LjQxLDE2LjU5TDEzLjgyLDEyTDE4LjQxLDcuNDFMMTcsNkwxMSwxMkwxNywxOEwxOC40MSwxNi41OU02LDZIOFYxOEg2VjZaJyxcbiAgbGFzdDogJ001LjU5LDcuNDFMMTAuMTgsMTJMNS41OSwxNi41OUw3LDE4TDEzLDEyTDcsNkw1LjU5LDcuNDFNMTYsNkgxOFYxOEgxNlY2WicsXG4gIHVuZm9sZDogJ00xMiwxOC4xN0w4LjgzLDE1TDcuNDIsMTYuNDFMMTIsMjFMMTYuNTksMTYuNDFMMTUuMTcsMTVNMTIsNS44M0wxNS4xNyw5TDE2LjU4LDcuNTlMMTIsM0w3LjQxLDcuNTlMOC44Myw5TDEyLDUuODNaJyxcbiAgZmlsZTogJ00xNi41LDZWMTcuNUMxNi41LDE5LjcxIDE0LjcxLDIxLjUgMTIuNSwyMS41QzEwLjI5LDIxLjUgOC41LDE5LjcxIDguNSwxNy41VjVDOC41LDMuNjIgOS42MiwyLjUgMTEsMi41QzEyLjM4LDIuNSAxMy41LDMuNjIgMTMuNSw1VjE1LjVDMTMuNSwxNi4wNSAxMy4wNSwxNi41IDEyLjUsMTYuNUMxMS45NSwxNi41IDExLjUsMTYuMDUgMTEuNSwxNS41VjZIMTBWMTUuNUMxMCwxNi44OCAxMS4xMiwxOCAxMi41LDE4QzEzLjg4LDE4IDE1LDE2Ljg4IDE1LDE1LjVWNUMxNSwyLjc5IDEzLjIxLDEgMTEsMUM4Ljc5LDEgNywyLjc5IDcsNVYxNy41QzcsMjAuNTQgOS40NiwyMyAxMi41LDIzQzE1LjU0LDIzIDE4LDIwLjU0IDE4LDE3LjVWNkgxNi41WicsXG4gIHBsdXM6ICdNMTksMTNIMTNWMTlIMTFWMTNINVYxMUgxMVY1SDEzVjExSDE5VjEzWicsXG4gIG1pbnVzOiAnTTE5LDEzSDVWMTFIMTlWMTNaJ1xufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoaWNvbnMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL21kaS50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9pY29ucy9wcmVzZXRzL21kaS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xudmFyIGljb25zID0ge1xuICBjb21wbGV0ZTogJ21kaS1jaGVjaycsXG4gIGNhbmNlbDogJ21kaS1jbG9zZS1jaXJjbGUnLFxuICBjbG9zZTogJ21kaS1jbG9zZScsXG4gIGRlbGV0ZTogJ21kaS1jbG9zZS1jaXJjbGUnLFxuICBjbGVhcjogJ21kaS1jbG9zZScsXG4gIHN1Y2Nlc3M6ICdtZGktY2hlY2stY2lyY2xlJyxcbiAgaW5mbzogJ21kaS1pbmZvcm1hdGlvbicsXG4gIHdhcm5pbmc6ICdtZGktZXhjbGFtYXRpb24nLFxuICBlcnJvcjogJ21kaS1hbGVydCcsXG4gIHByZXY6ICdtZGktY2hldnJvbi1sZWZ0JyxcbiAgbmV4dDogJ21kaS1jaGV2cm9uLXJpZ2h0JyxcbiAgY2hlY2tib3hPbjogJ21kaS1jaGVja2JveC1tYXJrZWQnLFxuICBjaGVja2JveE9mZjogJ21kaS1jaGVja2JveC1ibGFuay1vdXRsaW5lJyxcbiAgY2hlY2tib3hJbmRldGVybWluYXRlOiAnbWRpLW1pbnVzLWJveCcsXG4gIGRlbGltaXRlcjogJ21kaS1jaXJjbGUnLFxuICBzb3J0OiAnbWRpLWFycm93LXVwJyxcbiAgZXhwYW5kOiAnbWRpLWNoZXZyb24tZG93bicsXG4gIG1lbnU6ICdtZGktbWVudScsXG4gIHN1Ymdyb3VwOiAnbWRpLW1lbnUtZG93bicsXG4gIGRyb3Bkb3duOiAnbWRpLW1lbnUtZG93bicsXG4gIHJhZGlvT246ICdtZGktcmFkaW9ib3gtbWFya2VkJyxcbiAgcmFkaW9PZmY6ICdtZGktcmFkaW9ib3gtYmxhbmsnLFxuICBlZGl0OiAnbWRpLXBlbmNpbCcsXG4gIHJhdGluZ0VtcHR5OiAnbWRpLXN0YXItb3V0bGluZScsXG4gIHJhdGluZ0Z1bGw6ICdtZGktc3RhcicsXG4gIHJhdGluZ0hhbGY6ICdtZGktc3Rhci1oYWxmJyxcbiAgbG9hZGluZzogJ21kaS1jYWNoZWQnLFxuICBmaXJzdDogJ21kaS1wYWdlLWZpcnN0JyxcbiAgbGFzdDogJ21kaS1wYWdlLWxhc3QnLFxuICB1bmZvbGQ6ICdtZGktdW5mb2xkLW1vcmUtaG9yaXpvbnRhbCcsXG4gIGZpbGU6ICdtZGktcGFwZXJjbGlwJyxcbiAgcGx1czogJ21kaS1wbHVzJyxcbiAgbWludXM6ICdtZGktbWludXMnXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChpY29ucyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2luZGV4LnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3NlcnZpY2VzL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEFwcGxpY2F0aW9uLCBCcmVha3BvaW50LCBHb3RvLCBJY29ucywgTGFuZywgVGhlbWUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2FwcGxpY2F0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FwcGxpY2F0aW9uICovIFwiLi9zcmMvc2VydmljZXMvYXBwbGljYXRpb24vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBcHBsaWNhdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9hcHBsaWNhdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQXBwbGljYXRpb25cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2JyZWFrcG9pbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYnJlYWtwb2ludCAqLyBcIi4vc3JjL3NlcnZpY2VzL2JyZWFrcG9pbnQvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCcmVha3BvaW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2JyZWFrcG9pbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkJyZWFrcG9pbnRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dvdG9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ290byAqLyBcIi4vc3JjL3NlcnZpY2VzL2dvdG8vaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJHb3RvXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2dvdG9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkdvdG9cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ljb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ljb25zICovIFwiLi9zcmMvc2VydmljZXMvaWNvbnMvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJY29uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pY29uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiSWNvbnNcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2xhbmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGFuZyAqLyBcIi4vc3JjL3NlcnZpY2VzL2xhbmcvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMYW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2xhbmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxhbmdcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RoZW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RoZW1lICovIFwiLi9zcmMvc2VydmljZXMvdGhlbWUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaGVtZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90aGVtZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiVGhlbWVcIl07IH0pO1xuXG5cblxuXG5cblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL2xhbmcvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9sYW5nL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogTGFuZyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMYW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTGFuZzsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NlcnZpY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3NlcnZpY2UgKi8gXCIuL3NyYy9zZXJ2aWNlcy9zZXJ2aWNlL2luZGV4LnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9sb2NhbGVfZW5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2xvY2FsZS9lbiAqLyBcIi4vc3JjL2xvY2FsZS9lbi50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2hlbHBlcnMgKi8gXCIuL3NyYy91dGlsL2hlbHBlcnMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbC9jb25zb2xlICovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCIpO1xudmFyIF9fZXh0ZW5kcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9leHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gZXh0ZW5kU3RhdGljcyhkLCBiKSB7XG4gICAgX2V4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcblxuICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgfVxuXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07IC8vIEV4dGVuc2lvbnNcblxuXG4gLy8gTGFuZ3VhZ2VcblxuIC8vIFV0aWxpdGllc1xuXG5cblxudmFyIExBTkdfUFJFRklYID0gJyR2dWV0aWZ5Lic7XG52YXIgZmFsbGJhY2sgPSBTeW1ib2woJ0xhbmcgZmFsbGJhY2snKTtcblxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24obG9jYWxlLCBrZXksIHVzaW5nRmFsbGJhY2spIHtcbiAgaWYgKHVzaW5nRmFsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgIHVzaW5nRmFsbGJhY2sgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBzaG9ydEtleSA9IGtleS5yZXBsYWNlKExBTkdfUFJFRklYLCAnJyk7XG4gIHZhciB0cmFuc2xhdGlvbiA9IE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRPYmplY3RWYWx1ZUJ5UGF0aFwiXSkobG9jYWxlLCBzaG9ydEtleSwgZmFsbGJhY2spO1xuXG4gIGlmICh0cmFuc2xhdGlvbiA9PT0gZmFsbGJhY2spIHtcbiAgICBpZiAodXNpbmdGYWxsYmFjaykge1xuICAgICAgT2JqZWN0KF91dGlsX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNvbnNvbGVFcnJvclwiXSkoXCJUcmFuc2xhdGlvbiBrZXkgXFxcIlwiICsgc2hvcnRLZXkgKyBcIlxcXCIgbm90IGZvdW5kIGluIGZhbGxiYWNrXCIpO1xuICAgICAgdHJhbnNsYXRpb24gPSBrZXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdChfdXRpbF9jb25zb2xlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25zb2xlV2FyblwiXSkoXCJUcmFuc2xhdGlvbiBrZXkgXFxcIlwiICsgc2hvcnRLZXkgKyBcIlxcXCIgbm90IGZvdW5kLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdFwiKTtcbiAgICAgIHRyYW5zbGF0aW9uID0gZ2V0VHJhbnNsYXRpb24oX2xvY2FsZV9lbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwga2V5LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJhbnNsYXRpb247XG59XG5cbnZhciBMYW5nID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKExhbmcsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTGFuZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5jdXJyZW50ID0gb3B0aW9ucy5jdXJyZW50IHx8ICdlbic7XG4gICAgX3RoaXMubG9jYWxlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZW46IF9sb2NhbGVfZW5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl1cbiAgICB9LCBvcHRpb25zLmxvY2FsZXMpO1xuICAgIF90aGlzLnRyYW5zbGF0b3IgPSBvcHRpb25zLnQ7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTGFuZy5wcm90b3R5cGUudCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgcGFyYW1zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoTEFOR19QUkVGSVgpKSByZXR1cm4gdGhpcy5yZXBsYWNlKGtleSwgcGFyYW1zKTtcbiAgICBpZiAodGhpcy50cmFuc2xhdG9yKSByZXR1cm4gdGhpcy50cmFuc2xhdG9yLmFwcGx5KHRoaXMsIF9fc3ByZWFkKFtrZXldLCBwYXJhbXMpKTtcbiAgICB2YXIgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbih0aGlzLmxvY2FsZXNbdGhpcy5jdXJyZW50XSwga2V5KTtcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHRyYW5zbGF0aW9uLCBwYXJhbXMpO1xuICB9O1xuXG4gIExhbmcucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAoc3RyLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xceyhcXGQrKVxcfS9nLCBmdW5jdGlvbiAobWF0Y2gsIGluZGV4KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIFN0cmluZyhwYXJhbXNbK2luZGV4XSk7XG4gICAgfSk7XG4gIH07XG5cbiAgTGFuZy5wcm9wZXJ0eSA9ICdsYW5nJztcbiAgcmV0dXJuIExhbmc7XG59KF9zZXJ2aWNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJTZXJ2aWNlXCJdKTtcblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlcnZpY2VzL3NlcnZpY2UvaW5kZXgudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy9zZXJ2aWNlL2luZGV4LnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogU2VydmljZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTZXJ2aWNlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2VydmljZTsgfSk7XG52YXIgU2VydmljZSA9XG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlcnZpY2UoKSB7XG4gICAgdGhpcy5mcmFtZXdvcmsgPSB7fTtcbiAgfVxuXG4gIFNlcnZpY2UucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAocm9vdCwgc3NyQ29udGV4dCkge307XG5cbiAgcmV0dXJuIFNlcnZpY2U7XG59KCk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zZXJ2aWNlcy90aGVtZS9pbmRleC50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zZXJ2aWNlcy90aGVtZS9pbmRleC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBUaGVtZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaGVtZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRoZW1lOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2VydmljZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc2VydmljZSAqLyBcIi4vc3JjL3NlcnZpY2VzL3NlcnZpY2UvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzICovIFwiLi9zcmMvc2VydmljZXMvdGhlbWUvdXRpbHMudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xudmFyIF9fZXh0ZW5kcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9leHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gZXh0ZW5kU3RhdGljcyhkLCBiKSB7XG4gICAgX2V4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBfZXh0ZW5kU3RhdGljcyhkLCBiKTtcblxuICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgfVxuXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xuLyogZXNsaW50LWRpc2FibGUgbm8tbXVsdGktc3BhY2VzICovXG4vLyBFeHRlbnNpb25zXG5cblxuIC8vIFV0aWxpdGllc1xuXG4gLy8gVHlwZXNcblxuXG5cbnZhciBUaGVtZSA9XG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhUaGVtZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaGVtZShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIF90aGlzLnRoZW1lcyA9IHtcbiAgICAgIGxpZ2h0OiB7XG4gICAgICAgIHByaW1hcnk6ICcjMTk3NkQyJyxcbiAgICAgICAgc2Vjb25kYXJ5OiAnIzQyNDI0MicsXG4gICAgICAgIGFjY2VudDogJyM4MkIxRkYnLFxuICAgICAgICBlcnJvcjogJyNGRjUyNTInLFxuICAgICAgICBpbmZvOiAnIzIxOTZGMycsXG4gICAgICAgIHN1Y2Nlc3M6ICcjNENBRjUwJyxcbiAgICAgICAgd2FybmluZzogJyNGQjhDMDAnXG4gICAgICB9LFxuICAgICAgZGFyazoge1xuICAgICAgICBwcmltYXJ5OiAnIzIxOTZGMycsXG4gICAgICAgIHNlY29uZGFyeTogJyM0MjQyNDInLFxuICAgICAgICBhY2NlbnQ6ICcjRkY0MDgxJyxcbiAgICAgICAgZXJyb3I6ICcjRkY1MjUyJyxcbiAgICAgICAgaW5mbzogJyMyMTk2RjMnLFxuICAgICAgICBzdWNjZXNzOiAnIzRDQUY1MCcsXG4gICAgICAgIHdhcm5pbmc6ICcjRkI4QzAwJ1xuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMuZGVmYXVsdHMgPSBfdGhpcy50aGVtZXM7XG4gICAgX3RoaXMuaXNEYXJrID0gbnVsbDtcbiAgICBfdGhpcy52dWVJbnN0YW5jZSA9IG51bGw7XG4gICAgX3RoaXMudnVlTWV0YSA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy5kaXNhYmxlKSB7XG4gICAgICBfdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnMub3B0aW9ucztcbiAgICBfdGhpcy5kYXJrID0gQm9vbGVhbihvcHRpb25zLmRhcmspO1xuICAgIHZhciB0aGVtZXMgPSBvcHRpb25zLnRoZW1lcyB8fCB7fTtcbiAgICBfdGhpcy50aGVtZXMgPSB7XG4gICAgICBkYXJrOiBfdGhpcy5maWxsVmFyaWFudCh0aGVtZXMuZGFyaywgdHJ1ZSksXG4gICAgICBsaWdodDogX3RoaXMuZmlsbFZhcmlhbnQodGhlbWVzLmxpZ2h0LCBmYWxzZSlcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaGVtZS5wcm90b3R5cGUsIFwiY3NzXCIsIHtcbiAgICAvLyBXaGVuIHNldHRpbmcgY3NzLCBjaGVjayBmb3IgZWxlbWVudFxuICAgIC8vIGFuZCBhcHBseSBuZXcgdmFsdWVzXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICBpZiAodGhpcy52dWVNZXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVnVlTWV0YTIzKSB7XG4gICAgICAgICAgdGhpcy5hcHBseVZ1ZU1ldGEyMygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNoZWNrT3JDcmVhdGVTdHlsZUVsZW1lbnQoKSAmJiAodGhpcy5zdHlsZUVsLmlubmVySFRNTCA9IHZhbCk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRoZW1lLnByb3RvdHlwZSwgXCJkYXJrXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuaXNEYXJrKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgdmFyIG9sZERhcmsgPSB0aGlzLmlzRGFyaztcbiAgICAgIHRoaXMuaXNEYXJrID0gdmFsOyAvLyBPbmx5IGFwcGx5IHRoZW1lIGFmdGVyIGRhcmtcbiAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJlZm9yZVxuXG4gICAgICBvbGREYXJrICE9IG51bGwgJiYgdGhpcy5hcHBseVRoZW1lKCk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTsgLy8gQXBwbHkgY3VycmVudCB0aGVtZSBkZWZhdWx0XG4gIC8vIG9ubHkgY2FsbGVkIG9uIGNsaWVudCBzaWRlXG5cbiAgVGhlbWUucHJvdG90eXBlLmFwcGx5VGhlbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybiB0aGlzLmNsZWFyQ3NzKCk7XG4gICAgdGhpcy5jc3MgPSB0aGlzLmdlbmVyYXRlZFN0eWxlcztcbiAgfTtcblxuICBUaGVtZS5wcm90b3R5cGUuY2xlYXJDc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jc3MgPSAnJztcbiAgfTsgLy8gSW5pdGlhbGl6ZSB0aGVtZSBmb3IgU1NSIGFuZCBTUEFcbiAgLy8gQXR0YWNoIHRvIHNzckNvbnRleHQgaGVhZCBvclxuICAvLyBhcHBseSBuZXcgdGhlbWUgdG8gZG9jdW1lbnRcblxuXG4gIFRoZW1lLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHJvb3QsIHNzckNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgICBpZiAocm9vdC4kbWV0YSkge1xuICAgICAgdGhpcy5pbml0VnVlTWV0YShyb290KTtcbiAgICB9IGVsc2UgaWYgKHNzckNvbnRleHQpIHtcbiAgICAgIHRoaXMuaW5pdFNTUihzc3JDb250ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRUaGVtZSgpO1xuICB9OyAvLyBBbGxvd3MgZm9yIHlvdSB0byBzZXQgdGFyZ2V0IHRoZW1lXG5cblxuICBUaGVtZS5wcm90b3R5cGUuc2V0VGhlbWUgPSBmdW5jdGlvbiAodGhlbWUsIHZhbHVlKSB7XG4gICAgdGhpcy50aGVtZXNbdGhlbWVdID0gT2JqZWN0LmFzc2lnbih0aGlzLnRoZW1lc1t0aGVtZV0sIHZhbHVlKTtcbiAgICB0aGlzLmFwcGx5VGhlbWUoKTtcbiAgfTsgLy8gUmVzZXQgdGhlbWUgZGVmYXVsdHNcblxuXG4gIFRoZW1lLnByb3RvdHlwZS5yZXNldFRoZW1lcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRoZW1lcy5saWdodCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMubGlnaHQpO1xuICAgIHRoaXMudGhlbWVzLmRhcmsgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLmRhcmspO1xuICAgIHRoaXMuYXBwbHlUaGVtZSgpO1xuICB9OyAvLyBDaGVjayBmb3IgZXhpc3RlbmNlIG9mIHN0eWxlIGVsZW1lbnRcblxuXG4gIFRoZW1lLnByb3RvdHlwZS5jaGVja09yQ3JlYXRlU3R5bGVFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc3R5bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2dWV0aWZ5LXRoZW1lLXN0eWxlc2hlZXQnKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gICAgaWYgKHRoaXMuc3R5bGVFbCkgcmV0dXJuIHRydWU7XG4gICAgdGhpcy5nZW5TdHlsZUVsZW1lbnQoKTsgLy8gSWYgZG9lc24ndCBoYXZlIGl0LCBjcmVhdGUgaXRcblxuICAgIHJldHVybiBCb29sZWFuKHRoaXMuc3R5bGVFbCk7XG4gIH07XG5cbiAgVGhlbWUucHJvdG90eXBlLmZpbGxWYXJpYW50ID0gZnVuY3Rpb24gKHRoZW1lLCBkYXJrKSB7XG4gICAgaWYgKHRoZW1lID09PSB2b2lkIDApIHtcbiAgICAgIHRoZW1lID0ge307XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRUaGVtZSA9IHRoaXMudGhlbWVzW2RhcmsgPyAnZGFyaycgOiAnbGlnaHQnXTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFRoZW1lLCB0aGVtZSk7XG4gIH07IC8vIEdlbmVyYXRlIHRoZSBzdHlsZSBlbGVtZW50XG4gIC8vIGlmIGFwcGxpY2FibGVcblxuXG4gIFRoZW1lLnByb3RvdHlwZS5nZW5TdHlsZUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwge307XG4gICAgdGhpcy5zdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB0aGlzLnN0eWxlRWwudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgdGhpcy5zdHlsZUVsLmlkID0gJ3Z1ZXRpZnktdGhlbWUtc3R5bGVzaGVldCc7XG5cbiAgICBpZiAob3B0aW9ucy5jc3BOb25jZSkge1xuICAgICAgdGhpcy5zdHlsZUVsLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBvcHRpb25zLmNzcE5vbmNlKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVFbCk7XG4gIH07XG5cbiAgVGhlbWUucHJvdG90eXBlLmluaXRWdWVNZXRhID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy52dWVNZXRhID0gcm9vdC4kbWV0YSgpO1xuXG4gICAgaWYgKHRoaXMuaXNWdWVNZXRhMjMpIHtcbiAgICAgIC8vIHZ1ZS1tZXRhIG5lZWRzIHRvIGFwcGx5IGFmdGVyIG1vdW50ZWQoKVxuICAgICAgcm9vdC4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hcHBseVZ1ZU1ldGEyMygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1ldGFLZXlOYW1lID0gdHlwZW9mIHRoaXMudnVlTWV0YS5nZXRPcHRpb25zID09PSAnZnVuY3Rpb24nID8gdGhpcy52dWVNZXRhLmdldE9wdGlvbnMoKS5rZXlOYW1lIDogJ21ldGFJbmZvJztcbiAgICB2YXIgbWV0YUluZm8gPSByb290LiRvcHRpb25zW21ldGFLZXlOYW1lXSB8fCB7fTtcblxuICAgIHJvb3QuJG9wdGlvbnNbbWV0YUtleU5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWV0YUluZm8uc3R5bGUgPSBtZXRhSW5mby5zdHlsZSB8fCBbXTtcbiAgICAgIHZhciB2dWV0aWZ5U3R5bGVzaGVldCA9IG1ldGFJbmZvLnN0eWxlLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaWQgPT09ICd2dWV0aWZ5LXRoZW1lLXN0eWxlc2hlZXQnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghdnVldGlmeVN0eWxlc2hlZXQpIHtcbiAgICAgICAgbWV0YUluZm8uc3R5bGUucHVzaCh7XG4gICAgICAgICAgY3NzVGV4dDogX3RoaXMuZ2VuZXJhdGVkU3R5bGVzLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0L2NzcycsXG4gICAgICAgICAgaWQ6ICd2dWV0aWZ5LXRoZW1lLXN0eWxlc2hlZXQnLFxuICAgICAgICAgIG5vbmNlOiAoX3RoaXMub3B0aW9ucyB8fCB7fSkuY3NwTm9uY2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2dWV0aWZ5U3R5bGVzaGVldC5jc3NUZXh0ID0gX3RoaXMuZ2VuZXJhdGVkU3R5bGVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWV0YUluZm87XG4gICAgfTtcbiAgfTtcblxuICBUaGVtZS5wcm90b3R5cGUuYXBwbHlWdWVNZXRhMjMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNldCA9IHRoaXMudnVlTWV0YS5hZGRBcHAoJ3Z1ZXRpZnknKS5zZXQ7XG4gICAgc2V0KHtcbiAgICAgIHN0eWxlOiBbe1xuICAgICAgICBjc3NUZXh0OiB0aGlzLmdlbmVyYXRlZFN0eWxlcyxcbiAgICAgICAgdHlwZTogJ3RleHQvY3NzJyxcbiAgICAgICAgaWQ6ICd2dWV0aWZ5LXRoZW1lLXN0eWxlc2hlZXQnLFxuICAgICAgICBub25jZTogKHRoaXMub3B0aW9ucyB8fCB7fSkuY3NwTm9uY2VcbiAgICAgIH1dXG4gICAgfSk7XG4gIH07XG5cbiAgVGhlbWUucHJvdG90eXBlLmluaXRTU1IgPSBmdW5jdGlvbiAoc3NyQ29udGV4dCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9OyAvLyBTU1JcblxuICAgIHZhciBub25jZSA9IG9wdGlvbnMuY3NwTm9uY2UgPyBcIiBub25jZT1cXFwiXCIgKyBvcHRpb25zLmNzcE5vbmNlICsgXCJcXFwiXCIgOiAnJztcbiAgICBzc3JDb250ZXh0LmhlYWQgPSBzc3JDb250ZXh0LmhlYWQgfHwgJyc7XG4gICAgc3NyQ29udGV4dC5oZWFkICs9IFwiPHN0eWxlIHR5cGU9XFxcInRleHQvY3NzXFxcIiBpZD1cXFwidnVldGlmeS10aGVtZS1zdHlsZXNoZWV0XFxcIlwiICsgbm9uY2UgKyBcIj5cIiArIHRoaXMuZ2VuZXJhdGVkU3R5bGVzICsgXCI8L3N0eWxlPlwiO1xuICB9O1xuXG4gIFRoZW1lLnByb3RvdHlwZS5pbml0VGhlbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8gT25seSB3YXRjaCBmb3IgcmVhY3Rpdml0eSBvbiBjbGllbnQgc2lkZVxuXG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuOyAvLyBJZiB3ZSBnZXQgaGVyZSBzb21laG93LCBlbnN1cmVcbiAgICAvLyBleGlzdGluZyBpbnN0YW5jZSBpcyByZW1vdmVkXG5cbiAgICBpZiAodGhpcy52dWVJbnN0YW5jZSkgdGhpcy52dWVJbnN0YW5jZS4kZGVzdHJveSgpOyAvLyBVc2UgVnVlIGluc3RhbmNlIHRvIHRyYWNrIHJlYWN0aXZpdHlcbiAgICAvLyBUT0RPOiBVcGRhdGUgdG8gdXNlIFJGQyBpZiBtZXJnZWRcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcmZjcy9ibG9iL2FkdmFuY2VkLXJlYWN0aXZpdHktYXBpL2FjdGl2ZS1yZmNzLzAwMDAtYWR2YW5jZWQtcmVhY3Rpdml0eS1hcGkubWRcblxuICAgIHRoaXMudnVlSW5zdGFuY2UgPSBuZXcgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdGhlbWVzOiB0aGlzLnRoZW1lc1xuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIHRoZW1lczoge1xuICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYXBwbHlUaGVtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaGVtZS5wcm90b3R5cGUsIFwiY3VycmVudFRoZW1lXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmRhcmsgPyAnZGFyaycgOiAnbGlnaHQnO1xuICAgICAgcmV0dXJuIHRoaXMudGhlbWVzW3RhcmdldF07XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRoZW1lLnByb3RvdHlwZSwgXCJnZW5lcmF0ZWRTdHlsZXNcIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHRoZW1lID0gdGhpcy5wYXJzZWRUaGVtZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIGNzcztcblxuICAgICAgaWYgKG9wdGlvbnMudGhlbWVDYWNoZSAhPSBudWxsKSB7XG4gICAgICAgIGNzcyA9IG9wdGlvbnMudGhlbWVDYWNoZS5nZXQodGhlbWUpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICAgICAgICBpZiAoY3NzICE9IG51bGwpIHJldHVybiBjc3M7XG4gICAgICB9XG5cbiAgICAgIGNzcyA9IF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2VuU3R5bGVzXCJdKHRoZW1lLCBvcHRpb25zLmN1c3RvbVByb3BlcnRpZXMpO1xuXG4gICAgICBpZiAob3B0aW9ucy5taW5pZnlUaGVtZSAhPSBudWxsKSB7XG4gICAgICAgIGNzcyA9IG9wdGlvbnMubWluaWZ5VGhlbWUoY3NzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudGhlbWVDYWNoZSAhPSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMudGhlbWVDYWNoZS5zZXQodGhlbWUsIGNzcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjc3M7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRoZW1lLnByb3RvdHlwZSwgXCJwYXJzZWRUaGVtZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgdmFyIHRoZW1lID0gdGhpcy5jdXJyZW50VGhlbWUgfHwge307XG4gICAgICByZXR1cm4gX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJwYXJzZVwiXSh0aGVtZSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRoZW1lLnByb3RvdHlwZSwgXCJpc1Z1ZU1ldGEyM1wiLCB7XG4gICAgLy8gSXMgdXNpbmcgdjIuMyBvZiB2dWUtbWV0YVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9udXh0L3Z1ZS1tZXRhL3JlbGVhc2VzL3RhZy92Mi4zLjBcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy52dWVNZXRhLmFkZEFwcCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBUaGVtZS5wcm9wZXJ0eSA9ICd0aGVtZSc7XG4gIHJldHVybiBUaGVtZTtcbn0oX3NlcnZpY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIlNlcnZpY2VcIl0pO1xuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc2VydmljZXMvdGhlbWUvdXRpbHMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc2VydmljZXMvdGhlbWUvdXRpbHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcGFyc2UsIGdlblN0eWxlcywgZ2VuVmFyaWF0aW9ucywgbGlnaHRlbiwgZGFya2VuICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhcnNlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcGFyc2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdlblN0eWxlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdlblN0eWxlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2VuVmFyaWF0aW9uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdlblZhcmlhdGlvbnM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImxpZ2h0ZW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsaWdodGVuOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkYXJrZW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkYXJrZW47IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvY29sb3JVdGlscyAqLyBcIi4vc3JjL3V0aWwvY29sb3JVdGlscy50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbF9jb2xvcl90cmFuc2Zvcm1TUkdCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbG9yL3RyYW5zZm9ybVNSR0IgKi8gXCIuL3NyYy91dGlsL2NvbG9yL3RyYW5zZm9ybVNSR0IudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxfY29sb3JfdHJhbnNmb3JtQ0lFTEFCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlsL2NvbG9yL3RyYW5zZm9ybUNJRUxBQiAqLyBcIi4vc3JjL3V0aWwvY29sb3IvdHJhbnNmb3JtQ0lFTEFCLnRzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gIHZhciB0ID0ge307XG5cbiAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgfVxuXG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSkgdFtwW2ldXSA9IHNbcFtpXV07XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIHBhcnNlKHRoZW1lLCBpc0l0ZW0pIHtcbiAgaWYgKGlzSXRlbSA9PT0gdm9pZCAwKSB7XG4gICAgaXNJdGVtID0gZmFsc2U7XG4gIH1cblxuICB2YXIgYW5jaG9yID0gdGhlbWUuYW5jaG9yLFxuICAgICAgdmFyaWFudCA9IF9fcmVzdCh0aGVtZSwgW1wiYW5jaG9yXCJdKTtcblxuICB2YXIgY29sb3JzID0gT2JqZWN0LmtleXModmFyaWFudCk7XG4gIHZhciBwYXJzZWRUaGVtZSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIG5hbWUgPSBjb2xvcnNbaV07XG4gICAgdmFyIHZhbHVlID0gdGhlbWVbbmFtZV07XG4gICAgaWYgKHZhbHVlID09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgaWYgKGlzSXRlbSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChuYW1lID09PSAnYmFzZScgfHwgbmFtZS5zdGFydHNXaXRoKCdsaWdodGVuJykgfHwgbmFtZS5zdGFydHNXaXRoKCdkYXJrZW4nKSkge1xuICAgICAgICBwYXJzZWRUaGVtZVtuYW1lXSA9IE9iamVjdChfdXRpbF9jb2xvclV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb2xvclRvSGV4XCJdKSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHBhcnNlZFRoZW1lW25hbWVdID0gcGFyc2UodmFsdWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRUaGVtZVtuYW1lXSA9IGdlblZhcmlhdGlvbnMobmFtZSwgT2JqZWN0KF91dGlsX2NvbG9yVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbG9yVG9JbnRcIl0pKHZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc0l0ZW0pIHtcbiAgICBwYXJzZWRUaGVtZS5hbmNob3IgPSBhbmNob3IgfHwgcGFyc2VkVGhlbWUuYmFzZSB8fCBwYXJzZWRUaGVtZS5wcmltYXJ5LmJhc2U7XG4gIH1cblxuICByZXR1cm4gcGFyc2VkVGhlbWU7XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBDU1MgZm9yIGEgYmFzZSBjb2xvciAoLnByaW1hcnkpXG4gKi9cblxudmFyIGdlbkJhc2VDb2xvciA9IGZ1bmN0aW9uIGdlbkJhc2VDb2xvcihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gXCJcXG4udi1hcHBsaWNhdGlvbiAuXCIgKyBuYW1lICsgXCIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIgKyB2YWx1ZSArIFwiICFpbXBvcnRhbnQ7XFxuICBib3JkZXItY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbn1cXG4udi1hcHBsaWNhdGlvbiAuXCIgKyBuYW1lICsgXCItLXRleHQge1xcbiAgY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbiAgY2FyZXQtY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbn1cIjtcbn07XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBDU1MgZm9yIGEgdmFyaWFudCBjb2xvciAoLnByaW1hcnkuZGFya2VuLTIpXG4gKi9cblxuXG52YXIgZ2VuVmFyaWFudENvbG9yID0gZnVuY3Rpb24gZ2VuVmFyaWFudENvbG9yKG5hbWUsIHZhcmlhbnQsIHZhbHVlKSB7XG4gIHZhciBfYSA9IF9fcmVhZCh2YXJpYW50LnNwbGl0KC8oXFxkKS8sIDIpLCAyKSxcbiAgICAgIHR5cGUgPSBfYVswXSxcbiAgICAgIG4gPSBfYVsxXTtcblxuICByZXR1cm4gXCJcXG4udi1hcHBsaWNhdGlvbiAuXCIgKyBuYW1lICsgXCIuXCIgKyB0eXBlICsgXCItXCIgKyBuICsgXCIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIgKyB2YWx1ZSArIFwiICFpbXBvcnRhbnQ7XFxuICBib3JkZXItY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbn1cXG4udi1hcHBsaWNhdGlvbiAuXCIgKyBuYW1lICsgXCItLXRleHQudGV4dC0tXCIgKyB0eXBlICsgXCItXCIgKyBuICsgXCIge1xcbiAgY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbiAgY2FyZXQtY29sb3I6IFwiICsgdmFsdWUgKyBcIiAhaW1wb3J0YW50O1xcbn1cIjtcbn07XG5cbnZhciBnZW5Db2xvclZhcmlhYmxlTmFtZSA9IGZ1bmN0aW9uIGdlbkNvbG9yVmFyaWFibGVOYW1lKG5hbWUsIHZhcmlhbnQpIHtcbiAgaWYgKHZhcmlhbnQgPT09IHZvaWQgMCkge1xuICAgIHZhcmlhbnQgPSAnYmFzZSc7XG4gIH1cblxuICByZXR1cm4gXCItLXYtXCIgKyBuYW1lICsgXCItXCIgKyB2YXJpYW50O1xufTtcblxudmFyIGdlbkNvbG9yVmFyaWFibGUgPSBmdW5jdGlvbiBnZW5Db2xvclZhcmlhYmxlKG5hbWUsIHZhcmlhbnQpIHtcbiAgaWYgKHZhcmlhbnQgPT09IHZvaWQgMCkge1xuICAgIHZhcmlhbnQgPSAnYmFzZSc7XG4gIH1cblxuICByZXR1cm4gXCJ2YXIoXCIgKyBnZW5Db2xvclZhcmlhYmxlTmFtZShuYW1lLCB2YXJpYW50KSArIFwiKVwiO1xufTtcblxuZnVuY3Rpb24gZ2VuU3R5bGVzKHRoZW1lLCBjc3NWYXIpIHtcbiAgaWYgKGNzc1ZhciA9PT0gdm9pZCAwKSB7XG4gICAgY3NzVmFyID0gZmFsc2U7XG4gIH1cblxuICB2YXIgYW5jaG9yID0gdGhlbWUuYW5jaG9yLFxuICAgICAgdmFyaWFudCA9IF9fcmVzdCh0aGVtZSwgW1wiYW5jaG9yXCJdKTtcblxuICB2YXIgY29sb3JzID0gT2JqZWN0LmtleXModmFyaWFudCk7XG4gIGlmICghY29sb3JzLmxlbmd0aCkgcmV0dXJuICcnO1xuICB2YXIgdmFyaWFibGVzQ3NzID0gJyc7XG4gIHZhciBjc3MgPSAnJztcbiAgdmFyIGFDb2xvciA9IGNzc1ZhciA/IGdlbkNvbG9yVmFyaWFibGUoJ2FuY2hvcicpIDogYW5jaG9yO1xuICBjc3MgKz0gXCIudi1hcHBsaWNhdGlvbiBhIHsgY29sb3I6IFwiICsgYUNvbG9yICsgXCI7IH1cIjtcbiAgY3NzVmFyICYmICh2YXJpYWJsZXNDc3MgKz0gXCIgIFwiICsgZ2VuQ29sb3JWYXJpYWJsZU5hbWUoJ2FuY2hvcicpICsgXCI6IFwiICsgYW5jaG9yICsgXCI7XFxuXCIpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIG5hbWUgPSBjb2xvcnNbaV07XG4gICAgdmFyIHZhbHVlID0gdGhlbWVbbmFtZV07XG4gICAgY3NzICs9IGdlbkJhc2VDb2xvcihuYW1lLCBjc3NWYXIgPyBnZW5Db2xvclZhcmlhYmxlKG5hbWUpIDogdmFsdWUuYmFzZSk7XG4gICAgY3NzVmFyICYmICh2YXJpYWJsZXNDc3MgKz0gXCIgIFwiICsgZ2VuQ29sb3JWYXJpYWJsZU5hbWUobmFtZSkgKyBcIjogXCIgKyB2YWx1ZS5iYXNlICsgXCI7XFxuXCIpO1xuICAgIHZhciB2YXJpYW50cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcblxuICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IHZhcmlhbnRzLmxlbmd0aDsgKytpXzEpIHtcbiAgICAgIHZhciB2YXJpYW50XzEgPSB2YXJpYW50c1tpXzFdO1xuICAgICAgdmFyIHZhcmlhbnRWYWx1ZSA9IHZhbHVlW3ZhcmlhbnRfMV07XG4gICAgICBpZiAodmFyaWFudF8xID09PSAnYmFzZScpIGNvbnRpbnVlO1xuICAgICAgY3NzICs9IGdlblZhcmlhbnRDb2xvcihuYW1lLCB2YXJpYW50XzEsIGNzc1ZhciA/IGdlbkNvbG9yVmFyaWFibGUobmFtZSwgdmFyaWFudF8xKSA6IHZhcmlhbnRWYWx1ZSk7XG4gICAgICBjc3NWYXIgJiYgKHZhcmlhYmxlc0NzcyArPSBcIiAgXCIgKyBnZW5Db2xvclZhcmlhYmxlTmFtZShuYW1lLCB2YXJpYW50XzEpICsgXCI6IFwiICsgdmFyaWFudFZhbHVlICsgXCI7XFxuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjc3NWYXIpIHtcbiAgICB2YXJpYWJsZXNDc3MgPSBcIjpyb290IHtcXG5cIiArIHZhcmlhYmxlc0NzcyArIFwifVxcblxcblwiO1xuICB9XG5cbiAgcmV0dXJuIHZhcmlhYmxlc0NzcyArIGNzcztcbn1cbmZ1bmN0aW9uIGdlblZhcmlhdGlvbnMobmFtZSwgdmFsdWUpIHtcbiAgdmFyIHZhbHVlcyA9IHtcbiAgICBiYXNlOiBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaW50VG9IZXhcIl0pKHZhbHVlKVxuICB9O1xuXG4gIGZvciAodmFyIGkgPSA1OyBpID4gMDsgLS1pKSB7XG4gICAgdmFsdWVzW1wibGlnaHRlblwiICsgaV0gPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaW50VG9IZXhcIl0pKGxpZ2h0ZW4odmFsdWUsIGkpKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IDQ7ICsraSkge1xuICAgIHZhbHVlc1tcImRhcmtlblwiICsgaV0gPSBPYmplY3QoX3V0aWxfY29sb3JVdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaW50VG9IZXhcIl0pKGRhcmtlbih2YWx1ZSwgaSkpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIGxpZ2h0ZW4odmFsdWUsIGFtb3VudCkge1xuICB2YXIgbGFiID0gX3V0aWxfY29sb3JfdHJhbnNmb3JtQ0lFTEFCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJmcm9tWFlaXCJdKF91dGlsX2NvbG9yX3RyYW5zZm9ybVNSR0JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInRvWFlaXCJdKHZhbHVlKSk7XG4gIGxhYlswXSA9IGxhYlswXSArIGFtb3VudCAqIDEwO1xuICByZXR1cm4gX3V0aWxfY29sb3JfdHJhbnNmb3JtU1JHQl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZnJvbVhZWlwiXShfdXRpbF9jb2xvcl90cmFuc2Zvcm1DSUVMQUJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInRvWFlaXCJdKGxhYikpO1xufVxuZnVuY3Rpb24gZGFya2VuKHZhbHVlLCBhbW91bnQpIHtcbiAgdmFyIGxhYiA9IF91dGlsX2NvbG9yX3RyYW5zZm9ybUNJRUxBQl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZnJvbVhZWlwiXShfdXRpbF9jb2xvcl90cmFuc2Zvcm1TUkdCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJ0b1hZWlwiXSh2YWx1ZSkpO1xuICBsYWJbMF0gPSBsYWJbMF0gLSBhbW91bnQgKiAxMDtcbiAgcmV0dXJuIF91dGlsX2NvbG9yX3RyYW5zZm9ybVNSR0JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImZyb21YWVpcIl0oX3V0aWxfY29sb3JfdHJhbnNmb3JtQ0lFTEFCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJ0b1hZWlwiXShsYWIpKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3R5bGVzL2NvbXBvbmVudHMvX3NlbGVjdGlvbi1jb250cm9scy5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdHlsZXMvY29tcG9uZW50cy9fc2VsZWN0aW9uLWNvbnRyb2xzLnNhc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdHlsZXMvbWFpbi5zYXNzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3R5bGVzL21haW4uc2FzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlsL1RoZW1lUHJvdmlkZXIudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvVGhlbWVQcm92aWRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vbWl4aW5zL3RoZW1lYWJsZSAqLyBcIi4vc3JjL21peGlucy90aGVtZWFibGUvaW5kZXgudHNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21peGluc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9taXhpbnMgKi8gXCIuL3NyYy91dGlsL21peGlucy50c1wiKTtcblxuXG4vKiBAdnVlL2NvbXBvbmVudCAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfbWl4aW5zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShfbWl4aW5zX3RoZW1lYWJsZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkuZXh0ZW5kKHtcbiAgbmFtZTogJ3RoZW1lLXByb3ZpZGVyJyxcbiAgcHJvcHM6IHtcbiAgICByb290OiBCb29sZWFuXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaXNEYXJrOiBmdW5jdGlvbiBpc0RhcmsoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290ID8gdGhpcy5yb290SXNEYXJrIDogX21peGluc190aGVtZWFibGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0ub3B0aW9ucy5jb21wdXRlZC5pc0RhcmsuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLiRzbG90cy5kZWZhdWx0ICYmIHRoaXMuJHNsb3RzLmRlZmF1bHQuZmluZChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuICFub2RlLmlzQ29tbWVudCAmJiBub2RlLnRleHQgIT09ICcgJztcbiAgICB9KTtcbiAgfVxufSkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlsL2NvbG9yL3RyYW5zZm9ybUNJRUxBQi50c1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlsL2NvbG9yL3RyYW5zZm9ybUNJRUxBQi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBmcm9tWFlaLCB0b1hZWiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmcm9tWFlaXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJvbVhZWjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidG9YWVpcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0b1hZWjsgfSk7XG52YXIgZGVsdGEgPSAwLjIwNjg5NjU1MTcyNDEzNzkzOyAvLyA2w7cyOVxuXG52YXIgY2llbGFiRm9yd2FyZFRyYW5zZm9ybSA9IGZ1bmN0aW9uIGNpZWxhYkZvcndhcmRUcmFuc2Zvcm0odCkge1xuICByZXR1cm4gdCA+IE1hdGgucG93KGRlbHRhLCAzKSA/IE1hdGguY2JydCh0KSA6IHQgLyAoMyAqIE1hdGgucG93KGRlbHRhLCAyKSkgKyA0IC8gMjk7XG59O1xuXG52YXIgY2llbGFiUmV2ZXJzZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGNpZWxhYlJldmVyc2VUcmFuc2Zvcm0odCkge1xuICByZXR1cm4gdCA+IGRlbHRhID8gTWF0aC5wb3codCwgMykgOiAzICogTWF0aC5wb3coZGVsdGEsIDIpICogKHQgLSA0IC8gMjkpO1xufTtcblxuZnVuY3Rpb24gZnJvbVhZWih4eXopIHtcbiAgdmFyIHRyYW5zZm9ybSA9IGNpZWxhYkZvcndhcmRUcmFuc2Zvcm07XG4gIHZhciB0cmFuc2Zvcm1lZFkgPSB0cmFuc2Zvcm0oeHl6WzFdKTtcbiAgcmV0dXJuIFsxMTYgKiB0cmFuc2Zvcm1lZFkgLSAxNiwgNTAwICogKHRyYW5zZm9ybSh4eXpbMF0gLyAwLjk1MDQ3KSAtIHRyYW5zZm9ybWVkWSksIDIwMCAqICh0cmFuc2Zvcm1lZFkgLSB0cmFuc2Zvcm0oeHl6WzJdIC8gMS4wODg4MykpXTtcbn1cbmZ1bmN0aW9uIHRvWFlaKGxhYikge1xuICB2YXIgdHJhbnNmb3JtID0gY2llbGFiUmV2ZXJzZVRyYW5zZm9ybTtcbiAgdmFyIExuID0gKGxhYlswXSArIDE2KSAvIDExNjtcbiAgcmV0dXJuIFt0cmFuc2Zvcm0oTG4gKyBsYWJbMV0gLyA1MDApICogMC45NTA0NywgdHJhbnNmb3JtKExuKSwgdHJhbnNmb3JtKExuIC0gbGFiWzJdIC8gMjAwKSAqIDEuMDg4ODNdO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlsL2NvbG9yL3RyYW5zZm9ybVNSR0IudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvY29sb3IvdHJhbnNmb3JtU1JHQi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZnJvbVhZWiwgdG9YWVogKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZnJvbVhZWlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZyb21YWVo7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRvWFlaXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdG9YWVo7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWwvaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbiAvLyBGb3IgY29udmVydGluZyBYWVogdG8gc1JHQlxuXG52YXIgc3JnYkZvcndhcmRNYXRyaXggPSBbWzMuMjQwNiwgLTEuNTM3MiwgLTAuNDk4Nl0sIFstMC45Njg5LCAxLjg3NTgsIDAuMDQxNV0sIFswLjA1NTcsIC0wLjIwNDAsIDEuMDU3MF1dOyAvLyBGb3J3YXJkIGdhbW1hIGFkanVzdFxuXG52YXIgc3JnYkZvcndhcmRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzcmdiRm9yd2FyZFRyYW5zZm9ybShDKSB7XG4gIHJldHVybiBDIDw9IDAuMDAzMTMwOCA/IEMgKiAxMi45MiA6IDEuMDU1ICogTWF0aC5wb3coQywgMSAvIDIuNCkgLSAwLjA1NTtcbn07IC8vIEZvciBjb252ZXJ0aW5nIHNSR0IgdG8gWFlaXG5cblxudmFyIHNyZ2JSZXZlcnNlTWF0cml4ID0gW1swLjQxMjQsIDAuMzU3NiwgMC4xODA1XSwgWzAuMjEyNiwgMC43MTUyLCAwLjA3MjJdLCBbMC4wMTkzLCAwLjExOTIsIDAuOTUwNV1dOyAvLyBSZXZlcnNlIGdhbW1hIGFkanVzdFxuXG52YXIgc3JnYlJldmVyc2VUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzcmdiUmV2ZXJzZVRyYW5zZm9ybShDKSB7XG4gIHJldHVybiBDIDw9IDAuMDQwNDUgPyBDIC8gMTIuOTIgOiBNYXRoLnBvdygoQyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xufTtcblxuZnVuY3Rpb24gZnJvbVhZWih4eXopIHtcbiAgdmFyIHJnYiA9IEFycmF5KDMpO1xuICB2YXIgdHJhbnNmb3JtID0gc3JnYkZvcndhcmRUcmFuc2Zvcm07XG4gIHZhciBtYXRyaXggPSBzcmdiRm9yd2FyZE1hdHJpeDsgLy8gTWF0cml4IHRyYW5zZm9ybSwgdGhlbiBnYW1tYSBhZGp1c3RtZW50XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICByZ2JbaV0gPSBNYXRoLnJvdW5kKE9iamVjdChfdXRpbF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjbGFtcFwiXSkodHJhbnNmb3JtKG1hdHJpeFtpXVswXSAqIHh5elswXSArIG1hdHJpeFtpXVsxXSAqIHh5elsxXSArIG1hdHJpeFtpXVsyXSAqIHh5elsyXSkpICogMjU1KTtcbiAgfSAvLyBSZXNjYWxlIGJhY2sgdG8gWzAsIDI1NV1cblxuXG4gIHJldHVybiAocmdiWzBdIDw8IDE2KSArIChyZ2JbMV0gPDwgOCkgKyAocmdiWzJdIDw8IDApO1xufVxuZnVuY3Rpb24gdG9YWVoocmdiKSB7XG4gIHZhciB4eXogPSBbMCwgMCwgMF07XG4gIHZhciB0cmFuc2Zvcm0gPSBzcmdiUmV2ZXJzZVRyYW5zZm9ybTtcbiAgdmFyIG1hdHJpeCA9IHNyZ2JSZXZlcnNlTWF0cml4OyAvLyBSZXNjYWxlIGZyb20gWzAsIDI1NV0gdG8gWzAsIDFdIHRoZW4gYWRqdXN0IHNSR0IgZ2FtbWEgdG8gbGluZWFyIFJHQlxuXG4gIHZhciByID0gdHJhbnNmb3JtKChyZ2IgPj4gMTYgJiAweGZmKSAvIDI1NSk7XG4gIHZhciBnID0gdHJhbnNmb3JtKChyZ2IgPj4gOCAmIDB4ZmYpIC8gMjU1KTtcbiAgdmFyIGIgPSB0cmFuc2Zvcm0oKHJnYiA+PiAwICYgMHhmZikgLyAyNTUpOyAvLyBNYXRyaXggY29sb3Igc3BhY2UgdHJhbnNmb3JtXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICB4eXpbaV0gPSBtYXRyaXhbaV1bMF0gKiByICsgbWF0cml4W2ldWzFdICogZyArIG1hdHJpeFtpXVsyXSAqIGI7XG4gIH1cblxuICByZXR1cm4geHl6O1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlsL2NvbG9yVXRpbHMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvY29sb3JVdGlscy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY29sb3JUb0ludCwgaW50VG9IZXgsIGNvbG9yVG9IZXgsIEhTVkF0b1JHQkEsIFJHQkF0b0hTVkEsIEhTVkF0b0hTTEEsIEhTTEF0b0hTVkEsIFJHQkF0b0NTUywgUkdCdG9DU1MsIFJHQkF0b0hleCwgSGV4VG9SR0JBLCBIZXhUb0hTVkEsIEhTVkF0b0hleCwgcGFyc2VIZXgsIFJHQnRvSW50LCBjb250cmFzdFJhdGlvICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbG9yVG9JbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjb2xvclRvSW50OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnRUb0hleFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGludFRvSGV4OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb2xvclRvSGV4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29sb3JUb0hleDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSFNWQXRvUkdCQVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhTVkF0b1JHQkE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJHQkF0b0hTVkFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSR0JBdG9IU1ZBOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJIU1ZBdG9IU0xBXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSFNWQXRvSFNMQTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSFNMQXRvSFNWQVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhTTEF0b0hTVkE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJHQkF0b0NTU1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFJHQkF0b0NTUzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUkdCdG9DU1NcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSR0J0b0NTUzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUkdCQXRvSGV4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUkdCQXRvSGV4OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJIZXhUb1JHQkFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBIZXhUb1JHQkE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkhleFRvSFNWQVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhleFRvSFNWQTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSFNWQXRvSGV4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSFNWQXRvSGV4OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYXJzZUhleFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBhcnNlSGV4OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSR0J0b0ludFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFJHQnRvSW50OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb250cmFzdFJhdGlvXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udHJhc3RSYXRpbzsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29uc29sZSAqLyBcIi4vc3JjL3V0aWwvY29uc29sZS50c1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzICovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb2xvcl90cmFuc2Zvcm1TUkdCX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbG9yL3RyYW5zZm9ybVNSR0IgKi8gXCIuL3NyYy91dGlsL2NvbG9yL3RyYW5zZm9ybVNSR0IudHNcIik7XG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIGNvbG9yVG9JbnQoY29sb3IpIHtcbiAgdmFyIHJnYjtcblxuICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgIHJnYiA9IGNvbG9yO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgYyA9IGNvbG9yWzBdID09PSAnIycgPyBjb2xvci5zdWJzdHJpbmcoMSkgOiBjb2xvcjtcblxuICAgIGlmIChjLmxlbmd0aCA9PT0gMykge1xuICAgICAgYyA9IGMuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICByZXR1cm4gY2hhciArIGNoYXI7XG4gICAgICB9KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICBpZiAoYy5sZW5ndGggIT09IDYpIHtcbiAgICAgIE9iamVjdChfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29uc29sZVdhcm5cIl0pKFwiJ1wiICsgY29sb3IgKyBcIicgaXMgbm90IGEgdmFsaWQgcmdiIGNvbG9yXCIpO1xuICAgIH1cblxuICAgIHJnYiA9IHBhcnNlSW50KGMsIDE2KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29sb3JzIGNhbiBvbmx5IGJlIG51bWJlcnMgb3Igc3RyaW5ncywgcmVjaWV2ZWQgXCIgKyAoY29sb3IgPT0gbnVsbCA/IGNvbG9yIDogY29sb3IuY29uc3RydWN0b3IubmFtZSkgKyBcIiBpbnN0ZWFkXCIpO1xuICB9XG5cbiAgaWYgKHJnYiA8IDApIHtcbiAgICBPYmplY3QoX2NvbnNvbGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbnNvbGVXYXJuXCJdKShcIkNvbG9ycyBjYW5ub3QgYmUgbmVnYXRpdmU6ICdcIiArIGNvbG9yICsgXCInXCIpO1xuICAgIHJnYiA9IDA7XG4gIH0gZWxzZSBpZiAocmdiID4gMHhmZmZmZmYgfHwgaXNOYU4ocmdiKSkge1xuICAgIE9iamVjdChfY29uc29sZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29uc29sZVdhcm5cIl0pKFwiJ1wiICsgY29sb3IgKyBcIicgaXMgbm90IGEgdmFsaWQgcmdiIGNvbG9yXCIpO1xuICAgIHJnYiA9IDB4ZmZmZmZmO1xuICB9XG5cbiAgcmV0dXJuIHJnYjtcbn1cbmZ1bmN0aW9uIGludFRvSGV4KGNvbG9yKSB7XG4gIHZhciBoZXhDb2xvciA9IGNvbG9yLnRvU3RyaW5nKDE2KTtcbiAgaWYgKGhleENvbG9yLmxlbmd0aCA8IDYpIGhleENvbG9yID0gJzAnLnJlcGVhdCg2IC0gaGV4Q29sb3IubGVuZ3RoKSArIGhleENvbG9yO1xuICByZXR1cm4gJyMnICsgaGV4Q29sb3I7XG59XG5mdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yKSB7XG4gIHJldHVybiBpbnRUb0hleChjb2xvclRvSW50KGNvbG9yKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIEhTVkEgdG8gUkdCQS4gQmFzZWQgb24gZm9ybXVsYSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXG4gKlxuICogQHBhcmFtIGNvbG9yIEhTVkEgY29sb3IgYXMgYW4gYXJyYXkgWzAtMzYwLCAwLTEsIDAtMSwgMC0xXVxuICovXG5cbmZ1bmN0aW9uIEhTVkF0b1JHQkEoaHN2YSkge1xuICB2YXIgaCA9IGhzdmEuaCxcbiAgICAgIHMgPSBoc3ZhLnMsXG4gICAgICB2ID0gaHN2YS52LFxuICAgICAgYSA9IGhzdmEuYTtcblxuICB2YXIgZiA9IGZ1bmN0aW9uIGYobikge1xuICAgIHZhciBrID0gKG4gKyBoIC8gNjApICUgNjtcbiAgICByZXR1cm4gdiAtIHYgKiBzICogTWF0aC5tYXgoTWF0aC5taW4oaywgNCAtIGssIDEpLCAwKTtcbiAgfTtcblxuICB2YXIgcmdiID0gW2YoNSksIGYoMyksIGYoMSldLm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHYgKiAyNTUpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICByOiByZ2JbMF0sXG4gICAgZzogcmdiWzFdLFxuICAgIGI6IHJnYlsyXSxcbiAgICBhOiBhXG4gIH07XG59XG4vKipcbiAqIENvbnZlcnRzIFJHQkEgdG8gSFNWQS4gQmFzZWQgb24gZm9ybXVsYSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXG4gKlxuICogQHBhcmFtIGNvbG9yIFJHQkEgY29sb3IgYXMgYW4gYXJyYXkgWzAtMjU1LCAwLTI1NSwgMC0yNTUsIDAtMV1cbiAqL1xuXG5mdW5jdGlvbiBSR0JBdG9IU1ZBKHJnYmEpIHtcbiAgaWYgKCFyZ2JhKSByZXR1cm4ge1xuICAgIGg6IDAsXG4gICAgczogMSxcbiAgICB2OiAxLFxuICAgIGE6IDFcbiAgfTtcbiAgdmFyIHIgPSByZ2JhLnIgLyAyNTU7XG4gIHZhciBnID0gcmdiYS5nIC8gMjU1O1xuICB2YXIgYiA9IHJnYmEuYiAvIDI1NTtcbiAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gIHZhciBoID0gMDtcblxuICBpZiAobWF4ICE9PSBtaW4pIHtcbiAgICBpZiAobWF4ID09PSByKSB7XG4gICAgICBoID0gNjAgKiAoMCArIChnIC0gYikgLyAobWF4IC0gbWluKSk7XG4gICAgfSBlbHNlIGlmIChtYXggPT09IGcpIHtcbiAgICAgIGggPSA2MCAqICgyICsgKGIgLSByKSAvIChtYXggLSBtaW4pKTtcbiAgICB9IGVsc2UgaWYgKG1heCA9PT0gYikge1xuICAgICAgaCA9IDYwICogKDQgKyAociAtIGcpIC8gKG1heCAtIG1pbikpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChoIDwgMCkgaCA9IGggKyAzNjA7XG4gIHZhciBzID0gbWF4ID09PSAwID8gMCA6IChtYXggLSBtaW4pIC8gbWF4O1xuICB2YXIgaHN2ID0gW2gsIHMsIG1heF07XG4gIHJldHVybiB7XG4gICAgaDogaHN2WzBdLFxuICAgIHM6IGhzdlsxXSxcbiAgICB2OiBoc3ZbMl0sXG4gICAgYTogcmdiYS5hXG4gIH07XG59XG5mdW5jdGlvbiBIU1ZBdG9IU0xBKGhzdmEpIHtcbiAgdmFyIGggPSBoc3ZhLmgsXG4gICAgICBzID0gaHN2YS5zLFxuICAgICAgdiA9IGhzdmEudixcbiAgICAgIGEgPSBoc3ZhLmE7XG4gIHZhciBsID0gdiAtIHYgKiBzIC8gMjtcbiAgdmFyIHNwcmltZSA9IGwgPT09IDEgfHwgbCA9PT0gMCA/IDAgOiAodiAtIGwpIC8gTWF0aC5taW4obCwgMSAtIGwpO1xuICByZXR1cm4ge1xuICAgIGg6IGgsXG4gICAgczogc3ByaW1lLFxuICAgIGw6IGwsXG4gICAgYTogYVxuICB9O1xufVxuZnVuY3Rpb24gSFNMQXRvSFNWQShoc2wpIHtcbiAgdmFyIGggPSBoc2wuaCxcbiAgICAgIHMgPSBoc2wucyxcbiAgICAgIGwgPSBoc2wubCxcbiAgICAgIGEgPSBoc2wuYTtcbiAgdmFyIHYgPSBsICsgcyAqIE1hdGgubWluKGwsIDEgLSBsKTtcbiAgdmFyIHNwcmltZSA9IHYgPT09IDAgPyAwIDogMiAtIDIgKiBsIC8gdjtcbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IHNwcmltZSxcbiAgICB2OiB2LFxuICAgIGE6IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIFJHQkF0b0NTUyhyZ2JhKSB7XG4gIHJldHVybiBcInJnYmEoXCIgKyByZ2JhLnIgKyBcIiwgXCIgKyByZ2JhLmcgKyBcIiwgXCIgKyByZ2JhLmIgKyBcIiwgXCIgKyByZ2JhLmEgKyBcIilcIjtcbn1cbmZ1bmN0aW9uIFJHQnRvQ1NTKHJnYmEpIHtcbiAgcmV0dXJuIFJHQkF0b0NTUyhfX2Fzc2lnbih7fSwgcmdiYSwge1xuICAgIGE6IDFcbiAgfSkpO1xufVxuZnVuY3Rpb24gUkdCQXRvSGV4KHJnYmEpIHtcbiAgdmFyIHRvSGV4ID0gZnVuY3Rpb24gdG9IZXgodikge1xuICAgIHZhciBoID0gTWF0aC5yb3VuZCh2KS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuICgnMDAnLnN1YnN0cigwLCAyIC0gaC5sZW5ndGgpICsgaCkudG9VcHBlckNhc2UoKTtcbiAgfTtcblxuICByZXR1cm4gXCIjXCIgKyBbdG9IZXgocmdiYS5yKSwgdG9IZXgocmdiYS5nKSwgdG9IZXgocmdiYS5iKSwgdG9IZXgoTWF0aC5yb3VuZChyZ2JhLmEgKiAyNTUpKV0uam9pbignJyk7XG59XG5mdW5jdGlvbiBIZXhUb1JHQkEoaGV4KSB7XG4gIHZhciByZ2JhID0gT2JqZWN0KF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjaHVua1wiXSkoaGV4LnNsaWNlKDEpLCAyKS5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoYywgMTYpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICByOiByZ2JhWzBdLFxuICAgIGc6IHJnYmFbMV0sXG4gICAgYjogcmdiYVsyXSxcbiAgICBhOiBNYXRoLnJvdW5kKHJnYmFbM10gLyAyNTUgKiAxMDApIC8gMTAwXG4gIH07XG59XG5mdW5jdGlvbiBIZXhUb0hTVkEoaGV4KSB7XG4gIHZhciByZ2IgPSBIZXhUb1JHQkEoaGV4KTtcbiAgcmV0dXJuIFJHQkF0b0hTVkEocmdiKTtcbn1cbmZ1bmN0aW9uIEhTVkF0b0hleChoc3ZhKSB7XG4gIHJldHVybiBSR0JBdG9IZXgoSFNWQXRvUkdCQShoc3ZhKSk7XG59XG5mdW5jdGlvbiBwYXJzZUhleChoZXgpIHtcbiAgaWYgKGhleC5zdGFydHNXaXRoKCcjJykpIHtcbiAgICBoZXggPSBoZXguc2xpY2UoMSk7XG4gIH1cblxuICBoZXggPSBoZXgucmVwbGFjZSgvKFteMC05YS1mXSkvZ2ksICdGJyk7XG5cbiAgaWYgKGhleC5sZW5ndGggPT09IDMpIHtcbiAgICBoZXggPSBoZXguc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHggKyB4O1xuICAgIH0pLmpvaW4oJycpO1xuICB9XG5cbiAgaWYgKGhleC5sZW5ndGggPT09IDYpIHtcbiAgICBoZXggPSBPYmplY3QoX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhZEVuZFwiXSkoaGV4LCA4LCAnRicpO1xuICB9IGVsc2Uge1xuICAgIGhleCA9IE9iamVjdChfaGVscGVyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicGFkRW5kXCJdKShPYmplY3QoX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInBhZEVuZFwiXSkoaGV4LCA2KSwgOCwgJ0YnKTtcbiAgfVxuXG4gIHJldHVybiAoXCIjXCIgKyBoZXgpLnRvVXBwZXJDYXNlKCkuc3Vic3RyKDAsIDkpO1xufVxuZnVuY3Rpb24gUkdCdG9JbnQocmdiYSkge1xuICByZXR1cm4gKHJnYmEuciA8PCAxNikgKyAocmdiYS5nIDw8IDgpICsgcmdiYS5iO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb250cmFzdCByYXRpbyAoMS0yMSkgYmV0d2VlbiB0d28gY29sb3JzLlxuICpcbiAqIEBwYXJhbSBjMSBGaXJzdCBjb2xvclxuICogQHBhcmFtIGMyIFNlY29uZCBjb2xvclxuICovXG5cbmZ1bmN0aW9uIGNvbnRyYXN0UmF0aW8oYzEsIGMyKSB7XG4gIHZhciBfYSA9IF9fcmVhZChPYmplY3QoX2NvbG9yX3RyYW5zZm9ybVNSR0JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInRvWFlaXCJdKShSR0J0b0ludChjMSkpLCAyKSxcbiAgICAgIHkxID0gX2FbMV07XG5cbiAgdmFyIF9iID0gX19yZWFkKE9iamVjdChfY29sb3JfdHJhbnNmb3JtU1JHQl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1widG9YWVpcIl0pKFJHQnRvSW50KGMyKSksIDIpLFxuICAgICAgeTIgPSBfYlsxXTtcblxuICByZXR1cm4gKE1hdGgubWF4KHkxLCB5MikgKyAwLjA1KSAvIChNYXRoLm1pbih5MSwgeTIpICsgMC4wNSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWwvY29sb3JzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvY29sb3JzLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG52YXIgcmVkID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjZjQ0MzM2JyxcbiAgbGlnaHRlbjU6ICcjZmZlYmVlJyxcbiAgbGlnaHRlbjQ6ICcjZmZjZGQyJyxcbiAgbGlnaHRlbjM6ICcjZWY5YTlhJyxcbiAgbGlnaHRlbjI6ICcjZTU3MzczJyxcbiAgbGlnaHRlbjE6ICcjZWY1MzUwJyxcbiAgZGFya2VuMTogJyNlNTM5MzUnLFxuICBkYXJrZW4yOiAnI2QzMmYyZicsXG4gIGRhcmtlbjM6ICcjYzYyODI4JyxcbiAgZGFya2VuNDogJyNiNzFjMWMnLFxuICBhY2NlbnQxOiAnI2ZmOGE4MCcsXG4gIGFjY2VudDI6ICcjZmY1MjUyJyxcbiAgYWNjZW50MzogJyNmZjE3NDQnLFxuICBhY2NlbnQ0OiAnI2Q1MDAwMCdcbn0pO1xudmFyIHBpbmsgPSBPYmplY3QuZnJlZXplKHtcbiAgYmFzZTogJyNlOTFlNjMnLFxuICBsaWdodGVuNTogJyNmY2U0ZWMnLFxuICBsaWdodGVuNDogJyNmOGJiZDAnLFxuICBsaWdodGVuMzogJyNmNDhmYjEnLFxuICBsaWdodGVuMjogJyNmMDYyOTInLFxuICBsaWdodGVuMTogJyNlYzQwN2EnLFxuICBkYXJrZW4xOiAnI2Q4MWI2MCcsXG4gIGRhcmtlbjI6ICcjYzIxODViJyxcbiAgZGFya2VuMzogJyNhZDE0NTcnLFxuICBkYXJrZW40OiAnIzg4MGU0ZicsXG4gIGFjY2VudDE6ICcjZmY4MGFiJyxcbiAgYWNjZW50MjogJyNmZjQwODEnLFxuICBhY2NlbnQzOiAnI2Y1MDA1NycsXG4gIGFjY2VudDQ6ICcjYzUxMTYyJ1xufSk7XG52YXIgcHVycGxlID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjOWMyN2IwJyxcbiAgbGlnaHRlbjU6ICcjZjNlNWY1JyxcbiAgbGlnaHRlbjQ6ICcjZTFiZWU3JyxcbiAgbGlnaHRlbjM6ICcjY2U5M2Q4JyxcbiAgbGlnaHRlbjI6ICcjYmE2OGM4JyxcbiAgbGlnaHRlbjE6ICcjYWI0N2JjJyxcbiAgZGFya2VuMTogJyM4ZTI0YWEnLFxuICBkYXJrZW4yOiAnIzdiMWZhMicsXG4gIGRhcmtlbjM6ICcjNmExYjlhJyxcbiAgZGFya2VuNDogJyM0YTE0OGMnLFxuICBhY2NlbnQxOiAnI2VhODBmYycsXG4gIGFjY2VudDI6ICcjZTA0MGZiJyxcbiAgYWNjZW50MzogJyNkNTAwZjknLFxuICBhY2NlbnQ0OiAnI2FhMDBmZidcbn0pO1xudmFyIGRlZXBQdXJwbGUgPSBPYmplY3QuZnJlZXplKHtcbiAgYmFzZTogJyM2NzNhYjcnLFxuICBsaWdodGVuNTogJyNlZGU3ZjYnLFxuICBsaWdodGVuNDogJyNkMWM0ZTknLFxuICBsaWdodGVuMzogJyNiMzlkZGInLFxuICBsaWdodGVuMjogJyM5NTc1Y2QnLFxuICBsaWdodGVuMTogJyM3ZTU3YzInLFxuICBkYXJrZW4xOiAnIzVlMzViMScsXG4gIGRhcmtlbjI6ICcjNTEyZGE4JyxcbiAgZGFya2VuMzogJyM0NTI3YTAnLFxuICBkYXJrZW40OiAnIzMxMWI5MicsXG4gIGFjY2VudDE6ICcjYjM4OGZmJyxcbiAgYWNjZW50MjogJyM3YzRkZmYnLFxuICBhY2NlbnQzOiAnIzY1MWZmZicsXG4gIGFjY2VudDQ6ICcjNjIwMGVhJ1xufSk7XG52YXIgaW5kaWdvID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjM2Y1MWI1JyxcbiAgbGlnaHRlbjU6ICcjZThlYWY2JyxcbiAgbGlnaHRlbjQ6ICcjYzVjYWU5JyxcbiAgbGlnaHRlbjM6ICcjOWZhOGRhJyxcbiAgbGlnaHRlbjI6ICcjNzk4NmNiJyxcbiAgbGlnaHRlbjE6ICcjNWM2YmMwJyxcbiAgZGFya2VuMTogJyMzOTQ5YWInLFxuICBkYXJrZW4yOiAnIzMwM2Y5ZicsXG4gIGRhcmtlbjM6ICcjMjgzNTkzJyxcbiAgZGFya2VuNDogJyMxYTIzN2UnLFxuICBhY2NlbnQxOiAnIzhjOWVmZicsXG4gIGFjY2VudDI6ICcjNTM2ZGZlJyxcbiAgYWNjZW50MzogJyMzZDVhZmUnLFxuICBhY2NlbnQ0OiAnIzMwNGZmZSdcbn0pO1xudmFyIGJsdWUgPSBPYmplY3QuZnJlZXplKHtcbiAgYmFzZTogJyMyMTk2ZjMnLFxuICBsaWdodGVuNTogJyNlM2YyZmQnLFxuICBsaWdodGVuNDogJyNiYmRlZmInLFxuICBsaWdodGVuMzogJyM5MGNhZjknLFxuICBsaWdodGVuMjogJyM2NGI1ZjYnLFxuICBsaWdodGVuMTogJyM0MmE1ZjUnLFxuICBkYXJrZW4xOiAnIzFlODhlNScsXG4gIGRhcmtlbjI6ICcjMTk3NmQyJyxcbiAgZGFya2VuMzogJyMxNTY1YzAnLFxuICBkYXJrZW40OiAnIzBkNDdhMScsXG4gIGFjY2VudDE6ICcjODJiMWZmJyxcbiAgYWNjZW50MjogJyM0NDhhZmYnLFxuICBhY2NlbnQzOiAnIzI5NzlmZicsXG4gIGFjY2VudDQ6ICcjMjk2MmZmJ1xufSk7XG52YXIgbGlnaHRCbHVlID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjMDNhOWY0JyxcbiAgbGlnaHRlbjU6ICcjZTFmNWZlJyxcbiAgbGlnaHRlbjQ6ICcjYjNlNWZjJyxcbiAgbGlnaHRlbjM6ICcjODFkNGZhJyxcbiAgbGlnaHRlbjI6ICcjNGZjM2Y3JyxcbiAgbGlnaHRlbjE6ICcjMjliNmY2JyxcbiAgZGFya2VuMTogJyMwMzliZTUnLFxuICBkYXJrZW4yOiAnIzAyODhkMScsXG4gIGRhcmtlbjM6ICcjMDI3N2JkJyxcbiAgZGFya2VuNDogJyMwMTU3OWInLFxuICBhY2NlbnQxOiAnIzgwZDhmZicsXG4gIGFjY2VudDI6ICcjNDBjNGZmJyxcbiAgYWNjZW50MzogJyMwMGIwZmYnLFxuICBhY2NlbnQ0OiAnIzAwOTFlYSdcbn0pO1xudmFyIGN5YW4gPSBPYmplY3QuZnJlZXplKHtcbiAgYmFzZTogJyMwMGJjZDQnLFxuICBsaWdodGVuNTogJyNlMGY3ZmEnLFxuICBsaWdodGVuNDogJyNiMmViZjInLFxuICBsaWdodGVuMzogJyM4MGRlZWEnLFxuICBsaWdodGVuMjogJyM0ZGQwZTEnLFxuICBsaWdodGVuMTogJyMyNmM2ZGEnLFxuICBkYXJrZW4xOiAnIzAwYWNjMScsXG4gIGRhcmtlbjI6ICcjMDA5N2E3JyxcbiAgZGFya2VuMzogJyMwMDgzOGYnLFxuICBkYXJrZW40OiAnIzAwNjA2NCcsXG4gIGFjY2VudDE6ICcjODRmZmZmJyxcbiAgYWNjZW50MjogJyMxOGZmZmYnLFxuICBhY2NlbnQzOiAnIzAwZTVmZicsXG4gIGFjY2VudDQ6ICcjMDBiOGQ0J1xufSk7XG52YXIgdGVhbCA9IE9iamVjdC5mcmVlemUoe1xuICBiYXNlOiAnIzAwOTY4OCcsXG4gIGxpZ2h0ZW41OiAnI2UwZjJmMScsXG4gIGxpZ2h0ZW40OiAnI2IyZGZkYicsXG4gIGxpZ2h0ZW4zOiAnIzgwY2JjNCcsXG4gIGxpZ2h0ZW4yOiAnIzRkYjZhYycsXG4gIGxpZ2h0ZW4xOiAnIzI2YTY5YScsXG4gIGRhcmtlbjE6ICcjMDA4OTdiJyxcbiAgZGFya2VuMjogJyMwMDc5NmInLFxuICBkYXJrZW4zOiAnIzAwNjk1YycsXG4gIGRhcmtlbjQ6ICcjMDA0ZDQwJyxcbiAgYWNjZW50MTogJyNhN2ZmZWInLFxuICBhY2NlbnQyOiAnIzY0ZmZkYScsXG4gIGFjY2VudDM6ICcjMWRlOWI2JyxcbiAgYWNjZW50NDogJyMwMGJmYTUnXG59KTtcbnZhciBncmVlbiA9IE9iamVjdC5mcmVlemUoe1xuICBiYXNlOiAnIzRjYWY1MCcsXG4gIGxpZ2h0ZW41OiAnI2U4ZjVlOScsXG4gIGxpZ2h0ZW40OiAnI2M4ZTZjOScsXG4gIGxpZ2h0ZW4zOiAnI2E1ZDZhNycsXG4gIGxpZ2h0ZW4yOiAnIzgxYzc4NCcsXG4gIGxpZ2h0ZW4xOiAnIzY2YmI2YScsXG4gIGRhcmtlbjE6ICcjNDNhMDQ3JyxcbiAgZGFya2VuMjogJyMzODhlM2MnLFxuICBkYXJrZW4zOiAnIzJlN2QzMicsXG4gIGRhcmtlbjQ6ICcjMWI1ZTIwJyxcbiAgYWNjZW50MTogJyNiOWY2Y2EnLFxuICBhY2NlbnQyOiAnIzY5ZjBhZScsXG4gIGFjY2VudDM6ICcjMDBlNjc2JyxcbiAgYWNjZW50NDogJyMwMGM4NTMnXG59KTtcbnZhciBsaWdodEdyZWVuID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjOGJjMzRhJyxcbiAgbGlnaHRlbjU6ICcjZjFmOGU5JyxcbiAgbGlnaHRlbjQ6ICcjZGNlZGM4JyxcbiAgbGlnaHRlbjM6ICcjYzVlMWE1JyxcbiAgbGlnaHRlbjI6ICcjYWVkNTgxJyxcbiAgbGlnaHRlbjE6ICcjOWNjYzY1JyxcbiAgZGFya2VuMTogJyM3Y2IzNDInLFxuICBkYXJrZW4yOiAnIzY4OWYzOCcsXG4gIGRhcmtlbjM6ICcjNTU4YjJmJyxcbiAgZGFya2VuNDogJyMzMzY5MWUnLFxuICBhY2NlbnQxOiAnI2NjZmY5MCcsXG4gIGFjY2VudDI6ICcjYjJmZjU5JyxcbiAgYWNjZW50MzogJyM3NmZmMDMnLFxuICBhY2NlbnQ0OiAnIzY0ZGQxNydcbn0pO1xudmFyIGxpbWUgPSBPYmplY3QuZnJlZXplKHtcbiAgYmFzZTogJyNjZGRjMzknLFxuICBsaWdodGVuNTogJyNmOWZiZTcnLFxuICBsaWdodGVuNDogJyNmMGY0YzMnLFxuICBsaWdodGVuMzogJyNlNmVlOWMnLFxuICBsaWdodGVuMjogJyNkY2U3NzUnLFxuICBsaWdodGVuMTogJyNkNGUxNTcnLFxuICBkYXJrZW4xOiAnI2MwY2EzMycsXG4gIGRhcmtlbjI6ICcjYWZiNDJiJyxcbiAgZGFya2VuMzogJyM5ZTlkMjQnLFxuICBkYXJrZW40OiAnIzgyNzcxNycsXG4gIGFjY2VudDE6ICcjZjRmZjgxJyxcbiAgYWNjZW50MjogJyNlZWZmNDEnLFxuICBhY2NlbnQzOiAnI2M2ZmYwMCcsXG4gIGFjY2VudDQ6ICcjYWVlYTAwJ1xufSk7XG52YXIgeWVsbG93ID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjZmZlYjNiJyxcbiAgbGlnaHRlbjU6ICcjZmZmZGU3JyxcbiAgbGlnaHRlbjQ6ICcjZmZmOWM0JyxcbiAgbGlnaHRlbjM6ICcjZmZmNTlkJyxcbiAgbGlnaHRlbjI6ICcjZmZmMTc2JyxcbiAgbGlnaHRlbjE6ICcjZmZlZTU4JyxcbiAgZGFya2VuMTogJyNmZGQ4MzUnLFxuICBkYXJrZW4yOiAnI2ZiYzAyZCcsXG4gIGRhcmtlbjM6ICcjZjlhODI1JyxcbiAgZGFya2VuNDogJyNmNTdmMTcnLFxuICBhY2NlbnQxOiAnI2ZmZmY4ZCcsXG4gIGFjY2VudDI6ICcjZmZmZjAwJyxcbiAgYWNjZW50MzogJyNmZmVhMDAnLFxuICBhY2NlbnQ0OiAnI2ZmZDYwMCdcbn0pO1xudmFyIGFtYmVyID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjZmZjMTA3JyxcbiAgbGlnaHRlbjU6ICcjZmZmOGUxJyxcbiAgbGlnaHRlbjQ6ICcjZmZlY2IzJyxcbiAgbGlnaHRlbjM6ICcjZmZlMDgyJyxcbiAgbGlnaHRlbjI6ICcjZmZkNTRmJyxcbiAgbGlnaHRlbjE6ICcjZmZjYTI4JyxcbiAgZGFya2VuMTogJyNmZmIzMDAnLFxuICBkYXJrZW4yOiAnI2ZmYTAwMCcsXG4gIGRhcmtlbjM6ICcjZmY4ZjAwJyxcbiAgZGFya2VuNDogJyNmZjZmMDAnLFxuICBhY2NlbnQxOiAnI2ZmZTU3ZicsXG4gIGFjY2VudDI6ICcjZmZkNzQwJyxcbiAgYWNjZW50MzogJyNmZmM0MDAnLFxuICBhY2NlbnQ0OiAnI2ZmYWIwMCdcbn0pO1xudmFyIG9yYW5nZSA9IE9iamVjdC5mcmVlemUoe1xuICBiYXNlOiAnI2ZmOTgwMCcsXG4gIGxpZ2h0ZW41OiAnI2ZmZjNlMCcsXG4gIGxpZ2h0ZW40OiAnI2ZmZTBiMicsXG4gIGxpZ2h0ZW4zOiAnI2ZmY2M4MCcsXG4gIGxpZ2h0ZW4yOiAnI2ZmYjc0ZCcsXG4gIGxpZ2h0ZW4xOiAnI2ZmYTcyNicsXG4gIGRhcmtlbjE6ICcjZmI4YzAwJyxcbiAgZGFya2VuMjogJyNmNTdjMDAnLFxuICBkYXJrZW4zOiAnI2VmNmMwMCcsXG4gIGRhcmtlbjQ6ICcjZTY1MTAwJyxcbiAgYWNjZW50MTogJyNmZmQxODAnLFxuICBhY2NlbnQyOiAnI2ZmYWI0MCcsXG4gIGFjY2VudDM6ICcjZmY5MTAwJyxcbiAgYWNjZW50NDogJyNmZjZkMDAnXG59KTtcbnZhciBkZWVwT3JhbmdlID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjZmY1NzIyJyxcbiAgbGlnaHRlbjU6ICcjZmJlOWU3JyxcbiAgbGlnaHRlbjQ6ICcjZmZjY2JjJyxcbiAgbGlnaHRlbjM6ICcjZmZhYjkxJyxcbiAgbGlnaHRlbjI6ICcjZmY4YTY1JyxcbiAgbGlnaHRlbjE6ICcjZmY3MDQzJyxcbiAgZGFya2VuMTogJyNmNDUxMWUnLFxuICBkYXJrZW4yOiAnI2U2NGExOScsXG4gIGRhcmtlbjM6ICcjZDg0MzE1JyxcbiAgZGFya2VuNDogJyNiZjM2MGMnLFxuICBhY2NlbnQxOiAnI2ZmOWU4MCcsXG4gIGFjY2VudDI6ICcjZmY2ZTQwJyxcbiAgYWNjZW50MzogJyNmZjNkMDAnLFxuICBhY2NlbnQ0OiAnI2RkMmMwMCdcbn0pO1xudmFyIGJyb3duID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJhc2U6ICcjNzk1NTQ4JyxcbiAgbGlnaHRlbjU6ICcjZWZlYmU5JyxcbiAgbGlnaHRlbjQ6ICcjZDdjY2M4JyxcbiAgbGlnaHRlbjM6ICcjYmNhYWE0JyxcbiAgbGlnaHRlbjI6ICcjYTE4ODdmJyxcbiAgbGlnaHRlbjE6ICcjOGQ2ZTYzJyxcbiAgZGFya2VuMTogJyM2ZDRjNDEnLFxuICBkYXJrZW4yOiAnIzVkNDAzNycsXG4gIGRhcmtlbjM6ICcjNGUzNDJlJyxcbiAgZGFya2VuNDogJyMzZTI3MjMnXG59KTtcbnZhciBibHVlR3JleSA9IE9iamVjdC5mcmVlemUoe1xuICBiYXNlOiAnIzYwN2Q4YicsXG4gIGxpZ2h0ZW41OiAnI2VjZWZmMScsXG4gIGxpZ2h0ZW40OiAnI2NmZDhkYycsXG4gIGxpZ2h0ZW4zOiAnI2IwYmVjNScsXG4gIGxpZ2h0ZW4yOiAnIzkwYTRhZScsXG4gIGxpZ2h0ZW4xOiAnIzc4OTA5YycsXG4gIGRhcmtlbjE6ICcjNTQ2ZTdhJyxcbiAgZGFya2VuMjogJyM0NTVhNjQnLFxuICBkYXJrZW4zOiAnIzM3NDc0ZicsXG4gIGRhcmtlbjQ6ICcjMjYzMjM4J1xufSk7XG52YXIgZ3JleSA9IE9iamVjdC5mcmVlemUoe1xuICBiYXNlOiAnIzllOWU5ZScsXG4gIGxpZ2h0ZW41OiAnI2ZhZmFmYScsXG4gIGxpZ2h0ZW40OiAnI2Y1ZjVmNScsXG4gIGxpZ2h0ZW4zOiAnI2VlZWVlZScsXG4gIGxpZ2h0ZW4yOiAnI2UwZTBlMCcsXG4gIGxpZ2h0ZW4xOiAnI2JkYmRiZCcsXG4gIGRhcmtlbjE6ICcjNzU3NTc1JyxcbiAgZGFya2VuMjogJyM2MTYxNjEnLFxuICBkYXJrZW4zOiAnIzQyNDI0MicsXG4gIGRhcmtlbjQ6ICcjMjEyMTIxJ1xufSk7XG52YXIgc2hhZGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGJsYWNrOiAnIzAwMDAwMCcsXG4gIHdoaXRlOiAnI2ZmZmZmZicsXG4gIHRyYW5zcGFyZW50OiAndHJhbnNwYXJlbnQnXG59KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0LmZyZWV6ZSh7XG4gIHJlZDogcmVkLFxuICBwaW5rOiBwaW5rLFxuICBwdXJwbGU6IHB1cnBsZSxcbiAgZGVlcFB1cnBsZTogZGVlcFB1cnBsZSxcbiAgaW5kaWdvOiBpbmRpZ28sXG4gIGJsdWU6IGJsdWUsXG4gIGxpZ2h0Qmx1ZTogbGlnaHRCbHVlLFxuICBjeWFuOiBjeWFuLFxuICB0ZWFsOiB0ZWFsLFxuICBncmVlbjogZ3JlZW4sXG4gIGxpZ2h0R3JlZW46IGxpZ2h0R3JlZW4sXG4gIGxpbWU6IGxpbWUsXG4gIHllbGxvdzogeWVsbG93LFxuICBhbWJlcjogYW1iZXIsXG4gIG9yYW5nZTogb3JhbmdlLFxuICBkZWVwT3JhbmdlOiBkZWVwT3JhbmdlLFxuICBicm93bjogYnJvd24sXG4gIGJsdWVHcmV5OiBibHVlR3JleSxcbiAgZ3JleTogZ3JleSxcbiAgc2hhZGVzOiBzaGFkZXNcbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbC9jb25zb2xlLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlsL2NvbnNvbGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGNvbnNvbGVJbmZvLCBjb25zb2xlV2FybiwgY29uc29sZUVycm9yLCBkZXByZWNhdGUsIGJyZWFraW5nLCByZW1vdmVkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnNvbGVJbmZvXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uc29sZUluZm87IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnNvbGVXYXJuXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uc29sZVdhcm47IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnNvbGVFcnJvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnNvbGVFcnJvcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVwcmVjYXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVwcmVjYXRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJicmVha2luZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGJyZWFraW5nOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW1vdmVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVtb3ZlZDsgfSk7XG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlKG1lc3NhZ2UsIHZtLCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCkge1xuICAgIHZtID0ge1xuICAgICAgX2lzVnVlOiB0cnVlLFxuICAgICAgJHBhcmVudDogcGFyZW50LFxuICAgICAgJG9wdGlvbnM6IHZtXG4gICAgfTtcbiAgfVxuXG4gIGlmICh2bSkge1xuICAgIC8vIE9ubHkgc2hvdyBlYWNoIG1lc3NhZ2Ugb25jZSBwZXIgaW5zdGFuY2VcbiAgICB2bS4kX2FscmVhZHlXYXJuZWQgPSB2bS4kX2FscmVhZHlXYXJuZWQgfHwgW107XG4gICAgaWYgKHZtLiRfYWxyZWFkeVdhcm5lZC5pbmNsdWRlcyhtZXNzYWdlKSkgcmV0dXJuO1xuICAgIHZtLiRfYWxyZWFkeVdhcm5lZC5wdXNoKG1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIFwiW1Z1ZXRpZnldIFwiICsgbWVzc2FnZSArICh2bSA/IGdlbmVyYXRlQ29tcG9uZW50VHJhY2Uodm0pIDogJycpO1xufVxuXG5mdW5jdGlvbiBjb25zb2xlSW5mbyhtZXNzYWdlLCB2bSwgcGFyZW50KSB7XG4gIHZhciBuZXdNZXNzYWdlID0gY3JlYXRlTWVzc2FnZShtZXNzYWdlLCB2bSwgcGFyZW50KTtcbiAgbmV3TWVzc2FnZSAhPSBudWxsICYmIGNvbnNvbGUuaW5mbyhuZXdNZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGNvbnNvbGVXYXJuKG1lc3NhZ2UsIHZtLCBwYXJlbnQpIHtcbiAgdmFyIG5ld01lc3NhZ2UgPSBjcmVhdGVNZXNzYWdlKG1lc3NhZ2UsIHZtLCBwYXJlbnQpO1xuICBuZXdNZXNzYWdlICE9IG51bGwgJiYgY29uc29sZS53YXJuKG5ld01lc3NhZ2UpO1xufVxuZnVuY3Rpb24gY29uc29sZUVycm9yKG1lc3NhZ2UsIHZtLCBwYXJlbnQpIHtcbiAgdmFyIG5ld01lc3NhZ2UgPSBjcmVhdGVNZXNzYWdlKG1lc3NhZ2UsIHZtLCBwYXJlbnQpO1xuICBuZXdNZXNzYWdlICE9IG51bGwgJiYgY29uc29sZS5lcnJvcihuZXdNZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGRlcHJlY2F0ZShvcmlnaW5hbCwgcmVwbGFjZW1lbnQsIHZtLCBwYXJlbnQpIHtcbiAgY29uc29sZVdhcm4oXCJbVVBHUkFERV0gJ1wiICsgb3JpZ2luYWwgKyBcIicgaXMgZGVwcmVjYXRlZCwgdXNlICdcIiArIHJlcGxhY2VtZW50ICsgXCInIGluc3RlYWQuXCIsIHZtLCBwYXJlbnQpO1xufVxuZnVuY3Rpb24gYnJlYWtpbmcob3JpZ2luYWwsIHJlcGxhY2VtZW50LCB2bSwgcGFyZW50KSB7XG4gIGNvbnNvbGVFcnJvcihcIltCUkVBS0lOR10gJ1wiICsgb3JpZ2luYWwgKyBcIicgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlICdcIiArIHJlcGxhY2VtZW50ICsgXCInIGluc3RlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIHVwZ3JhZGUgZ3VpZGUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZXRpZnlqcy92dWV0aWZ5L3JlbGVhc2VzL3RhZy92Mi4wLjAjdXNlci1jb250ZW50LXVwZ3JhZGUtZ3VpZGVcIiwgdm0sIHBhcmVudCk7XG59XG5mdW5jdGlvbiByZW1vdmVkKG9yaWdpbmFsLCB2bSwgcGFyZW50KSB7XG4gIGNvbnNvbGVXYXJuKFwiW1JFTU9WRURdICdcIiArIG9yaWdpbmFsICsgXCInIGhhcyBiZWVuIHJlbW92ZWQuIFlvdSBjYW4gc2FmZWx5IG9taXQgaXQuXCIsIHZtLCBwYXJlbnQpO1xufVxuLyoqXG4gKiBTaGFtZWxlc3NseSBzdG9sZW4gZnJvbSB2dWVqcy92dWUvYmxvYi9kZXYvc3JjL2NvcmUvdXRpbC9kZWJ1Zy5qc1xuICovXG5cbnZhciBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSkoXFx3KS9nO1xuXG52YXIgY2xhc3NpZnkgPSBmdW5jdGlvbiBjbGFzc2lmeShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGMudG9VcHBlckNhc2UoKTtcbiAgfSkucmVwbGFjZSgvWy1fXS9nLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKHZtLCBpbmNsdWRlRmlsZSkge1xuICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XG4gICAgcmV0dXJuICc8Um9vdD4nO1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygdm0gPT09ICdmdW5jdGlvbicgJiYgdm0uY2lkICE9IG51bGwgPyB2bS5vcHRpb25zIDogdm0uX2lzVnVlID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9ucyA6IHZtIHx8IHt9O1xuICB2YXIgbmFtZSA9IG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLl9jb21wb25lbnRUYWc7XG4gIHZhciBmaWxlID0gb3B0aW9ucy5fX2ZpbGU7XG5cbiAgaWYgKCFuYW1lICYmIGZpbGUpIHtcbiAgICB2YXIgbWF0Y2ggPSBmaWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLnZ1ZSQvKTtcbiAgICBuYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gIH1cblxuICByZXR1cm4gKG5hbWUgPyBcIjxcIiArIGNsYXNzaWZ5KG5hbWUpICsgXCI+XCIgOiBcIjxBbm9ueW1vdXM+XCIpICsgKGZpbGUgJiYgaW5jbHVkZUZpbGUgIT09IGZhbHNlID8gXCIgYXQgXCIgKyBmaWxlIDogJycpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSB7XG4gIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkge1xuICAgIHZhciB0cmVlID0gW107XG4gICAgdmFyIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDA7XG5cbiAgICB3aGlsZSAodm0pIHtcbiAgICAgIGlmICh0cmVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGxhc3QgPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGxhc3QuY29uc3RydWN0b3IgPT09IHZtLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlKys7XG4gICAgICAgICAgdm0gPSB2bS4kcGFyZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA+IDApIHtcbiAgICAgICAgICB0cmVlW3RyZWUubGVuZ3RoIC0gMV0gPSBbbGFzdCwgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlXTtcbiAgICAgICAgICBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyZWUucHVzaCh2bSk7XG4gICAgICB2bSA9IHZtLiRwYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuICdcXG5cXG5mb3VuZCBpblxcblxcbicgKyB0cmVlLm1hcChmdW5jdGlvbiAodm0sIGkpIHtcbiAgICAgIHJldHVybiBcIlwiICsgKGkgPT09IDAgPyAnLS0tPiAnIDogJyAnLnJlcGVhdCg1ICsgaSAqIDIpKSArIChBcnJheS5pc0FycmF5KHZtKSA/IGZvcm1hdENvbXBvbmVudE5hbWUodm1bMF0pICsgXCIuLi4gKFwiICsgdm1bMV0gKyBcIiByZWN1cnNpdmUgY2FsbHMpXCIgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKSk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwiXFxuXFxuKGZvdW5kIGluIFwiICsgZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkgKyBcIilcIjtcbiAgfVxufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlsL2RlZHVwZU1vZGVsTGlzdGVuZXJzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbC9kZWR1cGVNb2RlbExpc3RlbmVycy50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRlZHVwZU1vZGVsTGlzdGVuZXJzOyB9KTtcbi8qKlxuICogUmVtb3ZlcyBkdXBsaWNhdGUgYEBpbnB1dGAgbGlzdGVuZXJzIHdoZW5cbiAqIHVzaW5nIHYtbW9kZWwgd2l0aCBmdW5jdGlvbmFsIGNvbXBvbmVudHNcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWV0aWZ5anMvdnVldGlmeS9pc3N1ZXMvNDQ2MFxuICovXG5mdW5jdGlvbiBkZWR1cGVNb2RlbExpc3RlbmVycyhkYXRhKSB7XG4gIGlmIChkYXRhLm1vZGVsICYmIGRhdGEub24gJiYgZGF0YS5vbi5pbnB1dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEub24uaW5wdXQpKSB7XG4gICAgICB2YXIgaSA9IGRhdGEub24uaW5wdXQuaW5kZXhPZihkYXRhLm1vZGVsLmNhbGxiYWNrKTtcbiAgICAgIGlmIChpID4gLTEpIGRhdGEub24uaW5wdXQuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgZGF0YS5vbi5pbnB1dDtcbiAgICB9XG4gIH1cbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbC9oZWxwZXJzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlsL2hlbHBlcnMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWwsIGNyZWF0ZVNpbXBsZVRyYW5zaXRpb24sIGNyZWF0ZUphdmFTY3JpcHRUcmFuc2l0aW9uLCBkaXJlY3RpdmVDb25maWcsIGFkZE9uY2VFdmVudExpc3RlbmVyLCBwYXNzaXZlU3VwcG9ydGVkLCBhZGRQYXNzaXZlRXZlbnRMaXN0ZW5lciwgZ2V0TmVzdGVkVmFsdWUsIGRlZXBFcXVhbCwgZ2V0T2JqZWN0VmFsdWVCeVBhdGgsIGdldFByb3BlcnR5RnJvbUl0ZW0sIGNyZWF0ZVJhbmdlLCBnZXRaSW5kZXgsIGVzY2FwZUhUTUwsIGZpbHRlck9iamVjdE9uS2V5cywgY29udmVydFRvVW5pdCwga2ViYWJDYXNlLCBpc09iamVjdCwga2V5Q29kZXMsIHJlbWFwSW50ZXJuYWxJY29uLCBrZXlzLCBjYW1lbGl6ZSwgYXJyYXlEaWZmLCB1cHBlckZpcnN0LCBncm91cEJ5UHJvcGVydHksIHdyYXBJbkFycmF5LCBzb3J0SXRlbXMsIGRlZmF1bHRGaWx0ZXIsIHNlYXJjaEl0ZW1zLCBnZXRTbG90VHlwZSwgZGVib3VuY2UsIGdldFByZWZpeGVkU2NvcGVkU2xvdHMsIGdldFNsb3QsIGNsYW1wLCBwYWRFbmQsIGNodW5rLCBodW1hblJlYWRhYmxlRmlsZVNpemUsIGNhbWVsaXplT2JqZWN0S2V5cyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVTaW1wbGVGdW5jdGlvbmFsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlU2ltcGxlRnVuY3Rpb25hbDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlU2ltcGxlVHJhbnNpdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZVNpbXBsZVRyYW5zaXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZUphdmFTY3JpcHRUcmFuc2l0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlSmF2YVNjcmlwdFRyYW5zaXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRpcmVjdGl2ZUNvbmZpZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRpcmVjdGl2ZUNvbmZpZzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWRkT25jZUV2ZW50TGlzdGVuZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhZGRPbmNlRXZlbnRMaXN0ZW5lcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFzc2l2ZVN1cHBvcnRlZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZFBhc3NpdmVFdmVudExpc3RlbmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWRkUGFzc2l2ZUV2ZW50TGlzdGVuZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldE5lc3RlZFZhbHVlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0TmVzdGVkVmFsdWU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZXBFcXVhbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRlZXBFcXVhbDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0T2JqZWN0VmFsdWVCeVBhdGhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRPYmplY3RWYWx1ZUJ5UGF0aDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0UHJvcGVydHlGcm9tSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFByb3BlcnR5RnJvbUl0ZW07IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZVJhbmdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFpJbmRleFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFpJbmRleDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXNjYXBlSFRNTFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVzY2FwZUhUTUw7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbHRlck9iamVjdE9uS2V5c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZpbHRlck9iamVjdE9uS2V5czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29udmVydFRvVW5pdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnZlcnRUb1VuaXQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImtlYmFiQ2FzZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGtlYmFiQ2FzZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNPYmplY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc09iamVjdDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwia2V5Q29kZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBrZXlDb2RlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVtYXBJbnRlcm5hbEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZW1hcEludGVybmFsSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwia2V5c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGtleXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNhbWVsaXplXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FtZWxpemU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFycmF5RGlmZlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFycmF5RGlmZjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidXBwZXJGaXJzdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHVwcGVyRmlyc3Q7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdyb3VwQnlQcm9wZXJ0eVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdyb3VwQnlQcm9wZXJ0eTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwid3JhcEluQXJyYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB3cmFwSW5BcnJheTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic29ydEl0ZW1zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc29ydEl0ZW1zOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0RmlsdGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVmYXVsdEZpbHRlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2VhcmNoSXRlbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzZWFyY2hJdGVtczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0U2xvdFR5cGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRTbG90VHlwZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVib3VuY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkZWJvdW5jZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0UHJlZml4ZWRTY29wZWRTbG90c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFByZWZpeGVkU2NvcGVkU2xvdHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFNsb3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRTbG90OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbGFtcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNsYW1wOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYWRFbmRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwYWRFbmQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNodW5rXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2h1bms7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImh1bWFuUmVhZGFibGVGaWxlU2l6ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGh1bWFuUmVhZGFibGVGaWxlU2l6ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2FtZWxpemVPYmplY3RLZXlzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FtZWxpemVPYmplY3RLZXlzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZ1ZSAqLyBcInZ1ZVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX21lcmdlRGF0YV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tZXJnZURhdGEgKi8gXCIuL3NyYy91dGlsL21lcmdlRGF0YS50c1wiKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3JlYWQgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNpbXBsZUZ1bmN0aW9uYWwoYywgZWwsIG5hbWUpIHtcbiAgaWYgKGVsID09PSB2b2lkIDApIHtcbiAgICBlbCA9ICdkaXYnO1xuICB9XG5cbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG5hbWU6IG5hbWUgfHwgYy5yZXBsYWNlKC9fXy9nLCAnLScpLFxuICAgIGZ1bmN0aW9uYWw6IHRydWUsXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX2EpIHtcbiAgICAgIHZhciBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuICAgICAgZGF0YS5zdGF0aWNDbGFzcyA9IChjICsgXCIgXCIgKyAoZGF0YS5zdGF0aWNDbGFzcyB8fCAnJykpLnRyaW0oKTtcbiAgICAgIHJldHVybiBoKGVsLCBkYXRhLCBjaGlsZHJlbik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VUcmFuc2l0aW9ucyhkZXN0KSB7XG4gIHZhciBfYTtcblxuICBpZiAoZGVzdCA9PT0gdm9pZCAwKSB7XG4gICAgZGVzdCA9IFtdO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25zID0gW107XG5cbiAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICB0cmFuc2l0aW9uc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgfVxuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXJyYXktY29uc3RydWN0b3IgKi9cblxuXG4gIHJldHVybiAoX2EgPSBBcnJheSgpKS5jb25jYXQuYXBwbHkoX2EsIF9fc3ByZWFkKFtkZXN0XSwgdHJhbnNpdGlvbnMpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2ltcGxlVHJhbnNpdGlvbihuYW1lLCBvcmlnaW4sIG1vZGUpIHtcbiAgaWYgKG9yaWdpbiA9PT0gdm9pZCAwKSB7XG4gICAgb3JpZ2luID0gJ3RvcCBjZW50ZXIgMCc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZnVuY3Rpb25hbDogdHJ1ZSxcbiAgICBwcm9wczoge1xuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoaWRlT25MZWF2ZToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGxlYXZlQWJzb2x1dGU6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtb2RlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogbW9kZVxuICAgICAgfSxcbiAgICAgIG9yaWdpbjoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6IG9yaWdpblxuICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgY29udGV4dCkge1xuICAgICAgdmFyIHRhZyA9IFwidHJhbnNpdGlvblwiICsgKGNvbnRleHQucHJvcHMuZ3JvdXAgPyAnLWdyb3VwJyA6ICcnKTtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgbW9kZTogY29udGV4dC5wcm9wcy5tb2RlXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgYmVmb3JlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBjb250ZXh0LnByb3BzLm9yaWdpbjtcbiAgICAgICAgICAgIGVsLnN0eWxlLndlYmtpdFRyYW5zZm9ybU9yaWdpbiA9IGNvbnRleHQucHJvcHMub3JpZ2luO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGNvbnRleHQucHJvcHMubGVhdmVBYnNvbHV0ZSkge1xuICAgICAgICBkYXRhLm9uLmxlYXZlID0gbWVyZ2VUcmFuc2l0aW9ucyhkYXRhLm9uLmxlYXZlLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnRleHQucHJvcHMuaGlkZU9uTGVhdmUpIHtcbiAgICAgICAgZGF0YS5vbi5sZWF2ZSA9IG1lcmdlVHJhbnNpdGlvbnMoZGF0YS5vbi5sZWF2ZSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaCh0YWcsIE9iamVjdChfbWVyZ2VEYXRhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShjb250ZXh0LmRhdGEsIGRhdGEpLCBjb250ZXh0LmNoaWxkcmVuKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVKYXZhU2NyaXB0VHJhbnNpdGlvbihuYW1lLCBmdW5jdGlvbnMsIG1vZGUpIHtcbiAgaWYgKG1vZGUgPT09IHZvaWQgMCkge1xuICAgIG1vZGUgPSAnaW4tb3V0JztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBmdW5jdGlvbmFsOiB0cnVlLFxuICAgIHByb3BzOiB7XG4gICAgICBtb2RlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogbW9kZVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGgoJ3RyYW5zaXRpb24nLCBPYmplY3QoX21lcmdlRGF0YV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoY29udGV4dC5kYXRhLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgbmFtZTogbmFtZVxuICAgICAgICB9LFxuICAgICAgICBvbjogZnVuY3Rpb25zXG4gICAgICB9KSwgY29udGV4dC5jaGlsZHJlbik7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZGlyZWN0aXZlQ29uZmlnKGJpbmRpbmcsIGRlZmF1bHRzKSB7XG4gIGlmIChkZWZhdWx0cyA9PT0gdm9pZCAwKSB7XG4gICAgZGVmYXVsdHMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBfX2Fzc2lnbih7fSwgZGVmYXVsdHMsIGJpbmRpbmcubW9kaWZpZXJzLCB7XG4gICAgdmFsdWU6IGJpbmRpbmcuYXJnXG4gIH0sIGJpbmRpbmcudmFsdWUgfHwge30pO1xufVxuZnVuY3Rpb24gYWRkT25jZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50TmFtZSwgY2IsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBvbmNlID0gZnVuY3Rpb24gb25jZShldmVudCkge1xuICAgIGNiKGV2ZW50KTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25jZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9uY2UsIG9wdGlvbnMpO1xufVxudmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHRlc3RMaXN0ZW5lck9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0TGlzdGVuZXInLCB0ZXN0TGlzdGVuZXJPcHRzLCB0ZXN0TGlzdGVuZXJPcHRzKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdExpc3RlbmVyJywgdGVzdExpc3RlbmVyT3B0cywgdGVzdExpc3RlbmVyT3B0cyk7XG4gIH1cbn0gY2F0Y2ggKGUpIHtcbiAgY29uc29sZS53YXJuKGUpO1xufVxuXG5cbmZ1bmN0aW9uIGFkZFBhc3NpdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgY2IsIG9wdGlvbnMpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2IsIHBhc3NpdmVTdXBwb3J0ZWQgPyBvcHRpb25zIDogZmFsc2UpO1xufVxuZnVuY3Rpb24gZ2V0TmVzdGVkVmFsdWUob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICB2YXIgbGFzdCA9IHBhdGgubGVuZ3RoIC0gMTtcbiAgaWYgKGxhc3QgPCAwKSByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgPyBmYWxsYmFjayA6IG9iajtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3Q7IGkrKykge1xuICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cblxuICAgIG9iaiA9IG9ialtwYXRoW2ldXTtcbiAgfVxuXG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZhbGxiYWNrO1xuICByZXR1cm4gb2JqW3BhdGhbbGFzdF1dID09PSB1bmRlZmluZWQgPyBmYWxsYmFjayA6IG9ialtwYXRoW2xhc3RdXTtcbn1cbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAvLyBJZiB0aGUgdmFsdWVzIGFyZSBEYXRlLCB0aGV5IHdlcmUgY29udmVydCB0byB0aW1lc3RhbXAgd2l0aCBnZXRUaW1lIGFuZCBjb21wYXJlIGl0XG4gICAgaWYgKGEuZ2V0VGltZSgpICE9PSBiLmdldFRpbWUoKSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGEgIT09IE9iamVjdChhKSB8fCBiICE9PSBPYmplY3QoYikpIHtcbiAgICAvLyBJZiB0aGUgdmFsdWVzIGFyZW4ndCBvYmplY3RzLCB0aGV5IHdlcmUgYWxyZWFkeSBjaGVja2VkIGZvciBlcXVhbGl0eVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcm9wcyA9IE9iamVjdC5rZXlzKGEpO1xuXG4gIGlmIChwcm9wcy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkge1xuICAgIC8vIERpZmZlcmVudCBudW1iZXIgb2YgcHJvcHMsIGRvbid0IGJvdGhlciB0byBjaGVja1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBwcm9wcy5ldmVyeShmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBkZWVwRXF1YWwoYVtwXSwgYltwXSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0T2JqZWN0VmFsdWVCeVBhdGgob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICAvLyBjcmVkaXQ6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjQ5MTQ2My9hY2Nlc3NpbmctbmVzdGVkLWphdmFzY3JpcHQtb2JqZWN0cy13aXRoLXN0cmluZy1rZXkjY29tbWVudDU1Mjc4NDEzXzY0OTE2MjFcbiAgaWYgKG9iaiA9PSBudWxsIHx8ICFwYXRoIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbGxiYWNrO1xuICBpZiAob2JqW3BhdGhdICE9PSB1bmRlZmluZWQpIHJldHVybiBvYmpbcGF0aF07XG4gIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcWyhcXHcrKVxcXS9nLCAnLiQxJyk7IC8vIGNvbnZlcnQgaW5kZXhlcyB0byBwcm9wZXJ0aWVzXG5cbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLi8sICcnKTsgLy8gc3RyaXAgYSBsZWFkaW5nIGRvdFxuXG4gIHJldHVybiBnZXROZXN0ZWRWYWx1ZShvYmosIHBhdGguc3BsaXQoJy4nKSwgZmFsbGJhY2spO1xufVxuZnVuY3Rpb24gZ2V0UHJvcGVydHlGcm9tSXRlbShpdGVtLCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgaWYgKHByb3BlcnR5ID09IG51bGwpIHJldHVybiBpdGVtID09PSB1bmRlZmluZWQgPyBmYWxsYmFjayA6IGl0ZW07XG4gIGlmIChpdGVtICE9PSBPYmplY3QoaXRlbSkpIHJldHVybiBmYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gaXRlbSA6IGZhbGxiYWNrO1xuICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJykgcmV0dXJuIGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW0sIHByb3BlcnR5LCBmYWxsYmFjayk7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkgcmV0dXJuIGdldE5lc3RlZFZhbHVlKGl0ZW0sIHByb3BlcnR5LCBmYWxsYmFjayk7XG4gIGlmICh0eXBlb2YgcHJvcGVydHkgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxsYmFjaztcbiAgdmFyIHZhbHVlID0gcHJvcGVydHkoaXRlbSwgZmFsbGJhY2spO1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IGZhbGxiYWNrIDogdmFsdWU7XG59XG5mdW5jdGlvbiBjcmVhdGVSYW5nZShsZW5ndGgpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oe1xuICAgIGxlbmd0aDogbGVuZ3RoXG4gIH0sIGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgcmV0dXJuIGs7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0WkluZGV4KGVsKSB7XG4gIGlmICghZWwgfHwgZWwubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSByZXR1cm4gMDtcbiAgdmFyIGluZGV4ID0gK3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKCd6LWluZGV4Jyk7XG4gIGlmICghaW5kZXgpIHJldHVybiBnZXRaSW5kZXgoZWwucGFyZW50Tm9kZSk7XG4gIHJldHVybiBpbmRleDtcbn1cbnZhciB0YWdzVG9SZXBsYWNlID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7J1xufTtcbmZ1bmN0aW9uIGVzY2FwZUhUTUwoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvWyY8Pl0vZywgZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0YWdzVG9SZXBsYWNlW3RhZ10gfHwgdGFnO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbHRlck9iamVjdE9uS2V5cyhvYmosIGtleXMpIHtcbiAgdmFyIGZpbHRlcmVkID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAodHlwZW9mIG9ialtrZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZmlsdGVyZWRba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJlZDtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1VuaXQoc3RyLCB1bml0KSB7XG4gIGlmICh1bml0ID09PSB2b2lkIDApIHtcbiAgICB1bml0ID0gJ3B4JztcbiAgfVxuXG4gIGlmIChzdHIgPT0gbnVsbCB8fCBzdHIgPT09ICcnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc05hTigrc3RyKSkge1xuICAgIHJldHVybiBTdHJpbmcoc3RyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJcIiArIE51bWJlcihzdHIpICsgdW5pdDtcbiAgfVxufVxuZnVuY3Rpb24ga2ViYWJDYXNlKHN0cikge1xuICByZXR1cm4gKHN0ciB8fCAnJykucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCc7XG59IC8vIEtleWJvYXJkRXZlbnQua2V5Q29kZSBhbGlhc2VzXG5cbnZhciBrZXlDb2RlcyA9IE9iamVjdC5mcmVlemUoe1xuICBlbnRlcjogMTMsXG4gIHRhYjogOSxcbiAgZGVsZXRlOiA0NixcbiAgZXNjOiAyNyxcbiAgc3BhY2U6IDMyLFxuICB1cDogMzgsXG4gIGRvd246IDQwLFxuICBsZWZ0OiAzNyxcbiAgcmlnaHQ6IDM5LFxuICBlbmQ6IDM1LFxuICBob21lOiAzNixcbiAgZGVsOiA0NixcbiAgYmFja3NwYWNlOiA4LFxuICBpbnNlcnQ6IDQ1LFxuICBwYWdldXA6IDMzLFxuICBwYWdlZG93bjogMzRcbn0pOyAvLyBUaGlzIHJlbWFwcyBpbnRlcm5hbCBuYW1lcyBsaWtlICckY2FuY2VsJyBvciAnJHZ1ZXRpZnkuaWNvbnMuY2FuY2VsJ1xuLy8gdG8gdGhlIGN1cnJlbnQgbmFtZSBvciBjb21wb25lbnQgZm9yIHRoYXQgaWNvbi5cblxuZnVuY3Rpb24gcmVtYXBJbnRlcm5hbEljb24odm0sIGljb25OYW1lKSB7XG4gIGlmICghaWNvbk5hbWUuc3RhcnRzV2l0aCgnJCcpKSB7XG4gICAgcmV0dXJuIGljb25OYW1lO1xuICB9IC8vIEdldCB0aGUgdGFyZ2V0IGljb24gbmFtZVxuXG5cbiAgdmFyIGljb25QYXRoID0gXCIkdnVldGlmeS5pY29ucy52YWx1ZXMuXCIgKyBpY29uTmFtZS5zcGxpdCgnJCcpLnBvcCgpLnNwbGl0KCcuJykucG9wKCk7IC8vIE5vdyBsb29rIHVwIGljb24gaW5kaXJlY3Rpb24gbmFtZSxcbiAgLy8gZS5nLiAnJHZ1ZXRpZnkuaWNvbnMudmFsdWVzLmNhbmNlbCdcblxuICByZXR1cm4gZ2V0T2JqZWN0VmFsdWVCeVBhdGgodm0sIGljb25QYXRoLCBpY29uTmFtZSk7XG59XG5mdW5jdGlvbiBrZXlzKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG8pO1xufVxuLyoqXG4gKiBDYW1lbGl6ZSBhIGh5cGhlbi1kZWxpbWl0ZWQgc3RyaW5nLlxuICovXG5cbnZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xudmFyIGNhbWVsaXplID0gZnVuY3Rpb24gY2FtZWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCBmdW5jdGlvbiAoXywgYykge1xuICAgIHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7XG4gIH0pO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgc2V0IGRpZmZlcmVuY2Ugb2YgQiBhbmQgQSwgaS5lLiB0aGUgc2V0IG9mIGVsZW1lbnRzIGluIEIgYnV0IG5vdCBpbiBBXG4gKi9cblxuZnVuY3Rpb24gYXJyYXlEaWZmKGEsIGIpIHtcbiAgdmFyIGRpZmYgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYS5pbmRleE9mKGJbaV0pIDwgMCkgZGlmZi5wdXNoKGJbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGRpZmY7XG59XG4vKipcbiAqIE1ha2VzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmcgdXBwZXJjYXNlXG4gKi9cblxuZnVuY3Rpb24gdXBwZXJGaXJzdChzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIGdyb3VwQnlQcm9wZXJ0eSh4cywga2V5KSB7XG4gIHJldHVybiB4cy5yZWR1Y2UoZnVuY3Rpb24gKHJ2LCB4KSB7XG4gICAgKHJ2W3hba2V5XV0gPSBydlt4W2tleV1dIHx8IFtdKS5wdXNoKHgpO1xuICAgIHJldHVybiBydjtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gd3JhcEluQXJyYXkodikge1xuICByZXR1cm4gdiAhPSBudWxsID8gQXJyYXkuaXNBcnJheSh2KSA/IHYgOiBbdl0gOiBbXTtcbn1cbmZ1bmN0aW9uIHNvcnRJdGVtcyhpdGVtcywgc29ydEJ5LCBzb3J0RGVzYywgbG9jYWxlLCBjdXN0b21Tb3J0ZXJzKSB7XG4gIGlmIChzb3J0QnkgPT09IG51bGwgfHwgIXNvcnRCeS5sZW5ndGgpIHJldHVybiBpdGVtcztcbiAgdmFyIHN0cmluZ0NvbGxhdG9yID0gbmV3IEludGwuQ29sbGF0b3IobG9jYWxlLCB7XG4gICAgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnLFxuICAgIHVzYWdlOiAnc29ydCdcbiAgfSk7XG4gIHJldHVybiBpdGVtcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydEJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc29ydEtleSA9IHNvcnRCeVtpXTtcbiAgICAgIHZhciBzb3J0QSA9IGdldE9iamVjdFZhbHVlQnlQYXRoKGEsIHNvcnRLZXkpO1xuICAgICAgdmFyIHNvcnRCID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoYiwgc29ydEtleSk7XG5cbiAgICAgIGlmIChzb3J0RGVzY1tpXSkge1xuICAgICAgICBfYSA9IF9fcmVhZChbc29ydEIsIHNvcnRBXSwgMiksIHNvcnRBID0gX2FbMF0sIHNvcnRCID0gX2FbMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXN0b21Tb3J0ZXJzICYmIGN1c3RvbVNvcnRlcnNbc29ydEtleV0pIHtcbiAgICAgICAgdmFyIGN1c3RvbVJlc3VsdCA9IGN1c3RvbVNvcnRlcnNbc29ydEtleV0oc29ydEEsIHNvcnRCKTtcbiAgICAgICAgaWYgKCFjdXN0b21SZXN1bHQpIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gY3VzdG9tUmVzdWx0O1xuICAgICAgfSAvLyBDaGVjayBpZiBib3RoIGNhbm5vdCBiZSBldmFsdWF0ZWRcblxuXG4gICAgICBpZiAoc29ydEEgPT09IG51bGwgJiYgc29ydEIgPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIF9iID0gX19yZWFkKFtzb3J0QSwgc29ydEJdLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gKHMgfHwgJycpLnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgIH0pLCAyKSwgc29ydEEgPSBfYlswXSwgc29ydEIgPSBfYlsxXTtcblxuICAgICAgaWYgKHNvcnRBICE9PSBzb3J0Qikge1xuICAgICAgICBpZiAoIWlzTmFOKHNvcnRBKSAmJiAhaXNOYU4oc29ydEIpKSByZXR1cm4gTnVtYmVyKHNvcnRBKSAtIE51bWJlcihzb3J0Qik7XG4gICAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRvci5jb21wYXJlKHNvcnRBLCBzb3J0Qik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH0pO1xufVxuZnVuY3Rpb24gZGVmYXVsdEZpbHRlcih2YWx1ZSwgc2VhcmNoLCBpdGVtKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHNlYXJjaCAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nICYmIHZhbHVlLnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvY2FsZUxvd2VyQ2FzZSgpKSAhPT0gLTE7XG59XG5mdW5jdGlvbiBzZWFyY2hJdGVtcyhpdGVtcywgc2VhcmNoKSB7XG4gIGlmICghc2VhcmNoKSByZXR1cm4gaXRlbXM7XG4gIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChzZWFyY2gudHJpbSgpID09PSAnJykgcmV0dXJuIGl0ZW1zO1xuICByZXR1cm4gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGl0ZW0pLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRGaWx0ZXIoZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwga2V5KSwgc2VhcmNoLCBpdGVtKTtcbiAgICB9KTtcbiAgfSk7XG59XG4vKipcbiAqIFJldHVybnM6XG4gKiAgLSAnbm9ybWFsJyBmb3Igb2xkIHN0eWxlIHNsb3RzIC0gYDx0ZW1wbGF0ZSBzbG90PVwiZGVmYXVsdFwiPmBcbiAqICAtICdzY29wZWQnIGZvciBvbGQgc3R5bGUgc2NvcGVkIHNsb3RzIChgPHRlbXBsYXRlIHNsb3Q9XCJkZWZhdWx0XCIgc2xvdC1zY29wZT1cImRhdGFcIj5gKSBvciBib3VuZCB2LXNsb3QgKGAjZGVmYXVsdD1cImRhdGFcImApXG4gKiAgLSAndi1zbG90JyBmb3IgdW5ib3VuZCB2LXNsb3QgKGAjZGVmYXVsdGApIC0gb25seSBpZiB0aGUgdGhpcmQgcGFyYW0gaXMgdHJ1ZSwgb3RoZXJ3aXNlIGNvdW50cyBhcyBzY29wZWRcbiAqL1xuXG5mdW5jdGlvbiBnZXRTbG90VHlwZSh2bSwgbmFtZSwgc3BsaXQpIHtcbiAgaWYgKHZtLiRzbG90c1tuYW1lXSAmJiB2bS4kc2NvcGVkU2xvdHNbbmFtZV0gJiYgdm0uJHNjb3BlZFNsb3RzW25hbWVdLm5hbWUpIHtcbiAgICByZXR1cm4gc3BsaXQgPyAndi1zbG90JyA6ICdzY29wZWQnO1xuICB9XG5cbiAgaWYgKHZtLiRzbG90c1tuYW1lXSkgcmV0dXJuICdub3JtYWwnO1xuICBpZiAodm0uJHNjb3BlZFNsb3RzW25hbWVdKSByZXR1cm4gJ3Njb3BlZCc7XG59XG5mdW5jdGlvbiBkZWJvdW5jZShmbiwgZGVsYXkpIHtcbiAgdmFyIHRpbWVvdXRJZCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgfSwgZGVsYXkpO1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UHJlZml4ZWRTY29wZWRTbG90cyhwcmVmaXgsIHNjb3BlZFNsb3RzKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzY29wZWRTbG90cykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsuc3RhcnRzV2l0aChwcmVmaXgpO1xuICB9KS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaykge1xuICAgIG9ialtrLnJlcGxhY2UocHJlZml4LCAnJyldID0gc2NvcGVkU2xvdHNba107XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0U2xvdCh2bSwgbmFtZSwgZGF0YSwgb3B0aW9uYWwpIHtcbiAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgIG5hbWUgPSAnZGVmYXVsdCc7XG4gIH1cblxuICBpZiAob3B0aW9uYWwgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbmFsID0gZmFsc2U7XG4gIH1cblxuICBpZiAodm0uJHNjb3BlZFNsb3RzW25hbWVdKSB7XG4gICAgcmV0dXJuIHZtLiRzY29wZWRTbG90c1tuYW1lXShkYXRhKTtcbiAgfSBlbHNlIGlmICh2bS4kc2xvdHNbbmFtZV0gJiYgKCFkYXRhIHx8IG9wdGlvbmFsKSkge1xuICAgIHJldHVybiB2bS4kc2xvdHNbbmFtZV07XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIGlmIChtaW4gPT09IHZvaWQgMCkge1xuICAgIG1pbiA9IDA7XG4gIH1cblxuICBpZiAobWF4ID09PSB2b2lkIDApIHtcbiAgICBtYXggPSAxO1xuICB9XG5cbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gcGFkRW5kKHN0ciwgbGVuZ3RoLCBjaGFyKSB7XG4gIGlmIChjaGFyID09PSB2b2lkIDApIHtcbiAgICBjaGFyID0gJzAnO1xuICB9XG5cbiAgcmV0dXJuIHN0ciArIGNoYXIucmVwZWF0KE1hdGgubWF4KDAsIGxlbmd0aCAtIHN0ci5sZW5ndGgpKTtcbn1cbmZ1bmN0aW9uIGNodW5rKHN0ciwgc2l6ZSkge1xuICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgc2l6ZSA9IDE7XG4gIH1cblxuICB2YXIgY2h1bmtlZCA9IFtdO1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIHdoaWxlIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBjaHVua2VkLnB1c2goc3RyLnN1YnN0cihpbmRleCwgc2l6ZSkpO1xuICAgIGluZGV4ICs9IHNpemU7XG4gIH1cblxuICByZXR1cm4gY2h1bmtlZDtcbn1cbmZ1bmN0aW9uIGh1bWFuUmVhZGFibGVGaWxlU2l6ZShieXRlcywgYmluYXJ5KSB7XG4gIGlmIChiaW5hcnkgPT09IHZvaWQgMCkge1xuICAgIGJpbmFyeSA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIGJhc2UgPSBiaW5hcnkgPyAxMDI0IDogMTAwMDtcblxuICBpZiAoYnl0ZXMgPCBiYXNlKSB7XG4gICAgcmV0dXJuIGJ5dGVzICsgXCIgQlwiO1xuICB9XG5cbiAgdmFyIHByZWZpeCA9IGJpbmFyeSA/IFsnS2knLCAnTWknLCAnR2knXSA6IFsnaycsICdNJywgJ0cnXTtcbiAgdmFyIHVuaXQgPSAtMTtcblxuICB3aGlsZSAoTWF0aC5hYnMoYnl0ZXMpID49IGJhc2UgJiYgdW5pdCA8IHByZWZpeC5sZW5ndGggLSAxKSB7XG4gICAgYnl0ZXMgLz0gYmFzZTtcbiAgICArK3VuaXQ7XG4gIH1cblxuICByZXR1cm4gYnl0ZXMudG9GaXhlZCgxKSArIFwiIFwiICsgcHJlZml4W3VuaXRdICsgXCJCXCI7XG59XG5mdW5jdGlvbiBjYW1lbGl6ZU9iamVjdEtleXMob2JqKSB7XG4gIGlmICghb2JqKSByZXR1cm4ge307XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAobywga2V5KSB7XG4gICAgb1tjYW1lbGl6ZShrZXkpXSA9IG9ialtrZXldO1xuICAgIHJldHVybiBvO1xuICB9LCB7fSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWwvbWVyZ2VEYXRhLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvbWVyZ2VEYXRhLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG1lcmdlRGF0YTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2hlbHBlcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycyAqLyBcIi4vc3JjL3V0aWwvaGVscGVycy50c1wiKTtcbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbnZhciBfX3ZhbHVlcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX192YWx1ZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLFxuICAgICAgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICByZXR1cm4ge1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG8gJiYgb1tpKytdLFxuICAgICAgICBkb25lOiAhb1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgX19yZWFkID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cblxudmFyIHBhdHRlcm4gPSB7XG4gIHN0eWxlTGlzdDogLzsoPyFbXihdKlxcKSkvZyxcbiAgc3R5bGVQcm9wOiAvOiguKikvXG59O1xuXG5mdW5jdGlvbiBwYXJzZVN0eWxlKHN0eWxlKSB7XG4gIHZhciBlXzEsIF9hO1xuXG4gIHZhciBzdHlsZU1hcCA9IHt9O1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhzdHlsZS5zcGxpdChwYXR0ZXJuLnN0eWxlTGlzdCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICB2YXIgcyA9IF9jLnZhbHVlO1xuXG4gICAgICB2YXIgX2QgPSBfX3JlYWQocy5zcGxpdChwYXR0ZXJuLnN0eWxlUHJvcCksIDIpLFxuICAgICAgICAgIGtleSA9IF9kWzBdLFxuICAgICAgICAgIHZhbCA9IF9kWzFdO1xuXG4gICAgICBrZXkgPSBrZXkudHJpbSgpO1xuXG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gTWF5IGJlIHVuZGVmaW5lZCBpZiB0aGUgYGtleTogdmFsdWVgIHBhaXIgaXMgaW5jb21wbGV0ZS5cblxuXG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsID0gdmFsLnRyaW0oKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVNYXBbT2JqZWN0KF9oZWxwZXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjYW1lbGl6ZVwiXSkoa2V5KV0gPSB2YWw7XG4gICAgfVxuICB9IGNhdGNoIChlXzFfMSkge1xuICAgIGVfMSA9IHtcbiAgICAgIGVycm9yOiBlXzFfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHlsZU1hcDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEYXRhKCkge1xuICB2YXIgZV8yLCBfYSwgZV8zLCBfYjtcblxuICB2YXIgbWVyZ2VUYXJnZXQgPSB7fTtcbiAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgcHJvcDtcbiAgdmFyIGV2ZW50OyAvLyBBbGxvdyBmb3IgdmFyaWFkaWMgYXJndW1lbnQgbGVuZ3RoLlxuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB0cnkge1xuICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBkYXRhIHByb3BlcnRpZXMgYW5kIGV4ZWN1dGUgbWVyZ2Ugc3RyYXRlZ2llc1xuICAgICAgLy8gT2JqZWN0LmtleXMgZWxpbWluYXRlcyBuZWVkIGZvciBoYXNPd25Qcm9wZXJ0eSBjYWxsXG4gICAgICBmb3IgKHZhciBfYyA9IChlXzIgPSB2b2lkIDAsIF9fdmFsdWVzKE9iamVjdC5rZXlzKGFyZ3VtZW50c1tpXSkpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICBwcm9wID0gX2QudmFsdWU7XG5cbiAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgLy8gQXJyYXkgbWVyZ2Ugc3RyYXRlZ3kgKGFycmF5IGNvbmNhdGVuYXRpb24pXG4gICAgICAgICAgY2FzZSAnY2xhc3MnOlxuICAgICAgICAgIGNhc2UgJ3N0eWxlJzpcbiAgICAgICAgICBjYXNlICdkaXJlY3RpdmVzJzpcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXJnZVRhcmdldFtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgbWVyZ2VUYXJnZXRbcHJvcF0gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3VtZW50c1tpXS5zdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGFyZ3VtZW50c1tpXS5zdHlsZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IFthcmd1bWVudHNbaV0uc3R5bGVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdHlsZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzID0gc3R5bGVbal07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBzdHlsZVtqXSA9IHBhcnNlU3R5bGUocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYXJndW1lbnRzW2ldLnN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9IC8vIFJlcGFja2FnaW5nIGluIGFuIGFycmF5IGFsbG93cyBWdWUgcnVudGltZVxuICAgICAgICAgICAgLy8gdG8gbWVyZ2UgY2xhc3Mvc3R5bGUgYmluZGluZ3MgcmVnYXJkbGVzcyBvZiB0eXBlLlxuXG5cbiAgICAgICAgICAgIG1lcmdlVGFyZ2V0W3Byb3BdID0gbWVyZ2VUYXJnZXRbcHJvcF0uY29uY2F0KGFyZ3VtZW50c1tpXVtwcm9wXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBTcGFjZSBkZWxpbWl0ZWQgc3RyaW5nIGNvbmNhdGVuYXRpb24gc3RyYXRlZ3lcblxuICAgICAgICAgIGNhc2UgJ3N0YXRpY0NsYXNzJzpcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzW2ldW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWVyZ2VUYXJnZXRbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBtZXJnZVRhcmdldFtwcm9wXSA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWVyZ2VUYXJnZXRbcHJvcF0pIHtcbiAgICAgICAgICAgICAgLy8gTm90IGFuIGVtcHR5IHN0cmluZywgc28gY29uY2F0ZW5hdGVcbiAgICAgICAgICAgICAgbWVyZ2VUYXJnZXRbcHJvcF0gKz0gJyAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZXJnZVRhcmdldFtwcm9wXSArPSBhcmd1bWVudHNbaV1bcHJvcF0udHJpbSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gT2JqZWN0LCB0aGUgcHJvcGVydGllcyBvZiB3aGljaCB0byBtZXJnZSB2aWEgYXJyYXkgbWVyZ2Ugc3RyYXRlZ3kgKGFycmF5IGNvbmNhdGVuYXRpb24pLlxuICAgICAgICAgIC8vIENhbGxiYWNrIG1lcmdlIHN0cmF0ZWd5IG1lcmdlcyBjYWxsYmFja3MgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXksXG4gICAgICAgICAgLy8gc28gdGhhdCB0aGUgbGFzdCBkZWZpbmVkIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBmaXJzdC5cbiAgICAgICAgICAvLyBUaGlzIGlzIGRvbmUgc2luY2UgdG8gbWltaWMgaG93IE9iamVjdC5hc3NpZ24gbWVyZ2luZ1xuICAgICAgICAgIC8vIHVzZXMgdGhlIGxhc3QgZ2l2ZW4gdmFsdWUgdG8gYXNzaWduLlxuXG4gICAgICAgICAgY2FzZSAnb24nOlxuICAgICAgICAgIGNhc2UgJ25hdGl2ZU9uJzpcbiAgICAgICAgICAgIGlmICghbWVyZ2VUYXJnZXRbcHJvcF0pIHtcbiAgICAgICAgICAgICAgbWVyZ2VUYXJnZXRbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IG1lcmdlVGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IChlXzMgPSB2b2lkIDAsIF9fdmFsdWVzKE9iamVjdC5rZXlzKGFyZ3VtZW50c1tpXVtwcm9wXSB8fCB7fSkpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gX2YudmFsdWU7IC8vIENvbmNhdCBmdW5jdGlvbiB0byBhcnJheSBvZiBmdW5jdGlvbnMgaWYgY2FsbGJhY2sgcHJlc2VudC5cblxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgY3VycmVudCBpdGVyYXRpb24gZGF0YSBpbiBiZWdpbm5pbmcgb2YgbWVyZ2VkIGFycmF5LlxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IEFycmF5KCkuY29uY2F0KCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdLCBhcmd1bWVudHNbaV1bcHJvcF1bZXZlbnRdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gU3RyYWlnaHQgYXNzaWduLlxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGFyZ3VtZW50c1tpXVtwcm9wXVtldmVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlXzNfMSkge1xuICAgICAgICAgICAgICBlXzMgPSB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVfM18xXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gT2JqZWN0IG1lcmdlIHN0cmF0ZWd5XG5cbiAgICAgICAgICBjYXNlICdhdHRycyc6XG4gICAgICAgICAgY2FzZSAncHJvcHMnOlxuICAgICAgICAgIGNhc2UgJ2RvbVByb3BzJzpcbiAgICAgICAgICBjYXNlICdzY29wZWRTbG90cyc6XG4gICAgICAgICAgY2FzZSAnc3RhdGljU3R5bGUnOlxuICAgICAgICAgIGNhc2UgJ2hvb2snOlxuICAgICAgICAgIGNhc2UgJ3RyYW5zaXRpb24nOlxuICAgICAgICAgICAgaWYgKCFtZXJnZVRhcmdldFtwcm9wXSkge1xuICAgICAgICAgICAgICBtZXJnZVRhcmdldFtwcm9wXSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZXJnZVRhcmdldFtwcm9wXSA9IF9fYXNzaWduKHt9LCBhcmd1bWVudHNbaV1bcHJvcF0sIG1lcmdlVGFyZ2V0W3Byb3BdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFJlYXNzaWdubWVudCBzdHJhdGVneSAobm8gbWVyZ2UpXG5cbiAgICAgICAgICBjYXNlICdzbG90JzpcbiAgICAgICAgICBjYXNlICdrZXknOlxuICAgICAgICAgIGNhc2UgJ3JlZic6XG4gICAgICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgICBjYXNlICdzaG93JzpcbiAgICAgICAgICBjYXNlICdrZWVwQWxpdmUnOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoIW1lcmdlVGFyZ2V0W3Byb3BdKSB7XG4gICAgICAgICAgICAgIG1lcmdlVGFyZ2V0W3Byb3BdID0gYXJndW1lbnRzW2ldW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgZV8yID0ge1xuICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWVyZ2VUYXJnZXQ7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWwvbWl4aW5zLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWwvbWl4aW5zLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG1peGluczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB2dWUgKi8gXCJ2dWVcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiwgaW1wb3J0L2V4cG9ydCwgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cblxuZnVuY3Rpb24gbWl4aW5zKCkge1xuICB2YXIgYXJncyA9IFtdO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICB9XG5cbiAgcmV0dXJuIHZ1ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5leHRlbmQoe1xuICAgIG1peGluczogYXJnc1xuICB9KTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbC9yZWJ1aWxkRnVuY3Rpb25hbFNsb3RzLnRzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlsL3JlYnVpbGRGdW5jdGlvbmFsU2xvdHMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlYnVpbGRGdW5jdGlvbmFsU2xvdHM7IH0pO1xuZnVuY3Rpb24gcmVidWlsZEZ1bmN0aW9uYWxTbG90cyhzbG90cywgaCkge1xuICB2YXIgY2hpbGRyZW4gPSBbXTtcblxuICBmb3IgKHZhciBzbG90IGluIHNsb3RzKSB7XG4gICAgaWYgKHNsb3RzLmhhc093blByb3BlcnR5KHNsb3QpKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKGgoJ3RlbXBsYXRlJywge1xuICAgICAgICBzbG90OiBzbG90XG4gICAgICB9LCBzbG90c1tzbG90XSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwidnVlXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInZ1ZVwiLFwiY29tbW9uanMyXCI6XCJ2dWVcIixcImFtZFwiOlwidnVlXCIsXCJyb290XCI6XCJWdWVcIn0gKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfdnVlX187XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dnVldGlmeS5qcy5tYXAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4uL2NvcmUvYnVpbGRGdWxsUGF0aCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCc7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKHRpbWVvdXRFcnJvck1lc3NhZ2UsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHZhciB2YWx1ZUZyb21Db25maWcyS2V5cyA9IFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddO1xuICB2YXIgbWVyZ2VEZWVwUHJvcGVydGllc0tleXMgPSBbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddO1xuICB2YXIgZGVmYXVsdFRvQ29uZmlnMktleXMgPSBbXG4gICAgJ2Jhc2VVUkwnLCAndXJsJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJywgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLFxuICAgICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJywgJ3NvY2tldFBhdGgnXG4gIF07XG5cbiAgdXRpbHMuZm9yRWFjaCh2YWx1ZUZyb21Db25maWcyS2V5cywgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gobWVyZ2VEZWVwUHJvcGVydGllc0tleXMsIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goZGVmYXVsdFRvQ29uZmlnMktleXMsIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB2YXIgYXhpb3NLZXlzID0gdmFsdWVGcm9tQ29uZmlnMktleXNcbiAgICAuY29uY2F0KG1lcmdlRGVlcFByb3BlcnRpZXNLZXlzKVxuICAgIC5jb25jYXQoZGVmYXVsdFRvQ29uZmlnMktleXMpO1xuXG4gIHZhciBvdGhlcktleXMgPSBPYmplY3RcbiAgICAua2V5cyhjb25maWcyKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQXhpb3NLZXlzKGtleSkge1xuICAgICAgcmV0dXJuIGF4aW9zS2V5cy5pbmRleE9mKGtleSkgPT09IC0xO1xuICAgIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gob3RoZXJLZXlzLCBmdW5jdGlvbiBvdGhlcktleXNEZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoYXhpb3MuZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgaWYgKGNvbmZpZy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IHRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLm1ldGhvZCA9ICdnZXQnO1xuICB9XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuXG4gIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuXG4gIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgY29kZTogdGhpcy5jb2RlXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvY29tYmluZVVSTHMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCkge1xuICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgVnVldGlmeSBmcm9tICd2dWV0aWZ5J1xuXG5WdWUudXNlKFZ1ZXRpZnkpO1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgVnVldGlmeShcbiAgICB7XG4gICAgICAgIHRoZW1lOiB7XG4gICAgICAgICAgICBkYXJrOiB0cnVlLFxuICAgICAgICB9XG4gICAgfSk7XG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2NvbnZlcnNpb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdmOTdjZTE0JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2NvbnZlcnNpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9jb252ZXJzaW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiN2Y5N2NlMTRcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIvKiBnbG9iYWxzIF9fVlVFX1NTUl9DT05URVhUX18gKi9cblxuLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUgKGV4Y2VwdCBmb3IgbW9kdWxlcykuXG4vLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbFxuLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudCAoXG4gIHNjcmlwdEV4cG9ydHMsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmdW5jdGlvbmFsVGVtcGxhdGUsXG4gIGluamVjdFN0eWxlcyxcbiAgc2NvcGVJZCxcbiAgbW9kdWxlSWRlbnRpZmllciwgLyogc2VydmVyIG9ubHkgKi9cbiAgc2hhZG93TW9kZSAvKiB2dWUtY2xpIG9ubHkgKi9cbikge1xuICAvLyBWdWUuZXh0ZW5kIGNvbnN0cnVjdG9yIGV4cG9ydCBpbnRlcm9wXG4gIHZhciBvcHRpb25zID0gdHlwZW9mIHNjcmlwdEV4cG9ydHMgPT09ICdmdW5jdGlvbidcbiAgICA/IHNjcmlwdEV4cG9ydHMub3B0aW9uc1xuICAgIDogc2NyaXB0RXhwb3J0c1xuXG4gIC8vIHJlbmRlciBmdW5jdGlvbnNcbiAgaWYgKHJlbmRlcikge1xuICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyXG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnNcbiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWVcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWVcbiAgfVxuXG4gIC8vIHNjb3BlZElkXG4gIGlmIChzY29wZUlkKSB7XG4gICAgb3B0aW9ucy5fc2NvcGVJZCA9ICdkYXRhLXYtJyArIHNjb3BlSWRcbiAgfVxuXG4gIHZhciBob29rXG4gIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7IC8vIHNlcnZlciBidWlsZFxuICAgIGhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgLy8gMi4zIGluamVjdGlvblxuICAgICAgY29udGV4dCA9XG4gICAgICAgIGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGxcbiAgICAgICAgKHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQpIHx8IC8vIHN0YXRlZnVsXG4gICAgICAgICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQpIC8vIGZ1bmN0aW9uYWxcbiAgICAgIC8vIDIuMiB3aXRoIHJ1bkluTmV3Q29udGV4dDogdHJ1ZVxuICAgICAgaWYgKCFjb250ZXh0ICYmIHR5cGVvZiBfX1ZVRV9TU1JfQ09OVEVYVF9fICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250ZXh0ID0gX19WVUVfU1NSX0NPTlRFWFRfX1xuICAgICAgfVxuICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXNcbiAgICAgIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICAgICAgaW5qZWN0U3R5bGVzLmNhbGwodGhpcywgY29udGV4dClcbiAgICAgIH1cbiAgICAgIC8vIHJlZ2lzdGVyIGNvbXBvbmVudCBtb2R1bGUgaWRlbnRpZmllciBmb3IgYXN5bmMgY2h1bmsgaW5mZXJyZW5jZVxuICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMpIHtcbiAgICAgICAgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKG1vZHVsZUlkZW50aWZpZXIpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVzZWQgYnkgc3NyIGluIGNhc2UgY29tcG9uZW50IGlzIGNhY2hlZCBhbmQgYmVmb3JlQ3JlYXRlXG4gICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWRcbiAgICBvcHRpb25zLl9zc3JSZWdpc3RlciA9IGhvb2tcbiAgfSBlbHNlIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICBob29rID0gc2hhZG93TW9kZVxuICAgICAgPyBmdW5jdGlvbiAoKSB7IGluamVjdFN0eWxlcy5jYWxsKHRoaXMsIHRoaXMuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdCkgfVxuICAgICAgOiBpbmplY3RTdHlsZXNcbiAgfVxuXG4gIGlmIChob29rKSB7XG4gICAgaWYgKG9wdGlvbnMuZnVuY3Rpb25hbCkge1xuICAgICAgLy8gZm9yIHRlbXBsYXRlLW9ubHkgaG90LXJlbG9hZCBiZWNhdXNlIGluIHRoYXQgY2FzZSB0aGUgcmVuZGVyIGZuIGRvZXNuJ3RcbiAgICAgIC8vIGdvIHRocm91Z2ggdGhlIG5vcm1hbGl6ZXJcbiAgICAgIG9wdGlvbnMuX2luamVjdFN0eWxlcyA9IGhvb2tcbiAgICAgIC8vIHJlZ2lzdGVyIGZvciBmdW5jdGlvYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlclxuICAgICAgb3B0aW9ucy5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXJXaXRoU3R5bGVJbmplY3Rpb24gKGgsIGNvbnRleHQpIHtcbiAgICAgICAgaG9vay5jYWxsKGNvbnRleHQpXG4gICAgICAgIHJldHVybiBvcmlnaW5hbFJlbmRlcihoLCBjb250ZXh0KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiBhcyBiZWZvcmVDcmVhdGUgaG9va1xuICAgICAgdmFyIGV4aXN0aW5nID0gb3B0aW9ucy5iZWZvcmVDcmVhdGVcbiAgICAgIG9wdGlvbnMuYmVmb3JlQ3JlYXRlID0gZXhpc3RpbmdcbiAgICAgICAgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGhvb2spXG4gICAgICAgIDogW2hvb2tdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBleHBvcnRzOiBzY3JpcHRFeHBvcnRzLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfVxufVxuIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2RpdicsW19jKCdsYWJlbCcsW19jKCdzZWxlY3QnLHtkaXJlY3RpdmVzOlt7bmFtZTpcIm1vZGVsXCIscmF3TmFtZTpcInYtbW9kZWxcIix2YWx1ZTooX3ZtLnNlbGVjdGVkKSxleHByZXNzaW9uOlwic2VsZWN0ZWRcIn1dLG9uOntcImNoYW5nZVwiOmZ1bmN0aW9uKCRldmVudCl7dmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJGV2ZW50LnRhcmdldC5vcHRpb25zLGZ1bmN0aW9uKG8pe3JldHVybiBvLnNlbGVjdGVkfSkubWFwKGZ1bmN0aW9uKG8pe3ZhciB2YWwgPSBcIl92YWx1ZVwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7cmV0dXJuIHZhbH0pOyBfdm0uc2VsZWN0ZWQ9JGV2ZW50LnRhcmdldC5tdWx0aXBsZSA/ICQkc2VsZWN0ZWRWYWwgOiAkJHNlbGVjdGVkVmFsWzBdfX19LFtfYygnb3B0aW9uJyx7YXR0cnM6e1wiZGlzYWJsZWRcIjpcIlwiLFwidmFsdWVcIjpcIlwifX0sW192bS5fdihcIlBsZWFzZSBzZWxlY3Qgb25lXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnb3B0aW9uJyx7YXR0cnM6e1widmFsdWVcIjpcImNlbHNpdXMta2VsdmluXCJ9fSxbX3ZtLl92KFwiQ2Vsc2l1cyAtIEtlbHZpblwiKV0pLF92bS5fdihcIiBcIiksX2MoJ29wdGlvbicse2F0dHJzOntcInZhbHVlXCI6XCJrZWx2aW4tY2Vsc2l1c1wifX0sW192bS5fdihcIktlbHZpbiAtIENlbHNpdXNcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdvcHRpb24nLHthdHRyczp7XCJ2YWx1ZVwiOlwiY2Vsc2l1cy1mYWhyZW5oZWl0XCJ9fSxbX3ZtLl92KFwiQ2Vsc2l1cyAtIEZhaHJlbmhlaXRcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdvcHRpb24nLHthdHRyczp7XCJ2YWx1ZVwiOlwiZmFocmVuaGVpdC1jZWxzaXVzXCJ9fSxbX3ZtLl92KFwiRmFocmVuaGVpdCAtIENlbHNpdXNcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdvcHRpb24nLHthdHRyczp7XCJ2YWx1ZVwiOlwia2lsb2dyYW0tcG91bmRcIn19LFtfdm0uX3YoXCJLaWxvZ3JhbSAtIFBvdW5kXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnb3B0aW9uJyx7YXR0cnM6e1widmFsdWVcIjpcInBvdW5kLWtpbG9ncmFtXCJ9fSxbX3ZtLl92KFwiUG91bmQgLSBLaWxvZ3JhbVwiKV0pLF92bS5fdihcIiBcIiksX2MoJ29wdGlvbicse2F0dHJzOntcInZhbHVlXCI6XCJtaWxlLWtpbG9tZXRlclwifX0sW192bS5fdihcIk1pbGUgLSBLaWxvbWV0ZXJcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdvcHRpb24nLHthdHRyczp7XCJ2YWx1ZVwiOlwia2lsb21ldGVyLW1pbGVcIn19LFtfdm0uX3YoXCJLaWxvbWV0ZXIgLSBNaWxlXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnb3B0aW9uJyx7YXR0cnM6e1widmFsdWVcIjpcImluY2gtY2VudGltZXRlclwifX0sW192bS5fdihcIkluY2hlcyAtIENlbnRpbWV0ZXJzXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnb3B0aW9uJyx7YXR0cnM6e1widmFsdWVcIjpcImNlbnRpbWV0ZXItaW5jaFwifX0sW192bS5fdihcIkNlbnRpbWV0ZXJzIC0gSW5jaGVzXCIpXSldKV0pLF92bS5fdihcIiBcIiksX2MoJ3NwYW4nLFtfdm0uX3YoXCIgOiBcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdpbnB1dCcse2RpcmVjdGl2ZXM6W3tuYW1lOlwibW9kZWxcIixyYXdOYW1lOlwidi1tb2RlbFwiLHZhbHVlOihfdm0udmFsdWUpLGV4cHJlc3Npb246XCJ2YWx1ZVwifV0sYXR0cnM6e1wicGxhY2Vob2xkZXJcIjpcInZhbHVlIHRvIGNvbnZlcnRcIn0sZG9tUHJvcHM6e1widmFsdWVcIjooX3ZtLnZhbHVlKX0sb246e1wiaW5wdXRcIjpmdW5jdGlvbigkZXZlbnQpe2lmKCRldmVudC50YXJnZXQuY29tcG9zaW5nKXsgcmV0dXJuOyB9X3ZtLnZhbHVlPSRldmVudC50YXJnZXQudmFsdWV9fX0pLF92bS5fdihcIiBcIiksX2MoJ2J1dHRvbicse29uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0uYW5zd2VyID0gX3ZtLmNvbnZlcnQoKX19fSxbX3ZtLl92KFwiQ29udmVydFwiKV0pLF92bS5fdihcIiBcIiksX2MoJ3AnLFtfdm0uX3YoXCJDb252ZXJzaW9uIGlzOiBcIitfdm0uX3MoX3ZtLmFuc3dlcikpXSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBheGlvcywge0F4aW9zUmVzcG9uc2V9IGZyb20gJ2F4aW9zJ1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcblxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWxlY3RlZDogJycsXG4gICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICBhbnN3ZXI6ICcnXG5cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgY29udmVydCgpOiB2b2lkIHtcbiAgICAgICAgICBsZXQgYTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPHN0cmluZz4+IDtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbG9jYWxob3N0OjgwODAvY29udmVydC8nKyB0aGlzLnNlbGVjdGVkICsgJy8nICsgdGhpcy52YWx1ZSApO1xuICAgICAgICAgIGEgPSBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb252ZXJ0LycrIHRoaXMuc2VsZWN0ZWQgKyAnLycgKyB0aGlzLnZhbHVlIClcblxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChyZXNwb25zZSA9PiBjb25zb2xlLmVycm9yKFwiQ29udmVyc2lvbiBmYWlsZWQ6IFwiLCByZXNwb25zZSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBhLnRoZW4ocyA9PiB0aGlzLnNldEFuc3dlcihzKSlcbiAgICAgICAgICAgICAgLmNhdGNoKHIgPT4gY29uc29sZS5lcnJvcihyKSlcbiAgICAgIH0sXG4gICAgICBzZXRBbnN3ZXIoYXN3OiBBeGlvc1Jlc3BvbnNlPHN0cmluZz4pOnZvaWR7XG4gICAgICAgICAgdGhpcy5hbnN3ZXIgPSBhc3cuZGF0YTtcbiAgICAgIH1cbiAgICB9LFxufSlcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcbmltcG9ydCB2dWV0aWZ5IGZyb20gJy4vcGx1Z2lucy92dWV0aWZ5J1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IENvbnZlcnNpb24gZnJvbSAnLi9jb21wb25lbnRzL2NvbnZlcnNpb24udnVlJ1xuXG5WdWUudXNlKHZ1ZXRpZnkpO1xuY29uc3QgdiA9IG5ldyBWdWUoe1xuICAgZWw6ICcjYXBwJyxcbiAgIHZ1ZXRpZnksXG4gICB0ZW1wbGF0ZTogYFxuICAgPGRpdj5cbiAgICA8Y29udmVyc2lvbj48L2NvbnZlcnNpb24+XG4gICA8L2Rpdj5cbiAgIGAsXG4gICBjb21wb25lbnRzOiB7XG4gICAgICBDb252ZXJzaW9uLFxuICAgfSxcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==